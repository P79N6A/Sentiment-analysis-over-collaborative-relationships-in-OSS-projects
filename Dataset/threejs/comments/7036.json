{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"CONTRIBUTOR","body":"Yes a focal point is important.\nIt depends on many factors ranging from subject mater and desired focal point to screen size and distance to eye separation and lens distortion.\nhttp:\/\/doc-ok.org\/?p=77\nAlso links to oculus video explaining the complexities and reality of the precision requirements of small close screens.\nI believe the cameras should converge on the focal length as it is pulled for each shot. So like eye separation should be calculated in real time for each viewer so to should there focal point be tracked and images generated for the viewers changing perspective. Ideally film uses focus and subject to direct you atention and the stereo cameras are converging there too.\nOn big screens for audiences you want the images to align on the single screen more.\n","created_at":"2015-08-23T08:51:48.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-133805258","id":133805258,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzMzgwNTI1OA==","updated_at":"2015-08-23T08:51:48.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/133805258","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":1,"author_association":"CONTRIBUTOR","body":"Definitely interesting! Please go on, and thanks for sharing the link.\n\nThe amount to skew the frusta at the clipping planes, as required for the projection matrices, can be determined as follows:\n\n![skewed_stereo_frusta](https:\/\/cloud.githubusercontent.com\/assets\/3916357\/9428153\/ad349abc-49a0-11e5-955b-65b404566372.png)\n\nParallel frusta (shown dotted blue) have the eye distance at any point. Moving them toward each other by half of the eye distance makes the images converge.\nDoing so at the desired focal distance we can easily derive the slope of the skew, which allows us to determine the amount to move at any distance.\n\n`THREE.PerspectiveCamera` already allows to skew the frustum for the purpose of multi-monitor rendering. The docs of the legacy OpenGL functions [glFrustum](https:\/\/www.opengl.org\/sdk\/docs\/man2\/xhtml\/glFrustum.xml) and [gluPerpective](https:\/\/www.opengl.org\/sdk\/docs\/man2\/xhtml\/gluPerspective.xml) contain useful information on how to calculate projection matrices.\n","created_at":"2015-08-23T12:34:53.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-133826533","id":133826533,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzMzgyNjUzMw==","updated_at":"2015-08-23T12:35:22.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/133826533","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":2,"author_association":"CONTRIBUTOR","body":"I forgot to mention the guidelines for the forum are bugs and feature requests only.  This kind of thing should be asked on stack overflow. \n","created_at":"2015-08-23T19:05:21.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-133898718","id":133898718,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzMzg5ODcxOA==","updated_at":"2015-08-23T19:05:21.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/133898718","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":3,"author_association":"CONTRIBUTOR","body":"> I understand the current VREffect doesn't do it\n\nNo. Doesn't look that way.\n\n@MasterJames OP was making a feature request or maybe even proposing a contribution...\n","created_at":"2015-08-23T19:50:34.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-133909964","id":133909964,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzMzkwOTk2NA==","updated_at":"2015-08-23T19:50:34.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/133909964","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":4,"author_association":"NONE","body":"Thanks for the explanations and links!\nI will do some tests with `VREffect` to see how it can be done and how it affects the experience. I will report back here.\nI understand _off-axis projection with skewed frusta_ could be valuable for stereoscopic rendering, so I would suggest to keep this ticket for tracking research and\/or implementation. Wdyt, should I change the title?\n","created_at":"2015-08-23T21:04:49.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-133937700","id":133937700,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzMzkzNzcwMA==","updated_at":"2015-08-23T21:04:49.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/133937700","user":{"following_url":"https:\/\/api.github.com\/users\/njam\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/njam\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/360800?v=4","url":"https:\/\/api.github.com\/users\/njam","gists_url":"https:\/\/api.github.com\/users\/njam\/gists{\/gist_id}","html_url":"https:\/\/github.com\/njam","subscriptions_url":"https:\/\/api.github.com\/users\/njam\/subscriptions","node_id":"MDQ6VXNlcjM2MDgwMA==","repos_url":"https:\/\/api.github.com\/users\/njam\/repos","received_events_url":"https:\/\/api.github.com\/users\/njam\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/njam\/starred{\/owner}{\/repo}","site_admin":false,"login":"njam","type":"User","id":360800,"followers_url":"https:\/\/api.github.com\/users\/njam\/followers","organizations_url":"https:\/\/api.github.com\/users\/njam\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"@njam Yes, you can rephrase your title if you want so it sounds more like a suggestion.\n","created_at":"2015-08-23T21:52:00.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-133942722","id":133942722,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzMzk0MjcyMg==","updated_at":"2015-08-23T21:52:10.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/133942722","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":6,"author_association":"CONTRIBUTOR","body":"@njam How about you just implement skewed frusta in `VREffect,  send a pull request and we close the ticket? ;-) As said, it shouldn't really be too difficult...\n","created_at":"2015-08-23T21:56:32.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-133943434","id":133943434,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzMzk0MzQzNA==","updated_at":"2015-08-23T21:56:32.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/133943434","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":7,"author_association":"NONE","body":"Ok I added some code!\nIt's based on the following idea:\n<img src=\"https:\/\/cloud.githubusercontent.com\/assets\/360800\/9474493\/4b7f4232-4b61-11e5-807d-c95be9ee0ddd.jpg\" height=\"400\">\n\nSo the frustum angle is adjusted like this:\n\n```\nangleNew = arctan( (f * tan(angle) - eyeTranslation) \/ f )\n```\n\nI tested it briefly with a VR goggle and it seems to work fine.\nWdyt, does it make sense?\n","created_at":"2015-08-25T17:44:39.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-134682921","id":134682921,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNDY4MjkyMQ==","updated_at":"2015-08-25T17:44:39.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/134682921","user":{"following_url":"https:\/\/api.github.com\/users\/njam\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/njam\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/360800?v=4","url":"https:\/\/api.github.com\/users\/njam","gists_url":"https:\/\/api.github.com\/users\/njam\/gists{\/gist_id}","html_url":"https:\/\/github.com\/njam","subscriptions_url":"https:\/\/api.github.com\/users\/njam\/subscriptions","node_id":"MDQ6VXNlcjM2MDgwMA==","repos_url":"https:\/\/api.github.com\/users\/njam\/repos","received_events_url":"https:\/\/api.github.com\/users\/njam\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/njam\/starred{\/owner}{\/repo}","site_admin":false,"login":"njam","type":"User","id":360800,"followers_url":"https:\/\/api.github.com\/users\/njam\/followers","organizations_url":"https:\/\/api.github.com\/users\/njam\/orgs"}},{"index":8,"author_association":"NONE","body":"...I have some concerns that changing the left and right angles of the FOV makes this a \"toe in\" projection. I.e. that the frusta are in fact not asymmetric.\nBut I don't understand `fovPortToProjection()` well enough. Who does?\n","created_at":"2015-08-25T21:10:35.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-134742947","id":134742947,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNDc0Mjk0Nw==","updated_at":"2015-08-25T21:10:35.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/134742947","user":{"following_url":"https:\/\/api.github.com\/users\/njam\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/njam\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/360800?v=4","url":"https:\/\/api.github.com\/users\/njam","gists_url":"https:\/\/api.github.com\/users\/njam\/gists{\/gist_id}","html_url":"https:\/\/github.com\/njam","subscriptions_url":"https:\/\/api.github.com\/users\/njam\/subscriptions","node_id":"MDQ6VXNlcjM2MDgwMA==","repos_url":"https:\/\/api.github.com\/users\/njam\/repos","received_events_url":"https:\/\/api.github.com\/users\/njam\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/njam\/starred{\/owner}{\/repo}","site_admin":false,"login":"njam","type":"User","id":360800,"followers_url":"https:\/\/api.github.com\/users\/njam\/followers","organizations_url":"https:\/\/api.github.com\/users\/njam\/orgs"}},{"index":9,"author_association":"CONTRIBUTOR","body":"> I have some concerns that changing the left and right angles of the FOV makes this a \"toe in\" projection. I.e. that the frusta are in fact not asymmetric.\n\nIt appears to me you actually got it right. Look at `fovToNDCScaleOffset`and `fovPortToProjection` and compare the resulting matrix to the one produced by [glFrustum](https:\/\/www.opengl.org\/sdk\/docs\/man2\/xhtml\/glFrustum.xml):\n\nThe discrepancy we see is because we use slopes (as produced by `tan`) instead of distances in respect to the near plane as those `left` and `right` parameters of `glFrustum`, but the resulting frustum actually gets skewed. It's a little hard to decipher and the call to `transpose()` makes it worse IMO, turning what reads as columns into rows...\n\nI wonder whether it makes sense to also nullify the translation along the Y-axis, this way making sure the two images really match in the focal plane.\n","created_at":"2015-08-25T22:46:55.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-134763042","id":134763042,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNDc2MzA0Mg==","updated_at":"2015-08-25T22:46:55.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/134763042","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":10,"author_association":"CONTRIBUTOR","body":"Initially I wondered if alpha prime was there for the device's lens specs as depicted in the later half of this video, (which was more deeply hidden within the link I posted above relating to Oculus Rift).\nMaybe it's not needed?\nhttp:\/\/www.youtube.com\/watch?v=lsKuGUYXHa4\n","created_at":"2015-08-27T07:58:02.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-135329865","id":135329865,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNTMyOTg2NQ==","updated_at":"2015-08-27T07:58:02.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/135329865","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":11,"author_association":"CONTRIBUTOR","body":"> Initially I wondered if alpha prime was there for the device's lens specs as depicted in the later half of this video, (which was more deeply hidden within the link I posted above relating to Oculus Rift).\n\nThe WebVR spec does not provide lens information and tells us to render to a rectangular region. I guess lens distortion is dealt with at a lower level. However, we should probably call the method [`HMDVRDevice.setFieldOfView`](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/HMDVRDevice\/setFieldOfView) to feed the information about the modified frusta back.\n\nSome devices may already give us focused frusta, and in this case the focal distance set by the proposed code will be off (sorry, I didn't look close enough). @njam Could you provide the contents of the [`VRFieldOfView`](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/VRFieldOfView) settings recommended by your device?\n\nIt seems quite useful to allow the client to get \/ set the focal distance, for rendering 2D HUDs \/ scene-dependent enhancement of the 3D experience. However, a focus at infinity clearly does not make any sense and just seems a recipe for a poor experience.\n\nSo what we should do is:\n- Determine the default focus recommended by the device.\n- Use it, unless overridden explicitly by the client or by ourselves.\n- Override `Infinity` with a better default in case there are misbehaved devices.\n- Clamp user settings to the min \/ max range reported by the device.\n- Ensure the client gets the actual focal distance (after clamping). \n\nThe code structure could be something like:\n\n``` javascript\n\nvar userFocalDistance = 0; \/\/ means \"not set\"\nvar focalDistance = calculateFocus( device, userFocalDistance );\n\nthis.setFocalDistance = function( value ) {\n\n    userFocalDistance = value;\n    focalDistance = calculateFocus( device, userFocalDistance );\n\n}; \n\nthis.getFocalDistance = function() {\n\n    return focalDistance;\n\n};\n\n\/\/ If there are misbehaved devices:\nif ( focalDistance === Infinity ) {\n\n    var RelativeFallbackFocus = 0.25; \/\/ 0 (near) ... 1 (far)\n    this.setFocalDistance( near + ( far - near ) * RelativeFallbackFocus );\n\n}\n```\n","created_at":"2015-08-27T13:04:25.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-135418196","id":135418196,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNTQxODE5Ng==","updated_at":"2015-08-27T13:04:25.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/135418196","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":12,"author_association":"NONE","body":"Very interesting! I didn't know that WebVR provides a way to _set_ the FOV.\nYour proposition how to handle changes of the focal distance makes sense to me.\n\nI'm using the experimental Chrome WebVR builds, so there's no \"real\" FOV-data available. This Chrome build provides an HMD device called \"Mockulus Rift\" with this FOV:\n\n```\ndownDegrees: 53.09438705444336\nleftDegrees: 46.63209533691406\nrightDegrees: 47.52769470214844\nupDegrees: 53.09438705444336\n```\n\n([full left eye params](https:\/\/cloud.githubusercontent.com\/assets\/360800\/9528378\/7492b8e0-4cf4-11e5-870b-6c1a6a1aed96.png))\n\nThis means the focal distance is 1.90 meters, assuming [my math](https:\/\/www.google.com\/search?q=%28+sin%2890deg+-+46.63209533691406deg%29+*+sin%2890deg-47.52769470214844deg%29+*+%280.03200000151991844*2%29+%29+%2F+cos%2846.63209533691406deg+%2B+90deg+-+47.52769470214844deg%29) is correct.\n\nCalculating the focal distance from the provided frustum angles might be a bit tricky. I'm wondering whether and how we should handle the case that they are not symmetric (i.e. right eye's `leftDegrees` is different than left eye's `rightDegrees`)? Maybe log a warning?\n\nOn a side note the [webvr-polyfill](https:\/\/github.com\/borismus\/webvr-polyfill\/blob\/master\/src\/cardboard-hmd-vr-device.js) uses `leftDegrees === rightDegrees`. So your suggestion to catch `focalDistance === Infinity` and adjust the focal distance in that case seems reasonable. I'm wondering if it's good to base it on `near` and `far` though, because I could imagine in many cases `far` is just an arbitrary high number. Maybe we should just set it to `2`?\n\n> I wonder whether it makes sense to also nullify the translation along the Y-axis, this way making sure the two images really match in the focal plane.\n\nYou mean the y-translation of the eyes? I've never seen it not being zero, what does it mean?\n","created_at":"2015-08-27T18:06:19.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-135509274","id":135509274,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNTUwOTI3NA==","updated_at":"2015-08-27T18:06:19.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/135509274","user":{"following_url":"https:\/\/api.github.com\/users\/njam\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/njam\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/360800?v=4","url":"https:\/\/api.github.com\/users\/njam","gists_url":"https:\/\/api.github.com\/users\/njam\/gists{\/gist_id}","html_url":"https:\/\/github.com\/njam","subscriptions_url":"https:\/\/api.github.com\/users\/njam\/subscriptions","node_id":"MDQ6VXNlcjM2MDgwMA==","repos_url":"https:\/\/api.github.com\/users\/njam\/repos","received_events_url":"https:\/\/api.github.com\/users\/njam\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/njam\/starred{\/owner}{\/repo}","site_admin":false,"login":"njam","type":"User","id":360800,"followers_url":"https:\/\/api.github.com\/users\/njam\/followers","organizations_url":"https:\/\/api.github.com\/users\/njam\/orgs"}},{"index":13,"author_association":"CONTRIBUTOR","body":"> Calculating the focal distance from the provided frustum angles might be a bit tricky. \n\nTo make things worse: We should use world space distances when getting \/ setting the focal distance.\n\n> I'm wondering whether and how we should handle the case that they are not symmetric (i.e. right eye's leftDegrees is different than left eye's rightDegrees)? Maybe log a warning?\n\nI simply wouldn't bother, guessing the probability to meet a device that recommends asymmetric eyes equals zero.\n\n> I'm wondering if it's good to base it on near and far though, because I could imagine in many cases far is just an arbitrary high number. Maybe we should just set it to 2?\n\nSetting clipping planes to arbitrary distances is (sadly common but) very bad practise, and likely to cause depth buffering artifacts.  There's more precision for nearby depth values because of perspective division, but some platforms have lower depth buffers precision.\n\nThe default of two meters could have been the reason why you perceived a focus at infinite distance. Are you sure your scene was at least two _meters_ deep? ;-)\n\n> This means the focal distance is 1.90 meters, assuming my math is correct.\n\nSeems so. I didn't try to make sense of it, but I got the same result taking a different route (pretty much the direct inversion of your code):\n\n```\nskewSlope = abs( tan(leftAngle) * 0.5 - tan(rightAngle) * 0.5 );\nfocalDistance = eyeTranslation \/ skewSlope; \/\/ ~1.89852\n\nfovXSkewed = leftAngle + rightAngle; \/\/ ~94.1598 deg\nfovXParallel = 2 * atan( tan(leftAngle) * 0.5 + tan(rightAngle) * 0.5 ); \/\/ ~94.1673 deg\n```\n","created_at":"2015-08-27T20:24:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-135544281","id":135544281,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNTU0NDI4MQ==","updated_at":"2015-08-27T20:32:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/135544281","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":14,"author_association":"OWNER","body":"Very interesting.\n\nI think we should also consider moving all this into a new `StereoCamera` class in `\/src\/cameras` so we can reuse it. At the moment [`AnaglyphEffect`, `ParallaxBarrierEffect`, `StereoEffect` and `VREffect`](https:\/\/github.com\/mrdoob\/three.js\/tree\/master\/examples\/js\/effects) each have a different implementation of the stereo camera code.\n","created_at":"2015-08-29T04:44:29.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-135940933","id":135940933,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNTk0MDkzMw==","updated_at":"2015-08-29T05:14:33.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/135940933","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":15,"author_association":"CONTRIBUTOR","body":"Not so sure for _all_ of this stuff: I think it makes sense to keep the \"lobotomic trigonometry tango\" in `VREffect`, as its very much driven by the WebVR API. A `StereoCamera` will end up much easier to understand when it just translates the (near) projection planes, instead of having to mess with split viewing angles (in degrees), `tan` and `atan` all over the place. It would ideally be a factorization and brush-up of the Anaglyph \/ ParallaxBarrier code, providing improved means of control. These classes pretty much do what I outlined in my first post in this thread.\n\nInterestingly, `StereoEffect`, despite of doing some calculations based on `.focalLength`, uses the same projection matrix for both cameras and just translates their positions, which doesn't focus at all. Is it a bug and can we change it to behave just like the others?\n\nOK, let's build a `StereoCamera`:\n\nWhen rendering to a 2D display, we usually don't care too much about realistic viewing: In fact, since the viewer focuses on the screen, we often crank up the viewing angle far beyond what would be realistic in case the screen was used as a window into another world. In that case, the viewing angle would depend on the size and the distance of the display and we'd also be concerned about the scale.\n\nNow, with stereo displays we obviously _have to_ care about scale: Our eyes happen to have a physical distance. How does it translate to the units of our virtual world? More precisely, how can we calculate the amount by which to translate the cameras?\n\nLet's assume the kind-of tunnel vision mentioned before can still work to our advantage when using some kind of 3D monitor. Also, the (good, old, \"non-lobotomic\") viewing angle is known to be intuitive enough to be provided by the client. For HMDs, WebVR provides enough information to derive it automatically.\n\nFrom the viewing angle we can get the slope of the frustum width, IOW the frustum width at any distance along the optical axis. With a stereo display, the screen is perceived at the focal distance. Given this distance in virtual units and the physical size of the display, we can determine the scale and thus the eye distance to skew our projection matrices.\n\nThe physical size of the display is easy to come by for monitors and projectors, and we can set a guesstimated default (e.g. unreliable DPI \\* resolution \\* 0.0254 \"\/m) for the monitor case. Although the physical size of the screen inside an HMD can be determined using a screw driver, the lens system can transform the _optical size & position_ of the screen, which is the information we're really interested in, to pretty much anywhere. However, it can again be derived from the information provided by WebVR, given that we get a focused `recommendedFieldOfView` (I consider it a severe bug when there's no focus, and I don't think we should work around it just for the polyfill but instead just file a PR that fixes it):\n\n```\nwidthSlope = tan(leftAngle) + tan(rightAngle);\nwidthAtFocus = widthSlope * initialFocalDistance; \/\/ ~4.08 m\n```\n\nSumming up the properties of `StereoCamera` yields:\n\n| Property | Type | Unit |\n| --- | --- | --- |\n| near | number | virtual length |\n| far | number | virtual length |\n| focus | number | virtual length |\n| aspect | number | - |\n| verticalViewingAngle | number | degrees |\n| opticalDisplayHeight | number | physical length |\n| physicalPositionOfLeftEye | Vector2 | physical length |\n| physicalPositionOfRightEye | Vector2 | physical length |\n\nMakes sense?\n","created_at":"2015-08-30T11:53:20.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-136130813","id":136130813,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNjEzMDgxMw==","updated_at":"2015-08-30T11:53:20.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/136130813","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":16,"author_association":"OWNER","body":"> Makes sense?\n\nYep! So `StereoCamera` would then be used by `AnaglyphEffect`, `ParallaxBarrierEffect` and `StereoEffect` while `VREffect` would use it's own projection matrix code. Correct?\n","created_at":"2015-09-01T22:28:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-136881393","id":136881393,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNjg4MTM5Mw==","updated_at":"2015-09-01T22:28:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/136881393","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":17,"author_association":"CONTRIBUTOR","body":"That's how I would start.\n\nThe idea was to finally allow _all_ of the classes to use a central `StereoCamera` for the matrix code (hence the lengthy feasibility study), so focus steering would be implemented in one central spot. The angle-based calculations required for interfacing with the WebVR API would remain in `VREffect`.\n","created_at":"2015-09-01T22:48:25.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-136884564","id":136884564,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNjg4NDU2NA==","updated_at":"2015-09-01T22:48:25.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/136884564","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":18,"author_association":"OWNER","body":"Sounds good!\n","created_at":"2015-09-01T22:59:18.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-136886803","id":136886803,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNjg4NjgwMw==","updated_at":"2015-09-01T22:59:18.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/136886803","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":19,"author_association":"NONE","body":"Very clever with using `opticalDisplayHeight` to determine the virtual size of the screen!\nI think it makes sense.\n\nWhat will `physicalPositionOfLeftEye` and `physicalPositionOfRightEye` be used for?\n\nBTW here's the data Google is collecting about their Cardboard viewers:\nhttps:\/\/github.com\/google\/wwgc\/blob\/master\/docs\/HELP.md\nI don't understand why they collect \"Screen to lens distance\".\n\nSorry for my sporadic replies, I'm currently travelling. I will be happy to work a bit on this next week or the week after!\n","created_at":"2015-09-02T16:02:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-137144636","id":137144636,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzE0NDYzNg==","updated_at":"2015-09-02T16:02:08.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137144636","user":{"following_url":"https:\/\/api.github.com\/users\/njam\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/njam\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/360800?v=4","url":"https:\/\/api.github.com\/users\/njam","gists_url":"https:\/\/api.github.com\/users\/njam\/gists{\/gist_id}","html_url":"https:\/\/github.com\/njam","subscriptions_url":"https:\/\/api.github.com\/users\/njam\/subscriptions","node_id":"MDQ6VXNlcjM2MDgwMA==","repos_url":"https:\/\/api.github.com\/users\/njam\/repos","received_events_url":"https:\/\/api.github.com\/users\/njam\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/njam\/starred{\/owner}{\/repo}","site_admin":false,"login":"njam","type":"User","id":360800,"followers_url":"https:\/\/api.github.com\/users\/njam\/followers","organizations_url":"https:\/\/api.github.com\/users\/njam\/orgs"}},{"index":20,"author_association":"CONTRIBUTOR","body":"PS: https:\/\/github.com\/mrdoob\/three.js\/pull\/6609  creates the skew that is needed for VR effects and is compatible with the VR skew in 3DS Max, Maya, Mental Ray, etc.\n","created_at":"2015-09-02T17:20:16.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-137177314","id":137177314,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzE3NzMxNA==","updated_at":"2015-09-02T17:20:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137177314","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":21,"author_association":"CONTRIBUTOR","body":"Thanks for filing that PR, @njam .\n\n> PS: #6609 creates the skew that is needed for VR effects and is compatible with the VR skew in 3DS Max, Maya, Mental Ray, etc.\n\nInteresting! What was the motivation for that compatibility? Given the parameters usually depend on device \/ installation, does it make much sense to import them?\n\nI don't think that above use cases can easily be tackled based on these parameters. Although they could be used as the low-level interface for setting up the matrices.\n","created_at":"2015-09-03T02:28:16.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-137303681","id":137303681,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzMwMzY4MQ==","updated_at":"2015-09-03T02:29:45.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137303681","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":22,"author_association":"CONTRIBUTOR","body":"> I don't think that above use cases can easily be tackled based on these parameters. Although they could be used as the low-level interface for setting up the matrices.\n\nIt is mostly the above.  The above formulation is _the_ official formulation for stereoscopic skew based on projection plane offset.  A renderer I wrote for stereoscopic effects (used on Mad Max, Jurassic World, Avengers 2...) used the above matrix formulation for skew for pixel perfect matching with other renderer and tool results (sub-pixel perfect matching is required for compositing different partial results together into the final result you see on screen.)\n\nWe can add more options on top, but this is the base formulation I would recommend.\n\nBTW Clara.io already supports these parameters via Film Size and Film Offset (the same parameters as Maya exposes.)\n","created_at":"2015-09-03T03:58:33.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-137323662","id":137323662,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzMyMzY2Mg==","updated_at":"2015-09-03T03:58:33.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137323662","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":23,"author_association":"CONTRIBUTOR","body":"> I don't think that above use cases can easily be tackled based on these parameters\n\nTo clarify, I was talking about the cases for interactive rendering discussed throughout this thread, such as\n- keep the focus on an object that moves back and forth,\n- render a HUD at the depth where the user won't get headaches, \n- do both of the above in a device independent fashion, as required for HMDs, and\n- allow reasonable defaults for 3D monitors.\n\nThese are anything but straightforward having to mess with \"Film Size\" and \"Film Offset\" directly. \n\nBTW I very much prefer these names over anything that contains \"projectionPlane\", which in fact is a synonym for \"near clipping plane\" with hardware z-buffering and thus rather confusing. Note that I've been avoiding the term \"focal length\" for a similar reason; it's defined as the distance of the projection plane (= near clipping plane) from the focal point (of the projection) thus focalLength `=== near` (the typical code to build a perspective transform derives the size of the near plane from the focal length and the viewing angle).\n\nAlso note that when writing a software renderer, the projection plane can be decoupled from clipping considerations, IOW the projection plane can be any slice of the frustum orthogonal to the optical axis, so the naming is less confusing in this context: \n\nThe projection plane just defines a mathematical frame of reference for the projection: \nWhen raytracing, clipping is pretty much optional: Rays can originate from the focal point and projection occurs from both sides of the plane in this case. \nSoftware rasterizers \/ hybrid renderers are not restricted to a specific range of integers put into a z-buffer. In fact, they rarely use z-buffers at all - segment buffers are much more powerful for high quality rendering.\nIn either case, with these degrees of freedom, envisioning a projection plane somewhere in space and deciding what gets projected onto it become two different things.\n","created_at":"2015-09-03T10:16:24.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-137401285","id":137401285,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzQwMTI4NQ==","updated_at":"2015-09-03T10:17:03.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137401285","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":24,"author_association":"CONTRIBUTOR","body":"> I've been avoiding the term \"focal length\" for a similar reason; it's defined as the distance of the projection plane (= near clipping plane) from the focal point (of the projection) thus focalLength === near \n\nIt isn't that big of an issue, but technically I've never actually seen \"focal length\" be synonymous with near clipping plane, but I guess they could be.  BTW Clara.io implements properly focal length and DOF derived from focal length, F-stop etc.: https:\/\/clara.io\/view\/d328427e-70de-491c-bc1f-8c6bc661b74f )\n\nI guess you can have projectionPlane be the same thing as nearClippingPlane although I haven't seen this, but remember that the formulation in the PR I proposed actually just used projectionPlane so it could calcuation a ratio of projectionOffset to projectionPlane, a result that ends up unit less anyhow (thus it actually doesn't matter where those two are located, whether in front or behind the focal point because the divergence ratio will be the same.)\n","created_at":"2015-09-03T10:52:12.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-137406978","id":137406978,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzQwNjk3OA==","updated_at":"2015-09-03T11:01:37.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137406978","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":25,"author_association":"OWNER","body":"Anyone planning on implementing the `StereoCamera` idea?\n\nAlso, should I merge this PR?\n","created_at":"2015-09-06T21:13:06.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-138125538","id":138125538,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzODEyNTUzOA==","updated_at":"2015-09-06T21:13:06.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/138125538","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":26,"author_association":"CONTRIBUTOR","body":"> Anyone planning on implementing the StereoCamera idea?\n\nOnce the shading system stuff is pushed & merged. That is, unless someone else picks it up first.\n\n> Also, should I merge this PR?\n\nNo - would be breaking. It doesn't consider the device info and puts the adjustments on top (details somewhere above).\n","created_at":"2015-09-06T23:17:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-138135919","id":138135919,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzODEzNTkxOQ==","updated_at":"2015-09-06T23:17:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/138135919","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}},{"index":27,"author_association":"OWNER","body":"> Once the shading system stuff is pushed & merged. \n\nOh? What PR is that?\n","created_at":"2015-09-07T11:18:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-138273618","id":138273618,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDEzODI3MzYxOA==","updated_at":"2015-09-07T11:18:47.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/138273618","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":28,"author_association":"OWNER","body":"@tschw I did a first step on moving the camera code out of the effects. Do you want to refactor it with your proposal?\n","created_at":"2015-12-17T16:45:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-165505846","id":165505846,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDE2NTUwNTg0Ng==","updated_at":"2015-12-17T16:45:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/165505846","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":29,"author_association":"CONTRIBUTOR","body":"I just returned to it and some other unfinished Three.js stuff.\n","created_at":"2015-12-23T11:37:00.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/7036#issuecomment-166869899","id":166869899,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7036","node_id":"MDEyOklzc3VlQ29tbWVudDE2Njg2OTg5OQ==","updated_at":"2015-12-23T11:37:00.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/166869899","user":{"following_url":"https:\/\/api.github.com\/users\/tschw\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/tschw\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3916357?v=4","url":"https:\/\/api.github.com\/users\/tschw","gists_url":"https:\/\/api.github.com\/users\/tschw\/gists{\/gist_id}","html_url":"https:\/\/github.com\/tschw","subscriptions_url":"https:\/\/api.github.com\/users\/tschw\/subscriptions","node_id":"MDQ6VXNlcjM5MTYzNTc=","repos_url":"https:\/\/api.github.com\/users\/tschw\/repos","received_events_url":"https:\/\/api.github.com\/users\/tschw\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/tschw\/starred{\/owner}{\/repo}","site_admin":false,"login":"tschw","type":"User","id":3916357,"followers_url":"https:\/\/api.github.com\/users\/tschw\/followers","organizations_url":"https:\/\/api.github.com\/users\/tschw\/orgs"}}]}