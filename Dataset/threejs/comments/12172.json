{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Any chances you show the problem with a new fiddle? \ud83d\ude07 ","created_at":"2017-09-11T20:02:36.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-328642374","id":328642374,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyODY0MjM3NA==","updated_at":"2017-09-11T20:02:46.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/328642374","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":1,"author_association":"NONE","body":"https:\/\/jsfiddle.net\/jhd5mqvp\/\r\n\r\nCamera's far plane is set to 1300. \r\nAnd for some reason it (frustum?) clips background box.\r\nTry changing far plane:\r\n On 1600 for example it clips background entirely. \r\n On 600 for example does not clip.\r\n\r\n","created_at":"2017-09-11T20:43:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-328652733","id":328652733,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyODY1MjczMw==","updated_at":"2017-09-11T20:48:30.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/328652733","user":{"following_url":"https:\/\/api.github.com\/users\/croraf\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/croraf\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/19698636?v=4","url":"https:\/\/api.github.com\/users\/croraf","gists_url":"https:\/\/api.github.com\/users\/croraf\/gists{\/gist_id}","html_url":"https:\/\/github.com\/croraf","subscriptions_url":"https:\/\/api.github.com\/users\/croraf\/subscriptions","node_id":"MDQ6VXNlcjE5Njk4NjM2","repos_url":"https:\/\/api.github.com\/users\/croraf\/repos","received_events_url":"https:\/\/api.github.com\/users\/croraf\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/croraf\/starred{\/owner}{\/repo}","site_admin":false,"login":"croraf","type":"User","id":19698636,"followers_url":"https:\/\/api.github.com\/users\/croraf\/followers","organizations_url":"https:\/\/api.github.com\/users\/croraf\/orgs"}},{"index":2,"author_association":"NONE","body":"Strangely, I opened the fiddle on my Android mobile Chrome and I see no issue. Do you see the culling on Windows desktop Chrome?","created_at":"2017-09-12T08:07:22.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-328775214","id":328775214,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyODc3NTIxNA==","updated_at":"2017-09-12T08:07:22.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/328775214","user":{"following_url":"https:\/\/api.github.com\/users\/croraf\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/croraf\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/19698636?v=4","url":"https:\/\/api.github.com\/users\/croraf","gists_url":"https:\/\/api.github.com\/users\/croraf\/gists{\/gist_id}","html_url":"https:\/\/github.com\/croraf","subscriptions_url":"https:\/\/api.github.com\/users\/croraf\/subscriptions","node_id":"MDQ6VXNlcjE5Njk4NjM2","repos_url":"https:\/\/api.github.com\/users\/croraf\/repos","received_events_url":"https:\/\/api.github.com\/users\/croraf\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/croraf\/starred{\/owner}{\/repo}","site_admin":false,"login":"croraf","type":"User","id":19698636,"followers_url":"https:\/\/api.github.com\/users\/croraf\/followers","organizations_url":"https:\/\/api.github.com\/users\/croraf\/orgs"}},{"index":3,"author_association":"COLLABORATOR","body":"When i use Chrome (61.0.3163.79) or FF (55.0.3) on my iMac i see no errors.","created_at":"2017-09-12T08:15:01.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-328777241","id":328777241,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyODc3NzI0MQ==","updated_at":"2017-09-12T08:15:01.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/328777241","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":4,"author_association":"NONE","body":"60.0.3112.101 (Official Build) (32-bit) and Version 61.0.3163.79 (Official Build) (32-bit) Chrome, \r\nWindows 7 (32bit). \r\nIn this fiddle it cuts the background like this:\r\n![image](https:\/\/user-images.githubusercontent.com\/19698636\/30328946-3093701a-97d1-11e7-96e4-a41779ade968.png)\r\n\r\nAnd when I set camera far plane to 600 it does not cut.\r\n![image](https:\/\/user-images.githubusercontent.com\/19698636\/30329182-dcaff79c-97d1-11e7-934d-ec3015491be0.png)\r\n\r\nIn IE 11 and FF 52 and FF 55, Windows 32bit, I don't see the issue.","created_at":"2017-09-12T13:45:07.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-328857779","id":328857779,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyODg1Nzc3OQ==","updated_at":"2017-09-12T14:04:59.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/328857779","user":{"following_url":"https:\/\/api.github.com\/users\/croraf\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/croraf\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/19698636?v=4","url":"https:\/\/api.github.com\/users\/croraf","gists_url":"https:\/\/api.github.com\/users\/croraf\/gists{\/gist_id}","html_url":"https:\/\/github.com\/croraf","subscriptions_url":"https:\/\/api.github.com\/users\/croraf\/subscriptions","node_id":"MDQ6VXNlcjE5Njk4NjM2","repos_url":"https:\/\/api.github.com\/users\/croraf\/repos","received_events_url":"https:\/\/api.github.com\/users\/croraf\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/croraf\/starred{\/owner}{\/repo}","site_admin":false,"login":"croraf","type":"User","id":19698636,"followers_url":"https:\/\/api.github.com\/users\/croraf\/followers","organizations_url":"https:\/\/api.github.com\/users\/croraf\/orgs"}},{"index":5,"author_association":"OWNER","body":"\/cc @kenrussell","created_at":"2017-09-13T01:05:07.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329027338","id":329027338,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTAyNzMzOA==","updated_at":"2017-09-13T01:05:07.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329027338","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":6,"author_association":"OWNER","body":"One thing to note is that backgrounds now rely on `polygonOffset` and `polygonOffsetUnits`. Maybe it's not well supported?\r\n\r\nhttps:\/\/github.com\/mrdoob\/three.js\/blob\/dev\/src\/renderers\/webgl\/WebGLBackground.js#L65-L74\r\n","created_at":"2017-09-13T01:50:45.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329033546","id":329033546,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTAzMzU0Ng==","updated_at":"2017-09-13T01:50:45.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329033546","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":7,"author_association":"NONE","body":"The fiddle works fine on my Windows workstation with AMD GPU, both with Chrome Stable and Canary, and in Stable, also with --use-angle=d3d9 . My about:gpu is here: https:\/\/pastebin.com\/5Q2cMpxn . Please provide it from a machine which reproduces the problem. Thanks.\r\n\r\npolygonOffset is only lightly tested in the WebGL conformance tests, but it's ancient functionality, so I'm surprised there's a big behavioral difference on some GPUs.\r\n","created_at":"2017-09-13T02:22:43.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329037996","id":329037996,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTAzNzk5Ng==","updated_at":"2017-09-13T02:22:43.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329037996","user":{"following_url":"https:\/\/api.github.com\/users\/kenrussell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/kenrussell\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1149904?v=4","url":"https:\/\/api.github.com\/users\/kenrussell","gists_url":"https:\/\/api.github.com\/users\/kenrussell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/kenrussell","subscriptions_url":"https:\/\/api.github.com\/users\/kenrussell\/subscriptions","node_id":"MDQ6VXNlcjExNDk5MDQ=","repos_url":"https:\/\/api.github.com\/users\/kenrussell\/repos","received_events_url":"https:\/\/api.github.com\/users\/kenrussell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/kenrussell\/starred{\/owner}{\/repo}","site_admin":false,"login":"kenrussell","type":"User","id":1149904,"followers_url":"https:\/\/api.github.com\/users\/kenrussell\/followers","organizations_url":"https:\/\/api.github.com\/users\/kenrussell\/orgs"}},{"index":8,"author_association":"NONE","body":"As I said above, on the same machine (ATI Mobility Radeon HD 5650, Windows 7 32-bit) in IE 11 and FF 52 and FF 55 I don't see the issue.  \r\n\r\nDon't know how to make about:gpu like yours.","created_at":"2017-09-14T07:54:56.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329403860","id":329403860,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTQwMzg2MA==","updated_at":"2017-09-14T07:54:56.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329403860","user":{"following_url":"https:\/\/api.github.com\/users\/croraf\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/croraf\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/19698636?v=4","url":"https:\/\/api.github.com\/users\/croraf","gists_url":"https:\/\/api.github.com\/users\/croraf\/gists{\/gist_id}","html_url":"https:\/\/github.com\/croraf","subscriptions_url":"https:\/\/api.github.com\/users\/croraf\/subscriptions","node_id":"MDQ6VXNlcjE5Njk4NjM2","repos_url":"https:\/\/api.github.com\/users\/croraf\/repos","received_events_url":"https:\/\/api.github.com\/users\/croraf\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/croraf\/starred{\/owner}{\/repo}","site_admin":false,"login":"croraf","type":"User","id":19698636,"followers_url":"https:\/\/api.github.com\/users\/croraf\/followers","organizations_url":"https:\/\/api.github.com\/users\/croraf\/orgs"}},{"index":9,"author_association":"NONE","body":"Please just navigate to about:gpu in a new tab, copy-paste the entire page, and put in a pastebin. Thanks.","created_at":"2017-09-14T08:34:26.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329413246","id":329413246,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTQxMzI0Ng==","updated_at":"2017-09-14T08:34:26.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329413246","user":{"following_url":"https:\/\/api.github.com\/users\/kenrussell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/kenrussell\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1149904?v=4","url":"https:\/\/api.github.com\/users\/kenrussell","gists_url":"https:\/\/api.github.com\/users\/kenrussell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/kenrussell","subscriptions_url":"https:\/\/api.github.com\/users\/kenrussell\/subscriptions","node_id":"MDQ6VXNlcjExNDk5MDQ=","repos_url":"https:\/\/api.github.com\/users\/kenrussell\/repos","received_events_url":"https:\/\/api.github.com\/users\/kenrussell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/kenrussell\/starred{\/owner}{\/repo}","site_admin":false,"login":"kenrussell","type":"User","id":1149904,"followers_url":"https:\/\/api.github.com\/users\/kenrussell\/followers","organizations_url":"https:\/\/api.github.com\/users\/kenrussell\/orgs"}},{"index":10,"author_association":"NONE","body":"https:\/\/pastebin.com\/TeUcupm3 is this enough?","created_at":"2017-09-14T16:03:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329529695","id":329529695,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUyOTY5NQ==","updated_at":"2017-09-14T16:03:47.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329529695","user":{"following_url":"https:\/\/api.github.com\/users\/croraf\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/croraf\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/19698636?v=4","url":"https:\/\/api.github.com\/users\/croraf","gists_url":"https:\/\/api.github.com\/users\/croraf\/gists{\/gist_id}","html_url":"https:\/\/github.com\/croraf","subscriptions_url":"https:\/\/api.github.com\/users\/croraf\/subscriptions","node_id":"MDQ6VXNlcjE5Njk4NjM2","repos_url":"https:\/\/api.github.com\/users\/croraf\/repos","received_events_url":"https:\/\/api.github.com\/users\/croraf\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/croraf\/starred{\/owner}{\/repo}","site_admin":false,"login":"croraf","type":"User","id":19698636,"followers_url":"https:\/\/api.github.com\/users\/croraf\/followers","organizations_url":"https:\/\/api.github.com\/users\/croraf\/orgs"}},{"index":11,"author_association":"NONE","body":"Yes. Your machine is falling back to the SwiftShader software renderer. I can reproduce the behavior with --use-gl=swiftshader. @c0d1f1ed and @sugoi1 work on SwiftShader so perhaps they can help. You could also file a bug on crbug.com\/ at this point, link to the test case, provide your about:gpu info from above, and email me the bug ID and I'll ask them to take a look.","created_at":"2017-09-15T00:52:00.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329646991","id":329646991,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTY0Njk5MQ==","updated_at":"2017-09-15T00:52:00.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329646991","user":{"following_url":"https:\/\/api.github.com\/users\/kenrussell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/kenrussell\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1149904?v=4","url":"https:\/\/api.github.com\/users\/kenrussell","gists_url":"https:\/\/api.github.com\/users\/kenrussell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/kenrussell","subscriptions_url":"https:\/\/api.github.com\/users\/kenrussell\/subscriptions","node_id":"MDQ6VXNlcjExNDk5MDQ=","repos_url":"https:\/\/api.github.com\/users\/kenrussell\/repos","received_events_url":"https:\/\/api.github.com\/users\/kenrussell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/kenrussell\/starred{\/owner}{\/repo}","site_admin":false,"login":"kenrussell","type":"User","id":1149904,"followers_url":"https:\/\/api.github.com\/users\/kenrussell\/followers","organizations_url":"https:\/\/api.github.com\/users\/kenrussell\/orgs"}},{"index":12,"author_association":"NONE","body":"Thanks for reporting this. It looks like in SwiftShader we're not properly clamping the depth values after applying the polygon offset. I'll have a fix shortly.","created_at":"2017-09-15T08:50:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329721913","id":329721913,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTcyMTkxMw==","updated_at":"2017-09-15T08:50:08.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329721913","user":{"following_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1659707?v=4","url":"https:\/\/api.github.com\/users\/c0d1f1ed","gists_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/gists{\/gist_id}","html_url":"https:\/\/github.com\/c0d1f1ed","subscriptions_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/subscriptions","node_id":"MDQ6VXNlcjE2NTk3MDc=","repos_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/repos","received_events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/starred{\/owner}{\/repo}","site_admin":false,"login":"c0d1f1ed","type":"User","id":1659707,"followers_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/followers","organizations_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/orgs"}},{"index":13,"author_association":"NONE","body":"Filed https:\/\/bugs.chromium.org\/p\/swiftshader\/issues\/detail?id=82 to track this on our end.","created_at":"2017-09-15T14:59:51.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329807688","id":329807688,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTgwNzY4OA==","updated_at":"2017-09-15T14:59:51.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329807688","user":{"following_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1659707?v=4","url":"https:\/\/api.github.com\/users\/c0d1f1ed","gists_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/gists{\/gist_id}","html_url":"https:\/\/github.com\/c0d1f1ed","subscriptions_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/subscriptions","node_id":"MDQ6VXNlcjE2NTk3MDc=","repos_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/repos","received_events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/starred{\/owner}{\/repo}","site_admin":false,"login":"c0d1f1ed","type":"User","id":1659707,"followers_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/followers","organizations_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/orgs"}},{"index":14,"author_association":"NONE","body":"Thanks @c0d1f1ed . Do you have any suggestion on how we could write a WebGL conformance test for this?","created_at":"2017-09-15T17:51:16.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-329853072","id":329853072,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg1MzA3Mg==","updated_at":"2017-09-15T17:51:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/329853072","user":{"following_url":"https:\/\/api.github.com\/users\/kenrussell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/kenrussell\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1149904?v=4","url":"https:\/\/api.github.com\/users\/kenrussell","gists_url":"https:\/\/api.github.com\/users\/kenrussell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/kenrussell","subscriptions_url":"https:\/\/api.github.com\/users\/kenrussell\/subscriptions","node_id":"MDQ6VXNlcjExNDk5MDQ=","repos_url":"https:\/\/api.github.com\/users\/kenrussell\/repos","received_events_url":"https:\/\/api.github.com\/users\/kenrussell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/kenrussell\/starred{\/owner}{\/repo}","site_admin":false,"login":"kenrussell","type":"User","id":1149904,"followers_url":"https:\/\/api.github.com\/users\/kenrussell\/followers","organizations_url":"https:\/\/api.github.com\/users\/kenrussell\/orgs"}},{"index":15,"author_association":"NONE","body":"Quick update: despite now passing all of the polygon offset tests in the dEQP test suite, the sample (https:\/\/jsfiddle.net\/jhd5mqvp\/) is rendered without the background with the latest Chrome Canary. Sorry about not having tried verifying the change sooner. I'll look into what's wrong.","created_at":"2017-09-21T20:56:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-331279315","id":331279315,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI3OTMxNQ==","updated_at":"2017-09-21T20:56:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/331279315","user":{"following_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1659707?v=4","url":"https:\/\/api.github.com\/users\/c0d1f1ed","gists_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/gists{\/gist_id}","html_url":"https:\/\/github.com\/c0d1f1ed","subscriptions_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/subscriptions","node_id":"MDQ6VXNlcjE2NTk3MDc=","repos_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/repos","received_events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/starred{\/owner}{\/repo}","site_admin":false,"login":"c0d1f1ed","type":"User","id":1659707,"followers_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/followers","organizations_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/orgs"}},{"index":16,"author_association":"NONE","body":"Finally had another look at this. I noticed that the 'units' parameter passed to polygonOffset() is 13000.0. That's an enormous value. Note that 1.0 is defined by the OpenGL spec as being sufficient to create discernible depth values, so typically that is enough.\r\n\r\n@mrdoob, I don't understand the reasoning behind the code at https:\/\/github.com\/mrdoob\/three.js\/blob\/dev\/src\/renderers\/webgl\/WebGLBackground.js#L65-L74 . The camera's far plane position shouldn't affect the amount of polygon offset you want to apply, since the near and far planes are mapped to logical 0.0 and 1.0 values in the depth buffer, respectively.\r\n\r\nWhich brings me to question why polygonOffset() is used in the first place? If the intention is to use a cube map as the background, why not render it with depth testing and depth writing disabled?\r\n\r\nI suspect that your code might only be working 'accidentally' on (most) GPUs due to either the actual depth resolution that gets selected, or because the drivers clamp the values to something smaller.\r\n\r\n**Edit:** Ok, I think I see what the intent is. You want to push the depth values of the cube background far away so it gets clamped against the far frustum plane. Unfortunately I don't think polygonOffset() can be used reliably for this. The 'units' value is multiplied by a tiny epsilon to offset the depth values, intended to render coplanar primitives just in front or behind one another, without any significant gap. It is highly implementation dependent how large or small this epsilon value is. OpenGL only provides some basic guarantees for the intended use case of creating sufficiently distinguishable depth values to prevent 'z-fighting'.\r\n\r\nAlso note that the offset is added to the depth value after homogeneous division. So a lot of the camera space depth gets mapped close to 1.0. That is why 13000 epsilons, which is typically still a small value, happens to be enough on most GPU drivers to get it to be clamped against 1.0. It may not suffice when a higher depth resolution or a 'complementary' depth buffer is used though.\r\n\r\nA better way to get your depth values to be 1.0 is to just set gl_Position.z to 1.0 at the end of your vertex shader. But I still question if you even need depth test\/write enabled at all.","created_at":"2017-10-05T05:08:27.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-334360772","id":334360772,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM2MDc3Mg==","updated_at":"2017-10-05T18:02:03.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/334360772","user":{"following_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1659707?v=4","url":"https:\/\/api.github.com\/users\/c0d1f1ed","gists_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/gists{\/gist_id}","html_url":"https:\/\/github.com\/c0d1f1ed","subscriptions_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/subscriptions","node_id":"MDQ6VXNlcjE2NTk3MDc=","repos_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/repos","received_events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/starred{\/owner}{\/repo}","site_admin":false,"login":"c0d1f1ed","type":"User","id":1659707,"followers_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/followers","organizations_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/orgs"}},{"index":17,"author_association":"COLLABORATOR","body":"I agree this is likely an abuse of `polygonOffset`, and another solution will have to be found.\r\n\r\nFor context, see the discussion [here](https:\/\/github.com\/mrdoob\/three.js\/commit\/e908eeea116dc67341b849c5036608fdcce3ba58).","created_at":"2017-10-05T18:17:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-334548887","id":334548887,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU0ODg4Nw==","updated_at":"2017-10-05T18:17:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/334548887","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":18,"author_association":"OWNER","body":"@c0d1f1ed \r\n\r\n> A better way to get your depth values to be 1.0 is to just set gl_Position.z to 1.0 at the end of your vertex shader. But I still question if you even need depth test\/write enabled at all.\r\n\r\nWhat I'm trying to do is to render the background the last thing and avoiding painting pixels twice.\r\n\r\n<img width=\"221\" alt=\"screen shot 2017-10-05 at 11 55 16 am\" src=\"https:\/\/user-images.githubusercontent.com\/97088\/31247012-1f39ac12-a9c4-11e7-82b2-bb16caff6343.png\">\r\n\r\nI agree that I'm probably abusing `polygonOffset`. I'll try setting `gl_Position.z` to `1.0`. I think I tried that already though...","created_at":"2017-10-05T18:59:01.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-334560267","id":334560267,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU2MDI2Nw==","updated_at":"2017-10-05T18:59:01.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/334560267","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":19,"author_association":"OWNER","body":"Doing this seems to work... \r\n\r\n```glsl\r\ngl_Position.z = gl_Position.w;\r\n```\r\n\r\n\ud83e\udd14","created_at":"2017-10-05T19:26:59.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-334567531","id":334567531,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU2NzUzMQ==","updated_at":"2017-10-05T19:26:59.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/334567531","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":20,"author_association":"NONE","body":"Looks good to me.","created_at":"2017-10-05T20:22:00.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12172#issuecomment-334581084","id":334581084,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12172","node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU4MTA4NA==","updated_at":"2017-10-05T20:22:00.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/334581084","user":{"following_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1659707?v=4","url":"https:\/\/api.github.com\/users\/c0d1f1ed","gists_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/gists{\/gist_id}","html_url":"https:\/\/github.com\/c0d1f1ed","subscriptions_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/subscriptions","node_id":"MDQ6VXNlcjE2NTk3MDc=","repos_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/repos","received_events_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/starred{\/owner}{\/repo}","site_admin":false,"login":"c0d1f1ed","type":"User","id":1659707,"followers_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/followers","organizations_url":"https:\/\/api.github.com\/users\/c0d1f1ed\/orgs"}}]}