{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"`aoMaps` use the 2nd set of UVs.\r\n```glsl\r\nfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\r\n```\r\nYour geometry has only one set. Add another:\r\n```\r\ngeometry.addAttribute( 'uv2', new THREE.BufferAttribute( geometry.attributes.uv.array, 2 ) );\r\n```\r\nAlso, aoMaps occlude only ambient ( indirect ) light. Your scene has minimal ambient light to occlude. Increase the ambient light to see the occlusion effect.\r\n\r\nAlso, as I have mentioned before, if you are using `MeshStandardMaterial` or `MeshPhysicalMaterial`, it is wise to add an environment map if `metalness` is non-zero.\r\n\r\nThe @cx20 viewer should otherwise be fine.","created_at":"2017-05-02T03:51:52.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11268#issuecomment-298491212","id":298491212,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11268","node_id":"MDEyOklzc3VlQ29tbWVudDI5ODQ5MTIxMg==","updated_at":"2017-05-02T03:51:52.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/298491212","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":1,"author_association":"COLLABORATOR","body":"Thanks @WestLangley! \r\n\r\nHere's a version of the viewer that automatically copies `uv` to `uv2` and includes GUI controls for lighting and environment maps: https:\/\/gltf-viewer-experimental.donmccurdy.com\/\r\n\r\nNotwithstanding, the `aoMap` still appears inverted to me. Two screenshots in the same lighting:\r\n\r\n| original | manually inverted `r` channel |\r\n|-----|-----|\r\n|  ![screen shot 2017-05-01 at 11 07 44 pm](https:\/\/cloud.githubusercontent.com\/assets\/1848368\/25605997\/afb3d0c8-2ec3-11e7-916d-d73012f2dbf2.png)  |  ![screen shot 2017-05-01 at 11 07 59 pm](https:\/\/cloud.githubusercontent.com\/assets\/1848368\/25605995\/addc3682-2ec3-11e7-8c2b-e882bf429b08.png)  |\r\n\r\nThe model is an official glTF 2.0 sample; I'm hoping to identify fixes needed to THREE.GLTF2Loader. Copying UV->UV2 may be one, but there appears to be at least one other problem here.\r\n\r\n***\r\n\r\nEDIT: Here is my [manually modified version of the occlusionRoughnessMetalness map](https:\/\/cloud.githubusercontent.com\/assets\/1848368\/25606085\/67e01666-2ec4-11e7-98af-205f5f1afc06.png).\r\n\r\n***\r\n\r\nEDIT2: A screenshot with only ambient lighting:\r\n\r\n![screen shot 2017-05-01 at 11 34 03 pm](https:\/\/cloud.githubusercontent.com\/assets\/1848368\/25606532\/c33c9834-2ec6-11e7-8cf8-ce39199f749a.png)\r\n","created_at":"2017-05-02T06:16:18.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11268#issuecomment-298506334","id":298506334,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11268","node_id":"MDEyOklzc3VlQ29tbWVudDI5ODUwNjMzNA==","updated_at":"2017-05-02T06:35:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/298506334","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"I've updated my viewer to three.js r85 and the latest GLTF2Loader, and everything looks correct when the second set of UVs is present. This update also resolved some issues with roughness\/metalness maps not being applied correctly (see: https:\/\/github.com\/donmccurdy\/three-gltf-viewer\/issues\/9). I will submit a patch to automatically create the second set of UVs for GLTF2Loader where possible, to support the expected occlusionRoughnessMetallic use cases like this.\r\n\r\nThanks for your help WestLangley!","created_at":"2017-05-08T00:48:53.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11268#issuecomment-299748249","id":299748249,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11268","node_id":"MDEyOklzc3VlQ29tbWVudDI5OTc0ODI0OQ==","updated_at":"2017-05-08T00:48:53.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/299748249","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}}]}