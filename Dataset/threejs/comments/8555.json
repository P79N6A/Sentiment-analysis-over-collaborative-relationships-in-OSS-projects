{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"CONTRIBUTOR","body":"This new FPS.js file is currently designed and demonstrated using the option to pass an object into it to store it's data in. Then when it update()s, it then changes the data in whatever targetObject you want. If not it hides an internal one with the traditional function getters. for fps() and average() which take a precision so they are slightly different, and there's one to get the data object too.\nWhen you update you can suppress the compute (just appends time stamps) and then when you need it, you call the fps() function, which will compute it (average() works similarly).\nAverage is computed in an intelligent way. If you jump from 120 FPS to 1 FPS it looks at less of it's buffer to compute the average from so average is over about 3 seconds regardless of the current frame rate.\nThe fps log array length is adjustable but the default works well in most situations I figure.\n\nI imagine either integrating an event listening system for FPS thresholds to trigger events or functions etc. or maybe with this pass-the-data-object-in design, one could add listeners or watches as needed in there own code. Maybe a subclass that adds events is a better route? Well at least for some options.\n","created_at":"2016-04-07T11:06:06.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206818754","id":206818754,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjgxODc1NA==","updated_at":"2016-04-07T11:08:29.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206818754","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":1,"author_association":"CONTRIBUTOR","body":"@bhouston I figured you're the best to answer this question I discovered with this PR.\nThanks to the examples we can now see in action all the setting and map sizes etc. which could reveal some hidden issues like this one I think demonstrates.\nIf I put as in this example {which demonstrates this issue nicely} (or any spotlight) an initial shadow map size, it will persist.\nMy question is \"How do I reset that?\", because if you set the shadow map size low initially and then zoom the map size up it looks blocky still, nice and crisp but from the initial size. {Obviously if you set it big initially and then shrink it down as an optimization it leaves a larger map in the cache or something.}\nI guess the question is, is that the best way as is and not to worry about it or maybe it's a bug this demonstrates, or maybe it needs a special ability to reset the initial map data in this case with dynamic shadow map size being set by angle.\n\nI'm also wondering if animating the map size with the angle, while if it's also potentially resetting the map data cache, if it would be good, bad, and\/or ugly. [so maybe on-anim-complete it resets the map data].\nAnyway if it doesn't animate the map size, an extreme change could potential pop the shadow map size abruptly.\nI guess I'm proposing we make it an option to have automatic map size set based on angle integrated into the spotlight update, but it also introduces the FPS optimization to reduce map size as well.\n","created_at":"2016-04-07T11:20:58.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206822613","id":206822613,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjgyMjYxMw==","updated_at":"2016-04-07T11:25:33.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206822613","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":2,"author_association":"OWNER","body":"Hmm, I think the FPS code is out of scope for this... \ud83d\ude15\n\nAlso, `webgl_lights_spotlights` consistently freezes my machine and forces me to reboot \ud83d\ude1e\n","created_at":"2016-04-07T14:55:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206940795","id":206940795,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjk0MDc5NQ==","updated_at":"2016-04-07T14:55:49.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206940795","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":3,"author_association":"OWNER","body":"Specially sad because I was downloading a 20GB file the whole morning and I was almost done...\n","created_at":"2016-04-07T14:58:37.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206941830","id":206941830,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjk0MTgzMA==","updated_at":"2016-04-07T14:58:37.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206941830","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":4,"author_association":"OWNER","body":"I can see you have a very powerful system which blinds you from creating too intense code that can freeze people's machines. Next time I review a PR from you I'll make sure it's ok if my machine crashes...\n","created_at":"2016-04-07T15:00:26.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206942409","id":206942409,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjk0MjQwOQ==","updated_at":"2016-04-07T15:00:26.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206942409","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":5,"author_association":"CONTRIBUTOR","body":"Can you @MasterJames separate out the angle-based map size changes from the FPS changes?  The angle-based map size changes is nearly exactly to how Unity 3D works.\n","created_at":"2016-04-07T15:00:46.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206942537","id":206942537,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjk0MjUzNw==","updated_at":"2016-04-07T15:00:46.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206942537","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":6,"author_association":"CONTRIBUTOR","body":"There is something in those spotlight examples that is causing issues for I think everyone.  I've got a top end Window PC (e.g. recent Intel i7 Extreme, GeForce 980 \/w 4GB of vram, etc.) and it gets horrible FPS (drops to like ~3 fps) on these examples if I play around with them.  Maybe it is trying to redo the shadow maps on every frame or something or a  maybe there is an extreme GPU memory leak?\n","created_at":"2016-04-07T15:04:30.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206944012","id":206944012,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjk0NDAxMg==","updated_at":"2016-04-07T15:05:30.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206944012","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":7,"author_association":"COLLABORATOR","body":"> Also, webgl_lights_spotlights consistently freezes my machine and forces me to reboot\n\nhttps:\/\/github.com\/mrdoob\/three.js\/pull\/8485#issuecomment-204475469\n","created_at":"2016-04-07T16:36:52.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-206984352","id":206984352,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNjk4NDM1Mg==","updated_at":"2016-04-07T16:36:52.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/206984352","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":8,"author_association":"CONTRIBUTOR","body":"Oh wow sorry guys. Maybe I should have used requestAnimationFrame but it didn't function as well as using setTimeout to maintain a desired frame rate. I guess I will have to purge the frame speed monitoring as soon as possible.\n\nIt could also be because I set the size to a max of 8192 and then scale down with automation or it looks blocky as explained in question to Ben. It shouldn't takeout the whole machine though.\n\nMaybe it's okay with initial size reduced? but again blockiness results when scaling up from a lower initial setting. Is there a way to reset the map size's buffer after it initially loads?\n\nI did notice if on mobile that if the frame rate was low it could catch up to it's maximum ability by raising the desired FPS, but if it exceeded it it would just hang and get a super low frame speed, as if it was rendering but had no time to update the screen buffer. Then maybe it backs up and crashes. It then seemed even more important to consider ways to optimize the frame speed.\n\nThanks for the feedback I will test this through other machines first as well before I submit any fixes.\nMaybe I'll be able to reproduce the crashes locally and get a handle on what caused that, otherwise the plan is to just stick with the angle optimization.\n","created_at":"2016-04-07T20:43:55.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-207080454","id":207080454,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNzA4MDQ1NA==","updated_at":"2016-04-07T20:43:55.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/207080454","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":9,"author_association":"CONTRIBUTOR","body":"I patched this temporarily with requestAnimationFrame, which stops the runaway freeze-up\/crash.\n\n`window.requestAnimationFrame( render );`\n\nbut the PR has not been adjusted properly yet.\n","created_at":"2016-04-07T21:30:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-207095388","id":207095388,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNzA5NTM4OA==","updated_at":"2016-04-07T21:30:08.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/207095388","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":10,"author_association":"CONTRIBUTOR","body":"Okay @mrdoob Mega apologies again, but this is safe to surf now!, **but please purge your cache first.**\n\nIt seems I was only able (with a boundless computer system) to render 120 FPS without resorting to calling render from a setTimeout, which caused a catch-up\/runaway problem (aka crash). \nUsing requestAnimationFrame my system is limited to 60 FPS and when set to it it also falls short without an adjustment to compensation. It also never achieved the desired frame rate so I did call render from a setTimeout which in hindsight was a pretty junior move but again it was accurate and twice as fast, albeit on a system that has no issues with 120 FPS and  map sizes of 8192, so hopefully you can understand how and why I ended up with that dangerous solution.\n\nIt is also noted that I could not achieve a super nice shadow edge without getting up past 4096, but it was configured to automatically scale to it's limits nicely with 8192. Meaning this is visually when with automatic scaling it looks good and believable below that... not so. Again why I was drawn to set that as an initial maximum on start up because they don't update map size changes for some reason I'm asking Ben about later below.\n\nI removed the FPS stuff after getting it working fine and committed a commented out version for the record. Even though it was in fact working well and super simple addition.\nWhat this revealed on another test machine with win7 that only gets 1 FPS is that reducing the map size when the desired FPS was not being obtained did not result in an increase in FPS, so in this case it was not needed. Originally I had no way to know testing on the system without limits. \n\n[This hardware was almost top of the line a few years back, so not uncommon for gamers these days I suspect.]\n\n```\nNVIDIA GeForce GTX 780 Ti\n    Manufacturer    NVIDIA\n    Model   GeForce GTX 780 Ti\n    Device ID   10DE-100A\n    Revision    A2\n    Subvendor   ASUStek Computer Inc (1043)\n    Current Performance Level   Level 1\n    Current GPU Clock   324 MHz\n    Current Memory Clock    324 MHz\n    Voltage 0.887 V\n    Bus Interface   PCI Express x16\n    Temperature 38 \u00b0C\n    Driver version  9.18.13.4709\n    BIOS Version    80.80.30.00.01\n    Physical Memory 3071 MB\n    Virtual Memory  3072 MB\n        Count of performance levels : 4\n                Level 1 - \"2D Desktop\"\n                    GPU Clock   324 MHz\n                    Memory Clock    324 MHz\n                Level 2 - \"Default\"\n                    GPU Clock   536 MHz\n                    Memory Clock    810 MHz\n                Level 3 - \"3D Applications\"\n                    GPU Clock   549 MHz\n                    Memory Clock    3500 MHz\n                Level 4 - \"3D Applications\"\n                    GPU Clock   549 MHz\n                    Memory Clock    3500 MHz\n\n```\n\nAnyway I've tested it on a old system (1FPS), and a sluggish laptop as well, and it simple doesn't go nuts and crash with RequestAnimationFrame of course.\n\n@bhouston  Hopefully now we can see the related issue via the example I still ponder that I'm asking for you thoughts about please and thank you.\n\nIf you set the initial max map size (in the code manually) to a small vs big value, it keeps it's original resolution and so if you zoom the angle to 1.5 radians which is wide open you see blocky low res pixel shapes with high definition, while if you start with a super high res it zooms dynamically up with loads more full detail and looks nicer and not blocky (like it looks if the maps size is initially low).\n\nSo I was wondering if when the map size is changed it could rebuild that cached data or what the function to update it properly would be. Then maybe we would see and improvement if FPS when lowering and \"optimizing\" them, but otherwise it appears no noticeable difference will be likely achieved in FPS by lower map sizes.\n\nSo if it makes no difference and you need the max map size you'll ever possibly scale the spotlight's angle to initially, then you'd want to be able to inspect the available RAM on the GPU or something to be able to properly provide an optimized map size. Especially when the initial example with a 8192 map size was crashing some smart phones browsers, likely due to GPU RAM overflow.\nWould there be some kind of a try-catch block on the renderer.render call solution to catch this from happening\/crashing from exceeding the GPU's RAM possibly? already? events?\n\n_Anyway I hope you find this version is the best and most stable way so far to demonstrate the wonders of the mighty spotlights!_\nReminder: The first \"merged\" PR of these Examples had a mostly mobile issues due to the map size being set to 8192.\n","created_at":"2016-04-08T12:41:14.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-207417799","id":207417799,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNzQxNzc5OQ==","updated_at":"2016-04-08T12:41:14.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/207417799","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":11,"author_association":"COLLABORATOR","body":"You are not changing the shadow map size by simply resetting `shadow.mapSize`,  as the render target on the GPU is left unchanged. You need to use this pattern.\n\n``` javascript\nlight.shadow.mapSize.width = 256;\nlight.shadow.mapSize.height = 256;\nlight.shadow.map.dispose();\nlight.shadow.map = null;\n```\n\nAlso, I prefer simpler examples, to be honest.\n","created_at":"2016-04-08T14:25:05.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-207451621","id":207451621,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNzQ1MTYyMQ==","updated_at":"2016-04-08T14:25:05.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/207451621","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":12,"author_association":"CONTRIBUTOR","body":"Thanks for the dispose method. I wondered if it seems maybe this is something similar to the changes in angle that it should be automatically done when setting mapSize? for now I'm refactoring this into the example, thanks. I suppose one might want to not do it automatically, but then again maybe there's really no use-case not to have the map disposed of automatically.\n","created_at":"2016-04-09T20:25:42.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-207848537","id":207848537,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwNzg0ODUzNw==","updated_at":"2016-04-09T20:25:42.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/207848537","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":13,"author_association":"CONTRIBUTOR","body":"Okay it's ready! for a second round. These both have an added GL error detection system that pops an alert warning you it's already adjusted to compensate. So no way to crash it now. In theory. Note that Mobile also is set to half of the default max map size.\nHaving halved the original submissions default max map size, I noted on high-end systems the automation sized shadows look blocky and so I added a switch to double the max map sizes, which is really as it's intended to function (and doesn't go high when angles are more reasonable), and to my eye when it is passable without penumbra blurring (so for a crisp enough edged on the shadows of an extreme angle the shadow map looks good still, when it's normal automation keeps it low). \nThe function to scale is designed to be tardy relative that of a one to one ratio scale up, but catches up in the end, and also has a minimum of 256.\nThis \"doubling\" seems to not only allow for a consistent experience through an animated spotlight angle change, but pretty much requires it to look right. Still for slower systems (and lower yet again on mobile) the examples have been retarded in this way so to hopefully not perform differently on these varied devices.\n\nAnyway we lost the FPS system because for shadow map sizes it made no difference in performance. Map size should probably be calculated based on some larger understanding of your total texture size. Still this automation system set to a lowest (max) for visually acceptable\/tolerable level of detail in shadows, demonstrates how scalable dynamics can maximize your performance in animated dynamic interactive situations and allow for more texture memory when and where you need it (like 'camera distance', which is not demonstrated in this example).\n_\nSo again, one the solution is smoother looking when animated, and two optimizing your texture map sizes aka memory footprint on the fly. With added corrective ability for errors and limits._\n\nWithout monitoring FPS this idea is only half baked in this demonstration, because the goal is to optimize that so you want to have a good average fps it adjust with, but use an automated system of priorities to maximize FPS and form & function etc. Anyway it demonstrates one simple solution.\nSo if we add that option to automatically adjust the spotlight in the spotlights code?! It would be like we just were doing with the setters\/getters type approach for 'angle' to shadow camera FOV which @mrdoob brilliantly interpreted recently. We should also simply add that there in a similar fashion so people don't have to think about it too much (just a weighted set of preferences I imagined). \n\nStill, if we're just talking about automation with only shadow map size, this makes shadows that are animating their angles visually acceptable, and hassle free.\n\nExtra: dat GUI that adjust it's positioning and is different on mobile, so again it feels consistent and remains functional across multiple user experiences.\n","created_at":"2016-04-11T12:00:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-208308999","id":208308999,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwODMwODk5OQ==","updated_at":"2016-04-11T22:12:39.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/208308999","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":14,"author_association":"CONTRIBUTOR","body":"Okay still learning how to dance the Git Hubabuba.\nThis now rebased has resolved it's conflicts.\nThis is the Most Stable version, the currently merged one will crash on mobile this fixes all that.\n","created_at":"2016-04-13T11:43:33.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-209385764","id":209385764,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIwOTM4NTc2NA==","updated_at":"2016-04-13T11:43:33.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/209385764","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":15,"author_association":"CONTRIBUTOR","body":"@tschw and\/or @WestLangley could you check this over and give a thumbs up to @mrdoob for it to be merged? [Pretty Please.] This initial patch had crashed his system and things are crazy busy right now as you well have noticed, so it's I believe \"ready to Go!\".\nIt's important because the initial already Merged PR for the new SpotLight Examples needs proper handling for Mobile, as the previous merged one potentially generates a GL errors when a shadow map maximum set to 8K is too much for the running system. Sooo embarrassing. As my first example I've learned now to double check it on multiple systems as well as mobile, which has been done with it's current state now (last week).\nOtherwise I would need some further guidance on getting it on course with the high quality we all expect from THREE, thank you.\n","created_at":"2016-04-21T06:22:09.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-212764358","id":212764358,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIxMjc2NDM1OA==","updated_at":"2016-04-21T06:22:09.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/212764358","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}},{"index":16,"author_association":"OWNER","body":"> It's important because the initial already Merged PR for the new SpotLight Examples needs proper handling for Mobile, as the previous merged one potentially generates a GL errors when a shadow map maximum set to 8K is too much for the running system.\n\nI changed this some weeks ago already. The shadows now use a 1024 texture...\nhttps:\/\/github.com\/mrdoob\/three.js\/blob\/master\/examples\/webgl_lights_spotlight.html#L92-L93\nhttps:\/\/github.com\/mrdoob\/three.js\/blob\/master\/examples\/webgl_lights_spotlights.html#L137-L138\n","created_at":"2016-04-21T09:40:10.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-212832464","id":212832464,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIxMjgzMjQ2NA==","updated_at":"2016-04-24T08:38:02.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/212832464","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":17,"author_association":"CONTRIBUTOR","body":"Oh I missed you comment @mrdoob somehow?! I was just stopping in to ask about this. \nCan you take a minute to consider this PR? It handles things much better now.\nOtherwise if you could explain how it's not desirable or suggestions to improve it so it is, I would appreciate the extra time for your feedback, thanks.\n\nAlso note the other original version doesn't reset the shadow map size properly like this one does thanks to advice given since as well. I think that's an easy patch otherwise too.\n\nAlso I've been reading every email\/issue for about 6 months and will be travelling for business and personal affairs too over the next few months so unfortunately my participation and attempt to learn through monitoring the activity here will be on hold until August, but I will check back for your (final) response to decide if this will be closed or merged. Again thanks, I've noticed it's been particularly busy the last few weeks, so no rush on this if you've patched the map size already.\n","created_at":"2016-04-26T01:05:18.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/8555#issuecomment-214577191","id":214577191,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/8555","node_id":"MDEyOklzc3VlQ29tbWVudDIxNDU3NzE5MQ==","updated_at":"2016-04-26T01:05:18.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/214577191","user":{"following_url":"https:\/\/api.github.com\/users\/MasterJames\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/MasterJames\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1840183?v=4","url":"https:\/\/api.github.com\/users\/MasterJames","gists_url":"https:\/\/api.github.com\/users\/MasterJames\/gists{\/gist_id}","html_url":"https:\/\/github.com\/MasterJames","subscriptions_url":"https:\/\/api.github.com\/users\/MasterJames\/subscriptions","node_id":"MDQ6VXNlcjE4NDAxODM=","repos_url":"https:\/\/api.github.com\/users\/MasterJames\/repos","received_events_url":"https:\/\/api.github.com\/users\/MasterJames\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/MasterJames\/starred{\/owner}{\/repo}","site_admin":false,"login":"MasterJames","type":"User","id":1840183,"followers_url":"https:\/\/api.github.com\/users\/MasterJames\/followers","organizations_url":"https:\/\/api.github.com\/users\/MasterJames\/orgs"}}]}