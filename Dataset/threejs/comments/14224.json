{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"There are of course some open points. I'm not sure how to safely dispose individual `VAO`s if they are not necessary anymore. Besides, if users add buffer attributes after the first `bindingStates.setup()`, they won't see any effect since the `VAO` is generate once and then reused.","created_at":"2018-06-05T17:06:42.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394787123","id":394787123,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDc4NzEyMw==","updated_at":"2018-06-05T17:06:42.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394787123","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":1,"author_association":"COLLABORATOR","body":"I've been working on VAO, too, and about to share the branch and some performance evaluation results.\r\n\r\nhttps:\/\/github.com\/takahirox\/three.js\/tree\/VAOImpleTrial\r\n\r\n> Besides, if users add buffer attributes after the first bindingStates.setup(), they won't see any effect since the VAO is generate once and then reused.\r\n\r\nYup, that's the problem. In my branch, I'm trying `geometry.version`\r\n\r\nhttps:\/\/github.com\/takahirox\/three.js\/blob\/VAOImpleTrial\/src\/core\/BufferGeometry.js#L75\r\nhttps:\/\/github.com\/takahirox\/three.js\/blob\/VAOImpleTrial\/src\/renderers\/webgl\/WebGLVertexArrayObjects.js#L81\r\nhttps:\/\/github.com\/takahirox\/three.js\/blob\/VAOImpleTrial\/src\/renderers\/WebGLRenderer.js#L731\r\n\r\n`.version` will be count up on `BufferGeometry`'s attribute handling methods and `setupVertexAttributes()` will be called in renderer's `render()` if version is updated.\r\n\r\n>  I'm not sure how to safely dispose individual VAOs if they are not necessary anymore.\r\n\r\nYeah, that's the another problem I'm facing... thinking clean up VAOs in renderer's `dispose()` so far.","created_at":"2018-06-05T17:35:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394796125","id":394796125,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDc5NjEyNQ==","updated_at":"2018-06-05T18:26:53.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394796125","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"> I'm trying geometry.version\r\n\r\nYeah, that could work. We just need a way to distinct different attribute setups.\r\n\r\n> thinking clean up VAOs in renderer's dispose() so far.\r\n\r\nYeah, I've implemented it like that. But we introduce a memory leak if we have no other option.","created_at":"2018-06-05T18:08:49.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394806860","id":394806860,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDgwNjg2MA==","updated_at":"2018-06-05T18:15:46.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394806860","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":3,"author_association":"COLLABORATOR","body":"Okay, if the configuration of a `BufferGeometry` is done via its designated methods (`setIndex()`, `addAttribute()` and `removeAttribute()`, the usage of `version` should be robust.","created_at":"2018-06-05T18:31:23.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394814012","id":394814012,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDgxNDAxMg==","updated_at":"2018-06-05T18:31:23.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394814012","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":4,"author_association":"COLLABORATOR","body":"I'm closing this PR since I think we need a different approach in order to address @takahirox's feedback. For a first go, it was quite insightful \ud83d\ude0a.\r\n\r\ntl;dr: We need a more sophisticated approach in order to minimize calls to `bindVertexArrayOES`. In any event, it would be still useful to know about the performance implications of a `bindVertexArrayOES` API call.","created_at":"2018-06-05T21:26:34.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394865868","id":394865868,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDg2NTg2OA==","updated_at":"2018-06-05T21:49:14.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394865868","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"@takahirox Many thanks for this session \ud83d\ude09 ","created_at":"2018-06-05T21:28:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394866499","id":394866499,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDg2NjQ5OQ==","updated_at":"2018-06-05T21:28:52.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394866499","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":6,"author_association":"COLLABORATOR","body":"@Mugen87 My pleasure and thanks, too! Can we work for VAO together? It'd be more efficient. ","created_at":"2018-06-05T21:32:10.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394867375","id":394867375,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDg2NzM3NQ==","updated_at":"2018-06-05T21:32:10.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394867375","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":7,"author_association":"COLLABORATOR","body":"Of course we can \ud83d\ude0a. TBH, I did not know that you are also working on this. It would have saved some time if I studied your branch first.\r\n\r\nAnyway, for now I'm out of ideas and need to reconsider everything. Using VAOs leads to new problems within the engine I was not aware of...","created_at":"2018-06-05T21:48:03.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394871535","id":394871535,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDg3MTUzNQ==","updated_at":"2018-06-05T21:48:03.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394871535","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":8,"author_association":"NONE","body":"Sorry, coming late to the game.\r\n\r\nIn general, one call to bindVertexArray (using the WebGL 2.0 naming) should be cheaper than multiple calls to bindBuffer + vertexAttribPointer to set up all of the attributes for the program. Binds are still expensive though, so yes, it's important to try to minimize them.\r\n\r\nTo measure this best, try a scene that has a lot of objects and which might not be rendered with the most efficient technique (like instancing). Ideally, one which doesn't reach 60 FPS on your machine because it's GPU bound. Then compare the bindVertexArray code path to the previous one.\r\n\r\nIf you see the bindVertexArray code path being slower even after you've eliminated useless bindVertexArray(null) calls, then please package up the before-and-after test cases and file a bug on crbug.com, attach the test case, and send me the bug ID. We'll profile the WebGL implementation and driver and see what's happening.\r\n","created_at":"2018-06-06T07:03:54.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394962887","id":394962887,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDk2Mjg4Nw==","updated_at":"2018-06-06T07:03:54.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394962887","user":{"following_url":"https:\/\/api.github.com\/users\/kenrussell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/kenrussell\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1149904?v=4","url":"https:\/\/api.github.com\/users\/kenrussell","gists_url":"https:\/\/api.github.com\/users\/kenrussell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/kenrussell","subscriptions_url":"https:\/\/api.github.com\/users\/kenrussell\/subscriptions","node_id":"MDQ6VXNlcjExNDk5MDQ=","repos_url":"https:\/\/api.github.com\/users\/kenrussell\/repos","received_events_url":"https:\/\/api.github.com\/users\/kenrussell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/kenrussell\/starred{\/owner}{\/repo}","site_admin":false,"login":"kenrussell","type":"User","id":1149904,"followers_url":"https:\/\/api.github.com\/users\/kenrussell\/followers","organizations_url":"https:\/\/api.github.com\/users\/kenrussell\/orgs"}},{"index":9,"author_association":"COLLABORATOR","body":"@kenrussell Okay, many thanks for your feedback \ud83d\udc4d ","created_at":"2018-06-06T07:45:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394973745","id":394973745,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDk3Mzc0NQ==","updated_at":"2018-06-06T07:45:47.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394973745","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":10,"author_association":"COLLABORATOR","body":"@takahirox I think we should study how babylon.js uses VAOs. The VAO related code is in [babylon.engine.ts](https:\/\/github.com\/BabylonJS\/Babylon.js\/blob\/master\/src\/Engine\/babylon.engine.ts). Especially methods like `recordVertexArrayObject()` are interesting. The engine maintains a boolean `vaoRecordInProgress` that indicates the creation of a VAO. If they call methods to configure attributes or the element array buffer, they check `vaoRecordInProgress`. If no record is in process, they unbind the current VAO to perform the actual `gl.bindBuffer`. That's similar what you suggested yesterday. The binding always happens when they start rendering an geometry.\r\n\r\nDo you think we should check out such a workflow?\r\n\r\nhttps:\/\/github.com\/BabylonJS\/Babylon.js\/blob\/4a222735e01883bd30af3cf18100eabc734107bc\/src\/Engine\/babylon.engine.ts#L3030-L3045\r\n\r\nhttps:\/\/github.com\/BabylonJS\/Babylon.js\/blob\/4a222735e01883bd30af3cf18100eabc734107bc\/src\/Engine\/babylon.engine.ts#L2920-L2925\r\n\r\nhttps:\/\/github.com\/BabylonJS\/Babylon.js\/blob\/4a222735e01883bd30af3cf18100eabc734107bc\/src\/Mesh\/babylon.geometry.ts#L335-L360","created_at":"2018-06-06T08:19:23.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394984104","id":394984104,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDk4NDEwNA==","updated_at":"2018-06-06T08:23:25.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394984104","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":11,"author_association":"COLLABORATOR","body":"@Mugen87 Thanks. Let me check the babylon code later.","created_at":"2018-06-06T08:39:45.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-394990032","id":394990032,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NDk5MDAzMg==","updated_at":"2018-06-06T08:39:45.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/394990032","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":12,"author_association":"COLLABORATOR","body":"@Mugen87 \r\n\r\nIf I understand the babylon code correctly, yes I think we need such a check.\r\n\r\nBTW, if I'm right, I don't think the check is necessary for attributes because `.bindBuffer` for attributes doesn't pollute VAO.\r\n\r\nhttps:\/\/www.khronos.org\/opengl\/wiki\/Vertex_Specification#Vertex_Buffer_Object","created_at":"2018-06-13T08:11:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-396852798","id":396852798,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5Njg1Mjc5OA==","updated_at":"2018-06-13T08:11:08.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/396852798","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":13,"author_association":"COLLABORATOR","body":"> A call to glBindBuffer to set the GL_ARRAY_BUFFER binding is NOT modifying the current VAO's state!\r\n\r\nInteresting. According to the following [post](https:\/\/stackoverflow.com\/a\/20910235\/5250847) that seems also true for `bufferData`.\r\n\r\n> It's also worth noting that you can always update the data in a VBO using glBufferData or similar calls, and that operation will have no effects on the binding contained with the VAO associated with that buffer.\r\n\r\nIn this case, changes to `WebGLAttributes` should actually no be necessary. Um, maybe it's better to verify with a simple demo. The implementation in babylon.js and the content of the docs are contradictory to me. ","created_at":"2018-06-13T08:31:24.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-396858466","id":396858466,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5Njg1ODQ2Ng==","updated_at":"2018-06-13T08:40:41.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/396858466","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":14,"author_association":"COLLABORATOR","body":"Yup, if I'm right `.bufferData` doesn't affect VAO status. But `.bindBuffer` for indexBuffer (`gl.ELEMENT_ARRAY_BUFFER`) pollutes VAO.\r\n\r\nIn my repository, I check if `bufferType` is `gl.ELEMENT_ARRAY_BUFFER` for `.bindBuffer` not to pollute VAO.\r\n\r\nhttps:\/\/github.com\/takahirox\/three.js\/blob\/VAOImpleTrial\/src\/renderers\/webgl\/WebGLAttributes.js#L16\r\nhttps:\/\/github.com\/takahirox\/three.js\/blob\/VAOImpleTrial\/src\/renderers\/webgl\/WebGLVertexArrayObjects.js#L95\r\n\r\nEver I know, the followings will update VAO status.\r\n\r\n- `gl.bindBuffer` with `gl.ELEMENT_ARRAY_BUFFER`\r\n- `gl.vertexAttribPointer\/Divisor`\r\n- `gl.enable\/disableVertexAttribArray`\r\n","created_at":"2018-06-14T20:14:40.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/14224#issuecomment-397424113","id":397424113,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14224","node_id":"MDEyOklzc3VlQ29tbWVudDM5NzQyNDExMw==","updated_at":"2018-06-14T20:23:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/397424113","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}}]}