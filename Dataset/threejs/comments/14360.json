{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"I've been thinking the same optimization, skipping world matrix calculation for invisible object and its children in `.updateMatrixWorld()`. If I'm right, `.updateMatrixWorld()`'s main purpose is to update nodes under a rendered scene in renderer. So it'd be ok for that purpose to skip them because invisible objects won't be rendered.\r\n\r\nProbably we need to add 'skip invisible objects' argument to `.updateMatrixWorld()` and set it to `false` as the default not to break the compatibility. Some users may use the method in their user code and expect all node under an object will be updated regardless of their visibility.\r\n","created_at":"2018-06-25T02:08:36.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/14360#issuecomment-399810869","id":399810869,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14360","node_id":"MDEyOklzc3VlQ29tbWVudDM5OTgxMDg2OQ==","updated_at":"2018-06-25T06:14:23.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/399810869","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":1,"author_association":"COLLABORATOR","body":"> So yea, should I bother making a PR to return false on invisible objects when calling updateMatrixWorld or wait till this whole situations regarding the method is resolved?\r\n\r\n@titansoftime I suggest you make a PR with your fix to `.updateMatrixWorld()`.","created_at":"2018-06-25T09:20:00.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/14360#issuecomment-399887464","id":399887464,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14360","node_id":"MDEyOklzc3VlQ29tbWVudDM5OTg4NzQ2NA==","updated_at":"2018-06-25T09:22:20.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/399887464","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"> If I'm right, .updateMatrixWorld()'s main purpose is to update nodes under a rendered scene in renderer. So it'd be ok for that purpose to skip them because invisible objects won't be rendered.\r\n\r\nTo give a counter-example, there are A-Frame users who put invisible objects into the scene graph as collision targets etc., and who expect the objects' transforms to remain synced with their parents. A backward-compatible default would be my preference.","created_at":"2018-06-25T15:49:30.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/14360#issuecomment-400000416","id":400000416,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14360","node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAwMDQxNg==","updated_at":"2018-06-25T15:49:30.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/400000416","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":3,"author_association":"CONTRIBUTOR","body":"> A backward-compatible default would be my preference.\r\n\r\nFor sure.\r\n\r\n> Probably we need to add 'skip invisible objects' argument to .updateMatrixWorld() and set it to false as the default not to break the compatibility.\r\n\r\nSince most of these world matrix updates are called internally (not via updateMatrix in user code), how do you suggest passing the argument?  Setting a flag on the object?","created_at":"2018-06-25T16:17:34.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/14360#issuecomment-400009969","id":400009969,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14360","node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAwOTk2OQ==","updated_at":"2018-06-25T16:17:34.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/400009969","user":{"following_url":"https:\/\/api.github.com\/users\/titansoftime\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/titansoftime\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/6549763?v=4","url":"https:\/\/api.github.com\/users\/titansoftime","gists_url":"https:\/\/api.github.com\/users\/titansoftime\/gists{\/gist_id}","html_url":"https:\/\/github.com\/titansoftime","subscriptions_url":"https:\/\/api.github.com\/users\/titansoftime\/subscriptions","node_id":"MDQ6VXNlcjY1NDk3NjM=","repos_url":"https:\/\/api.github.com\/users\/titansoftime\/repos","received_events_url":"https:\/\/api.github.com\/users\/titansoftime\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/titansoftime\/starred{\/owner}{\/repo}","site_admin":false,"login":"titansoftime","type":"User","id":6549763,"followers_url":"https:\/\/api.github.com\/users\/titansoftime\/followers","organizations_url":"https:\/\/api.github.com\/users\/titansoftime\/orgs"}},{"index":4,"author_association":"COLLABORATOR","body":"If the user's scene is polluted with many invisible renderable objects, my preference would be to suggest the user redefine `THREE.Object3D.prototype.updateMatrixWorld` in his application -- assuming he is unable to handle his use case in any other way.","created_at":"2018-06-25T16:35:00.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/14360#issuecomment-400015338","id":400015338,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14360","node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxNTMzOA==","updated_at":"2018-06-25T16:35:00.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/400015338","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":5,"author_association":"CONTRIBUTOR","body":"Polluted implies they aren't there intentionally or are simply garbage objects that haven't been disposed. Kinda not the case.\r\n\r\nBut w\/e, works for me.\r\n\r\nSucks for anyone else with a bunch of hidden objects.","created_at":"2018-06-25T19:29:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/14360#issuecomment-400068153","id":400068153,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14360","node_id":"MDEyOklzc3VlQ29tbWVudDQwMDA2ODE1Mw==","updated_at":"2018-06-25T19:29:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/400068153","user":{"following_url":"https:\/\/api.github.com\/users\/titansoftime\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/titansoftime\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/6549763?v=4","url":"https:\/\/api.github.com\/users\/titansoftime","gists_url":"https:\/\/api.github.com\/users\/titansoftime\/gists{\/gist_id}","html_url":"https:\/\/github.com\/titansoftime","subscriptions_url":"https:\/\/api.github.com\/users\/titansoftime\/subscriptions","node_id":"MDQ6VXNlcjY1NDk3NjM=","repos_url":"https:\/\/api.github.com\/users\/titansoftime\/repos","received_events_url":"https:\/\/api.github.com\/users\/titansoftime\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/titansoftime\/starred{\/owner}{\/repo}","site_admin":false,"login":"titansoftime","type":"User","id":6549763,"followers_url":"https:\/\/api.github.com\/users\/titansoftime\/followers","organizations_url":"https:\/\/api.github.com\/users\/titansoftime\/orgs"}},{"index":6,"author_association":"NONE","body":"@titansoftime Thank you so much for this advice! I got huge performance boost when adding this visibility-test. I use many groups of instanced geometries (rendering lot's of objects tied to notes in a musical score) where all positions are calculated in the shader, so need to manually cull all groups outside the frustum. Using visible instead of add\/remove was lighter and smoother when keeping the scene-graph intact. I also switch visibility on\/off when rendering different post-effects like glow. \r\n\r\nI used this way of overriding the updateMatrixWorld prototype so I don't have to fork and patch:\r\n\r\n```\r\n(function () {\r\n      let _updateMatrixWorld = THREE.Object3D.prototype.updateMatrixWorld\r\n      THREE.Object3D.prototype.updateMatrixWorld = function () {\r\n        if (!this.visible) {\r\n          return\r\n        }\r\n        _updateMatrixWorld.apply(this)\r\n      }\r\n    })()\r\n```","created_at":"2018-07-06T07:31:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/14360#issuecomment-402951981","id":402951981,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/14360","node_id":"MDEyOklzc3VlQ29tbWVudDQwMjk1MTk4MQ==","updated_at":"2018-07-06T07:31:28.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/402951981","user":{"following_url":"https:\/\/api.github.com\/users\/inear\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/inear\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/946195?v=4","url":"https:\/\/api.github.com\/users\/inear","gists_url":"https:\/\/api.github.com\/users\/inear\/gists{\/gist_id}","html_url":"https:\/\/github.com\/inear","subscriptions_url":"https:\/\/api.github.com\/users\/inear\/subscriptions","node_id":"MDQ6VXNlcjk0NjE5NQ==","repos_url":"https:\/\/api.github.com\/users\/inear\/repos","received_events_url":"https:\/\/api.github.com\/users\/inear\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/inear\/starred{\/owner}{\/repo}","site_admin":false,"login":"inear","type":"User","id":946195,"followers_url":"https:\/\/api.github.com\/users\/inear\/followers","organizations_url":"https:\/\/api.github.com\/users\/inear\/orgs"}}]}