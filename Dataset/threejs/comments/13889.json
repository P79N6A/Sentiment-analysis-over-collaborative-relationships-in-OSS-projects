{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Are you sure that model is correct? I've tried loading it in a couple of different places, including the babylonjs playground, but they all give an error. ","created_at":"2018-04-18T08:03:30.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382300516","id":382300516,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMwMDUxNg==","updated_at":"2018-04-18T08:03:30.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382300516","user":{"following_url":"https:\/\/api.github.com\/users\/looeee\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/looeee\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/5307958?v=4","url":"https:\/\/api.github.com\/users\/looeee","gists_url":"https:\/\/api.github.com\/users\/looeee\/gists{\/gist_id}","html_url":"https:\/\/github.com\/looeee","subscriptions_url":"https:\/\/api.github.com\/users\/looeee\/subscriptions","node_id":"MDQ6VXNlcjUzMDc5NTg=","repos_url":"https:\/\/api.github.com\/users\/looeee\/repos","received_events_url":"https:\/\/api.github.com\/users\/looeee\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/looeee\/starred{\/owner}{\/repo}","site_admin":false,"login":"looeee","type":"User","id":5307958,"followers_url":"https:\/\/api.github.com\/users\/looeee\/followers","organizations_url":"https:\/\/api.github.com\/users\/looeee\/orgs"}},{"index":1,"author_association":"NONE","body":"@looeee you are right, sorry about that.\r\nhere's a [link](http:\/\/cdn.hexa3d.io\/hotlink-ok\/test\/Scotch-glb_002.glb) to the correct one.","created_at":"2018-04-18T10:56:59.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382347921","id":382347921,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM0NzkyMQ==","updated_at":"2018-04-18T10:56:59.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382347921","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"I don't see the liquid inside even on Babylon.\r\n\r\n![image](https:\/\/user-images.githubusercontent.com\/7637832\/38929197-868935b0-4346-11e8-97fd-f976bb4e64bc.png)\r\n","created_at":"2018-04-18T11:25:27.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382354436","id":382354436,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM1NDQzNg==","updated_at":"2018-04-18T11:25:27.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382354436","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":3,"author_association":"OWNER","body":"> When viewing on [babylonjs](http:\/\/sandbox.babylonjs.com\/) you can actually see the liquid inside but on [threejs](https:\/\/gltf-viewer.donmccurdy.com\/) you cannot see the bottle transparency.\r\n\r\nCan you share screenshots?","created_at":"2018-04-18T15:24:07.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382426076","id":382426076,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyNjA3Ng==","updated_at":"2018-04-18T15:24:07.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382426076","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":4,"author_association":"COLLABORATOR","body":"If you zoom in quite a bit you can see it\r\n\r\n![1](https:\/\/user-images.githubusercontent.com\/5307958\/38942218-7282a58a-4358-11e8-8d51-414ed8e020f9.png)\r\n\r\nAnd if you rotate up it suddenly jumps in \r\n\r\n![2](https:\/\/user-images.githubusercontent.com\/5307958\/38942249-82b8e86a-4358-11e8-9a04-828c1ad15540.png)\r\n","created_at":"2018-04-18T15:33:42.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382429589","id":382429589,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyOTU4OQ==","updated_at":"2018-04-18T15:33:42.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382429589","user":{"following_url":"https:\/\/api.github.com\/users\/looeee\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/looeee\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/5307958?v=4","url":"https:\/\/api.github.com\/users\/looeee","gists_url":"https:\/\/api.github.com\/users\/looeee\/gists{\/gist_id}","html_url":"https:\/\/github.com\/looeee","subscriptions_url":"https:\/\/api.github.com\/users\/looeee\/subscriptions","node_id":"MDQ6VXNlcjUzMDc5NTg=","repos_url":"https:\/\/api.github.com\/users\/looeee\/repos","received_events_url":"https:\/\/api.github.com\/users\/looeee\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/looeee\/starred{\/owner}{\/repo}","site_admin":false,"login":"looeee","type":"User","id":5307958,"followers_url":"https:\/\/api.github.com\/users\/looeee\/followers","organizations_url":"https:\/\/api.github.com\/users\/looeee\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"OK, confirmed. This could be from depth test and render order...? I set 1 to `.renderOrder` of the bin and then I can see the liquid inside. If so, this isn't glTF specific issue. I'll take a look closer...","created_at":"2018-04-18T15:57:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382437685","id":382437685,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQzNzY4NQ==","updated_at":"2018-04-18T16:43:01.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382437685","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":6,"author_association":"COLLABORATOR","body":"This's my speculation.\r\n\r\nWith depth test and alpha blending, we need to render transparent object in order \"back to front\". But in that example, I guess the bin is rendered first and then the liquid is rendered because they're on the same position and the liquid mesh is generated later. Three.js calculates the distance from camera with object z position, not the surface.\r\n\r\nI'll make an easy example later which can reproduce the error if my speculation is right.","created_at":"2018-04-18T17:03:58.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382458448","id":382458448,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ1ODQ0OA==","updated_at":"2018-04-18T18:22:51.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382458448","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":7,"author_association":"OWNER","body":"I wonder what's babylon.js logic for sorting objects.","created_at":"2018-04-18T17:47:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382471835","id":382471835,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ3MTgzNQ==","updated_at":"2018-04-18T17:47:47.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382471835","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":8,"author_association":"COLLABORATOR","body":"I made an example\r\n\r\nhttps:\/\/jsfiddle.net\/ptgwhemb\/186\/\r\n\r\nTwo different size balls on the same position but the smaller one can't be seen. To see the smaller one, set `biggerBall.renderOrder = 1;` or generate the smaller ball first.\r\n\r\nSo as I mentioned, this issue isn't glTF specific but generic Three.js issue.\r\n\r\n@mrdoob \r\n\r\nCurious to know, too. I guess, calculating boundingBox\/Sphere and rendering the smaller one first if two or more object on the same position?","created_at":"2018-04-18T18:37:17.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382487083","id":382487083,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ4NzA4Mw==","updated_at":"2018-04-18T18:37:17.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382487083","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":9,"author_association":"COLLABORATOR","body":"Let's change the subject of this issue. \"Wrong rendering order of objects on the same position\" or something.","created_at":"2018-04-18T19:03:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382495093","id":382495093,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ5NTA5Mw==","updated_at":"2018-04-18T19:03:28.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382495093","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":10,"author_association":"COLLABORATOR","body":">Let's change the subject of this issue. \"Wrong rendering order of objects on the same position\" or something.\r\n\r\n I would say that is a hypothesized cause, not the symptom. I think the title is fine. This symptom is just not glTF-specific.\r\n\r\nRelated: https:\/\/stackoverflow.com\/a\/13236863\/1461008\r\n\r\nIf there is an engine that always renders this model correctly, then we should figure out how to, also. Otherwise, it is a modeling issue.\r\n","created_at":"2018-04-18T19:26:49.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382501570","id":382501570,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwMTU3MA==","updated_at":"2018-04-18T19:26:49.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382501570","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":11,"author_association":"COLLABORATOR","body":"I consider this a modeling issue, more discussion in https:\/\/github.com\/KhronosGroup\/glTF\/issues\/822. glTF represents only PBR and alpha coverage, not true transparency; things like glass or water require other material models. A content author will need to understand those issues and make tradeoffs to get the results they want.\r\n\r\nWe'll eventually have a [glTF extension for blend modes](https:\/\/github.com\/KhronosGroup\/glTF\/pull\/1302) in which case a multiplicative and additive pass can be used for order-independent glass rendering: https:\/\/poly.google.com\/view\/atB26Z6BPd0","created_at":"2018-04-18T19:44:41.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382506294","id":382506294,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwNjI5NA==","updated_at":"2018-04-18T19:45:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382506294","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":12,"author_association":"COLLABORATOR","body":"OK, I searched a bit and seems like sorting for transparent object which contains another transparent object, like the bin and the liquid in that model, is a known generic problem. So agreed with a modeling issue.\r\n\r\nBTW, I'm not familiar with order independent transparency so curious. How can multiplicative and additive pass solve this issue? With turning depth write off? How does glTF specify depth write off material?","created_at":"2018-04-19T07:55:17.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-382644878","id":382644878,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MjY0NDg3OA==","updated_at":"2018-04-19T07:58:25.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/382644878","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":13,"author_association":"COLLABORATOR","body":"glTF doesn't specify depth write settings, no, in any case this requires some work from the author.","created_at":"2018-04-21T21:07:03.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383331084","id":383331084,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzMzMTA4NA==","updated_at":"2018-04-21T21:07:03.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383331084","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":14,"author_association":"COLLABORATOR","body":"Why did you introduce glTF blend extension here? I don't think soly it can solve this issue. I'm a bit confused.","created_at":"2018-04-22T05:17:45.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383356226","id":383356226,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzM1NjIyNg==","updated_at":"2018-04-22T05:17:45.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383356226","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":15,"author_association":"COLLABORATOR","body":"I just mean to say that transparent glass surrounding a solid object is not as simple as setting `alpha < 1.0`. This is not something we can fix by changing GLTFLoader.","created_at":"2018-04-22T06:15:10.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383358406","id":383358406,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzM1ODQwNg==","updated_at":"2018-04-22T06:15:34.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383358406","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":16,"author_association":"COLLABORATOR","body":"I think we agree this is a modeling issue, so closing.","created_at":"2018-04-22T17:25:12.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383397768","id":383397768,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzM5Nzc2OA==","updated_at":"2018-04-22T17:25:12.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383397768","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":17,"author_association":"NONE","body":"@WestLangley from what I understood that's a wrong rendering order bug witch `babylonjs` has resolved.","created_at":"2018-04-22T18:16:59.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383401283","id":383401283,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzQwMTI4Mw==","updated_at":"2018-04-22T18:17:31.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383401283","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}},{"index":18,"author_association":"COLLABORATOR","body":"As I said,\r\n\r\n>If there is an engine that always renders this model correctly, then we should figure out how to, also. Otherwise, it is a modeling issue.\r\n\r\nAs @takahirox said\r\n\r\n>I don't see the liquid inside even on Babylon.\r\n","created_at":"2018-04-22T18:23:49.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383401759","id":383401759,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzQwMTc1OQ==","updated_at":"2018-04-22T18:23:49.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383401759","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":19,"author_association":"NONE","body":"As @takahirox said:\r\n> OK, confirmed.\r\n\r\nAs @mrdoob said:\r\n> I wonder what's babylon.js logic for sorting objects.\r\n\r\nAs @donmccurdy said:\r\n> in any case this requires some work from the author.\r\n\r\n@WestLangley I am under the impression that in the beginning you guys thought there's no issue but changed your mind afterwards.","created_at":"2018-04-22T18:34:44.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383402521","id":383402521,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzQwMjUyMQ==","updated_at":"2018-04-22T18:36:42.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383402521","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}},{"index":20,"author_association":"COLLABORATOR","body":"In BabylonJS, the liquid seems to flicker in and out depending on the viewing angle; this is not an issue that the engine can fix automatically with our current method of handling transparency.\r\n\r\n@ranbuch  see this question about [transparent objects in three.js on stack overflow](https:\/\/stackoverflow.com\/a\/15995475\/1314762), and in particular the suggestions about `.sortObjects`, `.depthWrite`, and `.renderOrder`.","created_at":"2018-04-22T21:14:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383412934","id":383412934,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzQxMjkzNA==","updated_at":"2018-04-22T21:14:28.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383412934","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":21,"author_association":"NONE","body":"That's kind of a longshot but I've modified my local three.js file (`r92`) and it seems to solve this issue.\r\n\r\nOn line 17,162 I've altered the function ```reversePainterSortStable``` in the next why:\r\n\r\n```javascript\r\nfunction reversePainterSortStable( a, b ) {\r\n\r\n\t\tif ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t\t} if ( a.z !== b.z ) {\r\n\r\n\t\t\treturn b.z - a.z;\r\n\r\n\t\t} else {\r\n            \/\/ In case the objects are of type Mesh we'll sort by mesh size\r\n            \/\/ that why we might solve the transparency render order issue\r\n            if (a.object && a.object.isMesh && b.object && b.object.isMesh )\r\n                return getObjectSize(a) - getObjectSize(b);\r\n\r\n            else return a.id - b.id;\r\n\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nAnd I've added a new function:\r\n```javascript\r\nfunction getObjectSize(obj) {\r\n        var box = new THREE.Box3().setFromObject(obj.object);\r\n        var target = new THREE.Vector3( 0, 0, 0 );\r\n        \r\n        box.getSize(target);\r\n\r\n        return target.length();\r\n    }\r\n```\r\n\r\n@mrdoob  is it even worth a Pull-Request?","created_at":"2018-04-23T19:06:46.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383687807","id":383687807,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzY4NzgwNw==","updated_at":"2018-04-23T19:06:46.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383687807","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}},{"index":22,"author_association":"OWNER","body":"@ranbuch Your approach would only fix your use case. It would break all other use cases (objects not in the same position).\r\n\r\nHowever, combining your intention with the one in #13857... One approach would be to take the object's center and displace that point towards the camera using the `boundingSphere` radius. ","created_at":"2018-04-23T22:44:36.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383746216","id":383746216,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzc0NjIxNg==","updated_at":"2018-04-23T22:45:39.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383746216","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":23,"author_association":"NONE","body":"> It would break all other use cases (objects not in the same position).\r\n\r\nI agree that it would work only in case an object is inside another bigger object but the current fallback behavior is sorting by `id` witch is, to the best of my knowledge, arbitrary so I would consider it an improvement (could be absolutely wrong here).\r\n\r\nAny why, I have tried your approach, witch is the right one no doubt but again, not sure about my implementation.\r\n\r\nIt's working for my [GLB](http:\/\/cdn.hexa3d.io\/hotlink-ok\/test\/Scotch-glb_002.glb) and the case from #13857 jsfiddle [here](https:\/\/jsfiddle.net\/ranbuch\/wshtoc9o\/34\/)\r\n\r\nUnfortunately, the solution involves adding a global variable (I'm not a fan) on line `327`:\r\n```javascript\r\nvar CurrentCamera = null;\r\n```\r\n\r\nAssigning the camera on line `14,434`:\r\n```javascript\r\nCurrentCamera = camera;\r\n```\r\n\r\nAltering the `reversePainterSortStable` function on line `17,164`:\r\n```javascript\r\nfunction reversePainterSortStable( a, b ) {\r\n\t\tif ( a.renderOrder !== b.renderOrder ) {\r\n\r\n\t\t\treturn a.renderOrder - b.renderOrder;\r\n\r\n\t\t} if (CurrentCamera && a.object && a.object.isMesh && b.object && b.object.isMesh ) {\r\n\t\t\t\/\/ In case the objects are of type Mesh we'll sort by mesh size\r\n            \/\/ that why we might solve the transparency render order issue\r\n            return getDistanceFromCamera(b, CurrentCamera) - getDistanceFromCamera(a, CurrentCamera);\r\n\r\n\t\t} else if ( a.z !== b.z ) {\r\n\r\n            return b.z - a.z;\r\n\r\n        }\r\n        else return a.id - b.id;\r\n    }\r\n```\r\n\r\nAnd adding a new function called `getDistanceFromCamera`:\r\n```javascript\r\nfunction getDistanceFromCamera(object, camera) {\r\n        var distance = new THREE.Vector3();\r\n        distance.subVectors(camera.position, object.geometry.boundingSphere.center);\r\n        return distance.length();\r\n    }\r\n```\r\n\r\n@mrdoob what do you think?","created_at":"2018-04-24T05:12:49.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383805417","id":383805417,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzgwNTQxNw==","updated_at":"2018-04-24T05:12:49.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383805417","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}},{"index":24,"author_association":"NONE","body":"On second thought, I'm taking the `center` of the `geometry.boundingSphere` when I'm supposed to take the nearest point to the camera?\r\n\r\nWould  it matter?\r\n\r\nCan 2 Meshes overlap?","created_at":"2018-04-24T06:18:41.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383816416","id":383816416,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzgxNjQxNg==","updated_at":"2018-04-24T06:18:41.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383816416","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}},{"index":25,"author_association":"OWNER","body":"> Can 2 Meshes overlap?\r\n\r\nThey sure can. But, unless we implement order-independent-transparency, we won't be able to produce the correct result.","created_at":"2018-04-24T06:21:41.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383816933","id":383816933,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzgxNjkzMw==","updated_at":"2018-04-24T06:21:41.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383816933","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":26,"author_association":"COLLABORATOR","body":"@ranbuch Sorting by `id` is deterministic, and hence can help limit flickering. Your time is much better spent studying the literature. Learn about current approaches to handling transparency in modeling and in real-time rendering.","created_at":"2018-04-24T06:22:34.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383817106","id":383817106,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4MzgxNzEwNg==","updated_at":"2018-04-24T06:22:53.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383817106","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":27,"author_association":"NONE","body":"> Sorting by id is deterministic, and hence can help limit flickering\r\n\ud83d\udc4d\r\n\r\n> Learn about current approaches to handling transparency in modeling and in real-time rendering\r\n\r\nSure will.\r\n\r\n@mrdoob so you think this solution won't work?\r\n\r\nShould I just stop wasting your time and leave the rest to you guys?","created_at":"2018-04-24T08:59:40.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-383857643","id":383857643,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzg1NzY0Mw==","updated_at":"2018-04-24T08:59:40.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/383857643","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}},{"index":28,"author_association":"OWNER","body":"Sorry, but the problem is way more complex than that.\r\n\r\nUnfortunately transparency is still a unsolved problem in realtime computer graphics. In order to understand the problem you need to understand how GPUs draw things on the screen and what the z-buffer is.\r\n\r\nThis talk by @unconed may be a good start: https:\/\/acko.net\/tv\/webglmath\/","created_at":"2018-04-24T18:57:22.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-384042634","id":384042634,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4NDA0MjYzNA==","updated_at":"2018-04-24T18:57:22.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/384042634","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":29,"author_association":"NONE","body":"While [this](https:\/\/acko.net\/tv\/webglmath\/) source have taught me a lot I still was unable to see the problem with sorting the mesh the why that I did, but of course, that was just the tutorial witch didn't even concerned with the transparency issue.\r\n\r\nAfter diving more into this issue I've learned that there's actually (as you've said) no perfect solution for this problem. not even by splitting overlap polygons . . .\r\n\r\nI've gotta say, although I get the problem not having a solution still doesn't make sense to me as we don't encounter this issue in real life, hence, there must be a solution (probably beyond my reach).\r\n\r\nNevertheless, the fact of the matter is other Frameworks does handle this issue better then `three-js` (`babylonjs`, `blend-4-web`, windows 3D viewer (`paint-3d`), `sketchfab` etc..)\r\n\r\nYou may say, due-to the nature of the problem, that if they are solving this issue on a particular case and `three-js` is not there's probably other cases that `three-js` is doing a better job.\r\n\r\nAt the end of the day, though I get that sorting by `id` would prevent flickering (due-to it's consistency), that's just not the right why to sort! Even you are using it as a last resort (if there's no `renderOrder` and the `z`'s are the identical).\r\n\r\nFor the time being, I'm not even sure if sorting by `z` is a better why then sorting by the distance from the camera . . .\r\n\r\nAnd although I'm taking the center of the object, that's as good guess as taking the nearest or furthest vertex (again, due-to the nature of the problem).\r\n\r\nEven if that would make `three-js` not better, but more consistent with the other realtime render engines that's a good thing as issues like that would just considered a modeling issue.\r\n\r\n@mrdoob and the rest of the contributors, I'm truly sorry about the time that I've consumed due-to the lack of my understanding in 3D. I'm not expecting you to continue answering here anymore.\r\n\r\nI'm considering using my solution as it seems to work better for me.\r\nHEXA (my company) is creating hundreds (sometimes more) of 3D models every month and next week I'm hoping to start using `three-js` on our production.\r\n\r\nI'll update here how my solution is working for me in the feature.\r\n\r\nThank you all.","created_at":"2018-04-25T07:56:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13889#issuecomment-384194779","id":384194779,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13889","node_id":"MDEyOklzc3VlQ29tbWVudDM4NDE5NDc3OQ==","updated_at":"2018-04-25T08:46:43.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/384194779","user":{"following_url":"https:\/\/api.github.com\/users\/ranbuch\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/ranbuch\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/3777546?v=4","url":"https:\/\/api.github.com\/users\/ranbuch","gists_url":"https:\/\/api.github.com\/users\/ranbuch\/gists{\/gist_id}","html_url":"https:\/\/github.com\/ranbuch","subscriptions_url":"https:\/\/api.github.com\/users\/ranbuch\/subscriptions","node_id":"MDQ6VXNlcjM3Nzc1NDY=","repos_url":"https:\/\/api.github.com\/users\/ranbuch\/repos","received_events_url":"https:\/\/api.github.com\/users\/ranbuch\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/ranbuch\/starred{\/owner}{\/repo}","site_admin":false,"login":"ranbuch","type":"User","id":3777546,"followers_url":"https:\/\/api.github.com\/users\/ranbuch\/followers","organizations_url":"https:\/\/api.github.com\/users\/ranbuch\/orgs"}}]}