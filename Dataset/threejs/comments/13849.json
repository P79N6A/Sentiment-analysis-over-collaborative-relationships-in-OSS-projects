{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"> Will give out the false, although in fact the objects are identical.\r\n\r\nWhat? Your create two different objects. Why should they be identical?","created_at":"2018-04-13T08:25:07.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381062776","id":381062776,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA2Mjc3Ng==","updated_at":"2018-04-13T08:25:07.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381062776","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":1,"author_association":"COLLABORATOR","body":"Can you please provide a live example?\r\n\r\nhttps:\/\/jsfiddle.net\/f2Lommf5\/\r\n\r\n","created_at":"2018-04-13T08:40:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381066890","id":381066890,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA2Njg5MA==","updated_at":"2018-04-13T08:40:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381066890","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":2,"author_association":"NONE","body":"> What? Your create two different objects. Why should they be identical?\r\n\r\nThat's what I'm talking about. but in the engine check is done exactly as I described above.\r\nthere, if you look at it, the fog property of the scene is compared with the property of the fog material of the object. \r\nIt's not easy to create a demo, but I'll try.","created_at":"2018-04-13T09:15:10.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381076094","id":381076094,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA3NjA5NA==","updated_at":"2018-04-13T09:16:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381076094","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":3,"author_association":"NONE","body":"https:\/\/jsfiddle.net\/pvLxe07s\/\r\nLarge size demo, because all the code of ThreeJS is inserted directly into the page, so that it is possible to show visually where the constant update is taking place.\r\nAfter loading the page, sometimes you need to press the **Run** again.\r\nSimply I do not know how to build an example, you need a modification of the script to see the place of the looping.","created_at":"2018-04-13T10:20:57.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381092933","id":381092933,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA5MjkzMw==","updated_at":"2018-04-13T10:21:07.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381092933","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":4,"author_association":"COLLABORATOR","body":"I've create a simpler demo based on your code: https:\/\/jsfiddle.net\/f2Lommf5\/5383\/\r\n\r\nI'm not able to reproduce the problem.","created_at":"2018-04-13T10:43:50.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381097897","id":381097897,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA5Nzg5Nw==","updated_at":"2018-04-13T10:43:50.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381097897","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":5,"author_association":"NONE","body":"The problem is that you **will not see** in this case what happens inside the **ThreeJS engine**, namely - repeating update of the material(material.NeedUpdate = true;), although in this case it is not as critical as in the case of an error in the operation of lighting (in another branch).","created_at":"2018-04-13T10:48:19.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381098788","id":381098788,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA5ODc4OA==","updated_at":"2018-04-13T10:49:19.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381098788","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":6,"author_association":"COLLABORATOR","body":"I'm not sure I can follow you. Do you say `three.js` does not update the materials correctly? \r\n\r\n> although in this case it is not as critical as in the case of an error in the operation of lighting (in another branch)\r\n\r\nWhat do you mean with \"other branch\"?","created_at":"2018-04-13T11:00:54.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381101593","id":381101593,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTEwMTU5Mw==","updated_at":"2018-04-13T11:00:54.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381101593","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":7,"author_association":"NONE","body":"> I'm not sure I can follow you. Do you say three.js does not update the materials correctly?\r\n\r\nNo, it updates everything correctly, it's just that no changes are made during the rendering, but the code inside the kernel causes an update request:\r\n```\r\nelse if ( material.fog && materialProperties.fog !== fog ) {\r\n\tmaterial.needsUpdate = true;\r\n} \r\n```\r\nbut in fact there is no reason for constant updating. (absolutely every frame)\r\n> What do you mean with \"other branch\"?\r\n\r\nhttps:\/\/github.com\/mrdoob\/three.js\/issues\/13851","created_at":"2018-04-13T11:12:07.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381103812","id":381103812,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTEwMzgxMg==","updated_at":"2018-04-13T12:03:09.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381103812","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":8,"author_association":"COLLABORATOR","body":"I've debugged this and I can find an error. If a new fog setting is applied, `material.needsUpdate` is set to `true` in `setProgram()`. This will trigger the call of `initMaterial()`.\r\n\r\nhttps:\/\/github.com\/mrdoob\/three.js\/blob\/fb46a77f8ef9f82992b5119c834ae72ad1f46578\/src\/renderers\/WebGLRenderer.js#L1654-L1659\r\n\r\nInside this function, the new fog is applied to the `materialProperties`.\r\n\r\nhttps:\/\/github.com\/mrdoob\/three.js\/blob\/fb46a77f8ef9f82992b5119c834ae72ad1f46578\/src\/renderers\/WebGLRenderer.js#L1569\r\n\r\nThis ensures that no more material updates are triggered by the new fog in upcoming frames. So, I still don't understand the reported problem.\r\n\r\n@osov How should we change the code so it would be correct from your point of view?","created_at":"2018-04-13T15:37:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381174921","id":381174921,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE3NDkyMQ==","updated_at":"2018-04-13T15:39:46.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381174921","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":9,"author_association":"NONE","body":"I also studied the function call list and where the processing takes place. By demo example, you do not understand what's going on?\r\nLogically, there should be 1 call to the material after changing the fog settings, but in the example I showed that after the indicated manipulations, at each iteration of the loop, the material is updated infinitely.\r\nIf I have not explained clearly enough, I can try to record a video and show what happens.","created_at":"2018-04-13T15:45:36.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381177316","id":381177316,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE3NzMxNg==","updated_at":"2018-04-13T15:45:36.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381177316","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":10,"author_association":"NONE","body":"[Video_2018-04-13_205048.zip](https:\/\/github.com\/mrdoob\/three.js\/files\/1908059\/Video_2018-04-13_205048.zip)\r\nRecorded a video. maybe I just do not explain it clearly enough.","created_at":"2018-04-13T15:53:16.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381179617","id":381179617,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE3OTYxNw==","updated_at":"2018-04-13T15:53:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381179617","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":11,"author_association":"COLLABORATOR","body":"Indeed, the video was helpful. After some debugging I can now reproduce the problem in a new demo. Just set a breakpoint at the following line after the fogs were changed:\r\n\r\n`else if ( material.fog && materialProperties.fog !== fog ) {`\r\n\r\nhttps:\/\/jsfiddle.net\/f2Lommf5\/5410\/\r\n\r\nThe good thing is the error seems not serious since the resulted overhead is minimal. The respective shader program is not recompiled and the uniform list does not change, too . Maybe we could fix the problem by comparing the fogs via a hash? ","created_at":"2018-04-13T16:37:07.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381192086","id":381192086,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE5MjA4Ng==","updated_at":"2018-04-13T16:42:47.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381192086","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":12,"author_association":"NONE","body":"> Maybe we could fix the problem by comparing the fogs via a hash?\r\n\r\nYes. Perhaps you can solve the problem. The costs here are really small, but still unpleasant that there is such a bug.\r\n\r\nLook at the very critical problem, here the expenses are simply catastrophic, FPS can fall almost to zero. https:\/\/github.com\/mrdoob\/three.js\/issues\/13851\r\n","created_at":"2018-04-13T16:56:35.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381197319","id":381197319,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE5NzMxOQ==","updated_at":"2018-04-13T16:56:35.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381197319","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":13,"author_association":"OWNER","body":"Why are you creating a new `FogExp2` object instead of just changing its values?","created_at":"2018-04-13T20:24:47.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381251507","id":381251507,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI1MTUwNw==","updated_at":"2018-04-13T20:25:03.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381251507","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":14,"author_association":"NONE","body":"> Why are you creating a new FogExp2 object instead of just changing its values?\r\n\r\nBecause in my example it is shown that first I create a fog by specifying scene.fog = new THREE.FogExp2 (color, 0.02); then delete by making scene.fog = null ;, so the fog is gone and you have to create it again.","created_at":"2018-04-14T04:10:24.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381301774","id":381301774,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTMwMTc3NA==","updated_at":"2018-04-14T04:10:24.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381301774","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":15,"author_association":"COLLABORATOR","body":"Why don't you do:\r\n\r\n```\r\nconst fog = new THREE.FogExp2 (color, 0.02); \r\nscene.fog = fog;\r\n\r\n...\r\nscene.fog = null;\r\n```","created_at":"2018-04-14T04:43:43.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381303088","id":381303088,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTMwMzA4OA==","updated_at":"2018-04-14T04:43:43.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381303088","user":{"following_url":"https:\/\/api.github.com\/users\/looeee\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/looeee\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/5307958?v=4","url":"https:\/\/api.github.com\/users\/looeee","gists_url":"https:\/\/api.github.com\/users\/looeee\/gists{\/gist_id}","html_url":"https:\/\/github.com\/looeee","subscriptions_url":"https:\/\/api.github.com\/users\/looeee\/subscriptions","node_id":"MDQ6VXNlcjUzMDc5NTg=","repos_url":"https:\/\/api.github.com\/users\/looeee\/repos","received_events_url":"https:\/\/api.github.com\/users\/looeee\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/looeee\/starred{\/owner}{\/repo}","site_admin":false,"login":"looeee","type":"User","id":5307958,"followers_url":"https:\/\/api.github.com\/users\/looeee\/followers","organizations_url":"https:\/\/api.github.com\/users\/looeee\/orgs"}},{"index":16,"author_association":"COLLABORATOR","body":"See the Materials section [here](https:\/\/threejs.org\/docs\/#manual\/introduction\/How-to-update-things).\r\n\r\nAdding or removing fog requires the shader to be recompiled.","created_at":"2018-04-14T05:05:35.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381303954","id":381303954,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTMwMzk1NA==","updated_at":"2018-04-14T05:05:35.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381303954","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":17,"author_association":"NONE","body":"> Adding or removing fog requires the shader to be recompiled.\r\n\r\nI know it. the problem is there in another, on the video I showed.","created_at":"2018-04-14T05:47:17.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381305757","id":381305757,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTMwNTc1Nw==","updated_at":"2018-04-14T05:47:17.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381305757","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":18,"author_association":"COLLABORATOR","body":"The problem is that the code compares fog instances via `materialProperties.fog !== fog` to see if a material update is necessary. When @osov overwrites an existing fog with a new instance of the same type, the mentioned if statement evaluates to true in all upcoming frames. This happens because `materialProperties.fog` is never updated with the new fog instance since `initMaterial()` returns at the following place  (which is correct since changes at the shader program or uniform list are not necessary):\r\n\r\nhttps:\/\/github.com\/mrdoob\/three.js\/blob\/fb46a77f8ef9f82992b5119c834ae72ad1f46578\/src\/renderers\/WebGLRenderer.js#L1480-L1481","created_at":"2018-04-14T08:52:40.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381314524","id":381314524,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTMxNDUyNA==","updated_at":"2018-04-14T11:24:14.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381314524","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":19,"author_association":"COLLABORATOR","body":">Why are you creating a new FogExp2 object instead of just changing its values?\r\n>>Because in my example it is shown that first I create a fog by specifying scene.fog = new THREE.FogExp2 (color, 0.02); then delete by making scene.fog = null ;, so the fog is gone and you have to create it again.\r\n\r\nAs @mrdoob said, try this, instead:\r\n```javascript\r\nscene.fog.density = 0;\r\n```","created_at":"2018-04-14T17:24:41.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381345366","id":381345366,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTM0NTM2Ng==","updated_at":"2018-04-14T17:24:41.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381345366","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":20,"author_association":"NONE","body":"> As @mrdoob said, try this, instead:\r\n\r\nThank you, I know that you can do so. But I'm looking at this also from the point of view of optimization.","created_at":"2018-04-15T05:20:51.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381381002","id":381381002,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTM4MTAwMg==","updated_at":"2018-04-15T05:20:51.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381381002","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}},{"index":21,"author_association":"COLLABORATOR","body":"I'm not sure it's worth to add more complexity to the code in order to avoid a minimum amount of overhead. Besides, I've never seen that users change the fog like you did. So I don't think many users are involved in this issue.","created_at":"2018-04-15T15:41:21.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381415794","id":381415794,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTQxNTc5NA==","updated_at":"2018-04-15T15:41:21.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381415794","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":22,"author_association":"NONE","body":"Ok.","created_at":"2018-04-15T17:59:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/13849#issuecomment-381425293","id":381425293,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13849","node_id":"MDEyOklzc3VlQ29tbWVudDM4MTQyNTI5Mw==","updated_at":"2018-04-15T17:59:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/381425293","user":{"following_url":"https:\/\/api.github.com\/users\/osov\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/osov\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/38345012?v=4","url":"https:\/\/api.github.com\/users\/osov","gists_url":"https:\/\/api.github.com\/users\/osov\/gists{\/gist_id}","html_url":"https:\/\/github.com\/osov","subscriptions_url":"https:\/\/api.github.com\/users\/osov\/subscriptions","node_id":"MDQ6VXNlcjM4MzQ1MDEy","repos_url":"https:\/\/api.github.com\/users\/osov\/repos","received_events_url":"https:\/\/api.github.com\/users\/osov\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/osov\/starred{\/owner}{\/repo}","site_admin":false,"login":"osov","type":"User","id":38345012,"followers_url":"https:\/\/api.github.com\/users\/osov\/followers","organizations_url":"https:\/\/api.github.com\/users\/osov\/orgs"}}]}