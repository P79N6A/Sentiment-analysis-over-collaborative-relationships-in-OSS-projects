{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"This looks great to me, thanks. I'm happy with having this on by default, and frankly not even sure the option of turning it off is necessary. Is there a complete sample model you could share? Just as an attachment in a PR comment is fine.","created_at":"2017-11-21T17:09:29.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-346094973","id":346094973,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0NjA5NDk3Mw==","updated_at":"2017-11-21T17:09:29.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/346094973","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":1,"author_association":"COLLABORATOR","body":"I vote for default (and always on).","created_at":"2017-11-21T23:36:54.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-346196370","id":346196370,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0NjE5NjM3MA==","updated_at":"2017-11-21T23:36:54.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/346196370","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"Can we use hash, rather than array, for the faster search?\r\n\r\nFor example, key can be like this (it can be more optimized)\r\n\r\n    var key = '';\r\n    key += 'indices_' + a.indices;\r\n    \r\n    var attribA = a.attributes || {};\r\n    var keysA = Object.keys( attribA );\r\n\r\n    for ( var i = 0; i < keysA.length; i++ ) {\r\n\r\n        var k = keysA[ i ];\r\n        key += '_' + k + '_' + keysA[ k ];\r\n\r\n    }\r\n\r\nAlso, `getCachedGeometry` code would be simpler, just `return cache[ key ] || null;`.\r\n","created_at":"2017-11-21T23:57:50.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-346199914","id":346199914,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0NjE5OTkxNA==","updated_at":"2017-11-22T00:58:21.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/346199914","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":3,"author_association":"CONTRIBUTOR","body":"The hash would also have to take into account the sorting of the keys. I'm not sure the code is really much simpler and I can't imagine the performance differences would be significant. But I can explore that if you want.\r\n\r\nHere's a test case, a bunch of cubes that get de-duplicated down to a single one.\r\n\r\n<img width=\"734\" alt=\"screen shot 2017-11-21 at 7 14 45 pm\" src=\"https:\/\/user-images.githubusercontent.com\/1383811\/33107546-bcf49c08-cf05-11e7-9af6-aa979e773458.png\">\r\n\r\n[Link to ZIP of blend and GLTF files](https:\/\/github.com\/mrdoob\/three.js\/files\/1493704\/Cubes.zip)\r\n\r\n_Note:_ When turning particles into meshes, Blender is smart enough to use the same Object Data for all of them, and de-duplication isn't necessary after exporting GLTF. I had to force them all as unique geometries in this test. However, I've run into other situations where deduplication is important\u2014certain workflows and editing approaches (e.g. using Duplicate Object, or exporting from Maya) can lead to a lot of redundant geometry.","created_at":"2017-11-22T02:52:10.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-346227889","id":346227889,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0NjIyNzg4OQ==","updated_at":"2017-11-22T02:52:10.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/346227889","user":{"following_url":"https:\/\/api.github.com\/users\/mattdesl\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mattdesl\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1383811?v=4","url":"https:\/\/api.github.com\/users\/mattdesl","gists_url":"https:\/\/api.github.com\/users\/mattdesl\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mattdesl","subscriptions_url":"https:\/\/api.github.com\/users\/mattdesl\/subscriptions","node_id":"MDQ6VXNlcjEzODM4MTE=","repos_url":"https:\/\/api.github.com\/users\/mattdesl\/repos","received_events_url":"https:\/\/api.github.com\/users\/mattdesl\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mattdesl\/starred{\/owner}{\/repo}","site_admin":false,"login":"mattdesl","type":"User","id":1383811,"followers_url":"https:\/\/api.github.com\/users\/mattdesl\/followers","organizations_url":"https:\/\/api.github.com\/users\/mattdesl\/orgs"}},{"index":4,"author_association":"COLLABORATOR","body":"I still think hash is better than array because that each geometry searches in array isn't scalable against distinct geometries#, O(N^2). (I assume this option is always on. And yeah sorting would be sort of problem for performance tho...).\r\n\r\nBut such optimization could have done later. Array first would be ok for now.","created_at":"2017-11-22T03:18:06.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-346231458","id":346231458,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0NjIzMTQ1OA==","updated_at":"2017-11-22T11:39:22.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/346231458","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":5,"author_association":"OWNER","body":"> This looks great to me, thanks. I'm happy with having this on by default, and frankly not even sure the option of turning it off is necessary. Is there a complete sample model you could share? Just as an attachment in a PR comment is fine.\r\n\r\nAgreed. No need to have an `options` parameter that way \ud83d\udc4d","created_at":"2017-11-22T09:59:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-346301162","id":346301162,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0NjMwMTE2Mg==","updated_at":"2017-11-22T09:59:28.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/346301162","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":6,"author_association":"CONTRIBUTOR","body":"Ok, thanks for the feedback everybody. I've enabled this by default (no need for `options` anymore) and cleaned up the `isPrimitiveEqual` function.","created_at":"2017-11-27T18:51:36.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-347285571","id":347285571,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0NzI4NTU3MQ==","updated_at":"2017-11-27T18:51:36.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/347285571","user":{"following_url":"https:\/\/api.github.com\/users\/mattdesl\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mattdesl\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1383811?v=4","url":"https:\/\/api.github.com\/users\/mattdesl","gists_url":"https:\/\/api.github.com\/users\/mattdesl\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mattdesl","subscriptions_url":"https:\/\/api.github.com\/users\/mattdesl\/subscriptions","node_id":"MDQ6VXNlcjEzODM4MTE=","repos_url":"https:\/\/api.github.com\/users\/mattdesl\/repos","received_events_url":"https:\/\/api.github.com\/users\/mattdesl\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mattdesl\/starred{\/owner}{\/repo}","site_admin":false,"login":"mattdesl","type":"User","id":1383811,"followers_url":"https:\/\/api.github.com\/users\/mattdesl\/followers","organizations_url":"https:\/\/api.github.com\/users\/mattdesl\/orgs"}},{"index":7,"author_association":"OWNER","body":"Ops! Sorry, seems like another PR caused some conflicts. Do you mind resolving them?","created_at":"2017-12-01T11:35:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-348473217","id":348473217,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0ODQ3MzIxNw==","updated_at":"2017-12-01T11:35:08.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/348473217","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":8,"author_association":"CONTRIBUTOR","body":"Ok, I've merged with latest dev and I'm using if\/else now instead of early breaking\/continuing the loop.","created_at":"2017-12-05T23:03:39.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-349470990","id":349470990,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM0OTQ3MDk5MA==","updated_at":"2017-12-05T23:03:39.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/349470990","user":{"following_url":"https:\/\/api.github.com\/users\/mattdesl\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mattdesl\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/1383811?v=4","url":"https:\/\/api.github.com\/users\/mattdesl","gists_url":"https:\/\/api.github.com\/users\/mattdesl\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mattdesl","subscriptions_url":"https:\/\/api.github.com\/users\/mattdesl\/subscriptions","node_id":"MDQ6VXNlcjEzODM4MTE=","repos_url":"https:\/\/api.github.com\/users\/mattdesl\/repos","received_events_url":"https:\/\/api.github.com\/users\/mattdesl\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mattdesl\/starred{\/owner}{\/repo}","site_admin":false,"login":"mattdesl","type":"User","id":1383811,"followers_url":"https:\/\/api.github.com\/users\/mattdesl\/followers","organizations_url":"https:\/\/api.github.com\/users\/mattdesl\/orgs"}},{"index":9,"author_association":"OWNER","body":"Thanks @mattdesl!\r\n\r\n@donmccurdy looks good then?","created_at":"2017-12-13T01:47:26.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-351255130","id":351255130,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1MTI1NTEzMA==","updated_at":"2017-12-13T01:47:26.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/351255130","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":10,"author_association":"COLLABORATOR","body":"This looks good to me. \ud83d\ude42\r\n\r\nFor my own curiosity (and this doesn't need to block merging) is there a difference between reusing an entire `BufferGeometry` vs using multiple geometries with the same `BufferAttribute`s?","created_at":"2017-12-13T02:29:59.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-351262416","id":351262416,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1MTI2MjQxNg==","updated_at":"2017-12-13T02:29:59.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/351262416","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":11,"author_association":"OWNER","body":"Hmm... yes. Currently, I think the renderer avoids reuploading buffer attributes if the geometry and material are the same as the previous object rendered.","created_at":"2017-12-13T09:29:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-351333955","id":351333955,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1MTMzMzk1NQ==","updated_at":"2017-12-13T09:29:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/351333955","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":12,"author_association":"OWNER","body":"Thanks!","created_at":"2017-12-13T09:29:32.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-351334023","id":351334023,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1MTMzNDAyMw==","updated_at":"2017-12-13T09:29:32.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/351334023","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":13,"author_association":"COLLABORATOR","body":"Let me share the evaluation about performance dependency on distinct primitives#. (distinct primitives means the ones that can't be reused because of different attributes)\r\n\r\nThe conclusion is it doesn't matter in general.\r\nBut it can be performance issue where distinct primitive# is very very huge (>2000).\r\nSo this impl is ok so far, but it'd be better to optimize some day just in case.\r\n\r\n| #primitives | w\/o this change [ms] (*1) | w\/ this change [ms] (*2) | \r\n| ---- | ---- | ---- |\r\n|100 | 50 | 50 |\r\n|500 | 120 | 130 |\r\n|1,000 | 250 | 250 |\r\n|2,000 | 350 | 450 |\r\n|3,000 | 500 | 700 |\r\n|4,000 | 700 | 1,100 |\r\n|5,000 | 1,000 | 1,700 |\r\n|6,000 | 1,300 | 2,300 |\r\n|7,000 | 1,800 | 3,200 |\r\n|8,000 | 2,100 | 4,300 |\r\n|9,000 | 2,500 | 5,200 |\r\n|10,000 | 3,200 | 7,000 |\r\n\r\n![image](https:\/\/user-images.githubusercontent.com\/7637832\/33975730-ccdc4028-e0d3-11e7-971a-81aa20f8fbe7.png)\r\n\r\n\r\n*1, *2: Elapsed time of `GLTFLoader.load`. gltf file is based on `many-cubes-optimized.gltf` @mattdesl posted\r\n\r\n*1: To simulate 'w\/o this change', I added `return null;` here L1214 https:\/\/github.com\/mrdoob\/three.js\/blob\/8732d135c8fbce5b2cdc007f2ee16650a5ed9446\/examples\/js\/loaders\/GLTFLoader.js#L1213-L1215\r\n\r\n*2: To simulate 'w\/ this change' with distinct primitives, I added `return false;` here L1192 https:\/\/github.com\/mrdoob\/three.js\/blob\/8732d135c8fbce5b2cdc007f2ee16650a5ed9446\/examples\/js\/loaders\/GLTFLoader.js#L1191-L1193\r\n\r\n","created_at":"2017-12-14T04:49:02.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-351608064","id":351608064,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1MTYwODA2NA==","updated_at":"2017-12-14T22:49:42.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/351608064","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":14,"author_association":"COLLABORATOR","body":"The complexity of the part I mentioned above is O(n^2 * m) where n is distinct pritmitives# and m is keys# in an `attributes` while the one of hash with sorting keys is O(n * m * logm). So probably hash key approach would be better in terms of scalability, I haven't evaluated yet tho.","created_at":"2017-12-14T08:01:48.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-351636238","id":351636238,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1MTYzNjIzOA==","updated_at":"2017-12-14T08:06:18.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/351636238","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":15,"author_association":"COLLABORATOR","body":"Nice writeup, thanks @takahirox!\r\n\r\n> But it can be performance issue where distinct primitive# is very very huge (>2000).\r\n\r\nThe other condition is that the reused primitive be simple; for complex primitives this might skew the other way. And the loading time is a secondary concern to runtime performance here, where this PR does improve things nicely.\r\n\r\n> So probably hash key approach would be better in terms of scalability, I haven't evaluated yet tho.\r\n\r\nOpen to trying other versions of `isPrimitiveEqual` in another PR if you'd like to have a go at it. \ud83d\ude42","created_at":"2017-12-14T17:40:59.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-351783814","id":351783814,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc4MzgxNA==","updated_at":"2017-12-14T17:40:59.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/351783814","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":16,"author_association":"COLLABORATOR","body":"Yup I will but feeling like trying to find better solutions because I know that sorting idea isn't the best solution.","created_at":"2017-12-30T01:24:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-354519873","id":354519873,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM1NDUxOTg3Mw==","updated_at":"2017-12-30T01:24:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/354519873","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":17,"author_association":"COLLABORATOR","body":"I'm thinking of updating glTF spec (in next version) to allow shared primitives among meshes rather than trying algorithm optimization.\r\n\r\n~https:\/\/github.com\/KhronosGroup\/glTF\/issues\/1250 would be a good thread?~\r\n","created_at":"2018-02-18T17:13:32.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-366530931","id":366530931,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM2NjUzMDkzMQ==","updated_at":"2018-02-18T17:20:00.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/366530931","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":18,"author_association":"COLLABORATOR","body":"Worth discussing, maybe in https:\/\/github.com\/KhronosGroup\/glTF\/issues\/1249 would be better \ud83d\udc4d","created_at":"2018-02-18T17:17:03.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-366531245","id":366531245,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM2NjUzMTI0NQ==","updated_at":"2018-02-18T17:17:03.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/366531245","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":19,"author_association":"COLLABORATOR","body":"Oops, I've just posted a wrong thread by my misoperation. Thanks for the right thread.","created_at":"2018-02-18T17:19:41.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-366531467","id":366531467,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM2NjUzMTQ2Nw==","updated_at":"2018-02-18T17:19:41.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/366531467","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":20,"author_association":"COLLABORATOR","body":"I just realized that more precisely we should also check `targets`, `extensions`, and `extras` to know if geometry is reusable. Checking logic will be heavy and messy. So I wanna further encourage glTF spec update to enable reusable geometry(primitive) specification.","created_at":"2018-04-10T19:03:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12718#issuecomment-380212585","id":380212585,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12718","node_id":"MDEyOklzc3VlQ29tbWVudDM4MDIxMjU4NQ==","updated_at":"2018-04-10T19:03:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/380212585","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}}]}