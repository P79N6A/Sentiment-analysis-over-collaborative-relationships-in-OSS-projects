{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"OWNER","body":"@takahirox this seems relevant for the `FBXLoader` too...","created_at":"2017-05-14T04:38:17.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301290530","id":301290530,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTI5MDUzMA==","updated_at":"2017-05-14T04:45:37.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301290530","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":1,"author_association":"COLLABORATOR","body":"Maybe this is relevant for `GLTF2Loader` too \/cc @donmccurdy \r\n\r\nI've already noticed this issue but I haven't come up with any good ideas yet.\r\nThe problem is we can't detect the file type(ascii or binary) without actually reading data.\r\n\r\nIn my mind, one easy solution is *Loader accepts file type option.\r\nIf it indicates the file is ascii, we can directly load as text.\r\n\r\nOr loading twice (first as arraybuffer, second as text) would be faster than converting because of browser cache?","created_at":"2017-05-14T04:42:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301290621","id":301290621,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTI5MDYyMQ==","updated_at":"2017-05-14T04:52:06.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301290621","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":2,"author_association":"CONTRIBUTOR","body":"Since I expected that this would be relevant for some other loaders as well, but I am not familiar with loader internals, I only pointed out the issue and made no suggestion.\r\n\r\nBut this matches my own thoughts:\r\n\r\n> In my mind, one easy solution is *Loader accepts file type option.\r\n> If it indicates the file is ascii, we can directly load as text.","created_at":"2017-05-14T07:56:02.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301297018","id":301297018,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTI5NzAxOA==","updated_at":"2017-05-14T07:56:02.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301297018","user":{"following_url":"https:\/\/api.github.com\/users\/jostschmithals\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jostschmithals\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/5700294?v=4","url":"https:\/\/api.github.com\/users\/jostschmithals","gists_url":"https:\/\/api.github.com\/users\/jostschmithals\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jostschmithals","subscriptions_url":"https:\/\/api.github.com\/users\/jostschmithals\/subscriptions","node_id":"MDQ6VXNlcjU3MDAyOTQ=","repos_url":"https:\/\/api.github.com\/users\/jostschmithals\/repos","received_events_url":"https:\/\/api.github.com\/users\/jostschmithals\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jostschmithals\/starred{\/owner}{\/repo}","site_admin":false,"login":"jostschmithals","type":"User","id":5700294,"followers_url":"https:\/\/api.github.com\/users\/jostschmithals\/followers","organizations_url":"https:\/\/api.github.com\/users\/jostschmithals\/orgs"}},{"index":3,"author_association":"COLLABORATOR","body":"It may be worth looking into [TextDecoder](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/TextDecoder) for these cases, instead of iterative `String.fromCharCode(...)`. But  when I tried briefly with GLTF2Loader, it wasn't clear what encoding to use.\r\n\r\nAllowing `loader.setResponseType('...')` does seem fine to me, too.\r\n","created_at":"2017-05-14T16:26:31.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301323480","id":301323480,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTMyMzQ4MA==","updated_at":"2017-05-14T16:26:31.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301323480","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":4,"author_association":"COLLABORATOR","body":"Oh! I didn't know that Chrome already started to support `TextDecoder`.\r\n(It didn't support yet when I looked into before)\r\nBut it still seems an experimental, IE and Safari don't support yet.\r\n\r\nSo, we'll have both `TextDecoder`(+polyfill) and `loader.setResponseType()`?\r\n\r\nFirst of all, I'll evaluate the performance of `TextDecoder`.\r\n\r\nAbout encoding type, wouldn't default 'utf-8' work?\r\n\r\nUpdate:\r\n`TextDecoder.decode()` seems to copy the bytes, not share the original bytes.\r\n~~So maybe the situation wouldn't change.~~","created_at":"2017-05-14T23:12:55.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301346591","id":301346591,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM0NjU5MQ==","updated_at":"2017-05-15T09:29:50.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301346591","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"I wrote an easy benchmark and found that `TextDecoder` approach is about 70x faster\r\nthan the `String.fromCharCode` one on my Windows10 + Chrome.\r\nSo using `TextDecoder` would be worth.\r\n\r\nBenchmark:\r\n\r\n    function initArray() {\r\n\r\n        var a = [];\r\n\r\n        \/\/ 32MB\r\n        for ( var i = 0; i < 0x2000000; i++ ) {\r\n\r\n            \/\/ ascii char set\r\n            a[ i ] = ( ( Math.random() * 128 ) | 0 );\r\n\r\n        }\r\n\r\n        return new Uint8Array( a );\r\n\r\n    }\r\n\r\n    function funcStringFromCharCode( array ) {\r\n\r\n        var str = String;\r\n        var s = '';\r\n\r\n        for ( var i = 0, il = array.length; i < il; i++ ) {\r\n\r\n            s += str.fromCharCode( array[ i ] );\r\n\r\n        }\r\n\r\n        return s;\r\n\r\n    }\r\n\r\n    function funcTextDecoder( array ) {\r\n\r\n        return new TextDecoder().decode( array );\r\n\r\n    }\r\n\r\n    function run( label, func, array ) {\r\n\r\n        var startTime = performance.now();\r\n        func( array );\r\n        var endTime = performance.now();\r\n        console.log( label + ': ' + ( endTime - startTime ) );\r\n\r\n    }\r\n\r\n    var array = initArray();\r\n    run( 'String.fromCharCode', funcStringFromCharCode, array );\r\n    run( 'String.fromCharCode', funcStringFromCharCode, array );\r\n    run( 'String.fromCharCode', funcStringFromCharCode, array );\r\n    run( 'TextDecoder.decode ', funcTextDecoder, array );\r\n    run( 'TextDecoder.decode ', funcTextDecoder, array );\r\n    run( 'TextDecoder.decode ', funcTextDecoder, array );\r\n    console.log( 'Two results are same: ' + ( funcStringFromCharCode( array ) === funcTextDecoder( array ) ) );\r\n\r\n\r\nResult:\r\n\r\n    String.fromCharCode: 1879.994999999999\r\n    String.fromCharCode: 1740.5349999999999\r\n    String.fromCharCode: 1706.8400000000038\r\n    TextDecoder.decode : 59.61000000000058\r\n    TextDecoder.decode : 66.30999999999767\r\n    TextDecoder.decode : 67.6649999999936\r\n    Two results are same: true\r\n","created_at":"2017-05-15T00:51:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301352355","id":301352355,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM1MjM1NQ==","updated_at":"2017-05-16T00:09:35.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301352355","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":6,"author_association":"OWNER","body":"Niice!!","created_at":"2017-05-15T01:08:53.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301353688","id":301353688,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM1MzY4OA==","updated_at":"2017-05-15T01:08:53.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301353688","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":7,"author_association":"COLLABORATOR","body":"So, replacing existing convert function with like this so far?\r\n\r\n\tfunction convertUint8ArrayToString( array ) {\r\n\r\n\t\tif ( window.TextDecoder !== undefined ) {\r\n\r\n\t\t\treturn new TextDecoder().decode( array );\r\n\r\n\t\t} \r\n\r\n\t\tvar s = '';\r\n\r\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\r\n\r\n\t\t\ts += String.fromCharCode( array[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\treturn s;\r\n\r\n\t}\r\n","created_at":"2017-05-15T01:19:02.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301354594","id":301354594,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM1NDU5NA==","updated_at":"2017-05-15T01:33:05.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301354594","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":8,"author_association":"COLLABORATOR","body":"BTW, I realized the convert function of `STLLoader` isn't tuned well.\r\nJust tuning it would make the performance 4x better.\r\n\r\nI added \r\n\r\n    function funcStringFromCharCodeSTL( array ) {\r\n\r\n        var a = [];\r\n\r\n        for ( var i = 0; i < array.length; i++ ) {\r\n\r\n            a.push( String.fromCharCode( array[ i ] ) );\r\n\r\n        }\r\n\r\n        return a.join('');\r\n\r\n    }\r\n\r\nand compared again. The result is\r\n\r\n    String.fromCharCode: 949.6350000000093\r\n    String.fromCharCode: 1431.4800000000396\r\n    String.fromCharCode: 1858.3850000000093\r\n    String.fromCharCodeSTL: 4436.550000000047\r\n    String.fromCharCodeSTL: 5141.315000000002\r\n    String.fromCharCodeSTL: 5079.369999999995\r\n    TextDecoder.decode : 61.679999999993015\r\n    TextDecoder.decode : 65.70499999995809\r\n    TextDecoder.decode : 73.2599999999511\r\n","created_at":"2017-05-15T01:29:57.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301355619","id":301355619,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM1NTYxOQ==","updated_at":"2017-05-15T01:29:57.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301355619","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":9,"author_association":"COLLABORATOR","body":"@jostschmithals \r\n\r\nWould you please try to add\r\n\r\n    if ( window.TextDecoder !== undefined ) {\r\n\r\n        return new TextDecoder().decode( array_buffer );\r\n\r\n    }\r\n\r\nafter\r\n\r\n    var array_buffer = new Uint8Array( buf );\r\n\r\nin `STLLoader`\r\n\r\nhttps:\/\/github.com\/mrdoob\/three.js\/blob\/6028312ec0fe149b5534dd5de7b875eaeb148fbc\/examples\/js\/loaders\/STLLoader.js#L247\r\n\r\nand see how the performance with your 40MB file will be?","created_at":"2017-05-15T01:41:02.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301356723","id":301356723,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM1NjcyMw==","updated_at":"2017-05-15T01:41:02.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301356723","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":10,"author_association":"COLLABORATOR","body":"> About encoding type, wouldn't default 'utf-8' work?\r\n\r\nYes, that should work fine. The encoding issues I had before were with something else that shouldn't matter here, now that I think about it.","created_at":"2017-05-15T05:02:30.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301376859","id":301376859,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTM3Njg1OQ==","updated_at":"2017-05-15T05:02:44.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301376859","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":11,"author_association":"CONTRIBUTOR","body":"@takahirox \r\n> ... and  see how the performance with your 40MB file will be?\r\n\r\nThe result is excellent! - Adding\r\n```\r\nif ( window.TextDecoder !== undefined ) {\r\n\r\n    return new TextDecoder().decode( array_buffer );\r\n\r\n}\r\n```\r\n\r\nimproves the time needed on my system for executing the `ensureString` function \r\n\r\n- on Chrome from 12 seconds before to 0.12 seconds afterwards\r\n- on FF from 5-6 seconds before to 0.17 seconds afterwards\r\n\r\n(with the previously tested 40MB STL ASCII file, on Windows 10)\r\n\r\n  \\- and in spite of this the model looks exactly like before \ud83d\ude09\r\n","created_at":"2017-05-15T14:31:24.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301493059","id":301493059,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTQ5MzA1OQ==","updated_at":"2017-05-15T14:55:46.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301493059","user":{"following_url":"https:\/\/api.github.com\/users\/jostschmithals\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jostschmithals\/events{\/privacy}","avatar_url":"https:\/\/avatars1.githubusercontent.com\/u\/5700294?v=4","url":"https:\/\/api.github.com\/users\/jostschmithals","gists_url":"https:\/\/api.github.com\/users\/jostschmithals\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jostschmithals","subscriptions_url":"https:\/\/api.github.com\/users\/jostschmithals\/subscriptions","node_id":"MDQ6VXNlcjU3MDAyOTQ=","repos_url":"https:\/\/api.github.com\/users\/jostschmithals\/repos","received_events_url":"https:\/\/api.github.com\/users\/jostschmithals\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jostschmithals\/starred{\/owner}{\/repo}","site_admin":false,"login":"jostschmithals","type":"User","id":5700294,"followers_url":"https:\/\/api.github.com\/users\/jostschmithals\/followers","organizations_url":"https:\/\/api.github.com\/users\/jostschmithals\/orgs"}},{"index":12,"author_association":"COLLABORATOR","body":"Niiice! I'll make PR!\r\n\r\nDo you folks think we need `loader.setResponseType()` or something for\r\nbrowsers which don't support `TextDecoder`?","created_at":"2017-05-15T22:58:18.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301628431","id":301628431,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTYyODQzMQ==","updated_at":"2017-05-15T22:58:18.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301628431","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":13,"author_association":"COLLABORATOR","body":"> Do you folks think we need loader.setResponseType() or something for\r\nbrowsers which don't support TextDecoder?\r\n\r\nGetting specific, that's [IE 11 and Microsoft Edge](http:\/\/caniuse.com\/#search=textDecoder)[1]. I'd encourage interested persons to [upvote the issue here](https:\/\/wpdev.uservoice.com\/forums\/257854-microsoft-edge-developer\/suggestions\/6558040-support-the-encoding-api). It is marked as \"under consideration\" currently.\r\n\r\nMy preference would be to not add `setResponseType()` if it's purely an optimization for one vendor. Setting a \"text\" response type for a binary `.glb` will not work, so it seems likely to confuse people in addition to adding code paths we must maintain.\r\n\r\n- [1] Excluding Opera Mini, which doesn't support WebGL anyway.","created_at":"2017-05-15T23:17:18.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301631385","id":301631385,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTYzMTM4NQ==","updated_at":"2017-05-15T23:18:56.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301631385","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":14,"author_association":"OWNER","body":"Agree with @donmccurdy","created_at":"2017-05-16T01:28:50.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-301649441","id":301649441,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwMTY0OTQ0MQ==","updated_at":"2017-05-16T01:28:50.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/301649441","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":15,"author_association":"COLLABORATOR","body":"TextDecoder API is now in progress on Microsoft Edge, as well: https:\/\/wpdev.uservoice.com\/forums\/257854-microsoft-edge-developer\/suggestions\/6558040-support-the-encoding-api \ud83d\ude42","created_at":"2017-05-31T18:11:16.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-305271191","id":305271191,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwNTI3MTE5MQ==","updated_at":"2017-05-31T18:11:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/305271191","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":16,"author_association":"COLLABORATOR","body":"Good news! \ud83c\udf89 ","created_at":"2017-05-31T18:13:43.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11287#issuecomment-305271786","id":305271786,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11287","node_id":"MDEyOklzc3VlQ29tbWVudDMwNTI3MTc4Ng==","updated_at":"2017-05-31T18:13:43.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/305271786","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}}]}