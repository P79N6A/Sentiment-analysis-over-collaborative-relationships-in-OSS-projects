{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"CONTRIBUTOR","body":"Clara.io uses the tangents, although I had to modify them a bit.  I use then to do anisotropic (non-circular) highlights:\n\nhttps:\/\/clara.io\/view\/4faca36d-d9aa-4b1b-b9a2-dfa8d6bc978b\n\nDetails: https:\/\/en.wikipedia.org\/wiki\/Specular_highlight#Ward_anisotropic_distribution\n\nI did try to implement anisotropic reflection without tangents but I could never get great results.  Now I am not 100% sure I can not get the same results with just UV derivatives, but I couldn't manage it and I tried a fair bit.\n\nThe main issue I believe I ran into is that the UV derivatives are constant within a face and change abrutly when you switch to a difference face -- because they are derived from the UV interpolation across each face.  Tangents are interpolated from the vertices, thus they vary smoothly across faces, thus you can get continuous results across faces.\n\nYou do not notice the abrupt change of UV derivates with bump and normal map because you are not looking at the tangent\/binormal directly as you are with an anisotropic highlight, rather just the normal.\n\n\/ping @WestLangley: Your math expertise may be useful here.\n","created_at":"2015-09-03T12:57:19.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137431205","id":137431205,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzQzMTIwNQ==","updated_at":"2015-09-03T12:57:57.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137431205","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":1,"author_association":"OWNER","body":"I assume you're using `BufferGeometry` and custom shaders for that, right? I guess you could then move the tangents generation code to the app level instead?\n\nI'm just trying to simplify\/reduce the code we have to maintain.\n","created_at":"2015-09-03T13:45:39.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137451365","id":137451365,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzQ1MTM2NQ==","updated_at":"2015-09-03T13:46:00.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137451365","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":2,"author_association":"CONTRIBUTOR","body":"I am fine removing it from core.\n\nActually we did end up are generating tangents explicitly within Clara.io and storing them in our mesh data files, very similar to how explicit UV maps are handled.  So we are already doing a fully out of ThreeJS core solution for tangents, although it is based on the tangent code in ThreeJS -- so thank you!\n","created_at":"2015-09-03T14:10:30.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137461759","id":137461759,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzQ2MTc1OQ==","updated_at":"2015-09-03T14:10:30.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137461759","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":3,"author_association":"OWNER","body":"Ended up moving `BufferGeometry.computeTangents()` to `BufferGeometryUtils.computeTangents()` in `examples\/js`.\n","created_at":"2015-09-03T20:28:34.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137564623","id":137564623,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU2NDYyMw==","updated_at":"2015-09-03T20:28:34.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137564623","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":4,"author_association":"OWNER","body":"Aaaand... we're back at 99kb gzipped \ud83d\ude01\n","created_at":"2015-09-03T20:40:14.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137568347","id":137568347,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU2ODM0Nw==","updated_at":"2015-09-03T20:40:14.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137568347","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"Yikes!\n\nI agree that tangent computation should be at the application\/modeling level. Moving `computeTangents()` to the examples was the right thing to do.\n\nIt was also OK to remove from the library and examples the shaders that rely on attribute tangents.\n\nBut you also removed _all_ tangent support from the library. I would not do that.\n\nI would continue to support users who have attribute tangents in their geometry.\n","created_at":"2015-09-03T20:54:16.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137571378","id":137571378,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU3MTM3OA==","updated_at":"2015-09-03T20:54:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137571378","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":6,"author_association":"OWNER","body":"Oh, I left one. `webgl_terrain_dynamic` still uses tangents (uses `THREE.BufferGeometryUtils.computeTangents()`). I'm not sure what to do with `webgl_materials_skin` though...\n","created_at":"2015-09-03T20:57:36.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137573130","id":137573130,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU3MzEzMA==","updated_at":"2015-09-03T20:57:36.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137573130","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":7,"author_association":"OWNER","body":"In the IRC someone is saying that they were relying on `NormalDisplacementShader.js`. I'll try to bring it back use in a `BufferGeometry` based example.\n","created_at":"2015-09-03T21:21:40.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137578360","id":137578360,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU3ODM2MA==","updated_at":"2015-09-03T21:21:40.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137578360","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":8,"author_association":"COLLABORATOR","body":"As I said\n\n> But you also removed all tangent support from the library. I would not do that.\n> \n> I would continue to support users who have attribute tangents in their geometry.\n\nI would suggest we add vertex texture and displacement map support to `MeshPhongMaterial` instead of restoring the `NormalDisplacementShader`.\n\nDo any vertex texture examples remain?\n","created_at":"2015-09-03T21:38:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137581407","id":137581407,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU4MTQwNw==","updated_at":"2015-09-03T21:38:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137581407","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":9,"author_association":"OWNER","body":"> I would suggest we add vertex texture and displacement map support to `MeshPhongMaterial` instead of restoring the `NormalDisplacementShader`.\n\nThat sounds good to me!\n\n> Do any vertex texture examples remain?\n\nHmm... `webgl_kinect`?\n","created_at":"2015-09-03T21:53:28.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137584704","id":137584704,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU4NDcwNA==","updated_at":"2015-09-03T21:53:28.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137584704","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":10,"author_association":"OWNER","body":"As per things to keep... Maybe we can keep `VertexTangentsHelper`, but only for `BufferGeometry`.\n","created_at":"2015-09-03T21:59:01.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137585744","id":137585744,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU4NTc0NA==","updated_at":"2015-09-03T21:59:01.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137585744","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":11,"author_association":"COLLABORATOR","body":"It would seem to me that any loader that supports tangents should continue to do so.\n\nAlso, the pipeline from `Geometry -> DirectGeometry -> BufferGeometry` should support tangents.\n\nIMO, those two are important.\n\nYou can move the `VertexTangentsHelper` to the examples if you want.\n","created_at":"2015-09-03T22:08:21.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137587604","id":137587604,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU4NzYwNA==","updated_at":"2015-09-03T22:08:21.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137587604","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":12,"author_association":"CONTRIBUTOR","body":"I'd prefer to still be able to specify tangents and have them communicated to shaders.  But everything but basic support can be moved to examples.\n\nRadical idea - if we want to be space efficient why don't we demo `Geometry.js` to examples\/js?  It is both slow, and memory inefficient.  Using it is never best practice.  It is useful when creating custom geometry for sure but in most playback situations and gaming situation that isn't needed.  I think there are other types of inefficient \"creation\" oriented stuff that can also be demoted.  A core ThreeJS could be completely oriented around playback of loaded geometries\/textures\/materials.\n","created_at":"2015-09-03T22:32:43.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137591457","id":137591457,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzU5MTQ1Nw==","updated_at":"2015-09-03T22:32:43.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137591457","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":13,"author_association":"OWNER","body":"@bhouston that's the long term goal \ud83d\ude00 I suspect that someone that knows what tangents are is unlikely to be using THREE.Geometry...\n","created_at":"2015-09-03T23:23:53.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137600210","id":137600210,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzYwMDIxMA==","updated_at":"2015-09-03T23:23:53.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137600210","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":14,"author_association":"OWNER","body":"Ok, implemented displacementMap. I think this is the first time I hack the shader chunk stuff. What a mess... \ud83d\ude05\n\nI'm not updating the normals though, I think that would require sampling the neighbour pixels in the texture to find the slope. And for that I would also need the dimensions of the texture...\n","created_at":"2015-09-05T00:34:51.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137887506","id":137887506,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzg4NzUwNg==","updated_at":"2015-09-05T00:34:51.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137887506","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":15,"author_association":"COLLABORATOR","body":"> Ok, implemented displacementMap.\n\nSo did I in #7107. Hmmm...\n","created_at":"2015-09-05T03:10:25.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-137896948","id":137896948,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDEzNzg5Njk0OA==","updated_at":"2015-09-05T03:10:25.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/137896948","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":16,"author_association":"COLLABORATOR","body":"> I'd prefer to still be able to specify tangents and have them communicated to shaders.\r\n\r\nIs this still something we'd want in core three.js? For example:\r\n\r\n```js\r\ngeometry.setAttribute( 'tangent', tangentAttribute );\r\n\r\nmaterial.vertexTangents = true;\r\n\r\nvar mesh = new THREE.Mesh( geometry, material );\r\n```","created_at":"2018-03-03T06:00:45.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-370122178","id":370122178,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3MDEyMjE3OA==","updated_at":"2018-03-03T06:00:45.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/370122178","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":17,"author_association":"COLLABORATOR","body":"@donmccurdy To the best of my knowledge, there has not been any demand for tangent support in three.js in years. three.js does not require them, and internal support for tangents has been removed. So, in spite of what I wrote in 2015, I would not worry about it at this point.\r\n","created_at":"2018-03-03T06:22:40.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-370123362","id":370123362,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3MDEyMzM2Mg==","updated_at":"2018-03-03T06:22:40.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/370123362","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":18,"author_association":"OWNER","body":"With the [current code](https:\/\/github.com\/mrdoob\/three.js\/blob\/dev\/src\/renderers\/shaders\/ShaderChunk\/normalmap_pars_fragment.glsl), is there a way to invert `normalScale` when rendering the flipped normalMap?\r\n\r\nMaybe something like...\r\n\r\n```glsl\r\nmapN.xy = mapN.xy * normalScale * normalize( vUV.st );\r\n```\r\n\r\nhttps:\/\/threejs.org\/examples\/webgl_loader_gltf.html\r\n\r\nNotice how the right side of the helmet has the normalMap inverted due to the texture being mirrored.\r\n\r\n![screenshot 2018-03-16 at 08 17 05](https:\/\/user-images.githubusercontent.com\/97088\/37528687-81f27a16-28f2-11e8-8146-343a394b1401.png)\r\n\r\n![screenshot 2018-03-16 at 08 26 45](https:\/\/user-images.githubusercontent.com\/97088\/37529250-e3d2dc70-28f3-11e8-905b-a644a507aa42.png)","created_at":"2018-03-16T15:28:29.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-373749253","id":373749253,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzc0OTI1Mw==","updated_at":"2018-03-16T17:44:53.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/373749253","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":19,"author_association":"COLLABORATOR","body":"@mrdoob This is definitely a normal map issue. I would think that `mirroredRepeatWrapping` would be appropriate, but it is not used in this model -- nor do I expect it would work correctly for normal maps.\r\n\r\nAlso see [this comment](https:\/\/github.com\/mrdoob\/three.js\/issues\/4935#issuecomment-296380394) -- and in fact, the entire thread.","created_at":"2018-03-16T16:24:33.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-373767549","id":373767549,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzc2NzU0OQ==","updated_at":"2018-03-16T16:24:33.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/373767549","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":20,"author_association":"OWNER","body":"> Maybe something like...\r\n>\r\n> ```glsl\r\n> mapN.xy = mapN.xy * normalScale * normalize( vUV.st );\r\n> ```\r\n\r\nActually, that code is stupid. Sorry about that \ud83d\ude05","created_at":"2018-03-16T17:47:42.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-373792604","id":373792604,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzc5MjYwNA==","updated_at":"2018-03-16T17:47:42.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/373792604","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":21,"author_association":"COLLABORATOR","body":"Just confirmed that re-introducing tangent support fixes the DamagedHelmet model:\r\n\r\n| without tangents | with tangents |\r\n|---|---|\r\n| ![screen shot 2018-03-28 at 8 58 28 am](https:\/\/user-images.githubusercontent.com\/1848368\/38041437-90ba17ac-3266-11e8-9866-00e52a7907aa.png) | ![screen shot 2018-03-28 at 8 58 52 am](https:\/\/user-images.githubusercontent.com\/1848368\/38041458-9d858214-3266-11e8-8501-2637c66e2fcf.png) |\r\n\r\nLonger discussion in https:\/\/github.com\/KhronosGroup\/glTF-Sample-Models\/pull\/149.\r\n\r\n(also requires updating to a version of the model that uses tangents)","created_at":"2018-03-28T16:02:55.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376941339","id":376941339,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk0MTMzOQ==","updated_at":"2018-03-28T16:08:55.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376941339","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":22,"author_association":"CONTRIBUTOR","body":"@donmccurdy This is a pretty minor issue and does not require tangents to be calculated, you are going about it in the wrong way.  I'll post it on the glTF issue as well.\r\n\r\nThis issue can be quickly fixed in the calculation of the normal map tangent space because it is possible to detected mirrored faces by comparing the specified normal with the tangent space normal.\r\n\r\nJust update normalmap_pars_fragments.glsl with this code and it probably will be fixed:\r\n\r\n```\r\nvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\r\n\r\n\t\t#if defined( TEXTURE_SLOTS )\r\n\t\t\tvec2 normalUv = normalMapUV();\r\n\t\t#else\r\n\t\t\tvec2 normalUv = vUv;\r\n\t\t#endif\r\n\r\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\r\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\r\n\t\tvec2 st0 = dFdx( normalUv.st );\r\n\t\tvec2 st1 = dFdy( normalUv.st );\r\n\r\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\r\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\t\t\r\n\t\tvec3 N = normalize( surf_norm );\r\n\r\n\t\t\/\/ invert S, T when the UV direction is backwards (from mirrored faces),\r\n\t\t\/\/ otherwise it will do the normal mapping backwards.\r\n\t\tvec3 NfromST = cross( S, T );\r\n\t\tif( dot( NfromST, N ) < 0.0 ) {\r\n\t\t\tS *= -1.0;\r\n\t\t\tT *= -1.0;\r\n\t\t}\r\n\r\n\t\tvec3 mapN = texture2D( normalMap, normalUv ).xyz * 2.0 - 1.0;\r\n\t\tmapN.xy = normalScale * mapN.xy;\r\n\t\tmat3 tsn = mat3( S, T, N );\r\n\t\treturn normalize( tsn * mapN );\r\n\r\n\t}\r\n```","created_at":"2018-03-28T16:12:39.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376944635","id":376944635,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk0NDYzNQ==","updated_at":"2018-03-28T16:12:39.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376944635","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":23,"author_association":"COLLABORATOR","body":"Thank you @bhouston! Yes, that fixes the issue and is a much easier solution than I attempted. \ud83d\ude05","created_at":"2018-03-28T16:24:48.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376948571","id":376948571,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk0ODU3MQ==","updated_at":"2018-03-28T16:24:48.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376948571","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":24,"author_association":"COLLABORATOR","body":"@donmccurdy The DamagedHelmet model is mirrored. This means that the winding order of the uvs are clockwise on one half and counterclockwise on the other half.\r\n\r\nThis means that the problem can not be fixed be setting `normalScale.x = - 1`.\r\n\r\nI'll file a PR to fix this.\r\n\r\n@bhouston Our exiting code is based on [this paper](http:\/\/hacksoflife.blogspot.ch\/2009\/11\/per-pixel-tangent-space-normal-mapping.html), which states.\r\n\r\n>Well, if we are going to normalize anyway, we don't really need a constant scaling term at all. Nuke it!\r\n\r\nThat statement is not true. If you scale a vector and then normalize it, the _direction of the vector changes_ if the scale is negative.\r\n\r\nConsequently, our code is buggy.\r\n\r\nThere are better solutions to this problem. I'll pick one and file a PR.","created_at":"2018-03-28T16:25:00.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376948632","id":376948632,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk0ODYzMg==","updated_at":"2018-03-28T16:25:00.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376948632","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":25,"author_association":"CONTRIBUTOR","body":"> That statement is not true. If you scale a vector and then normalize it, the direction of the vector changes if the scale is negative.\r\n\r\nHuh?  Normalizing a vector does not change its direction. ?","created_at":"2018-03-28T16:28:13.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376949608","id":376949608,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk0OTYwOA==","updated_at":"2018-03-28T16:28:13.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376949608","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":26,"author_association":"CONTRIBUTOR","body":"@WestLangley please try my solution it is actually very robust and correct.","created_at":"2018-03-28T16:29:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376949890","id":376949890,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk0OTg5MA==","updated_at":"2018-03-28T16:29:04.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376949890","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":27,"author_association":"CONTRIBUTOR","body":"@WestLangley I do not have a reference for my solution, I just derived it but I am pretty confident in it.","created_at":"2018-03-28T16:29:36.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376950074","id":376950074,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk1MDA3NA==","updated_at":"2018-03-28T16:29:36.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376950074","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}},{"index":28,"author_association":"COLLABORATOR","body":"@bhouston These vectors are different.\r\n```javascript\r\nnew THREE.Vector3( 10, 0, 0 ).multiplyScalar( - 1 ).normalize();\r\nnew THREE.Vector3( 10, 0, 0 ).normalize();\r\n```\r\nYou can't drop the scale factor.\r\n\r\nA modification to our existing code that I believe works is simply honoring (at least the sign of) the scale factor:\r\n```glsl\r\nvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\r\n\r\n\t\/\/ Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\r\n\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\r\n\tvec2 st0 = dFdx( vUv.st );\r\n\tvec2 st1 = dFdy( vUv.st );\r\n\r\n\tfloat denom = sign( st1.t * st0.s - st0.t * st1.s ); \/\/ we do not care about the magnitude\r\n\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) \/ denom );\r\n\tvec3 T = normalize( ( -q0 * st1.s + q1 * st0.s ) \/ denom );\r\n\tvec3 N = normalize( surf_norm );\r\n\r\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\r\n\tmapN.xy = normalScale * mapN.xy;\r\n\tmat3 tsn = mat3( S, T, N );\r\n\treturn normalize( tsn * mapN );\r\n\r\n}\r\n```\r\n\r\nThere is another approach described [here](http:\/\/www.thetenthplanet.de\/archives\/1180).\r\n","created_at":"2018-03-28T16:49:02.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376956316","id":376956316,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk1NjMxNg==","updated_at":"2018-03-28T16:50:37.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376956316","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":29,"author_association":"CONTRIBUTOR","body":"@WestLangley I do not understand your argument.  I am pretty sure in the end if your solution works correct it is mathematically equivalent to what I am proposing.  I am fine if you want to use your solution instead of mine, I'm not picky, let's just fix it.","created_at":"2018-03-28T16:58:05.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/7094#issuecomment-376959381","id":376959381,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/7094","node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk1OTM4MQ==","updated_at":"2018-03-28T16:58:05.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/376959381","user":{"following_url":"https:\/\/api.github.com\/users\/bhouston\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/bhouston\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/588541?v=4","url":"https:\/\/api.github.com\/users\/bhouston","gists_url":"https:\/\/api.github.com\/users\/bhouston\/gists{\/gist_id}","html_url":"https:\/\/github.com\/bhouston","subscriptions_url":"https:\/\/api.github.com\/users\/bhouston\/subscriptions","node_id":"MDQ6VXNlcjU4ODU0MQ==","repos_url":"https:\/\/api.github.com\/users\/bhouston\/repos","received_events_url":"https:\/\/api.github.com\/users\/bhouston\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/bhouston\/starred{\/owner}{\/repo}","site_admin":false,"login":"bhouston","type":"User","id":588541,"followers_url":"https:\/\/api.github.com\/users\/bhouston\/followers","organizations_url":"https:\/\/api.github.com\/users\/bhouston\/orgs"}}]}