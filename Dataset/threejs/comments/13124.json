{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"I think this solution will only work if the user uses the same variable `i` and whitespace formatting in their `ShaderMaterial` that the three.js built-in shaders use. Otherwise, the `unrollLoops()` pattern-matching will not work as desired.","created_at":"2018-01-17T17:04:37.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358372168","id":358372168,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODM3MjE2OA==","updated_at":"2018-01-17T17:04:37.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358372168","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":1,"author_association":"COLLABORATOR","body":"But it will solve issues when users re-use internal shader chunks in custom materials, see #12312","created_at":"2018-01-17T17:27:23.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358379235","id":358379235,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODM3OTIzNQ==","updated_at":"2018-01-17T17:28:02.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358379235","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":">But it will solve issues when users re-use internal shader chunks in custom materials, see #12312\r\n\r\nSure, but the flag does not work in general. `unrollLoops()` was not designed to work in general.","created_at":"2018-01-17T17:53:38.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358387152","id":358387152,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODM4NzE1Mg==","updated_at":"2018-01-17T17:53:38.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358387152","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":3,"author_association":"COLLABORATOR","body":"Can't we just note this fact in the docs? \ud83d\ude07 ","created_at":"2018-01-17T18:15:12.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358393749","id":358393749,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODM5Mzc0OQ==","updated_at":"2018-01-17T18:15:12.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358393749","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":4,"author_association":"NONE","body":"> Sure, but the flag does not work in general. unrollLoops() was not designed to work in general.\r\n\r\nSo why is it activated in everything *except* the `ShaderMaterial`? For instance, it's used in `RawShaderMaterial` too, so I think we're all missing information on what it is *supposed* to be doing here, could you enlighten us please?","created_at":"2018-01-18T09:52:57.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358595014","id":358595014,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODU5NTAxNA==","updated_at":"2018-01-18T09:53:05.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358595014","user":{"following_url":"https:\/\/api.github.com\/users\/AVGP\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/AVGP\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/370246?v=4","url":"https:\/\/api.github.com\/users\/AVGP","gists_url":"https:\/\/api.github.com\/users\/AVGP\/gists{\/gist_id}","html_url":"https:\/\/github.com\/AVGP","subscriptions_url":"https:\/\/api.github.com\/users\/AVGP\/subscriptions","node_id":"MDQ6VXNlcjM3MDI0Ng==","repos_url":"https:\/\/api.github.com\/users\/AVGP\/repos","received_events_url":"https:\/\/api.github.com\/users\/AVGP\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/AVGP\/starred{\/owner}{\/repo}","site_admin":false,"login":"AVGP","type":"User","id":370246,"followers_url":"https:\/\/api.github.com\/users\/AVGP\/followers","organizations_url":"https:\/\/api.github.com\/users\/AVGP\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"Loop unrolling should initially enabled only for internal shaders, see 28697338c250f5ceaa6abe9041b4d8c1cbaf1bc6. I guess when this change was done, we assumed that only `ShaderMaterial` (and not `RawShaderMaterial`) is intended for custom materials. IMO, the current distinction between `ShaderMaterial` and `RawShaderMaterial` is somewhat confusing.\r\n","created_at":"2018-01-18T11:39:19.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358621751","id":358621751,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODYyMTc1MQ==","updated_at":"2018-01-18T11:49:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358621751","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":6,"author_association":"COLLABORATOR","body":">Loop unrolling should initially enabled only for internal shaders\r\n\r\nLoop unrolling was initially enabled for all shaders, but later disabled for `ShaderMaterial`. \/ping @mrdoob ?\r\n\r\n> I guess when this change was done, we assumed that only ShaderMaterial (and not RawShaderMaterial) is intended for custom materials.\r\n\r\nIt may have been an oversight. `RawShaderMaterial` is of course intended for custom materials.\r\n\r\n@mrdoob I'm thinking it may be best to disable unrolling for `RawShaderMaterial` instead, given that users use shader chunks to construct custom `ShaderMaterial`.... but maybe you had another reason?...","created_at":"2018-01-18T16:42:44.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358705616","id":358705616,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODcwNTYxNg==","updated_at":"2018-01-18T16:42:44.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358705616","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":7,"author_association":"COLLABORATOR","body":"Just an idea but why don't we use something like a pragma (or preprocessor directive) to indicate loops for unrolling?\r\n```glsl\r\n#pragma three unroll\r\nfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) { ... }\r\n```\r\nIn this way, it's more flexibel to control the process of loop unrolling. And we could enable loop unrolling for all shaders (including `ShaderMaterial`). Existing user code would not be affected, although we need to enhance our shader chunks and the regular expression of `unrollLoops()`.","created_at":"2018-01-19T14:51:23.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/13124#issuecomment-358986915","id":358986915,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/13124","node_id":"MDEyOklzc3VlQ29tbWVudDM1ODk4NjkxNQ==","updated_at":"2018-01-19T14:52:45.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/358986915","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}}]}