{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Have you seen this [line](https:\/\/github.com\/mrdoob\/three.js\/pull\/12389\/files#diff-a63071d948a349b79bddc096ce9f35f4R145)?\r\n\r\nI don't think the remaining part of the function produces any relevant overhead.","created_at":"2017-10-11T14:23:59.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-335827716","id":335827716,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNTgyNzcxNg==","updated_at":"2017-10-11T17:35:24.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/335827716","user":{"following_url":"https:\/\/api.github.com\/users\/Mugen87\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Mugen87\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/12612165?v=4","url":"https:\/\/api.github.com\/users\/Mugen87","gists_url":"https:\/\/api.github.com\/users\/Mugen87\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Mugen87","subscriptions_url":"https:\/\/api.github.com\/users\/Mugen87\/subscriptions","node_id":"MDQ6VXNlcjEyNjEyMTY1","repos_url":"https:\/\/api.github.com\/users\/Mugen87\/repos","received_events_url":"https:\/\/api.github.com\/users\/Mugen87\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Mugen87\/starred{\/owner}{\/repo}","site_admin":false,"login":"Mugen87","type":"User","id":12612165,"followers_url":"https:\/\/api.github.com\/users\/Mugen87\/followers","organizations_url":"https:\/\/api.github.com\/users\/Mugen87\/orgs"}},{"index":1,"author_association":"CONTRIBUTOR","body":"I did see it.\r\nAnd with just a normal amount of objects you are totaly right, it doesn't produce anything noticeable. But in may case, when rendering 5,000 objects, which is totaly crazy, but some parts are just like this and I have to handle it somehow, I have to optimize where I can. And when I see, that this function cost me 6.8ms from my maximum of 16ms I have per frame ( currently need ~100ms per frame, which is way to much, so I try to optimize) its quite an big amount.","created_at":"2017-10-11T14:28:40.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-335829376","id":335829376,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNTgyOTM3Ng==","updated_at":"2017-10-11T14:28:40.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/335829376","user":{"following_url":"https:\/\/api.github.com\/users\/cnspaha\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/cnspaha\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/22448974?v=4","url":"https:\/\/api.github.com\/users\/cnspaha","gists_url":"https:\/\/api.github.com\/users\/cnspaha\/gists{\/gist_id}","html_url":"https:\/\/github.com\/cnspaha","subscriptions_url":"https:\/\/api.github.com\/users\/cnspaha\/subscriptions","node_id":"MDQ6VXNlcjIyNDQ4OTc0","repos_url":"https:\/\/api.github.com\/users\/cnspaha\/repos","received_events_url":"https:\/\/api.github.com\/users\/cnspaha\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/cnspaha\/starred{\/owner}{\/repo}","site_admin":false,"login":"cnspaha","type":"User","id":22448974,"followers_url":"https:\/\/api.github.com\/users\/cnspaha\/followers","organizations_url":"https:\/\/api.github.com\/users\/cnspaha\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"This doesn't sound like the underlying issue. A loop over zero lights should not take 6.8ms, even if there are 9 million objects in the scene. Is it possible this is a different `setup()` function? Can you export the profile JSON from Dev Tools or ideally post a demo to reproduce?","created_at":"2017-10-13T14:31:40.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-336469981","id":336469981,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNjQ2OTk4MQ==","updated_at":"2017-10-13T14:31:40.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/336469981","user":{"following_url":"https:\/\/api.github.com\/users\/donmccurdy\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/donmccurdy\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/1848368?v=4","url":"https:\/\/api.github.com\/users\/donmccurdy","gists_url":"https:\/\/api.github.com\/users\/donmccurdy\/gists{\/gist_id}","html_url":"https:\/\/github.com\/donmccurdy","subscriptions_url":"https:\/\/api.github.com\/users\/donmccurdy\/subscriptions","node_id":"MDQ6VXNlcjE4NDgzNjg=","repos_url":"https:\/\/api.github.com\/users\/donmccurdy\/repos","received_events_url":"https:\/\/api.github.com\/users\/donmccurdy\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/donmccurdy\/starred{\/owner}{\/repo}","site_admin":false,"login":"donmccurdy","type":"User","id":1848368,"followers_url":"https:\/\/api.github.com\/users\/donmccurdy\/followers","organizations_url":"https:\/\/api.github.com\/users\/donmccurdy\/orgs"}},{"index":3,"author_association":"OWNER","body":"> In my case for example I render about 5,000 objects (which is an heavy task in itself) and according to the JavaScript Profiler in the Chrome Developer Tools the \"setup()\" function costs me 6.8ms EACH frame, sure it is called about 5,000 times.\r\n\r\nI should be called only once per frame. Have you tested it?","created_at":"2017-10-14T01:06:20.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-336598791","id":336598791,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU5ODc5MQ==","updated_at":"2017-10-14T01:06:20.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/336598791","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":4,"author_association":"CONTRIBUTOR","body":"> I should be called only once per frame. Have you tested it?\r\n\r\nThe problem is, that I use a .render for every object I have in the scene, because I need to change uniforms per object. So the setup() function is called once per object -> 5.000 times per frame\r\n\r\nMy code is far away from perfect, but is there an easy default way of changing uniforms on an material per object on each frame without getting to high performance issues?","created_at":"2017-10-16T06:00:30.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-336788154","id":336788154,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNjc4ODE1NA==","updated_at":"2017-10-16T06:00:30.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/336788154","user":{"following_url":"https:\/\/api.github.com\/users\/cnspaha\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/cnspaha\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/22448974?v=4","url":"https:\/\/api.github.com\/users\/cnspaha","gists_url":"https:\/\/api.github.com\/users\/cnspaha\/gists{\/gist_id}","html_url":"https:\/\/github.com\/cnspaha","subscriptions_url":"https:\/\/api.github.com\/users\/cnspaha\/subscriptions","node_id":"MDQ6VXNlcjIyNDQ4OTc0","repos_url":"https:\/\/api.github.com\/users\/cnspaha\/repos","received_events_url":"https:\/\/api.github.com\/users\/cnspaha\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/cnspaha\/starred{\/owner}{\/repo}","site_admin":false,"login":"cnspaha","type":"User","id":22448974,"followers_url":"https:\/\/api.github.com\/users\/cnspaha\/followers","organizations_url":"https:\/\/api.github.com\/users\/cnspaha\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"\r\n> I use a .render for every object I have in the scene\r\n\r\nDon't do that.\r\n\r\nHaving 5K objects in your scene is not a good idea either. Use instancing, if possible.\r\n\r\n>is there an easy default way of changing uniforms on an material per object on each frame\r\n\r\n```javascript\r\nmesh.onBeforeRender = function( renderer, scene, camera, geometry, material, group ) {\r\n\r\n    material.color.set( Math.random() * 0xffffff );\r\n\r\n};\r\n```\r\n","created_at":"2017-10-16T09:33:43.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-336832982","id":336832982,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNjgzMjk4Mg==","updated_at":"2017-10-16T09:33:43.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/336832982","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":6,"author_association":"CONTRIBUTOR","body":"I can't really do instancing because if the file of the assembly tells me there are 5.000 objects, then there are 5.000 objects :\/ Sure that is an absolute extreme case and per default I have 1-150 objects instead of 5.000.\r\n\r\nThanks for the idea with the onBeforeRender, will try it soon . But I think there is one downside of it. If I have several objects using the same material and in one of the onBeforeRender I change the color of the material so all of them are changed, sure I could add on every single object a color which will be set in onBeforeRender on the material, but if I also have some objects which should be rendered with the default color of the material they would get the color of the previous rendered one where I set the material color, don't they?","created_at":"2017-10-16T09:41:31.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-336835048","id":336835048,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNjgzNTA0OA==","updated_at":"2017-10-16T09:41:31.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/336835048","user":{"following_url":"https:\/\/api.github.com\/users\/cnspaha\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/cnspaha\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/22448974?v=4","url":"https:\/\/api.github.com\/users\/cnspaha","gists_url":"https:\/\/api.github.com\/users\/cnspaha\/gists{\/gist_id}","html_url":"https:\/\/github.com\/cnspaha","subscriptions_url":"https:\/\/api.github.com\/users\/cnspaha\/subscriptions","node_id":"MDQ6VXNlcjIyNDQ4OTc0","repos_url":"https:\/\/api.github.com\/users\/cnspaha\/repos","received_events_url":"https:\/\/api.github.com\/users\/cnspaha\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/cnspaha\/starred{\/owner}{\/repo}","site_admin":false,"login":"cnspaha","type":"User","id":22448974,"followers_url":"https:\/\/api.github.com\/users\/cnspaha\/followers","organizations_url":"https:\/\/api.github.com\/users\/cnspaha\/orgs"}},{"index":7,"author_association":"CONTRIBUTOR","body":"@WestLangley \r\nI just tried it with rendering the whole scene at once and using onBeforeRender to change uniforms. unfortunately the uniforms aren't uploaded for each object, so it doesn't have the desired effect to change a specific uniform per object (r85)","created_at":"2017-10-16T13:53:16.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-336893553","id":336893553,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNjg5MzU1Mw==","updated_at":"2017-10-16T13:53:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/336893553","user":{"following_url":"https:\/\/api.github.com\/users\/cnspaha\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/cnspaha\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/22448974?v=4","url":"https:\/\/api.github.com\/users\/cnspaha","gists_url":"https:\/\/api.github.com\/users\/cnspaha\/gists{\/gist_id}","html_url":"https:\/\/github.com\/cnspaha","subscriptions_url":"https:\/\/api.github.com\/users\/cnspaha\/subscriptions","node_id":"MDQ6VXNlcjIyNDQ4OTc0","repos_url":"https:\/\/api.github.com\/users\/cnspaha\/repos","received_events_url":"https:\/\/api.github.com\/users\/cnspaha\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/cnspaha\/starred{\/owner}{\/repo}","site_admin":false,"login":"cnspaha","type":"User","id":22448974,"followers_url":"https:\/\/api.github.com\/users\/cnspaha\/followers","organizations_url":"https:\/\/api.github.com\/users\/cnspaha\/orgs"}},{"index":8,"author_association":"OWNER","body":"Going back to the original issue. Your patch seems to be unrelated now, right?","created_at":"2017-10-16T18:11:25.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-336978262","id":336978262,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNjk3ODI2Mg==","updated_at":"2017-10-16T18:11:25.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/336978262","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":9,"author_association":"CONTRIBUTOR","body":"@mrdoob \r\nyeah, more or less. I still would say, it is an improvement, but nothing really worth mention about","created_at":"2017-10-17T05:59:37.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12389#issuecomment-337126341","id":337126341,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12389","node_id":"MDEyOklzc3VlQ29tbWVudDMzNzEyNjM0MQ==","updated_at":"2017-10-17T05:59:37.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/337126341","user":{"following_url":"https:\/\/api.github.com\/users\/cnspaha\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/cnspaha\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/22448974?v=4","url":"https:\/\/api.github.com\/users\/cnspaha","gists_url":"https:\/\/api.github.com\/users\/cnspaha\/gists{\/gist_id}","html_url":"https:\/\/github.com\/cnspaha","subscriptions_url":"https:\/\/api.github.com\/users\/cnspaha\/subscriptions","node_id":"MDQ6VXNlcjIyNDQ4OTc0","repos_url":"https:\/\/api.github.com\/users\/cnspaha\/repos","received_events_url":"https:\/\/api.github.com\/users\/cnspaha\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/cnspaha\/starred{\/owner}{\/repo}","site_admin":false,"login":"cnspaha","type":"User","id":22448974,"followers_url":"https:\/\/api.github.com\/users\/cnspaha\/followers","organizations_url":"https:\/\/api.github.com\/users\/cnspaha\/orgs"}}]}