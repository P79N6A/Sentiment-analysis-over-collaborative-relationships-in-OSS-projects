{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Can you please provide a simple, live example to show exactly what you are doing?\r\n\r\nUsually we recommend you use one of these patterns:\r\n```\r\n light.visible = false;\r\n light.intensity = 0;\r\n light.layers.toggle( 0 );\r\n```\r\nWhat is your use case? Are you permanently removing the light?","created_at":"2017-05-24T16:06:04.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-303771673","id":303771673,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc3MTY3Mw==","updated_at":"2017-05-24T16:06:18.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/303771673","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":1,"author_association":"NONE","body":"Yes, I permanently removing the lights from the scene. \r\n\r\nI do it in the fallowing way:\r\n1. I use ObjectLoader to load JSON file with lights setup (json is exported from blender). For SpotLights and PointLights I enable castShadow and keeps all lights in Array (lightsArray).\r\n\r\n```javascript\r\nsceneLoader.load(sceneObjectToLoad, function(sceneObjects){\r\n\twhile(sceneObjects.children.length !== 0){\r\n\t\tvar object = sceneObjects.children[0];\r\n\t\tif(object.type.toLowerCase().indexOf('light') !== -1){\r\n\t\t\tif(object.isSpotLight || object.isPointLight){\r\n\t\t\t\tobject.shadow = new THREE.LightShadow(new THREE.PerspectiveCamera( 60,  1, 10, 550 ));\r\n\t\t\t\tobject.castShadow = true;\r\n\t\t\t\tobject.shadow.mapSize.width = 2048;\r\n\t\t\t\tobject.shadow.mapSize.height = 2048;\r\n\t\t\t}\r\n\r\n\t\t\tlightsArray.push(object);\r\n\t\t\tscene.add(object);\r\n\t\t} else {\r\n\t\tsceneObjects.children.shift();\r\n\t\t}\r\n\t}\t\r\n```\r\n\r\n2. When user change the lights setups. I remove all the lights from scene and I'm back to the 1st step to load another JSON file.\r\n\r\n```javascript\r\nfunction removeLights(){\r\n\twhile(lightsArray.length !== 0){\r\n\t\tif(lightsArray[0].castShadow){\r\n\t\t\tlightsArray[0].shadow.camera = null; \/\/my try to dispose  the texture\r\n\t\t\tlightsArray[0].shadow.map.texture.dispose();\r\n\t\t\tlightsArray[0].shadow.map.texture = null;\r\n\t\t\tlightsArray[0].shadow.map = null;\r\n\t\t}\r\n\t\t\t\t\t\t\r\n\t\tlightsArray[0].castShadow = false;\r\n\t\tscene.remove(lightsArray[0])\r\n\t\tlightsArray.shift();\r\n\t}\r\n}\r\n```\r\n\r\nAnd this part of code work becouse the lights are removed. I check scene children's object and the light gone, objects becomes black . \r\n\r\nAnd how it's look on render stats.\r\n1. Loading 1 object with 1 material ( and texture), no lights.\r\n![only object](https:\/\/cloud.githubusercontent.com\/assets\/9266046\/26439004\/603dea18-4126-11e7-8c35-f534438acf9b.PNG)\r\n2. Loadng light setup (JSON file contains 4 lights - PointLight, PointLight, SpotLight and RectAreaLight). I enable cast shadow on 3 of them.\r\n![object with lights](https:\/\/cloud.githubusercontent.com\/assets\/9266046\/26439056\/a4d56336-4126-11e7-96fc-d7cc8c41fd10.PNG)\r\n3. Switch to no lights again. Texture counter doesn't change. Object become black.\r\n![object with lights](https:\/\/cloud.githubusercontent.com\/assets\/9266046\/26439056\/a4d56336-4126-11e7-96fc-d7cc8c41fd10.PNG)\r\n4. Again loading lights (the same JSON files). Another 3 texture are loaded.\r\n![2nd switch](https:\/\/cloud.githubusercontent.com\/assets\/9266046\/26439119\/ee217b88-4126-11e7-9ad1-aac105c14d11.PNG)\r\n\r\n","created_at":"2017-05-25T06:52:42.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-303937746","id":303937746,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwMzkzNzc0Ng==","updated_at":"2017-05-25T06:52:42.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/303937746","user":{"following_url":"https:\/\/api.github.com\/users\/XubeiX\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/XubeiX\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/9266046?v=4","url":"https:\/\/api.github.com\/users\/XubeiX","gists_url":"https:\/\/api.github.com\/users\/XubeiX\/gists{\/gist_id}","html_url":"https:\/\/github.com\/XubeiX","subscriptions_url":"https:\/\/api.github.com\/users\/XubeiX\/subscriptions","node_id":"MDQ6VXNlcjkyNjYwNDY=","repos_url":"https:\/\/api.github.com\/users\/XubeiX\/repos","received_events_url":"https:\/\/api.github.com\/users\/XubeiX\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/XubeiX\/starred{\/owner}{\/repo}","site_admin":false,"login":"XubeiX","type":"User","id":9266046,"followers_url":"https:\/\/api.github.com\/users\/XubeiX\/followers","organizations_url":"https:\/\/api.github.com\/users\/XubeiX\/orgs"}},{"index":2,"author_association":"OWNER","body":"Could you create a jsfiddle?","created_at":"2017-05-25T23:41:35.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-304153108","id":304153108,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwNDE1MzEwOA==","updated_at":"2017-05-25T23:41:35.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/304153108","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":3,"author_association":"NONE","body":"I prepared jsfiddle: http:\/\/jsfiddle.net\/txa8Lfy9\/\r\nIn my case the user change the lights setup by HTML selector and I use AJAX to listen on change. \r\n\r\n```javascripr\r\n\t$(\"#lights-selector\").change(function(){\r\n\t\tremoveLights();\r\n\t\tgetNewLightSetup(this.value);\r\n\t});\r\n```\r\n\r\nIn jsfiddle I used setTimeout to simulate changes.","created_at":"2017-05-26T08:08:58.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-304219869","id":304219869,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwNDIxOTg2OQ==","updated_at":"2017-05-26T08:08:58.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/304219869","user":{"following_url":"https:\/\/api.github.com\/users\/XubeiX\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/XubeiX\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/9266046?v=4","url":"https:\/\/api.github.com\/users\/XubeiX","gists_url":"https:\/\/api.github.com\/users\/XubeiX\/gists{\/gist_id}","html_url":"https:\/\/github.com\/XubeiX","subscriptions_url":"https:\/\/api.github.com\/users\/XubeiX\/subscriptions","node_id":"MDQ6VXNlcjkyNjYwNDY=","repos_url":"https:\/\/api.github.com\/users\/XubeiX\/repos","received_events_url":"https:\/\/api.github.com\/users\/XubeiX\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/XubeiX\/starred{\/owner}{\/repo}","site_admin":false,"login":"XubeiX","type":"User","id":9266046,"followers_url":"https:\/\/api.github.com\/users\/XubeiX\/followers","organizations_url":"https:\/\/api.github.com\/users\/XubeiX\/orgs"}},{"index":4,"author_association":"OWNER","body":"I think the solution for this one is to add a `dispose()` to `THREE.LightShadow` and let the user call it when needed.\r\n\r\nAny tackers?","created_at":"2017-05-30T23:34:57.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-305038659","id":305038659,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwNTAzODY1OQ==","updated_at":"2017-05-30T23:35:06.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/305038659","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"@mrdoob Yes, all the user has to do is call:\r\n```\r\nlight.shadow.map.dispose();\r\n```\r\n\r\nSimilar to:\r\n```\r\nmesh.material.map.dispose();\r\n```\r\nSo, I don't think we need to add anything...\r\n\r\nHowever, would you prefer adding convenience methods -- `light.dispose()` or `light.shadow.dispose()`?","created_at":"2017-06-01T00:52:51.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-305358569","id":305358569,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwNTM1ODU2OQ==","updated_at":"2017-06-01T00:52:51.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/305358569","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":6,"author_association":"COLLABORATOR","body":"@XubeiX This should work for you:\r\n```\r\nfunction timeOutRemove() {\r\n\r\n\tsetTimeout( function () {\r\n\r\n\t\twhile ( lightArray.length != 0 ) {\r\n\r\n\t\t\tvar light = lightArray[ 0 ];\r\n\r\n\t\t\tif ( light.shadow && light.shadow.map ) {\r\n\r\n\t\t\t\tlight.shadow.map.dispose();\r\n\r\n\t\t\t}\r\n\r\n  \t\t\tscene.remove( light );\r\n\t\t\tlightArray.shift();\r\n\r\n\t\t}\r\n\r\n\t}, 5000 );\r\n\r\n}\r\n```","created_at":"2017-06-01T00:56:32.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-305359065","id":305359065,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwNTM1OTA2NQ==","updated_at":"2017-06-01T00:56:32.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/305359065","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":7,"author_association":"NONE","body":"@WestLangley Thanks for the help, works. \ud83d\ude04 ","created_at":"2017-06-01T06:33:12.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11387#issuecomment-305401742","id":305401742,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11387","node_id":"MDEyOklzc3VlQ29tbWVudDMwNTQwMTc0Mg==","updated_at":"2017-06-01T06:33:12.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/305401742","user":{"following_url":"https:\/\/api.github.com\/users\/XubeiX\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/XubeiX\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/9266046?v=4","url":"https:\/\/api.github.com\/users\/XubeiX","gists_url":"https:\/\/api.github.com\/users\/XubeiX\/gists{\/gist_id}","html_url":"https:\/\/github.com\/XubeiX","subscriptions_url":"https:\/\/api.github.com\/users\/XubeiX\/subscriptions","node_id":"MDQ6VXNlcjkyNjYwNDY=","repos_url":"https:\/\/api.github.com\/users\/XubeiX\/repos","received_events_url":"https:\/\/api.github.com\/users\/XubeiX\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/XubeiX\/starred{\/owner}{\/repo}","site_admin":false,"login":"XubeiX","type":"User","id":9266046,"followers_url":"https:\/\/api.github.com\/users\/XubeiX\/followers","organizations_url":"https:\/\/api.github.com\/users\/XubeiX\/orgs"}}]}