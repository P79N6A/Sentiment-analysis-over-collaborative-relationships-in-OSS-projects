{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Why do you claim this is a three.js bug?","created_at":"2017-09-26T05:29:21.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332090462","id":332090462,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA5MDQ2Mg==","updated_at":"2017-09-26T05:29:21.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332090462","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":1,"author_association":"CONTRIBUTOR","body":"I should be able to arbitrarily call `renderer.render()` inside `onBeforeRender()` without any unexpected side effects. Just the fact that I move the same function from `animate()` to `onBeforeRender()` should not cause the renderer to behave differently. \r\n\r\nPlease correct me if I'm not understanding something in WebGLRenderer, or that I shouldn't be doing this.","created_at":"2017-09-26T05:41:37.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332092136","id":332092136,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA5MjEzNg==","updated_at":"2017-09-26T05:43:45.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332092136","user":{"following_url":"https:\/\/api.github.com\/users\/nopjia\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/nopjia\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/565791?v=4","url":"https:\/\/api.github.com\/users\/nopjia","gists_url":"https:\/\/api.github.com\/users\/nopjia\/gists{\/gist_id}","html_url":"https:\/\/github.com\/nopjia","subscriptions_url":"https:\/\/api.github.com\/users\/nopjia\/subscriptions","node_id":"MDQ6VXNlcjU2NTc5MQ==","repos_url":"https:\/\/api.github.com\/users\/nopjia\/repos","received_events_url":"https:\/\/api.github.com\/users\/nopjia\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/nopjia\/starred{\/owner}{\/repo}","site_admin":false,"login":"nopjia","type":"User","id":565791,"followers_url":"https:\/\/api.github.com\/users\/nopjia\/followers","organizations_url":"https:\/\/api.github.com\/users\/nopjia\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"Your error message is telling you the problem with your code.\r\n\r\nAlso, it is too late to do a visibility test in `onBeforeRender()`.","created_at":"2017-09-26T06:23:54.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332098458","id":332098458,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA5ODQ1OA==","updated_at":"2017-09-26T06:23:54.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332098458","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":3,"author_association":"CONTRIBUTOR","body":"> it is too late to do a visibility test in onBeforeRender().\r\n\r\nVisibility test is for the \"inner\" `renderer.render()` pass. MyScreen removes itself from the scene before it renders the scene again. Before I did the visibility test, I was getting the same error even in the case without the `onBeforeRender()` method, but I was still getting the correct result. After I disabled visibility, the error went away in the case where I run the function in animate(). So I know my visibility test is working.\r\n\r\n> Your error message is telling you the problem with your code.\r\n\r\nThe error tells me I'm using same texture I'm rendering to. According to my answer above, I should be correctly removing the object that is using that texture from the scene, for the *inner* render call. \r\n\r\nStill, let's assume that doesn't work and my code is wrong, we can try something else. In JSFiddle, we can comment out line 12 `this.material.map = this._target.texture;` to make sure we're *not* using that texture at all. Once we run this code, the error *does* go away but I get the same buggy behavior, that objects in the scene is disappearing. From this experiment, I am convinced that the error is in fact *not harmful* as I have found out in the first paragraph. \r\n\r\nMy hypothesis is that drawing to a render target inside `onBeforeRender` causes really weird internal states for the WebGLRenderer.","created_at":"2017-09-26T06:45:03.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332102248","id":332102248,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjEwMjI0OA==","updated_at":"2017-09-26T06:45:03.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332102248","user":{"following_url":"https:\/\/api.github.com\/users\/nopjia\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/nopjia\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/565791?v=4","url":"https:\/\/api.github.com\/users\/nopjia","gists_url":"https:\/\/api.github.com\/users\/nopjia\/gists{\/gist_id}","html_url":"https:\/\/github.com\/nopjia","subscriptions_url":"https:\/\/api.github.com\/users\/nopjia\/subscriptions","node_id":"MDQ6VXNlcjU2NTc5MQ==","repos_url":"https:\/\/api.github.com\/users\/nopjia\/repos","received_events_url":"https:\/\/api.github.com\/users\/nopjia\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/nopjia\/starred{\/owner}{\/repo}","site_admin":false,"login":"nopjia","type":"User","id":565791,"followers_url":"https:\/\/api.github.com\/users\/nopjia\/followers","organizations_url":"https:\/\/api.github.com\/users\/nopjia\/orgs"}},{"index":4,"author_association":"COLLABORATOR","body":">My hypothesis is that drawing to a render target inside onBeforeRender causes really weird internal states for the WebGLRenderer.\r\n\r\nYou could be right. @ProPuke had to modify the renderer to support recursion in #12033.","created_at":"2017-09-26T07:54:21.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332116859","id":332116859,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjExNjg1OQ==","updated_at":"2017-09-26T07:54:21.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332116859","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":5,"author_association":"OWNER","body":"You forgot to reset the `RenderTarget`.\r\n\r\n```js\r\n    renderToScreen(renderer, scene) {\r\n        this.visible = false;\r\n        renderer.clearTarget(this._target, true, true, false);\r\n        renderer.render(scene, this._camera, this._target, false);\r\n        renderer.setRenderTarget( null );\r\n        this.visible = true;\r\n    }\r\n```","created_at":"2017-09-26T22:25:06.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332353887","id":332353887,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjM1Mzg4Nw==","updated_at":"2017-09-26T22:25:06.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332353887","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":6,"author_association":"CONTRIBUTOR","body":"Nailed it. Thanks @mrdoob !\r\nSo I guess inside render() the renderTarget is stateful. I think to be completely safe, I should set it back to whatever it was before.\r\n```\r\nrenderToScreen(renderer, scene) {\r\n    this.visible = false;\r\n    var oldRenderTarget = renderer.getRenderTarget();\r\n    renderer.clearTarget(this._target, true, true, false);\r\n    renderer.render(scene, this._camera, this._target, false);\r\n    renderer.setRenderTarget(oldRenderTarget);\r\n    this.visible = true;\r\n}\r\n```","created_at":"2017-09-26T23:53:56.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332368604","id":332368604,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjM2ODYwNA==","updated_at":"2017-09-26T23:53:56.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332368604","user":{"following_url":"https:\/\/api.github.com\/users\/nopjia\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/nopjia\/events{\/privacy}","avatar_url":"https:\/\/avatars3.githubusercontent.com\/u\/565791?v=4","url":"https:\/\/api.github.com\/users\/nopjia","gists_url":"https:\/\/api.github.com\/users\/nopjia\/gists{\/gist_id}","html_url":"https:\/\/github.com\/nopjia","subscriptions_url":"https:\/\/api.github.com\/users\/nopjia\/subscriptions","node_id":"MDQ6VXNlcjU2NTc5MQ==","repos_url":"https:\/\/api.github.com\/users\/nopjia\/repos","received_events_url":"https:\/\/api.github.com\/users\/nopjia\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/nopjia\/starred{\/owner}{\/repo}","site_admin":false,"login":"nopjia","type":"User","id":565791,"followers_url":"https:\/\/api.github.com\/users\/nopjia\/followers","organizations_url":"https:\/\/api.github.com\/users\/nopjia\/orgs"}},{"index":7,"author_association":"COLLABORATOR","body":"Nice job, @mrdoob!","created_at":"2017-09-27T00:42:34.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332375599","id":332375599,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjM3NTU5OQ==","updated_at":"2017-09-27T00:42:34.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332375599","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":8,"author_association":"OWNER","body":"\ud83d\ude05","created_at":"2017-09-27T05:49:12.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/12284#issuecomment-332415757","id":332415757,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12284","node_id":"MDEyOklzc3VlQ29tbWVudDMzMjQxNTc1Nw==","updated_at":"2017-09-27T05:49:12.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/332415757","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}}]}