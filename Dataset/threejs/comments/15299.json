{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Thanks for this. Code injection is a bit problematic. We may have to discuss this a bit...\r\n","created_at":"2018-11-22T02:41:56.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-440895734","id":440895734,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDg5NTczNA==","updated_at":"2018-11-22T02:41:56.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/440895734","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":1,"author_association":"CONTRIBUTOR","body":"@WestLangley thanks for the review! I've made some updates:\r\n\r\n* Rename `previousBackground` to `currentTexture`, only apply if `!==`\r\n* Clear out `currentTexture` if background is unset or a color.\r\n* Also store `currentTextureVersion`, which we use to indicate if a change has occurred in the texture that would require recompiling the background material\r\n* The example no longer waits for textures to be loaded and sets the scene.background immediately from the texture returned from the loader. The encoding gets set in the callback. This all seems to work as expected when throttling the network\r\n\r\nHow I tested this with the included example was with network throttling, commenting out the envmap generation in texture callbacks (they clobber scene.background when rendering cubemaps, which gave a false positive previously) and in the HDR texture callback, do `params.envMap = 'RGBM16'` -- this results in the following flow:\r\n\r\n* The HDR background is set upfront -- renders all black, until the texture is loaded which will then display the HDR background.\r\n* If added the `params.envMap = 'RGBM16'` in the HDR texture callback, or manually change it quickly, then the background will then display the RGBM16 texture (most likely not yet loaded) with LinearEncoding -- incorrect but expected considering the demo, as the encoding is set in the callback.\r\n* Once the encoding is set on the texture and the RGBM texture has loaded, the incorrect LinearEncoding texture is swapped out with the correct encoding a moment later.\r\n* Model will be all black due to disabling the PMREM\/Envmaps to temporarily eliminate false positives\r\n\r\nWhat do you think? Anything I'm missing?","created_at":"2018-11-26T21:10:32.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-441799080","id":441799080,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTc5OTA4MA==","updated_at":"2018-11-26T21:10:32.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/441799080","user":{"following_url":"https:\/\/api.github.com\/users\/jsantell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jsantell\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/641267?v=4","url":"https:\/\/api.github.com\/users\/jsantell","gists_url":"https:\/\/api.github.com\/users\/jsantell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jsantell","subscriptions_url":"https:\/\/api.github.com\/users\/jsantell\/subscriptions","node_id":"MDQ6VXNlcjY0MTI2Nw==","repos_url":"https:\/\/api.github.com\/users\/jsantell\/repos","received_events_url":"https:\/\/api.github.com\/users\/jsantell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jsantell\/starred{\/owner}{\/repo}","site_admin":false,"login":"jsantell","type":"User","id":641267,"followers_url":"https:\/\/api.github.com\/users\/jsantell\/followers","organizations_url":"https:\/\/api.github.com\/users\/jsantell\/orgs"}},{"index":2,"author_association":"CONTRIBUTOR","body":"There are no examples using a WebGLRenderTarget as a scene.background, I could make an example testing all the examples of scene.background (and reflection tests with #15302), not sure how WebGLRenderTarget would work here yet.","created_at":"2018-11-26T22:08:08.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-441817882","id":441817882,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTgxNzg4Mg==","updated_at":"2018-11-26T22:08:16.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/441817882","user":{"following_url":"https:\/\/api.github.com\/users\/jsantell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jsantell\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/641267?v=4","url":"https:\/\/api.github.com\/users\/jsantell","gists_url":"https:\/\/api.github.com\/users\/jsantell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jsantell","subscriptions_url":"https:\/\/api.github.com\/users\/jsantell\/subscriptions","node_id":"MDQ6VXNlcjY0MTI2Nw==","repos_url":"https:\/\/api.github.com\/users\/jsantell\/repos","received_events_url":"https:\/\/api.github.com\/users\/jsantell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jsantell\/starred{\/owner}{\/repo}","site_admin":false,"login":"jsantell","type":"User","id":641267,"followers_url":"https:\/\/api.github.com\/users\/jsantell\/followers","organizations_url":"https:\/\/api.github.com\/users\/jsantell\/orgs"}},{"index":3,"author_association":"CONTRIBUTOR","body":"This does require compiling the shader multiple times a frame if using more than one scene with the same renderer. `WeakMap<Scene, { version, target }>` could solve this. WDYT?","created_at":"2018-11-27T01:47:13.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-441866944","id":441866944,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTg2Njk0NA==","updated_at":"2018-11-27T01:47:13.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/441866944","user":{"following_url":"https:\/\/api.github.com\/users\/jsantell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jsantell\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/641267?v=4","url":"https:\/\/api.github.com\/users\/jsantell","gists_url":"https:\/\/api.github.com\/users\/jsantell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jsantell","subscriptions_url":"https:\/\/api.github.com\/users\/jsantell\/subscriptions","node_id":"MDQ6VXNlcjY0MTI2Nw==","repos_url":"https:\/\/api.github.com\/users\/jsantell\/repos","received_events_url":"https:\/\/api.github.com\/users\/jsantell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jsantell\/starred{\/owner}{\/repo}","site_admin":false,"login":"jsantell","type":"User","id":641267,"followers_url":"https:\/\/api.github.com\/users\/jsantell\/followers","organizations_url":"https:\/\/api.github.com\/users\/jsantell\/orgs"}},{"index":4,"author_association":"CONTRIBUTOR","body":"Updated with better version matching by checking if it's a WebGLRenderTargetCube, and updated the EXR example to display as a background as well (using EquirectangularToCubeGenerator to test out WebGLRenderTargetCube). Render targets were working without this update, but now checks versioning if needed -- If using a render target, the material will only be recompiled if setting a `needsUpdate` on the texture, which seems appropriate.\r\n\r\n**Caching**\r\n\r\nThis is looking good to me -- let me know if there's any interest in caching the materials mentioned https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-441866944 -- in our use case (https:\/\/github.com\/GoogleWebComponents\/model-viewer) we use the same renderer for multiple scenes (not counting auxilliary scenes used in EquirectangularToCubeGenerator and PMREMGenerator)  which will mean recompiling the material multiple times a frame. I'm not sure what kind of overhead that is, but could be avoided with a WeakMap. Another possible solution could be making available all variants of `mapTexelToLinear` for the background texture. Happy to handle this in this PR, in a follow up, or not at all.\r\n\r\n**Outstanding Questions**\r\n\r\n* `scene.background` does not support `WebGLRenderTarget` correct?\r\n* Any interest in a `scene.background` example that showcases all different variants? \r\n\r\n","created_at":"2018-11-27T19:14:13.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-442181201","id":442181201,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjE4MTIwMQ==","updated_at":"2018-11-27T19:14:13.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/442181201","user":{"following_url":"https:\/\/api.github.com\/users\/jsantell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jsantell\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/641267?v=4","url":"https:\/\/api.github.com\/users\/jsantell","gists_url":"https:\/\/api.github.com\/users\/jsantell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jsantell","subscriptions_url":"https:\/\/api.github.com\/users\/jsantell\/subscriptions","node_id":"MDQ6VXNlcjY0MTI2Nw==","repos_url":"https:\/\/api.github.com\/users\/jsantell\/repos","received_events_url":"https:\/\/api.github.com\/users\/jsantell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jsantell\/starred{\/owner}{\/repo}","site_admin":false,"login":"jsantell","type":"User","id":641267,"followers_url":"https:\/\/api.github.com\/users\/jsantell\/followers","organizations_url":"https:\/\/api.github.com\/users\/jsantell\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"Thanks for working on this.\r\n\r\n>This does require compiling the shader multiple times a frame if using more than one scene with the same renderer.\r\n\r\nYou do not have to solve all edge cases. Users can create their own skybox if need be.\r\n\r\n>scene.background does not support WebGLRenderTarget correct?\r\n\r\nI believe `scene.background` currently supports `WebGLRenderTarget.texture`.\r\n\r\n>Any interest in a scene.background example that showcases all different variants?\r\n\r\nYes. Maybe you can update the existing example in a later PR.\r\n\r\nSorry, I do not have the time presently to focus on the remainder of your questions... Try to keep this PR simple. You can always file another PR later.\r\n\r\n\r\n\r\n","created_at":"2018-11-27T20:21:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-442203245","id":442203245,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIwMzI0NQ==","updated_at":"2018-11-27T20:21:15.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/442203245","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":6,"author_association":"CONTRIBUTOR","body":"@WestLangley sounds great, thanks! Let me know if there's anything else needed for this unit of work to land and I can break up future work into smaller changes.","created_at":"2018-11-27T20:35:27.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-442207541","id":442207541,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIwNzU0MQ==","updated_at":"2018-11-27T20:35:27.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/442207541","user":{"following_url":"https:\/\/api.github.com\/users\/jsantell\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jsantell\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/641267?v=4","url":"https:\/\/api.github.com\/users\/jsantell","gists_url":"https:\/\/api.github.com\/users\/jsantell\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jsantell","subscriptions_url":"https:\/\/api.github.com\/users\/jsantell\/subscriptions","node_id":"MDQ6VXNlcjY0MTI2Nw==","repos_url":"https:\/\/api.github.com\/users\/jsantell\/repos","received_events_url":"https:\/\/api.github.com\/users\/jsantell\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jsantell\/starred{\/owner}{\/repo}","site_admin":false,"login":"jsantell","type":"User","id":641267,"followers_url":"https:\/\/api.github.com\/users\/jsantell\/followers","organizations_url":"https:\/\/api.github.com\/users\/jsantell\/orgs"}},{"index":7,"author_association":"OWNER","body":"Thanks!","created_at":"2018-11-27T22:02:06.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/15299#issuecomment-442234174","id":442234174,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/15299","node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIzNDE3NA==","updated_at":"2018-11-27T22:02:06.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/442234174","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}}]}