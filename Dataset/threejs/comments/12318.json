{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Can you share any FBX file which faced this issue for the test?","created_at":"2017-10-02T22:56:24.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333688519","id":333688519,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY4ODUxOQ==","updated_at":"2017-10-02T22:56:24.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333688519","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":1,"author_association":"OWNER","body":"Merging it on the meantime as the check seems safe.","created_at":"2017-10-03T00:55:12.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333707603","id":333707603,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcwNzYwMw==","updated_at":"2017-10-03T00:55:12.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333707603","user":{"following_url":"https:\/\/api.github.com\/users\/mrdoob\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/mrdoob\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/97088?v=4","url":"https:\/\/api.github.com\/users\/mrdoob","gists_url":"https:\/\/api.github.com\/users\/mrdoob\/gists{\/gist_id}","html_url":"https:\/\/github.com\/mrdoob","subscriptions_url":"https:\/\/api.github.com\/users\/mrdoob\/subscriptions","node_id":"MDQ6VXNlcjk3MDg4","repos_url":"https:\/\/api.github.com\/users\/mrdoob\/repos","received_events_url":"https:\/\/api.github.com\/users\/mrdoob\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/mrdoob\/starred{\/owner}{\/repo}","site_admin":false,"login":"mrdoob","type":"User","id":97088,"followers_url":"https:\/\/api.github.com\/users\/mrdoob\/followers","organizations_url":"https:\/\/api.github.com\/users\/mrdoob\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"@takahirox sure\r\n\r\n[opacity.zip](https:\/\/github.com\/mrdoob\/three.js\/files\/1350852\/opacity.zip)\r\n","created_at":"2017-10-03T01:06:13.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333709324","id":333709324,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcwOTMyNA==","updated_at":"2017-10-03T01:06:13.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333709324","user":{"following_url":"https:\/\/api.github.com\/users\/looeee\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/looeee\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/5307958?v=4","url":"https:\/\/api.github.com\/users\/looeee","gists_url":"https:\/\/api.github.com\/users\/looeee\/gists{\/gist_id}","html_url":"https:\/\/github.com\/looeee","subscriptions_url":"https:\/\/api.github.com\/users\/looeee\/subscriptions","node_id":"MDQ6VXNlcjUzMDc5NTg=","repos_url":"https:\/\/api.github.com\/users\/looeee\/repos","received_events_url":"https:\/\/api.github.com\/users\/looeee\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/looeee\/starred{\/owner}{\/repo}","site_admin":false,"login":"looeee","type":"User","id":5307958,"followers_url":"https:\/\/api.github.com\/users\/looeee\/followers","organizations_url":"https:\/\/api.github.com\/users\/looeee\/orgs"}},{"index":3,"author_association":"COLLABORATOR","body":"OK, seems like working fine for the file.\r\n\r\nBTW,  can't we simply check if the end of character is `,`\r\n\r\n\tif ( content.slice( - 1 ) === ',' ) {\r\n\r\ninstead of \r\n\r\n\tif ( content.slice( - 1 ) !== '=' ) {\r\n\r\n?\r\n\r\nOr, not only `,` but also, any other characters can be an extra character?","created_at":"2017-10-03T01:34:33.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333713743","id":333713743,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxMzc0Mw==","updated_at":"2017-10-03T01:34:33.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333713743","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":4,"author_association":"CONTRIBUTOR","body":"Is this logic actually sound?  It seems that we're looking at the last character in the string, and if it's not a '=' we're trimming it.  Is that actually what we want?  Not every Base64 string ends in =, the = is a padding character for data whose total length is not a multiple of 3 bytes.  For instance:\r\n\r\n```\r\nbtoa('1') => \"MQ==\"\r\nbtoa('12') =>\"MTI=\"\r\nbtoa('123') =>\"MTIz\"\r\nbtoa('1234') =>\"MTIzNA==\"\r\nbtoa('12345') =>\"MTIzNDU=\"\r\nbtoa('123456') =>\"MTIzNDU2\"\r\nbtoa('1234567') => \"MTIzNDU2Nw==\"\r\n...etc\r\n```\r\nSo the proposed solution is actually removing useful bytes, and might end up corrupting the image data.\r\n\r\nIf the problem is that there's sometimes a trailing comma, shouldn't we look for that instead?","created_at":"2017-10-03T01:38:15.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333714264","id":333714264,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxNDI2NA==","updated_at":"2017-10-03T01:38:44.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333714264","user":{"following_url":"https:\/\/api.github.com\/users\/jbaicoianu\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/jbaicoianu\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/251610?v=4","url":"https:\/\/api.github.com\/users\/jbaicoianu","gists_url":"https:\/\/api.github.com\/users\/jbaicoianu\/gists{\/gist_id}","html_url":"https:\/\/github.com\/jbaicoianu","subscriptions_url":"https:\/\/api.github.com\/users\/jbaicoianu\/subscriptions","node_id":"MDQ6VXNlcjI1MTYxMA==","repos_url":"https:\/\/api.github.com\/users\/jbaicoianu\/repos","received_events_url":"https:\/\/api.github.com\/users\/jbaicoianu\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/jbaicoianu\/starred{\/owner}{\/repo}","site_admin":false,"login":"jbaicoianu","type":"User","id":251610,"followers_url":"https:\/\/api.github.com\/users\/jbaicoianu\/followers","organizations_url":"https:\/\/api.github.com\/users\/jbaicoianu\/orgs"}},{"index":5,"author_association":"COLLABORATOR","body":"And one more comment, `content = content.slice( 0, - 1 );` would copy huge memory so ideally we should this check in text parse function but I think doing in `parseImage` is good workaround so far.","created_at":"2017-10-03T01:41:57.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333714787","id":333714787,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxNDc4Nw==","updated_at":"2017-10-03T01:41:57.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333714787","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":6,"author_association":"COLLABORATOR","body":"@jbaicoianu\r\n\r\nThat's the reason why I asked if we can check with `,` because I wasn't sure if the last character of base 64 string always be `=`.","created_at":"2017-10-03T01:43:50.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333715055","id":333715055,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxNTA1NQ==","updated_at":"2017-10-03T01:43:50.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333715055","user":{"following_url":"https:\/\/api.github.com\/users\/takahirox\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/takahirox\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/7637832?v=4","url":"https:\/\/api.github.com\/users\/takahirox","gists_url":"https:\/\/api.github.com\/users\/takahirox\/gists{\/gist_id}","html_url":"https:\/\/github.com\/takahirox","subscriptions_url":"https:\/\/api.github.com\/users\/takahirox\/subscriptions","node_id":"MDQ6VXNlcjc2Mzc4MzI=","repos_url":"https:\/\/api.github.com\/users\/takahirox\/repos","received_events_url":"https:\/\/api.github.com\/users\/takahirox\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/takahirox\/starred{\/owner}{\/repo}","site_admin":false,"login":"takahirox","type":"User","id":7637832,"followers_url":"https:\/\/api.github.com\/users\/takahirox\/followers","organizations_url":"https:\/\/api.github.com\/users\/takahirox\/orgs"}},{"index":7,"author_association":"COLLABORATOR","body":"@jbaicoianu I wasn't aware of that - couldn't find a spec so I checked a few base64 images and they all ended in = or ==\r\n\r\nI'll switch this to specifically checking for ',' \r\n\r\n@takahirox yes, ideally this should be dealt with in the text parser. However I spent a while trying to figure out where it was coming from (there is no ',' at the end of the image in the actual file) and couldn't find it, so I used this workaround for now. \r\n\r\nIt's only being called occasionally so I don't think the memory issue is a big deal for now. \r\n\r\n","created_at":"2017-10-03T02:16:55.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/pull\/12318#issuecomment-333719556","id":333719556,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/12318","node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxOTU1Ng==","updated_at":"2017-10-03T02:16:55.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/333719556","user":{"following_url":"https:\/\/api.github.com\/users\/looeee\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/looeee\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/5307958?v=4","url":"https:\/\/api.github.com\/users\/looeee","gists_url":"https:\/\/api.github.com\/users\/looeee\/gists{\/gist_id}","html_url":"https:\/\/github.com\/looeee","subscriptions_url":"https:\/\/api.github.com\/users\/looeee\/subscriptions","node_id":"MDQ6VXNlcjUzMDc5NTg=","repos_url":"https:\/\/api.github.com\/users\/looeee\/repos","received_events_url":"https:\/\/api.github.com\/users\/looeee\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/looeee\/starred{\/owner}{\/repo}","site_admin":false,"login":"looeee","type":"User","id":5307958,"followers_url":"https:\/\/api.github.com\/users\/looeee\/followers","organizations_url":"https:\/\/api.github.com\/users\/looeee\/orgs"}}]}