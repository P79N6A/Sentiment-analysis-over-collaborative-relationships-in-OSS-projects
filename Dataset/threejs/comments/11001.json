{"schema": {"fields":[{"type":"integer","name":"index"},{"type":"string","name":"author_association"},{"type":"string","name":"body"},{"type":"datetime","name":"created_at"},{"type":"string","name":"html_url"},{"type":"integer","name":"id"},{"type":"string","name":"issue_url"},{"type":"string","name":"node_id"},{"type":"datetime","name":"updated_at"},{"type":"string","name":"url"},{"type":"string","name":"user"}],"pandas_version":"0.20.0","primaryKey":["index"]}, "data": [{"index":0,"author_association":"COLLABORATOR","body":"Nice find.\r\n\r\nSimpler fiddle: http:\/\/jsfiddle.net\/ak35o645\/11\/\r\n\r\n`SpritePlugin` calls `renderer.resetGLState()` which calls `state.reset()` which does this:\r\n\r\n    currentColorClear.set( 0, 0, 0, 1 );\r\n\r\nThat prevents `state.buffers.color.setClear( )` from working properly in the special case in which the desired color is black and the desired alpha is 1.\r\n\r\n","created_at":"2017-03-14T20:25:24.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-286548469","id":286548469,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDI4NjU0ODQ2OQ==","updated_at":"2017-03-14T20:25:24.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/286548469","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":1,"author_association":"NONE","body":"Should Reset set the clearColor of GL state? or should reset not be called for the colorBuffer, in this situation?","created_at":"2017-03-17T19:52:35.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-287454895","id":287454895,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDI4NzQ1NDg5NQ==","updated_at":"2017-03-17T19:52:35.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/287454895","user":{"following_url":"https:\/\/api.github.com\/users\/Neesnu\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Neesnu\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/4451809?v=4","url":"https:\/\/api.github.com\/users\/Neesnu","gists_url":"https:\/\/api.github.com\/users\/Neesnu\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Neesnu","subscriptions_url":"https:\/\/api.github.com\/users\/Neesnu\/subscriptions","node_id":"MDQ6VXNlcjQ0NTE4MDk=","repos_url":"https:\/\/api.github.com\/users\/Neesnu\/repos","received_events_url":"https:\/\/api.github.com\/users\/Neesnu\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Neesnu\/starred{\/owner}{\/repo}","site_admin":false,"login":"Neesnu","type":"User","id":4451809,"followers_url":"https:\/\/api.github.com\/users\/Neesnu\/followers","organizations_url":"https:\/\/api.github.com\/users\/Neesnu\/orgs"}},{"index":2,"author_association":"COLLABORATOR","body":"I am not sure of a clean solution to this issue. There, indeed, may be more state changes going on than are needed.","created_at":"2017-03-19T00:00:20.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-287584054","id":287584054,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDI4NzU4NDA1NA==","updated_at":"2017-03-19T00:00:20.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/287584054","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":3,"author_association":"NONE","body":"As of r86, this is now also an issue even without sprites in the scene.\r\n\r\nIt looks like the following commit may have changed how the initial clear color state gets set (or, rather, doesn't get set), so it ends up in the default opaque-black state from the get go, without `state.reset()` even being called.\r\n\r\nhttps:\/\/github.com\/mrdoob\/three.js\/commit\/9b260d8970dc68df2cd5cd48c50dfc2c3b792197#diff-c0e88b98497597a015ecf238e91ac3a0L328\r\n\r\nIt feels like `WebGLState.ColorBuffer` needs an internal variable state that means \"currentColorClear has not been set\", distinct from \"currentColorClear has been set to opaque black\".","created_at":"2017-07-13T23:00:01.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315224726","id":315224726,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTIyNDcyNg==","updated_at":"2017-07-13T23:00:01.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315224726","user":{"following_url":"https:\/\/api.github.com\/users\/lojjic\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/lojjic\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/138124?v=4","url":"https:\/\/api.github.com\/users\/lojjic","gists_url":"https:\/\/api.github.com\/users\/lojjic\/gists{\/gist_id}","html_url":"https:\/\/github.com\/lojjic","subscriptions_url":"https:\/\/api.github.com\/users\/lojjic\/subscriptions","node_id":"MDQ6VXNlcjEzODEyNA==","repos_url":"https:\/\/api.github.com\/users\/lojjic\/repos","received_events_url":"https:\/\/api.github.com\/users\/lojjic\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/lojjic\/starred{\/owner}{\/repo}","site_admin":false,"login":"lojjic","type":"User","id":138124,"followers_url":"https:\/\/api.github.com\/users\/lojjic\/followers","organizations_url":"https:\/\/api.github.com\/users\/lojjic\/orgs"}},{"index":4,"author_association":"NONE","body":"PR for that referenced above.\r\n\r\nAn alternate approach might be to treat opaque black as the base state, but ensure that `gl.clearColor( r, g, b, a )` is invoked both on initial startup and on `reset()`.","created_at":"2017-07-13T23:22:32.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315228158","id":315228158,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTIyODE1OA==","updated_at":"2017-07-13T23:22:32.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315228158","user":{"following_url":"https:\/\/api.github.com\/users\/lojjic\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/lojjic\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/138124?v=4","url":"https:\/\/api.github.com\/users\/lojjic","gists_url":"https:\/\/api.github.com\/users\/lojjic\/gists{\/gist_id}","html_url":"https:\/\/github.com\/lojjic","subscriptions_url":"https:\/\/api.github.com\/users\/lojjic\/subscriptions","node_id":"MDQ6VXNlcjEzODEyNA==","repos_url":"https:\/\/api.github.com\/users\/lojjic\/repos","received_events_url":"https:\/\/api.github.com\/users\/lojjic\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/lojjic\/starred{\/owner}{\/repo}","site_admin":false,"login":"lojjic","type":"User","id":138124,"followers_url":"https:\/\/api.github.com\/users\/lojjic\/followers","organizations_url":"https:\/\/api.github.com\/users\/lojjic\/orgs"}},{"index":5,"author_association":"NONE","body":"What I did in my code base was this on reset:\r\ncurrentColorClear.set( -1, -1, -1, -1 ); \r\n\r\nThis is an invalid color, so hence it would set the glClearColor to the requested value for whatever state was running.","created_at":"2017-07-13T23:42:46.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315230950","id":315230950,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTIzMDk1MA==","updated_at":"2017-07-13T23:42:46.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315230950","user":{"following_url":"https:\/\/api.github.com\/users\/Neesnu\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/Neesnu\/events{\/privacy}","avatar_url":"https:\/\/avatars0.githubusercontent.com\/u\/4451809?v=4","url":"https:\/\/api.github.com\/users\/Neesnu","gists_url":"https:\/\/api.github.com\/users\/Neesnu\/gists{\/gist_id}","html_url":"https:\/\/github.com\/Neesnu","subscriptions_url":"https:\/\/api.github.com\/users\/Neesnu\/subscriptions","node_id":"MDQ6VXNlcjQ0NTE4MDk=","repos_url":"https:\/\/api.github.com\/users\/Neesnu\/repos","received_events_url":"https:\/\/api.github.com\/users\/Neesnu\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/Neesnu\/starred{\/owner}{\/repo}","site_admin":false,"login":"Neesnu","type":"User","id":4451809,"followers_url":"https:\/\/api.github.com\/users\/Neesnu\/followers","organizations_url":"https:\/\/api.github.com\/users\/Neesnu\/orgs"}},{"index":6,"author_association":"COLLABORATOR","body":">As of r86, this is now also an issue even without sprites in the scene.\r\n\r\n@lojjic Can you demonstrate the issue with a fiddle?","created_at":"2017-07-13T23:48:23.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315231782","id":315231782,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTIzMTc4Mg==","updated_at":"2017-07-13T23:48:23.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315231782","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":7,"author_association":"NONE","body":"Certainly, here go: https:\/\/jsfiddle.net\/hdc3soqy\/","created_at":"2017-07-14T01:00:07.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315240964","id":315240964,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTI0MDk2NA==","updated_at":"2017-07-14T01:00:07.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315240964","user":{"following_url":"https:\/\/api.github.com\/users\/lojjic\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/lojjic\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/138124?v=4","url":"https:\/\/api.github.com\/users\/lojjic","gists_url":"https:\/\/api.github.com\/users\/lojjic\/gists{\/gist_id}","html_url":"https:\/\/github.com\/lojjic","subscriptions_url":"https:\/\/api.github.com\/users\/lojjic\/subscriptions","node_id":"MDQ6VXNlcjEzODEyNA==","repos_url":"https:\/\/api.github.com\/users\/lojjic\/repos","received_events_url":"https:\/\/api.github.com\/users\/lojjic\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/lojjic\/starred{\/owner}{\/repo}","site_admin":false,"login":"lojjic","type":"User","id":138124,"followers_url":"https:\/\/api.github.com\/users\/lojjic\/followers","organizations_url":"https:\/\/api.github.com\/users\/lojjic\/orgs"}},{"index":8,"author_association":"COLLABORATOR","body":"I expect that can be fixed by just setting\r\n```\r\nvar currentColorClear = new Vector4( 0, 0, 0, 0 );\r\n```\r\nand in `reset()`\r\n```\r\ncurrentColorClear.set( 0, 0, 0, 0 );\r\n```\r\nI think that will work because the initial clear color is all-zeros.\r\n\r\nIf not, then set both to `( - 1, 0, 0, 0 )`.","created_at":"2017-07-14T01:48:38.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315247207","id":315247207,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTI0NzIwNw==","updated_at":"2017-07-14T01:48:38.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315247207","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}},{"index":9,"author_association":"NONE","body":"@WestLangley Yes you're right, since `0,0,0,0` is the default clearColor value in WebGLRenderingContext, it makes sense to set that as the default. That will fix the new r86 issue.\r\n\r\nThen, to prevent this ticket's original issue, the `reset` method should ensure `gl.clearColor()` is updated, so that `currentColorClear` and the GL context's `clearColor` are never out of sync.\r\n\r\nIf that sounds right to you, I'll issue another PR shortly.","created_at":"2017-07-14T15:55:38.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315396309","id":315396309,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTM5NjMwOQ==","updated_at":"2017-07-14T15:55:38.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315396309","user":{"following_url":"https:\/\/api.github.com\/users\/lojjic\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/lojjic\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/138124?v=4","url":"https:\/\/api.github.com\/users\/lojjic","gists_url":"https:\/\/api.github.com\/users\/lojjic\/gists{\/gist_id}","html_url":"https:\/\/github.com\/lojjic","subscriptions_url":"https:\/\/api.github.com\/users\/lojjic\/subscriptions","node_id":"MDQ6VXNlcjEzODEyNA==","repos_url":"https:\/\/api.github.com\/users\/lojjic\/repos","received_events_url":"https:\/\/api.github.com\/users\/lojjic\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/lojjic\/starred{\/owner}{\/repo}","site_admin":false,"login":"lojjic","type":"User","id":138124,"followers_url":"https:\/\/api.github.com\/users\/lojjic\/followers","organizations_url":"https:\/\/api.github.com\/users\/lojjic\/orgs"}},{"index":10,"author_association":"COLLABORATOR","body":"@lojjic It is best to restrict the gl call to one place, and call it only when necessary. Thanks for bringing this issue to the forefront, though.\r\n\r\nAnd thanks, @Neesnu.","created_at":"2017-07-14T17:21:17.000Z","html_url":"https:\/\/github.com\/mrdoob\/three.js\/issues\/11001#issuecomment-315416278","id":315416278,"issue_url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/11001","node_id":"MDEyOklzc3VlQ29tbWVudDMxNTQxNjI3OA==","updated_at":"2017-07-14T17:21:17.000Z","url":"https:\/\/api.github.com\/repos\/mrdoob\/three.js\/issues\/comments\/315416278","user":{"following_url":"https:\/\/api.github.com\/users\/WestLangley\/following{\/other_user}","events_url":"https:\/\/api.github.com\/users\/WestLangley\/events{\/privacy}","avatar_url":"https:\/\/avatars2.githubusercontent.com\/u\/1000017?v=4","url":"https:\/\/api.github.com\/users\/WestLangley","gists_url":"https:\/\/api.github.com\/users\/WestLangley\/gists{\/gist_id}","html_url":"https:\/\/github.com\/WestLangley","subscriptions_url":"https:\/\/api.github.com\/users\/WestLangley\/subscriptions","node_id":"MDQ6VXNlcjEwMDAwMTc=","repos_url":"https:\/\/api.github.com\/users\/WestLangley\/repos","received_events_url":"https:\/\/api.github.com\/users\/WestLangley\/received_events","gravatar_id":"","starred_url":"https:\/\/api.github.com\/users\/WestLangley\/starred{\/owner}{\/repo}","site_admin":false,"login":"WestLangley","type":"User","id":1000017,"followers_url":"https:\/\/api.github.com\/users\/WestLangley\/followers","organizations_url":"https:\/\/api.github.com\/users\/WestLangley\/orgs"}}]}