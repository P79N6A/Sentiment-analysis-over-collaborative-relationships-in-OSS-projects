[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/312437676",
    "html_url": "https://github.com/ipython/ipython/pull/10686#issuecomment-312437676",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10686",
    "id": 312437676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQzNzY3Ng==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-01T15:16:44Z",
    "updated_at": "2017-07-01T15:16:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @ngg,\r\n\r\nwould it be possible for you to try this branch: https://github.com/jonathanslenders/python-prompt-toolkit/pull/520 ?\r\npatch_stdout is not required and can be disabled, but this should make sure that line wrapping is not disabled for background threads."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/312438456",
    "html_url": "https://github.com/ipython/ipython/pull/10686#issuecomment-312438456",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10686",
    "id": 312438456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQzODQ1Ng==",
    "user": {
      "login": "ngg",
      "id": 550654,
      "node_id": "MDQ6VXNlcjU1MDY1NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/550654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ngg",
      "html_url": "https://github.com/ngg",
      "followers_url": "https://api.github.com/users/ngg/followers",
      "following_url": "https://api.github.com/users/ngg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ngg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ngg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ngg/subscriptions",
      "organizations_url": "https://api.github.com/users/ngg/orgs",
      "repos_url": "https://api.github.com/users/ngg/repos",
      "events_url": "https://api.github.com/users/ngg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ngg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-01T15:30:16Z",
    "updated_at": "2017-07-01T15:30:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jonathanslenders: I've tried your branch jonathanslenders/python-prompt-toolkit#520, and it seems to solve the linewrap issue for me (#10406).\r\nWithout `patch_stdout_context` the background prints are wrapped correctly, but they screw up the prompt and completers.\r\nWith both our patches, it seems to work perfectly, the lines are wrapped correctly, and the prompt remains intact."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/312438918",
    "html_url": "https://github.com/ipython/ipython/pull/10686#issuecomment-312438918",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10686",
    "id": 312438918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQzODkxOA==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-01T15:39:04Z",
    "updated_at": "2017-07-01T15:39:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Even with readline (like before), the prompt will be screwed up.\r\nPatching stdout could potentially break other libraries (I'm not sure). What if a certain library has a ``if sys.__stdout__ == sys.stdout`` test? I'm not sure it's worth doing it. It's a risk. Just press Control-L if a background thread printed to stdout. But I leave this up to the IPython developers to decide."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/312581149",
    "html_url": "https://github.com/ipython/ipython/pull/10686#issuecomment-312581149",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10686",
    "id": 312581149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjU4MTE0OQ==",
    "user": {
      "login": "ngg",
      "id": 550654,
      "node_id": "MDQ6VXNlcjU1MDY1NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/550654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ngg",
      "html_url": "https://github.com/ngg",
      "followers_url": "https://api.github.com/users/ngg/followers",
      "following_url": "https://api.github.com/users/ngg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ngg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ngg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ngg/subscriptions",
      "organizations_url": "https://api.github.com/users/ngg/orgs",
      "repos_url": "https://api.github.com/users/ngg/repos",
      "events_url": "https://api.github.com/users/ngg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ngg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-03T08:22:59Z",
    "updated_at": "2017-07-03T08:22:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this can be a really useful feature, but it might have side-effects. If you think it doesn't worth it, then probably we can hide this behind an optional flag. Or probably checking if stdout is modified can work too."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/312660393",
    "html_url": "https://github.com/ipython/ipython/pull/10686#issuecomment-312660393",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10686",
    "id": 312660393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY2MDM5Mw==",
    "user": {
      "login": "ngg",
      "id": 550654,
      "node_id": "MDQ6VXNlcjU1MDY1NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/550654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ngg",
      "html_url": "https://github.com/ngg",
      "followers_url": "https://api.github.com/users/ngg/followers",
      "following_url": "https://api.github.com/users/ngg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ngg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ngg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ngg/subscriptions",
      "organizations_url": "https://api.github.com/users/ngg/orgs",
      "repos_url": "https://api.github.com/users/ngg/repos",
      "events_url": "https://api.github.com/users/ngg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ngg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-03T14:29:22Z",
    "updated_at": "2017-07-03T14:29:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/jonathanslenders/python-prompt-toolkit/issues/507 is kind of a blocker issue. Its fix was already merged but not yet released."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/312675930",
    "html_url": "https://github.com/ipython/ipython/pull/10686#issuecomment-312675930",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10686",
    "id": 312675930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY3NTkzMA==",
    "user": {
      "login": "ngg",
      "id": 550654,
      "node_id": "MDQ6VXNlcjU1MDY1NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/550654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ngg",
      "html_url": "https://github.com/ngg",
      "followers_url": "https://api.github.com/users/ngg/followers",
      "following_url": "https://api.github.com/users/ngg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ngg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ngg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ngg/subscriptions",
      "organizations_url": "https://api.github.com/users/ngg/orgs",
      "repos_url": "https://api.github.com/users/ngg/repos",
      "events_url": "https://api.github.com/users/ngg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ngg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-03T15:29:19Z",
    "updated_at": "2017-07-03T15:29:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually this has lots of unwanted sideeffects I do not reallly understand, for example when there are lots of background prints then `self.pt_cli.run()` sometimes returns with None and whole ipython dies. Something like this would be really good to have, but not this solution."
  }
]
