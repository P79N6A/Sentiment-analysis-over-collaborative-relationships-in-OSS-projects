[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/275361829",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-275361829",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 275361829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTM2MTgyOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T10:59:19Z",
    "updated_at": "2017-01-26T10:59:19Z",
    "author_association": "MEMBER",
    "body": "Ping @tacaswell \r\n\r\nHave you run a `%matplotlib` command to integrate the event loops? What backend are you using?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/275409144",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-275409144",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 275409144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTQwOTE0NA==",
    "user": {
      "login": "keflavich",
      "id": 143715,
      "node_id": "MDQ6VXNlcjE0MzcxNQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/143715?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keflavich",
      "html_url": "https://github.com/keflavich",
      "followers_url": "https://api.github.com/users/keflavich/followers",
      "following_url": "https://api.github.com/users/keflavich/following{/other_user}",
      "gists_url": "https://api.github.com/users/keflavich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keflavich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keflavich/subscriptions",
      "organizations_url": "https://api.github.com/users/keflavich/orgs",
      "repos_url": "https://api.github.com/users/keflavich/repos",
      "events_url": "https://api.github.com/users/keflavich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keflavich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T14:59:22Z",
    "updated_at": "2017-01-26T14:59:22Z",
    "author_association": "NONE",
    "body": "No, I did not run `%matplotlib` in any of these sessions, but I started up ipython with `--matplotlib`.\r\n\r\nThe two different cases described above are with Qt4Agg and Qt5Agg backends."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/277491644",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-277491644",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 277491644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzQ5MTY0NA==",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-05T01:52:00Z",
    "updated_at": "2017-02-05T01:52:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "My naive guess is that something is wrong with the way the eventloops are being hooked together (but only on mac)."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/279479339",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-279479339",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 279479339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTQ3OTMzOQ==",
    "user": {
      "login": "keflavich",
      "id": 143715,
      "node_id": "MDQ6VXNlcjE0MzcxNQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/143715?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keflavich",
      "html_url": "https://github.com/keflavich",
      "followers_url": "https://api.github.com/users/keflavich/followers",
      "following_url": "https://api.github.com/users/keflavich/following{/other_user}",
      "gists_url": "https://api.github.com/users/keflavich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keflavich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keflavich/subscriptions",
      "organizations_url": "https://api.github.com/users/keflavich/orgs",
      "repos_url": "https://api.github.com/users/keflavich/repos",
      "events_url": "https://api.github.com/users/keflavich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keflavich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-13T18:31:13Z",
    "updated_at": "2017-02-13T18:31:13Z",
    "author_association": "NONE",
    "body": "Is there anything I can do to test that hypothesis or work around it?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/279488829",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-279488829",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 279488829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTQ4ODgyOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-13T19:04:00Z",
    "updated_at": "2017-02-13T19:04:00Z",
    "author_association": "MEMBER",
    "body": "The code handling Qt event loop integration in terminal IPython lives here:\r\nhttps://github.com/ipython/ipython/blob/master/IPython/terminal/pt_inputhooks/qt.py\r\n\r\nI don't understand what might be going wrong, though."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/279556468",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-279556468",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 279556468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTU1NjQ2OA==",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-13T23:22:47Z",
    "updated_at": "2017-02-13T23:22:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Where does the `context` object come from?\r\n\r\nI wonder if there is a race condition between triggering the `inputhook`, the socket being ready to be read, the notifier being created, and the loop starting?\r\n\r\nThe story here would be things fail when:\r\n\r\n - `inputhook` gets called\r\n - the context file descriptor is ready to be read and then torn down\r\n - the notifier in created, but is broken due to the previous step (this is the dicey part)\r\n - the Qt event loop now starts, but the notifier that needs to stop it to let the terminal work again is broken so the loop Qt event loop runs forever.\r\n  - closing all of the plot windows (which should still be responsive to pan/zoom and keyboard inputs?)  implicitly stops the event loop, returning control to the terminal \r\n\r\nFrom work with asyncio I have the general impression that `select` on OSX is wonky (which I assume _something_ related to that is being under the hood here).\r\n\r\nI suspect that the fix will be to notice when constructing the notifier fails and not starting the event loop.  It might also make sense to also hook up a timer that kills the event loop after ~0.1s?  "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/279561043",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-279561043",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 279561043,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTU2MTA0Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-13T23:45:44Z",
    "updated_at": "2017-02-13T23:45:44Z",
    "author_association": "MEMBER",
    "body": "The context object comes from prompt_toolkit."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/280679949",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-280679949",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 280679949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDY3OTk0OQ==",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T15:27:41Z",
    "updated_at": "2017-02-17T15:27:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "who is the right person from `prompt_toolkit` to loop into this?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/280697308",
    "html_url": "https://github.com/ipython/ipython/issues/10201#issuecomment-280697308",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10201",
    "id": 280697308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDY5NzMwOA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T16:28:24Z",
    "updated_at": "2017-02-17T16:28:24Z",
    "author_association": "MEMBER",
    "body": "@jonathanslenders is the author of prompt_toolkit. I'd suspect the error is more likely to be in our qt inputhook code, but maybe he can help us to work it out."
  }
]
