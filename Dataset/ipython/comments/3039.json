[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15138612",
    "html_url": "https://github.com/ipython/ipython/issues/3039#issuecomment-15138612",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3039",
    "id": 15138612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTM4NjEy",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-19T19:47:39Z",
    "updated_at": "2013-03-19T19:47:39Z",
    "author_association": "MEMBER",
    "body": "test:\n\nIn a non-ascii location, try:\n\n``` python\nimport os\nfrom subprocess import Popen\nPopen(\"python.exe\", cwd=os.getcwdu())\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15148244",
    "html_url": "https://github.com/ipython/ipython/issues/3039#issuecomment-15148244",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3039",
    "id": 15148244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTQ4MjQ0",
    "user": {
      "login": "jstenar",
      "id": 281420,
      "node_id": "MDQ6VXNlcjI4MTQyMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/281420?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jstenar",
      "html_url": "https://github.com/jstenar",
      "followers_url": "https://api.github.com/users/jstenar/followers",
      "following_url": "https://api.github.com/users/jstenar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jstenar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jstenar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jstenar/subscriptions",
      "organizations_url": "https://api.github.com/users/jstenar/orgs",
      "repos_url": "https://api.github.com/users/jstenar/repos",
      "events_url": "https://api.github.com/users/jstenar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jstenar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-19T22:42:00Z",
    "updated_at": "2013-03-19T22:42:00Z",
    "author_association": "MEMBER",
    "body": "```\n>>> import os\n>>> from subprocess import Popen\n>>> Popen(\"python.exe\", cwd=os.getcwdu())\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"C:\\python27\\lib\\subprocess.py\", line 679, in __init__\n    errread, errwrite)\n  File \"C:\\python27\\lib\\subprocess.py\", line 893, in _execute_child\n    startupinfo)\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 19-21: ordinal not in range(128)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15157986",
    "html_url": "https://github.com/ipython/ipython/issues/3039#issuecomment-15157986",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3039",
    "id": 15157986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTU3OTg2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-20T04:36:37Z",
    "updated_at": "2013-03-20T04:36:37Z",
    "author_association": "MEMBER",
    "body": "smaller tests:\n\n``` python\ncwdu = os.getcwdu()\n# test 1\nos.chdir(cwdu)\n# test 2\ncwdb = cwdu.encode(sys.getfilesystemencoding())\n# test 3\nos.chdir(cwdb)\n# test 4\nPopen(\"time\", cwd=cwdb)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15183692",
    "html_url": "https://github.com/ipython/ipython/issues/3039#issuecomment-15183692",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3039",
    "id": 15183692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTgzNjky",
    "user": {
      "login": "jstenar",
      "id": 281420,
      "node_id": "MDQ6VXNlcjI4MTQyMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/281420?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jstenar",
      "html_url": "https://github.com/jstenar",
      "followers_url": "https://api.github.com/users/jstenar/followers",
      "following_url": "https://api.github.com/users/jstenar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jstenar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jstenar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jstenar/subscriptions",
      "organizations_url": "https://api.github.com/users/jstenar/orgs",
      "repos_url": "https://api.github.com/users/jstenar/repos",
      "events_url": "https://api.github.com/users/jstenar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jstenar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-20T15:45:18Z",
    "updated_at": "2013-03-20T15:45:18Z",
    "author_association": "MEMBER",
    "body": "Results of small tests:\n\n```\nPython 2.7.2 (default, Jun 12 2011, 15:08:59) [MSC v.1500 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import os, sys\n>>> from subprocess import Popen\n>>> cwdu = os.getcwdu()\n>>> os.chdir(cwdu)\n>>> cwdb = cwdu.encode(sys.getfilesystemencoding())\n>>> os.chdir(cwdb)\n>>> Popen('echo foo', cwd=cwdb)\n<subprocess.Popen object at 0x02960250>\n\n>>> Popen('echo foo', cwd=cwdu)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"C:\\python27\\lib\\subprocess.py\", line 679, in __init__\n    errread, errwrite)\n  File \"C:\\python27\\lib\\subprocess.py\", line 893, in _execute_child\n    startupinfo)\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 29-31: ordinal not in range(128)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15197376",
    "html_url": "https://github.com/ipython/ipython/issues/3039#issuecomment-15197376",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3039",
    "id": 15197376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTk3Mzc2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-20T19:18:13Z",
    "updated_at": "2013-03-20T19:18:13Z",
    "author_association": "MEMBER",
    "body": "Okay, so it looks like there is a Windows-specific bug in Python that the cwd kwarg to Popen cannot be unicode, so we should be doing a conditional encode to `filesystemencoding()` on Python 2 on Windows.  One last test: does `Popen(cwd=cwdu)` work with a proper unicode `str` in Python 3?  With that, I think we should have all of the information we need for a patch.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15210780",
    "html_url": "https://github.com/ipython/ipython/issues/3039#issuecomment-15210780",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3039",
    "id": 15210780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjEwNzgw",
    "user": {
      "login": "jstenar",
      "id": 281420,
      "node_id": "MDQ6VXNlcjI4MTQyMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/281420?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jstenar",
      "html_url": "https://github.com/jstenar",
      "followers_url": "https://api.github.com/users/jstenar/followers",
      "following_url": "https://api.github.com/users/jstenar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jstenar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jstenar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jstenar/subscriptions",
      "organizations_url": "https://api.github.com/users/jstenar/orgs",
      "repos_url": "https://api.github.com/users/jstenar/repos",
      "events_url": "https://api.github.com/users/jstenar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jstenar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-20T23:33:13Z",
    "updated_at": "2013-03-20T23:33:13Z",
    "author_association": "MEMBER",
    "body": "```\nPython 3.2 (r32:88445, Feb 20 2011, 21:29:02) [MSC v.1500 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import subprocess\n>>> from subprocess import Popen\n>>> import os,sys\n>>> cwdu=os.getcwd()\n>>> cwdu\n'C:\\\\python\\\\ipydevel\\\\åäö'\n>>> Popen('echo foo', cwd=cwdu)\n<subprocess.Popen object at 0x0309BFB0>\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15212025",
    "html_url": "https://github.com/ipython/ipython/issues/3039#issuecomment-15212025",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3039",
    "id": 15212025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjEyMDI1",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-21T00:08:10Z",
    "updated_at": "2013-03-21T00:08:10Z",
    "author_association": "MEMBER",
    "body": "Great, that should be enough info, and #3046 ought to be a sufficient fix.\n"
  }
]
