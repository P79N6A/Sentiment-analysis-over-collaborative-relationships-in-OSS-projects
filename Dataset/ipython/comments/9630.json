[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226637745",
    "html_url": "https://github.com/ipython/ipython/issues/9630#issuecomment-226637745",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9630",
    "id": 226637745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjYzNzc0NQ==",
    "user": {
      "login": "matthew-brett",
      "id": 67612,
      "node_id": "MDQ6VXNlcjY3NjEy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/67612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthew-brett",
      "html_url": "https://github.com/matthew-brett",
      "followers_url": "https://api.github.com/users/matthew-brett/followers",
      "following_url": "https://api.github.com/users/matthew-brett/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthew-brett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthew-brett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthew-brett/subscriptions",
      "organizations_url": "https://api.github.com/users/matthew-brett/orgs",
      "repos_url": "https://api.github.com/users/matthew-brett/repos",
      "events_url": "https://api.github.com/users/matthew-brett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthew-brett/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-16T22:58:40Z",
    "updated_at": "2016-06-16T22:58:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "With the following `ipython_config.py` on python2.7:\n\n```\nc.TerminalInteractiveShell.editing_mode = 'vi'\nc.TerminalInteractiveShell.display_completions='readlinelike'\n```\n\n```\nIn [1]: import numpy as np \n\nIn [2]: np.\nDisplay all 584 possibilities? (y on n) -> y\nIn [2]: np.                                                                                                                                                                                             \nTraceback (most recent call last):\n  File \"/Users/mb312/.virtualenvs/test/bin/ipython\", line 11, in <module>\n    sys.exit(start_ipython())\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/IPython/__init__.py\", line 119, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/traitlets/config/application.py\", line 596, in launch_instance\n    app.start()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/IPython/terminal/ipapp.py\", line 348, in start\n    self.shell.mainloop()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 480, in mainloop\n    self.interact()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 463, in interact\n    code = self.prompt_for_code()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 403, in prompt_for_code\n    pre_run=self.pre_prompt, reset_current_buffer=True)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/interface.py\", line 388, in run\n    self.eventloop.run(self.input, self.create_eventloop_callbacks())\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/eventloop/posix.py\", line 154, in run\n    t()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/eventloop/posix.py\", line 82, in read_from_stdin\n    inputstream.feed(data)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/terminal/vt100_input.py\", line 376, in feed\n    self._input_parser.send(c)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/terminal/vt100_input.py\", line 313, in _input_parser_generator\n    self._call_handler(prefix[0], prefix[0])\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/terminal/vt100_input.py\", line 328, in _call_handler\n    self.feed_key_callback(KeyPress(key, insert_text))\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/interface.py\", line 947, in feed_key\n    cli.input_processor.process_keys()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/key_binding/input_processor.py\", line 201, in process_keys\n    self._process_coroutine.send(key_press)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/key_binding/input_processor.py\", line 158, in _process\n    self._call_handler(matches[-1], key_sequence=buffer)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/key_binding/input_processor.py\", line 228, in _call_handler\n    handler.call(event)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/key_binding/registry.py\", line 31, in call\n    return self.handler(event)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/shortcuts.py\", line 642, in _\n    event.cli.set_return_value(True)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/interface.py\", line 577, in set_return_value\n    self._set_return_callable(lambda: document)\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/interface.py\", line 585, in _set_return_callable\n    self.eventloop.stop()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/interface.py\", line 1062, in stop\n    self.stop_callback()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/interface.py\", line 513, in done\n    done_callback(sub_cli.return_value())\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/key_binding/bindings/completion.py\", line 125, in display_page\n    cli.run_in_terminal(lambda: display(page_counter[0]))\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/interface.py\", line 613, in run_in_terminal\n    result = func()\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/key_binding/bindings/completion.py\", line 125, in <lambda>\n    cli.run_in_terminal(lambda: display(page_counter[0]))\n  File \"/Users/mb312/.virtualenvs/test/lib/python2.7/site-packages/prompt_toolkit/key_binding/bindings/completion.py\", line 105, in display\n    for i in range(column_count)]\nTypeError: slice indices must be integers or None or have an __index__ method\n\nIf you suspect this is an IPython bug, please report it at:\n    https://github.com/ipython/ipython/issues\nor send an email to the mailing list at ipython-dev@scipy.org\n\nYou can print a more detailed traceback right now with \"%tb\", or use \"%debug\"\nto interactively debug it.\n\nExtra-detailed tracebacks for bug-reporting purposes can be enabled via:\n    %config Application.verbose_crash=True\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226725193",
    "html_url": "https://github.com/ipython/ipython/issues/9630#issuecomment-226725193",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9630",
    "id": 226725193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjcyNTE5Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-17T09:34:54Z",
    "updated_at": "2016-06-17T09:34:54Z",
    "author_association": "MEMBER",
    "body": "Ping @jonathanslenders.\n\nI tried to reproduce this just now with master of both IPython and prompt_toolkit (master of the latter is the same as 1.0.2 at the moment), but it worked for me.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226734332",
    "html_url": "https://github.com/ipython/ipython/issues/9630#issuecomment-226734332",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9630",
    "id": 226734332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjczNDMzMg==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-17T10:19:52Z",
    "updated_at": "2016-06-17T10:19:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Apparently a Python 2 issue. I'll check this evening.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226861697",
    "html_url": "https://github.com/ipython/ipython/issues/9630#issuecomment-226861697",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9630",
    "id": 226861697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjg2MTY5Nw==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-17T19:33:26Z",
    "updated_at": "2016-06-17T19:33:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @matthew-brett, can you please test again with the latest master branch of prompt-toolkit?\nThis should fix Python 2 compatibility, but it also contains a few improvements regarding the visualisation when the readline-like completion is triggered from somewhere in the middle of a multiline input prompt.\n\nIf everything is fine, this will probably become a prompt-toolkit 1.0.3. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226862680",
    "html_url": "https://github.com/ipython/ipython/issues/9630#issuecomment-226862680",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9630",
    "id": 226862680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjg2MjY4MA==",
    "user": {
      "login": "matthew-brett",
      "id": 67612,
      "node_id": "MDQ6VXNlcjY3NjEy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/67612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthew-brett",
      "html_url": "https://github.com/matthew-brett",
      "followers_url": "https://api.github.com/users/matthew-brett/followers",
      "following_url": "https://api.github.com/users/matthew-brett/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthew-brett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthew-brett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthew-brett/subscriptions",
      "organizations_url": "https://api.github.com/users/matthew-brett/orgs",
      "repos_url": "https://api.github.com/users/matthew-brett/repos",
      "events_url": "https://api.github.com/users/matthew-brett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthew-brett/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-17T19:37:16Z",
    "updated_at": "2016-06-17T19:37:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Excellent - yes - that works as expected, thanks.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/227245089",
    "html_url": "https://github.com/ipython/ipython/issues/9630#issuecomment-227245089",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9630",
    "id": 227245089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzI0NTA4OQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-20T19:32:40Z",
    "updated_at": "2016-06-20T19:32:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "prompt-toolkit 1.0.3 has been released, solving the issue above. (@matthew-brett, if you have time, can you test again in a clean environment?)\n\nMaybe we should also increase the minimum required version in the setup.py from IPython.\n"
  }
]
