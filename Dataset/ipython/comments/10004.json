[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/253796185",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-253796185",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 253796185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Mzc5NjE4NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-14T13:16:35Z",
    "updated_at": "2016-10-14T13:16:35Z",
    "author_association": "MEMBER",
    "body": "That's weird, because we do use win_unicode_console. @Drekin , any ideas on this?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/253830429",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-253830429",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 253830429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzgzMDQyOQ==",
    "user": {
      "login": "Drekin",
      "id": 7892803,
      "node_id": "MDQ6VXNlcjc4OTI4MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7892803?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Drekin",
      "html_url": "https://github.com/Drekin",
      "followers_url": "https://api.github.com/users/Drekin/followers",
      "following_url": "https://api.github.com/users/Drekin/following{/other_user}",
      "gists_url": "https://api.github.com/users/Drekin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Drekin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Drekin/subscriptions",
      "organizations_url": "https://api.github.com/users/Drekin/orgs",
      "repos_url": "https://api.github.com/users/Drekin/repos",
      "events_url": "https://api.github.com/users/Drekin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Drekin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-14T15:13:22Z",
    "updated_at": "2016-10-14T15:13:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, this is about input, right? But for input you use some readline hook to have autocompletion, etc., so `win_unicode_console` is not used in this case. I can reproduce the issue with my Czech locale. `sys.stdin.readline()` works, `input()` also works, whereas directly typing to console not: in my case, ě (key 2) puts the character but does not increment the cursor, and č (key 4) behaves like Enter. It seems that this is connected with the readline hook you are using (configuration or bug in `prompt_toolkit`?).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/253834115",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-253834115",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 253834115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzgzNDExNQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-14T15:27:07Z",
    "updated_at": "2016-10-14T15:27:07Z",
    "author_association": "MEMBER",
    "body": "Aha, right. Input goes through prompt_toolkit, so the expert we need to invoke is @jonathanslenders :-). @lv-gh - can you make sure your prompt_toolkit is up to date (1.0.7 is currently the lastest).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/253834300",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-253834300",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 253834300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzgzNDMwMA==",
    "user": {
      "login": "lv-gh",
      "id": 3296959,
      "node_id": "MDQ6VXNlcjMyOTY5NTk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3296959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lv-gh",
      "html_url": "https://github.com/lv-gh",
      "followers_url": "https://api.github.com/users/lv-gh/followers",
      "following_url": "https://api.github.com/users/lv-gh/following{/other_user}",
      "gists_url": "https://api.github.com/users/lv-gh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lv-gh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lv-gh/subscriptions",
      "organizations_url": "https://api.github.com/users/lv-gh/orgs",
      "repos_url": "https://api.github.com/users/lv-gh/repos",
      "events_url": "https://api.github.com/users/lv-gh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lv-gh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-14T15:27:52Z",
    "updated_at": "2016-10-14T15:29:46Z",
    "author_association": "NONE",
    "body": "Some crude debugging (promp_toolkit/interface.py:feed_key()):\n\nfeed_key(), key_press:  KeyPress(key=Key('<C-E>'), data='ą')\nfeed_key(), key_press:  KeyPress(key=Key('<C-D>'), data='Ą')\nfeed_key(), key_press:  KeyPress(key=Key('<C-J>'), data='\\n') # č\nfeed_key(), key_press:  KeyPress(key=Key('<C-Y>'), data='ę')\nfeed_key(), key_press:  KeyPress(key=Key('<C-X>'), data='Ę')\nfeed_key(), key_press:  KeyPress(key=Key('<C-W>'), data='ė')\nfeed_key(), key_press:  KeyPress(key=Key('<C-V>'), data='Ė')\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/253835797",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-253835797",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 253835797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzgzNTc5Nw==",
    "user": {
      "login": "lv-gh",
      "id": 3296959,
      "node_id": "MDQ6VXNlcjMyOTY5NTk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3296959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lv-gh",
      "html_url": "https://github.com/lv-gh",
      "followers_url": "https://api.github.com/users/lv-gh/followers",
      "following_url": "https://api.github.com/users/lv-gh/following{/other_user}",
      "gists_url": "https://api.github.com/users/lv-gh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lv-gh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lv-gh/subscriptions",
      "organizations_url": "https://api.github.com/users/lv-gh/orgs",
      "repos_url": "https://api.github.com/users/lv-gh/repos",
      "events_url": "https://api.github.com/users/lv-gh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lv-gh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-14T15:33:24Z",
    "updated_at": "2016-10-14T15:33:24Z",
    "author_association": "NONE",
    "body": "C:\\Python64\\3.5>python.exe -m pip freeze\ncolorama==0.3.7\ndecorator==4.0.10\nipython==5.1.0\nipython-genutils==0.1.0\npickleshare==0.7.4\npip-autoremove==0.9.0\nprompt-toolkit==1.0.7\nPygments==2.1.3\nsimplegeneric==0.8.1\nsix==1.10.0\ntraitlets==4.3.1\nvirtualenv==15.0.3\nwcwidth==0.1.7\nwin-unicode-console==0.5\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/253843029",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-253843029",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 253843029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Mzg0MzAyOQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-14T15:58:20Z",
    "updated_at": "2016-10-14T15:58:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @lv-gh,\n\nMaybe it's the same as this issue? https://github.com/jonathanslenders/python-prompt-toolkit/issues/389\nCould you try the patch that was proposed there? (Replace `ascii_char in self.mappings` by `u_char.encode(\"utf8\") in self.mappings` in win32_input.py)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/253849836",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-253849836",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 253849836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Mzg0OTgzNg==",
    "user": {
      "login": "lv-gh",
      "id": 3296959,
      "node_id": "MDQ6VXNlcjMyOTY5NTk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3296959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lv-gh",
      "html_url": "https://github.com/lv-gh",
      "followers_url": "https://api.github.com/users/lv-gh/followers",
      "following_url": "https://api.github.com/users/lv-gh/following{/other_user}",
      "gists_url": "https://api.github.com/users/lv-gh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lv-gh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lv-gh/subscriptions",
      "organizations_url": "https://api.github.com/users/lv-gh/orgs",
      "repos_url": "https://api.github.com/users/lv-gh/repos",
      "events_url": "https://api.github.com/users/lv-gh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lv-gh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-14T16:20:58Z",
    "updated_at": "2016-10-14T16:20:58Z",
    "author_association": "NONE",
    "body": "Hi, @jonathanslenders,\nThanks, that seems to solve my/this issue. Here is actual patch:\n\n```\n--- prompt_toolkit/terminal/win32_input.py.orig 2016-10-14 19:12:10.347119900 +0300\n+++ prompt_toolkit/terminal/win32_input.py  2016-10-14 19:10:56.506989100 +0300\n@@ -225,7 +225,8 @@\n             if ev.VirtualKeyCode in self.keycodes:\n                 result = KeyPress(self.keycodes[ev.VirtualKeyCode], '')\n         else:\n-            if ascii_char in self.mappings:\n+            if u_char.encode(\"utf8\") in self.mappings:\n+            #if ascii_char in self.mappings:\n                 if self.mappings[ascii_char] == Keys.ControlJ:\n                     u_char = '\\n'  # Windows sends \\n, turn into \\r for unix compatibility.\n                 result = KeyPress(self.mappings[ascii_char], u_char)\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/254041063",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-254041063",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 254041063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDA0MTA2Mw==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-16T11:21:01Z",
    "updated_at": "2016-10-16T11:21:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @lv-gh,\n\nThis should be fixed in this commit: https://github.com/jonathanslenders/python-prompt-toolkit/commit/5ab81d7aa5a8081725fd21563b489713719ab7dd\nCould you try the latest prompt_toolkit master?\nThanks.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/254075714",
    "html_url": "https://github.com/ipython/ipython/issues/10004#issuecomment-254075714",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10004",
    "id": 254075714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDA3NTcxNA==",
    "user": {
      "login": "lv-gh",
      "id": 3296959,
      "node_id": "MDQ6VXNlcjMyOTY5NTk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3296959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lv-gh",
      "html_url": "https://github.com/lv-gh",
      "followers_url": "https://api.github.com/users/lv-gh/followers",
      "following_url": "https://api.github.com/users/lv-gh/following{/other_user}",
      "gists_url": "https://api.github.com/users/lv-gh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lv-gh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lv-gh/subscriptions",
      "organizations_url": "https://api.github.com/users/lv-gh/orgs",
      "repos_url": "https://api.github.com/users/lv-gh/repos",
      "events_url": "https://api.github.com/users/lv-gh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lv-gh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-16T21:18:48Z",
    "updated_at": "2016-10-16T21:18:48Z",
    "author_association": "NONE",
    "body": "@jonathanslenders \nConfirming: updated prompt_toolkit works fine.\n"
  }
]
