[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4658276",
    "html_url": "https://github.com/ipython/ipython/pull/1517#issuecomment-4658276",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1517",
    "id": 4658276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTgyNzY=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-23T12:43:05Z",
    "updated_at": "2012-03-23T12:43:05Z",
    "author_association": "MEMBER",
    "body": "Can you give an example that shows the bug? Also, if possible, a unit test for this would be good.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4658565",
    "html_url": "https://github.com/ipython/ipython/pull/1517#issuecomment-4658565",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1517",
    "id": 4658565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTg1NjU=",
    "user": {
      "login": "doerwalter",
      "id": 1387028,
      "node_id": "MDQ6VXNlcjEzODcwMjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1387028?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/doerwalter",
      "html_url": "https://github.com/doerwalter",
      "followers_url": "https://api.github.com/users/doerwalter/followers",
      "following_url": "https://api.github.com/users/doerwalter/following{/other_user}",
      "gists_url": "https://api.github.com/users/doerwalter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/doerwalter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doerwalter/subscriptions",
      "organizations_url": "https://api.github.com/users/doerwalter/orgs",
      "repos_url": "https://api.github.com/users/doerwalter/repos",
      "events_url": "https://api.github.com/users/doerwalter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/doerwalter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-23T13:04:30Z",
    "updated_at": "2012-03-23T13:04:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Try the following class:\n\n``` python\nclass MyList(object):\n    def __init__(self, content):\n        self.content = content\n    def _repr_pretty_(self, p, cycle):\n        if cycle:\n            p.text(\"MyList(...)\")\n        else:\n            with p.group(3, \"MyList(\", \")\"):\n                for (i, child) in enumerate(self.content):\n                    if i:\n                        p.text(\",\")\n                    p.breakable()\n                    p.pretty(child)\n```\n\nWithout the patch the output is indented six spaces, although the code specifies 3:\n\n```\nIn [1]: from gurk import *\nIn [2]: MyList(range(30))\nOut[2]: \nMyList(\n      0,\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16,\n      17,\n      18,\n      19,\n      20,\n      21,\n      22,\n      23,\n      24,\n      25,\n      26,\n      27,\n      28,\n      29)\n```\n\nWith the patch the output is indented 3 spaces:\n\n```\nIn [1]: from gurk import *\nIn [2]: MyList(range(30))\nOut[2]: \nMyList(\n   0,\n   1,\n   2,\n   3,\n   4,\n   5,\n   6,\n   7,\n   8,\n   9,\n   10,\n   11,\n   12,\n   13,\n   14,\n   15,\n   16,\n   17,\n   18,\n   19,\n   20,\n   21,\n   22,\n   23,\n   24,\n   25,\n   26,\n   27,\n   28,\n   29)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4658767",
    "html_url": "https://github.com/ipython/ipython/pull/1517#issuecomment-4658767",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1517",
    "id": 4658767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTg3Njc=",
    "user": {
      "login": "doerwalter",
      "id": 1387028,
      "node_id": "MDQ6VXNlcjEzODcwMjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1387028?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/doerwalter",
      "html_url": "https://github.com/doerwalter",
      "followers_url": "https://api.github.com/users/doerwalter/followers",
      "following_url": "https://api.github.com/users/doerwalter/following{/other_user}",
      "gists_url": "https://api.github.com/users/doerwalter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/doerwalter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doerwalter/subscriptions",
      "organizations_url": "https://api.github.com/users/doerwalter/orgs",
      "repos_url": "https://api.github.com/users/doerwalter/repos",
      "events_url": "https://api.github.com/users/doerwalter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/doerwalter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-23T13:18:46Z",
    "updated_at": "2012-03-23T13:18:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also here is a test:\n\n``` python\nfrom IPython.lib import pretty\n\nclass MyList(object):\n    def __init__(self, content):\n        self.content = content\n    def _repr_pretty_(self, p, cycle):\n        if cycle:\n            p.text(\"MyList(...)\")\n        else:\n            with p.group(3, \"MyList(\", \")\"):\n                for (i, child) in enumerate(self.content):\n                    if i:\n                        p.text(\",\")\n                        p.breakable()\n                    else:\n                        p.breakable(\"\")\n                    p.pretty(child)\n\ngotoutput = pretty.pretty(MyList(range(30)))\nexpectedoutput = \"MyList(\\n\" + \",\\n\".join(\"   %d\" % i for i in range(30)) + \")\"\n\nassert gotoutput == expectedoutput\n```\n\nHowever I don't know where I should put the test.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4658860",
    "html_url": "https://github.com/ipython/ipython/pull/1517#issuecomment-4658860",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1517",
    "id": 4658860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTg4NjA=",
    "user": {
      "login": "rkern",
      "id": 46135,
      "node_id": "MDQ6VXNlcjQ2MTM1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/46135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkern",
      "html_url": "https://github.com/rkern",
      "followers_url": "https://api.github.com/users/rkern/followers",
      "following_url": "https://api.github.com/users/rkern/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkern/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkern/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkern/subscriptions",
      "organizations_url": "https://api.github.com/users/rkern/orgs",
      "repos_url": "https://api.github.com/users/rkern/repos",
      "events_url": "https://api.github.com/users/rkern/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkern/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-23T13:26:20Z",
    "updated_at": "2012-03-23T13:26:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "A new `test_pretty.py` in `IPython/lib/tests/` would be a good place to put the test.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4659611",
    "html_url": "https://github.com/ipython/ipython/pull/1517#issuecomment-4659611",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1517",
    "id": 4659611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTk2MTE=",
    "user": {
      "login": "doerwalter",
      "id": 1387028,
      "node_id": "MDQ6VXNlcjEzODcwMjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1387028?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/doerwalter",
      "html_url": "https://github.com/doerwalter",
      "followers_url": "https://api.github.com/users/doerwalter/followers",
      "following_url": "https://api.github.com/users/doerwalter/following{/other_user}",
      "gists_url": "https://api.github.com/users/doerwalter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/doerwalter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doerwalter/subscriptions",
      "organizations_url": "https://api.github.com/users/doerwalter/orgs",
      "repos_url": "https://api.github.com/users/doerwalter/repos",
      "events_url": "https://api.github.com/users/doerwalter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/doerwalter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-23T14:11:39Z",
    "updated_at": "2012-03-23T14:11:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, I've added the test to the new test_pretty.py file.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4685956",
    "html_url": "https://github.com/ipython/ipython/pull/1517#issuecomment-4685956",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1517",
    "id": 4685956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODU5NTY=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-25T23:39:14Z",
    "updated_at": "2012-03-25T23:39:14Z",
    "author_association": "MEMBER",
    "body": "OK, this all looks OK, so I'm going to go ahead and merge it. Thanks, @doerwalter.\n"
  }
]
