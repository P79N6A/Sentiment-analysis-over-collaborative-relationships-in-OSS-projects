[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226235730",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226235730",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226235730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjIzNTczMA==",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:04:55Z",
    "updated_at": "2016-06-15T16:04:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was thinking would it be brutal to change stdout code page to 65001 when IPython starts, then revert it back to initial on exit?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226238017",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226238017",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226238017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjIzODAxNw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:12:19Z",
    "updated_at": "2016-06-15T16:12:19Z",
    "author_association": "MEMBER",
    "body": "I think it's only now possible to actually enter characters beyond your code page, so it's something we've never had to handle before. We should catch this. I don't think changing the code page is the right thing to do - that's liable to confuse things more.\n\nWe talked about integrating @Drekin's win_unicode_console, which I think would properly fix this, i.e. allowing arbitrary unicode to be displayed.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226241727",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226241727",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226241727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0MTcyNw==",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:25:13Z",
    "updated_at": "2016-06-15T16:25:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "That is more sensible, great. \nSo it's planned for 5.1 #8669\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226244135",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226244135",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226244135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0NDEzNQ==",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:34:03Z",
    "updated_at": "2016-06-15T16:35:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Following WUC instructions, it seems it works just fine out of the box:\n\n``` diff\n--- C:\\Python35\\Lib\\site-packages\\IPython\\terminal\\ptshell.py\n+++ (clipboard)\n@@ -24,6 +24,8 @@\n from prompt_toolkit.keys import Keys\n from prompt_toolkit.layout.processors import ConditionalProcessor, HighlightMatchingBracketProcessor\n from prompt_toolkit.styles import PygmentsStyle, DynamicStyle\n+\n+import win_unicode_console\n\n from pygments.styles import get_style_by_name, get_all_styles\n from pygments.token import Token\n@@ -388,6 +390,7 @@\n             return\n\n         import colorama\n+        win_unicode_console.enable()\n         colorama.init()\n\n         # For some reason we make these wrappers around stdout/stderr.\n```\n\nAlso both `win_unicode_console.enable()` and `colorama.init()` seem safe on other platforms.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226245685",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226245685",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226245685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0NTY4NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:39:38Z",
    "updated_at": "2016-06-15T16:39:38Z",
    "author_association": "MEMBER",
    "body": "Cool - do you want to make a PR with that? Maybe we can get it in for 5.0.\n\nOne change - put the import inside the function. There's no need to depend on WUC or colorama on other platforms, and that's the real reason there's a Windows check there.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226247266",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226247266",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226247266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0NzI2Ng==",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:45:28Z",
    "updated_at": "2016-06-15T16:45:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, should I import with try/except?\nI ask because colorama is imported clean, perhaps it's added as dependency in PTK...\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226247656",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226247656",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226247656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0NzY1Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:46:53Z",
    "updated_at": "2016-06-15T16:46:53Z",
    "author_association": "MEMBER",
    "body": "It's imported clean, but look a few lines above - if we're not on Windows, we return from this method before importing it.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226248565",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226248565",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226248565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0ODU2NQ==",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:50:06Z",
    "updated_at": "2016-06-15T16:51:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "But who guaranties that there is colorama or WUC? Wont it raise exception otherwise?\n\nFrom setup.py:\n\n``` python\n...\n ':sys_platform == \"win32\"': ['colorama'],\n...\n```\n\nShould I add WUC, or go with try/except import?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226249277",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226249277",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226249277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0OTI3Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:52:43Z",
    "updated_at": "2016-06-15T16:52:43Z",
    "author_association": "MEMBER",
    "body": "colorama is listed as a Windows dependency here: https://github.com/ipython/ipython/blob/5b668f2498c640364d1d9b74599f39a5517bd821/setup.py#L212\n\nYou'll want to add WUC to that list, so we require it on Windows.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226249585",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226249585",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226249585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjI0OTU4NQ==",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T16:53:48Z",
    "updated_at": "2016-06-15T16:53:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yep :)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/226333163",
    "html_url": "https://github.com/ipython/ipython/issues/9619#issuecomment-226333163",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9619",
    "id": 226333163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjMzMzE2Mw==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-15T22:00:27Z",
    "updated_at": "2016-06-15T22:00:27Z",
    "author_association": "MEMBER",
    "body": "closed by #9621 \n"
  }
]
