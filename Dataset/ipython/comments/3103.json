[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15585953",
    "html_url": "https://github.com/ipython/ipython/issues/3103#issuecomment-15585953",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3103",
    "id": 15585953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTg1OTUz",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-28T12:30:40Z",
    "updated_at": "2013-03-28T12:30:40Z",
    "author_association": "MEMBER",
    "body": "The kernel isn't actually loading Qt, though - the frontend runs in a separate process. And indeed, when I try that code in the Qt console:\n\n```\nIn [1]: from ctypes import CDLL, c_char_p\nIn [2]: c = CDLL(\"libc.so.6\")\nIn [3]: c.setlocale.restype = c_char_p\nIn [4]: c.setlocale(0)\n\nOut[5]: 'C'\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15586240",
    "html_url": "https://github.com/ipython/ipython/issues/3103#issuecomment-15586240",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3103",
    "id": 15586240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTg2MjQw",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-28T12:38:58Z",
    "updated_at": "2013-03-28T12:38:58Z",
    "author_association": "MEMBER",
    "body": "(To avoid doubt: the Out[] number is 5 because I copied and pasted the whole block into input cell 5 - I didn't sneakily add in another line to get that output)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15587670",
    "html_url": "https://github.com/ipython/ipython/issues/3103#issuecomment-15587670",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3103",
    "id": 15587670,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTg3Njcw",
    "user": {
      "login": "phillipberndt",
      "id": 387407,
      "node_id": "MDQ6VXNlcjM4NzQwNw==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/387407?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phillipberndt",
      "html_url": "https://github.com/phillipberndt",
      "followers_url": "https://api.github.com/users/phillipberndt/followers",
      "following_url": "https://api.github.com/users/phillipberndt/following{/other_user}",
      "gists_url": "https://api.github.com/users/phillipberndt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phillipberndt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phillipberndt/subscriptions",
      "organizations_url": "https://api.github.com/users/phillipberndt/orgs",
      "repos_url": "https://api.github.com/users/phillipberndt/repos",
      "events_url": "https://api.github.com/users/phillipberndt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phillipberndt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-28T13:16:13Z",
    "updated_at": "2013-03-28T13:16:13Z",
    "author_association": "NONE",
    "body": "Ah, thanks. This narrows it down. Whether or not the locale is set must depend on `--pylab` then:\n\n```\n$ ipython --pylab=qt test.py\n\nWelcome to pylab, a matplotlib-based Python environment [backend: Qt4Agg].\nFor more information, type 'help(pylab)'.\nde_DE.UTF-8\n$ ipython --pylab=tk test.py\n\nWelcome to pylab, a matplotlib-based Python environment [backend: TkAgg].\nFor more information, type 'help(pylab)'.\nC\n```\n\nIf I use python directly, I can also reproduce the problem, but only after opening at least one window: (test.py is a script with the commands from above)\n\n```\n$ python\nPython 2.6.6 (r266:84292, Dec 26 2010, 22:31:48) \n[GCC 4.4.5] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import matplotlib\n>>> matplotlib.use(\"Qt4Agg\")\n>>> import pylab\n>>> matplotlib.interactive(True)\n>>> execfile(\"test.py\")\nC\n>>> pylab.plot(1,2)\n[<matplotlib.lines.Line2D object at 0x28bd190>]\n>>> execfile(\"test.py\")\nde_DE.UTF-8\n```\n\nSo there must be some initialization in ipython causing QT to invoke setlocale() before actually opening a plot window. However, I guess the place to resolve this is upstream. :-) I will report the problem to @matplotlib.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15588056",
    "html_url": "https://github.com/ipython/ipython/issues/3103#issuecomment-15588056",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3103",
    "id": 15588056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTg4MDU2",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-28T13:25:29Z",
    "updated_at": "2013-03-28T13:25:29Z",
    "author_association": "MEMBER",
    "body": "OK, thanks. I'll close this issue then.\n"
  }
]
