[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/284472271",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-284472271",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 284472271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDQ3MjI3MQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T17:39:44Z",
    "updated_at": "2017-03-06T17:39:44Z",
    "author_association": "MEMBER",
    "body": "can you try updating prompt_toolkit ? I think it's a known error (see #10348 that seem to be a duplicate). "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/284478418",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-284478418",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 284478418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDQ3ODQxOA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T18:00:35Z",
    "updated_at": "2017-03-06T18:00:35Z",
    "author_association": "MEMBER",
    "body": "You need to upgrade *IPython* to 5.3 (or downgrade prompt_toolkit, but there's no particular reason to do that now that IPython has been updated)."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/284563964",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-284563964",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 284563964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDU2Mzk2NA==",
    "user": {
      "login": "ocehugo",
      "id": 1202691,
      "node_id": "MDQ6VXNlcjEyMDI2OTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1202691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ocehugo",
      "html_url": "https://github.com/ocehugo",
      "followers_url": "https://api.github.com/users/ocehugo/followers",
      "following_url": "https://api.github.com/users/ocehugo/following{/other_user}",
      "gists_url": "https://api.github.com/users/ocehugo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ocehugo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ocehugo/subscriptions",
      "organizations_url": "https://api.github.com/users/ocehugo/orgs",
      "repos_url": "https://api.github.com/users/ocehugo/repos",
      "events_url": "https://api.github.com/users/ocehugo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ocehugo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T23:05:13Z",
    "updated_at": "2017-03-06T23:05:13Z",
    "author_association": "NONE",
    "body": "thanks, problem solved. sorry for the duplicate, I forgot to search the closed issues."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/284579611",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-284579611",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 284579611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDU3OTYxMQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-07T00:22:31Z",
    "updated_at": "2017-03-07T00:22:31Z",
    "author_association": "MEMBER",
    "body": "> thanks, problem solved. sorry for the duplicate, I forgot to search the closed issues.\r\n\r\nIt' ok, not always easy to find !\r\n\r\nClosing. "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/306357350",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-306357350",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 306357350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjM1NzM1MA==",
    "user": {
      "login": "ocehugo",
      "id": 1202691,
      "node_id": "MDQ6VXNlcjEyMDI2OTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1202691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ocehugo",
      "html_url": "https://github.com/ocehugo",
      "followers_url": "https://api.github.com/users/ocehugo/followers",
      "following_url": "https://api.github.com/users/ocehugo/following{/other_user}",
      "gists_url": "https://api.github.com/users/ocehugo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ocehugo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ocehugo/subscriptions",
      "organizations_url": "https://api.github.com/users/ocehugo/orgs",
      "repos_url": "https://api.github.com/users/ocehugo/repos",
      "events_url": "https://api.github.com/users/ocehugo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ocehugo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-06T01:40:53Z",
    "updated_at": "2017-06-06T01:41:13Z",
    "author_association": "NONE",
    "body": "@takluyver \r\n\r\nJust tested with Ipython 6.1.0/Python 3.5.1 and prompt-toolkit 1.0.14 and the problem persists. Should I freeze prompt-toolkit to 1.0.9 ?\r\n\r\nsession ends with Assertion Error."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/307107363",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-307107363",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 307107363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzEwNzM2Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-08T13:43:27Z",
    "updated_at": "2017-06-08T13:43:27Z",
    "author_association": "MEMBER",
    "body": "I can't reproduce it. Are you sure that it's definitely running IPython 6.1, and that the traceback you see is exactly as above?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/318223847",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-318223847",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 318223847,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODIyMzg0Nw==",
    "user": {
      "login": "ocehugo",
      "id": 1202691,
      "node_id": "MDQ6VXNlcjEyMDI2OTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1202691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ocehugo",
      "html_url": "https://github.com/ocehugo",
      "followers_url": "https://api.github.com/users/ocehugo/followers",
      "following_url": "https://api.github.com/users/ocehugo/following{/other_user}",
      "gists_url": "https://api.github.com/users/ocehugo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ocehugo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ocehugo/subscriptions",
      "organizations_url": "https://api.github.com/users/ocehugo/orgs",
      "repos_url": "https://api.github.com/users/ocehugo/repos",
      "events_url": "https://api.github.com/users/ocehugo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ocehugo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-27T00:43:54Z",
    "updated_at": "2017-07-27T00:45:29Z",
    "author_association": "NONE",
    "body": "@takluyver \r\nSorry, completely forgot about this one since I solved by falling back to old prompt_toolkit.\r\n\r\nI just face the problem again after a global pip update.\r\n\r\nGoing to a console session and doing:\r\n```python\r\nx = np.array?\r\n#help is displayed\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/jupyter-console\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.6/site-packages/jupyter_core/application.py\", line 267, in launch_instance\r\n    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/traitlets/config/application.py\", line 658, in launch_instance\r\n    app.start()\r\n  File \"/usr/local/lib/python3.6/site-packages/jupyter_console/app.py\", line 155, in start\r\n    self.shell.mainloop()\r\n  File \"/usr/local/lib/python3.6/site-packages/jupyter_console/ptshell.py\", line 490, in mainloop\r\n    self.interact()\r\n  File \"/usr/local/lib/python3.6/site-packages/jupyter_console/ptshell.py\", line 474, in interact\r\n    code = self.prompt_for_code()\r\n  File \"/usr/local/lib/python3.6/site-packages/jupyter_console/ptshell.py\", line 430, in prompt_for_code\r\n    reset_current_buffer=True)\r\n  File \"/usr/local/lib/python3.6/site-packages/prompt_toolkit/interface.py\", line 408, in run\r\n    self._pre_run(pre_run)\r\n  File \"/usr/local/lib/python3.6/site-packages/prompt_toolkit/interface.py\", line 383, in _pre_run\r\n    pre_run()\r\n  File \"/usr/local/lib/python3.6/site-packages/jupyter_console/ptshell.py\", line 464, in pre_prompt\r\n    b.text = cast_unicode_py2(self.next_input)\r\n  File \"/usr/local/lib/python3.6/site-packages/prompt_toolkit/buffer.py\", line 372, in text\r\n    assert self.cursor_position <= len(value)\r\nAssertionError\r\n```\r\nwith [ipython 6.1.0/ python3.6.1/ prompt-toolkit 1.0.14/OSX].\r\n\r\nSo The help magic open the docs as expected but after closing it, an assertion error is raised (as above). Console (owned kernel) is also killed (as expected).\r\n\r\nSolution: Fall back to old version of prompt-toolkit (1.0.9 my case)."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/318315109",
    "html_url": "https://github.com/ipython/ipython/issues/10381#issuecomment-318315109",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10381",
    "id": 318315109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODMxNTEwOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-27T09:51:02Z",
    "updated_at": "2017-07-27T09:51:02Z",
    "author_association": "MEMBER",
    "body": "That's in jupyter_console rather than IPython. I think jupyter/jupyter_console#123 should fix it."
  }
]
