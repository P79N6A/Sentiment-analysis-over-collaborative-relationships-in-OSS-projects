[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/146870928",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-146870928",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 146870928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Njg3MDkyOA==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T13:24:40Z",
    "updated_at": "2015-10-09T13:24:40Z",
    "author_association": "MEMBER",
    "body": "@stefanv can you test #8888? I think it fixes these things, but I'm not super experienced with this stuff.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/148853472",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-148853472",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 148853472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODg1MzQ3Mg==",
    "user": {
      "login": "stefanv",
      "id": 45071,
      "node_id": "MDQ6VXNlcjQ1MDcx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/45071?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefanv",
      "html_url": "https://github.com/stefanv",
      "followers_url": "https://api.github.com/users/stefanv/followers",
      "following_url": "https://api.github.com/users/stefanv/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefanv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefanv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefanv/subscriptions",
      "organizations_url": "https://api.github.com/users/stefanv/orgs",
      "repos_url": "https://api.github.com/users/stefanv/repos",
      "events_url": "https://api.github.com/users/stefanv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefanv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-16T22:33:46Z",
    "updated_at": "2015-10-16T22:33:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "That does not seem to work for me, but it may very well be that I am not testing correctly.  The repository I am testing against is\n\nhttps://github.com/statlab/permute\n\nWhere I see:\n\n```\ninternal padding after /home/stefan/akad/projekte/permute/doc/source/user/npc/kenya.rst:30: WARNING: image file not readable: user/npc/../../../build/html/_static/test.png\n```\n\n(after commenting out `ipython_savefig_dir` from the config)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/149161852",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-149161852",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 149161852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTE2MTg1Mg==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-19T09:35:54Z",
    "updated_at": "2015-10-19T09:35:54Z",
    "author_association": "MEMBER",
    "body": "Thanks for testing, I'll use that repo to figure out what I'm not quite doing correctly.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/173024890",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-173024890",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 173024890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzAyNDg5MA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-19T23:42:18Z",
    "updated_at": "2016-01-19T23:42:18Z",
    "author_association": "MEMBER",
    "body": "@stefanv I do not seem to be able to reproduce using `permute` and coomenting the `ipython_savefig_dir` could sphinx-build have picked up a ipython savefig directive from another env ?\n\n```\n git diff -U0\ndiff --git a/doc/source/conf.py b/doc/source/conf.py\nindex 4fb1ba1..a6bff13 100644\n--- a/doc/source/conf.py\n+++ b/doc/source/conf.py\n@@ -147 +147 @@ html_static_path = ['_static']\n-ipython_savefig_dir = '../build/html/_static'\n+# ipython_savefig_dir = '../build/html/_static'\n```\n\n```\n$ make html\nsphinx-build -b html -d build/doctrees   source build/html\nRunning Sphinx v1.3.3\nmaking output directory...\nloading pickled environment... not yet created\nbuilding [mo]: targets for 0 po files that are out of date\nbuilding [html]: targets for 29 source files that are out of date\nupdating environment: 29 added, 0 changed, 0 removed\nchecking for /Users/bussonniermatthias/dev/permute/doc/source/permute.bib in bibtex cache... not found\nparsing bibtex file /Users/bussonniermatthias/dev/permute/doc/source/permute.bib... parsed 10 entries\nreading sources... [100%] user/two-sample\n/Users/bussonniermatthias/dev/permute/permute/core.py:docstring of permute.core.one_sample:37: ERROR: Undefined substitution referenced: \"z_i\".\n/Users/bussonniermatthias/dev/permute/permute/core.py:docstring of permute.core.two_sample_conf_int:30: ERROR: Undefined substitution referenced: \"F_x(t) - F_y(t)\".\n/Users/bussonniermatthias/dev/permute/permute/core.py:docstring of permute.core.two_sample_shift:33: ERROR: Undefined substitution referenced: \"F_x(t) - F_y(t)\".\nlooking for now-outdated files... none found\npickling environment... done\nchecking consistency... done\npreparing documents... done\nwriting output... [100%] user/two-sample\ngenerating indices... genindex py-modindex\nhighlighting module code... [100%] permute.stratified\nwriting additional pages... search\ncopying images... [100%] user/npc/../../../build/plot_directive/user/npc/kenya-1.png\ncopying static files... done\ncopying extra files... done\ndumping search index in English (code: en) ... done\ndumping object inventory... done\nbuild succeeded, 3 warnings.\n\nBuild finished. The HTML pages are in build/html.\n```\n\nNote that I needed to work around https://github.com/matplotlib/matplotlib/issues/5884 while building. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/174601870",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-174601870",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 174601870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NDYwMTg3MA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-25T17:52:49Z",
    "updated_at": "2016-01-25T17:52:49Z",
    "author_association": "MEMBER",
    "body": "Note that one now has to roll permute back to [an earlier commit](https://github.com/statlab/permute/commit/5bc0cf906f145ac064b930099f963bfca90c5303) to test this, because the example @stefanv referenced has been switched to use a matplotlib directive.\n\nI also couldn't reproduce this. I'm dropping it from the 4.1 milestone because there's nothing we can really do until someone can reproduce it.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/174644269",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-174644269",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 174644269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NDY0NDI2OQ==",
    "user": {
      "login": "stefanv",
      "id": 45071,
      "node_id": "MDQ6VXNlcjQ1MDcx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/45071?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefanv",
      "html_url": "https://github.com/stefanv",
      "followers_url": "https://api.github.com/users/stefanv/followers",
      "following_url": "https://api.github.com/users/stefanv/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefanv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefanv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefanv/subscriptions",
      "organizations_url": "https://api.github.com/users/stefanv/orgs",
      "repos_url": "https://api.github.com/users/stefanv/repos",
      "events_url": "https://api.github.com/users/stefanv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefanv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-25T20:07:54Z",
    "updated_at": "2016-01-25T20:07:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you can't reproduce, let's close this and see if we run into the same\nproblem again?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/174648957",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-174648957",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 174648957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NDY0ODk1Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-25T20:18:26Z",
    "updated_at": "2016-01-25T20:18:26Z",
    "author_association": "MEMBER",
    "body": "Sounds reasonable. We can always reopen it if we do. Thanks Stefan.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/182536755",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-182536755",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 182536755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjUzNjc1NQ==",
    "user": {
      "login": "wholmgren",
      "id": 4383303,
      "node_id": "MDQ6VXNlcjQzODMzMDM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4383303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wholmgren",
      "html_url": "https://github.com/wholmgren",
      "followers_url": "https://api.github.com/users/wholmgren/followers",
      "following_url": "https://api.github.com/users/wholmgren/following{/other_user}",
      "gists_url": "https://api.github.com/users/wholmgren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wholmgren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wholmgren/subscriptions",
      "organizations_url": "https://api.github.com/users/wholmgren/orgs",
      "repos_url": "https://api.github.com/users/wholmgren/repos",
      "events_url": "https://api.github.com/users/wholmgren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wholmgren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T19:17:14Z",
    "updated_at": "2016-02-10T19:17:14Z",
    "author_association": "NONE",
    "body": "I think I'm running into this issue on 4.0.1 and a related issue on 4.1.1\n\nSorry in advance for not putting together a minimum reproducible example and pointing you to my mess of code...\n\nI'm trying to build the documentation for this project:\n\nhttps://github.com/wholmgren/pvlib-python/tree/pvsystem\n\nThe figures on this [rtd page](http://wholmgren-pvlib-python-new.readthedocs.org/en/pvsystem/package_overview.html) will appear if I use IPython 4.0.1, but they will not appear using IPython 4.1.1.\n\nI think this is because on 4.0.1, IPython puts the figures in my `source/_static` if the build directory does not exist, and then they eventually get copied over to the right spot. So it's not ideal, as described above, but at least it works. However, on 4.1.1, IPython puts the figures in the directory from which I'm running `make html` and they never make it to the right place.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/182537410",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-182537410",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 182537410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjUzNzQxMA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T19:19:40Z",
    "updated_at": "2016-02-10T19:19:40Z",
    "author_association": "MEMBER",
    "body": "Reopening to have look. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/183608602",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-183608602",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 183608602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzYwODYwMg==",
    "user": {
      "login": "karthik1024",
      "id": 4536706,
      "node_id": "MDQ6VXNlcjQ1MzY3MDY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4536706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karthik1024",
      "html_url": "https://github.com/karthik1024",
      "followers_url": "https://api.github.com/users/karthik1024/followers",
      "following_url": "https://api.github.com/users/karthik1024/following{/other_user}",
      "gists_url": "https://api.github.com/users/karthik1024/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karthik1024/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karthik1024/subscriptions",
      "organizations_url": "https://api.github.com/users/karthik1024/orgs",
      "repos_url": "https://api.github.com/users/karthik1024/repos",
      "events_url": "https://api.github.com/users/karthik1024/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karthik1024/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-13T06:29:33Z",
    "updated_at": "2016-02-13T06:29:33Z",
    "author_association": "NONE",
    "body": "I am having the exact same issue as well using Sphinx v1.3.1, and IPython 4.1.1. I created a minimal working example to demonstrate the issue here:\n\nhttps://github.com/karthik1024/trialproject\n\nWhen I try to build documentation , I get a warning as shown below and the saved figure does not appear in the documentation:\n\n`WARNING: image file not readable: ..\\doc\\build\\html\\_static\\saved_figure.png`\n\nwhere saved_figure.png is the image that is created using `@savefig.`.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/208544701",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-208544701",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 208544701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODU0NDcwMQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T20:28:29Z",
    "updated_at": "2016-04-11T20:28:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Having the same issue with the geopandas docs (https://github.com/geopandas/geopandas/pull/298#issuecomment-208543160). So actually ipython 4.1 is broken for the savefig feature, and I have to pin ipython on 4.0\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/224068276",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-224068276",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 224068276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDA2ODI3Ng==",
    "user": {
      "login": "edublancas",
      "id": 989250,
      "node_id": "MDQ6VXNlcjk4OTI1MA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/989250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edublancas",
      "html_url": "https://github.com/edublancas",
      "followers_url": "https://api.github.com/users/edublancas/followers",
      "following_url": "https://api.github.com/users/edublancas/following{/other_user}",
      "gists_url": "https://api.github.com/users/edublancas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edublancas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edublancas/subscriptions",
      "organizations_url": "https://api.github.com/users/edublancas/orgs",
      "repos_url": "https://api.github.com/users/edublancas/repos",
      "events_url": "https://api.github.com/users/edublancas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edublancas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-06T19:51:44Z",
    "updated_at": "2016-06-06T19:51:44Z",
    "author_association": "NONE",
    "body": "I'm having the same issues with 4.2 and 4.1, needed to downgrade to 4.0.\n\nAnd just a heads up in case anyone runs into the same problem:\n\nI was getting a lot  `internal padding after some_file.rst WARNING: image file not readable: some_image.png` because of the images being misplaced, after downgrading to 4.0 I was still getting some of the same errors, I later realized that it was because of an error syntax in a python statement (a closing parenthesis was missing).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/230909717",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-230909717",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 230909717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDkwOTcxNw==",
    "user": {
      "login": "wholmgren",
      "id": 4383303,
      "node_id": "MDQ6VXNlcjQzODMzMDM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4383303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wholmgren",
      "html_url": "https://github.com/wholmgren",
      "followers_url": "https://api.github.com/users/wholmgren/followers",
      "following_url": "https://api.github.com/users/wholmgren/following{/other_user}",
      "gists_url": "https://api.github.com/users/wholmgren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wholmgren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wholmgren/subscriptions",
      "organizations_url": "https://api.github.com/users/wholmgren/orgs",
      "repos_url": "https://api.github.com/users/wholmgren/repos",
      "events_url": "https://api.github.com/users/wholmgren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wholmgren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-06T21:17:22Z",
    "updated_at": "2016-07-06T21:17:22Z",
    "author_association": "NONE",
    "body": "FYI, this sadly remains broken in 5.0rc1.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/230913982",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-230913982",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 230913982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDkxMzk4Mg==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-06T21:33:13Z",
    "updated_at": "2016-07-06T21:33:13Z",
    "author_association": "MEMBER",
    "body": "moved from 'no action' to 5.1, but have we have no clue why or how to reproduce it's hard to investigate. We'll re-have a look . \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/234249437",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-234249437",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 234249437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDI0OTQzNw==",
    "user": {
      "login": "saimn",
      "id": 311639,
      "node_id": "MDQ6VXNlcjMxMTYzOQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/311639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saimn",
      "html_url": "https://github.com/saimn",
      "followers_url": "https://api.github.com/users/saimn/followers",
      "following_url": "https://api.github.com/users/saimn/following{/other_user}",
      "gists_url": "https://api.github.com/users/saimn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saimn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saimn/subscriptions",
      "organizations_url": "https://api.github.com/users/saimn/orgs",
      "repos_url": "https://api.github.com/users/saimn/repos",
      "events_url": "https://api.github.com/users/saimn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saimn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-21T13:15:35Z",
    "updated_at": "2016-07-21T13:15:35Z",
    "author_association": "NONE",
    "body": "Seems very similar to #8969 : what I found is that, if the output directory does not exists, which is the case for a clean build, `bookmark ipy_savedir` fails and image are saved in a wrong directory. I fixed that [in my project](https://git-cral.univ-lyon1.fr/MUSE/mpdaf/commit/0c468aefcdf4be0641536d5eb308fd6af69282f5) by forcing the creation of the output directory.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/265510955",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-265510955",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 265510955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTUxMDk1NQ==",
    "user": {
      "login": "fmaussion",
      "id": 10050469,
      "node_id": "MDQ6VXNlcjEwMDUwNDY5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10050469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmaussion",
      "html_url": "https://github.com/fmaussion",
      "followers_url": "https://api.github.com/users/fmaussion/followers",
      "following_url": "https://api.github.com/users/fmaussion/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmaussion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmaussion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmaussion/subscriptions",
      "organizations_url": "https://api.github.com/users/fmaussion/orgs",
      "repos_url": "https://api.github.com/users/fmaussion/repos",
      "events_url": "https://api.github.com/users/fmaussion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmaussion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-07T17:19:21Z",
    "updated_at": "2016-12-07T17:19:21Z",
    "author_association": "NONE",
    "body": "This is also affecting the xarray doc build since we updated our read-the-docs builds to ipython 5 and python 3 ([RTD logs](https://readthedocs.org/projects/xray/builds/4760089/)). I've been able to solve the problem locally with the following add to ``conf.py``:\r\n\r\n```\r\nsavefig_dir = os.path.join('_build','html','_static')\r\nif not os.path.exists(savefig_dir):\r\n    os.makedirs(savefig_dir)\r\n```\r\n\r\nFor some reason this doesn't work on RTD (probably because their build directory structure is different). I'd appreciate any hint on how to get this working.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/265731362",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-265731362",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 265731362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTczMTM2Mg==",
    "user": {
      "login": "fmaussion",
      "id": 10050469,
      "node_id": "MDQ6VXNlcjEwMDUwNDY5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10050469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmaussion",
      "html_url": "https://github.com/fmaussion",
      "followers_url": "https://api.github.com/users/fmaussion/followers",
      "following_url": "https://api.github.com/users/fmaussion/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmaussion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmaussion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmaussion/subscriptions",
      "organizations_url": "https://api.github.com/users/fmaussion/orgs",
      "repos_url": "https://api.github.com/users/fmaussion/repos",
      "events_url": "https://api.github.com/users/fmaussion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmaussion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-08T12:42:43Z",
    "updated_at": "2016-12-08T12:42:43Z",
    "author_association": "NONE",
    "body": "Small update: we have now [pinned](https://github.com/pydata/xarray/blob/master/doc/environment.yml) ipython to 4.0.3\r\n\r\nNow the docs are at least building as expected and the images are shown. This is only partially working, as the readthedocs builds end with an error (which doesn't make the build fail):\r\n\r\n```\r\n(...)\r\nbuild succeeded, 26 warnings.\r\nError in atexit._run_exitfuncs:\r\nTraceback (most recent call last):\r\n  File \"/home/docs/checkouts/readthedocs.org/user_builds/xray/conda/latest/lib/python3.5/site-packages/IPython/core/history.py\", line 547, in end_session\r\n    len(self.input_hist_parsed)-1, self.session_number))\r\nsqlite3.OperationalError: attempt to write a readonly database\r\n```\r\n\r\nThis error doesn't happen with ipython 5, but again with ipython 5 we get the ``image file not readable`` error, which is worse.\r\n\r\nLet me know if I can provide you with more info, as I am not sure to understand the problem very well myself..."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273528206",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273528206",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273528206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzUyODIwNg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-18T16:39:48Z",
    "updated_at": "2017-01-18T16:39:48Z",
    "author_association": "MEMBER",
    "body": "This is still in need of someone to dig into it and work it out. We don't actually use the ipython_directive for IPython's own docs, so we don't have much motivation to prioritise it ourselves."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273531708",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273531708",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273531708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzUzMTcwOA==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-18T16:51:09Z",
    "updated_at": "2017-01-18T16:51:09Z",
    "author_association": "MEMBER",
    "body": "@takluyver Perhaps a widgets issue. Here's a failing build from rtd and xarray for reference when others troubleshoot this: http://readthedocs.org/projects/xray/builds/4546462/"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273540029",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273540029",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273540029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzU0MDAyOQ==",
    "user": {
      "login": "fmaussion",
      "id": 10050469,
      "node_id": "MDQ6VXNlcjEwMDUwNDY5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10050469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmaussion",
      "html_url": "https://github.com/fmaussion",
      "followers_url": "https://api.github.com/users/fmaussion/followers",
      "following_url": "https://api.github.com/users/fmaussion/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmaussion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmaussion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmaussion/subscriptions",
      "organizations_url": "https://api.github.com/users/fmaussion/orgs",
      "repos_url": "https://api.github.com/users/fmaussion/repos",
      "events_url": "https://api.github.com/users/fmaussion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmaussion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-18T17:19:54Z",
    "updated_at": "2017-01-18T17:19:54Z",
    "author_association": "NONE",
    "body": "Thanks for the info. Here is a build with ipython 5.1 : https://readthedocs.org/projects/xray/builds/4760089/ The build succeeds but the images are not copied correctly, very likely because of what @saimn said above. We are pinned on 4.0.3 since then, which currently suits our needs."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273730151",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273730151",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273730151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzczMDE1MQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T09:59:47Z",
    "updated_at": "2017-01-19T09:59:47Z",
    "author_association": "MEMBER",
    "body": "I think the widgets warning is unrelated to this error.\r\n\r\nCan anyone who's having trouble with this try #10183?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273736604",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273736604",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273736604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzczNjYwNA==",
    "user": {
      "login": "fmaussion",
      "id": 10050469,
      "node_id": "MDQ6VXNlcjEwMDUwNDY5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10050469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmaussion",
      "html_url": "https://github.com/fmaussion",
      "followers_url": "https://api.github.com/users/fmaussion/followers",
      "following_url": "https://api.github.com/users/fmaussion/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmaussion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmaussion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmaussion/subscriptions",
      "organizations_url": "https://api.github.com/users/fmaussion/orgs",
      "repos_url": "https://api.github.com/users/fmaussion/repos",
      "events_url": "https://api.github.com/users/fmaussion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmaussion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T10:25:50Z",
    "updated_at": "2017-01-19T10:25:50Z",
    "author_association": "NONE",
    "body": "Thanks @takluyver ! \r\n\r\nI think this is on the right track, but unfortunately RTD seems unhappy with this: https://readthedocs.org/projects/xray/builds/4916490/\r\n\r\nPartial traceback:\r\n\r\n ```\r\n(...)\r\n  File \"/home/docs/checkouts/readthedocs.org/user_builds/xray/conda/fix-docs/lib/python3.5/site-packages/IPython/sphinxext/ipython_directive.py\", line 930, in run\r\n    rgxin, rgxout, promptin, promptout = self.setup()\r\n  File \"/home/docs/checkouts/readthedocs.org/user_builds/xray/conda/fix-docs/lib/python3.5/site-packages/IPython/sphinxext/ipython_directive.py\", line 898, in setup\r\n    os.makedirs(os.path.abspath(savefig_dir))\r\n  File \"/home/docs/checkouts/readthedocs.org/user_builds/xray/conda/fix-docs/lib/python3.5/os.py\", line 241, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 30] Read-only file system: '/home/docs/checkouts/readthedocs.org/readthedocs/templates/sphinx/_static'\r\n\r\nException occurred:\r\n  File \"/home/docs/checkouts/readthedocs.org/user_builds/xray/conda/fix-docs/lib/python3.5/os.py\", line 241, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 30] Read-only file system: '/home/docs/checkouts/readthedocs.org/readthedocs/templates/sphinx/_static'\r\n```\r\n\r\nI'm not familiar enough with RTD and ipython to understand whats going on here. Also, I wonder what changed between ipython4 and ipython5 so that this change would be necessary :( "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273741154",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273741154",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273741154,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzc0MTE1NA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T10:44:04Z",
    "updated_at": "2017-01-19T10:44:04Z",
    "author_association": "MEMBER",
    "body": "Looking at the error and the code, it seems to think that `outdir` is a template directory, for some reason. i'm rather puzzled by that. RTD, not unreasonably, appears to put that in a read-only location, so trying to create the directory there fails.\r\n\r\nI think your config [here](https://github.com/pydata/xarray/blob/01ea07091c4fb77ea8ae202642601f9bddb7a08e/doc/conf.py#L215) is being ignored, by the way, because the option appears to be called `ipython_savefig_dir` rather than `savefig_dir`.\r\n\r\nThere were some changes which went into 4.1 (#8888). Since you're pinned to 4.0.3, maybe that's what broke it for you?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273774269",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273774269",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273774269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzc3NDI2OQ==",
    "user": {
      "login": "fmaussion",
      "id": 10050469,
      "node_id": "MDQ6VXNlcjEwMDUwNDY5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10050469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmaussion",
      "html_url": "https://github.com/fmaussion",
      "followers_url": "https://api.github.com/users/fmaussion/followers",
      "following_url": "https://api.github.com/users/fmaussion/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmaussion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmaussion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmaussion/subscriptions",
      "organizations_url": "https://api.github.com/users/fmaussion/orgs",
      "repos_url": "https://api.github.com/users/fmaussion/repos",
      "events_url": "https://api.github.com/users/fmaussion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmaussion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T13:20:12Z",
    "updated_at": "2017-01-19T13:20:12Z",
    "author_association": "NONE",
    "body": "> There were some changes which went into 4.1 (#8888). Since you're pinned to 4.0.3, maybe that's what broke it for you?\r\n\r\nYes, if I recall well I tried several options and 4.0.3 was the last one to work. Now I've tried a new build with your suggested changes modified to:\r\n\r\n```python\r\n# Ensure that the directory for saving figures exists\r\ntry:\r\n    os.makedirs(os.path.abspath(savefig_dir))\r\nexcept:\r\n    pass\r\n```\r\n(https://github.com/fmaussion/ipython/commit/4e49fbd220979bd3ec075e6b03228d58fcd82bde)\r\n\r\nThe build completes, but as before the images just won't show up...  (log: https://readthedocs.org/projects/xray/builds/4917004/)\r\n\r\nI don't really get it, do we do anything wrong here? :-( (btw, I also just removed the obsolete option you mentioned in our ``conf.py`` to do the test...)\r\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273777033",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273777033",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273777033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzc3NzAzMw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T13:33:06Z",
    "updated_at": "2017-01-19T13:33:06Z",
    "author_association": "MEMBER",
    "body": "Your change silences the error creating the directory, but if it can't create the directory, it won't be able to save images into it, so it's not fixing the underlying issue.\r\n\r\nWe calculate the savefig directory relative to the output directory:\r\nhttps://github.com/takluyver/ipython/blob/4dc7caa9ede16968301d3abe5f031120d4de00d6/IPython/sphinxext/ipython_directive.py#L853\r\n\r\nWhat I don't understand is that your error indicates that the output directory is `/home/docs/checkouts/readthedocs.org/readthedocs/templates/sphinx/`, which doesn't make much sense."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273795108",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273795108",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273795108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzc5NTEwOA==",
    "user": {
      "login": "fmaussion",
      "id": 10050469,
      "node_id": "MDQ6VXNlcjEwMDUwNDY5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10050469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmaussion",
      "html_url": "https://github.com/fmaussion",
      "followers_url": "https://api.github.com/users/fmaussion/followers",
      "following_url": "https://api.github.com/users/fmaussion/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmaussion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmaussion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmaussion/subscriptions",
      "organizations_url": "https://api.github.com/users/fmaussion/orgs",
      "repos_url": "https://api.github.com/users/fmaussion/repos",
      "events_url": "https://api.github.com/users/fmaussion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmaussion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T14:48:42Z",
    "updated_at": "2017-01-19T14:48:42Z",
    "author_association": "NONE",
    "body": "Thanks @takluyver , this is very helpful. I've been able to solve the problem by setting manually  the ``ipython_savefig_dir`` option in ``conf.py``:\r\n\r\n```python\r\nipython_savefig_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)),\r\n'_build','html','_static')\r\n```\r\n\r\nI still think something should be solved upstream, as this option should be optional.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273801326",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273801326",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273801326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzgwMTMyNg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T15:11:38Z",
    "updated_at": "2017-01-19T15:11:38Z",
    "author_association": "MEMBER",
    "body": "Using https://github.com/karthik1024/trialproject , I've resolved the issue with images not showing up. But you still see the 'image file not readable' warning, because it expects to copy images from the source directory to the build directory. I'm not sure how to work around that other than writing the images to the source directory (i.e. reverting part of #8888).\r\n\r\n@minrk - any thoughts? As you wrote #8888."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273811313",
    "html_url": "https://github.com/ipython/ipython/issues/8733#issuecomment-273811313",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8733",
    "id": 273811313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzgxMTMxMw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T15:46:07Z",
    "updated_at": "2017-01-19T15:46:07Z",
    "author_association": "MEMBER",
    "body": "I've made #10186 as an alternative fix, if anyone wants to try it. It moves images back into the docs source directory, which gets rid of the warnings."
  }
]
