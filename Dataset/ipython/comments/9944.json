[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246619526",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246619526",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246619526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYxOTUyNg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T09:00:47Z",
    "updated_at": "2016-09-13T09:00:47Z",
    "author_association": "MEMBER",
    "body": "`get_ipython().ask_exit()` is the official way, I think.\n\nWe've always caught SystemExit, and I presume that's because people sometimes `%run` code which uses `sys.exit()` to finish, while the user doesn't want to be booted out of the interactive prompt.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246620411",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246620411",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246620411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYyMDQxMQ==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T09:04:08Z",
    "updated_at": "2016-09-13T09:04:08Z",
    "author_association": "MEMBER",
    "body": "Shouldn't we be doing a graceful exit on SIGTERM? I know we aren't, but it seems like we should.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246621662",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246621662",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246621662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYyMTY2Mg==",
    "user": {
      "login": "jdemeyer",
      "id": 3625785,
      "node_id": "MDQ6VXNlcjM2MjU3ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdemeyer",
      "html_url": "https://github.com/jdemeyer",
      "followers_url": "https://api.github.com/users/jdemeyer/followers",
      "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
      "repos_url": "https://api.github.com/users/jdemeyer/repos",
      "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T09:09:17Z",
    "updated_at": "2016-09-13T09:09:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Shouldn't we be doing a graceful exit on SIGTERM?\n\nThat is what I am trying to do in https://github.com/sagemath/cysignals. However, [the trick](https://github.com/sagemath/cysignals/blob/master/src/cysignals/signals.pyx#L92) which used to work with IPython 4 no longer works now.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246622296",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246622296",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246622296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYyMjI5Ng==",
    "user": {
      "login": "jdemeyer",
      "id": 3625785,
      "node_id": "MDQ6VXNlcjM2MjU3ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdemeyer",
      "html_url": "https://github.com/jdemeyer",
      "followers_url": "https://api.github.com/users/jdemeyer/followers",
      "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
      "repos_url": "https://api.github.com/users/jdemeyer/repos",
      "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T09:12:07Z",
    "updated_at": "2016-09-13T09:12:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "> We've always caught SystemExit, and I presume that's because people sometimes %run code which uses sys.exit() to finish, while the user doesn't want to be booted out of the interactive prompt.\n\nI understand that and I am not asking that to change.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246622735",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246622735",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246622735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYyMjczNQ==",
    "user": {
      "login": "jdemeyer",
      "id": 3625785,
      "node_id": "MDQ6VXNlcjM2MjU3ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdemeyer",
      "html_url": "https://github.com/jdemeyer",
      "followers_url": "https://api.github.com/users/jdemeyer/followers",
      "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
      "repos_url": "https://api.github.com/users/jdemeyer/repos",
      "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T09:13:48Z",
    "updated_at": "2016-09-13T09:13:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "> get_ipython().ask_exit() is the official way, I think.\n\nThat works on the IPython part, but not on the `prompt_toolkit` part. Executing `ask_exit()` while `prompt_toolkit` is waiting for a prompt will not cause IPython to exit. So this looks more like a `prompt_toolkit` problem and not an IPython problem.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246624425",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246624425",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246624425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYyNDQyNQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T09:20:41Z",
    "updated_at": "2016-09-13T09:20:41Z",
    "author_association": "MEMBER",
    "body": "That's expected, I think - `ask_exit` sets a flag which we only check in our interaction loop,  not while PT is running the event loop for the prompt. However, I'm a bit confused about why you want to exit programmatically while there's a prompt displayed.\n\nMaybe we should just be installing a signal handler for SIGTERM. How would that interact with what you're trying to do?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246628124",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246628124",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246628124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYyODEyNA==",
    "user": {
      "login": "jdemeyer",
      "id": 3625785,
      "node_id": "MDQ6VXNlcjM2MjU3ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdemeyer",
      "html_url": "https://github.com/jdemeyer",
      "followers_url": "https://api.github.com/users/jdemeyer/followers",
      "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
      "repos_url": "https://api.github.com/users/jdemeyer/repos",
      "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T09:35:52Z",
    "updated_at": "2016-09-13T09:35:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Maybe we should just be installing a signal handler for SIGTERM\n\nThe whole point of this issue and jonathanslenders/python-prompt-toolkit#392 is that it's not so simple to \"just\" do that.\n\n> How would that interact with what you're trying to do?\n\nIt is essentially **exactly** what I'm trying to do, except that I also care about plain Python (not IPython) prompts. And I want this both for `SIGHUP` and `SIGTERM`.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246636935",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246636935",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246636935,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYzNjkzNQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T10:12:43Z",
    "updated_at": "2016-09-13T10:12:43Z",
    "author_association": "MEMBER",
    "body": "Does this work:\n\n```\nip = get_ipython()\nip.ask_exit()\nip.pt_cli.exit()\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246638260",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246638260",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246638260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjYzODI2MA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T10:18:49Z",
    "updated_at": "2016-09-13T10:18:49Z",
    "author_association": "MEMBER",
    "body": "Looking at the code, I suspect that will give you the 'are you sure' prompt. If so, try changing the last line to:\n\n``` python\nip.pt_cli.set_return_value(None)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246640410",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246640410",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246640410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjY0MDQxMA==",
    "user": {
      "login": "jdemeyer",
      "id": 3625785,
      "node_id": "MDQ6VXNlcjM2MjU3ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdemeyer",
      "html_url": "https://github.com/jdemeyer",
      "followers_url": "https://api.github.com/users/jdemeyer/followers",
      "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
      "repos_url": "https://api.github.com/users/jdemeyer/repos",
      "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T10:28:48Z",
    "updated_at": "2016-09-13T10:28:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Neither of those works. Both of them do not react immediately, but only after pressing some key. This is logical, because none of the lines of code that you write would cause the input prompt to be aborted.\n\nWith `ip.pt_cli.set_return_value(None)`, you even get an exception:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/src/sage-config/local/bin/ipython\", line 5, in <module>\n    start_ipython()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/IPython/__init__.py\", line 119, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/traitlets/config/application.py\", line 596, in launch_instance\n    app.start()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/IPython/terminal/ipapp.py\", line 348, in start\n    self.shell.mainloop()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 402, in mainloop\n    self.interact()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 385, in interact\n    code = self.prompt_for_code()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/IPython/terminal/interactiveshell.py\", line 322, in prompt_for_code\n    return document.text\nAttributeError: 'NoneType' object has no attribute 'text'\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246643076",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246643076",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246643076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjY0MzA3Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T10:41:56Z",
    "updated_at": "2016-09-13T10:41:56Z",
    "author_association": "MEMBER",
    "body": "In that case I think it's up to the implementation of the PT event loop.\n\nI remain puzzled as to how you're arriving at this scenario, though. AIUI, signals are handled in the main thread, but if that's running the IPython interface, where's your code running? Or are you running IPython in a background thread for some reason?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246647209",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246647209",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246647209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjY0NzIwOQ==",
    "user": {
      "login": "jdemeyer",
      "id": 3625785,
      "node_id": "MDQ6VXNlcjM2MjU3ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdemeyer",
      "html_url": "https://github.com/jdemeyer",
      "followers_url": "https://api.github.com/users/jdemeyer/followers",
      "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
      "repos_url": "https://api.github.com/users/jdemeyer/repos",
      "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T11:01:40Z",
    "updated_at": "2016-09-13T11:01:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't understand your question:\n\n> I remain puzzled as to how you're arriving at this scenario, though.\n\nWhich \"scenario\"? \n\n> where's your code running?\n\nWhich \"code\"?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246648033",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246648033",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246648033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjY0ODAzMw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T11:06:03Z",
    "updated_at": "2016-09-13T11:06:03Z",
    "author_association": "MEMBER",
    "body": "> Which \"scenario\"?\n\nThe scenario where an IPython prompt is displayed and some other code wants to exit it programmatically.\n\n> Which \"code\"?\n\nThe code that receives the signal and wishes to quit the prompt.\n\nMaybe it's coming from another event loop using the inputhook integration?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246654039",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246654039",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246654039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjY1NDAzOQ==",
    "user": {
      "login": "jdemeyer",
      "id": 3625785,
      "node_id": "MDQ6VXNlcjM2MjU3ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdemeyer",
      "html_url": "https://github.com/jdemeyer",
      "followers_url": "https://api.github.com/users/jdemeyer/followers",
      "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
      "repos_url": "https://api.github.com/users/jdemeyer/repos",
      "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T11:36:31Z",
    "updated_at": "2016-09-13T11:36:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "The scenario is really exactly what you described. I want to exit IPython gracefully when receiving a `SIGTERM` signal.\n\nI wasn't even aware of multiple threads. Anyway, my code is running in whatever thread is handling the signal.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246657218",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-246657218",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 246657218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjY1NzIxOA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T11:53:12Z",
    "updated_at": "2016-09-13T11:53:12Z",
    "author_association": "MEMBER",
    "body": "Right, signal handlers preempt regular execution. Don't mind me...\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/273771737",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-273771737",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 273771737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzc3MTczNw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T13:06:56Z",
    "updated_at": "2017-01-19T13:06:56Z",
    "author_association": "MEMBER",
    "body": "#10185 is my attempt to deal with this."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/302245014",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-302245014",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 302245014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjI0NTAxNA==",
    "user": {
      "login": "ivanov",
      "id": 118211,
      "node_id": "MDQ6VXNlcjExODIxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/118211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ivanov",
      "html_url": "https://github.com/ivanov",
      "followers_url": "https://api.github.com/users/ivanov/followers",
      "following_url": "https://api.github.com/users/ivanov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ivanov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ivanov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ivanov/subscriptions",
      "organizations_url": "https://api.github.com/users/ivanov/orgs",
      "repos_url": "https://api.github.com/users/ivanov/repos",
      "events_url": "https://api.github.com/users/ivanov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ivanov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-17T22:06:29Z",
    "updated_at": "2017-05-17T22:06:29Z",
    "author_association": "MEMBER",
    "body": "@jdemeyer I just want to mention that if you would like the old (IPython <= 4.x) readline interface, it is now available separately as [rlipython](https://github.com/ipython/rlipython). \r\n\r\n```\r\npip install rlipython\r\npython -c \"import rlipython as r; r.install()\"\r\n```\r\n\r\nRight now, it only works in IPython 6.0 (Python 3), but it will also work in Python 2 with the next IPython 5 release (5.4)."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/402918953",
    "html_url": "https://github.com/ipython/ipython/issues/9944#issuecomment-402918953",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9944",
    "id": 402918953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjkxODk1Mw==",
    "user": {
      "login": "techtonik",
      "id": 515889,
      "node_id": "MDQ6VXNlcjUxNTg4OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/515889?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/techtonik",
      "html_url": "https://github.com/techtonik",
      "followers_url": "https://api.github.com/users/techtonik/followers",
      "following_url": "https://api.github.com/users/techtonik/following{/other_user}",
      "gists_url": "https://api.github.com/users/techtonik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/techtonik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/techtonik/subscriptions",
      "organizations_url": "https://api.github.com/users/techtonik/orgs",
      "repos_url": "https://api.github.com/users/techtonik/repos",
      "events_url": "https://api.github.com/users/techtonik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/techtonik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-06T04:00:04Z",
    "updated_at": "2018-07-06T04:00:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "From https://github.com/jonathanslenders/python-prompt-toolkit/issues/392#issuecomment-402760110 prompt toolkit allows this:\r\n```\r\nfrom prompt_toolkit.application.current import get_app\r\n\r\nget_app().exit(exception=EOFError)\r\n```\r\n"
  }
]
