[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/29039945",
    "html_url": "https://github.com/ipython/ipython/issues/539#issuecomment-29039945",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/539",
    "id": 29039945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDM5OTQ1",
    "user": {
      "login": "waltherg",
      "id": 3273502,
      "node_id": "MDQ6VXNlcjMyNzM1MDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3273502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/waltherg",
      "html_url": "https://github.com/waltherg",
      "followers_url": "https://api.github.com/users/waltherg/followers",
      "following_url": "https://api.github.com/users/waltherg/following{/other_user}",
      "gists_url": "https://api.github.com/users/waltherg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/waltherg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/waltherg/subscriptions",
      "organizations_url": "https://api.github.com/users/waltherg/orgs",
      "repos_url": "https://api.github.com/users/waltherg/repos",
      "events_url": "https://api.github.com/users/waltherg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/waltherg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-22T00:49:07Z",
    "updated_at": "2013-11-22T00:49:07Z",
    "author_association": "NONE",
    "body": "Going through your `setup.py` for some inspiration I bumped into a mention of this issue.\n\nIf you look at how Continuum Anaconda handles Python scripts (`.bat` files as you mention in `Anaconda/Scripts`), this suggests a fix for this problem.\n\nSomething along these lines does it for me:\n\n``` python\ndef windows_prepare(scripts):\n    bat = ['@echo off\\n',\n          'set PYFILE=%~f0\\n',\n          'set PYFILE=%PYFILE:~0,-4%-script.py\\n'\n          '\"python.exe\" \"%PYFILE%\" %*\\n']\n\n    windows_scripts = []\n    windows_bat_files = []\n\n    for script in scripts:\n        windows_scripts.append(script+'-script.py')\n        with open(script+'.bat', \"w\") as f:\n            for string in bat:\n                f.write(string)\n            windows_bat_files.append(f.name)\n\n    for script, script_w in zip(scripts, windows_scripts):\n        shutil.copy(script, script_w)\n\n    return windows_scripts+windows_bat_files\n\nif os_name == 'windows':\n    scripts = windows_prepare(scripts)\n```\n\nPlus some cleanup of the `-script.py` and `.bat` files this created.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/29040097",
    "html_url": "https://github.com/ipython/ipython/issues/539#issuecomment-29040097",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/539",
    "id": 29040097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQwMDk3",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-22T00:51:57Z",
    "updated_at": "2013-11-22T00:51:57Z",
    "author_association": "MEMBER",
    "body": "Thanks, there's hope for dropping the setuptools entry points, yet! Is `python.exe` right? shouldn't it be `sys.executable`, since PATH is not trustworty?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/29040363",
    "html_url": "https://github.com/ipython/ipython/issues/539#issuecomment-29040363",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/539",
    "id": 29040363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQwMzYz",
    "user": {
      "login": "waltherg",
      "id": 3273502,
      "node_id": "MDQ6VXNlcjMyNzM1MDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3273502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/waltherg",
      "html_url": "https://github.com/waltherg",
      "followers_url": "https://api.github.com/users/waltherg/followers",
      "following_url": "https://api.github.com/users/waltherg/following{/other_user}",
      "gists_url": "https://api.github.com/users/waltherg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/waltherg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/waltherg/subscriptions",
      "organizations_url": "https://api.github.com/users/waltherg/orgs",
      "repos_url": "https://api.github.com/users/waltherg/repos",
      "events_url": "https://api.github.com/users/waltherg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/waltherg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-22T00:57:19Z",
    "updated_at": "2013-11-22T00:57:19Z",
    "author_association": "NONE",
    "body": "Good call and you're most likely correct. In `Anaconda/Scripts` you'll find that they call the nearest `python.exe` in a parent directory. This might be safest to do?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/29042272",
    "html_url": "https://github.com/ipython/ipython/issues/539#issuecomment-29042272",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/539",
    "id": 29042272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQyMjcy",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-22T01:32:14Z",
    "updated_at": "2013-11-22T01:32:14Z",
    "author_association": "MEMBER",
    "body": "that ought to be the right thing to do for an installed script, certainly.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/62611704",
    "html_url": "https://github.com/ipython/ipython/issues/539#issuecomment-62611704",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/539",
    "id": 62611704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjExNzA0",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-11T20:04:06Z",
    "updated_at": "2014-11-11T20:04:06Z",
    "author_association": "MEMBER",
    "body": "Fixed by #6899\n"
  }
]
