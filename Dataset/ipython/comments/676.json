[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1728046",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1728046",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1728046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjgwNDY=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T15:50:26Z",
    "updated_at": "2011-08-04T15:50:26Z",
    "author_association": "MEMBER",
    "body": "For the time being, running IPython inside IPython is a bad idea. If you run any commands inside the inner IPython, it will also complain about collisions in your history.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1730239",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1730239",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1730239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzAyMzk=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T20:08:04Z",
    "updated_at": "2011-08-04T20:08:04Z",
    "author_association": "MEMBER",
    "body": "@takluyver - it's easy to detect that embed is being called from inside IPython.  Should we warn (or raise) in that case for now?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1730389",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1730389",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1730389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzAzODk=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T20:24:38Z",
    "updated_at": "2011-08-04T20:24:38Z",
    "author_association": "MEMBER",
    "body": "I don't know what the best route is. It also applies to using `InteractiveShell.instance()`. Ideally, we would make `InteractiveShell` not a singleton, so you could have several running in the same interpreter. Until then, it might be a good idea to block (or warn on) attempts to nest shells.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1730446",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1730446",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1730446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzA0NDY=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T20:31:01Z",
    "updated_at": "2011-08-04T20:31:01Z",
    "author_association": "MEMBER",
    "body": "Yes, we definitely intend to fix this, but while it doesn't work we should probably have preemptive RuntimeErrors or at least warnings.\n\nHow does this affect `InteractiveShell.instance()`? That will always return the same shell instance.  `ip = InteractiveShell.instance()` is identical to `ip = get_ipython()` for now at least, while it is a singleton.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1730646",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1730646",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1730646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzA2NDY=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T20:50:10Z",
    "updated_at": "2011-08-04T20:50:10Z",
    "author_association": "MEMBER",
    "body": "Sorry, I didn't explain that properly. It (at least, the history problem) applies to getting the instance of InteractiveShell and then running commands inside it. Although there's not much we can do about that, I guess.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1731017",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1731017",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1731017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzEwMTc=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T21:30:43Z",
    "updated_at": "2011-08-04T21:30:43Z",
    "author_association": "MEMBER",
    "body": "ah, right.  Just like calling `ip = get_ipython(); ip.run_cell(code)`.  No, there's nothing much we can do about that.  Since that is the most likely cause for the history session error, we could add some explanation to that message.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1731308",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1731308",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1731308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzEzMDg=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T22:04:07Z",
    "updated_at": "2011-08-04T22:04:07Z",
    "author_association": "MEMBER",
    "body": "I've been considering whether we should make `store_history` default to False for `run_cell`, so it's harder to run into this problem accidentally. It would require tweaks for things like sphinx_directive, though.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1731333",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-1731333",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 1731333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzEzMzM=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-08-04T22:07:05Z",
    "updated_at": "2011-08-04T22:07:05Z",
    "author_association": "MEMBER",
    "body": "Not a bad idea.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3030857",
    "html_url": "https://github.com/ipython/ipython/issues/676#issuecomment-3030857",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/676",
    "id": 3030857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzA4NTc=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-06T11:01:42Z",
    "updated_at": "2011-12-06T11:01:42Z",
    "author_association": "MEMBER",
    "body": "Now that we've cleaned up the `__IPYTHON__active` stuff, the only remaining crash is the one with history:\n\n```\nError in sys.exitfunc:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/atexit.py\", line 24, in _run_exitfuncs\n    func(*targs, **kargs)\n  File \"/home/fperez/usr/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2733, in atexit_operations\n    self.reset(new_session=False)\n  File \"/home/fperez/usr/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 1126, in reset\n    self.displayhook.flush()\n  File \"/home/fperez/usr/lib/python2.7/site-packages/IPython/core/displayhook.py\", line 255, in flush\n    self.shell.user_ns['_oh'].clear()\nKeyError: '_oh'\n```\n\nNot high priority, but definitely a bug we should be able to fix eventually.  Moving to 0.13.\n"
  }
]
