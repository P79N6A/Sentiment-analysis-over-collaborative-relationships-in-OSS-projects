[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/56539058",
    "html_url": "https://github.com/ipython/ipython/issues/6527#issuecomment-56539058",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6527",
    "id": 56539058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTM5MDU4",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-23T15:34:18Z",
    "updated_at": "2014-09-23T15:34:18Z",
    "author_association": "MEMBER",
    "body": "Escape `$` in double bang line : `$$USER` ?\n\n``` python\nIn [30]: %paste\nimport os\nvar = 'val'\noutput = !! echo {var} $$USER\nexpected = \"val \" + os.getlogin()\nif expected != output.s:\n    print(\"output of !! echo {var} $USER is:\\n\", output.s, \"\\nwhile it should be:\\n\", expected)\nelse:\n    print(\"bug fixed, output:\", output.s)\n\n## -- End pasted text --\nbug fixed, output: val matthiasbussonnier\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/56606511",
    "html_url": "https://github.com/ipython/ipython/issues/6527#issuecomment-56606511",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6527",
    "id": 56606511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjA2NTEx",
    "user": {
      "login": "pothos",
      "id": 1189130,
      "node_id": "MDQ6VXNlcjExODkxMzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1189130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pothos",
      "html_url": "https://github.com/pothos",
      "followers_url": "https://api.github.com/users/pothos/followers",
      "following_url": "https://api.github.com/users/pothos/following{/other_user}",
      "gists_url": "https://api.github.com/users/pothos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pothos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pothos/subscriptions",
      "organizations_url": "https://api.github.com/users/pothos/orgs",
      "repos_url": "https://api.github.com/users/pothos/repos",
      "events_url": "https://api.github.com/users/pothos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pothos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-23T23:38:30Z",
    "updated_at": "2014-09-23T23:38:30Z",
    "author_association": "NONE",
    "body": "Thanks for the hint. But this was not obvious ;)\nMaybe still a bug or should it just be more documented?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/56631382",
    "html_url": "https://github.com/ipython/ipython/issues/6527#issuecomment-56631382",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6527",
    "id": 56631382,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjMxMzgy",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-24T06:51:34Z",
    "updated_at": "2014-09-24T06:51:34Z",
    "author_association": "MEMBER",
    "body": "I guess it is a question of documentation. Things is, IIRC, IPython try to variable expand, and if it fails, just completly bail out on variable expansion, so \n1. `! echo $USER` will work : \n   - IPython try to expand\n   - don't work\n   - send `echo $USER` line to shell\n   - shell expands\n   - output `<username>`\n\n2 . `!  {var}` works: \n- ipython expands\n- send `echo val` to shell\n- shell print `val`\n\n`! echo {var} $USER` no\n- ipython try to expand, can expand `{var}` but raise on locals().get('USER'), abort and thus send\n- `echo {var} $USER` to shell \n- shell expands {var} to nothing and $USER to <username>\n\nIf you `$$USER` IPython with expand `{var}` to `val` and `$$USER` to `$USER`, so shell actually get `echo val $USER`. TADA ! But yes, not obvious :-)\n\n[here](http://ipython.org/ipython-doc/dev/interactive/reference.html#manual-capture-of-command-output) is the doc, that is maybe a little short but does mention (if you look carefully) the `$$`. \n\nLeaving open for improve docs.\n"
  }
]
