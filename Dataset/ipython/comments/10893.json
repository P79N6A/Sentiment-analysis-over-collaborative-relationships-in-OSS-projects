[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/343954977",
    "html_url": "https://github.com/ipython/ipython/issues/10893#issuecomment-343954977",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10893",
    "id": 343954977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzk1NDk3Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T15:30:48Z",
    "updated_at": "2017-11-13T15:30:48Z",
    "author_association": "MEMBER",
    "body": "Can you give an example to reproduce this? I think `untokenize()` has some known issues."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/345522024",
    "html_url": "https://github.com/ipython/ipython/issues/10893#issuecomment-345522024",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10893",
    "id": 345522024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTUyMjAyNA==",
    "user": {
      "login": "ylemkimon",
      "id": 888148,
      "node_id": "MDQ6VXNlcjg4ODE0OA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/888148?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ylemkimon",
      "html_url": "https://github.com/ylemkimon",
      "followers_url": "https://api.github.com/users/ylemkimon/followers",
      "following_url": "https://api.github.com/users/ylemkimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/ylemkimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ylemkimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ylemkimon/subscriptions",
      "organizations_url": "https://api.github.com/users/ylemkimon/orgs",
      "repos_url": "https://api.github.com/users/ylemkimon/repos",
      "events_url": "https://api.github.com/users/ylemkimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ylemkimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-19T14:47:11Z",
    "updated_at": "2017-11-19T14:47:11Z",
    "author_association": "NONE",
    "body": "@takluyver Sorry for late response.\r\n\r\n```python\r\nIn [1]: from IPython.core.inputtransformer import TokenInputTransformer\r\n\r\nIn [2]: @TokenInputTransformer.wrap\r\n   ...: def f(tokens):\r\n   ...:     return [token[:2] for token in tokens]\r\n   ...:\r\n\r\nIn [3]: from IPython import get_ipython\r\n\r\nIn [4]: ip = get_ipython()\r\n\r\nIn [5]: ip.input_splitter.python_line_transforms.append(f())\r\n\r\nIn [6]: ip.input_transformer_manager.python_line_transforms.append(f())\r\n\r\nIn [7]: if True:\r\n   ...:     pass\r\n  File \"<ipython-input-7-6d76384eba2e>\", line 2\r\n    pass\r\n       ^\r\nIndentationError: expected an indented block\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/372750624",
    "html_url": "https://github.com/ipython/ipython/issues/10893#issuecomment-372750624",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10893",
    "id": 372750624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjc1MDYyNA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T17:30:10Z",
    "updated_at": "2018-03-13T17:30:10Z",
    "author_association": "MEMBER",
    "body": "I have good news and bad news in the form of PR #11041 . The good news is that this problem will go away for IPython 7.0. ;-)\r\n\r\nThe bad news is that the changes are likely to break all existing input transformations (other than AST transformations, which are unaffected). Have a look at [this doc page](https://github.com/takluyver/ipython/blob/96b86fb221893f13ba26644098edc4a20cdc0669/docs/source/config/inputtransforms.rst) to see the what's currently proposed for the new interface. It's not final until 7.0 is released, so if there are things you want from the new interface, now's the time to say so.\r\n\r\nSorry to break things underneath you, but I hope that the new interface will be easier to work with than the current one."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/372752450",
    "html_url": "https://github.com/ipython/ipython/issues/10893#issuecomment-372752450",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10893",
    "id": 372752450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjc1MjQ1MA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T17:34:58Z",
    "updated_at": "2018-03-13T17:34:58Z",
    "author_association": "MEMBER",
    "body": "E.g. from a glance at your discussion on sympy, would it help for the AST transformer to have access to the string of code that the AST came from? Or a way to pass data from a string/token transformer to an AST transformer?"
  }
]
