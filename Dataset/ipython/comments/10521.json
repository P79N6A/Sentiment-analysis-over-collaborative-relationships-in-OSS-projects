[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/300114338",
    "html_url": "https://github.com/ipython/ipython/issues/10521#issuecomment-300114338",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10521",
    "id": 300114338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDExNDMzOA==",
    "user": {
      "login": "mentaal",
      "id": 3391774,
      "node_id": "MDQ6VXNlcjMzOTE3NzQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3391774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mentaal",
      "html_url": "https://github.com/mentaal",
      "followers_url": "https://api.github.com/users/mentaal/followers",
      "following_url": "https://api.github.com/users/mentaal/following{/other_user}",
      "gists_url": "https://api.github.com/users/mentaal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mentaal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mentaal/subscriptions",
      "organizations_url": "https://api.github.com/users/mentaal/orgs",
      "repos_url": "https://api.github.com/users/mentaal/repos",
      "events_url": "https://api.github.com/users/mentaal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mentaal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-09T09:41:28Z",
    "updated_at": "2017-05-09T09:41:28Z",
    "author_association": "NONE",
    "body": "One other delta in the aforementioned setups which I didn't explicitly mention is that in the ipython 5.3 example, I am using python 3.5"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/300200058",
    "html_url": "https://github.com/ipython/ipython/issues/10521#issuecomment-300200058",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10521",
    "id": 300200058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDIwMDA1OA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-09T15:24:17Z",
    "updated_at": "2017-05-09T15:24:17Z",
    "author_association": "MEMBER",
    "body": "The most likely cause is the use of jedi for completions in IPython 6.\r\n\r\nWe restrict what we complete in order to avoid the things with the highest potential for side effects (e.g. `foo().<tab>` won't call `foo()`), but our completion machinery has always done some things that can have side effects. Python makes it possible to override so many operations that it's really hard to guarantee you're avoiding it and still do something useful.\r\n\r\nWe also deliberately call into some things that can have side effects, to allow for customisation - e.g. this one happens in IPython 5.x as well:\r\n\r\n```python\r\nclass TestDir(object):\r\n    def __dir__(self):\r\n        print(\"Side effects\")\r\n        return [\"foo\"]\r\n\r\ntd = TestDir()\r\n####\r\ntd.<tab>\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/300218547",
    "html_url": "https://github.com/ipython/ipython/issues/10521#issuecomment-300218547",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10521",
    "id": 300218547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDIxODU0Nw==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-09T16:18:13Z",
    "updated_at": "2017-05-09T16:18:13Z",
    "author_association": "MEMBER",
    "body": "> The most likely cause is the use of jedi for completions in IPython 6.\r\n\r\nyes it's a Jedi thing, you can reproduce with \r\n\r\n```\r\nfrom jedi import Interpreter\r\nimport pdb\r\nclass TestDescr():\r\n\r\n    def __get__(self, obj, objtype):\r\n        print(\"Side effects!\")\r\n        return 1\r\n\r\nclass TestClass():\r\n    td = TestDescr()\r\ntc = TestClass()\r\ninterpreter = Interpreter('tc.td', [{**locals()}], line=1, column=5)\r\ninterpreter.completions()\r\n```\r\n\r\nThough I don't know how to check that an object has a custom `__get__`, it does not appear in hasattr, nor in `dir()`.\r\n\r\nThe relevant line of jedi is:\r\n```\r\n> /jedi/evaluate/compiled/__init__.py(300)get()\r\n-> getattr(obj, name)\r\n(Pdb) ll\r\n295  \t    @memoize_method\r\n296  \t    def get(self, name):\r\n297  \t        name = str(name)\r\n298  \t        obj = self._compiled_object.obj\r\n299  \t        try:\r\n300  ->\t            getattr(obj, name)\r\n301  \t            if self._is_instance and name not in dir(obj):\r\n302  \t                return []\r\n303  \t        except AttributeError:\r\n304  \t            return []\r\n305  \t        except Exception:\r\n306  \t            # This is a bit ugly. We're basically returning this to make\r\n307  \t            # lookups possible without having the actual attribute. However\r\n308  \t            # this makes proper completion possible.\r\n309  \t            return [EmptyCompiledName(self._evaluator, name)]\r\n310  \t        return [self._create_name(name)]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/300231012",
    "html_url": "https://github.com/ipython/ipython/issues/10521#issuecomment-300231012",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10521",
    "id": 300231012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDIzMTAxMg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-09T16:58:07Z",
    "updated_at": "2017-05-09T16:58:07Z",
    "author_association": "MEMBER",
    "body": "There's a [getattr_static](https://docs.python.org/3/library/inspect.html#inspect.getattr_static) function which could be used to avoid triggering descriptors."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/335464825",
    "html_url": "https://github.com/ipython/ipython/issues/10521#issuecomment-335464825",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10521",
    "id": 335464825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTQ2NDgyNQ==",
    "user": {
      "login": "ifischer",
      "id": 276946,
      "node_id": "MDQ6VXNlcjI3Njk0Ng==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/276946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ifischer",
      "html_url": "https://github.com/ifischer",
      "followers_url": "https://api.github.com/users/ifischer/followers",
      "following_url": "https://api.github.com/users/ifischer/following{/other_user}",
      "gists_url": "https://api.github.com/users/ifischer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ifischer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ifischer/subscriptions",
      "organizations_url": "https://api.github.com/users/ifischer/orgs",
      "repos_url": "https://api.github.com/users/ifischer/repos",
      "events_url": "https://api.github.com/users/ifischer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ifischer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T13:02:01Z",
    "updated_at": "2017-10-10T13:02:01Z",
    "author_association": "NONE",
    "body": "Upgrading Jedi to 0.11 solved the problem for me"
  }
]
