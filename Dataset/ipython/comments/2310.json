[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/7924869",
    "html_url": "https://github.com/ipython/ipython/issues/2310#issuecomment-7924869",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2310",
    "id": 7924869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjQ4Njk=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-22T05:13:27Z",
    "updated_at": "2012-08-22T05:13:27Z",
    "author_association": "MEMBER",
    "body": "There's one important difference from #499, in that it's the _kernel_ process that is getting interrupted, rather than the frontend process.  This seems like a problem with the signal handling kernel-side.  Do you have any eventloop integration, or any custom startup code in the Kernel when you see this?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/7935635",
    "html_url": "https://github.com/ipython/ipython/issues/2310#issuecomment-7935635",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2310",
    "id": 7935635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzU2MzU=",
    "user": {
      "login": "jt11791",
      "id": 2163369,
      "node_id": "MDQ6VXNlcjIxNjMzNjk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2163369?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jt11791",
      "html_url": "https://github.com/jt11791",
      "followers_url": "https://api.github.com/users/jt11791/followers",
      "following_url": "https://api.github.com/users/jt11791/following{/other_user}",
      "gists_url": "https://api.github.com/users/jt11791/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jt11791/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jt11791/subscriptions",
      "organizations_url": "https://api.github.com/users/jt11791/orgs",
      "repos_url": "https://api.github.com/users/jt11791/repos",
      "events_url": "https://api.github.com/users/jt11791/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jt11791/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-22T14:20:09Z",
    "updated_at": "2012-08-22T14:20:09Z",
    "author_association": "NONE",
    "body": "I'm not exactly sure what you are asking, but I think the answer is no.  Here's the widget code I'm using. \n\n``` python\nfrom IPython.zmq.ipkernel import IPKernelApp\nfrom IPython.lib.kernel import find_connection_file\nfrom IPython.frontend.qt.kernelmanager import QtKernelManager\nfrom IPython.frontend.qt.console.rich_ipython_widget import RichIPythonWidget\nfrom IPython.utils.traitlets import TraitError\nfrom PyQt4 import QtGui, QtCore\nimport atexit\n\nclass IpyConWidget(QtGui.QWidget):\n    def __init__(self,  parent=None):     \n        QtGui.QWidget.__init__(self,  parent)\n        self.kernel_app = IPKernelApp.instance()\n        self.kernel_app.initialize(['python', '--pylab=qt'])\n        self.kernel_app.kernel.eventloop = self.event_loop(self.kernel_app)\n        manager = self.default_manager(self.kernel_app)\n        widget = self.console_widget(manager)\n        self.vbl = QtGui.QVBoxLayout()\n        self.vbl.addWidget(widget)\n        self.setLayout(self.vbl)          \n        self.kernel_app.start()\n\n    def event_loop(self, kernel):\n        kernel.timer = QtCore.QTimer()\n        kernel.timer.timeout.connect(kernel.kernel.do_one_iteration)\n        kernel.timer.start(1000*kernel.kernel._poll_interval)\n\n    def default_manager(self, kernel):\n        connection_file = find_connection_file(kernel.connection_file)\n        manager = QtKernelManager(connection_file=connection_file)\n        manager.load_connection_file()\n        manager.start_channels()\n        atexit.register(manager.cleanup_connection_file)\n        return manager\n\n    def console_widget(self, manager):\n        try: # Ipython v0.13\n            widget = RichIPythonWidget(gui_completion='droplist')\n        except TraitError:  # IPython v0.12\n            widget = RichIPythonWidget(gui_completion=True)\n        widget.kernel_manager = manager\n        return widget\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/11285662",
    "html_url": "https://github.com/ipython/ipython/issues/2310#issuecomment-11285662",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2310",
    "id": 11285662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjg1NjYy",
    "user": {
      "login": "piti118",
      "id": 591316,
      "node_id": "MDQ6VXNlcjU5MTMxNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/591316?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/piti118",
      "html_url": "https://github.com/piti118",
      "followers_url": "https://api.github.com/users/piti118/followers",
      "following_url": "https://api.github.com/users/piti118/following{/other_user}",
      "gists_url": "https://api.github.com/users/piti118/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/piti118/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/piti118/subscriptions",
      "organizations_url": "https://api.github.com/users/piti118/orgs",
      "repos_url": "https://api.github.com/users/piti118/repos",
      "events_url": "https://api.github.com/users/piti118/events{/privacy}",
      "received_events_url": "https://api.github.com/users/piti118/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-12-12T11:36:50Z",
    "updated_at": "2012-12-12T11:41:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Don't take my word for it but this might help. I'm seeing the same error in notebook intermittently. I can't 100% reproduce it but I found that it correlates with when I try to import Python extensions(probably uninterruptible) which takes a long time to load(seconds) and then try to execute something.\n\n<pre>\nException in thread Thread-2:\nTraceback (most recent call last):\n  File \"/nfs/data2/babar/software64/lib/python2.7/threading.py\", line 551, in __bootstrap_inner\n    self.run()\n  File \"/nfs/data2/babar/software64/lib/python2.7/site-packages/IPython/zmq/heartbeat.py\", line 55, in run\n    zmq.device(zmq.FORWARDER, self.socket, self.socket)\n  File \"device.pyx\", line 55, in zmq.core.device.device (zmq/core/device.c:854)\nZMQError: Interrupted system call\n</pre>\n\nIt also seems to correlate with connection speed I'm using. This happens when I work from home through ssh -D proxy but not when I'm school and have gigabit connection to it.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/11287533",
    "html_url": "https://github.com/ipython/ipython/issues/2310#issuecomment-11287533",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2310",
    "id": 11287533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjg3NTMz",
    "user": {
      "login": "piti118",
      "id": 591316,
      "node_id": "MDQ6VXNlcjU5MTMxNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/591316?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/piti118",
      "html_url": "https://github.com/piti118",
      "followers_url": "https://api.github.com/users/piti118/followers",
      "following_url": "https://api.github.com/users/piti118/following{/other_user}",
      "gists_url": "https://api.github.com/users/piti118/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/piti118/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/piti118/subscriptions",
      "organizations_url": "https://api.github.com/users/piti118/orgs",
      "repos_url": "https://api.github.com/users/piti118/repos",
      "events_url": "https://api.github.com/users/piti118/events{/privacy}",
      "received_events_url": "https://api.github.com/users/piti118/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-12-12T12:47:08Z",
    "updated_at": "2012-12-12T12:47:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "If i try to run an un-interruptable call like tight loop with no C api error checking with in first MappingkernelManager.first_beat second then this always happen. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/12778924",
    "html_url": "https://github.com/ipython/ipython/issues/2310#issuecomment-12778924",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2310",
    "id": 12778924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzc4OTI0",
    "user": {
      "login": "PierreBdR",
      "id": 3404833,
      "node_id": "MDQ6VXNlcjM0MDQ4MzM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3404833?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PierreBdR",
      "html_url": "https://github.com/PierreBdR",
      "followers_url": "https://api.github.com/users/PierreBdR/followers",
      "following_url": "https://api.github.com/users/PierreBdR/following{/other_user}",
      "gists_url": "https://api.github.com/users/PierreBdR/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PierreBdR/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PierreBdR/subscriptions",
      "organizations_url": "https://api.github.com/users/PierreBdR/orgs",
      "repos_url": "https://api.github.com/users/PierreBdR/repos",
      "events_url": "https://api.github.com/users/PierreBdR/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PierreBdR/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-28T12:05:31Z",
    "updated_at": "2013-01-28T12:08:27Z",
    "author_association": "NONE",
    "body": "Hi, I want to say I have the same error in a different context. In my application, if I try to reload a Cython module and if this triggers recompilation, then I get this exact error. Sadly, even though it is perfectly reproducible in my program, I cannot create a reduced version of the problem. So to reproduce my problem:\n 1 - download PyQt-Fit (using pip, from PyPI or from http://code.google.com/p/pyqt-fit/)\n 2 - install\n 3 - do the following in a ipython qtconsole:\n\nIn [1]: import pyqt_fit.kernels \nIn [2]: import pyqt_fit._kernels as _k\nhere, modify the file _kernels.pyx in the pyqt-fit folder\nIn [3]: reload(_k)\nhere it should crash the heartbeat, independent from the time it took to compile\n\nNote that if you import pyximport yourself and load pyqt_fit._kernels directly (i.e. not loading pyqt_fit.kernels first), then the error doesn't happen. Also, I only have this problem since I upgrade IPython to 0.13 and even then, it happens only on my linux machine. In short this does'n crash:\n\nIn [1]: import pyximport\nIn [2]: pyximport.install(reload_support=True)\nIn [3]: import pyqt_fit._kernels as _k\nhere, modify the file _kernels.pyx in the pyqt-fit folder\nIn [4]: reload(_k)\nhere it works just fine\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21164151",
    "html_url": "https://github.com/ipython/ipython/issues/2310#issuecomment-21164151",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2310",
    "id": 21164151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTY0MTUx",
    "user": {
      "login": "mspacek",
      "id": 799467,
      "node_id": "MDQ6VXNlcjc5OTQ2Nw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/799467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mspacek",
      "html_url": "https://github.com/mspacek",
      "followers_url": "https://api.github.com/users/mspacek/followers",
      "following_url": "https://api.github.com/users/mspacek/following{/other_user}",
      "gists_url": "https://api.github.com/users/mspacek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mspacek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mspacek/subscriptions",
      "organizations_url": "https://api.github.com/users/mspacek/orgs",
      "repos_url": "https://api.github.com/users/mspacek/repos",
      "events_url": "https://api.github.com/users/mspacek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mspacek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-18T05:59:29Z",
    "updated_at": "2013-07-18T05:59:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "As another data point, I just saw this for the first time in my Qt IPython based app, which uses a RichIPythonWidget:\n\n```\n[IPKernelApp] WARNING | Invalid Message:\nTraceback (most recent call last):\n  File \"/home/mspacek/src/ipython/IPython/kernel/zmq/ipkernel.py\", line 766, in _raw_input\n    ident, reply = self.session.recv(self.stdin_socket, 0)\n  File \"/home/mspacek/src/ipython/IPython/kernel/zmq/session.py\", line 657, in recv\n    msg_list = socket.recv_multipart(mode, copy=copy)\n  File \"/usr/local/lib/python2.7/dist-packages/zmq/sugar/socket.py\", line 246, in recv_multipart\n    parts = [self.recv(flags, copy=copy, track=track)]\n  File \"socket.pyx\", line 587, in zmq.core.socket.Socket.recv (zmq/core/socket.c:5359)\n  File \"socket.pyx\", line 621, in zmq.core.socket.Socket.recv (zmq/core/socket.c:5178)\n  File \"socket.pyx\", line 130, in zmq.core.socket._recv_copy (zmq/core/socket.c:1690)\n  File \"checkrc.pxd\", line 21, in zmq.core.checkrc._check_rc (zmq/core/socket.c:5838)\nZMQError: Interrupted system call\n```\n\nThe above was printed in my terminal. The second time it happened, it actually printed within the RichIPythonWidget itself. It may have been a slightly different error. Unfortunately I failed to copy and paste it.\n\nThis happened right around when my code running within the app opened a QFileDialog, using getOpenFileName. When creating the dialog, it's set to have no parent. @jt11791 mentions QFileDialog as well, so there may be something to it.\n\nFor now, I can't seem to replicate the error. At first, I suspected it had something to do with the user (me) taking a long time to choose the file in the dialog, but I haven't confirmed that. I'm running the latest 1.0.dev from git, and the latest pyzmq installed via pip (13.1.0) on amd64 Xubuntu 12.10, Python 2.7.3\n"
  }
]
