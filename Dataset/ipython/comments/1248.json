[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3421396",
    "html_url": "https://github.com/ipython/ipython/issues/1248#issuecomment-3421396",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1248",
    "id": 3421396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjEzOTY=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-09T22:16:33Z",
    "updated_at": "2012-01-09T22:16:33Z",
    "author_association": "MEMBER",
    "body": "Our patch should only be applied to tornado <= 2.1.1, so the change of names shouldn't matter.  If this is affecting current master, then tornado git is reporting 2.1.1 as version_info, which they should probably fix.  In the meantime, I guess we can fix the existing version check to account for the fact that tornado dev version_info evaluates to <= the previous release.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3422010",
    "html_url": "https://github.com/ipython/ipython/issues/1248#issuecomment-3422010",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1248",
    "id": 3422010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjIwMTA=",
    "user": {
      "login": "bjedwards",
      "id": 726274,
      "node_id": "MDQ6VXNlcjcyNjI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/726274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjedwards",
      "html_url": "https://github.com/bjedwards",
      "followers_url": "https://api.github.com/users/bjedwards/followers",
      "following_url": "https://api.github.com/users/bjedwards/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjedwards/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjedwards/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjedwards/subscriptions",
      "organizations_url": "https://api.github.com/users/bjedwards/orgs",
      "repos_url": "https://api.github.com/users/bjedwards/repos",
      "events_url": "https://api.github.com/users/bjedwards/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjedwards/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-09T22:58:37Z",
    "updated_at": "2012-01-09T22:58:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Indeed, the tornado git is reporting `tornado.version_info` as `(2,1,1)`. The version check in `handlers.py` seems a little odd to me. Why check and do something if there is no alternative? Shouldn't an error be raised if there is an incompatible version of tornado? Also as far as I can tell any version of tornado up through the dev is valid, so why are we checking at all?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3422090",
    "html_url": "https://github.com/ipython/ipython/issues/1248#issuecomment-3422090",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1248",
    "id": 3422090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjIwOTA=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-09T23:04:40Z",
    "updated_at": "2012-01-09T23:04:40Z",
    "author_association": "MEMBER",
    "body": "It's a monkeypatch - we're overriding a method in Tornado 2.1.1 (and 2.1) to fix a bug. The same fix has since been made in Tornado, so the version check is to see whether we need to make that fix ourselves or not.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3422414",
    "html_url": "https://github.com/ipython/ipython/issues/1248#issuecomment-3422414",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1248",
    "id": 3422414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjI0MTQ=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-09T23:30:06Z",
    "updated_at": "2012-01-09T23:30:06Z",
    "author_association": "MEMBER",
    "body": "We are checking because the patch need only to be applied to _old_ tornado (2.1.0, 2.1.1).  IPython should work fine with tornado > 2.1.1 unpatched.\n\nTornado master fixed the compatibility after 2.1.1 release with a tiny bugfix in October.  We simply ship the same patch, so that we can still use released versions, rather than bumping our dependency to 2.1.2 which still hasn't been released.  Our version check _should_ only be applied to code from 2.1.1 or before, but tornado dev after 2.1.1 wrongly identifies itself as 2.1.1.  This error didn't show up until now, because the patch didn't actually change anything in 2.1-dev, since that's where the code came from.\n\nIf tornado doesn't change, then the version check should be:\n\n```\ntornado.version_info <= (2,1,1) and tornado.__version__ != \"2.1.1git\"\n```\n\nor:\n\n```\ntornado.__version__ in ('2.1.1', '2.1.0')\n```\n\nI have opened [PR 432](https://github.com/facebook/tornado/pull/432) with tornado to update their version number, because I'm not sure if they mean to be doing what they are.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3505179",
    "html_url": "https://github.com/ipython/ipython/issues/1248#issuecomment-3505179",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1248",
    "id": 3505179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDUxNzk=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-16T01:46:38Z",
    "updated_at": "2012-01-16T01:46:38Z",
    "author_association": "MEMBER",
    "body": "tornado updated their version_info to be a 4-tuple (`(2,1,1,1)` as of writing), so dev now does indeed evaluate to `> (2,1,1)`, and the patch is correctly not applied.  Current IPython Notebook does indeed work fine with current dev tornado.\n"
  }
]
