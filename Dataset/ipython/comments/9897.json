[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/241919086",
    "html_url": "https://github.com/ipython/ipython/pull/9897#issuecomment-241919086",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9897",
    "id": 241919086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTkxOTA4Ng==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-23T23:58:39Z",
    "updated_at": "2016-08-23T23:58:39Z",
    "author_association": "MEMBER",
    "body": "Hi ! \n\nThanks a lot for that; that does not seem to do it for me I still get a different error; \n\n```\nIn [3]: from IPython.core.completer import IPCompleter\n\nIn [4]: c = IPCompleter(get_ipython())\n\nIn [5]: c.complete('foo')\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-5-1faa54daaabd> in <module>()\n----> 1 c.complete('foo')\n\n/Users/bussonniermatthias/dev/ipython/IPython/core/completer.py in comp(*args, **kwargs)\n     82     @wraps(complete)\n     83     def comp(*args, **kwargs):\n---> 84         text, matches =  complete(*args, **kwargs)\n     85         if len(matches) == 1:\n     86             return text, [matches[0].rstrip()]\n\n/Users/bussonniermatthias/dev/ipython/IPython/core/completer.py in complete(self, text, line_buffer, cursor_pos)\n   1191         # Start with a clean slate of completions\n   1192         self.matches[:] = []\n-> 1193         custom_res = self.dispatch_custom_completer(text)\n   1194         if custom_res is not None:\n   1195             # did custom completers produce something?\n\n/Users/bussonniermatthias/dev/ipython/IPython/core/completer.py in dispatch_custom_completer(self, text)\n   1088\n   1089     def dispatch_custom_completer(self, text):\n-> 1090         if not self.custom_completers:\n   1091             return\n   1092\n\nAttributeError: 'IPCompleter' object has no attribute 'custom_completers'\n```\n\nDid you committed all your changes ? \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/242120740",
    "html_url": "https://github.com/ipython/ipython/pull/9897#issuecomment-242120740",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9897",
    "id": 242120740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjEyMDc0MA==",
    "user": {
      "login": "rkchilaka",
      "id": 19842764,
      "node_id": "MDQ6VXNlcjE5ODQyNzY0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/19842764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkchilaka",
      "html_url": "https://github.com/rkchilaka",
      "followers_url": "https://api.github.com/users/rkchilaka/followers",
      "following_url": "https://api.github.com/users/rkchilaka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkchilaka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkchilaka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkchilaka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkchilaka/orgs",
      "repos_url": "https://api.github.com/users/rkchilaka/repos",
      "events_url": "https://api.github.com/users/rkchilaka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkchilaka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-24T16:07:28Z",
    "updated_at": "2016-08-24T16:07:28Z",
    "author_association": "NONE",
    "body": "i am very sorry sir, i think i may have done something wrong. I will try to fix it. Thank you\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/242140580",
    "html_url": "https://github.com/ipython/ipython/pull/9897#issuecomment-242140580",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9897",
    "id": 242140580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjE0MDU4MA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-24T17:12:33Z",
    "updated_at": "2016-08-24T17:12:33Z",
    "author_association": "MEMBER",
    "body": "> i am very sorry sir, i think i may have done something wrong. I will try to fix it. Thank you\n\nDon't worry; it might be me that have a wrong setup. \n\nThanks a lot for wanting to contribute !\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/242248070",
    "html_url": "https://github.com/ipython/ipython/pull/9897#issuecomment-242248070",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9897",
    "id": 242248070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjI0ODA3MA==",
    "user": {
      "login": "rkchilaka",
      "id": 19842764,
      "node_id": "MDQ6VXNlcjE5ODQyNzY0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/19842764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkchilaka",
      "html_url": "https://github.com/rkchilaka",
      "followers_url": "https://api.github.com/users/rkchilaka/followers",
      "following_url": "https://api.github.com/users/rkchilaka/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkchilaka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkchilaka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkchilaka/subscriptions",
      "organizations_url": "https://api.github.com/users/rkchilaka/orgs",
      "repos_url": "https://api.github.com/users/rkchilaka/repos",
      "events_url": "https://api.github.com/users/rkchilaka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkchilaka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-25T00:22:52Z",
    "updated_at": "2016-08-30T22:59:44Z",
    "author_association": "NONE",
    "body": "sir, i have removed any previous installs of ipython and python and installed python 3.5.2 and running windows 10 and using git i cloned the repo and ran python -m IPython it gave the following messages.\n\n```\nC:\\Users\\rkchi\\Desktop\\repos\\ipython>python -m IPython\nPython 3.5.2 (v3.5.2:4def2a2901a5, Jun 25 2016, 22:01:18) [MSC v.1900 32 bit (Intel)]\nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 6.0.0.dev -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: from IPython.core.completer import IPCompleter\n\nIn [2]: c = IPCompleter(get_ipython())\n\nIn [3]: c.complete('foo')\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nC:\\Users\\rkchi\\Desktop\\repos\\ipython\\IPython\\core\\completer.py in complete(self, text, line_buffer, cursor_pos)\n   1203                 for matcher in self.matchers:\n   1204                     try:\n-> 1205                         self.matches.extend(matcher(text))\n   1206                     except:\n   1207                         # Show the ugly traceback if the matcher causes an\n\nC:\\Users\\rkchi\\Desktop\\repos\\ipython\\IPython\\core\\completer.py in python_matches(self, text)\n    800                 matches = []\n    801         else:\n--> 802             matches = self.global_matches(text)\n    803         return matches\n    804\n\nC:\\Users\\rkchi\\Desktop\\repos\\ipython\\IPython\\core\\completer.py in global_matches(self, text)\n    356         for lst in [keyword.kwlist,\n    357                     builtin_mod.__dict__.keys(),\n--> 358                     self.namespace.keys(),\n    359                     self.global_namespace.keys()]:\n    360             for word in lst:\n\nAttributeError: 'IPCompleter' object has no attribute 'namespace'\nOut[3]: ('foo', [])\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/243608495",
    "html_url": "https://github.com/ipython/ipython/pull/9897#issuecomment-243608495",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9897",
    "id": 243608495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzYwODQ5NQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-30T23:00:34Z",
    "updated_at": "2016-08-30T23:00:34Z",
    "author_association": "MEMBER",
    "body": "Thanks, sorry I was away for a few day I can get back on that and look at what's happening. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/243612491",
    "html_url": "https://github.com/ipython/ipython/pull/9897#issuecomment-243612491",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9897",
    "id": 243612491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzYxMjQ5MQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-30T23:22:18Z",
    "updated_at": "2016-08-30T23:22:18Z",
    "author_association": "MEMBER",
    "body": "Ok, so let's have look at what's happening, you indeed get the error message `AttributeError: 'IPCompleter' object has no attribute 'namespace'`, so this piece of code assume there is a `namespace` attribute to `self` which definitively is not there. \n\nWe have 2 choices here: \n1. Handle the case where `namespace` does not exists if it make sens to not have `namespace`.\n   - Likely with `hasattr(self, 'namespace')` or `getattr(self, 'namespace')`. I'll assume you know what these 2 are doing, or know how to find what they are doing feel free to ask if you need more info. \n2. Make sure `namespace` is set on the class (figure out why it is not) \n\nLet's go with 2. \nAfter some digging which take som practice: \n- `namespace` is [set (or not) here](https://github.com/ipython/ipython/blob/54cc9d25fdde97698cac9ef5659d2f4d24ea7dba/IPython/core/completer.py#L312-L316) on the IPcompleter superclass. \n- You can see that it's accessed/updated [here](https://github.com/ipython/ipython/blob/54cc9d25fdde97698cac9ef5659d2f4d24ea7dba/IPython/core/completer.py#L333-L344) when calling `Completer.complete` and inparticular if it was not passed to `__init__` it uses `__main__`\n-  Though if you look at the superclass IPCompleter, the [overridden method `complete`](https://github.com/ipython/ipython/blob/54cc9d25fdde97698cac9ef5659d2f4d24ea7dba/IPython/core/completer.py#L1132-L1221) does not handle this case. \n- `IPCompleter__init__` does not handle [this case either](https://github.com/ipython/ipython/blob/54cc9d25fdde97698cac9ef5659d2f4d24ea7dba/IPython/core/completer.py#L627-L628) (it could have), also in particular it calls `Completer.__init__` instead of `super(IPcompleter, self).__init__` because this is reallllly old code. \n\nMy take on that (it's not the only solution) would be to add around [this position](https://github.com/ipython/ipython/blob/54cc9d25fdde97698cac9ef5659d2f4d24ea7dba/IPython/core/completer.py#L1166) a snippet like:\n\n```\nif self.use_main_ns:\n            self.namespace = __main__.__dict__\n```\n\nA cleaner fix would be to change in `__init__` the `self.namespace` to `self._namespace` and make `self.namespace` a `@property` that return the right thing (maybe add a setter as well). \n\nDoes that make some sens ? \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/248059539",
    "html_url": "https://github.com/ipython/ipython/pull/9897#issuecomment-248059539",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9897",
    "id": 248059539,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODA1OTUzOQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-19T17:22:57Z",
    "updated_at": "2016-09-19T17:22:57Z",
    "author_association": "MEMBER",
    "body": "Closing this as you fixed it in #9936. Thanks !\n"
  }
]
