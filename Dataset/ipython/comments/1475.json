[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4374774",
    "html_url": "https://github.com/ipython/ipython/pull/1475#issuecomment-4374774",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1475",
    "id": 4374774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzQ3NzQ=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-07T19:04:33Z",
    "updated_at": "2012-03-07T19:04:33Z",
    "author_association": "MEMBER",
    "body": "As mentioned on #1474, I'm -1 on this, because in normal use, `__name__` is only ever `__main__` or the module name, and I don't think we should encourage using it for anything else.\n\n`%run` also tries to mimic the python command line arguments (e.g. you can use `-m module`), so I think using -c is potentially confusing, because Python uses that to pass a statement from the command line.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4376353",
    "html_url": "https://github.com/ipython/ipython/pull/1475#issuecomment-4376353",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1475",
    "id": 4376353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzYzNTM=",
    "user": {
      "login": "ivanov",
      "id": 118211,
      "node_id": "MDQ6VXNlcjExODIxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/118211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ivanov",
      "html_url": "https://github.com/ivanov",
      "followers_url": "https://api.github.com/users/ivanov/followers",
      "following_url": "https://api.github.com/users/ivanov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ivanov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ivanov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ivanov/subscriptions",
      "organizations_url": "https://api.github.com/users/ivanov/orgs",
      "repos_url": "https://api.github.com/users/ivanov/repos",
      "events_url": "https://api.github.com/users/ivanov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ivanov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-07T20:18:03Z",
    "updated_at": "2012-03-07T20:18:03Z",
    "author_association": "MEMBER",
    "body": "@mynameisfiber: I'm also having a hard time seeing the usecase for this - it's not clear to me why you'd want to do this from #1474. Can you motivate it better, and explain why this shouldn't live in your own `if __name__ == '__main__'` code?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4397313",
    "html_url": "https://github.com/ipython/ipython/pull/1475#issuecomment-4397313",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1475",
    "id": 4397313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTczMTM=",
    "user": {
      "login": "mynameisfiber",
      "id": 47370,
      "node_id": "MDQ6VXNlcjQ3Mzcw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/47370?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mynameisfiber",
      "html_url": "https://github.com/mynameisfiber",
      "followers_url": "https://api.github.com/users/mynameisfiber/followers",
      "following_url": "https://api.github.com/users/mynameisfiber/following{/other_user}",
      "gists_url": "https://api.github.com/users/mynameisfiber/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mynameisfiber/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mynameisfiber/subscriptions",
      "organizations_url": "https://api.github.com/users/mynameisfiber/orgs",
      "repos_url": "https://api.github.com/users/mynameisfiber/repos",
      "events_url": "https://api.github.com/users/mynameisfiber/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mynameisfiber/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-08T17:58:50Z",
    "updated_at": "2012-03-08T17:59:24Z",
    "author_association": "NONE",
    "body": "@ivanov I think an immediate use case for this is if I have code that I want to be able to run as a script, but has completely different setup/teardown necessary for profiling... then I could do something like:\n\n```\nif __name__ == \"__main__\":\n    main()\n\nif __name__ == \"__profile__\":\n    ...do some setup...\n    main()\n    ...shutdown...\n```\n\nOr the profiling code could do something completely different!  Maybe I want to test various configuration methods, or different usage patterns, etc.  With all of this, we could simply have various namespace dependent blocks and run them with\n\n`%run -c __profile__ -p scripy.py`\n\n@takluyver has a good point that `-c` is being used already in python, but I am fine with any letter (I picked `c` almost at random!)... the functionality is the most important.  Ideally, the `-n` parameter could have an optional argument, but I couldn't figure out how to do that with getopts!\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4397479",
    "html_url": "https://github.com/ipython/ipython/pull/1475#issuecomment-4397479",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1475",
    "id": 4397479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTc0Nzk=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-08T18:07:13Z",
    "updated_at": "2012-03-08T18:07:13Z",
    "author_association": "MEMBER",
    "body": "But Python itself offers no option to do this, and I don't think we should encourage people to code in ways specific to IPython. Can't you just use a command line parameter like `--profile` to achieve the same thing?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4409344",
    "html_url": "https://github.com/ipython/ipython/pull/1475#issuecomment-4409344",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1475",
    "id": 4409344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDkzNDQ=",
    "user": {
      "login": "ivanov",
      "id": 118211,
      "node_id": "MDQ6VXNlcjExODIxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/118211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ivanov",
      "html_url": "https://github.com/ivanov",
      "followers_url": "https://api.github.com/users/ivanov/followers",
      "following_url": "https://api.github.com/users/ivanov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ivanov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ivanov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ivanov/subscriptions",
      "organizations_url": "https://api.github.com/users/ivanov/orgs",
      "repos_url": "https://api.github.com/users/ivanov/repos",
      "events_url": "https://api.github.com/users/ivanov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ivanov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-09T03:34:29Z",
    "updated_at": "2012-03-09T03:34:29Z",
    "author_association": "MEMBER",
    "body": "@mynameisfiber: seems like the sort of thing you can already do by passing arguments to your code and then checking for them via `sys.argv`.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/5137186",
    "html_url": "https://github.com/ipython/ipython/pull/1475#issuecomment-5137186",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1475",
    "id": 5137186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzcxODY=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-04-15T05:57:44Z",
    "updated_at": "2012-04-15T05:57:44Z",
    "author_association": "MEMBER",
    "body": "I concur with @ivanov and @takluyver on this, and @takluyver's last comment echoes to a t my perspective.  As much as we'd love the whole world to use IPython, IPython remains a _Python_ tool, and something like this which is completely impossible in normal Python should not be done.  As @ivanov suggests, you can achieve what you're looking for in a much cleaner manner by using arguments in `sys.argv`, and you'll have the advantage of a solution that will work both in IPython and outside of it.\n\nI think it's best to close this particular PR.  @mynameisfiber, thanks for jumping in IPython development, and we hope this doesn't discourage you from contributing in the future.  It's just that in this particular case, there really are better ways to go about the problem.\n"
  }
]
