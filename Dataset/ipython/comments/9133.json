[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/172107637",
    "html_url": "https://github.com/ipython/ipython/issues/9133#issuecomment-172107637",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9133",
    "id": 172107637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjEwNzYzNw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T22:07:14Z",
    "updated_at": "2016-01-15T22:07:14Z",
    "author_association": "MEMBER",
    "body": "I don't think there's anything wrong here. Programmes are not expected to remove arguments they recognise from `sys.argv` - argparse, the standard Python library for handling command line options, does not do this either. Libraries are not expected to jump in and start processing `sys.argv` on import. Kivy is decidedly unusual in doing this.\n\nYou can work around this by running this before importing Kivy:\n\n``` python\nsys.argv[1:] = []\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/172109773",
    "html_url": "https://github.com/ipython/ipython/issues/9133#issuecomment-172109773",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9133",
    "id": 172109773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjEwOTc3Mw==",
    "user": {
      "login": "oconnor663",
      "id": 860932,
      "node_id": "MDQ6VXNlcjg2MDkzMg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/860932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oconnor663",
      "html_url": "https://github.com/oconnor663",
      "followers_url": "https://api.github.com/users/oconnor663/followers",
      "following_url": "https://api.github.com/users/oconnor663/following{/other_user}",
      "gists_url": "https://api.github.com/users/oconnor663/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oconnor663/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oconnor663/subscriptions",
      "organizations_url": "https://api.github.com/users/oconnor663/orgs",
      "repos_url": "https://api.github.com/users/oconnor663/repos",
      "events_url": "https://api.github.com/users/oconnor663/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oconnor663/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T22:12:44Z",
    "updated_at": "2016-01-17T03:42:49Z",
    "author_association": "NONE",
    "body": "Agreed that the <strike>IPython</strike> Kivy behavior is kind of non-standard. For comparison, though, the regular `python` interpreter does clear its own flags out of the args:\n\n```\n$ python -W ignore\nPython 3.5.1 (default, Dec  7 2015, 12:58:09) \n[GCC 5.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import sys\n>>> sys.argv\n['']\n```\n\n...sometimes. The `-c` flag seems to be a special flower in this respect.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/172124884",
    "html_url": "https://github.com/ipython/ipython/issues/9133#issuecomment-172124884",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9133",
    "id": 172124884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjEyNDg4NA==",
    "user": {
      "login": "kived",
      "id": 1126441,
      "node_id": "MDQ6VXNlcjExMjY0NDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1126441?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kived",
      "html_url": "https://github.com/kived",
      "followers_url": "https://api.github.com/users/kived/followers",
      "following_url": "https://api.github.com/users/kived/following{/other_user}",
      "gists_url": "https://api.github.com/users/kived/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kived/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kived/subscriptions",
      "organizations_url": "https://api.github.com/users/kived/orgs",
      "repos_url": "https://api.github.com/users/kived/repos",
      "events_url": "https://api.github.com/users/kived/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kived/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T23:24:49Z",
    "updated_at": "2016-01-15T23:24:49Z",
    "author_association": "NONE",
    "body": "Kivy is an application framework, not just a library. It does have its own command line arguments, and we can't possibly know what arguments are supposed to be for IPython. This would apply equally to any program which parses arguments - it will see IPython's args and try to parse them.\n\nAlso, note that IPython does indeed strip those args if you run a script from the command line like `ipython --no-confirm-exit script.py` or `ipython script.py --no-confirm-exit`, and the only arguments which remain in `sys.argv` are ones which appear after `--`, i.e. `ipython --no-confirm-exit script.py -- --hello`. So this behavior seems inconsistent.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/172231210",
    "html_url": "https://github.com/ipython/ipython/issues/9133#issuecomment-172231210",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9133",
    "id": 172231210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjIzMTIxMA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-16T17:18:01Z",
    "updated_at": "2016-01-16T17:18:01Z",
    "author_association": "MEMBER",
    "body": "It's impossible to know all flag accepted by IPython as any `--foo.Bar` argument might be valid.\n\nI dont think `ipython --no-confirm-exit script.py` vs `ipython script.py --no-confirm-exit` is inconstant.\nIt's how argparse and subarguments works (as well as other non-python libraries) , and it can perfectly be read as `(interpreter with flag) (program) (arguments)`, \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/172288003",
    "html_url": "https://github.com/ipython/ipython/issues/9133#issuecomment-172288003",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9133",
    "id": 172288003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjI4ODAwMw==",
    "user": {
      "login": "oconnor663",
      "id": 860932,
      "node_id": "MDQ6VXNlcjg2MDkzMg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/860932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oconnor663",
      "html_url": "https://github.com/oconnor663",
      "followers_url": "https://api.github.com/users/oconnor663/followers",
      "following_url": "https://api.github.com/users/oconnor663/following{/other_user}",
      "gists_url": "https://api.github.com/users/oconnor663/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oconnor663/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oconnor663/subscriptions",
      "organizations_url": "https://api.github.com/users/oconnor663/orgs",
      "repos_url": "https://api.github.com/users/oconnor663/repos",
      "events_url": "https://api.github.com/users/oconnor663/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oconnor663/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T03:50:24Z",
    "updated_at": "2016-01-17T03:50:24Z",
    "author_association": "NONE",
    "body": "@Carreau, I believe what @kived was pointing out was that the running-a-script behavior is different from the interactive-interpreter behavior, regardless of how the arguments are ordered. For example, if I write this program:\n\n``` python\nimport sys\nprint(sys.argv)\n```\n\nand run it with `ipython test.py --no-confirm-exit`, it prints out something like `['/tmp/test.py']`. Which is to say, it _does_ strip the `--no-confirm-exit` argument from the `sys.argv` list, _unlike_ the behavior we see in the interactive IPython interpreter.\n\nI had a typo [above](https://github.com/ipython/ipython/issues/9133#issuecomment-172109773) where I meant to agree with @takluyver, that it's surprising to me that Kivy reads the contents of `sys.argv` on import, rather than waiting for me to make some explicit function call into the library, where I might be able to supply my own arguments.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/172573240",
    "html_url": "https://github.com/ipython/ipython/issues/9133#issuecomment-172573240",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9133",
    "id": 172573240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjU3MzI0MA==",
    "user": {
      "login": "kived",
      "id": 1126441,
      "node_id": "MDQ6VXNlcjExMjY0NDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1126441?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kived",
      "html_url": "https://github.com/kived",
      "followers_url": "https://api.github.com/users/kived/followers",
      "following_url": "https://api.github.com/users/kived/following{/other_user}",
      "gists_url": "https://api.github.com/users/kived/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kived/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kived/subscriptions",
      "organizations_url": "https://api.github.com/users/kived/orgs",
      "repos_url": "https://api.github.com/users/kived/repos",
      "events_url": "https://api.github.com/users/kived/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kived/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-18T16:11:35Z",
    "updated_at": "2016-01-18T16:11:35Z",
    "author_association": "NONE",
    "body": "@oconnor663 Exactly. That's how I tested as well. The only way to get arguments to a script run via IPython command line is by using `--` to separate IPython arguments from script arguments.\n\nI agree that parsing `sys.argv` on import isn't great, but that's also irrelevant. The point is that **if** we parse `sys.argv`, we will have this issue. When we parse isn't important.\n\nRemember that Kivy is an application framework, not a library. In fact, we have almost the same behavior as pygtk in this regard.\n"
  }
]
