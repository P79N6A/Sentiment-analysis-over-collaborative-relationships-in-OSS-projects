[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320198050",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320198050",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320198050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDE5ODA1MA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T09:06:30Z",
    "updated_at": "2017-08-04T09:06:30Z",
    "author_association": "MEMBER",
    "body": "Are you downloading `.py` files that already exist on the server, or downloading a notebook as a .py file? What's in the notebook?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320291162",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320291162",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320291162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDI5MTE2Mg==",
    "user": {
      "login": "d3ld0t",
      "id": 1378408,
      "node_id": "MDQ6VXNlcjEzNzg0MDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1378408?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d3ld0t",
      "html_url": "https://github.com/d3ld0t",
      "followers_url": "https://api.github.com/users/d3ld0t/followers",
      "following_url": "https://api.github.com/users/d3ld0t/following{/other_user}",
      "gists_url": "https://api.github.com/users/d3ld0t/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d3ld0t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d3ld0t/subscriptions",
      "organizations_url": "https://api.github.com/users/d3ld0t/orgs",
      "repos_url": "https://api.github.com/users/d3ld0t/repos",
      "events_url": "https://api.github.com/users/d3ld0t/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d3ld0t/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T16:19:49Z",
    "updated_at": "2017-08-04T16:21:38Z",
    "author_association": "NONE",
    "body": "I should have clarified. I run many python notebooks (.ipynb files) and it is these that I am trying to download as a .py file.  The notebook files exist already and downloading any of these as .py results in the aforementioned output. Downloading as .html or as .ipynb works fine.\r\n\r\nThe notebooks contain just pure python. For example, a notebook with one cell containing:\r\n\r\n```\r\nfor i in range(10):\r\n    print i\r\n```\r\n\r\nyields the same nonsensical output.\r\n\r\nI should note that this seems like an issue with nbconvert as the same thing happens when I try to convert the .ipynb into a .py via \"jupyter nbconvert --to script foo.ipynb\""
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320293897",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320293897",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320293897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDI5Mzg5Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T16:31:28Z",
    "updated_at": "2017-08-04T16:31:28Z",
    "author_association": "MEMBER",
    "body": "Is it possible that you have a file called `python.tpl` in that directory? If so, nbconvert might be trying to use it as a template."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320345844",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320345844",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320345844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM0NTg0NA==",
    "user": {
      "login": "d3ld0t",
      "id": 1378408,
      "node_id": "MDQ6VXNlcjEzNzg0MDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1378408?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d3ld0t",
      "html_url": "https://github.com/d3ld0t",
      "followers_url": "https://api.github.com/users/d3ld0t/followers",
      "following_url": "https://api.github.com/users/d3ld0t/following{/other_user}",
      "gists_url": "https://api.github.com/users/d3ld0t/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d3ld0t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d3ld0t/subscriptions",
      "organizations_url": "https://api.github.com/users/d3ld0t/orgs",
      "repos_url": "https://api.github.com/users/d3ld0t/repos",
      "events_url": "https://api.github.com/users/d3ld0t/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d3ld0t/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T20:28:08Z",
    "updated_at": "2017-08-04T20:35:28Z",
    "author_association": "NONE",
    "body": "There is no such file in the directory where I am trying to save files from. However, there are a number of .tpl files not in that directory but in my conda/envs, conda/pkgs, and conda/lib directories.  I will search these for the matching text."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320348908",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320348908",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320348908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM0ODkwOA==",
    "user": {
      "login": "d3ld0t",
      "id": 1378408,
      "node_id": "MDQ6VXNlcjEzNzg0MDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1378408?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d3ld0t",
      "html_url": "https://github.com/d3ld0t",
      "followers_url": "https://api.github.com/users/d3ld0t/followers",
      "following_url": "https://api.github.com/users/d3ld0t/following{/other_user}",
      "gists_url": "https://api.github.com/users/d3ld0t/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d3ld0t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d3ld0t/subscriptions",
      "organizations_url": "https://api.github.com/users/d3ld0t/orgs",
      "repos_url": "https://api.github.com/users/d3ld0t/repos",
      "events_url": "https://api.github.com/users/d3ld0t/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d3ld0t/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T20:43:48Z",
    "updated_at": "2017-08-04T20:43:48Z",
    "author_association": "NONE",
    "body": "I just created a simple template file with the following:\r\n\r\n```\r\n## remove markdown cells\r\n{% block markdowncell -%}\r\n{% endblock markdowncell %}\r\n\r\n## change the appearance of execution count\r\n{% block in_prompt %}\r\n# [{{ cell.execution_count if cell.execution_count else ' ' }}]:\r\n{% endblock in_prompt %}\r\n```\r\n\r\nI then do:\r\n\r\n`jupyter nbconvert --to script foo.ipynb --stdout --template=simplepython.tpl\r\n`\r\n\r\nand get the same output:\r\n\r\n```\r\n[NbConvertApp] Converting notebook foo.ipynb to script\r\ntalk 1\r\ntalk 2\r\ntalk 3\r\ntalk 4\r\ntalk 5\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320351028",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320351028",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320351028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM1MTAyOA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T20:55:01Z",
    "updated_at": "2017-08-04T20:55:01Z",
    "author_association": "MEMBER",
    "body": "If you look at the notebook metadata, is there a field `language_info.nbconvert_exporter`? What is its value?\r\n\r\nThe value should normally be `'python'`. if it is, can you try this:\r\n\r\n```python\r\nimport entrypoints\r\nentrypoints.get_single('nbconvert.exporters', 'python')\r\n```\r\n\r\nAlso, check the `language_info.name` field in the notebook, and try:\r\n\r\n```python\r\nimport entrypoints\r\nentrypoints.get_single('nbconvert.exporters.script', 'python')\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320352120",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320352120",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320352120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM1MjEyMA==",
    "user": {
      "login": "d3ld0t",
      "id": 1378408,
      "node_id": "MDQ6VXNlcjEzNzg0MDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1378408?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d3ld0t",
      "html_url": "https://github.com/d3ld0t",
      "followers_url": "https://api.github.com/users/d3ld0t/followers",
      "following_url": "https://api.github.com/users/d3ld0t/following{/other_user}",
      "gists_url": "https://api.github.com/users/d3ld0t/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d3ld0t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d3ld0t/subscriptions",
      "organizations_url": "https://api.github.com/users/d3ld0t/orgs",
      "repos_url": "https://api.github.com/users/d3ld0t/repos",
      "events_url": "https://api.github.com/users/d3ld0t/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d3ld0t/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T21:00:27Z",
    "updated_at": "2017-08-04T21:00:27Z",
    "author_association": "NONE",
    "body": "nbconvert_exporter is indeed python:\r\n\r\n```\r\n \"metadata\": {\r\n  \"kernelspec\": {\r\n   \"display_name\": \"Python 2\",\r\n   \"language\": \"python\",\r\n   \"name\": \"python2\"\r\n  },\r\n  \"language_info\": {\r\n   \"codemirror_mode\": {\r\n    \"name\": \"ipython\",\r\n    \"version\": 2\r\n   },\r\n   \"file_extension\": \".py\",\r\n   \"mimetype\": \"text/x-python\",\r\n   \"name\": \"python\",\r\n   \"nbconvert_exporter\": \"python\",\r\n   \"pygments_lexer\": \"ipython2\",\r\n   \"version\": \"2.7.13\"\r\n  }\r\n },\r\n\r\n```\r\n\r\nRunning\r\n`import entrypoints\r\nentrypoints.get_single('nbconvert.exporters', 'python')`\r\n\r\nyields\r\n\r\n`EntryPoint('python', u'nbconvert.exporters', u'PythonExporter', Distribution('nbconvert', '5.2.1-py2.7'))\r\nIn [ ]:\r\n`\r\n\r\nand running \r\n`import entrypoints\r\nentrypoints.get_single('nbconvert.exporters.script', 'python')`\r\n\r\nraises a NoSuchEntryPoint exception:\r\n```\r\n---------------------------------------------------------------------------\r\nNoSuchEntryPoint                          Traceback (most recent call last)\r\n<ipython-input-82-ad747417dff7> in <module>()\r\n      1 import entrypoints\r\n----> 2 entrypoints.get_single('nbconvert.exporters.script', 'python')\r\n\r\n/home/anuj/miniconda2/lib/python2.7/site-packages/entrypoints.pyc in get_single(group, name, path)\r\n    184                 return EntryPoint.from_string(epstr, name, distro)\r\n    185 \r\n--> 186     raise NoSuchEntryPoint(group, name)\r\n    187 \r\n    188 def get_group_named(group, path=None):\r\n\r\nNoSuchEntryPoint: No 'python' entry point found in group 'nbconvert.exporters.script'\r\n\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320354128",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320354128",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320354128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM1NDEyOA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T21:10:48Z",
    "updated_at": "2017-08-04T21:10:48Z",
    "author_association": "MEMBER",
    "body": "That all sounds normal.\r\n\r\nI just thought of another possibility on the template: is there a file called `python` with no extension in that directory?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320355760",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320355760",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320355760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM1NTc2MA==",
    "user": {
      "login": "d3ld0t",
      "id": 1378408,
      "node_id": "MDQ6VXNlcjEzNzg0MDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1378408?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/d3ld0t",
      "html_url": "https://github.com/d3ld0t",
      "followers_url": "https://api.github.com/users/d3ld0t/followers",
      "following_url": "https://api.github.com/users/d3ld0t/following{/other_user}",
      "gists_url": "https://api.github.com/users/d3ld0t/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/d3ld0t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/d3ld0t/subscriptions",
      "organizations_url": "https://api.github.com/users/d3ld0t/orgs",
      "repos_url": "https://api.github.com/users/d3ld0t/repos",
      "events_url": "https://api.github.com/users/d3ld0t/events{/privacy}",
      "received_events_url": "https://api.github.com/users/d3ld0t/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T21:19:58Z",
    "updated_at": "2017-08-04T21:19:58Z",
    "author_association": "NONE",
    "body": "Yes!! There was a file in my home directory with that exact text! I removed it and now it works!\r\nThanks so much!!!!"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320359040",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320359040",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320359040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDM1OTA0MA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T21:38:51Z",
    "updated_at": "2017-08-04T21:38:51Z",
    "author_association": "MEMBER",
    "body": "We should probably make it a bit more robust against that."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/320433475",
    "html_url": "https://github.com/ipython/ipython/issues/10731#issuecomment-320433475",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10731",
    "id": 320433475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDQzMzQ3NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-05T09:34:18Z",
    "updated_at": "2017-08-05T09:34:18Z",
    "author_association": "MEMBER",
    "body": "I've made a pull request jupyter/nbconvert#639 to make this a bit harder to hit accidentally."
  }
]
