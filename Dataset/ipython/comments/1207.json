[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3325774",
    "html_url": "https://github.com/ipython/ipython/pull/1207#issuecomment-3325774",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1207",
    "id": 3325774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjU3NzQ=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-01T20:16:13Z",
    "updated_at": "2012-01-01T20:16:13Z",
    "author_association": "MEMBER",
    "body": "@fperez - This is due to the code you and I reviewed together on IRC.  The answer seems pretty straightforward.  An alternative implementation that avoids iterating twice through the lines is [here](https://github.com/minrk/ipython/compare/loadpy2).  But I think the `splitlines()` implementation is easier to read, and iterating through a list should be a small factor compared to opening/reading a file.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3379380",
    "html_url": "https://github.com/ipython/ipython/pull/1207#issuecomment-3379380",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1207",
    "id": 3379380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzkzODA=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-06T01:00:08Z",
    "updated_at": "2012-01-06T01:00:08Z",
    "author_association": "MEMBER",
    "body": "Problem. Running:\n\n```\n%loadpy http://matplotlib.sourceforge.net/mpl_examples/pylab_examples/integral_demo.py\n```\n\nproduces\n\n```\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n/home/fperez/tmp/ipython-notebooks/<ipython-input-1-af6e804f992c> in <module>()\n----> 1 get_ipython().magic(u'loadpy http://matplotlib.sourceforge.net/mpl_examples/pylab_examples/integral_demo.py')\n\n/home/fperez/usr/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s, next_input)\n   1995                 self._magic_locals = sys._getframe(1).f_locals\n   1996             with self.builtin_trap:\n-> 1997                 result = fn(magic_args)\n   1998             # Ensure we're not keeping object references around:\n\n   1999             self._magic_locals = {}\n\n/home/fperez/usr/lib/python2.7/site-packages/IPython/core/magic.pyc in magic_loadpy(self, arg_s)\n   2175             # logic, going with utf-8 is a simple solution likely to be right\n\n   2176             # in most real-world cases.\n\n-> 2177             with urllib2.urlopen(arg_s) as fileobj:\n   2178                 linesource = fileobj.read().decode('utf-8', 'replace').splitlines()\n   2179         else:\n\nAttributeError: addinfourl instance has no attribute '__exit__'\n```\n\nIt looks like the urllib objects are file-like but not proper context managers.  That may be why we had the uglier manual handling of file closing by hand.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3380412",
    "html_url": "https://github.com/ipython/ipython/pull/1207#issuecomment-3380412",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1207",
    "id": 3380412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODA0MTI=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-06T03:33:15Z",
    "updated_at": "2012-01-06T03:33:15Z",
    "author_association": "MEMBER",
    "body": "ah, stupid and fixed.  Thanks for the catch.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3381002",
    "html_url": "https://github.com/ipython/ipython/pull/1207#issuecomment-3381002",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1207",
    "id": 3381002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODEwMDI=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-06T05:17:44Z",
    "updated_at": "2012-01-06T05:17:44Z",
    "author_association": "MEMBER",
    "body": "Fix works, thanks. Merging now.\n"
  }
]
