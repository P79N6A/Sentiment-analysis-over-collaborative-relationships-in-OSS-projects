[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/239819404",
    "html_url": "https://github.com/ipython/ipython/issues/9877#issuecomment-239819404",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9877",
    "id": 239819404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTgxOTQwNA==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T14:40:27Z",
    "updated_at": "2016-08-15T14:40:27Z",
    "author_association": "MEMBER",
    "body": "Thanks for reporting @andreagrandi. \n\n@takluyver I can confirm the same behavior if two lines are pasted. If one line and then the next line are pasted, it works fine. Also fine if manually entered.\n\nI enabled the detailed traceback and the output follows:\n\n```\nIn [7]: r = requests.get(\nTraceback (most recent call last):\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/controls.py\", line 581, in get_processed_line\n    return cache[i]\nKeyError: 0\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/carol/anaconda/bin/ipython\", line 9, in <module>\n    load_entry_point('ipython', 'console_scripts', 'ipython')()\n  File \"/Users/carol/code/jupyter-projects/ipython/IPython/__init__.py\", line 119, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/traitlets/config/application.py\", line 596, in launch_instance\n    app.start()\n  File \"/Users/carol/code/jupyter-projects/ipython/IPython/terminal/ipapp.py\", line 348, in start\n    self.shell.mainloop()\n  File \"/Users/carol/code/jupyter-projects/ipython/IPython/terminal/interactiveshell.py\", line 440, in mainloop\n    self.interact()\n  File \"/Users/carol/code/jupyter-projects/ipython/IPython/terminal/interactiveshell.py\", line 423, in interact\n    code = self.prompt_for_code()\n  File \"/Users/carol/code/jupyter-projects/ipython/IPython/terminal/interactiveshell.py\", line 333, in prompt_for_code\n    pre_run=self.pre_prompt, reset_current_buffer=True)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/interface.py\", line 389, in run\n    self.eventloop.run(self.input, self.create_eventloop_callbacks())\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/eventloop/posix.py\", line 153, in run\n    t()\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/interface.py\", line 326, in redraw\n    self._redraw()\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/interface.py\", line 346, in _redraw\n    self.renderer.render(self, self.layout, is_done=self.is_done)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/renderer.py\", line 436, in render\n    extended_height=size.rows,\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 142, in write_to_screen\n    sizes = self._divide_heigths(cli, write_position)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 177, in _divide_heigths\n    dimensions = [get_dimension_for_child(c, index) for index, c in enumerate(self.children)]\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 177, in <listcomp>\n    dimensions = [get_dimension_for_child(c, index) for index, c in enumerate(self.children)]\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 175, in get_dimension_for_child\n    return c.preferred_height(cli, write_position.width, write_position.extended_height)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 395, in preferred_height\n    return self.content.preferred_height(cli, width, max_available_height)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 128, in preferred_height\n    dimensions = [c.preferred_height(cli, width, max_available_height) for c in self.children]\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 128, in <listcomp>\n    dimensions = [c.preferred_height(cli, width, max_available_height) for c in self.children]\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/containers.py\", line 1000, in preferred_height\n    cli, width - total_margin_width, max_available_height, wrap_lines),\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/controls.py\", line 502, in preferred_height\n    content = self.create_content(cli, width, None)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/controls.py\", line 641, in create_content\n    document.cursor_position_col),\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/controls.py\", line 623, in translate_rowcol\n    return Point(y=row, x=get_processed_line(row).source_to_display(col))\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/controls.py\", line 583, in get_processed_line\n    processed_line = transform(i, get_line(i))\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/controls.py\", line 559, in transform\n    cli, document, lineno, source_to_display, tokens)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/processors.py\", line 554, in apply_transformation\n    cli, document, lineno, source_to_display, tokens)\n  File \"/Users/carol/anaconda/lib/python3.5/site-packages/prompt_toolkit/layout/processors.py\", line 255, in apply_transformation\n    token, text = tokens[col]\nIndexError: list index out of range\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/239820232",
    "html_url": "https://github.com/ipython/ipython/issues/9877#issuecomment-239820232",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9877",
    "id": 239820232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTgyMDIzMg==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T14:43:28Z",
    "updated_at": "2016-08-15T14:43:28Z",
    "author_association": "MEMBER",
    "body": "@jonathanslenders fyi\nhttps://github.com/jonathanslenders/python-prompt-toolkit/blob/master/prompt_toolkit/layout/controls.py#L581\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/239821557",
    "html_url": "https://github.com/ipython/ipython/issues/9877#issuecomment-239821557",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9877",
    "id": 239821557,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTgyMTU1Nw==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T14:48:20Z",
    "updated_at": "2016-08-15T14:48:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "This should be a duplicate of https://github.com/ipython/ipython/issues/9737 and https://github.com/ipython/ipython/issues/9846 \n\nI'll try to push a new release today.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/239822052",
    "html_url": "https://github.com/ipython/ipython/issues/9877#issuecomment-239822052",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9877",
    "id": 239822052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTgyMjA1Mg==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T14:50:05Z",
    "updated_at": "2016-08-15T14:50:05Z",
    "author_association": "MEMBER",
    "body": "Thanks @jonathanslenders.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/239863966",
    "html_url": "https://github.com/ipython/ipython/issues/9877#issuecomment-239863966",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9877",
    "id": 239863966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTg2Mzk2Ng==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T17:12:55Z",
    "updated_at": "2016-08-15T17:12:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @willingc,\nprompt_toolkit 1.0.6 has been released. Can you try again after upgrading?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/239934086",
    "html_url": "https://github.com/ipython/ipython/issues/9877#issuecomment-239934086",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9877",
    "id": 239934086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTkzNDA4Ng==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T21:25:41Z",
    "updated_at": "2016-08-15T21:25:41Z",
    "author_association": "MEMBER",
    "body": "@jonathanslenders Thanks. 1.0.6 working on my system using OS X 10.11.6 and iterm2. Multiline paste working fine for me now.\n\n<img width=\"740\" alt=\"screen shot 2016-08-15 at 2 22 56 pm\" src=\"https://cloud.githubusercontent.com/assets/2680980/17680244/168a8fc2-62f4-11e6-9d14-97aa960d5cf4.png\">\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/239935151",
    "html_url": "https://github.com/ipython/ipython/issues/9877#issuecomment-239935151",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9877",
    "id": 239935151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTkzNTE1MQ==",
    "user": {
      "login": "andreagrandi",
      "id": 636391,
      "node_id": "MDQ6VXNlcjYzNjM5MQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/636391?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andreagrandi",
      "html_url": "https://github.com/andreagrandi",
      "followers_url": "https://api.github.com/users/andreagrandi/followers",
      "following_url": "https://api.github.com/users/andreagrandi/following{/other_user}",
      "gists_url": "https://api.github.com/users/andreagrandi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andreagrandi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andreagrandi/subscriptions",
      "organizations_url": "https://api.github.com/users/andreagrandi/orgs",
      "repos_url": "https://api.github.com/users/andreagrandi/repos",
      "events_url": "https://api.github.com/users/andreagrandi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andreagrandi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-15T21:30:00Z",
    "updated_at": "2016-08-15T21:30:00Z",
    "author_association": "NONE",
    "body": "@willingc thanks to you Carol for triaging the bug so quickly and for anyone involved in fixing it! You all were so quick, kind and responsive! :) It's been a pleasure!\n"
  }
]
