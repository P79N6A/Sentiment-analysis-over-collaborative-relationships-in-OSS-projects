[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2573590",
    "html_url": "https://github.com/ipython/ipython/issues/954#issuecomment-2573590",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/954",
    "id": 2573590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzM1OTA=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-10-31T04:54:21Z",
    "updated_at": "2011-10-31T04:54:21Z",
    "author_association": "MEMBER",
    "body": "I believe that the _point_ of embed is to load IPython in the calling scope.  If you want to clobber that behavior, you have to set the `local_ns` and `global_ns` arguments to [shell.mainloop](https://github.com/ipython/ipython/blob/master/IPython/frontend/terminal/embed.py#L150), which default to inspecting the calling frame:\n\n``` python\n\n>>> import IPython\n>>> c = IPython.config.loader.Config()\n>>> c.InteractiveShell.confirm_exit = False\n>>> banner = \"test\"\n>>> namespace = dict(a=5)\n>>> shell = IPython.frontend.terminal.embed.InteractiveShellEmbed(config=c, user_ns=namespace, banner1=banner)\n>>> shell.mainloop(local_ns=dict(b=10), global_ns=dict(d=32))\ntest\nIn [1]: a\nOut[1]: 5\n\nIn [2]: b\nOut[2]: 10\n\nIn [3]: c\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n/Users/minrk/dev/ip/mine/<ipython-input-3-2cd6ee2c70b0> in <module>()\n----> 1 c\n\nNameError: name 'c' is not defined\n\nIn [4]: d\nOut[4]: 32\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2575542",
    "html_url": "https://github.com/ipython/ipython/issues/954#issuecomment-2575542",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/954",
    "id": 2575542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzU1NDI=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-10-31T11:00:40Z",
    "updated_at": "2011-10-31T11:00:40Z",
    "author_association": "MEMBER",
    "body": "N.B. `global_ns` might at some point turn into `module` (I've had a PR open for some time). You might want to look at instantiating TerminalInteractiveShell, rather than calling `embed()`. Have a look at [the examples here](http://wiki.ipython.org/Cookbook/Updating_code_that_uses_IPython_for_0.11).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2740737",
    "html_url": "https://github.com/ipython/ipython/issues/954#issuecomment-2740737",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/954",
    "id": 2740737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDA3Mzc=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-15T04:11:11Z",
    "updated_at": "2011-11-15T04:11:11Z",
    "author_association": "MEMBER",
    "body": "@takluyver - should this be closed as 'not an Issue', because embed seems to behave precisely as intended?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2741141",
    "html_url": "https://github.com/ipython/ipython/issues/954#issuecomment-2741141",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/954",
    "id": 2741141,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDExNDE=",
    "user": {
      "login": "certik",
      "id": 20568,
      "node_id": "MDQ6VXNlcjIwNTY4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/20568?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/certik",
      "html_url": "https://github.com/certik",
      "followers_url": "https://api.github.com/users/certik/followers",
      "following_url": "https://api.github.com/users/certik/following{/other_user}",
      "gists_url": "https://api.github.com/users/certik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/certik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/certik/subscriptions",
      "organizations_url": "https://api.github.com/users/certik/orgs",
      "repos_url": "https://api.github.com/users/certik/repos",
      "events_url": "https://api.github.com/users/certik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/certik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-15T05:21:40Z",
    "updated_at": "2011-11-15T05:21:40Z",
    "author_association": "NONE",
    "body": "I have fixed this in the commit:\n\nhttps://github.com/qsnake/qsnake/commit/4daa75d785e330d0e30f24ac49f5abcaa257adfe\n\nso I am closing this issue. Here is the line, that I use now:\n\n```\nIPython.frontend.terminal.embed.InteractiveShellEmbed(config=c,\n        user_ns=namespace, banner1=banner).mainloop(local_ns={},\n                global_ns={})\n```\n\nWhat is confusing to me is that there is `user_ns` and also `local_ns` (and `global_ns`). But I simply set `local_ns` and `global_ns` to an empty dictionary and use `user_ns` as the local namespace and things work as expected.\n\nThanks for the help!\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2743341",
    "html_url": "https://github.com/ipython/ipython/issues/954#issuecomment-2743341",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/954",
    "id": 2743341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDMzNDE=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-15T10:51:22Z",
    "updated_at": "2011-11-15T10:51:22Z",
    "author_association": "MEMBER",
    "body": "There's probably an issue that it's a bit unclear. I'll try to get round to having a look at it in my usermod branch.\n"
  }
]
