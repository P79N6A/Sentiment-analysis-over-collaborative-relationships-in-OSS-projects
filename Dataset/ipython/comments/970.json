[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2615991",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2615991",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2615991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTU5OTE=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-03T11:45:26Z",
    "updated_at": "2011-11-03T11:45:26Z",
    "author_association": "MEMBER",
    "body": "It looks like we've changed the order of checks slightly. The code for\nWindows currently checks\n- HOMESHARE\n- HOMEDRIVE and HOMEPATH\n- USERPROFILE\n- Registry value\n  HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell\n  Folders\\Personal\n- HOME\n\nYou can also override the location of the .ipython folder if you start it\nwith \"ipython --InteractiveShell.ipython_dir=C:\\writable_path.ipython\".\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2622457",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2622457",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2622457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjI0NTc=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-03T20:16:37Z",
    "updated_at": "2011-11-03T20:16:37Z",
    "author_association": "MEMBER",
    "body": "You can also set the environment variable `IPYTHON_DIR` and then put your ipython directory wherever you want.  That's equivalent to Thomas' last suggestion, but is something you can set up once system-wide and be done with it.  Let us know if that helps so we can close this issue.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2652458",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2652458",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2652458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTI0NTg=",
    "user": {
      "login": "kubaraczkowski",
      "id": 554652,
      "node_id": "MDQ6VXNlcjU1NDY1Mg==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/554652?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kubaraczkowski",
      "html_url": "https://github.com/kubaraczkowski",
      "followers_url": "https://api.github.com/users/kubaraczkowski/followers",
      "following_url": "https://api.github.com/users/kubaraczkowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kubaraczkowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kubaraczkowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kubaraczkowski/subscriptions",
      "organizations_url": "https://api.github.com/users/kubaraczkowski/orgs",
      "repos_url": "https://api.github.com/users/kubaraczkowski/repos",
      "events_url": "https://api.github.com/users/kubaraczkowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kubaraczkowski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-07T11:39:08Z",
    "updated_at": "2011-11-07T11:39:08Z",
    "author_association": "NONE",
    "body": "Yes, IPYTHON_DIR does help. Could it be added to the windows installation documentation on the website \n(http://ipython.org/ipython-doc/stable/install/install.html#windows) ?\n\nThanks.\nAlso,  the \"normal\" windows variables (HOMEDRIVE, HOMEPATH) will probably be more often setup by windows administrators, whereas the HOME stays free for the user. What I mean is that that's the variable that is more safe to be changed in enterprise environment, hence more useful for using with custom python/ipython installations...\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2652668",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2652668",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2652668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTI2Njg=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-07T12:04:16Z",
    "updated_at": "2011-11-07T12:04:16Z",
    "author_association": "MEMBER",
    "body": "I don't think it's a Windows-specific issue, although it would be bizarre to have a non-writable home directory on a Unix-y system. It should be in the docs somewhere, though.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2658268",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2658268",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2658268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTgyNjg=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-07T19:29:46Z",
    "updated_at": "2011-11-07T19:29:46Z",
    "author_association": "MEMBER",
    "body": "On Mon, Nov 7, 2011 at 3:39 AM, Kuba Raczkowski\nreply@reply.github.com\nwrote:\n\n> Also,  the \"normal\" windows variables (HOMEDRIVE, HOMEPATH) will probably be more often setup by windows administrators, whereas the HOME stays free for the user. What I mean is that that's the variable that is more safe to be changed in enterprise environment, hence more useful for using with custom python/ipython installations...\n\nThis is good feedback, thanks.  What do you guys think, should we\nreorder things and move %HOME% to the top?  We can still honor the\nother variables, just allow users to override control without admin\nsupport.\n\nI'm +1 on that idea, but would be happy to reconsider if there's\nfeedback to the contrary.\n\nCheers,\n\nf\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2658334",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2658334",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2658334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTgzMzQ=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-07T19:33:34Z",
    "updated_at": "2011-11-07T19:33:34Z",
    "author_association": "MEMBER",
    "body": "Fine by me, but I'm not familiar with how environment variables are typically used on Windows. Let's take it to the mailing list - maybe there was a reason it got changed in the first place.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2677372",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2677372",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2677372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzczNzI=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-09T04:20:48Z",
    "updated_at": "2011-11-09T04:20:48Z",
    "author_association": "MEMBER",
    "body": "Yes, this has been brought up in #747 as well - I think HOME should be first priority when setting the homedir.\n\nCan I ask, is there a reason that we don't just use `os.path.expanduser('~')`, and leave it up to Python?  Under what circumstances does Python not get the right answer?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2677425",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2677425",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2677425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzc0MjU=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-09T04:30:12Z",
    "updated_at": "2011-11-09T04:30:12Z",
    "author_association": "MEMBER",
    "body": "On Tue, Nov 8, 2011 at 8:20 PM, Min RK\nreply@reply.github.com\nwrote:\n\n> Yes, this has been brought up in #747 as well - I think HOME should be first priority when setting the homedir.\n\nOK, HOME first then.  Agreed.\n\n> Can I ask, is there a reason that we don't just use `os.path.expanduser('~')`, and leave it up to Python?  Under what circumstances does Python not get the right answer?\n\nI don't really recall what `os.path.expanduser('~')` gives under\nwindows.  Is it a sensible answer?  I'm pretty sure the rather weird\ncontortions we have now are the product of fixing progressively\nweirder crash reports, not that we wanted something that complicated\nout of the gate.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2677523",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2677523",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2677523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzc1MjM=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-09T04:49:59Z",
    "updated_at": "2011-11-09T04:49:59Z",
    "author_association": "MEMBER",
    "body": "It does almost exactly what we do, but in a different order, and notably excluding HOMESHARE.  Unfortunately, based on Googling (many results being Brian trying to figure this out in the first place), it looks like cluster-users need to use HOMESHARE, because UNC paths should always be used there (with the wonderful contradiction that UNC paths must _never_ be used for subprocesses).\n\nI think @ellisonbg put HOMESHARE first, because that's the only way to get some parallel things to work on clusters.  The problem is, it's the wrong answer approximately everywhere else.\n\nCluster users are necessarily more advanced than local users, so maybe they should not be prioritized at the expense of everyone else.  If we fall back on os.path.expanduser('~'), then cluster users can trivially override the default with: `os.environ['HOME'] = os.environ['HOMESHARE']` (or equivalent in the shell, before starting Python).  The difference is, HOME is left to the user, whereas HOMESHARE/HOMEDRIVE/HOMEPATH are set by the system, so it makes sense that the easiest one to change should be the first priority, especially since it is already the first priority in Python itself.\n\nI should also note that on first glance, I think the [AvoidUNC shenanigans](https://github.com/ipython/ipython/blob/master/IPython/utils/_process_win32.py#L120) we have to do should be able to wrap os.system, just like they are used to wrap the subprocess.  I do not believe that the two are coupled.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/2678118",
    "html_url": "https://github.com/ipython/ipython/issues/970#issuecomment-2678118",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/970",
    "id": 2678118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzgxMTg=",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-09T06:52:36Z",
    "updated_at": "2011-11-09T06:52:36Z",
    "author_association": "MEMBER",
    "body": "I agree, esp. if it means  we can simplify some of our code over there and fall back on more stdlib code for this...\n"
  }
]
