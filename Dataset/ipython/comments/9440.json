[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217223214",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217223214",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217223214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzIyMzIxNA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T17:45:11Z",
    "updated_at": "2016-05-05T17:45:11Z",
    "author_association": "MEMBER",
    "body": "Thanks, we just landed a change in the completion machinery, so that might be a new issue (ping @Carreau @liukelly )\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217226472",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217226472",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217226472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzIyNjQ3Mg==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T17:57:21Z",
    "updated_at": "2016-05-05T17:57:21Z",
    "author_association": "MEMBER",
    "body": "@jonathanslenders can you provide a pip freeze, and an example of failing completion, I cannot reproduce :-( \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217257609",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217257609",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217257609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzI1NzYwOQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T19:49:29Z",
    "updated_at": "2016-05-05T19:49:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "It happens already after typing a lowercase `i` followed by `Tab`. It does not happen after typing an uppercase `I` followed by `Tab`.\n\nVariables in that frame:\n\n```\ntext='i'\npath=''\ndot=''\nlike='i'\ncompletions=[<Completion: id>, <Completion: if>, <Completion: import>, <Completion: ImportError>, <Completion: ImportWarning>, <Completion: In>, <Completion: in>, <Completion: IndentationError>, <Completion: IndexError>, <Completion: input>, <Completion: int>, <Completion: InterruptedError>, <Completion: IOError>, <Completion: is>, <Completion: IsADirectoryError>, <Completion: isinstance>, <Completion: issubclass>, <Completion: iter>]\n\ncompletions_text=['id', 'if', 'import', 'ImportError', 'ImportWarning', 'In', 'in', 'IndentationError', 'IndexError', 'input', 'int', 'InterruptedError', 'IOError', 'is', 'IsADirectoryError', 'isinstance', 'issubclass', 'iter']\n\ncompletion='ImportWarning'\n```\n\nSo I think the line `start_index = completion.index(text)` is wrong, because it looks for the lowercase `i` which does appear in the middle of the word.\n\n```\nipython-genutils==0.1.0                                                                                                    \njedi==0.9.0                                                                                                                \npexpect==4.0.1                                                                                                             \npickleshare==0.7.2                                                                                                         \nprompt-toolkit==1.0.0                                                                                                      \nptyprocess==0.5.1                                                                                                          \nPygments==2.1.3                                                                                                            \nsimplegeneric==0.8.1                                                                                                       \nsix==1.10.0                                                                                                                \ntraitlets==4.2.1                                                                                                           \nwcwidth==0.1.6                                                                                                             \nwheel==0.24.0  \n```\n\nPython 3.5.1\n\nAfter some experimenting, it looks completely unrelated to this pull request.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217265403",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217265403",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217265403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzI2NTQwMw==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T20:15:31Z",
    "updated_at": "2016-05-05T20:15:31Z",
    "author_association": "MEMBER",
    "body": "Ok, can reproduce, will track down. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217274156",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217274156",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217274156,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzI3NDE1Ng==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T20:48:51Z",
    "updated_at": "2016-05-05T20:48:51Z",
    "author_association": "MEMBER",
    "body": "So I have another bug that appear between PTK 01304ec08067787f515f079c82b59819a6d94690 and 1.0.0 , line buffer is never clear on submit and  completer never dismiss also:\n\n![bug](https://cloud.githubusercontent.com/assets/335567/15056734/0bc79bba-12c8-11e6-8c24-3ba2297a5a77.gif)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217275079",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217275079",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217275079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzI3NTA3OQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T20:50:51Z",
    "updated_at": "2016-05-05T20:50:51Z",
    "author_association": "MEMBER",
    "body": "This is the first bad commit. \n\n```\ngit bisect bad\nb5b1a16c8143b3430f7ad6c668c37cab8d919b99 is the first bad commit\ncommit b5b1a16c8143b3430f7ad6c668c37cab8d919b99\nAuthor: Jonathan Slenders <jonathan@slenders.be>\nDate:   Thu May 5 13:36:17 2016 +0200\n\n    Don't reset the current buffer anymore by default in CommandLineInterface.run(). This was very counter-intuitive.\n\n:040000 040000 205a6b79219345035070b4cf0579a993b36180b5 6eb6842972c037d7f769bd84ff980fc55ffd9094 M  prompt_toolkit\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217277528",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217277528",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217277528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzI3NzUyOA==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T20:56:17Z",
    "updated_at": "2016-05-05T20:56:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I know about that change, but I though that this was fixed in IPython.\nWe pass `reset_current_buffer=True` here: https://github.com/ipython/ipython/blob/master/IPython/terminal/ptshell.py#L303\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/217278124",
    "html_url": "https://github.com/ipython/ipython/pull/9440#issuecomment-217278124",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9440",
    "id": 217278124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzI3ODEyNA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T20:58:46Z",
    "updated_at": "2016-05-05T20:58:46Z",
    "author_association": "MEMBER",
    "body": "> Yes, I know about that change, but I though that this was fixed in IPython.\n> We pass reset_current_buffer=True here: https://github.com/ipython/ipython/blob/master/IPython/terminal/ptshell.py#L303\n\nMy bad, I did not pull since lunch. \n"
  }
]
