[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4038234",
    "html_url": "https://github.com/ipython/ipython/issues/1411#issuecomment-4038234",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1411",
    "id": 4038234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzgyMzQ=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-02-18T23:21:38Z",
    "updated_at": "2012-02-18T23:21:38Z",
    "author_association": "MEMBER",
    "body": "pasting my first reply, when this was posted on pyzmq:\n\nCheck the logs, that's what they are there for (`~/.ipython/profile_default/log`).  You can see the individual PIDs of the controller and engine if you start `ipcluster --debug`.\n\nWhen debugging, _always_ go back to starting engines and controller manually (with `ipcontroller --debug` and `ipengine --debug`) and see if you can reproduce the error without ipcluster.\n\nAlso note that the Controller is actually a collection of five processes, so ten processes does not suggest that there are eight engines.  Assuming client is running, then at most three engines are alive (10 - ipcontroller (5) - ipcluster - client = 3).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4038343",
    "html_url": "https://github.com/ipython/ipython/issues/1411#issuecomment-4038343",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1411",
    "id": 4038343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzgzNDM=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-02-18T23:38:38Z",
    "updated_at": "2012-02-18T23:38:38Z",
    "author_association": "MEMBER",
    "body": "Also, what versions of PyZMQ and IPython are you using?  If you aren't already, I would recommend updating to master.  \n\nThe most likely cause for your first engines failing to connect, and your later ones succeeding, if that is indeed the case, is probably that your engines are reading the old `ipcontroller_engines.json` before the controller is done configuring itself and writing a new one.  In master, the old connection file is deleted on clean shutdown, so this shouldn't happen under normal circumstances.  You can alleviate it with either of the following config:\n\nin ipcontroller_config.py:\n\n``` python\n# reuse the connection info, so it's always valid,\n# and it won't matter if engines load old files\nc.HubFactory.reuse_files = True\n```\n\nin ipcluster_config.py\n\n``` python\n# increase the delay before starting the first engine,\n# to reduce the likelihood of loading stale info\nc.IPClusterStart.delay = 10\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4039149",
    "html_url": "https://github.com/ipython/ipython/issues/1411#issuecomment-4039149",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1411",
    "id": 4039149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzkxNDk=",
    "user": {
      "login": "reckoner",
      "id": 173637,
      "node_id": "MDQ6VXNlcjE3MzYzNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/173637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reckoner",
      "html_url": "https://github.com/reckoner",
      "followers_url": "https://api.github.com/users/reckoner/followers",
      "following_url": "https://api.github.com/users/reckoner/following{/other_user}",
      "gists_url": "https://api.github.com/users/reckoner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reckoner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reckoner/subscriptions",
      "organizations_url": "https://api.github.com/users/reckoner/orgs",
      "repos_url": "https://api.github.com/users/reckoner/repos",
      "events_url": "https://api.github.com/users/reckoner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reckoner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-02-19T02:25:12Z",
    "updated_at": "2012-02-19T02:25:12Z",
    "author_association": "NONE",
    "body": "thanks.\n\nI created the ipcluster_config.py as you described and this has fixed \nthe problem. Note that there was not a default file available and I \ncreated the the ipcluster_config from scratch.\n\nThanks again!\n\nOn Saturday, February 18, 2012 3:38:38 PM, Min RK wrote:\n\n> Also, what versions of PyZMQ and IPython are you using?  If you aren't already, I would recommend updating to master.\n> \n> The most likely cause for your first engines failing to connect, and your later ones succeeding, if that is indeed the case, is probably that your engines are reading the old `ipcontroller_engines.json` before the controller is done configuring itself and writing a new one.  In master, the old connection file is deleted on clean shutdown, so this shouldn't happen under normal circumstances.  You can alleviate it with either of the following config:\n> \n> in ipcontroller_config.py:\n> \n> ``` python\n> # reuse the connection info, so it's always valid,\n> # and it won't matter if engines load old files\n> c.HubFactory.reuse_files = True\n> ```\n> \n> in ipcluster_config.py\n> \n> ``` python\n> # increase the delay before starting the first engine,\n> # to reduce the likelihood of loading stale info\n> c.IPClusterStart.delay = 10\n> ```\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/ipython/ipython/issues/1411#issuecomment-4038343\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/4039177",
    "html_url": "https://github.com/ipython/ipython/issues/1411#issuecomment-4039177",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1411",
    "id": 4039177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzkxNzc=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-02-19T02:30:14Z",
    "updated_at": "2012-02-19T02:30:14Z",
    "author_association": "MEMBER",
    "body": "ah, yes, I should have mentioned that you can generate the default config files with:\n\n```\n$> ipython profile create --parallel\n```\n\nGlad to hear that resolved the issue.\n"
  }
]
