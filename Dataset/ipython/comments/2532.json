[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/9901449",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-9901449",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 9901449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MDE0NDk=",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-10-30T10:54:56Z",
    "updated_at": "2012-10-30T10:54:56Z",
    "author_association": "MEMBER",
    "body": "Hi, \n\nI think this might be a mistake in django : \n`$ ipython`\n\n```\nIn [1]: names = ['carl', 'jim', 'jack', 'john', 'mark']\n\nIn [2]: n=1\n\nIn [3]: {name:n for name in names}\nOut[3]: {'carl': 1, 'jack': 1, 'jim': 1, 'john': 1, 'mark': 1}\n```\n\n`$django-admin.py startproject mysite`\n`cd mysite`\n`$ python manage.py shell`\n\n```\nIn [1]: names = ['carl', 'jim', 'jack', 'john', 'mark']\n\nIn [2]: n=1\n\nIn [3]: {name:n for name in names}\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/core/management/commands/shell.pyc in <module>()\n----> 1 {name:n for name in names}\n\n/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/core/management/commands/shell.pyc in <dictcomp>((name,))\n----> 1 {name:n for name in names}\n\nNameError: global name 'n' is not defined\n```\n\nBut my knowledge of django is ~ 0\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/9901520",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-9901520",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 9901520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MDE1MjA=",
    "user": {
      "login": "dhruvbaldawa",
      "id": 380197,
      "node_id": "MDQ6VXNlcjM4MDE5Nw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/380197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruvbaldawa",
      "html_url": "https://github.com/dhruvbaldawa",
      "followers_url": "https://api.github.com/users/dhruvbaldawa/followers",
      "following_url": "https://api.github.com/users/dhruvbaldawa/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruvbaldawa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruvbaldawa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruvbaldawa/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruvbaldawa/orgs",
      "repos_url": "https://api.github.com/users/dhruvbaldawa/repos",
      "events_url": "https://api.github.com/users/dhruvbaldawa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruvbaldawa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-10-30T10:58:13Z",
    "updated_at": "2012-10-30T11:00:35Z",
    "author_association": "NONE",
    "body": "@Carreau you use `python manage.py shell` to access Django models/methods/modules. Also, Django returns the corresponding instances, and not the `id`.\n\nThis is not a problem with Django, because the same syntax works in default python shell, you can try that using `python manage.py shell --plain`\n\nI understand the point you are making here, and I am not saying that django is perfect. But, we could investigate a little into this.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/9901701",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-9901701",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 9901701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MDE3MDE=",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-10-30T11:06:08Z",
    "updated_at": "2012-10-30T11:06:08Z",
    "author_association": "MEMBER",
    "body": "> > I think this might be a mistake in django : \n> \n> This is not a problem with Django, because the same syntax works in default python shell\n\nSorry, I was meaning the way django is launching IPython, I have no idea how manage.py does effectively decide to launch an IPython instance.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/9901730",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-9901730",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 9901730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MDE3MzA=",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-10-30T11:07:24Z",
    "updated_at": "2012-10-30T11:07:24Z",
    "author_association": "MEMBER",
    "body": "here is where IPython is launched from \nhttps://github.com/django/django/blob/master/django/core/management/commands/shell.py\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/9902000",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-9902000",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 9902000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MDIwMDA=",
    "user": {
      "login": "dhruvbaldawa",
      "id": 380197,
      "node_id": "MDQ6VXNlcjM4MDE5Nw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/380197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruvbaldawa",
      "html_url": "https://github.com/dhruvbaldawa",
      "followers_url": "https://api.github.com/users/dhruvbaldawa/followers",
      "following_url": "https://api.github.com/users/dhruvbaldawa/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruvbaldawa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruvbaldawa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruvbaldawa/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruvbaldawa/orgs",
      "repos_url": "https://api.github.com/users/dhruvbaldawa/repos",
      "events_url": "https://api.github.com/users/dhruvbaldawa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruvbaldawa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-10-30T11:18:15Z",
    "updated_at": "2012-10-30T11:18:15Z",
    "author_association": "NONE",
    "body": "I have IPython v0.13.\nTo me its just like getting and loading all the models, and then call `self.run_shell()` from line 64, and it calls `ipython()` from line 45. And, `embed()` provides the IPython shell. Any other thing, you can notice here ?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/9904300",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-9904300",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 9904300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MDQzMDA=",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-10-30T12:47:59Z",
    "updated_at": "2012-10-30T12:47:59Z",
    "author_association": "MEMBER",
    "body": "Seem to be what was discussed in #62.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/9910563",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-9910563",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 9910563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MTA1NjM=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-10-30T15:45:22Z",
    "updated_at": "2012-10-30T15:45:22Z",
    "author_association": "MEMBER",
    "body": "Hi, yes, we've come across this problem before - the trouble is that Django uses `embed()`, which is intended for something slightly different. I've been meaning to properly define what API Django (and other applications) should use, but I haven't got round to it yet.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/12464251",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-12464251",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 12464251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDY0MjUx",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-20T01:06:53Z",
    "updated_at": "2013-01-20T01:06:53Z",
    "author_association": "MEMBER",
    "body": "This bug has been fixed in django (by me).  Closing here.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21500677",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-21500677",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 21500677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTAwNjc3",
    "user": {
      "login": "johnpneumann",
      "id": 387735,
      "node_id": "MDQ6VXNlcjM4NzczNQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/387735?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/johnpneumann",
      "html_url": "https://github.com/johnpneumann",
      "followers_url": "https://api.github.com/users/johnpneumann/followers",
      "following_url": "https://api.github.com/users/johnpneumann/following{/other_user}",
      "gists_url": "https://api.github.com/users/johnpneumann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/johnpneumann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/johnpneumann/subscriptions",
      "organizations_url": "https://api.github.com/users/johnpneumann/orgs",
      "repos_url": "https://api.github.com/users/johnpneumann/repos",
      "events_url": "https://api.github.com/users/johnpneumann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/johnpneumann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-24T17:17:50Z",
    "updated_at": "2013-07-24T17:17:50Z",
    "author_association": "NONE",
    "body": "This does not appear to be fixed and looks like the same issue as in #62 \n\n``` python\nIn [1]: from datetime import datetime\n\nIn [2]: def test():\n   ...:     print datetime.now()\n   ...:\n\nIn [3]: test()\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n/Users/jneumann/svn/trunk/web/python/python-environments/pffenv/lib/python2.7/site-packages/django/core/management/commands/shell.pyc in <module>()\n----> 1 test()\n\n/Users/jneumann/svn/trunk/web/python/python-environments/pffenv/lib/python2.7/site-packages/django/core/management/commands/shell.pyc in test()\n      1 def test():\n----> 2     print datetime.now()\n      3\n\nNameError: global name 'datetime' is not defined\n\nIn [4]: names = ['carl', 'jim', 'jack', 'john', 'mark']\n\nIn [5]: n=1\n\nIn [6]: {name:n for name in names}\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n/Users/jneumann/svn/trunk/web/python/python-environments/pffenv/lib/python2.7/site-packages/django/core/management/commands/shell.pyc in <module>()\n----> 1 {name:n for name in names}\n\n/Users/jneumann/svn/trunk/web/python/python-environments/pffenv/lib/python2.7/site-packages/django/core/management/commands/shell.pyc in <dictcomp>((name,))\n----> 1 {name:n for name in names}\n\nNameError: global name 'n' is not defined\n\n```\n\nTested this in Django 1.5 and 1.5.1\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21517336",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-21517336",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 21517336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTE3MzM2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-24T21:24:02Z",
    "updated_at": "2013-07-24T21:24:02Z",
    "author_association": "MEMBER",
    "body": "I believe the fix is in django 1.6, not 1.5.  Fixed versions of django don't use embedded IPython at all (it never should have), which is the relevant fix.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21570120",
    "html_url": "https://github.com/ipython/ipython/issues/2532#issuecomment-21570120",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2532",
    "id": 21570120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTcwMTIw",
    "user": {
      "login": "johnpneumann",
      "id": 387735,
      "node_id": "MDQ6VXNlcjM4NzczNQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/387735?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/johnpneumann",
      "html_url": "https://github.com/johnpneumann",
      "followers_url": "https://api.github.com/users/johnpneumann/followers",
      "following_url": "https://api.github.com/users/johnpneumann/following{/other_user}",
      "gists_url": "https://api.github.com/users/johnpneumann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/johnpneumann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/johnpneumann/subscriptions",
      "organizations_url": "https://api.github.com/users/johnpneumann/orgs",
      "repos_url": "https://api.github.com/users/johnpneumann/repos",
      "events_url": "https://api.github.com/users/johnpneumann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/johnpneumann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-25T17:24:41Z",
    "updated_at": "2013-07-25T17:24:41Z",
    "author_association": "NONE",
    "body": "Got it. Thanks for the information. Well the easiest way to get around this issue is to just grab the following lines (from here https://github.com/django/django/blob/master/django/core/management/commands/shell.py) and replace the current implementation in your pyenv with this:\n\n``` python\n    def ipython(self):\n        try:\n            from IPython.frontend.terminal.ipapp import TerminalIPythonApp\n            app = TerminalIPythonApp.instance()\n            app.initialize(argv=[])\n            app.start()\n        except ImportError:\n            # IPython < 0.11\n            # Explicitly pass an empty list as arguments, because otherwise\n            # IPython would use sys.argv from this script.\n            try:\n                from IPython.Shell import IPShell\n                shell = IPShell(argv=[])\n                shell.mainloop()\n            except ImportError:\n                # IPython not found at all, raise ImportError\n                raise\n```\n\nWhich would be located in the same location. Seemed to be a backwards compatible 1.5 change from what I've tested thus far. Thanks for the help @minrk \n"
  }
]
