[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/275321399",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-275321399",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 275321399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTMyMTM5OQ==",
    "user": {
      "login": "FluxIX",
      "id": 12216177,
      "node_id": "MDQ6VXNlcjEyMjE2MTc3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12216177?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FluxIX",
      "html_url": "https://github.com/FluxIX",
      "followers_url": "https://api.github.com/users/FluxIX/followers",
      "following_url": "https://api.github.com/users/FluxIX/following{/other_user}",
      "gists_url": "https://api.github.com/users/FluxIX/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FluxIX/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FluxIX/subscriptions",
      "organizations_url": "https://api.github.com/users/FluxIX/orgs",
      "repos_url": "https://api.github.com/users/FluxIX/repos",
      "events_url": "https://api.github.com/users/FluxIX/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FluxIX/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T07:08:24Z",
    "updated_at": "2017-01-26T07:08:24Z",
    "author_association": "NONE",
    "body": "It would appear to be a use-after-delete error, possibly caused by a race condition between the two threads."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/275367125",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-275367125",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 275367125,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTM2NzEyNQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T11:28:36Z",
    "updated_at": "2017-01-26T11:28:36Z",
    "author_association": "MEMBER",
    "body": "As IPython is written in pure Python code, we can't be the *direct* cause of segfaults, and we can't help much with debugging them."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/275373396",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-275373396",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 275373396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTM3MzM5Ng==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T12:06:37Z",
    "updated_at": "2017-01-26T12:06:37Z",
    "author_association": "MEMBER",
    "body": "It could be in the osx inputhook, which calls objc directly via ctypes. This stack segment suggests this could be the case:\r\n\r\n```\r\n20  com.apple.AppKit              \t0x00007fff736b0f35 -[NSApplication run] + 926\r\n21  _ctypes.so                    \t0x0000000106c9f127 ffi_call_unix64 + 79\r\n22  _ctypes.so                    \t0x0000000106c9f96c ffi_call + 876\r\n23  _ctypes.so                    \t0x0000000106c9acaa _ctypes_callproc + 986\r\n24  _ctypes.so                    \t0x0000000106c95095 PyCFuncPtr_call + 965\r\n25  libpython3.5m.dylib           \t0x000000010000fd73 PyObject_Call + 99\r\n```\r\n\r\nIt would help to have a set of reproduction steps that cause this at least sometimes. I can't seem to trigger it with my experiments."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/275421228",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-275421228",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 275421228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTQyMTIyOA==",
    "user": {
      "login": "lzkelley",
      "id": 3839265,
      "node_id": "MDQ6VXNlcjM4MzkyNjU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3839265?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lzkelley",
      "html_url": "https://github.com/lzkelley",
      "followers_url": "https://api.github.com/users/lzkelley/followers",
      "following_url": "https://api.github.com/users/lzkelley/following{/other_user}",
      "gists_url": "https://api.github.com/users/lzkelley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lzkelley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lzkelley/subscriptions",
      "organizations_url": "https://api.github.com/users/lzkelley/orgs",
      "repos_url": "https://api.github.com/users/lzkelley/repos",
      "events_url": "https://api.github.com/users/lzkelley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lzkelley/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T15:41:58Z",
    "updated_at": "2017-01-26T15:41:58Z",
    "author_association": "NONE",
    "body": "Thanks all.  The error also occurs when exiting with `Ctrl-D`, so an issue with inputhooks sounds reasonable.  I'll try to figure out some reproducible steps..."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/278468581",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-278468581",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 278468581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODQ2ODU4MQ==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-08T21:33:38Z",
    "updated_at": "2017-02-08T21:33:38Z",
    "author_association": "MEMBER",
    "body": "@minrk I was getting similar crashes today on 10.12.3 when running tests on jupyterhub. I think it may be a CPython error based on the crash output log. It seems to be a crash of the dispatch queue of the apple main thread.\r\n```\r\nLogical CPU:     0\r\nError Code:      0x02000148\r\nTrap Number:     133\r\n```\r\nI was able to trigger the error intermittently by running `pytest --durations=15`. Interestingly python app failed but pytest continued running through all the tests and passed."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/278472150",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-278472150",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 278472150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODQ3MjE1MA==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-08T21:47:42Z",
    "updated_at": "2017-02-08T21:47:42Z",
    "author_association": "MEMBER",
    "body": "I believe that this is related to https://bugs.python.org/issue27126 and libdispatch.dylib when fork is used. "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/281971093",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-281971093",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 281971093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTk3MTA5Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T11:45:33Z",
    "updated_at": "2017-02-23T11:45:33Z",
    "author_association": "MEMBER",
    "body": "Bumped this to wishlist as it doesn't sound like we can necessarily fix it, and I don't want it to hold the 5.3 release up. Feel free to set the milestone back to any future release when you think we can tackle it."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/313867606",
    "html_url": "https://github.com/ipython/ipython/issues/10200#issuecomment-313867606",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10200",
    "id": 313867606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzg2NzYwNg==",
    "user": {
      "login": "jdmonaco",
      "id": 370169,
      "node_id": "MDQ6VXNlcjM3MDE2OQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/370169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdmonaco",
      "html_url": "https://github.com/jdmonaco",
      "followers_url": "https://api.github.com/users/jdmonaco/followers",
      "following_url": "https://api.github.com/users/jdmonaco/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdmonaco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdmonaco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdmonaco/subscriptions",
      "organizations_url": "https://api.github.com/users/jdmonaco/orgs",
      "repos_url": "https://api.github.com/users/jdmonaco/repos",
      "events_url": "https://api.github.com/users/jdmonaco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdmonaco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-08T16:52:49Z",
    "updated_at": "2017-07-08T16:52:49Z",
    "author_association": "NONE",
    "body": "As a user, I wanted to chime in here to say I've also been having these segfaults. It sometimes happens many times a day as much of my code automatically drops into pdb on exceptions which seems to trigger the crashes. Opening or closing matplotlib figures (macosx backend) also triggers the crashes. It almost always happens after switching away from iTerm2/IPython for some period of time; I'll come back to the session and it will usually segfault within the next few commands. My crash report stack looks very similar to the original post here. \r\n\r\nPython 3.4.5\r\nIPython 5.0.0 (anaconda; running in tmux/iTerm2)\r\nOSX 10.11.6 (15G1510)\r\n(Lack of updates is due to being in the middle a long-running project.)\r\n\r\nThis has been the most disruptive issue I've had working in IPython. I don't do extensive interactive sessions anymore since the workspace can just disappear at any time. Anyway, this is a major issue impacting how I use IPython. Thanks for listening."
  }
]
