[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85673741",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85673741",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85673741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjczNzQx",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-24T20:10:31Z",
    "updated_at": "2015-03-24T20:10:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Would you be able to provide sample code that reproduces (even if intermittently) this issue?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85710448",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85710448",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85710448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzEwNDQ4",
    "user": {
      "login": "moble",
      "id": 1470769,
      "node_id": "MDQ6VXNlcjE0NzA3Njk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1470769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moble",
      "html_url": "https://github.com/moble",
      "followers_url": "https://api.github.com/users/moble/followers",
      "following_url": "https://api.github.com/users/moble/following{/other_user}",
      "gists_url": "https://api.github.com/users/moble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moble/subscriptions",
      "organizations_url": "https://api.github.com/users/moble/orgs",
      "repos_url": "https://api.github.com/users/moble/repos",
      "events_url": "https://api.github.com/users/moble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-24T21:59:36Z",
    "updated_at": "2015-03-24T21:59:36Z",
    "author_association": "NONE",
    "body": "Ah, yes I can!  And it's even reproducible!  I've never been able to make this reproducible before.\n\nOpen [this notebook](http://nbviewer.ipython.org/gist/moble/934ba7a003a3a9ca992c).  You might have to evaluate the cells to make sure the output is actually SVG; if so I don't know of any way to do this without the following line in `ipython_config.py`:\n\n``` python\nc.InlineBackend.figure_format = 'svg'\n```\n\nAnyway, once you've got all three figures as SVG, delete the middle one.  This does it every time for me.  The badness also happens for me in existing figures when I'm evaluating a new one.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85760651",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85760651",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85760651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzYwNjUx",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T00:37:45Z",
    "updated_at": "2015-03-25T00:37:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you. I also can reproduce it . Very interesting bug. \n\nFirst of all, let me simplify your example:\n\n```\nimport numpy as nps\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\n%config InlineBackend.figure_format = 'svg'\n%matplotlib inline\nsize=2\n\nplt.hist(np.random.random(size), log=True) # run in one cell\n\nplt.hist(np.random.random(size), log=True) # run in another cell\n```\n\nNow delete the first one and look at the second plot. The issue should appear.\n\nThe interesting thing is that this only happens when:\n1. We are plotting in logarithmic scale (`log=True`). \n2. The plot that is deleted has the same type than the second plot. If we use `plt.bar` and `plt.hist`, the second plot is not modified after deleting the first. The second plot is also restored after printing another plot of the same type.\n3. Using Chrome. In Firefox, everything looks alright.\n\nBefore deleting the first plot:\n\n![screenshot from 2015-03-24 17 44 40](https://cloud.githubusercontent.com/assets/599274/6815926/debc64be-d251-11e4-9a8f-385459886426.png)\n\nAfter deleting the first plot:\n\n![screenshot from 2015-03-24 17 44 55](https://cloud.githubusercontent.com/assets/599274/6815933/110c0582-d252-11e4-9b06-398c3f548b19.png)\n\nAfter printing another plot of different type:\n\n![screenshot from 2015-03-24 17 45 21](https://cloud.githubusercontent.com/assets/599274/6815940/33320fc6-d252-11e4-8de6-63362e9e665f.png)\n\nAfter printing another plot of the same type (in this case, `plt.hist`):\n\n![screenshot from 2015-03-24 17 45 39](https://cloud.githubusercontent.com/assets/599274/6815954/4fe6f280-d252-11e4-99ef-05bcb8c61019.png)\n\nAfter diffing the whole HTML of the notebook before and after deleting the first plot, I wasn't able to find a significant difference. The paths are the same and axes don't seem to be modified. The positions of the paths seem to change (or the axes)  but that wasn't reflected in the diff. The only thing I noticed that might cause issues is that every svg plot has the same ids. For example:  \n\n```\n <g id=\"figure_1\">    \n        <g id=\"patch_1\">...</g>\n        <g id=\"axes_1>...</g>\n </g>\n```\n\nbut I don't think that is the problem here.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85809840",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85809840",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85809840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODA5ODQw",
    "user": {
      "login": "moble",
      "id": 1470769,
      "node_id": "MDQ6VXNlcjE0NzA3Njk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1470769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moble",
      "html_url": "https://github.com/moble",
      "followers_url": "https://api.github.com/users/moble/followers",
      "following_url": "https://api.github.com/users/moble/following{/other_user}",
      "gists_url": "https://api.github.com/users/moble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moble/subscriptions",
      "organizations_url": "https://api.github.com/users/moble/orgs",
      "repos_url": "https://api.github.com/users/moble/repos",
      "events_url": "https://api.github.com/users/moble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T03:18:22Z",
    "updated_at": "2015-03-25T03:18:22Z",
    "author_association": "NONE",
    "body": "> After diffing the whole HTML of the notebook before and after deleting the first plot, I wasn't able to find a significant difference.\n\nYeah, I'd doubt that it'd be HTML; it comes and goes (and comes and goes again) depending on various actions in the notebook.\n\nI think it's really just that the data points are failing to be clipped by the axes rectangle.  But why this should fail intermittently is the question.\n\nAnother data point: I can use just plain `plot`s, with no log scaling, and get extra data to appear on all four sides of the axes:\n\n![matplotlibsvgnotebookbug2](https://cloud.githubusercontent.com/assets/1470769/6817728/2c9b4a78-d27b-11e4-820a-494f771aea1c.png)\n\nSo I guess it's just a generic feature of the SVG, whenever the range of the data being plotted is larger than the range of the `xlim` and `ylim` values.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85813883",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85813883",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85813883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODEzODgz",
    "user": {
      "login": "moble",
      "id": 1470769,
      "node_id": "MDQ6VXNlcjE0NzA3Njk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1470769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moble",
      "html_url": "https://github.com/moble",
      "followers_url": "https://api.github.com/users/moble/followers",
      "following_url": "https://api.github.com/users/moble/following{/other_user}",
      "gists_url": "https://api.github.com/users/moble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moble/subscriptions",
      "organizations_url": "https://api.github.com/users/moble/orgs",
      "repos_url": "https://api.github.com/users/moble/repos",
      "events_url": "https://api.github.com/users/moble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T03:33:44Z",
    "updated_at": "2015-03-25T03:33:44Z",
    "author_association": "NONE",
    "body": "I should also point out that I used a completely new profile to do this, with absolutely no changes to `ipython_config.py`, `custom.js`, etc.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85827413",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85827413",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85827413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODI3NDEz",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T04:17:01Z",
    "updated_at": "2015-03-25T04:17:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Okay. I still can't decide who is at fault here. This is the evidence so far:\n\nIf you delete the node that contains the first plot (that is, delete its SVG information)  using the Developer Tools in Chrome, then you obtain the same bug.\n\nNow, after copying (twice) the SVG code to a HTML file and opening the file in Chrome, you get a huge plot (due to `width: 100%;` and `height: 100%;`). Try to delete the first plot (again with the Developer Tools) and at first nothing wrong happens, but zoom-in or zoom-out and you're going to obtain the same bug:\n\n![screenshot from 2015-03-24 21 31 09](https://cloud.githubusercontent.com/assets/599274/6817920/1e83a9b6-d26d-11e4-8ebc-c26954d245b3.png)\n\nBy the way, after that, I removed the additional properties that Ipython is including in the SVG. The reason is that Firefox wasn't rendering correctly the plots. I don't think most of them are needed anyway.\n\nFirefox (after removing additional attributes in SVG):\n![screenshot from 2015-03-24 21 33 08](https://cloud.githubusercontent.com/assets/599274/6817953/a5001aec-d26d-11e4-9e7e-c2e0a1588cf5.png)\n\nThat seems upside down. However, if I zoom in, I get this:\n\n![screenshot from 2015-03-24 21 36 27](https://cloud.githubusercontent.com/assets/599274/6817973/da4bd934-d26d-11e4-8d66-bcafec731969.png)\n\nWhen I zoom in even further the plot switches between bars starting from the top and the bottom. \n\nIn Chrome, we get more consistency (even though the plot is wrong)\n\n![screenshot from 2015-03-24 22 14 57](https://cloud.githubusercontent.com/assets/599274/6818337/4a3f4712-d273-11e4-9444-93e2b9460e30.png)\n\nI'm thinking the generated plots might not be valid SVG (or at least, they are obviously not standard). That could be the problem. Does anyone know a good SVG validator? I found a couple but the results were not satisfactory. One of them pointed out that the SVG has one error in the property xlink:href in this line: `<use style=\"stroke:#000000;stroke-width:0.5;\" x=\"30.5\" xlink:href=\"#m93b0483c22\" y=\"230.4\"></use>` but I'm not completely convinced about it.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85849288",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85849288",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85849288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODQ5Mjg4",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T05:28:07Z",
    "updated_at": "2015-03-25T05:28:07Z",
    "author_association": "MEMBER",
    "body": "Could browser svg rendering be buggy? I don't think there are many svgs out\nthere on the web, because IE didn't used to support them (possibly still\ndoesn't), so it may not be something that has received as much attention.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/85862711",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-85862711",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 85862711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODYyNzEx",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T06:03:45Z",
    "updated_at": "2015-03-25T06:03:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@takluyver Very unlikely. As an example, the New York Times is full of SVGs and work very well. [caniuse](http://caniuse.com/#search=svg) shows that support among browsers is reasonable. I also tested Mike Bostock's example of a histogram (copied the d3 code twice to generate two histograms) and  the bug didn't appear, although the example is admittedly very simple. \n\nI think the main indicator that the generated SVG might be suboptimal is that Firefox and Chrome have different issues displaying it.  As I said, I had to remove many attributes in the SVG tag because Firefox didn't want to render the plots. However, the picture is complicated by the fact that Firefox rendered the plots correctly within the notebook.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/86011916",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-86011916",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 86011916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDExOTE2",
    "user": {
      "login": "moble",
      "id": 1470769,
      "node_id": "MDQ6VXNlcjE0NzA3Njk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1470769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moble",
      "html_url": "https://github.com/moble",
      "followers_url": "https://api.github.com/users/moble/followers",
      "following_url": "https://api.github.com/users/moble/following{/other_user}",
      "gists_url": "https://api.github.com/users/moble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moble/subscriptions",
      "organizations_url": "https://api.github.com/users/moble/orgs",
      "repos_url": "https://api.github.com/users/moble/repos",
      "events_url": "https://api.github.com/users/moble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T12:51:57Z",
    "updated_at": "2015-03-25T12:51:57Z",
    "author_association": "NONE",
    "body": "Safari has the same problem as Chrome, so I'd be a little surprised if it's a rendering bug -- though not hugely surprised.\n\nBTW I've boiled it down to a particularly simple test case:\n\n``` python\nplt.plot([0, 1], [0, 1])\nplt.xlim(0.1, 0.9)\nplt.ylim(0.1, 0.9);\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/86121049",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-86121049",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 86121049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTIxMDQ5",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T16:57:29Z",
    "updated_at": "2015-03-25T16:57:29Z",
    "author_association": "MEMBER",
    "body": "Safari and Chrome both use the Webkit rendering engine (technically, Chrome uses Blink, which is a fork of Webkit), so it's possible that they are inheriting the same underlyign bug.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/86157314",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-86157314",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 86157314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTU3MzE0",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T18:18:46Z",
    "updated_at": "2015-03-25T18:18:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, Safari and Chrome are likely to share the same bug. In my opinion, the best argument in favor of a browser bug is that the second SVG code is not changing at all after deleting the first plot. On the other hand,  I tried to replicate the bug with this [histogram](http://upload.wikimedia.org/wikipedia/commons/8/8e/Histogram_example.svg) from Wikipedia but no luck so far.  \n\nThere might be a middle ground, though. We are generating a tricky SVG to handle. It is using a lot of paths for things that are better done using `rect` or `polygon` and adding properties that are not necessary when rendering HTML documents. Maybe that is exposing some bug in the browsers. However, it is also difficult to explain why it is exposing different bugs and at least in Firefox, overall unstable behavior. Furthermore, we are generating different SVGs (bar, hist, plot) and all of them reproduce the same issue. Assuming our SVGs are correct, that's quite a coincidence.  \n\nIt is also interesting that the example using `plot` can reproduce this issue but removing `log=True` in the other examples avoids the problem.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/86161131",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-86161131",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 86161131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTYxMTMx",
    "user": {
      "login": "moble",
      "id": 1470769,
      "node_id": "MDQ6VXNlcjE0NzA3Njk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1470769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moble",
      "html_url": "https://github.com/moble",
      "followers_url": "https://api.github.com/users/moble/followers",
      "following_url": "https://api.github.com/users/moble/following{/other_user}",
      "gists_url": "https://api.github.com/users/moble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moble/subscriptions",
      "organizations_url": "https://api.github.com/users/moble/orgs",
      "repos_url": "https://api.github.com/users/moble/repos",
      "events_url": "https://api.github.com/users/moble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T18:30:19Z",
    "updated_at": "2015-03-25T18:31:36Z",
    "author_association": "NONE",
    "body": "> It is also interesting that the example using plot can reproduce this issue but removing log=True in the other examples avoids the problem.\n\nI think that's just a coincidence of the limits.  With `log=False`, the bars of the histogram range between y=0 and y=1 (or higher), but the limits _also_ go from y=0 to y=1 (or higher), so all of the plotted stuff is within the limits, and there's nothing to be displayed incorrectly.  With `log=True`, the bars extend infinitely(ish) far down, but the ylimit has some finite minimum, so the bars can be accidentally displayed.\n\nThat's why I think `plot` is the more useful case; as long as there's data outside the limits, it looks like there's potential for that data to be accidentally displayed.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/86194668",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-86194668",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 86194668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTk0NjY4",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T19:58:39Z",
    "updated_at": "2015-03-25T20:07:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moble You're quite right. I found something interesting using this minimal example:\n\n```\nplt.plot([0.5], [0.5], 'bo')\nplt.xlim(0, 0.5)\n```\n\nI copied twice the SVG code:\n\n![screenshot from 2015-03-25 13 52 37](https://cloud.githubusercontent.com/assets/599274/6833947/3e95d272-d2f6-11e4-8930-afd68a148d35.png)\n\nbut now, I deleted the first node `<defs>`:\n\n```\n<defs>\n  <style type=\"text/css\">\n *{stroke-linecap:butt;stroke-linejoin:round;}\n  </style>\n</defs>\n```\n\nin both SVGs. Then I delete the first SVG. The resulting image is finally correct:\n\n![screenshot from 2015-03-25 13 55 54](https://cloud.githubusercontent.com/assets/599274/6834020/b533bf66-d2f6-11e4-8fae-f070eaf53b9f.png)\n\nIf I delete, for example, the last `<defs>` or a path, the bug persists:\n\n![screenshot from 2015-03-25 13 57 45](https://cloud.githubusercontent.com/assets/599274/6834051/f1fa74bc-d2f6-11e4-800c-9831813b54a9.png)\n\nUPDATE: Forgot to clarify: The rule inside `<defs>` is the problem, not the tag or `<script>`.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/89448457",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-89448457",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 89448457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NDQ4NDU3",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-03T23:15:57Z",
    "updated_at": "2015-04-03T23:15:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moble @takluyver Can you replicate the observation that removing the rule inside `<defs>` solves this issue?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/89499668",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-89499668",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 89499668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NDk5NjY4",
    "user": {
      "login": "moble",
      "id": 1470769,
      "node_id": "MDQ6VXNlcjE0NzA3Njk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1470769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moble",
      "html_url": "https://github.com/moble",
      "followers_url": "https://api.github.com/users/moble/followers",
      "following_url": "https://api.github.com/users/moble/following{/other_user}",
      "gists_url": "https://api.github.com/users/moble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moble/subscriptions",
      "organizations_url": "https://api.github.com/users/moble/orgs",
      "repos_url": "https://api.github.com/users/moble/repos",
      "events_url": "https://api.github.com/users/moble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-04T04:29:30Z",
    "updated_at": "2015-04-04T04:29:30Z",
    "author_association": "NONE",
    "body": "No, it doesn't work for me -- unless I'm misunderstanding you.  I tried your experiment of copying the SVG twice into an HTML file, then delete one using developer tools.  I got the out-of-bounds lines.  Then I went into the HTML file and deleted the `<defs>` sections from both SVGs, full refreshed the page, deleted one, and zoomed, and I saw the problem again.  You can see in my screenshot that the `defs` section isn't there:\n\n![screenshot](https://cloud.githubusercontent.com/assets/1470769/6991419/86bd4662-da61-11e4-9b01-381e477a23c0.png)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/89505364",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-89505364",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 89505364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NTA1MzY0",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-04T05:02:09Z",
    "updated_at": "2015-04-04T05:02:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moble Interesting. Let me try again.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/89513014",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-89513014",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 89513014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NTEzMDE0",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-04T06:34:03Z",
    "updated_at": "2015-04-04T06:38:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moble Okay. I have reproduced the problem in a very simple SVG:\n\n```\n<svg width=\"120\" height=\"120\"\n     viewPort=\"0 0 120 120\" version=\"1.1\"\n     xmlns=\"http://www.w3.org/2000/svg\">\n\n    <defs>\n        <clipPath id=\"myClip\" >\n            <rect x=\"0\" y=\"0\" width=\"97\" height=\"97\" />\n        </clipPath>\n    </defs>\n    <g clip-path=\"url(#myClip)\">\n        <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"blue\" />\n        <circle cx=\"97\" cy=\"50\" r=\"5\" fill=\"red\"/> \n    </g>\n</svg>\n\n\n<svg width=\"120\" height=\"120\"\n     viewPort=\"0 0 120 120\" version=\"1.1\"\n     xmlns=\"http://www.w3.org/2000/svg\">\n\n    <defs>\n        <clipPath id=\"myClip\" >\n            <rect x=\"0\" y=\"0\" width=\"97\" height=\"97\" />\n        </clipPath>\n    </defs>\n    <g clip-path=\"url(#myClip)\">\n        <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"blue\" />\n        <circle cx=\"97\" cy=\"50\" r=\"5\" fill=\"red\"/> \n    </g>\n</svg>\n```\n\nIn the developer tools, delete one of the figures and zoom in. The circle will be shown outside of the boundary.\n\nI can't explain exactly what is happening, but the problem is related to the clipping mask applied in  `<defs>`. When we zoom in (or zoom out), the clipping mask doesn't seem to scale correctly but this only happens after removing one of the figures. The issue here is that both figures have the same `id` property for the `clipPath` element. If you change one of them (e.g. `<clipPath id=\"myClip2\">`), then this issue should be solved (remember also change it in `<g clip-path=\"url(#myClip2)\">`).\n\nBefore:\n\n![screenshot from 2015-04-04 00 28 22](https://cloud.githubusercontent.com/assets/599274/6991707/014b40b4-da62-11e4-98c1-db6eb41f0828.png)\n\nAfter:\n\n![screenshot from 2015-04-04 00 30 38](https://cloud.githubusercontent.com/assets/599274/6991708/08c80d2c-da62-11e4-80ad-584bf38ed6c3.png)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/89601176",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-89601176",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 89601176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NjAxMTc2",
    "user": {
      "login": "moble",
      "id": 1470769,
      "node_id": "MDQ6VXNlcjE0NzA3Njk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1470769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moble",
      "html_url": "https://github.com/moble",
      "followers_url": "https://api.github.com/users/moble/followers",
      "following_url": "https://api.github.com/users/moble/following{/other_user}",
      "gists_url": "https://api.github.com/users/moble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moble/subscriptions",
      "organizations_url": "https://api.github.com/users/moble/orgs",
      "repos_url": "https://api.github.com/users/moble/repos",
      "events_url": "https://api.github.com/users/moble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-04T15:42:10Z",
    "updated_at": "2015-04-04T15:42:10Z",
    "author_association": "NONE",
    "body": "That certainly explains that.  And for the naive MWE above, I can verify that the clipPath id is the same in each case.  But then, I can also change the parameters of the graph and get the same clipPath.  So apparently, either whatever is being hashed to produce the id either isn't complete enough, or the hash isn't updated for changes in the plot.  Any idea where that id comes from?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/89623415",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-89623415",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 89623415,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NjIzNDE1",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-04T17:32:59Z",
    "updated_at": "2015-04-04T17:32:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moble \n\nSure. `id` is created [here](https://github.com/matplotlib/matplotlib/blob/481d8202746010b993c07c644ac448d52968f191/lib/matplotlib/backends/backend_svg.py#L310). As you can see, matplotlib is only using content information in the hash. I think a solution would be to include an extra parameter with a randomly generated value to prevent the current bug. However, they could be relying on the current behavior in some tests, so it is better to open an issue and let them know what is happening.\n\n@takluyver I think you can close this issue in favor of opening another in the matplotlib repository.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/92982980",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-92982980",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 92982980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyOTgyOTgw",
    "user": {
      "login": "abreslow",
      "id": 2151993,
      "node_id": "MDQ6VXNlcjIxNTE5OTM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2151993?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abreslow",
      "html_url": "https://github.com/abreslow",
      "followers_url": "https://api.github.com/users/abreslow/followers",
      "following_url": "https://api.github.com/users/abreslow/following{/other_user}",
      "gists_url": "https://api.github.com/users/abreslow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abreslow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abreslow/subscriptions",
      "organizations_url": "https://api.github.com/users/abreslow/orgs",
      "repos_url": "https://api.github.com/users/abreslow/repos",
      "events_url": "https://api.github.com/users/abreslow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abreslow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-14T17:07:42Z",
    "updated_at": "2015-04-14T17:07:42Z",
    "author_association": "NONE",
    "body": "Can you provide a pointer to that issue?  I posted this on StackOverflow: http://stackoverflow.com/questions/29616764/matplotlib-savefig-produces-incorrect-svg-image-for-bar-chart-with-log-scaled-y\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/93051239",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-93051239",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 93051239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMDUxMjM5",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-14T20:33:58Z",
    "updated_at": "2015-04-14T20:47:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@abreslow Well, I think your problem is not really related with this particular issue and your code works okay in the IPython Notebook. However, this is the problem:\n\nYour SVG is defining a clipping mask at the end of the file:\n\n```\n <defs>\n  <clipPath id=\"p124b8dd147\">\n   <rect height=\"223.2\" width=\"334.8\" x=\"54.0\" y=\"28.8\"/>\n  </clipPath>\n </defs>\n```\n\nThe browser seems to be flexible about this, but you usually want to create your definitions `<defs>` at the top of the SVG code.  Unfortunately, matplotlib is placing clipping masks at the bottom and this is causing your problem. For example, if you move your clipping mask as follows:\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n  \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Created with matplotlib (http://matplotlib.org/) -->\n<svg height=\"288pt\" version=\"1.1\" viewBox=\"0 0 432 288\" width=\"432pt\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n <defs>\n  <style type=\"text/css\">\n*{stroke-linecap:butt;stroke-linejoin:round;}\n  </style>\n </defs>\n <defs>\n  <clipPath id=\"p124b8dd147\">\n   <rect height=\"223.2\" width=\"334.8\" x=\"54.0\" y=\"28.8\"/>\n  </clipPath>\n </defs>\n```\n\nyou will see the correct plot:\n\n![screenshot from 2015-04-14 15 29 30](https://cloud.githubusercontent.com/assets/599274/7146695/11f715a8-e2bb-11e4-9dd6-5deba796039e.png)\n\nEven trivial examples such as this: \n\n```\n<?xml version=\"1.0\"?>\n<svg width=\"120\" height=\"120\"\n     viewPort=\"0 0 120 120\" version=\"1.1\"\n     xmlns=\"http://www.w3.org/2000/svg\">\n\n    <defs>\n        <clipPath id=\"myClip\">\n            <circle cx=\"30\" cy=\"30\" r=\"20\"/>\n            <circle cx=\"70\" cy=\"70\" r=\"20\"/>\n        </clipPath>\n    </defs>\n\n    <rect x=\"10\" y=\"10\" width=\"100\" height=\"100\"\n          clip-path=\"url(#myClip)\"/>\n\n</svg>\n```\n\nwill fail if you put your clipping mask at the bottom.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/93123937",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-93123937",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 93123937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMTIzOTM3",
    "user": {
      "login": "abreslow",
      "id": 2151993,
      "node_id": "MDQ6VXNlcjIxNTE5OTM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2151993?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abreslow",
      "html_url": "https://github.com/abreslow",
      "followers_url": "https://api.github.com/users/abreslow/followers",
      "following_url": "https://api.github.com/users/abreslow/following{/other_user}",
      "gists_url": "https://api.github.com/users/abreslow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abreslow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abreslow/subscriptions",
      "organizations_url": "https://api.github.com/users/abreslow/orgs",
      "repos_url": "https://api.github.com/users/abreslow/repos",
      "events_url": "https://api.github.com/users/abreslow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abreslow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-15T00:33:05Z",
    "updated_at": "2015-04-15T00:33:05Z",
    "author_association": "NONE",
    "body": "Thanks @rsmith31415.\n\nOn Tue, Apr 14, 2015 at 1:34 PM, rsmith31415 notifications@github.com\nwrote:\n\n> @abreslow https://github.com/abreslow Well, I think your problem is not\n> really related with this particular issue and your code works okay in the\n> IPython Notebook. However, this is the problem:\n> \n> Your SVG is defining a clipping mask at the end of the file:\n> \n>  <defs>\n>   <clipPath id=\"p124b8dd147\">\n>    <rect height=\"223.2\" width=\"334.8\" x=\"54.0\" y=\"28.8\"/>\n>   </clipPath>\n>  </defs>\n> \n> The browser seems to be flexible about this, but you usually want to\n> create your definitions <def> at the top of the SVG code. Unfortunately,\n> matplotlib is placing clipping masks at the bottom and this is causing your\n> problem. For example, if you move your clipping mask as follows:\n> \n> <?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?>\n> <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n>   \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n> \n> <!-- Created with matplotlib (http://matplotlib.org/) -->\n> \n> <svg height=\"288pt\" version=\"1.1\" viewBox=\"0 0 432 288\" width=\"432pt\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n>  <defs>\n>   <style type=\"text/css\">\n> *{stroke-linecap:butt;stroke-linejoin:round;}\n>   </style>\n>  </defs>\n>  <defs>\n>   <clipPath id=\"p124b8dd147\">\n>    <rect height=\"223.2\" width=\"334.8\" x=\"54.0\" y=\"28.8\"/>\n>   </clipPath>\n>  </defs>\n> \n> you will see the correct plot:\n> \n> [image: screenshot from 2015-04-14 15 29 30]\n> https://cloud.githubusercontent.com/assets/599274/7146695/11f715a8-e2bb-11e4-9dd6-5deba796039e.png\n> \n> Even trivial examples such as this:\n> \n> <?xml version=\"1.0\"?>\n> <svg width=\"120\" height=\"120\"\n>      viewPort=\"0 0 120 120\" version=\"1.1\"\n>      xmlns=\"http://www.w3.org/2000/svg\">\n> \n> ```\n> <defs>\n>     <clipPath id=\"myClip\">\n>         <circle cx=\"30\" cy=\"30\" r=\"20\"/>\n>         <circle cx=\"70\" cy=\"70\" r=\"20\"/>\n>     </clipPath>\n> </defs>\n> \n> <rect x=\"10\" y=\"10\" width=\"100\" height=\"100\"\n>       clip-path=\"url(#myClip)\"/>\n> ```\n> \n> </svg>\n> \n> will fail if you put your clipping mask at the bottom.\n> \n> \n> Reply to this email directly or view it on GitHub\n> https://github.com/ipython/ipython/issues/8133#issuecomment-93051239.\n\n## \n\nAlex Breslow\nPhD student in computer science at UC San Diego\nEmail: abreslow@cs.ucsd.edu\nWebsite: cseweb.ucsd.edu/~abreslow\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/93145588",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-93145588",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 93145588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMTQ1NTg4",
    "user": {
      "login": "rsmith31415",
      "id": 599274,
      "node_id": "MDQ6VXNlcjU5OTI3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/599274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsmith31415",
      "html_url": "https://github.com/rsmith31415",
      "followers_url": "https://api.github.com/users/rsmith31415/followers",
      "following_url": "https://api.github.com/users/rsmith31415/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsmith31415/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsmith31415/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsmith31415/subscriptions",
      "organizations_url": "https://api.github.com/users/rsmith31415/orgs",
      "repos_url": "https://api.github.com/users/rsmith31415/repos",
      "events_url": "https://api.github.com/users/rsmith31415/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsmith31415/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-15T01:56:19Z",
    "updated_at": "2015-04-15T01:56:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@abreslow No problem. It would be nice to open an issue to fix that.\n\n@moble By the way, did you open an issue in the matplotlib repository for your original problem?\n\n@minrk Can you close this issue? Now we have a couple of reports, but none of them are fixable in this repository.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/93175056",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-93175056",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 93175056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMTc1MDU2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-15T03:29:17Z",
    "updated_at": "2015-04-15T03:29:17Z",
    "author_association": "MEMBER",
    "body": "Thanks, folks.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/96900718",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-96900718",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 96900718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2OTAwNzE4",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-28T03:47:45Z",
    "updated_at": "2015-04-28T03:47:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@abreslow The issue you are seeing with clipping is a bug is librsvg rendering incorrectly, not in mpl emitting buggy svg.  There is no constraint that clip paths must appear in the document before they are used.  See much longer response at https://github.com/matplotlib/matplotlib/issues/4341\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/96905593",
    "html_url": "https://github.com/ipython/ipython/issues/8133#issuecomment-96905593",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8133",
    "id": 96905593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2OTA1NTkz",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-28T04:25:46Z",
    "updated_at": "2015-04-28T04:25:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@abreslow Please see https://github.com/matplotlib/matplotlib/pull/4388 and see if that fixes your problem.\n"
  }
]
