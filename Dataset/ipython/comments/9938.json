[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246380874",
    "html_url": "https://github.com/ipython/ipython/issues/9938#issuecomment-246380874",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9938",
    "id": 246380874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjM4MDg3NA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-12T15:14:47Z",
    "updated_at": "2016-09-12T15:14:47Z",
    "author_association": "MEMBER",
    "body": "[Docs on customising keyboard shortcuts](http://ipython.readthedocs.io/en/stable/config/details.html#keyboard-shortcuts)\n\nThere must already be functions for those actions defined somewhere in prompt_toolkit, because there are shortcuts for them (e.g. home/end, and Alt+f for forwards word in Emacs mode). So with a bit of digging it should be possible to reuse them. We acknowledge this is not as simple as readline config at present.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246410537",
    "html_url": "https://github.com/ipython/ipython/issues/9938#issuecomment-246410537",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9938",
    "id": 246410537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjQxMDUzNw==",
    "user": {
      "login": "notmatthancock",
      "id": 1588456,
      "node_id": "MDQ6VXNlcjE1ODg0NTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1588456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/notmatthancock",
      "html_url": "https://github.com/notmatthancock",
      "followers_url": "https://api.github.com/users/notmatthancock/followers",
      "following_url": "https://api.github.com/users/notmatthancock/following{/other_user}",
      "gists_url": "https://api.github.com/users/notmatthancock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/notmatthancock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/notmatthancock/subscriptions",
      "organizations_url": "https://api.github.com/users/notmatthancock/orgs",
      "repos_url": "https://api.github.com/users/notmatthancock/repos",
      "events_url": "https://api.github.com/users/notmatthancock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/notmatthancock/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-12T16:46:13Z",
    "updated_at": "2016-09-12T16:46:13Z",
    "author_association": "NONE",
    "body": "Thanks. I was able to modify the example in your link to set Ctrl+up/down to beginning/end of line:\n\n```\nfrom IPython import get_ipython\nfrom prompt_toolkit.enums import DEFAULT_BUFFER\nfrom prompt_toolkit.keys import Keys\nfrom prompt_toolkit.filters import HasFocus, HasSelection, ViInsertMode, EmacsInsertMode\n\nip = get_ipython()\ninsert_mode = ViInsertMode() | EmacsInsertMode()\n\ndef go_start(event):\n    buf = event.current_buffer\n    buf.cursor_position = buf.document.get_start_of_line_position()\n\ndef go_end(event):\n    buf = event.current_buffer\n    buf.cursor_position = buf.document.get_end_of_line_position()\n\n# Register the shortcut if IPython is using prompt_toolkit\nif getattr(ip, 'pt_cli'):\n    registry = ip.pt_cli.application.key_bindings_registry\n    registry.add_binding(Keys.ControlUp,\n                         filter=(HasFocus(DEFAULT_BUFFER)\n                                 & ~HasSelection()\n                                 & insert_mode))(go_start)\n    registry.add_binding(Keys.ControlDown,\n                         filter=(HasFocus(DEFAULT_BUFFER)\n                                 & ~HasSelection()\n                                 & insert_mode))(go_end)\n```\n\nI added this to a startup file. I was unable to find functions for moving left/right by word in the [`Buffer` class](https://github.com/jonathanslenders/python-prompt-toolkit/blob/master/prompt_toolkit/buffer.py), but luckily this behavior works by default using Alt+f/b or Ctrl+Left/Right anyway.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246420900",
    "html_url": "https://github.com/ipython/ipython/issues/9938#issuecomment-246420900",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9938",
    "id": 246420900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjQyMDkwMA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-12T17:16:27Z",
    "updated_at": "2016-09-12T17:16:27Z",
    "author_association": "MEMBER",
    "body": "Alt-F is registered here in the prompt_toolkit code, for reference:\n\nhttps://github.com/jonathanslenders/python-prompt-toolkit/blob/99fa7fae61c9b4ed9767ead3b4f9b1318cfa875d/prompt_toolkit/key_binding/bindings/emacs.py#L57\n\nIt looks like PT has named commands for some readline functions.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/246437821",
    "html_url": "https://github.com/ipython/ipython/issues/9938#issuecomment-246437821",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9938",
    "id": 246437821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjQzNzgyMQ==",
    "user": {
      "login": "notmatthancock",
      "id": 1588456,
      "node_id": "MDQ6VXNlcjE1ODg0NTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1588456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/notmatthancock",
      "html_url": "https://github.com/notmatthancock",
      "followers_url": "https://api.github.com/users/notmatthancock/followers",
      "following_url": "https://api.github.com/users/notmatthancock/following{/other_user}",
      "gists_url": "https://api.github.com/users/notmatthancock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/notmatthancock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/notmatthancock/subscriptions",
      "organizations_url": "https://api.github.com/users/notmatthancock/orgs",
      "repos_url": "https://api.github.com/users/notmatthancock/repos",
      "events_url": "https://api.github.com/users/notmatthancock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/notmatthancock/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-12T18:08:13Z",
    "updated_at": "2016-09-12T18:08:13Z",
    "author_association": "NONE",
    "body": "Great. I have now in `~/.ipython/profile_default/startup/navs.py`:\n\n```\nfrom IPython import get_ipython\nfrom prompt_toolkit.filters import ViInsertMode, EmacsInsertMode\nfrom prompt_toolkit.keys import Keys\nfrom prompt_toolkit.key_binding.bindings.utils import create_handle_decorator\nfrom prompt_toolkit.key_binding.bindings.named_commands import get_by_name\n\nip = get_ipython()\ninsert_mode = ViInsertMode() | EmacsInsertMode()\n\n# Register the shortcut if IPython is using prompt_toolkit\nif getattr(ip, 'pt_cli'):\n    registry = ip.pt_cli.application.key_bindings_registry\n    handle = create_handle_decorator(registry, insert_mode)\n    handle(Keys.ControlUp)(get_by_name('beginning-of-line'))\n    handle(Keys.ControlDown)(get_by_name('end-of-line'))\n    handle(Keys.ControlLeft)(get_by_name('backward-word'))\n    handle(Keys.ControlRight)(get_by_name('forward-word'))\n```\n\nI'm not sure if this is the proper way to do this, but it appears to be working fine.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/257861961",
    "html_url": "https://github.com/ipython/ipython/issues/9938#issuecomment-257861961",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9938",
    "id": 257861961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Nzg2MTk2MQ==",
    "user": {
      "login": "notmatthancock",
      "id": 1588456,
      "node_id": "MDQ6VXNlcjE1ODg0NTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1588456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/notmatthancock",
      "html_url": "https://github.com/notmatthancock",
      "followers_url": "https://api.github.com/users/notmatthancock/followers",
      "following_url": "https://api.github.com/users/notmatthancock/following{/other_user}",
      "gists_url": "https://api.github.com/users/notmatthancock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/notmatthancock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/notmatthancock/subscriptions",
      "organizations_url": "https://api.github.com/users/notmatthancock/orgs",
      "repos_url": "https://api.github.com/users/notmatthancock/repos",
      "events_url": "https://api.github.com/users/notmatthancock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/notmatthancock/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-02T13:21:26Z",
    "updated_at": "2016-11-02T13:21:26Z",
    "author_association": "NONE",
    "body": "I will close this since the above appears to resolve the issue.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/257948875",
    "html_url": "https://github.com/ipython/ipython/issues/9938#issuecomment-257948875",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9938",
    "id": 257948875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Nzk0ODg3NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-02T18:03:00Z",
    "updated_at": "2016-11-02T18:03:00Z",
    "author_association": "MEMBER",
    "body": "Thanks! That does look about right. Feel free to reopen (or make a new issue) if you think there are shortcuts we should add to the ones enabled by default.\n"
  }
]
