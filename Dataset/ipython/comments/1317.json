[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3641801",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3641801",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3641801,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDE4MDE=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-24T22:25:41Z",
    "updated_at": "2012-01-24T22:25:41Z",
    "author_association": "MEMBER",
    "body": "Installing pandas in my virtualenv seems to mess up my sys.path so that I get thrown back to IPython 0.11 (which I don't normally get with or without the virtualenv).\n\nThere's quite a lot of code to produce those tracebacks. If I switch to plain exception mode (using `%xmode`) they appear instantly, so it must be something going wrong in ultratb.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3641975",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3641975",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3641975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDE5NzU=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-24T22:34:44Z",
    "updated_at": "2012-01-24T22:34:44Z",
    "author_association": "MEMBER",
    "body": "Installing pandas in my virtualenv adds these two lines to `$VIRTUAL_ENV/lib/python2.7/site-packages/easy-install.pth`, throwing the order of things on sys.path off:\n\n```\n/usr/lib/pymodules/python2.7\n/usr/lib/python2.7/dist-packages\n```\n\nDo you want me to file a bug for this?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3642514",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3642514",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3642514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDI1MTQ=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-24T23:07:29Z",
    "updated_at": "2012-01-24T23:07:29Z",
    "author_association": "MEMBER",
    "body": "What Cython/Python/etc.?  I run this code with 99e2eec and get `TypeError: unhashable type 'dict'` immediately.\n\nOSX 10.7 System Python 2.7.1\ncython/cython@3d13ae3acd0e43700f595ff98fdda71b4420da32\nwesm/pandas@99e2eec5187f8cc97921f87ec5b47f310e5ad0b7\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3642699",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3642699",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3642699,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDI2OTk=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-24T23:18:30Z",
    "updated_at": "2012-01-24T23:18:30Z",
    "author_association": "NONE",
    "body": "@takluyver is that pandas-related? Must be something weird going wrong in setuptools.\n\n@minrk I'll try a newer Python. This is Python 2.7.2 on 64-bit Ubuntu\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3642984",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3642984",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3642984,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDI5ODQ=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-24T23:37:22Z",
    "updated_at": "2012-01-24T23:37:22Z",
    "author_association": "MEMBER",
    "body": "@wesm : I suspected ez_setup, but commenting that out from setup.py didn't seem to make a difference. I wonder if it's also related to Cython.\n\nI replicated the slow traceback with Python 2.7.2 on 32-bit Ubuntu.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3643237",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3643237",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3643237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDMyMzc=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-24T23:56:59Z",
    "updated_at": "2012-01-24T23:56:59Z",
    "author_association": "NONE",
    "body": "Just updated to Cython git master and seems be OK now. Unclear why the behavior was only manifesting in the ultratb. Closing the issue (unless you guys want to investigate further)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3644372",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3644372",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3644372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDQzNzI=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-25T01:43:25Z",
    "updated_at": "2012-01-25T01:43:25Z",
    "author_association": "MEMBER",
    "body": "Thanks - just for reference, what Cython version were you using before you updated?  Could be that they had some actions that are triggered by inspection for better tracebacks, but require some work.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3652160",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3652160",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3652160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTIxNjA=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-25T15:10:12Z",
    "updated_at": "2012-01-25T15:10:12Z",
    "author_association": "NONE",
    "body": "Appears to be a problem with `262bc9f` and others around that time frame. Could do a git bisect to see when it got better\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3652550",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3652550",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3652550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTI1NTA=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-25T15:31:44Z",
    "updated_at": "2012-01-25T15:32:53Z",
    "author_association": "NONE",
    "body": "git bisect yielded:\n\n```\n0e579823bd34de5d1d9b4aeac2c8d727415cba2d is the first bad commit\ncommit 0e579823bd34de5d1d9b4aeac2c8d727415cba2d\nAuthor: Mark Florisson <markflorisson88@gmail.com>\nDate:   Sat Dec 24 23:01:25 2011 +0100\n\n    Lower buffer_max_dims to 8\n\n:040000 040000 5cef283c2e0a364154c99aa9876e118df137798f 4cb82498c330d2c45876bae61fc39447d0ff9941 M  Cython\n```\n\nI just verified that the bug is present in Cython `4b9a1ff` and not in `0e57982`. Maybe we should raise the issue with them so that they know it was a problem (in case it was fixed by accident)? It's strange because the change in 0e57982 is so tiny. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709526",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709526",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk1MjY=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T17:11:20Z",
    "updated_at": "2012-01-29T17:11:20Z",
    "author_association": "NONE",
    "body": "So I scripted IPython to get a profiling of what's going on and it's extremely perplexing:\n\n```\n11:58 ~/Dropbox/book/svn $ python -m cProfile -s cumulative foo.py \n         8265151 function calls (8261576 primitive calls) in 12.425 seconds\n\n   Ordered by: cumulative time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.000    0.000   12.427   12.427 foo.py:1(<module>)\n        3    0.000    0.000   11.816    3.939 shell.py:118(process_input_line)\n        3    0.000    0.000   11.815    3.938 interactiveshell.py:2358(run_cell)\n        3    0.000    0.000   11.813    3.938 interactiveshell.py:2447(run_ast_nodes)\n        3    0.000    0.000   11.813    3.938 interactiveshell.py:2511(run_code)\n        1    0.000    0.000   11.781   11.781 interactiveshell.py:1594(showtraceback)\n        1    0.000    0.000   11.781   11.781 ultratb.py:1153(structured_traceback)\n        1    0.001    0.001   11.781   11.781 ultratb.py:1061(structured_traceback)\n        1    2.146    2.146   11.780   11.780 ultratb.py:674(structured_traceback)\n  3097026    3.163    0.000    9.454    0.000 tokenize.py:264(generate_tokens)\n  3097286    6.095    0.000    6.095    0.000 {method 'match' of '_sre.SRE_Pattern' objects}\n        1    0.000    0.000    0.400    0.400 shell.py:70(__init__)\n        2    0.000    0.000    0.397    0.199 configurable.py:287(instance)\n        1    0.000    0.000    0.396    0.396 interactiveshell.py:399(__init__)\n        1    0.000    0.000    0.364    0.364 interactiveshell.py:1436(init_history)\n        1    0.000    0.000    0.364    0.364 history.py:396(__init__)\n        1    0.000    0.000    0.297    0.297 history.py:93(__init__)\n        5    0.297    0.059    0.297    0.059 {method 'execute' of 'sqlite3.Connection' objects}\n        1    0.000    0.000    0.297    0.297 history.py:151(init_db)\n        1    0.003    0.003    0.211    0.211 shell.py:4(<module>)\n        1    0.002    0.002    0.113    0.113 __init__.py:99(<module>)\n   703160    0.112    0.000    0.112    0.000 {method 'span' of '_sre.SRE_Match' objects}\n        1    0.001    0.001    0.103    0.103 rcsetup.py:14(<module>)\n        3    0.001    0.000    0.094    0.031 __init__.py:6(<module>)\n```\n\nhmm, the plot thickens. so something appears to be going very wrong inside `generate_tokens`. anyone with clues? I feel like we ought to figure this one out\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709602",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709602",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk2MDI=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T17:23:21Z",
    "updated_at": "2012-01-29T17:23:21Z",
    "author_association": "NONE",
    "body": "More: generate_tokens yields about 2.6 million tokens before raising an exception\n\n```\n\n12:18 ~/Dropbox/book/svn $ python -m pdb foo.py \n> /home/wesm/Dropbox/book/svn/foo.py(1)<module>()\n-> from ipybook.shell import IPythonShell\n(Pdb) b IPython/core/ultratb:838, 'tseries' in file\nBreakpoint 1 at /home/wesm/code/ipython/IPython/core/ultratb.py:838\n(Pdb) \nBreakpoint 2 at /home/wesm/code/ipython/IPython/core/ultratb.py:838\n(Pdb) c\n> /home/wesm/code/ipython/IPython/core/ultratb.py(838)structured_traceback()\n-> name_cont = False\ngen = generate_tokens(linereader)\ngen.next()\n(52, '\\x00', (1, 0), (1, 1), '\\x00\\x00\\x00\\x00\\x00 \\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xc2\\x03\\x12\\x00\\x00\\x00\\x00\\x00(\\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00P\\xa7\\n')\ngen.next()\n(52, '\\x00', (1, 1), (1, 2), '\\x00\\x00\\x00\\x00\\x00 \\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xc2\\x03\\x12\\x00\\x00\\x00\\x00\\x00(\\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00P\\xa7\\n')\ngen.next()\n(52, '\\x00', (1, 2), (1, 3), '\\x00\\x00\\x00\\x00\\x00 \\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xc2\\x03\\x12\\x00\\x00\\x00\\x00\\x00(\\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00P\\xa7\\n')\ngen.next()\n(52, '\\x00', (1, 3), (1, 4), '\\x00\\x00\\x00\\x00\\x00 \\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xc2\\x03\\x12\\x00\\x00\\x00\\x00\\x00(\\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00P\\xa7\\n')\ngen.next()\n(52, '\\x00', (1, 4), (1, 5), '\\x00\\x00\\x00\\x00\\x00 \\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xc2\\x03\\x12\\x00\\x00\\x00\\x00\\x00(\\t3\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00P\\xa7\\n')\nresults = []\nwhile True: results.append(gen.next())\n*** TokenError: ('EOF in multi-line statement', (38697, 0))\nlen(results)\n2580658\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709672",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709672",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk2NzI=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T17:36:53Z",
    "updated_at": "2012-01-29T17:36:53Z",
    "author_association": "NONE",
    "body": "OK so I think this is a bug in IPython. No attempt to tokenize a binary `.so` or `.pyd` file should ever be made. After updating Cython, by some dumb luck, this happens on the 48th iteration of the `generate_tokens` generator\n\n```\n\n> /home/wesm/code/repos/ipython/IPython/core/ultratb.py(841)structured_traceback()\n-> print >> sys.stderr, file, lnum\n\n/home/wesm/code/pandas/pandas/_tseries.so 27\n> /home/wesm/code/repos/ipython/IPython/core/ultratb.py(842)structured_traceback()\n-> print >> sys.stderr, i\nn\n47\n> /home/wesm/code/repos/ipython/IPython/core/ultratb.py(844)structured_traceback()\n-> if token_type == tokenize.NAME and token not in keyword.kwlist:\nl\n839     \n840                     for i, (token_type, token, start, end, line) in enumerate(generate_tokens(linereader)):\n841                         print >> sys.stderr, file, lnum\n842                         print >> sys.stderr, i\n843                         # build composite names\n844  ->                     if token_type == tokenize.NAME and token not in keyword.kwlist:\n845                             if name_cont:\n846                                 # Continuation of a dotted name\n847                                 try:\n848                                     names[-1].append(token)\n849                                 except IndexError:\ntoken_type\n4\nn\n> /home/wesm/code/repos/ipython/IPython/core/ultratb.py(860)structured_traceback()\n-> elif token == '.':\nn\n> /home/wesm/code/repos/ipython/IPython/core/ultratb.py(862)structured_traceback()\n-> elif token_type == tokenize.NEWLINE:\nl\n857                                 # to do (or the caller can print a list with repeated\n858                                 # names if so desired.\n859                                 names.append([token])\n860                         elif token == '.':\n861                             name_cont = True\n862  ->                     elif token_type == tokenize.NEWLINE:\n863                             break\n864     \n865                 except (IndexError, UnicodeDecodeError):\n866                     # signals exit of tokenizer\n867                     pass\nn\n> /home/wesm/code/repos/ipython/IPython/core/ultratb.py(863)structured_traceback()\n-> break\nl\n858                                 # names if so desired.\n859                                 names.append([token])\n860                         elif token == '.':\n861                             name_cont = True\n862                         elif token_type == tokenize.NEWLINE:\n863  ->                         break\n864     \n865                 except (IndexError, UnicodeDecodeError):\n866                     # signals exit of tokenizer\n867                     pass\n868                 except tokenize.TokenError,msg:\ntoken_type\n4\ntoken\n'\\n'\nstart\n(1, 47)\nend\n(1, 48)\nline\n'\\x00\\x00\\x00\\x00\\x00`\\x083\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xc2\\x03\\x12\\x00\\x00\\x00\\x00\\x00h\\x083\\x00\\x00\\x00\\x00\\x00\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x00P\\xa7\\n'\n```\n\nany proposed solutions? \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709679",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709679",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709679,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk2Nzk=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T17:37:38Z",
    "updated_at": "2012-01-29T17:37:38Z",
    "author_association": "MEMBER",
    "body": "We call tokenize when generating the tracebacks, both for the coloured\nsource, and for the variable names on the relevant line for the 'context'\ntraceback mode.\n\nI'd guess it's trying to parse the compiled file, rather than the source,\nand falling down. But it doesn't raise an exception until it's done a load\nof parsing. I had a similar problem before, but it blew up instantly. We\nprobably should figure out by some means that it's looking at a compiled\nfile, and either look up the pyx file, or skip it altogether (I don't know\nif tokenize will work on Cython code, and of course it may not be present).\n\nRelevant code is around here:\nhttps://github.com/ipython/ipython/blob/master/IPython/core/ultratb.py#L827\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709707",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709707",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk3MDc=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T17:41:31Z",
    "updated_at": "2012-01-29T17:41:31Z",
    "author_association": "MEMBER",
    "body": "Assigning this to myself, since I've touched ultraTB most recently.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709711",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709711",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk3MTE=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T17:42:04Z",
    "updated_at": "2012-01-29T17:42:04Z",
    "author_association": "NONE",
    "body": "Probably won't work with Cython code, because it's part of the Python standard library. Any binary file should probably just be skipped\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709796",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709796",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk3OTY=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T17:54:29Z",
    "updated_at": "2012-01-29T17:54:29Z",
    "author_association": "MEMBER",
    "body": "Are there other valid extensions for binary files with Python functions, beyond `.so` and `.pyd`? Is `.dll` possible on Windows?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3709840",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3709840",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3709840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk4NDA=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T18:01:38Z",
    "updated_at": "2012-01-29T18:01:38Z",
    "author_association": "MEMBER",
    "body": "See PR #1341\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/3711075",
    "html_url": "https://github.com/ipython/ipython/issues/1317#issuecomment-3711075",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1317",
    "id": 3711075,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTEwNzU=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-29T20:42:02Z",
    "updated_at": "2012-01-29T20:42:02Z",
    "author_association": "NONE",
    "body": "Much obliged and thanks as always. \n"
  }
]
