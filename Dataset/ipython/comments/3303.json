[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17732928",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17732928",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17732928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzMyOTI4",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-10T17:19:46Z",
    "updated_at": "2013-05-10T17:19:46Z",
    "author_association": "MEMBER",
    "body": "Can you try to reproduce with master as well (I assume mitigating #3106 means you are using 0.13, since it doesn't affect master).\n\nAlso try the pure zmq scheduler, and see if it makes any difference.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17733083",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17733083",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17733083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzMzMDgz",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-10T17:22:27Z",
    "updated_at": "2013-05-10T17:22:27Z",
    "author_association": "MEMBER",
    "body": "Does the number of engines matter (can you reproduce with a smaller number of engines?)?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17738081",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17738081",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17738081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzM4MDgx",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-10T18:54:17Z",
    "updated_at": "2013-05-10T18:54:17Z",
    "author_association": "MEMBER",
    "body": "I can reproduce the bug on 4 engines, however the number of successful jobs goes to 7000 â€” significantly more successful jobs per engine. I cannot reproduce it on a cluster running locally on my laptop with 0.13.2. It'll take me some more time to try to reproduce it on master or 0.13.2 on our cluster, where the issue was observed.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17738676",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17738676",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17738676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzM4Njc2",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-10T19:04:42Z",
    "updated_at": "2013-05-10T19:05:54Z",
    "author_association": "MEMBER",
    "body": "I encounter the following when trying to use master (most likely an unrelated bug).\n\n```\nIn [2]: c = Client('/home/akhmerov/.ipython/BqsoV7/security/ipcontroller-client.json')\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n<ipython-input-2-5fd9b03f6c17> in <module>()\n----> 1 c = Client('/home/akhmerov/.ipython/BqsoV7/security/ipcontroller-client.json')\n\n/clusterdata/python/env_testing/lib/python2.7/site-packages/IPython/parallel/client/client.pyc in __init__(self, url_file,\nprofile, profile_dir, ipython_dir, context, debug, sshserver, sshkey, password, paramiko, timeout, cluster_id,\n**extra_args)\n    410             cfg = json.load(f)\n    411 \n--> 412         self._task_scheme = cfg['task_scheme']\n    413 \n    414         # sync defaults from args, json:\n\nKeyError: 'task_scheme'\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17740536",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17740536",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17740536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzQwNTM2",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-10T19:43:38Z",
    "updated_at": "2013-05-10T20:00:37Z",
    "author_association": "MEMBER",
    "body": "v0.13.2, pure ZMQ scheduler:\n\n```\nIn [31]: c.queue_status() # After the bug has occured, so nothing changes anymore\nOut[31]: \n{0: {u'completed': 3049, u'queue': 21020, u'tasks': 0},\n 1: {u'completed': 7083, u'queue': 16981, u'tasks': 0},\n 2: {u'completed': 7072, u'queue': 16989, u'tasks': 0},\n 3: {u'completed': 7213, u'queue': 16850, u'tasks': 0},\n u'unassigned': 0}\n\nIn [32]: sum([1 for i in res if i.ready()])\nOut[32]: 40\n```\n\nThe controller log has a bunch of\n\n```\n2013-05-10 21:38:09.434 [IPControllerApp] client::client 'd5124c2c-9efe-49d0-9811-950e8ff39fbb' requested u'queue_request'\n2013-05-10 21:38:10.939 [IPControllerApp] heartbeat::sending 762.007559061\n```\n\nThe engines logs have\n\n```\n2013-05-10 21:30:16.513 [IPEngineApp] \n*** MESSAGE TYPE:apply_request***\n2013-05-10 21:30:16.513 [IPEngineApp]    Content: {}\n--->\n```\n\nQueue status seems to be the thing that goes wrong: the engines report very different queue lengths each time the stop occurs.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17742658",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17742658",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17742658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzQyNjU4",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-10T20:27:00Z",
    "updated_at": "2013-05-10T20:27:00Z",
    "author_association": "MEMBER",
    "body": "Reproduced on master with 4 engines run locally on a laptop with the same symptoms. By the way, the fix to #1306 does not seem to work anymore: submission time of 40000 jobs is huge again.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17743572",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17743572",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17743572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzQzNTcy",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-10T20:45:59Z",
    "updated_at": "2013-05-10T20:45:59Z",
    "author_association": "MEMBER",
    "body": "A completely different problem appears with hwm set to 1.\nThen the calculation finishes, and the queue status shows the correct number of finished jobs. However only 28262 out of 40000 `AsyncResult`'s show that they are ready. Below is the metadata of one result that isn't ready after everything was finished:\n\n```\n{'after': None,\n 'completed': None,\n 'data': {},\n 'engine_id': None,\n 'engine_uuid': None,\n 'follow': None,\n 'msg_id': None,\n 'outputs': [],\n 'outputs_ready': False,\n 'pyerr': None,\n 'pyin': None,\n 'pyout': None,\n 'received': None,\n 'started': None,\n 'status': None,\n 'stderr': '',\n 'stdout': '',\n 'submitted': datetime.datetime(2013, 5, 10, 16, 21, 57, 711630)}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17753591",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17753591",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17753591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzUzNTkx",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T03:29:24Z",
    "updated_at": "2013-05-11T03:29:24Z",
    "author_association": "MEMBER",
    "body": "What is the libzmq version you are running `zmq.zmq_version()`?  I think we are running into libzmq's own HWM behavior here.  I think I have a fix in mind.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17753649",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17753649",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17753649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzUzNjQ5",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T03:32:55Z",
    "updated_at": "2013-05-11T03:32:55Z",
    "author_association": "MEMBER",
    "body": "I only saw the bug in 3.2.2 (and 3 different ipython versions). Could well be ZMQ, however note that the error appeared also when tasks lasted 50 seconds.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17753774",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17753774",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17753774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzUzNzc0",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T03:43:34Z",
    "updated_at": "2013-05-11T03:43:34Z",
    "author_association": "MEMBER",
    "body": "does it appear when tasks last 50 seconds _and_ you have `TaskScheduler.HWM!=0`?  The task duration doesn't matter, as zmq.HWM will drop messages in the assignment process.\n\n> I only saw the bug in 3.2.2\n\nExcellent, then I think I am on the right track.  zmq 3 changed the default HWM from -1 (infinite) to 1000, so if you try to assign more than 1000 tasks as fast as you can to engines, they will be dropped.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17753839",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17753839",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17753839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzUzODM5",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T03:48:52Z",
    "updated_at": "2013-05-11T03:51:13Z",
    "author_association": "MEMBER",
    "body": "> does it appear when tasks last 50 seconds and you have TaskScheduler.HWM!=0?\n\nI didn't test it, and not sure if it would be possible with 0.13 due to #3106.\n\n> Excellent, then I think I am on the right track.\n\nSeems very reasonable, I wasn't able to reproduce it with 2.x.x. Does this also explain the issue with `TaskScheduler.hwm=1` (4 engines, 4e4 tasks of .1 sec each), that I observed in dev?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17754666",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17754666",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17754666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzU0NjY2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T05:25:06Z",
    "updated_at": "2013-05-11T05:25:06Z",
    "author_association": "MEMBER",
    "body": "Try #3304, and see how your tests fare.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17766173",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17766173",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17766173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzY2MTcz",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T19:41:36Z",
    "updated_at": "2013-05-11T19:41:36Z",
    "author_association": "MEMBER",
    "body": "#3304 seems to fix both the `hwm=1` and `hwm=0` problem.\n\nI still see #2215 on master, and submission of 40000 jobs takes around a minute now, so something has reinstated #3106. Unlike before, `hwm=1` doesn't take 100% cpu, so things are better at least in that respect.\n\nIs there a quick and dirty way to apply #3304 to 0.13?\n\nI don't find pure ZMQ scheduler a viable option right now because the engines do unregister every now and then.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17767088",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17767088",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17767088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzY3MDg4",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T20:44:11Z",
    "updated_at": "2013-05-11T20:44:11Z",
    "author_association": "MEMBER",
    "body": "> I still see #2215 on master, and submission of 40000 jobs takes around a minute now, so something has reinstated #3106. Unlike before, hwm=1 doesn't take 100% cpu, so things are better at least in that respect.\n\n#3106 _has_ been fixed - submission of jobs is now linear in the number of jobs, and I see that it can submit about 1600 tasks/sec pretty consistently on my laptop, so there isn't a regression, it's just not as fast as it should be.\n\nI should note that it is probably a good idea to set `chunksize` to something greater than one, which will bundle the tasks and submit much faster, with minimal penalty to load balancing when there are lots of tasks:\n\n```\namr = view.map_async(f, args, chunksize=8)\n```\n\n> Is there a quick and dirty way to apply #3304 to 0.13?\n\nYou are welcome to try manual patches via `git cherry-pick` or `git apply`, but it will not be supported.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/17767672",
    "html_url": "https://github.com/ipython/ipython/issues/3303#issuecomment-17767672",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3303",
    "id": 17767672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzY3Njcy",
    "user": {
      "login": "akhmerov",
      "id": 2069677,
      "node_id": "MDQ6VXNlcjIwNjk2Nzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2069677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhmerov",
      "html_url": "https://github.com/akhmerov",
      "followers_url": "https://api.github.com/users/akhmerov/followers",
      "following_url": "https://api.github.com/users/akhmerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhmerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhmerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhmerov/subscriptions",
      "organizations_url": "https://api.github.com/users/akhmerov/orgs",
      "repos_url": "https://api.github.com/users/akhmerov/repos",
      "events_url": "https://api.github.com/users/akhmerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhmerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-11T21:20:08Z",
    "updated_at": "2013-05-11T21:20:08Z",
    "author_association": "MEMBER",
    "body": "Sorry for the wrong claims. #3106 is indeed fixed, and instead of #2215 I saw what is fixed by #3308.\n\nI understand that manually patching wouldn't be supported.\n"
  }
]
