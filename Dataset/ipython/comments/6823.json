[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61336283",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61336283",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61336283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzM2Mjgz",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-31T21:49:41Z",
    "updated_at": "2014-10-31T21:49:50Z",
    "author_association": "MEMBER",
    "body": "No need to be shy about implicating, it was definitely me. Can you share more info (versions of tornado, Python, OS)?  Which kernel are you using? I can't seem to get this code to do the wrong thing, so it would be helpful to get some more details about what's going on.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61344617",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61344617",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61344617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzQ0NjE3",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-31T23:31:59Z",
    "updated_at": "2014-10-31T23:31:59Z",
    "author_association": "NONE",
    "body": "The environment is Python 2.7.6, tornado 4.0.2, and running in a docker container on a Ubuntu VM. I'm using an IScala-like custom kernel.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61346720",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61346720",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61346720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzQ2NzIw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-01T00:02:35Z",
    "updated_at": "2014-11-01T00:02:35Z",
    "author_association": "MEMBER",
    "body": "Can you share the kernelspec file, and point to the actual kernel? Are you sure the kernel is actually responding to the kernel_info request? Start the notebook with `--debug`, and the reply will be logged, if it arrives.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61350476",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61350476",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61350476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzUwNDc2",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-01T00:56:41Z",
    "updated_at": "2014-11-01T00:57:06Z",
    "author_association": "NONE",
    "body": "The kernel is responding to each `kernel_info` request which seems to be 1 per websocket connection established.\n\nMy connection file is pretty standard, only difference is it contains the `id` of the kernel I'm connecting to and no `key`. My `kernel.json` is also pretty standard:\n\n``` json\n{\n  \"display_name\" : \"IScala-Like 2.10.4\",\n  \"language\" : \"scala\",\n  \"argv\" : [ \"/path/to/my/kernel/binary\", \"--profile\", \"{connection_file}\" ],\n  \"codemirror_mode\" : \"scala\"\n}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61351249",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61351249",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61351249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzUxMjQ5",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-01T01:09:50Z",
    "updated_at": "2014-11-01T01:09:50Z",
    "author_association": "MEMBER",
    "body": "It was doing one kernel_info request per websocket until we merged #6765, four days ago - now it does one per kernel and reuses the reply.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61377976",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61377976",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61377976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzc3OTc2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-01T18:28:34Z",
    "updated_at": "2014-11-01T18:28:34Z",
    "author_association": "MEMBER",
    "body": "@cjm5325 can you share the debug logs for a single connection?\n\n```\nipython notebook --debug\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61381420",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61381420",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61381420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzgxNDIw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-01T20:09:23Z",
    "updated_at": "2014-11-01T20:09:23Z",
    "author_association": "MEMBER",
    "body": "It might still be doing one request per channel, just not one request per channel connection, because the value isn't cached until a reply is received. I can fix that by linking up Futures (#6832).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61390041",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61390041",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61390041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzkwMDQx",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-02T01:03:37Z",
    "updated_at": "2014-11-02T01:03:37Z",
    "author_association": "NONE",
    "body": "In my infinite wisdom I left my charger at work, so I will have more information for you Monday. Sorry gentlemen.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61501040",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61501040",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61501040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTAxMDQw",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T16:08:31Z",
    "updated_at": "2014-11-03T16:18:49Z",
    "author_association": "NONE",
    "body": "Alrighty so using the commit which I would describe as \"expected behavior\" I get the following:\n\n```\n[D 15:26:33.915 NotebookApp] 200 GET /api/contents/Untitled2.ipynb?_=1415028393356 (192.168.22.1) 29.56ms\n[D 15:26:33.994 NotebookApp] No kernel name specified, using default kernel\n[I 15:26:33.995 NotebookApp] Starting kernel with name IScala-Like\n[D 15:26:35.048 NotebookApp] Connecting to: tcp://192.168.22.22:40000\n[D 15:26:35.060 NotebookApp] 201 POST /api/sessions (192.168.22.1) 1066.11ms\n[D 15:26:35.078 NotebookApp] 304 GET /api/contents/Untitled2.ipynb/checkpoints (192.168.22.1) 14.11ms\n[D 15:26:35.084 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[D 15:26:35.087 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[D 15:26:35.090 NotebookApp] requesting kernel info\n[D 15:26:35.096 NotebookApp] Connecting to: tcp://192.168.22.22:40004\n[D 15:26:35.099 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[D 15:26:35.104 NotebookApp] requesting kernel info\n[D 15:26:35.115 NotebookApp] Connecting to: tcp://192.168.22.22:40002\n[D 15:26:35.117 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[D 15:26:35.120 NotebookApp] requesting kernel info\n```\n\nThis is the timeout log:\n\n```\n[D 15:48:42.137 NotebookApp] 200 GET /api/contents/Untitled2.ipynb?_=1415029721745 (192.168.22.1) 29.02ms\n[D 15:48:42.239 NotebookApp] No kernel name specified, using default kernel\n[I 15:48:42.239 NotebookApp] Starting kernel with name IScala-Like\n[D 15:48:43.297 NotebookApp] Connecting to: tcp://192.168.22.22:40000\n[D 15:48:43.310 NotebookApp] 201 POST /api/sessions (192.168.22.1) 1071.41ms\n[D 15:48:43.328 NotebookApp] 304 GET /api/contents/Untitled2.ipynb/checkpoints (192.168.22.1) 16.91ms\n[D 15:48:43.333 NotebookApp] Initializing websocket connection /api/kernels/7cee7ef7-e087-41d7-8ac6-655c42872fe6/shell\n[D 15:48:43.339 NotebookApp] Requesting kernel info from 7cee7ef7-e087-41d7-8ac6-655c42872fe6\n[D 15:48:43.340 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[W 15:48:53.347 NotebookApp] Timeout waiting for kernel_info reply from 7cee7ef7-e087-41d7-8ac6-655c42872fe6\n[D 15:48:53.348 NotebookApp] Opening websocket /api/kernels/7cee7ef7-e087-41d7-8ac6-655c42872fe6/shell\n[D 15:48:53.349 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[D 15:48:53.350 NotebookApp] Initializing websocket connection /api/kernels/7cee7ef7-e087-41d7-8ac6-655c42872fe6/stdin\n[D 15:48:53.352 NotebookApp] Requesting kernel info from 7cee7ef7-e087-41d7-8ac6-655c42872fe6\n[D 15:48:53.352 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[W 15:49:03.358 NotebookApp] Timeout waiting for kernel_info reply from 7cee7ef7-e087-41d7-8ac6-655c42872fe6\n[D 15:49:03.359 NotebookApp] Opening websocket /api/kernels/7cee7ef7-e087-41d7-8ac6-655c42872fe6/stdin\n[D 15:49:03.360 NotebookApp] Connecting to: tcp://192.168.22.22:40004\n[D 15:49:03.361 NotebookApp] Initializing websocket connection /api/kernels/7cee7ef7-e087-41d7-8ac6-655c42872fe6/iopub\n[D 15:49:03.362 NotebookApp] Requesting kernel info from 7cee7ef7-e087-41d7-8ac6-655c42872fe6\n[D 15:49:03.362 NotebookApp] Connecting to: tcp://192.168.22.22:40003\n[W 15:49:13.368 NotebookApp] Timeout waiting for kernel_info reply from 7cee7ef7-e087-41d7-8ac6-655c42872fe6\n[D 15:49:13.368 NotebookApp] Opening websocket /api/kernels/7cee7ef7-e087-41d7-8ac6-655c42872fe6/iopub\n[D 15:49:13.369 NotebookApp] Connecting to: tcp://192.168.22.22:40002\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61509422",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61509422",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61509422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTA5NDIy",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T16:57:00Z",
    "updated_at": "2014-11-03T16:57:00Z",
    "author_association": "MEMBER",
    "body": "That output suggests that the kernel is _not_ responding to the kernel_info request, and the timeout is firing correctly. Where does the kernel code live? This is probably a bug there.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61519327",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61519327",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61519327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTE5MzI3",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T17:58:37Z",
    "updated_at": "2014-11-03T18:01:38Z",
    "author_association": "NONE",
    "body": "The kernel, which is its own project, is responding to each `kernel_info_request`. In the first scenario above I receive the 3 requests as shown (all within a few milliseconds) and send 3 `kernel_info_reply`s all surrounded by `busy` then `idle`.\n\nThe kernel responds using the appropriate message whose format I think is accurate; I had to update the `stream` message because the protocol changed but as far as I can tell these messages have not changed.\n\nThis is my order of things:\n\n`kernel_info_request` comes in on the Shell socket:\n\n``` json\n{\n  \"username\":\"username\",\n  \"msg_type\":\"kernel_info_request\",\n  \"msg_id\":\"e73634f2-801c-4d9b-a760-9cc89a734996\",\n  \"version\":\"5.0\",\n  \"session\":\"D7929093356941B281A7B3B64E343003\",\n  \"date\":\"2014-11-03T17:37:50.188568\"\n}\n```\n\nNext, I send a status message over IOPub, my parent being the `kernel_info_request`:\n\n``` json\n{\"execution_state\":\"busy\"}\n```\n\nThen, I then send my `kernel_info_reply` over Shell, whose parent is the `kernel_info_request`:\n\n``` json\n{\n  \"protocol_version\":\"5.0\",\n  \"implementation\":\"IScala-Like\",\n  \"implementation_version\":\"0.1.0\",\n  \"language\":\"scala\",\n  \"language_version\":\"2.10.4\",\n  \"banner\":\"IScala-Like Kernel\"\n}\n```\n\nLastly, I send another `kernel_status_message` over IOPub, who has no parent:\n\n``` json\n{\"execution_state\":\"idle\"}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61519932",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61519932",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61519932,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTE5OTMy",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T18:02:23Z",
    "updated_at": "2014-11-03T18:02:23Z",
    "author_association": "MEMBER",
    "body": "Hm, I wonder why the reply is never arriving at the notebook server. What version of tornado are you using?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61521083",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61521083",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61521083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTIxMDgz",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T18:09:52Z",
    "updated_at": "2014-11-03T19:13:22Z",
    "author_association": "NONE",
    "body": "I'm installing from 3.0-dev and the version of tornado that gets pulled in is 4.0.2.\n\nI'm also not sure if I said that the connections in the timeout scenario do get established and I can talk to the kernel, and for example run code. In chrome I can also watch the connections get established and subsequent frames come in (for both examples / commits we talked about above).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61565697",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61565697",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61565697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTY1Njk3",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T23:01:42Z",
    "updated_at": "2014-11-03T23:01:42Z",
    "author_association": "NONE",
    "body": "Just out of curiosity I bumped up to commit 99527ea40fa5b83f13c0cd856333421a3cace3cc and things are working as in commit d3858463c9cd284508ac2deff9a2cde0281d20d3 (immediate connection to existing kernel).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61566109",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61566109",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61566109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTY2MTA5",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T23:05:04Z",
    "updated_at": "2014-11-03T23:05:04Z",
    "author_association": "MEMBER",
    "body": "@cjm5325 so it's working fine now? If so, it might have been a mysterious bug we fixed by accident while working on something else, and we can close here.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61591714",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61591714",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61591714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTkxNzE0",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-04T04:20:39Z",
    "updated_at": "2014-11-04T04:20:39Z",
    "author_association": "NONE",
    "body": "I haven't taken a look at the code to see what changed, but something seems to have gotten in. I'd say this can be closed. If it happens again I will try to get something more concrete before posting.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/61591816",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-61591816",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 61591816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTkxODE2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-04T04:22:37Z",
    "updated_at": "2014-11-04T04:22:37Z",
    "author_association": "MEMBER",
    "body": "Sounds good. Let us know if it starts misbehaving again. Thanks for testing!\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/68737959",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-68737959",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 68737959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzM3OTU5",
    "user": {
      "login": "tribbloid",
      "id": 3441413,
      "node_id": "MDQ6VXNlcjM0NDE0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3441413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tribbloid",
      "html_url": "https://github.com/tribbloid",
      "followers_url": "https://api.github.com/users/tribbloid/followers",
      "following_url": "https://api.github.com/users/tribbloid/following{/other_user}",
      "gists_url": "https://api.github.com/users/tribbloid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tribbloid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tribbloid/subscriptions",
      "organizations_url": "https://api.github.com/users/tribbloid/orgs",
      "repos_url": "https://api.github.com/users/tribbloid/repos",
      "events_url": "https://api.github.com/users/tribbloid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tribbloid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-05T16:58:28Z",
    "updated_at": "2015-01-05T16:58:28Z",
    "author_association": "NONE",
    "body": "I got the same problem using the latest build, will confirm if it relapse after reboot\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/68742051",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-68742051",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 68742051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzQyMDUx",
    "user": {
      "login": "cjm5325",
      "id": 9045199,
      "node_id": "MDQ6VXNlcjkwNDUxOTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9045199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjm5325",
      "html_url": "https://github.com/cjm5325",
      "followers_url": "https://api.github.com/users/cjm5325/followers",
      "following_url": "https://api.github.com/users/cjm5325/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjm5325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjm5325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjm5325/subscriptions",
      "organizations_url": "https://api.github.com/users/cjm5325/orgs",
      "repos_url": "https://api.github.com/users/cjm5325/repos",
      "events_url": "https://api.github.com/users/cjm5325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjm5325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-05T17:23:50Z",
    "updated_at": "2015-01-05T17:23:50Z",
    "author_association": "NONE",
    "body": "The custom kernel I was using at the time is now open-sourced so that may or may not help you in your investigation.\n\nhttps://github.com/ibm-et/spark-kernel\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/103286181",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-103286181",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 103286181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzI4NjE4MQ==",
    "user": {
      "login": "tribbloid",
      "id": 3441413,
      "node_id": "MDQ6VXNlcjM0NDE0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3441413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tribbloid",
      "html_url": "https://github.com/tribbloid",
      "followers_url": "https://api.github.com/users/tribbloid/followers",
      "following_url": "https://api.github.com/users/tribbloid/following{/other_user}",
      "gists_url": "https://api.github.com/users/tribbloid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tribbloid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tribbloid/subscriptions",
      "organizations_url": "https://api.github.com/users/tribbloid/orgs",
      "repos_url": "https://api.github.com/users/tribbloid/repos",
      "events_url": "https://api.github.com/users/tribbloid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tribbloid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-19T00:59:01Z",
    "updated_at": "2015-05-19T00:59:01Z",
    "author_association": "NONE",
    "body": "Hi @cjm5325: I've looked into that project and I suspect that the problem is caused by zmq socket identity corruption: When the kernel is launched only part of the identity uuid is read from zmq pipeline, resulting in kernel_info_reply published to incorrect socket. Could you log the received socket identity and check the result?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/104007434",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-104007434",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 104007434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNDAwNzQzNA==",
    "user": {
      "login": "frol",
      "id": 304265,
      "node_id": "MDQ6VXNlcjMwNDI2NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/304265?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frol",
      "html_url": "https://github.com/frol",
      "followers_url": "https://api.github.com/users/frol/followers",
      "following_url": "https://api.github.com/users/frol/following{/other_user}",
      "gists_url": "https://api.github.com/users/frol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frol/subscriptions",
      "organizations_url": "https://api.github.com/users/frol/orgs",
      "repos_url": "https://api.github.com/users/frol/repos",
      "events_url": "https://api.github.com/users/frol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T19:32:49Z",
    "updated_at": "2015-05-20T19:32:49Z",
    "author_association": "NONE",
    "body": "My guess is that the issue was because of libzmq.so. IPython requires a recent version of it (4.0+) while Spark-Shell stuck with 2.2. Those versions are not compatible. I got the same issue (kernel_info reply timeout), but managed to make it work via LD_LIBRARY_PATH hack for now.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/104035694",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-104035694",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 104035694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNDAzNTY5NA==",
    "user": {
      "login": "tribbloid",
      "id": 3441413,
      "node_id": "MDQ6VXNlcjM0NDE0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3441413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tribbloid",
      "html_url": "https://github.com/tribbloid",
      "followers_url": "https://api.github.com/users/tribbloid/followers",
      "following_url": "https://api.github.com/users/tribbloid/following{/other_user}",
      "gists_url": "https://api.github.com/users/tribbloid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tribbloid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tribbloid/subscriptions",
      "organizations_url": "https://api.github.com/users/tribbloid/orgs",
      "repos_url": "https://api.github.com/users/tribbloid/repos",
      "events_url": "https://api.github.com/users/tribbloid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tribbloid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T20:58:29Z",
    "updated_at": "2015-05-20T20:58:29Z",
    "author_association": "NONE",
    "body": "Interesting, I know the akka-zmq used by Spark-kernel is bounded to 2.2 which may be a liability. But I observe the same problem on 2 similar projects (IScala & ISpark) that use jeroMQ, which fully supports 4.0. Could you tell us how this LD_LIBRARY_PATH hack can be done? It may be helpful in identifying the problem.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/104163796",
    "html_url": "https://github.com/ipython/ipython/issues/6823#issuecomment-104163796",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6823",
    "id": 104163796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNDE2Mzc5Ng==",
    "user": {
      "login": "frol",
      "id": 304265,
      "node_id": "MDQ6VXNlcjMwNDI2NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/304265?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frol",
      "html_url": "https://github.com/frol",
      "followers_url": "https://api.github.com/users/frol/followers",
      "following_url": "https://api.github.com/users/frol/following{/other_user}",
      "gists_url": "https://api.github.com/users/frol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frol/subscriptions",
      "organizations_url": "https://api.github.com/users/frol/orgs",
      "repos_url": "https://api.github.com/users/frol/repos",
      "events_url": "https://api.github.com/users/frol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-21T07:20:05Z",
    "updated_at": "2015-05-21T07:20:05Z",
    "author_association": "NONE",
    "body": "@tribbloid The hack is quite straightforward:\n1. Get libzmq.so version 2.2 (I've extracted this from a conda zeromq==2.2 package, in this particular case it requires libuuid.so as well, so I extracted that one also from conda util-linux package)\n2. Put is somewhere, say `/usr/local/lib/zmq2`\n3. Add `LD_LIBRARY_PATH=/usr/local/lib/zmq2` to the begining of sparkkernel script (`spark-kernel/target/kernel/pack/bin/sparkkernel`, I don't know which source that file is built from, but it doesn't matter for this hack)\n"
  }
]
