[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6315504",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6315504",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6315504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTU1MDQ=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-13T22:25:05Z",
    "updated_at": "2012-06-13T22:25:05Z",
    "author_association": "MEMBER",
    "body": "For termination, this brings up an issue for blocking as well - can you add a `try...except KeyboardInterrupt` around `communicate()` that terminates the subprocess in blocking mode as well?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6316418",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6316418",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6316418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTY0MTg=",
    "user": {
      "login": "tkf",
      "id": 29282,
      "node_id": "MDQ6VXNlcjI5Mjgy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/29282?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkf",
      "html_url": "https://github.com/tkf",
      "followers_url": "https://api.github.com/users/tkf/followers",
      "following_url": "https://api.github.com/users/tkf/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkf/subscriptions",
      "organizations_url": "https://api.github.com/users/tkf/orgs",
      "repos_url": "https://api.github.com/users/tkf/repos",
      "events_url": "https://api.github.com/users/tkf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-13T23:14:35Z",
    "updated_at": "2012-06-13T23:14:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "You mean here?\nhttps://github.com/tkf/ipython/blob/012d228ad5455b7a226c2f524ae04e95bb8ed1a8/IPython/core/magics/script.py#L206\n\nWhen this code is executed, --proc is not used.\n\nYou mean to change that line to something like this?:\n\n```\ntry:\n    out, err = p.communicate(cell)\nexcept KeyboardInterrupt:\n    return\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6316594",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6316594",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6316594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTY1OTQ=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-13T23:24:07Z",
    "updated_at": "2012-06-13T23:24:07Z",
    "author_association": "MEMBER",
    "body": "That's the right place, but instead of `return`, it should end the subprocess (right now, interrupt will leave the subprocess running).  Presumably it should be the standard:\n1. try interrupt\n2. terminate or kill if still alive\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6317784",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6317784",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6317784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTc3ODQ=",
    "user": {
      "login": "tkf",
      "id": 29282,
      "node_id": "MDQ6VXNlcjI5Mjgy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/29282?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkf",
      "html_url": "https://github.com/tkf",
      "followers_url": "https://api.github.com/users/tkf/followers",
      "following_url": "https://api.github.com/users/tkf/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkf/subscriptions",
      "organizations_url": "https://api.github.com/users/tkf/orgs",
      "repos_url": "https://api.github.com/users/tkf/repos",
      "events_url": "https://api.github.com/users/tkf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-14T00:34:27Z",
    "updated_at": "2012-06-14T00:34:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Now I think I understand what do you mean.  I added the try block as you suggest.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6317912",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6317912",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6317912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTc5MTI=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-14T00:43:08Z",
    "updated_at": "2012-06-14T00:43:08Z",
    "author_association": "MEMBER",
    "body": "Yes, that's exactly what I mean, thanks!\n\nA few minor adjustments: Let's remove at least the first print statement.  No need to print a message if everything went smoothly.\n\nAnd it's a good idea to wrap the signal and terminate calls in try/except, since technically the process can have terminated in between calls, in which case these will raise an OSError.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6318207",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6318207",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6318207,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTgyMDc=",
    "user": {
      "login": "tkf",
      "id": 29282,
      "node_id": "MDQ6VXNlcjI5Mjgy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/29282?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkf",
      "html_url": "https://github.com/tkf",
      "followers_url": "https://api.github.com/users/tkf/followers",
      "following_url": "https://api.github.com/users/tkf/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkf/subscriptions",
      "organizations_url": "https://api.github.com/users/tkf/orgs",
      "repos_url": "https://api.github.com/users/tkf/repos",
      "events_url": "https://api.github.com/users/tkf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-14T01:08:11Z",
    "updated_at": "2012-06-14T01:08:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Let's remove at least the first print statement. No need to print a message if everything went smoothly.\n\nI think it's better to have it.  It is equivalent of:\n\n``` python\nIn [1]:\nimport time\ntime.sleep(10)\n---------------------------------------------------------------------------\nKeyboardInterrupt                         Traceback (most recent call last)\n<ipython-input-9-d7b436e260d5> in <module>()\n      1 import time\n----> 2 time.sleep(10)\n\nKeyboardInterrupt: \n```\n\nWhat do you think?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6318224",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6318224",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6318224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTgyMjQ=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-14T01:09:49Z",
    "updated_at": "2012-06-14T01:09:49Z",
    "author_association": "MEMBER",
    "body": "Ah, sure, good point.  I had in my head that this was in a finally block, so KeyboardInterrupt would still raise, but the current behavior is better.  Nevermind, then. \n\nJust the catching OSErrors, then.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6320719",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6320719",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6320719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjA3MTk=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-14T05:37:28Z",
    "updated_at": "2012-06-14T05:37:28Z",
    "author_association": "MEMBER",
    "body": "hm, in the two-process case, the SIGINT handler of the parent process is somehow preventing the subprocess from being interrupted.  This is a general issue in the kernel:\n\n``` python\nimport signal\nfrom subprocess import Popen\np = Popen(['sleep', '100'])\np.send_signal(signal.SIGINT)\ntime.sleep(1)\np.poll() # will be None, process still alive\n\n# even this will have no effect:\n!kill -INT $p.pid\n```\n\nIf you know off the top of your head of a simple way to address this, that would be awesome, otherwise this is ready for merge.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6321007",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6321007",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6321007,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjEwMDc=",
    "user": {
      "login": "tkf",
      "id": 29282,
      "node_id": "MDQ6VXNlcjI5Mjgy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/29282?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkf",
      "html_url": "https://github.com/tkf",
      "followers_url": "https://api.github.com/users/tkf/followers",
      "following_url": "https://api.github.com/users/tkf/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkf/subscriptions",
      "organizations_url": "https://api.github.com/users/tkf/orgs",
      "repos_url": "https://api.github.com/users/tkf/repos",
      "events_url": "https://api.github.com/users/tkf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-14T06:07:34Z",
    "updated_at": "2012-06-14T06:07:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry, I don't know the solution.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/6321672",
    "html_url": "https://github.com/ipython/ipython/pull/1945#issuecomment-6321672",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/1945",
    "id": 6321672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjE2NzI=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-06-14T07:10:43Z",
    "updated_at": "2012-06-14T07:10:43Z",
    "author_association": "MEMBER",
    "body": "**Test results for commit 3adbc01 merged into master**\nPlatform: darwin\n- python2.6: OK (libraries not available: cython matplotlib oct2py pygments pymongo qt rpy2 tornado wx wx.aui)\n- python2.7: OK (libraries not available: oct2py wx wx.aui)\n- python3.2: OK (libraries not available: cython matplotlib oct2py pymongo qt rpy2 wx wx.aui)\n\nNot available for testing: python3.1\n"
  }
]
