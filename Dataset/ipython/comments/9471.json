[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/219849754",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-219849754",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 219849754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTg0OTc1NA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-17T20:51:00Z",
    "updated_at": "2016-05-17T20:51:00Z",
    "author_association": "MEMBER",
    "body": "Failure seem real, but I guess we just need remove the test. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/219854326",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-219854326",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 219854326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTg1NDMyNg==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-17T21:07:39Z",
    "updated_at": "2016-05-17T21:07:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@takluyver Sorry, no there's no public API for that. (Right now, not sure how I would ever expose this.)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/219856275",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-219856275",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 219856275,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTg1NjI3NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-17T21:15:00Z",
    "updated_at": "2016-05-17T21:15:00Z",
    "author_association": "MEMBER",
    "body": "OK, thanks - I knew it was a long shot. It should be easier to do this on our side, since we no longer have the ANSI colouring stuff embedded in a string.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220067139",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220067139",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220067139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDA2NzEzOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T15:39:37Z",
    "updated_at": "2016-05-18T15:39:37Z",
    "author_association": "MEMBER",
    "body": "This grew a bit: it now removes the `PromptManager` machinery, and adds a new `Prompts` class in the terminal package. Prompts are no longer configurable as template strings (I already broke it for input prompts when switching to prompt_toolkit, but this removes that config system entirely). My idea is that if you want to customise prompts, you should subclass the new `Prompts` class and redefine the prompt generation methods, and then set:\n\n``` python\nshell.prompts = MyPrompts(shell)\n```\n\nThis allows more flexibility, while eliminating all the predefined prompt elements we had for string templating.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220074134",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220074134",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220074134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDA3NDEzNA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T16:00:34Z",
    "updated_at": "2016-05-18T16:00:34Z",
    "author_association": "MEMBER",
    "body": "> This grew a bit: it now removes the PromptManager machinery, and adds a new Prompts class in the terminal package. Prompts are no longer configurable as template strings (I already broke it for input prompts when switching to prompt_toolkit, but this removes that config system entirely). My idea is that if you want to customise prompts, you should subclass the new Prompts class and redefine the prompt generation methods, and then set:\n> \n> shell.prompts = MyPrompts(shell)\n> This allows more flexibility, while eliminating all the predefined prompt elements we had for string templating.\n\nNo objections with this change. @asmeurer  you are a custom-prompt user right ? I think your input might be welcomed.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220081937",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220081937",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220081937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDA4MTkzNw==",
    "user": {
      "login": "asmeurer",
      "id": 71486,
      "node_id": "MDQ6VXNlcjcxNDg2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmeurer",
      "html_url": "https://github.com/asmeurer",
      "followers_url": "https://api.github.com/users/asmeurer/followers",
      "following_url": "https://api.github.com/users/asmeurer/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions",
      "organizations_url": "https://api.github.com/users/asmeurer/orgs",
      "repos_url": "https://api.github.com/users/asmeurer/repos",
      "events_url": "https://api.github.com/users/asmeurer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmeurer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T16:26:31Z",
    "updated_at": "2016-05-18T16:26:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this related to https://github.com/ipython/ipython/issues/8724?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220083069",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220083069",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220083069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDA4MzA2OQ==",
    "user": {
      "login": "asmeurer",
      "id": 71486,
      "node_id": "MDQ6VXNlcjcxNDg2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmeurer",
      "html_url": "https://github.com/asmeurer",
      "followers_url": "https://api.github.com/users/asmeurer/followers",
      "following_url": "https://api.github.com/users/asmeurer/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions",
      "organizations_url": "https://api.github.com/users/asmeurer/orgs",
      "repos_url": "https://api.github.com/users/asmeurer/repos",
      "events_url": "https://api.github.com/users/asmeurer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmeurer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T16:30:18Z",
    "updated_at": "2016-05-18T16:30:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't have time to look at this in-depth. This is the code I use to customize my prompt (among other things) https://github.com/asmeurer/iterm2-tools/blob/master/iterm2_tools/ipython.py. Can you indicate how that code would change with this? That file also has some comments with some various issues I found with IPython, if that helps any.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220083495",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220083495",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220083495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDA4MzQ5NQ==",
    "user": {
      "login": "asmeurer",
      "id": 71486,
      "node_id": "MDQ6VXNlcjcxNDg2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmeurer",
      "html_url": "https://github.com/asmeurer",
      "followers_url": "https://api.github.com/users/asmeurer/followers",
      "following_url": "https://api.github.com/users/asmeurer/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions",
      "organizations_url": "https://api.github.com/users/asmeurer/orgs",
      "repos_url": "https://api.github.com/users/asmeurer/repos",
      "events_url": "https://api.github.com/users/asmeurer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmeurer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T16:31:45Z",
    "updated_at": "2016-05-18T16:31:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Specifically the issue of #8724:\n\n> The more advanced fix (taking into consideration that a dynamic prompt might have a different number invisible characters each time it is displayed) is awkward with the existing API, which implicitly assumes that the number invisible characters is the same for any given template. \n\nDoes this address that? \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220090591",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220090591",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220090591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDA5MDU5MQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T16:56:15Z",
    "updated_at": "2016-05-18T16:56:15Z",
    "author_association": "MEMBER",
    "body": "This should address that, in that prompts are now generated as a list of token tuples, with a style and a piece of text, rather than as a single string containing ANSI escapes. So we no longer need to deal with 'invisible characters'.\n\nCustom prompt stuff will need to be totally rewritten for IPython 5; I don't see any way round that with the switch to prompt_toolkit. See this section of the diff for the new Prompts class API that you'd have to supply: https://github.com/ipython/ipython/pull/9471/files#diff-9c5b89476acdb54178398f461c809c26R9\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220101902",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220101902",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220101902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDEwMTkwMg==",
    "user": {
      "login": "asmeurer",
      "id": 71486,
      "node_id": "MDQ6VXNlcjcxNDg2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmeurer",
      "html_url": "https://github.com/asmeurer",
      "followers_url": "https://api.github.com/users/asmeurer/followers",
      "following_url": "https://api.github.com/users/asmeurer/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions",
      "organizations_url": "https://api.github.com/users/asmeurer/orgs",
      "repos_url": "https://api.github.com/users/asmeurer/repos",
      "events_url": "https://api.github.com/users/asmeurer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmeurer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T17:36:21Z",
    "updated_at": "2016-05-18T17:36:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "So I should implement the invisible iTerm2 control sequences as tokens, with empty text? \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220113701",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220113701",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220113701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDExMzcwMQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T18:18:33Z",
    "updated_at": "2016-05-18T18:18:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@asmeurer Not sure, but I think if this is an escape-sequence, and passed into prompt-toolkit, then it will probably be escaped and displayed as something like `^[`. (It expects plain text.)\nWe are talking about this, right?: https://github.com/asmeurer/iterm2-tools/blob/master/iterm2_tools/shell_integration.py#L101\n\nIf so, I think we need a way in IPython to send these sequences before and after calling the prompt function.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220116168",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220116168",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220116168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDExNjE2OA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T18:27:21Z",
    "updated_at": "2016-05-18T18:27:21Z",
    "author_association": "MEMBER",
    "body": "There is already a configurable `InteractiveShell.separate_in` which is a string printed before starting the prompt. There's nothing equivalent for after the prompt, but you could use the `pre_run_cell` [event](http://ipython.readthedocs.io/en/stable/config/callbacks.html).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220118453",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220118453",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220118453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDExODQ1Mw==",
    "user": {
      "login": "asmeurer",
      "id": 71486,
      "node_id": "MDQ6VXNlcjcxNDg2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmeurer",
      "html_url": "https://github.com/asmeurer",
      "followers_url": "https://api.github.com/users/asmeurer/followers",
      "following_url": "https://api.github.com/users/asmeurer/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions",
      "organizations_url": "https://api.github.com/users/asmeurer/orgs",
      "repos_url": "https://api.github.com/users/asmeurer/repos",
      "events_url": "https://api.github.com/users/asmeurer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmeurer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T18:35:18Z",
    "updated_at": "2016-05-18T18:35:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "I specifically need to send a sequence after the prompt but before the user-entered code. I also need to do a separate sequence after the user-entered code but before the output, for which I use [pre_execute](https://github.com/asmeurer/iterm2-tools/blob/06198b46b0ccc6502b2c12e3f08c8310dc6d4ced/iterm2_tools/ipython.py#L117). \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220140755",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220140755",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220140755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDE0MDc1NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T20:00:45Z",
    "updated_at": "2016-05-18T20:00:45Z",
    "author_association": "MEMBER",
    "body": "I'm not sure how 'after the prompt but before user entered code' works with prompt_toolkit - my understanding is that it can update the multiline prompt area and user input area as you're typing.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220144199",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220144199",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220144199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDE0NDE5OQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T20:14:11Z",
    "updated_at": "2016-05-18T20:14:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Honestly, right now there is no way to do this. Any VT escape sequence will be escaped, there is no way to insert this in the output.\n\nThere is this issue: https://github.com/jonathanslenders/python-prompt-toolkit/issues/148\nBut it didn't make it on my list because of not much interest and only working on iTerm2.\n\nHowever, one workaround that could possibly work is printing literally everything before the IPython prompt, just like this: `'\\033]133;A\\aIn[1]:\\033]133;B\\a\\r'`.\nSo print BEFORE_PROMPT, followed by the actual prompt (but not through prompt-toolkit), then print AFTER_PROMPT, then print carriage return. prompt-toolkit should then overwrite this prompt, but Iterm2 should now  know about these positions.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/220144310",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-220144310",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 220144310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDE0NDMxMA==",
    "user": {
      "login": "asmeurer",
      "id": 71486,
      "node_id": "MDQ6VXNlcjcxNDg2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmeurer",
      "html_url": "https://github.com/asmeurer",
      "followers_url": "https://api.github.com/users/asmeurer/followers",
      "following_url": "https://api.github.com/users/asmeurer/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions",
      "organizations_url": "https://api.github.com/users/asmeurer/orgs",
      "repos_url": "https://api.github.com/users/asmeurer/repos",
      "events_url": "https://api.github.com/users/asmeurer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmeurer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-18T20:14:35Z",
    "updated_at": "2016-05-18T20:14:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you're talking about \"continuation\" prompts or any additional prompt that is shown after you start typing, those aren't supported. Basically, it should do\n\n{before_prompt}prompt >{after prompt} <user code here>\n\nand if additional \"prompts\" are generated after the user starts typing code, those will just be considered to be part of the user input. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/222247727",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-222247727",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 222247727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjI0NzcyNw==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-27T20:38:53Z",
    "updated_at": "2016-05-27T20:38:53Z",
    "author_association": "MEMBER",
    "body": "We should test this branch (that needs rebase) with https://github.com/jonathanslenders/python-prompt-toolkit/pull/299\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/222278899",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-222278899",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 222278899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjI3ODg5OQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-28T00:21:49Z",
    "updated_at": "2016-05-28T00:21:49Z",
    "author_association": "MEMBER",
    "body": "Figured things out and sent a fix to PTK. \nI'll try to write up documentation for that later and send it to you @takluyver \nMonday is holidays here in the US, so might be a slow day. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/222814975",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-222814975",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 222814975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjgxNDk3NQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-31T20:46:09Z",
    "updated_at": "2016-05-31T20:46:09Z",
    "author_association": "MEMBER",
    "body": "Sent a PR to improve/remove & docs :  https://github.com/takluyver/ipython/issues/17\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/222964029",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-222964029",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 222964029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjk2NDAyOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-01T11:20:35Z",
    "updated_at": "2016-06-01T11:20:35Z",
    "author_association": "MEMBER",
    "body": "Merged @Carreau's doc changes and rebased. Then merged @Carreau's doc changes again, because I rebased without pulling ;-)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/223014708",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-223014708",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 223014708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzAxNDcwOA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-01T14:43:05Z",
    "updated_at": "2016-06-01T14:43:05Z",
    "author_association": "MEMBER",
    "body": "> Merged @Carreau's doc changes and rebased. Then merged @Carreau's doc changes again, because I rebased without pulling ;-)\n\nNobody's perfect. \n\nI think I'm +1 one that, with #9515 merged, we might be able to send a fix to @asmeurer iterm2-tools to not break (though it will still need ptk to get a new release for al to work). \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/223117010",
    "html_url": "https://github.com/ipython/ipython/pull/9471#issuecomment-223117010",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9471",
    "id": 223117010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzExNzAxMA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-01T20:37:25Z",
    "updated_at": "2016-06-01T20:37:25Z",
    "author_association": "MEMBER",
    "body": "Ok, merging this and refining on master if necessary. \n"
  }
]
