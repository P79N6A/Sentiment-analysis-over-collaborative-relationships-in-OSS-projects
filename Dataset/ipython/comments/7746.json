[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73935434",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73935434",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73935434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTM1NDM0",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:28:49Z",
    "updated_at": "2015-02-11T18:28:49Z",
    "author_association": "MEMBER",
    "body": "Line 180 in the notebook: `\"metadata\": null,`. I'm pretty sure that should make the notebook invalid. Not sure how it got caused.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73937672",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73937672",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73937672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTM3Njcy",
    "user": {
      "login": "deprecated",
      "id": 161264,
      "node_id": "MDQ6VXNlcjE2MTI2NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/161264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deprecated",
      "html_url": "https://github.com/deprecated",
      "followers_url": "https://api.github.com/users/deprecated/followers",
      "following_url": "https://api.github.com/users/deprecated/following{/other_user}",
      "gists_url": "https://api.github.com/users/deprecated/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deprecated/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deprecated/subscriptions",
      "organizations_url": "https://api.github.com/users/deprecated/orgs",
      "repos_url": "https://api.github.com/users/deprecated/repos",
      "events_url": "https://api.github.com/users/deprecated/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deprecated/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:40:45Z",
    "updated_at": "2015-02-11T18:40:45Z",
    "author_association": "NONE",
    "body": "Actually, the problem has resolved itself after I updated my conda environment from py33 to py34\n\n```\n$ python -c \"import IPython; print(IPython.sys_info())\"\n{'commit_hash': 'd87a8cd',\n 'commit_source': 'installation',\n 'default_encoding': 'US-ASCII',\n 'ipython_path': '/Users/will/anaconda/envs/py34/lib/python3.4/site-packages/IPython',\n 'ipython_version': '2.2.0',\n 'os_name': 'posix',\n 'platform': 'Darwin-14.1.0-x86_64-i386-64bit',\n 'sys_executable': '/Users/will/anaconda/envs/py34/bin/python',\n 'sys_platform': 'darwin',\n 'sys_version': '3.4.1 |Anaconda 2.1.0 (x86_64)| (default, Sep 10 2014, '\n                '17:24:09) \\n'\n                '[GCC 4.2.1 (Apple Inc. build 5577)]'}\n```\n\nThe conversion now works fine, even though it is an older version of ipython.   So I'll close the issue since it seems to have just been a combination of particular versions of python and ipython, combined with some weirdness in my file. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73938697",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73938697",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73938697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTM4Njk3",
    "user": {
      "login": "deprecated",
      "id": 161264,
      "node_id": "MDQ6VXNlcjE2MTI2NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/161264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deprecated",
      "html_url": "https://github.com/deprecated",
      "followers_url": "https://api.github.com/users/deprecated/followers",
      "following_url": "https://api.github.com/users/deprecated/following{/other_user}",
      "gists_url": "https://api.github.com/users/deprecated/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deprecated/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deprecated/subscriptions",
      "organizations_url": "https://api.github.com/users/deprecated/orgs",
      "repos_url": "https://api.github.com/users/deprecated/repos",
      "events_url": "https://api.github.com/users/deprecated/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deprecated/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:46:20Z",
    "updated_at": "2015-02-11T18:46:20Z",
    "author_association": "NONE",
    "body": "Ignore my last comment - that was a different file.  Changing to py34 made no difference.  But removing all the `\"metadata\" null` lines from the file did do the trick.  I've no idea how they got there - I haven't edited the file outside of the web interface.  Anyway, thanks very much for your help. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73938702",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73938702",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73938702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTM4NzAy",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:46:22Z",
    "updated_at": "2015-02-11T18:46:22Z",
    "author_association": "MEMBER",
    "body": "Hmmm, but when I try converting it using IPython master, it fails again - different traceback, but probably the same issue.\n\nHow did you create this notebook? Was it in a stable version of IPython, a dev version, or some other notebook authoring tool? If there are invalid notebooks out there, we'd like to work out where they come from, and whether we need to handle them.\n\n```\n[NbConvertApp] ERROR | Notebook JSON is not valid v3: None is not of type 'object'\n\nFailed validating 'type' in schema['properties']['metadata']:\n    {'additionalProperties': True,\n     'description': 'Cell output metadata.',\n     'type': 'object'}\n\nOn instance['metadata']:\n    None\nTraceback (most recent call last):\n  File \"/home/takluyver/.local/bin/ipython\", line 5, in <module>\n    start_ipython()\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/__init__.py\", line 120, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/config/application.py\", line 574, in launch_instance\n    app.start()\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/terminal/ipapp.py\", line 367, in start\n    return self.subapp.start()\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbconvert/nbconvertapp.py\", line 261, in start\n    self.convert_notebooks()\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbconvert/nbconvertapp.py\", line 300, in convert_notebooks\n    output, resources = exporter.from_filename(notebook_filename, resources=resources)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbconvert/exporters/exporter.py\", line 153, in from_filename\n    return self.from_notebook_node(nbformat.read(f, as_version=4), resources=resources, **kw)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/__init__.py\", line 133, in read\n    return reads(fp.read(), as_version, **kwargs)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/__init__.py\", line 69, in reads\n    nb = convert(nb, as_version)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/converter.py\", line 46, in convert\n    converted = convert_function(nb)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/v4/convert.py\", line 56, in upgrade\n    cells.append(upgrade_cell(cell))\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/v4/convert.py\", line 92, in upgrade_cell\n    cell.outputs = upgrade_outputs(cell.outputs)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/v4/convert.py\", line 221, in upgrade_outputs\n    return [upgrade_output(op) for op in outputs]\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/v4/convert.py\", line 221, in <listcomp>\n    return [upgrade_output(op) for op in outputs]\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/v4/convert.py\", line 179, in upgrade_output\n    to_mime_key(output.metadata)\n  File \"/home/takluyver/.local/lib/python3.4/site-packages/IPython/nbformat/v4/convert.py\", line 145, in to_mime_key\n    if alias in d:\nTypeError: argument of type 'NoneType' is not iterable\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73939215",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73939215",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73939215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTM5MjE1",
    "user": {
      "login": "deprecated",
      "id": 161264,
      "node_id": "MDQ6VXNlcjE2MTI2NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/161264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deprecated",
      "html_url": "https://github.com/deprecated",
      "followers_url": "https://api.github.com/users/deprecated/followers",
      "following_url": "https://api.github.com/users/deprecated/following{/other_user}",
      "gists_url": "https://api.github.com/users/deprecated/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deprecated/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deprecated/subscriptions",
      "organizations_url": "https://api.github.com/users/deprecated/orgs",
      "repos_url": "https://api.github.com/users/deprecated/repos",
      "events_url": "https://api.github.com/users/deprecated/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deprecated/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:49:06Z",
    "updated_at": "2015-02-11T18:49:06Z",
    "author_association": "NONE",
    "body": "File was originally created in whatever was the default set of packages in the anaconda distribution of February 2014.  I've no idea how to reproduce that environment now\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73939877",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73939877",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73939877,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTM5ODc3",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:52:22Z",
    "updated_at": "2015-02-11T18:52:22Z",
    "author_association": "MEMBER",
    "body": "OK, but it probably had a stable released version of IPython. @minrk , I wouldn't add support for this yet, but we should make a mental note of it - if we see more of this, we might need to handle it when reading v3 notebooks.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73940173",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73940173",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73940173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTQwMTcz",
    "user": {
      "login": "deprecated",
      "id": 161264,
      "node_id": "MDQ6VXNlcjE2MTI2NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/161264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deprecated",
      "html_url": "https://github.com/deprecated",
      "followers_url": "https://api.github.com/users/deprecated/followers",
      "following_url": "https://api.github.com/users/deprecated/following{/other_user}",
      "gists_url": "https://api.github.com/users/deprecated/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deprecated/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deprecated/subscriptions",
      "organizations_url": "https://api.github.com/users/deprecated/orgs",
      "repos_url": "https://api.github.com/users/deprecated/repos",
      "events_url": "https://api.github.com/users/deprecated/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deprecated/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:54:00Z",
    "updated_at": "2015-02-11T18:54:00Z",
    "author_association": "NONE",
    "body": "I just resaved the notebook from my current environment and it seems fine (no instances of `null,` in the entire file).  \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/73945460",
    "html_url": "https://github.com/ipython/ipython/issues/7746#issuecomment-73945460",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7746",
    "id": 73945460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTQ1NDYw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T19:20:52Z",
    "updated_at": "2015-02-11T19:20:52Z",
    "author_association": "MEMBER",
    "body": "Thanks, we'll keep an eye out for this in the future. We should consider including handling of this in the v3->v4 upgrade process. I'm not sure how it could be caused, though.\n"
  }
]
