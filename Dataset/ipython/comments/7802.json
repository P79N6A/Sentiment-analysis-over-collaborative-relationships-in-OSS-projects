[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/74615829",
    "html_url": "https://github.com/ipython/ipython/issues/7802#issuecomment-74615829",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7802",
    "id": 74615829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjE1ODI5",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-17T04:31:50Z",
    "updated_at": "2015-02-17T04:31:50Z",
    "author_association": "MEMBER",
    "body": "Can you show the contents of the relevant `kernel.json` files that you're switching between? And just to confirm, you're switching _from_ Python 2 _to_ Python 3 when you get that traceback? I'm a bit surprised that it's trying to launch `python2` if you switched to Python 3.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/74620474",
    "html_url": "https://github.com/ipython/ipython/issues/7802#issuecomment-74620474",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7802",
    "id": 74620474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjIwNDc0",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-17T05:53:25Z",
    "updated_at": "2015-02-17T05:53:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "So the procedure is:\n- run a py2.7 notebook\n- don't like something, save notebook\n- close notebook, kill ipython notebook\n- switch to py34 environment\n- start a new python notebook\n- launch the previously saved notebook\n- that's when above error appears.\n\nWhere do I find these different kernel.jsons ?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/74620683",
    "html_url": "https://github.com/ipython/ipython/issues/7802#issuecomment-74620683",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7802",
    "id": 74620683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjIwNjgz",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-17T05:56:36Z",
    "updated_at": "2015-02-17T05:56:36Z",
    "author_association": "MEMBER",
    "body": "Ah, I see, you're starting a new notebook server in a different environment, not switching the kernel within the notebook.\n\nAre there any folders in `~/.ipython/kernels`? If so, each one should have a kernel.json in it.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/74626282",
    "html_url": "https://github.com/ipython/ipython/issues/7802#issuecomment-74626282",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7802",
    "id": 74626282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjI2Mjgy",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-17T07:13:05Z",
    "updated_at": "2015-02-17T07:13:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Only one subfolder called 'python2' and here is its kernel.json:\n\n``` json\n$ less kernel.json\n{\n \"display_name\": \"Python 2\",\n \"language\": \"python\",\n \"argv\": [\n  \"python2\",\n  \"-c\",\n  \"from IPython.kernel.zmq.kernelapp import main; main()\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"codemirror_mode\": {\n  \"version\": 2,\n  \"name\": \"python\"\n }\n}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/74713401",
    "html_url": "https://github.com/ipython/ipython/issues/7802#issuecomment-74713401",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/7802",
    "id": 74713401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzEzNDAx",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-17T17:42:11Z",
    "updated_at": "2015-02-17T17:42:11Z",
    "author_association": "MEMBER",
    "body": "OK, I see what's happening. When you save the notebook, it records in the metadata that it is associated with a Python 2 kernel, so when you open it, it will try to start a Python 2 kernel for it. This much is as is intended.\n\nWhere it's going wrong is that kernel.json file - I guess it was created by an earlier commit of IPython. It tries to launch `python2`, which isn't in your $PATH in the Python 3 conda env. The kernel.json files we now create specify a full `/path/to/env/bin/python` to avoid this problem. If you delete the `python2` subfolder, it should fix that.\n\nThen if you want to use the new kernel switching mechanism to test your notebook without having to restart the server, run `ipython kernelspec install-self` in the environment where you're _not_ going to run the server (e.g. run that command in the Python 2 env, and then run `ipython notebook` in the Python 3 env). That will create a new kernel.json which should work better.\n"
  }
]
