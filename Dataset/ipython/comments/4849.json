[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/33172831",
    "html_url": "https://github.com/ipython/ipython/pull/4849#issuecomment-33172831",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4849",
    "id": 33172831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTcyODMx",
    "user": {
      "login": "jstenar",
      "id": 281420,
      "node_id": "MDQ6VXNlcjI4MTQyMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/281420?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jstenar",
      "html_url": "https://github.com/jstenar",
      "followers_url": "https://api.github.com/users/jstenar/followers",
      "following_url": "https://api.github.com/users/jstenar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jstenar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jstenar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jstenar/subscriptions",
      "organizations_url": "https://api.github.com/users/jstenar/orgs",
      "repos_url": "https://api.github.com/users/jstenar/repos",
      "events_url": "https://api.github.com/users/jstenar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jstenar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-23T21:50:07Z",
    "updated_at": "2014-01-23T22:19:12Z",
    "author_association": "MEMBER",
    "body": "I still see a problem with a unicode username that can not be represented by the codepage in the console. For me åäö works but using more exotic characters gives me problems.\n\nThis is the warning I get.\nC:\\python27\\lib\\site-packages\\ipython-2.0.0_dev-py2.7.egg\\IPython\\utils\\path.py:\n314: UserWarning: IPython parent 'C:\\Users\\?????\\Documents' is not a writable location, using a temp directory.  \" using a temp directory.\"%parent)\n\nIt seems that the winreg functions in get_home_dir is returning this garbage. \n\nThis might held to build a new get_home_dir function:\n\nFrom http://measureofchaos.wordpress.com/2011/03/04/python-on-windows-unicode-environment-variables/\n\n``` python\nimport ctypes\n\ndef getEnvironmentVariable(name):\n    n= ctypes.windll.kernel32.GetEnvironmentVariableW(name, None, 0)\n    if n==0:\n        return None\n    buf= ctypes.create_unicode_buffer(u' '*n)\n    ctypes.windll.kernel32.GetEnvironmentVariableW(name, buf, n)\n    return buf.value\n```\n\nWe could use this function to determine the homedir from the Environment variabels HOMEPATH and HOMEDRIVE\n\nIn fact we should probably use a function like this for all access to Environment variables on windows to ensure that we get unicode values. For example IPYTHONDIR could be set to a unicode path.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/33177740",
    "html_url": "https://github.com/ipython/ipython/pull/4849#issuecomment-33177740",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4849",
    "id": 33177740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTc3NzQw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-23T22:42:49Z",
    "updated_at": "2014-01-23T22:42:49Z",
    "author_association": "MEMBER",
    "body": "Thanks for the info. I'm not sure we really need to handle the exotic cases where the path isn't encodable with the system code page, especially since Python 3 already does the right thing. Because at least we do seem to support the case where the path is encoded with the system code page (in my case, cp1252), but is not encodable in the console code page (in my case, cp437).\n\nWhat are your values for:\n- locale.getpreferredencoding()\n- sys.getfilesystemencoding()\n- sys.stdin.encoding()\n- os.environ['HOMEPATH']\n\nAnd what specific unicode code points are you using that don't fit in the console code page?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/33527497",
    "html_url": "https://github.com/ipython/ipython/pull/4849#issuecomment-33527497",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4849",
    "id": 33527497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTI3NDk3",
    "user": {
      "login": "jstenar",
      "id": 281420,
      "node_id": "MDQ6VXNlcjI4MTQyMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/281420?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jstenar",
      "html_url": "https://github.com/jstenar",
      "followers_url": "https://api.github.com/users/jstenar/followers",
      "following_url": "https://api.github.com/users/jstenar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jstenar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jstenar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jstenar/subscriptions",
      "organizations_url": "https://api.github.com/users/jstenar/orgs",
      "repos_url": "https://api.github.com/users/jstenar/repos",
      "events_url": "https://api.github.com/users/jstenar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jstenar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-28T21:24:42Z",
    "updated_at": "2014-01-28T21:24:42Z",
    "author_association": "MEMBER",
    "body": "My tests were done using a username with greek letters.\n\n```\nIn [1]: import locale,sys,os\n\nIn [2]: locale.getpreferredencoding()\nOut[2]: 'cp1252'\n\nIn [3]: sys.getfilesystemencoding()\nOut[3]: 'mbcs'\n\nIn [4]: sys.std\nsys.stderr sys.stdin  sys.stdout\n\nIn [5]: sys.stdin.encoding\nOut[5]: 'cp1252'\n\nIn [6]: os.environ[\"HOMEPATH\"]\nOut[6]: '\\\\Users\\\\?????'\n\nIn [10]: os.listdir(u\"c:/users\")\nOut[10]:\n[u'All Users',\n u'\\u039c\\u0391\\u0399\\u03a1\\u0397']\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/33638841",
    "html_url": "https://github.com/ipython/ipython/pull/4849#issuecomment-33638841",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4849",
    "id": 33638841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjM4ODQx",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T22:27:33Z",
    "updated_at": "2014-01-29T22:27:33Z",
    "author_association": "MEMBER",
    "body": "Thanks for the example. I think we are at a point where it is acceptable to require Python 3 for sufficiently complex unicode situations on Windows.  I think this fix as it is right now should be sufficient.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/33641744",
    "html_url": "https://github.com/ipython/ipython/pull/4849#issuecomment-33641744",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4849",
    "id": 33641744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjQxNzQ0",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-29T22:59:16Z",
    "updated_at": "2014-01-29T22:59:16Z",
    "author_association": "MEMBER",
    "body": "Backported\n"
  }
]
