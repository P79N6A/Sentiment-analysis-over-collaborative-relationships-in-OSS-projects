[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/251637739",
    "html_url": "https://github.com/ipython/ipython/issues/9982#issuecomment-251637739",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9982",
    "id": 251637739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTYzNzczOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-05T10:24:03Z",
    "updated_at": "2016-10-05T10:24:03Z",
    "author_association": "MEMBER",
    "body": "Have you run `%matplotlib`? This was always recommended for using matplotlib in IPython, but in some cases on IPython <= 4, it worked anyway. Once matplotlib 2 is out it should be unnecessary again.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/252448346",
    "html_url": "https://github.com/ipython/ipython/issues/9982#issuecomment-252448346",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9982",
    "id": 252448346,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MjQ0ODM0Ng==",
    "user": {
      "login": "jorgehatccrma",
      "id": 1522348,
      "node_id": "MDQ6VXNlcjE1MjIzNDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1522348?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorgehatccrma",
      "html_url": "https://github.com/jorgehatccrma",
      "followers_url": "https://api.github.com/users/jorgehatccrma/followers",
      "following_url": "https://api.github.com/users/jorgehatccrma/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorgehatccrma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorgehatccrma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorgehatccrma/subscriptions",
      "organizations_url": "https://api.github.com/users/jorgehatccrma/orgs",
      "repos_url": "https://api.github.com/users/jorgehatccrma/repos",
      "events_url": "https://api.github.com/users/jorgehatccrma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorgehatccrma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-08T21:04:38Z",
    "updated_at": "2016-10-08T21:04:38Z",
    "author_association": "NONE",
    "body": "I did run `%matplotlib`, but didn't help. That said I have more information that could be helpful.\n\nIn the original report, there's a mistake on my part. If you run it the way I explained, it does work. But if I remove the line `plt.ion()` in the saved file, then it doesn't (despite the fact that I already called `plt.ion()`  in the ipython session before running the script). The updated test case should be:\n\n## Test case\n1. Start ipython and issue these commands:\n   \n   ```\n   In [1]: %matplotlib\n   Using matplotlib backend: MacOSX\n   \n   In [2]: import matplotlib.pyplot as plt\n   \n   In [3]: plt.ion()\n   \n   In [4]: plt.isinteractive()\n   Out[4]: True\n   ```\n   \n   Note that, as expected,  `plt.isinteractive()` returns `True`\n2. Save this snippet as `test.py`:\n   \n   ```\n   import matpltlib.pyplot as plt\n   # plt.ion()\n   plt.plot([1,2])\n   ```\n3. Open IPython console and type:\n   \n   ```\n   In [5]: %run -i test.py\n   ```\n4. Nothing shows up\n5. Type\n   \n   ```\n   In [6]: plt.show()\n   \n   In [7]:\n   ```\n   \n   The figure shows up in interactive mode, as I am able to issue commands in the console without closing the figure (see the prompt `In [7]`)\n6. Paste the snippet directly in the console: \n   \n   ```\n   In [7]: %paste\n   import matplotlib.pyplot as plt\n   # plt.ion()\n   plt.plot([1,2])\n   ## -- End pasted text --\n   Out[7]: [<matplotlib.lines.Line2D at 0x10e4b3f50>]\n   ```\n   \n   The figure shows up immediately.\n\n## More Info\n\nSome interesting facts:\n1. Passing `-i` to `%run` doesn't affect the test case (same behaviour with or without `-i`)\n2. I found out that issuing `%edit test.py`, does indeed show up the figure immediately after closing the editor (without having to call `plt.show()`)\n3. If I uncomment the second line in `test.py`, then `%run test.py` does open the figure as expected (before the upgrade, it wasn't necessary to add `plt.ion()` in a script if the ipython session was in interactive mode)\n\nThis last point seems to indicate that the current session's interactive mode is not respected by the `%run` magic. To confirm this, I added `print(\"is interactive? {}\".format(plt.isinteractive()))` to the saved file and this is what I get:\n\n```\nIn [14]: print(\"is interactive? {}\".format(plt.isinteractive()))\nis interactive? True\n\nIn [15]: %run -i test.py\nis interactive? False\n```\n\nIt is interesting that `%edit` does behave as expected but not `%run`. Any ideas?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/252451724",
    "html_url": "https://github.com/ipython/ipython/issues/9982#issuecomment-252451724",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9982",
    "id": 252451724,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MjQ1MTcyNA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-08T22:21:47Z",
    "updated_at": "2016-10-08T22:21:47Z",
    "author_association": "MEMBER",
    "body": "Weird, I didn't think we did anything that would change the interactive-ness of mpl. @tacaswell ?\n"
  }
]
