[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/290719137",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-290719137",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 290719137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDcxOTEzNw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-31T13:57:12Z",
    "updated_at": "2017-03-31T13:57:12Z",
    "author_association": "MEMBER",
    "body": "I agree that it would be good to have an official hook for this, but if you want to experiment with it in the meantime, try replacing `get_ipython()._showtraceback`."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/290758576",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-290758576",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 290758576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDc1ODU3Ng==",
    "user": {
      "login": "Omnifarious",
      "id": 597857,
      "node_id": "MDQ6VXNlcjU5Nzg1Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/597857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Omnifarious",
      "html_url": "https://github.com/Omnifarious",
      "followers_url": "https://api.github.com/users/Omnifarious/followers",
      "following_url": "https://api.github.com/users/Omnifarious/following{/other_user}",
      "gists_url": "https://api.github.com/users/Omnifarious/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Omnifarious/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Omnifarious/subscriptions",
      "organizations_url": "https://api.github.com/users/Omnifarious/orgs",
      "repos_url": "https://api.github.com/users/Omnifarious/repos",
      "events_url": "https://api.github.com/users/Omnifarious/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Omnifarious/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-31T16:17:43Z",
    "updated_at": "2017-03-31T16:18:57Z",
    "author_association": "NONE",
    "body": "That doesn't work because by the time the data gets to _showtraceback, ipython has already eaten the traceback and made strings out of it.\r\n\r\nThe better_exceptions package goes through the traceback and does variable lookups and a whole bunch of stuff. So it needs the raw stack data, not the strings that result from processing that data."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/290760344",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-290760344",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 290760344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDc2MDM0NA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-31T16:24:05Z",
    "updated_at": "2017-03-31T16:24:05Z",
    "author_association": "MEMBER",
    "body": "Right. Maybe override `showtraceback`?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/290839901",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-290839901",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 290839901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDgzOTkwMQ==",
    "user": {
      "login": "Omnifarious",
      "id": 597857,
      "node_id": "MDQ6VXNlcjU5Nzg1Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/597857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Omnifarious",
      "html_url": "https://github.com/Omnifarious",
      "followers_url": "https://api.github.com/users/Omnifarious/followers",
      "following_url": "https://api.github.com/users/Omnifarious/following{/other_user}",
      "gists_url": "https://api.github.com/users/Omnifarious/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Omnifarious/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Omnifarious/subscriptions",
      "organizations_url": "https://api.github.com/users/Omnifarious/orgs",
      "repos_url": "https://api.github.com/users/Omnifarious/repos",
      "events_url": "https://api.github.com/users/Omnifarious/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Omnifarious/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-31T21:55:19Z",
    "updated_at": "2017-03-31T21:55:19Z",
    "author_association": "NONE",
    "body": "Yes, that appears to work. Though that function takes a lot of extra arguments that I don't know what mean."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/290849166",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-290849166",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 290849166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDg0OTE2Ng==",
    "user": {
      "login": "Omnifarious",
      "id": 597857,
      "node_id": "MDQ6VXNlcjU5Nzg1Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/597857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Omnifarious",
      "html_url": "https://github.com/Omnifarious",
      "followers_url": "https://api.github.com/users/Omnifarious/followers",
      "following_url": "https://api.github.com/users/Omnifarious/following{/other_user}",
      "gists_url": "https://api.github.com/users/Omnifarious/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Omnifarious/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Omnifarious/subscriptions",
      "organizations_url": "https://api.github.com/users/Omnifarious/orgs",
      "repos_url": "https://api.github.com/users/Omnifarious/repos",
      "events_url": "https://api.github.com/users/Omnifarious/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Omnifarious/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-31T22:42:56Z",
    "updated_at": "2017-03-31T22:42:56Z",
    "author_association": "NONE",
    "body": "Here's an ipython startup file that does the trick:\r\n\r\n```python\r\nfrom __future__ import print_function\r\nimport better_exceptions, sys\r\n\r\nip = get_ipython()\r\nold_show = ip.showtraceback\r\n\r\ndef exception_thunk(exc_tuple=None, filename=None,\r\n                    tb_offset=None, exception_only=False):\r\n    print(\"Thunk: %r %r %r %r\" % (exc_tuple, filename, tb_offset, exception_only),\r\n          file=sys.stderr)\r\n    notuple = False\r\n    if exc_tuple is None:\r\n        notuple = True\r\n        exc_tuple = sys.exc_info()\r\n    use_better = True\r\n    use_better = use_better and (filename is None)\r\n    use_better = use_better and (tb_offset is None)\r\n    use_better = use_better and (not exception_only)\r\n    use_better = use_better and (not isinstance(exc_tuple[0], SyntaxError))\r\n    if use_better:\r\n        return better_exceptions.excepthook(*exc_tuple)\r\n    else:\r\n        return old_show(None if notuple else exc_tuple,\r\n                        filename, tb_offset, exception_only)\r\n\r\nip.showtraceback = exception_thunk\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/291234131",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-291234131",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 291234131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTIzNDEzMQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-03T18:38:50Z",
    "updated_at": "2017-04-03T18:38:50Z",
    "author_association": "MEMBER",
    "body": "@Omnifarious if you are motivated the exception handling could need some love, we already have multiple mode (using `xmode`). If you want to make it more pluggable to allow better switching that would be great. There is also a long standing issue (somewhere), to make tracebacks more structured so that we could provide richer representations in particular in the notebook. "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/293119160",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-293119160",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 293119160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzExOTE2MA==",
    "user": {
      "login": "Omnifarious",
      "id": 597857,
      "node_id": "MDQ6VXNlcjU5Nzg1Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/597857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Omnifarious",
      "html_url": "https://github.com/Omnifarious",
      "followers_url": "https://api.github.com/users/Omnifarious/followers",
      "following_url": "https://api.github.com/users/Omnifarious/following{/other_user}",
      "gists_url": "https://api.github.com/users/Omnifarious/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Omnifarious/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Omnifarious/subscriptions",
      "organizations_url": "https://api.github.com/users/Omnifarious/orgs",
      "repos_url": "https://api.github.com/users/Omnifarious/repos",
      "events_url": "https://api.github.com/users/Omnifarious/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Omnifarious/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-11T00:54:41Z",
    "updated_at": "2017-05-30T06:19:17Z",
    "author_association": "NONE",
    "body": "@Carreau - I don't think that I'm motivated enough to do that at this time. :-)\r\n\r\nBut, I realized that the above snippet was sub-optimal, and I wanted to add a better version, and per your suggestion I've put it in a gist:\r\n\r\nhttps://gist.github.com/Omnifarious/bfe19f07fd21e582591ee632ddca47ee\r\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/293681610",
    "html_url": "https://github.com/ipython/ipython/issues/10422#issuecomment-293681610",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10422",
    "id": 293681610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY4MTYxMA==",
    "user": {
      "login": "carlsmith",
      "id": 7561668,
      "node_id": "MDQ6VXNlcjc1NjE2Njg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7561668?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carlsmith",
      "html_url": "https://github.com/carlsmith",
      "followers_url": "https://api.github.com/users/carlsmith/followers",
      "following_url": "https://api.github.com/users/carlsmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/carlsmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carlsmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carlsmith/subscriptions",
      "organizations_url": "https://api.github.com/users/carlsmith/orgs",
      "repos_url": "https://api.github.com/users/carlsmith/repos",
      "events_url": "https://api.github.com/users/carlsmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carlsmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-12T19:24:36Z",
    "updated_at": "2017-04-12T19:24:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just for future reference, it's generally better to put scripts (really, anything more than example code) on GitHub Gist, then just link to the gist here. It's makes the code easier to maintain and discover, and helps to keep the comments in these conversations short and tidy. "
  }
]
