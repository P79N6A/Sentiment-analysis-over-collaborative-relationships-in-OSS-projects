[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20779388",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20779388",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20779388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzc5Mzg4",
    "user": {
      "login": "ellisonbg",
      "id": 27600,
      "node_id": "MDQ6VXNlcjI3NjAw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/27600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ellisonbg",
      "html_url": "https://github.com/ellisonbg",
      "followers_url": "https://api.github.com/users/ellisonbg/followers",
      "following_url": "https://api.github.com/users/ellisonbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ellisonbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ellisonbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ellisonbg/subscriptions",
      "organizations_url": "https://api.github.com/users/ellisonbg/orgs",
      "repos_url": "https://api.github.com/users/ellisonbg/repos",
      "events_url": "https://api.github.com/users/ellisonbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ellisonbg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T22:51:19Z",
    "updated_at": "2013-07-10T22:51:19Z",
    "author_association": "MEMBER",
    "body": "Ahh, I see the problem.  In a `%%latex` cell the ``\\\\` at the end of the line is being collapsed into the `\\nabla` on the following line.  Looks like we are removing newlines in `%%latex` cells now?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20780590",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20780590",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20780590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgwNTkw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T23:18:37Z",
    "updated_at": "2013-07-10T23:18:43Z",
    "author_association": "MEMBER",
    "body": "Nope, that's not something we have ever done.  I believe this is the same issue we have always had that forced the use of `\\\\\\` due to escape issues.  We (@ahmadia, I think) have fixed it in markdown in _some_ cases, but I don't think the same fix is applied to the output of a latex cell.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20780946",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20780946",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20780946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgwOTQ2",
    "user": {
      "login": "ellisonbg",
      "id": 27600,
      "node_id": "MDQ6VXNlcjI3NjAw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/27600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ellisonbg",
      "html_url": "https://github.com/ellisonbg",
      "followers_url": "https://api.github.com/users/ellisonbg/followers",
      "following_url": "https://api.github.com/users/ellisonbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ellisonbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ellisonbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ellisonbg/subscriptions",
      "organizations_url": "https://api.github.com/users/ellisonbg/orgs",
      "repos_url": "https://api.github.com/users/ellisonbg/repos",
      "events_url": "https://api.github.com/users/ellisonbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ellisonbg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T23:28:13Z",
    "updated_at": "2013-07-10T23:28:13Z",
    "author_association": "MEMBER",
    "body": "But the odd thing is that when we pass the same latex source to the Latex\nobject it works fine.\n\nOn Wed, Jul 10, 2013 at 4:18 PM, Min RK notifications@github.com wrote:\n\n> Nope, that's not something we have ever done. I believe this is the same\n> issue we have always had that forced the use of \\\\ due to escape issues.\n> We (@ahmdia, I think) have fixed it in markdown in _some_ cases, but I\n> don't think the same fix is applied to the output of a latex cell.\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/ipython/ipython/issues/3604#issuecomment-20780590\n> .\n\n## \n\nBrian E. Granger\nCal Poly State University, San Luis Obispo\nbgranger@calpoly.edu and ellisonbg@gmail.com\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20780977",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20780977",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20780977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgwOTc3",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T23:29:12Z",
    "updated_at": "2013-07-10T23:29:12Z",
    "author_association": "MEMBER",
    "body": "crazy, maybe we did add `''.join` somewhere that I'm not aware of.  Will investigate.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20781082",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20781082",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20781082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgxMDgy",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T23:32:28Z",
    "updated_at": "2013-07-10T23:32:28Z",
    "author_association": "MEMBER",
    "body": "My guess is we don't handle escaping backslashes properly in the cell magics\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20781428",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20781428",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20781428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgxNDI4",
    "user": {
      "login": "ahmadia",
      "id": 512293,
      "node_id": "MDQ6VXNlcjUxMjI5Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/512293?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahmadia",
      "html_url": "https://github.com/ahmadia",
      "followers_url": "https://api.github.com/users/ahmadia/followers",
      "following_url": "https://api.github.com/users/ahmadia/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahmadia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahmadia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahmadia/subscriptions",
      "organizations_url": "https://api.github.com/users/ahmadia/orgs",
      "repos_url": "https://api.github.com/users/ahmadia/repos",
      "events_url": "https://api.github.com/users/ahmadia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahmadia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T23:42:12Z",
    "updated_at": "2013-07-10T23:42:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just to chip in, I didn't touch anything besides the javascript for\nMarkdown cell-rendering.  I definitely didn't touch any of the Python code\nfor handling cell magics.\n\nOn Wed, Jul 10, 2013 at 7:32 PM, Min RK notifications@github.com wrote:\n\n> My guess is we don't handle escaping backslashes properly in the cell\n> magics\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/ipython/ipython/issues/3604#issuecomment-20781082\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20781894",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20781894",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20781894,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgxODk0",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T23:55:11Z",
    "updated_at": "2013-07-10T23:55:11Z",
    "author_association": "MEMBER",
    "body": "I think it's the input transform, etc. machinery.  When a line ends with `\\`, the following newline is not added.\n\nI believe this is due to [`assemble_logical_lines`](https://github.com/ipython/ipython/blob/d99b6cf73dbd3678b66f6deee97796aac91f0e4e/IPython/core/inputtransformer.py#L165) being called on the cell, which it should not be when it is a cell magic.  @takluyver any thoughts on how to prevent transformers from being applied when it is a cell magic?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20782060",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20782060",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20782060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgyMDYw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T23:59:42Z",
    "updated_at": "2013-07-10T23:59:42Z",
    "author_association": "MEMBER",
    "body": "Notebook [illustrating](http://nbviewer.ipython.org/5971323) the problematic behavior.  It's definitely the input transformer that interprets trailing `\\` as a line continuation. I don't know how to add the logic that zero transformers should be applied (other than the cell magic transform itself) when it is a cell magic.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20782080",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20782080",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20782080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgyMDgw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-11T00:00:33Z",
    "updated_at": "2013-07-11T00:00:33Z",
    "author_association": "MEMBER",
    "body": "@ahmadia thanks for reminding me.  After diving further into code, it's apparently totally unrelated to that (though the workaround is actually the same).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20783121",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20783121",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20783121,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgzMTIx",
    "user": {
      "login": "ellisonbg",
      "id": 27600,
      "node_id": "MDQ6VXNlcjI3NjAw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/27600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ellisonbg",
      "html_url": "https://github.com/ellisonbg",
      "followers_url": "https://api.github.com/users/ellisonbg/followers",
      "following_url": "https://api.github.com/users/ellisonbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ellisonbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ellisonbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ellisonbg/subscriptions",
      "organizations_url": "https://api.github.com/users/ellisonbg/orgs",
      "repos_url": "https://api.github.com/users/ellisonbg/repos",
      "events_url": "https://api.github.com/users/ellisonbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ellisonbg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-11T00:30:08Z",
    "updated_at": "2013-07-11T00:30:08Z",
    "author_association": "MEMBER",
    "body": "Hasn't there been other cases where the transformation logic has been\napplied to cell magics?  It seems like cell magics should never have their\ncontents touched and that the relevant code paths for that are too subtle\nperhaps?\n\nOn Wed, Jul 10, 2013 at 4:55 PM, Min RK notifications@github.com wrote:\n\n> I think it's the input transform, etc. machinery. When a line ends with \\,\n> the following newline is not added.\n> \n> I believe this is due to assemble_logical_lineshttps://github.com/ipython/ipython/blob/d99b6cf73dbd3678b66f6deee97796aac91f0e4e/IPython/core/inputtransformer.py#L165being called on the cell, which it should not be when it is a cell magic.\n> @takluyver https://github.com/takluyver any thoughts on how to prevent\n> transformers from being applied when it is a cell magic?\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/ipython/ipython/issues/3604#issuecomment-20781894\n> .\n\n## \n\nBrian E. Granger\nCal Poly State University, San Luis Obispo\nbgranger@calpoly.edu and ellisonbg@gmail.com\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/20783271",
    "html_url": "https://github.com/ipython/ipython/issues/3604#issuecomment-20783271",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3604",
    "id": 20783271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgzMjcx",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-11T00:34:35Z",
    "updated_at": "2013-07-11T00:34:35Z",
    "author_association": "MEMBER",
    "body": "I'm trying to read and understand the input splitter and transformer logic (this is really the domain of @takluyver and @fperez), but yes, I think that the understanding of cell magics is that _zero_ transforms should be applied. Part of what makes this tricky is that the cell magic is itself implemented as an input transform.\n"
  }
]
