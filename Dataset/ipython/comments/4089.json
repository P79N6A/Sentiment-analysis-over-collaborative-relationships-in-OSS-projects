[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/23056941",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-23056941",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 23056941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDU2OTQx",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-21T22:56:54Z",
    "updated_at": "2013-08-21T22:56:54Z",
    "author_association": "MEMBER",
    "body": "What happens where the transformations aren't being done line-by-line? i.e. if you just use `ip.run_cell()` to run code containing what you've defined as a syntax error?\n\nAlso, I don't think `test_application` is the right place for these tests. There should be a test for `run_cell` in `test_interactiveshell`, and the terminal frontend should be tested in `IPython.terminal`.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/23084495",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-23084495",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 23084495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDg0NDk1",
    "user": {
      "login": "vbraun",
      "id": 888729,
      "node_id": "MDQ6VXNlcjg4ODcyOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/888729?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vbraun",
      "html_url": "https://github.com/vbraun",
      "followers_url": "https://api.github.com/users/vbraun/followers",
      "following_url": "https://api.github.com/users/vbraun/following{/other_user}",
      "gists_url": "https://api.github.com/users/vbraun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vbraun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vbraun/subscriptions",
      "organizations_url": "https://api.github.com/users/vbraun/orgs",
      "repos_url": "https://api.github.com/users/vbraun/repos",
      "events_url": "https://api.github.com/users/vbraun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vbraun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-22T11:52:33Z",
    "updated_at": "2013-08-22T11:52:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "If your transformer raises a SyntaxError then nothing special is done, from Python (including via `ip.run_cell()`) you'll see a SyntaxError which you can chose to catch or not. With or without my patch.\n\nThe issue only about what happens if the transformer is used in the IPython REPL. The main IPython interact loop does not catch the SyntaxError so the Python process quits, which is not a desirable behavior for the REPL. The only change is in the interact loop, and nothing changed about how InputTransformers work. This is why it can't be tested in test_interactiveshell, I need to test the REPL.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/23105946",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-23105946",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 23105946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTA1OTQ2",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-22T16:45:18Z",
    "updated_at": "2013-08-22T16:45:18Z",
    "author_association": "MEMBER",
    "body": "But if I understand you correctly, that's different from the behaviour of `run_cell` when you enter something that passes the input transformers and is rejected by Python's parser. In that case, `run_cell` will catch the SyntaxError and display it to the user with our enhanced tracebacks. This is relevant because executing code in the notebook sends it straight to run_cell, without going via the code you've changed. I'm pretty sure that some changes to `run_cell` will be needed to accomodate this, and therefore an accompanying test in test_interactiveshell.\n\nYou should also check what the Qt console does, because it also doesn't use the code you've modified.\n\nAs I said, the bit you've already changed should be tested in the `IPython.terminal` tests. Your changes are not related to our Application architecture which is being tested in `test_application`.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/23627614",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-23627614",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 23627614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjI3NjE0",
    "user": {
      "login": "vbraun",
      "id": 888729,
      "node_id": "MDQ6VXNlcjg4ODcyOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/888729?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vbraun",
      "html_url": "https://github.com/vbraun",
      "followers_url": "https://api.github.com/users/vbraun/followers",
      "following_url": "https://api.github.com/users/vbraun/following{/other_user}",
      "gists_url": "https://api.github.com/users/vbraun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vbraun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vbraun/subscriptions",
      "organizations_url": "https://api.github.com/users/vbraun/orgs",
      "repos_url": "https://api.github.com/users/vbraun/repos",
      "events_url": "https://api.github.com/users/vbraun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vbraun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-01T16:04:27Z",
    "updated_at": "2013-09-01T16:04:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, I hadn't realized that `run_cell` prints tracebacks instead of raising them. I've changed it to also catch&print the 'SyntaxError' from input transformers, and added a test to `test_interactiveshell.py`\n\nAlso, I've moved the terminal test from `IPython/app/test` to `IPython/terminal/test`.\n\nI've checked that this works in the terminal, the Qt console, and the html notebook. I didn't have to do anything for the Qt console, presumably it uses `run_cell` as well.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/24549625",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-24549625",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 24549625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTQ5NjI1",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-16T22:20:56Z",
    "updated_at": "2013-09-16T22:20:56Z",
    "author_association": "MEMBER",
    "body": "Sorry it's taken me a while to get back on this.\n\nI think the run_cell method needs a bit of rearrangement to deal with the possibility of input transformers raising an error. Something like this (pseudocode, most of the details left out):\n\n```\ntry:\n    input transformations\nexcept SyntaxError:\n    preprocessing_failed = True\nelse:\n    with builtin_trap:\n        try:\n            prefilter\n        except...:\n            preprocessing_failed = True\n\nstore input history & log\n\nif preprocessing_failed:\n    display error\n    increment execution count\n    return\n\nwith builtin_trap:\n    continue with the execution code from self.compile.cache() call\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/24549711",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-24549711",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 24549711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTQ5NzEx",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-16T22:22:24Z",
    "updated_at": "2013-09-16T22:22:24Z",
    "author_association": "MEMBER",
    "body": "Also, the Qt console _does_ use the input splitter separately, from the `FrontendWidget._is_complete()` method, so that will probably need a try/except as well.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/25996742",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-25996742",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 25996742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTk2NzQy",
    "user": {
      "login": "ellisonbg",
      "id": 27600,
      "node_id": "MDQ6VXNlcjI3NjAw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/27600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ellisonbg",
      "html_url": "https://github.com/ellisonbg",
      "followers_url": "https://api.github.com/users/ellisonbg/followers",
      "following_url": "https://api.github.com/users/ellisonbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ellisonbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ellisonbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ellisonbg/subscriptions",
      "organizations_url": "https://api.github.com/users/ellisonbg/orgs",
      "repos_url": "https://api.github.com/users/ellisonbg/repos",
      "events_url": "https://api.github.com/users/ellisonbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ellisonbg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-09T18:39:29Z",
    "updated_at": "2013-10-09T18:39:29Z",
    "author_association": "MEMBER",
    "body": "@vbraun and progress on this PR?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/27928527",
    "html_url": "https://github.com/ipython/ipython/pull/4089#issuecomment-27928527",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/4089",
    "id": 27928527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTI4NTI3",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-07T00:38:16Z",
    "updated_at": "2013-11-07T00:38:16Z",
    "author_association": "MEMBER",
    "body": "Rebased and continued in #4504.\n"
  }
]
