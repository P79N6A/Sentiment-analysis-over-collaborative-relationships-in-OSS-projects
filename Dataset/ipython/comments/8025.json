[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/78474248",
    "html_url": "https://github.com/ipython/ipython/issues/8025#issuecomment-78474248",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8025",
    "id": 78474248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDc0MjQ4",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-12T12:57:12Z",
    "updated_at": "2015-03-12T12:57:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "The problem is in `IPython.config.loader.CommandLineConfigLoader`:\n\n```\n    def _exec_config_str(self, lhs, rhs):\n        \"\"\"execute self.config.<lhs> = <rhs>\n\n        * expands ~ with expanduser\n        * tries to assign with raw eval, otherwise assigns with just the string,\n          allowing `--C.a=foobar` and `--C.a=\"foobar\"` to be equivalent.  *Not*\n          equivalent are `--C.a=4` and `--C.a='4'`.\n        \"\"\"\n        rhs = os.path.expanduser(rhs)\n        try:\n            # Try to see if regular Python syntax will work. This\n            # won't handle strings as the quote marks are removed\n            # by the system shell.\n            value = eval(rhs) # Here we get the all function...\n        except (NameError, SyntaxError):\n            # This case happens if the rhs is a string.\n            value = rhs\n\n        exec(u'self.config.%s = value' % lhs)\n```\n\nThis is called from `KVArgParseConfigLoader._convert_to_config()`, which is called from `ArgParseConfigLoader.load_config()`, which is called from `Application.parse_command_line()`\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/78475987",
    "html_url": "https://github.com/ipython/ipython/issues/8025#issuecomment-78475987",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8025",
    "id": 78475987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDc1OTg3",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-12T13:10:23Z",
    "updated_at": "2015-03-12T13:12:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "My workaround is currently this:\n\n```\nclass KnitpyApp(BaseIPythonApplication):\n    [...]\n    export_format = CaselessStrEnum(VALID_OUTPUT_FORMATS+[\"all\"],\n        default_value=DEFAULT_OUTPUT_FORMAT,\n        config=True,\n        help=\"\"\"The export format to be used.\"\"\"\n    )\n    # This is a workaround for https://github.com/ipython/ipython/issues/8025\n    # a value of \"all\" is converted to the function `all` during commandline parsing, which \n    # raises if that is set as `export_format`. So on config change, first change it back and \n    # then call the original _config_changed(), which puts the config values to the traits\n    def _config_changed(self, name, old, new):\n        if get_by_name(new, \"KnitpyApp.export_format\", na=None) is all:\n            new.KnitpyApp.export_format = \"all\"\n        super(KnitpyApp, self)._config_changed(name, old, new)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/78549430",
    "html_url": "https://github.com/ipython/ipython/issues/8025#issuecomment-78549430",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8025",
    "id": 78549430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTQ5NDMw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-12T18:03:10Z",
    "updated_at": "2015-03-12T18:03:10Z",
    "author_association": "MEMBER",
    "body": "#8030 should fix this.\n"
  }
]
