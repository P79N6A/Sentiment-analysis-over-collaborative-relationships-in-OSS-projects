[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15556119",
    "html_url": "https://github.com/ipython/ipython/issues/3098#issuecomment-15556119",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3098",
    "id": 15556119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTU2MTE5",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-27T22:04:33Z",
    "updated_at": "2013-03-27T22:04:33Z",
    "author_association": "MEMBER",
    "body": "I'd guess that [this line](https://github.com/ipython/ipython/blob/master/IPython/extensions/rmagic.py#L541), which sets R to produce png output, is creating a blank png file on Windows. IPython will then see that file, think there's a plot, and display it.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15556392",
    "html_url": "https://github.com/ipython/ipython/issues/3098#issuecomment-15556392",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3098",
    "id": 15556392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTU2Mzky",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-27T22:09:53Z",
    "updated_at": "2013-03-27T22:10:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "It is indeed, because when I comment that line (and `self.r('dev.off()')`), no blank figure is shown. But also no real figures ..\n\nIf I try this in R:\n\n```\n> png(\"D:/Rplot.png\")\n> dev.off()\n```\n\nit indeed creates a blank figure. Is this not the case on linux?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15557023",
    "html_url": "https://github.com/ipython/ipython/issues/3098#issuecomment-15557023",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3098",
    "id": 15557023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTU3MDIz",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-27T22:23:18Z",
    "updated_at": "2013-03-27T22:23:18Z",
    "author_association": "MEMBER",
    "body": "Nope - on Linux it only seems to create the file once you plot something.\n\nI don't immediately see a good way round that - there's no option to `png()` that looks like it will control that behaviour. IPython could check the file, but if it's a valid image file, we have two bad options:\n- Hardcode a hash of the blank png file, and ignore files matching that. But any change in the file written by R (e.g. resolution), and it pops back up.\n- Open the file and deduce that it is blank. But that would need an imaging library like PIL to be installed so we can examine the file.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15557540",
    "html_url": "https://github.com/ipython/ipython/issues/3098#issuecomment-15557540",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3098",
    "id": 15557540,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTU3NTQw",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-27T22:34:17Z",
    "updated_at": "2013-03-27T22:34:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "I splitted the second part (no text output) into a new issue (#3100), because I think it is a seperate issue (I thought this would be the clearest).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/15561717",
    "html_url": "https://github.com/ipython/ipython/issues/3098#issuecomment-15561717",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3098",
    "id": 15561717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTYxNzE3",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-28T00:25:14Z",
    "updated_at": "2013-03-28T00:25:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "See also http://stackoverflow.com/questions/9712741/using-jpegfile-creates-an-empty-jpeg-even-though-theres-not-a-call-to-creat. The first suggested solution (checking for 0 kB files) will certainly not work since it is not 0 kB (unless the threshold is set a little bit higher, and in principle this may work since it would be difficult or not common to create a figure file that is smaller than a blank file I think).\n\nSomething else, from the `png()` docs:\n\n```\nThe ‘type = \"windows\"’ versions of these devices effectively plot\non a hidden screen and then copy the image to the required format.\n```\n\nThe other option is `type = \"cairo\"` (which does not create a file for the hiddens creen), so I tried this by changing the line to this:\n\n``` python\nself.r('png(\"%s/Rplots%%03d.png\",%s, type=\"cairo\")' % (tmpd.replace('\\\\', '/'), png_args))\n```\n\nAnd this works for me!\n\nNow, I don't know much about the graphics devices of R, so I don't know if the \"cairo\" type is available by default on all Windows installations of R (and I also didn't found that on the internet, at least nothing that I understood) in case this would be a good fix.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/29170146",
    "html_url": "https://github.com/ipython/ipython/issues/3098#issuecomment-29170146",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3098",
    "id": 29170146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTcwMTQ2",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-24T23:49:56Z",
    "updated_at": "2013-11-24T23:49:56Z",
    "author_association": "MEMBER",
    "body": "@davclark I've just been reminded of this issue. It should be on your radar now that rmagic is moving to rpy2.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/29254552",
    "html_url": "https://github.com/ipython/ipython/issues/3098#issuecomment-29254552",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3098",
    "id": 29254552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjU0NTUy",
    "user": {
      "login": "davclark",
      "id": 120710,
      "node_id": "MDQ6VXNlcjEyMDcxMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/120710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davclark",
      "html_url": "https://github.com/davclark",
      "followers_url": "https://api.github.com/users/davclark/followers",
      "following_url": "https://api.github.com/users/davclark/following{/other_user}",
      "gists_url": "https://api.github.com/users/davclark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davclark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davclark/subscriptions",
      "organizations_url": "https://api.github.com/users/davclark/orgs",
      "repos_url": "https://api.github.com/users/davclark/repos",
      "events_url": "https://api.github.com/users/davclark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davclark/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-25T23:46:09Z",
    "updated_at": "2013-11-25T23:46:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm adding an issue on rpy2. Please follow up there, and you are welcome to mark this issue as closed / wontfix (though we can of course backport changes from rpy2).\n\nPlease continue the discussion at [rpy2 issue 170](https://bitbucket.org/lgautier/rpy2/issue/170/rpy2ipython-rmagic-on-windows-blank-figure)\n"
  }
]
