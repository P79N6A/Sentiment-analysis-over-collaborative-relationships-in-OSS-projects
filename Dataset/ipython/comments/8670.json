[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/125709767",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-125709767",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 125709767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTcwOTc2Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T18:41:56Z",
    "updated_at": "2015-07-28T18:41:56Z",
    "author_association": "MEMBER",
    "body": "Seems reasonable. We try to be strict about what is expected to be unicode and what is bytes, and normally the return value of raw_input on Py2 is always bytes. But returning unicode seems like a valid thing for it to do on Windows.\n\nIt should use `cast_unicode_py2`, though - Py3 input() should never return bytes.\n\nFeel free to make a PR.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/125710709",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-125710709",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 125710709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTcxMDcwOQ==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T18:43:42Z",
    "updated_at": "2015-07-28T18:43:42Z",
    "author_association": "MEMBER",
    "body": "Yeah, I suppose we assume that raw_input actually behaves as Python 2 defines its behavior. I think we used to make raw_input return unicode, but that actually caused problems. Because of that, I might recommend that you not modify raw_input's return type, which will break compatibility with many things (including IPython, here), and wrap the decoding of raw_input str in Python 2 in your own code.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/125714879",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-125714879",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 125714879,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTcxNDg3OQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T18:51:36Z",
    "updated_at": "2015-07-28T18:51:36Z",
    "author_association": "MEMBER",
    "body": "@minrk  - I've come across win-unicode-console before, it's a shim that allows Python to talk to the Unicode native APIs for the Windows console. So, whether it's advisable or not, replacing raw_input is part of the aim, and I think it's very easy for us to support raw_input() returning unicode.\n\nThe issue with std\\* streams (#8669) is probably trickier, and I'm less sure we should accommodate that.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/125737491",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-125737491",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 125737491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTczNzQ5MQ==",
    "user": {
      "login": "Drekin",
      "id": 7892803,
      "node_id": "MDQ6VXNlcjc4OTI4MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7892803?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Drekin",
      "html_url": "https://github.com/Drekin",
      "followers_url": "https://api.github.com/users/Drekin/followers",
      "following_url": "https://api.github.com/users/Drekin/following{/other_user}",
      "gists_url": "https://api.github.com/users/Drekin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Drekin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Drekin/subscriptions",
      "organizations_url": "https://api.github.com/users/Drekin/orgs",
      "repos_url": "https://api.github.com/users/Drekin/repos",
      "events_url": "https://api.github.com/users/Drekin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Drekin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T20:04:30Z",
    "updated_at": "2015-07-28T20:04:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually, replacing raw_input is needed for a specific reason just on Python 2 and making it return unicode or bytes is up to me. I'm still not sure which is better. On one hand, I agree with @minrk that returning bytes is definitely safer, on the other hand I think that returning unicode is more useful and correct. So I first tried returning unicode to see, whether there are problems. Maybe, I'll reconsiderâ€¦\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/125752109",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-125752109",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 125752109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTc1MjEwOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T20:57:45Z",
    "updated_at": "2015-07-28T20:57:45Z",
    "author_association": "MEMBER",
    "body": "If you return bytes, we'll decode it using the locale encoding, which will typically be cp1252 on anglophone Windows machines. So you can't represent the full range of unicode characters which the user may enter, as I understand it. I think returning unicode is the right thing to do, we just made an assumption that Python 2 would return bytes.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/125753963",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-125753963",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 125753963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTc1Mzk2Mw==",
    "user": {
      "login": "Drekin",
      "id": 7892803,
      "node_id": "MDQ6VXNlcjc4OTI4MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7892803?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Drekin",
      "html_url": "https://github.com/Drekin",
      "followers_url": "https://api.github.com/users/Drekin/followers",
      "following_url": "https://api.github.com/users/Drekin/following{/other_user}",
      "gists_url": "https://api.github.com/users/Drekin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Drekin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Drekin/subscriptions",
      "organizations_url": "https://api.github.com/users/Drekin/orgs",
      "repos_url": "https://api.github.com/users/Drekin/repos",
      "events_url": "https://api.github.com/users/Drekin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Drekin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T21:06:40Z",
    "updated_at": "2015-07-28T21:06:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think that bytes coming from raw_input should be always decoded using sys.stdin.encoding, and that is what you do by default (https://github.com/ipython/ipython/blob/master/IPython/utils/encoding.py#L51).\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/125755418",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-125755418",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 125755418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTc1NTQxOA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T21:12:07Z",
    "updated_at": "2015-07-28T21:12:07Z",
    "author_association": "MEMBER",
    "body": "Ah, right, I'd forgotten that. So you could set `sys.stdin.encoding = 'utf-16'`. I guess that depends on #8669, though, which would require a bigger change.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/126016190",
    "html_url": "https://github.com/ipython/ipython/issues/8670#issuecomment-126016190",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/8670",
    "id": 126016190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjAxNjE5MA==",
    "user": {
      "login": "Drekin",
      "id": 7892803,
      "node_id": "MDQ6VXNlcjc4OTI4MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7892803?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Drekin",
      "html_url": "https://github.com/Drekin",
      "followers_url": "https://api.github.com/users/Drekin/followers",
      "following_url": "https://api.github.com/users/Drekin/following{/other_user}",
      "gists_url": "https://api.github.com/users/Drekin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Drekin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Drekin/subscriptions",
      "organizations_url": "https://api.github.com/users/Drekin/orgs",
      "repos_url": "https://api.github.com/users/Drekin/repos",
      "events_url": "https://api.github.com/users/Drekin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Drekin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-29T16:53:40Z",
    "updated_at": "2015-07-29T16:53:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually, utf-16 won't work because Python tokenizer cannot handle it. I have added a parameter so it is configurable whether my raw_input returns bytes or unicode. For now, unicode is default. When someone runs into some problems, he can easily change the bahavior. Eventually, I may change the default if unicode result proves to be problematic.\n\nIndependently, IPython being tolerant to unicode returned by raw_input might be a good idea. The change is unintrusive. So I've made a pull request.\n"
  }
]
