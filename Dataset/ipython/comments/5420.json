[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/38491800",
    "html_url": "https://github.com/ipython/ipython/issues/5420#issuecomment-38491800",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/5420",
    "id": 38491800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDkxODAw",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T19:48:05Z",
    "updated_at": "2014-03-24T19:48:05Z",
    "author_association": "MEMBER",
    "body": "Modifying sys.path does not affect subprocesses. Kernels are subprocesses of the notebook server, so modifying `sys.path` in the notebook server process has no effect on kernels. I do not think there is any bug here.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/38503078",
    "html_url": "https://github.com/ipython/ipython/issues/5420#issuecomment-38503078",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/5420",
    "id": 38503078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTAzMDc4",
    "user": {
      "login": "me-kell",
      "id": 2512653,
      "node_id": "MDQ6VXNlcjI1MTI2NTM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2512653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/me-kell",
      "html_url": "https://github.com/me-kell",
      "followers_url": "https://api.github.com/users/me-kell/followers",
      "following_url": "https://api.github.com/users/me-kell/following{/other_user}",
      "gists_url": "https://api.github.com/users/me-kell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/me-kell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/me-kell/subscriptions",
      "organizations_url": "https://api.github.com/users/me-kell/orgs",
      "repos_url": "https://api.github.com/users/me-kell/repos",
      "events_url": "https://api.github.com/users/me-kell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/me-kell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T21:25:04Z",
    "updated_at": "2014-03-24T21:25:04Z",
    "author_association": "NONE",
    "body": "Then, why are the paths of `sys.path` available in ipython but not in notebook? In ipython you get the three groups of paths (`PYTHONPATH`, `sys.path`, and site-pth) in notebook only the paths of `PYTHONPATH` and site-pth are available. The paths of `sys.path` are missing. I've offered a minimal constellation where you can reproduce this behaviour.\n\nI guess that the notebook server process has no access or do not load the `sys.path`.\n\nThis can reproduce the above mentioned:\n\n```\n$ export PYTHONPATH=\n$ cat ~/test_ipzopenb.py\n------------------------------------------------------------\n#!/home/Plone-4.3.2/Python-2.7/bin/python\nimport sys\nsys.path[0:0] = [\n    '/home/Plone-4.3.2/buildout-cache/eggs/ipython-1.2.1-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/pyzmq-14.1.1-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/tornado-3.2-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Jinja2-2.7.2-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Pygments-1.6-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Sphinx-1.2.2-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Plone-4.3.2-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Pillow-1.7.8-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/MarkupSafe-0.19-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/backports.ssl_match_hostname-3.4.0.2-py2.7.egg',\n    ]\nimport IPython\n#sys.exit(IPython.start_ipython(argv=[]))\nsys.exit(IPython.start_ipython(argv=['notebook', '--ip=192.168.45.135']))\n------------------------------------------------------------\n$ ~/test_ipzopenb.py\n------------------------------------------------------------\n```\n\nCreate New Notebook, then you get an `ImportError: No module named IPython.kernel.zmq.kernelapp` and the Kernel crashes.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/38503775",
    "html_url": "https://github.com/ipython/ipython/issues/5420#issuecomment-38503775",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/5420",
    "id": 38503775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTAzNzc1",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T21:31:57Z",
    "updated_at": "2014-03-24T21:31:57Z",
    "author_association": "MEMBER",
    "body": "> Then, why are the paths of `sys.path` available in ipython but not in notebook? In ipython you get the three groups of paths (`PYTHONPATH`, `sys.path`, and site-pth) in notebook only the paths of `PYTHONPATH` and site-pth are available.\n\nWhen you start plain terminal IPython, the shell is created in the same process. That means that IPython executes in the same context as the changes you have made to sys.path, so the changes have the desired effect.  In the notebook, only the notebook _server_ exists in that context. Kernels are started as subprocesses, and thus recreate `sys.path` at startup, following the standard procedure for a Python process, and do not inherit any runtime changes to `sys.path` that may have happened in parent processes.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/38506054",
    "html_url": "https://github.com/ipython/ipython/issues/5420#issuecomment-38506054",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/5420",
    "id": 38506054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTA2MDU0",
    "user": {
      "login": "me-kell",
      "id": 2512653,
      "node_id": "MDQ6VXNlcjI1MTI2NTM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2512653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/me-kell",
      "html_url": "https://github.com/me-kell",
      "followers_url": "https://api.github.com/users/me-kell/followers",
      "following_url": "https://api.github.com/users/me-kell/following{/other_user}",
      "gists_url": "https://api.github.com/users/me-kell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/me-kell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/me-kell/subscriptions",
      "organizations_url": "https://api.github.com/users/me-kell/orgs",
      "repos_url": "https://api.github.com/users/me-kell/repos",
      "events_url": "https://api.github.com/users/me-kell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/me-kell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T21:53:39Z",
    "updated_at": "2014-03-24T21:53:39Z",
    "author_association": "NONE",
    "body": "Thanks. I see. After your explanation I've read the sources and I realized that the kernels are started via `popen` and therefore they get an `env` passed.\n\nThis indeed mean that the only way to pass the path to notebook is via `PYTHONPATH`?\n\nMy workaround by now is set os.environ['PYTHONPATH'] = ':'.join(sys.path).\n\nHere is my example. Now it works thanks to your hints:\n\n```\n#!/home/Plone-4.3.2/Python-2.7/bin/python\nimport sys\nsys.path[0:0] = [\n    '/home/Plone-4.3.2/buildout-cache/eggs/ipython-1.2.1-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/pyzmq-14.1.1-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/tornado-3.2-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Jinja2-2.7.2-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Pygments-1.6-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Sphinx-1.2.2-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Plone-4.3.2-py2.7.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/Pillow-1.7.8-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/MarkupSafe-0.19-py2.7-linux-x86_64.egg',\n    '/home/Plone-4.3.2/buildout-cache/eggs/backports.ssl_match_hostname-3.4.0.2-py2.7.egg',\n    ]\nimport IPython, os\nos.environ['PYTHONPATH'] = ':'.join(sys.path)\nsys.exit(IPython.start_ipython(argv=['notebook', '--ip=192.168.45.135']))\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/38508168",
    "html_url": "https://github.com/ipython/ipython/issues/5420#issuecomment-38508168",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/5420",
    "id": 38508168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTA4MTY4",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T22:14:59Z",
    "updated_at": "2014-03-24T22:14:59Z",
    "author_association": "MEMBER",
    "body": "You can probably simplify that a tiny bit by only setting PYTHONPATH with the items you are _adding_ to sys.path, instead of the entire thing. But in general, that's the way to do it.\n"
  }
]
