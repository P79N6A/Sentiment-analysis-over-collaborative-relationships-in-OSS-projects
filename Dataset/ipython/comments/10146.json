[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271344649",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271344649",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271344649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTM0NDY0OQ==",
    "user": {
      "login": "kwankyu",
      "id": 1456101,
      "node_id": "MDQ6VXNlcjE0NTYxMDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1456101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kwankyu",
      "html_url": "https://github.com/kwankyu",
      "followers_url": "https://api.github.com/users/kwankyu/followers",
      "following_url": "https://api.github.com/users/kwankyu/following{/other_user}",
      "gists_url": "https://api.github.com/users/kwankyu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kwankyu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kwankyu/subscriptions",
      "organizations_url": "https://api.github.com/users/kwankyu/orgs",
      "repos_url": "https://api.github.com/users/kwankyu/repos",
      "events_url": "https://api.github.com/users/kwankyu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kwankyu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-09T17:14:20Z",
    "updated_at": "2017-01-09T17:14:20Z",
    "author_association": "NONE",
    "body": "Thank you!"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271460594",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271460594",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271460594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTQ2MDU5NA==",
    "user": {
      "login": "kwankyu",
      "id": 1456101,
      "node_id": "MDQ6VXNlcjE0NTYxMDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1456101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kwankyu",
      "html_url": "https://github.com/kwankyu",
      "followers_url": "https://api.github.com/users/kwankyu/followers",
      "following_url": "https://api.github.com/users/kwankyu/following{/other_user}",
      "gists_url": "https://api.github.com/users/kwankyu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kwankyu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kwankyu/subscriptions",
      "organizations_url": "https://api.github.com/users/kwankyu/orgs",
      "repos_url": "https://api.github.com/users/kwankyu/repos",
      "events_url": "https://api.github.com/users/kwankyu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kwankyu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T01:29:24Z",
    "updated_at": "2017-01-10T01:29:24Z",
    "author_association": "NONE",
    "body": "Unfortunately, the patch does not fix the issue yet, as an empty prompt still passes the \"not ending with newline\" test. See the comment attached to the code."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271463080",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271463080",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271463080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTQ2MzA4MA==",
    "user": {
      "login": "kwankyu",
      "id": 1456101,
      "node_id": "MDQ6VXNlcjE0NTYxMDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1456101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kwankyu",
      "html_url": "https://github.com/kwankyu",
      "followers_url": "https://api.github.com/users/kwankyu/followers",
      "following_url": "https://api.github.com/users/kwankyu/following{/other_user}",
      "gists_url": "https://api.github.com/users/kwankyu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kwankyu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kwankyu/subscriptions",
      "organizations_url": "https://api.github.com/users/kwankyu/orgs",
      "repos_url": "https://api.github.com/users/kwankyu/repos",
      "events_url": "https://api.github.com/users/kwankyu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kwankyu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T01:45:49Z",
    "updated_at": "2017-01-10T01:45:49Z",
    "author_association": "NONE",
    "body": "For your informtion, Sage uses\r\n```\r\n    def out_prompt_tokens(self):\r\n        return [\r\n            (Token.OutPrompt, ''),\r\n        ]   \r\n```"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271465002",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271465002",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271465002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTQ2NTAwMg==",
    "user": {
      "login": "kwankyu",
      "id": 1456101,
      "node_id": "MDQ6VXNlcjE0NTYxMDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1456101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kwankyu",
      "html_url": "https://github.com/kwankyu",
      "followers_url": "https://api.github.com/users/kwankyu/followers",
      "following_url": "https://api.github.com/users/kwankyu/following{/other_user}",
      "gists_url": "https://api.github.com/users/kwankyu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kwankyu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kwankyu/subscriptions",
      "organizations_url": "https://api.github.com/users/kwankyu/orgs",
      "repos_url": "https://api.github.com/users/kwankyu/repos",
      "events_url": "https://api.github.com/users/kwankyu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kwankyu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T01:58:33Z",
    "updated_at": "2017-01-10T01:58:33Z",
    "author_association": "NONE",
    "body": "If you think that a token string should not be empty and Sage should use `[]` for empty output prompt, then your original code will work. "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271584505",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271584505",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271584505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTU4NDUwNQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T14:10:45Z",
    "updated_at": "2017-01-10T14:10:45Z",
    "author_association": "MEMBER",
    "body": "It's not an error for a token string to be empty, but as far as I know there's no need: Sage could simply use an empty list.\r\n\r\nYour version might still do the wrong thing if there's an empty final token preceded by one or more non-empty tokens. I've pushed a different fix."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271609380",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271609380",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271609380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTYwOTM4MA==",
    "user": {
      "login": "kwankyu",
      "id": 1456101,
      "node_id": "MDQ6VXNlcjE0NTYxMDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1456101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kwankyu",
      "html_url": "https://github.com/kwankyu",
      "followers_url": "https://api.github.com/users/kwankyu/followers",
      "following_url": "https://api.github.com/users/kwankyu/following{/other_user}",
      "gists_url": "https://api.github.com/users/kwankyu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kwankyu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kwankyu/subscriptions",
      "organizations_url": "https://api.github.com/users/kwankyu/orgs",
      "repos_url": "https://api.github.com/users/kwankyu/repos",
      "events_url": "https://api.github.com/users/kwankyu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kwankyu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T15:42:17Z",
    "updated_at": "2017-01-10T15:42:17Z",
    "author_association": "NONE",
    "body": "As you said, empty token string would be of no use, possibly except in the case when the whole prompt is an empty string just as in Sage. So I think we can ignore the impractical case that non-empty tokens followed by an empty final token.\r\n\r\nYour fix will work, but it seems to me a bit overdone as the tokens may be rendered twice, once for the test and once for `self.shell.pt_cli.print_tokens`(thought I don't know what this is exactly :-)"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271610942",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271610942",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271610942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTYxMDk0Mg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T15:47:21Z",
    "updated_at": "2017-01-10T15:47:21Z",
    "author_association": "MEMBER",
    "body": "'Rendering' them for the check is just concatenating strings together, so I'm not too worried about the performance."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271651637",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271651637",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271651637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTY1MTYzNw==",
    "user": {
      "login": "kwankyu",
      "id": 1456101,
      "node_id": "MDQ6VXNlcjE0NTYxMDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1456101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kwankyu",
      "html_url": "https://github.com/kwankyu",
      "followers_url": "https://api.github.com/users/kwankyu/followers",
      "following_url": "https://api.github.com/users/kwankyu/following{/other_user}",
      "gists_url": "https://api.github.com/users/kwankyu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kwankyu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kwankyu/subscriptions",
      "organizations_url": "https://api.github.com/users/kwankyu/orgs",
      "repos_url": "https://api.github.com/users/kwankyu/repos",
      "events_url": "https://api.github.com/users/kwankyu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kwankyu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T18:08:52Z",
    "updated_at": "2017-01-10T18:08:52Z",
    "author_association": "NONE",
    "body": "Ok. I confirm that the patch works well. \r\n\r\nDo I have anything to do for this pull request to be merged and closed, like giving a positive review?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/271696116",
    "html_url": "https://github.com/ipython/ipython/pull/10146#issuecomment-271696116",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10146",
    "id": 271696116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTY5NjExNg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T20:59:07Z",
    "updated_at": "2017-01-10T20:59:07Z",
    "author_association": "MEMBER",
    "body": "Thanks! There's nothing specific you need to do. We don't normally merge our own PRs, so I'll give other people a few days to merge it. If nobody does and there are no objections, I'll merge it myself."
  }
]
