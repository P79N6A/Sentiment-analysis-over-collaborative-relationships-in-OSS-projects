[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8097953",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8097953",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8097953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTc5NTM=",
    "user": {
      "login": "bfroehle",
      "id": 204333,
      "node_id": "MDQ6VXNlcjIwNDMzMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/204333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bfroehle",
      "html_url": "https://github.com/bfroehle",
      "followers_url": "https://api.github.com/users/bfroehle/followers",
      "following_url": "https://api.github.com/users/bfroehle/following{/other_user}",
      "gists_url": "https://api.github.com/users/bfroehle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bfroehle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bfroehle/subscriptions",
      "organizations_url": "https://api.github.com/users/bfroehle/orgs",
      "repos_url": "https://api.github.com/users/bfroehle/repos",
      "events_url": "https://api.github.com/users/bfroehle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bfroehle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-28T16:30:25Z",
    "updated_at": "2012-08-28T16:30:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can reproduce with `PyQt4` as well.  The error message is, unsurprisingly,\n\n```\nQWidget: Must construct a QApplication before a QPaintDevice\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8098317",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8098317",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8098317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTgzMTc=",
    "user": {
      "login": "jrade",
      "id": 2235531,
      "node_id": "MDQ6VXNlcjIyMzU1MzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2235531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrade",
      "html_url": "https://github.com/jrade",
      "followers_url": "https://api.github.com/users/jrade/followers",
      "following_url": "https://api.github.com/users/jrade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrade/subscriptions",
      "organizations_url": "https://api.github.com/users/jrade/orgs",
      "repos_url": "https://api.github.com/users/jrade/repos",
      "events_url": "https://api.github.com/users/jrade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-28T16:40:55Z",
    "updated_at": "2012-08-28T16:40:55Z",
    "author_association": "NONE",
    "body": "To bfroehle: You have not reproduced the issue. The command \"%gui qt\" should create a QApplication object and start a non-blocking event loop.If you do this with PyQ4t, then you must define the environment variable QT_API=pyqt\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8098361",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8098361",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8098361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTgzNjE=",
    "user": {
      "login": "bfroehle",
      "id": 204333,
      "node_id": "MDQ6VXNlcjIwNDMzMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/204333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bfroehle",
      "html_url": "https://github.com/bfroehle",
      "followers_url": "https://api.github.com/users/bfroehle/followers",
      "following_url": "https://api.github.com/users/bfroehle/following{/other_user}",
      "gists_url": "https://api.github.com/users/bfroehle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bfroehle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bfroehle/subscriptions",
      "organizations_url": "https://api.github.com/users/bfroehle/orgs",
      "repos_url": "https://api.github.com/users/bfroehle/repos",
      "events_url": "https://api.github.com/users/bfroehle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bfroehle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-28T16:42:28Z",
    "updated_at": "2012-08-28T16:42:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I have reproduced it, in the sense that two cells work fine, but one cell kills the kernel as you describe.  The error message, printed on the terminal in which I ran `ipython notebook` is \n\n```\nQWidget: Must construct a QApplication before a QPaintDevice\n```\n\nI'm thinking there is some sort of race condition here...\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8098423",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8098423",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8098423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTg0MjM=",
    "user": {
      "login": "jrade",
      "id": 2235531,
      "node_id": "MDQ6VXNlcjIyMzU1MzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2235531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrade",
      "html_url": "https://github.com/jrade",
      "followers_url": "https://api.github.com/users/jrade/followers",
      "following_url": "https://api.github.com/users/jrade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrade/subscriptions",
      "organizations_url": "https://api.github.com/users/jrade/orgs",
      "repos_url": "https://api.github.com/users/jrade/repos",
      "events_url": "https://api.github.com/users/jrade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-28T16:44:25Z",
    "updated_at": "2012-08-28T16:44:25Z",
    "author_association": "NONE",
    "body": "I see. You are right. It seems that the command \"%gui qt\" somehow only takes effect in the next cell.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8099008",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8099008",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8099008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTkwMDg=",
    "user": {
      "login": "bfroehle",
      "id": 204333,
      "node_id": "MDQ6VXNlcjIwNDMzMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/204333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bfroehle",
      "html_url": "https://github.com/bfroehle",
      "followers_url": "https://api.github.com/users/bfroehle/followers",
      "following_url": "https://api.github.com/users/bfroehle/following{/other_user}",
      "gists_url": "https://api.github.com/users/bfroehle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bfroehle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bfroehle/subscriptions",
      "organizations_url": "https://api.github.com/users/bfroehle/orgs",
      "repos_url": "https://api.github.com/users/bfroehle/repos",
      "events_url": "https://api.github.com/users/bfroehle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bfroehle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-28T17:01:56Z",
    "updated_at": "2012-08-28T17:01:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reproducible in IPython console as well.  I cannot reproduce it in the terminal IPython, but this is likely because of the different event loop integration.\n\n```\n$ ipython console\nPython 2.7.3 (default, Aug  1 2012, 05:14:39) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 0.14.dev -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n[IPKernelApp] To connect another client to this kernel, use:\n[IPKernelApp] --existing kernel-29623.json\n\nIn [1]: cat test.py\nip = get_ipython()\nip.run_line_magic('gui', 'qt')\nfrom PyQt4.QtGui import *\nw = QWidget()\nw.show()\n\nIn [2]: run test.py\nQWidget: Must construct a QApplication before a QPaintDevice\nkernel died, restart ([y]/n)? \n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8099098",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8099098",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8099098,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTkwOTg=",
    "user": {
      "login": "bfroehle",
      "id": 204333,
      "node_id": "MDQ6VXNlcjIwNDMzMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/204333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bfroehle",
      "html_url": "https://github.com/bfroehle",
      "followers_url": "https://api.github.com/users/bfroehle/followers",
      "following_url": "https://api.github.com/users/bfroehle/following{/other_user}",
      "gists_url": "https://api.github.com/users/bfroehle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bfroehle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bfroehle/subscriptions",
      "organizations_url": "https://api.github.com/users/bfroehle/orgs",
      "repos_url": "https://api.github.com/users/bfroehle/repos",
      "events_url": "https://api.github.com/users/bfroehle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bfroehle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-28T17:04:29Z",
    "updated_at": "2012-08-28T17:04:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Okay, yep.  Your hunch is correct.  `%gui` only sets the event loop function.  The actual QApplication isn't created until the event loop fires for the first time, which is after the current cell finishes processing.\n\nTo fix this will require either:\n1. Manually setting a timeout and firing the eventloop once for initialization.\n2. Splitting the loop_map into two functions \"init\" and \"loop\".\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8199076",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8199076",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8199076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTkwNzY=",
    "user": {
      "login": "bfroehle",
      "id": 204333,
      "node_id": "MDQ6VXNlcjIwNDMzMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/204333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bfroehle",
      "html_url": "https://github.com/bfroehle",
      "followers_url": "https://api.github.com/users/bfroehle/followers",
      "following_url": "https://api.github.com/users/bfroehle/following{/other_user}",
      "gists_url": "https://api.github.com/users/bfroehle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bfroehle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bfroehle/subscriptions",
      "organizations_url": "https://api.github.com/users/bfroehle/orgs",
      "repos_url": "https://api.github.com/users/bfroehle/repos",
      "events_url": "https://api.github.com/users/bfroehle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bfroehle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-31T17:24:43Z",
    "updated_at": "2012-08-31T17:24:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jrade A quick fix for you is to add a line right after `%gui qt`:\n\n``` python\napp = QApplication([\" \"])\n```\n\nI've also taken the liberty to update the title and original post of this issue.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/8199646",
    "html_url": "https://github.com/ipython/ipython/issues/2353#issuecomment-8199646",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2353",
    "id": 8199646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTk2NDY=",
    "user": {
      "login": "jrade",
      "id": 2235531,
      "node_id": "MDQ6VXNlcjIyMzU1MzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2235531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrade",
      "html_url": "https://github.com/jrade",
      "followers_url": "https://api.github.com/users/jrade/followers",
      "following_url": "https://api.github.com/users/jrade/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrade/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrade/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrade/subscriptions",
      "organizations_url": "https://api.github.com/users/jrade/orgs",
      "repos_url": "https://api.github.com/users/jrade/repos",
      "events_url": "https://api.github.com/users/jrade/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrade/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-08-31T17:44:35Z",
    "updated_at": "2012-08-31T17:44:35Z",
    "author_association": "NONE",
    "body": "@bfroehle: Thank you!\n"
  }
]
