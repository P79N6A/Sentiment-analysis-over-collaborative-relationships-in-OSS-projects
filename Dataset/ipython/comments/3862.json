[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21899338",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21899338",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21899338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODk5MzM4",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T22:00:51Z",
    "updated_at": "2013-07-31T22:00:51Z",
    "author_association": "MEMBER",
    "body": "What do you get when requesting IPython.**version** remotely:\n\n``` python\nc[:].execute(\"import IPython\")\nc[:].apply_sync(lambda : IPython.__version__)\n```\n\n?\n\nI suspect you have PATH and/or PYTHONPATH issues getting multiple versions of IPython mixed up.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21901288",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21901288",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21901288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTAxMjg4",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T22:34:21Z",
    "updated_at": "2013-07-31T22:36:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "I suspected something like this was happening, though wasn't sure how to introspect it.  And yup, to recap & answering your question, I start ipcluster with v1.0.0-dev on head1 (as described before).  Then start ipython v0.13.2 (or v0.13.1) on head1 (as this is the only way I could connect to the nodes, as described above).  Then issue your suggestion -- which looks like its using the system's default ipython (v0.13.1), likely via PATH:\n\n```\nIn [1]: from IPython.parallel import Client\n\nIn [2]: c = Client(profile='ssh')\n\nIn [3]: c[:].execute('import IPython')\nOut[3]: <AsyncResult: execute>\n\nIn [4]: c[:].apply_sync(lambda : IPython.__version__)\nOut[4]: \n['0.13.1',\n'0.13.1',\n...etc\n '0.13.1']\n```\n\nIn my .zshrc the only version of ipython I have pointed at from PYTHONPATH is the cloned master branch verson.  Any suggestion as to how I can have this version override the PATH version of ipython sent out to the ipengines started on the other heads so as to avoid this issue?\n\nThanks for the speedy reply,\njason\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21903425",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21903425",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21903425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTAzNDI1",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T23:19:04Z",
    "updated_at": "2013-07-31T23:22:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also, to try to get around this, I thought that maybe if I prepended my PATH with where the cloned master branch of ipython is installed, it would grab that version when starting the remote engines on the other heads (instead of using the system default ipython v0.13.1), but no luck...I still run into the same issue.  (I'm not terribly proficient with the guts of ipython or what exactly it does when starting these remote processes/ipengines when using ipcluster via ssh in this way).\n\nAlternatively, our system works fine with ipython v1.0.0-dev when just using ipcontroller on head1 and ipcluster on any of the other heads, like so (with just the default profile):\n\n```\n# on head1:\nhead1 $ ipcontroller --enginessh=head1\n\n# after ssh'ing onto any of the other heads:\nhead5 $ ipcluster engines --n=4\nhead6 $ ipcluster engines --n=4\nhead7 $ ipcluster engines --n=4\n\n# then back on head1:\nhead1 $ ipython\nIn [1]: from IPython.parallel import Client\n\nIn [2]: c = Client()\n\nIn [3]: c.ids\nOut[3]: [0, 1, 3 ...etc ]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21903657",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21903657",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21903657,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTAzNjU3",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T23:23:07Z",
    "updated_at": "2013-07-31T23:23:07Z",
    "author_association": "MEMBER",
    "body": "Try setting this in config:\n\n``` python\nc.SSHEngineSetLauncher.engine_cmd = ['/path/to/1.0.0/ipengine']\nc.SSHControllerLauncher.controller_cmd = ['/path/to/1.0.0/ipcontroller']\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21904241",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21904241",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21904241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA0MjQx",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T23:33:04Z",
    "updated_at": "2013-07-31T23:35:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "No luck, when the following is added to the end of my ipcluster_config.py (code above), then ipcluster fails to start:\n\n```\nc.SSHEngineSetLauncher.engine_cmd = ['/home/jgors/local/bin/ipengine']\nc.SSHControllerLauncher.controller_cmd = ['/home/jgors/local/bin/ipcontroller']\n```\n\n```\nhead1 $ ipcluster start --profile=ssh   \n2013-07-31 19:27:22.044 [IPClusterStart] Using existing profile dir: u'/home/jgors/.ipython/profile_ssh'\n2013-07-31 19:27:22.053 [IPClusterStart] Starting ipcluster with [daemon=False]\n2013-07-31 19:27:22.053 [IPClusterStart] Creating pid file: /home/jgors/.ipython/profile_ssh/pid/ipcluster.pid\n2013-07-31 19:27:22.054 [IPClusterStart] Starting Controller with SSHControllerLauncher\n2013-07-31 19:27:22.204 [IPClusterStart] ERROR | IPython cluster: stopping\n2013-07-31 19:27:23.053 [IPClusterStart] Starting 14 Engines with SSHEngineSetLauncher\n2013-07-31 19:27:25.205 [IPClusterStart] Removing pid file: /home/jgors/.ipython/profile_ssh/pid/ipcluster.pid\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21904363",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21904363",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21904363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA0MzYz",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T23:35:36Z",
    "updated_at": "2013-07-31T23:35:36Z",
    "author_association": "MEMBER",
    "body": "Add `--debug`\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21904434",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21904434",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21904434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA0NDM0",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T23:37:07Z",
    "updated_at": "2013-07-31T23:37:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "here's the dump:\n\n```\nhead1 $ ipcluster start --profile=ssh --debug\n2013-07-31 19:36:19.711 [IPClusterStart] Config changed:\n2013-07-31 19:36:19.711 [IPClusterStart] {'Application': {'log_level': 10}, 'BaseIPythonApplication': {'profile': u'ssh'}}\n2013-07-31 19:36:19.712 [IPClusterStart] Using existing profile dir: u'/home/jgors/.ipython/profile_ssh'\n2013-07-31 19:36:19.712 [IPClusterStart] Searching path [u'/home/jgors', u'/home/jgors/.ipython/profile_ssh'] for config files\n2013-07-31 19:36:19.712 [IPClusterStart] Attempting to load config file: ipython_config.py\n2013-07-31 19:36:19.713 [IPClusterStart] Loaded config file: /home/jgors/.ipython/profile_ssh/ipython_config.py\n2013-07-31 19:36:19.714 [IPClusterStart] Attempting to load config file: ipcluster_config.py\n2013-07-31 19:36:19.714 [IPClusterStart] Loaded config file: /home/jgors/.ipython/profile_ssh/ipcontroller_config.py\n2013-07-31 19:36:19.715 [IPClusterStart] Attempting to load config file: ipcluster_config.py\n2013-07-31 19:36:19.715 [IPClusterStart] Loaded config file: /home/jgors/.ipython/profile_ssh/ipengine_config.py\n2013-07-31 19:36:19.716 [IPClusterStart] Attempting to load config file: ipcluster_config.py\n2013-07-31 19:36:19.717 [IPClusterStart] Loaded config file: /home/jgors/.ipython/profile_ssh/ipcluster_config.py\n2013-07-31 19:36:19.718 [IPClusterStart] Config changed:\n2013-07-31 19:36:19.718 [IPClusterStart] {'BaseIPythonApplication': {'profile': u'ssh'}, 'IPClusterEngines': {'engine_launcher_class': 'SSHEngineSetLauncher'}, 'Application': {'log_level': 10}, 'ProfileDir': {}, 'SSHLauncher': {'to_fetch': [], 'to_send': []}, 'IPClusterStart': {'controller_launcher_class': 'SSHControllerLauncher'}, 'SSHEngineSetLauncher': {'engine_args': ['--profile=ssh'], 'engines': {'head7': 2, 'head6': 2, 'head5': 2, 'head4': 2, 'head3': 2, 'head2': 2, 'head8': 2}, 'engine_cmd': ['/home/jgors/local/bin/ipengine']}, 'SSHControllerLauncher': {'hostname': 'head1', 'controller_args': ['--enginessh=head1'], 'user': 'jgors', 'controller_cmd': ['/home/jgors/local/bin/ipcontroller']}}\n2013-07-31 19:36:19.723 [IPClusterStart] Starting ipcluster with [daemon=False]\n2013-07-31 19:36:19.723 [IPClusterStart] Creating pid file: /home/jgors/.ipython/profile_ssh/pid/ipcluster.pid\n2013-07-31 19:36:19.724 [IPClusterStart] Starting Controller with SSHControllerLauncher\n2013-07-31 19:36:19.724 [IPClusterStart] Starting SSHControllerLauncher: ['ssh', '-tt', u'jgors@head1', '/home/jgors/local/bin/ipcontroller', '--profile-dir', u'.ipython/profile_ssh', '--enginessh=head1']\n2013-07-31 19:36:19.728 [IPClusterStart] Process 'ssh' started: 1077\n2013-07-31 19:36:19.869 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:19.869 [IPClusterStart]   File \"/home/jgors/local/bin/ipcontroller\", line 5, in <module>\n2013-07-31 19:36:19.870 [IPClusterStart]     from pkg_resources import load_entry_point\n2013-07-31 19:36:19.870 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2711, in <module>\n2013-07-31 19:36:19.870 [IPClusterStart]     parse_requirements(__requires__), Environment()\n2013-07-31 19:36:19.870 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 584, in resolve\n2013-07-31 19:36:19.870 [IPClusterStart]     raise DistributionNotFound(req)\n2013-07-31 19:36:19.870 [IPClusterStart] pkg_resources.DistributionNotFound: ipython==1.0.0-dev\n2013-07-31 19:36:19.873 [IPClusterStart] Connection to head1 closed.\n2013-07-31 19:36:19.874 [IPClusterStart] Process 'ssh' stopped: {'pid': 1077, 'exit_code': 1}\n2013-07-31 19:36:19.874 [IPClusterStart] ERROR | IPython cluster: stopping\n2013-07-31 19:36:20.724 [IPClusterStart] Starting 14 Engines with SSHEngineSetLauncher\n2013-07-31 19:36:20.727 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head7', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:20.732 [IPClusterStart] Process 'ssh' started: 1099\n2013-07-31 19:36:20.834 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head7', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:20.841 [IPClusterStart] Process 'ssh' started: 1104\n2013-07-31 19:36:20.843 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head6', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:20.848 [IPClusterStart] Process 'ssh' started: 1106\n2013-07-31 19:36:20.951 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head6', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:20.956 [IPClusterStart] Process 'ssh' started: 1128\n2013-07-31 19:36:20.958 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head5', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:20.962 [IPClusterStart] Process 'ssh' started: 1130\n2013-07-31 19:36:21.065 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head5', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.070 [IPClusterStart] Process 'ssh' started: 1152\n2013-07-31 19:36:21.072 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head4', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.076 [IPClusterStart] Process 'ssh' started: 1154\n2013-07-31 19:36:21.178 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head4', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.183 [IPClusterStart] Process 'ssh' started: 1176\n2013-07-31 19:36:21.185 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head3', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.190 [IPClusterStart] Process 'ssh' started: 1178\n2013-07-31 19:36:21.292 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head3', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.297 [IPClusterStart] Process 'ssh' started: 1198\n2013-07-31 19:36:21.300 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head2', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.305 [IPClusterStart] Process 'ssh' started: 1200\n2013-07-31 19:36:21.407 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head2', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.412 [IPClusterStart] Process 'ssh' started: 1222\n2013-07-31 19:36:21.414 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head8', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.419 [IPClusterStart] Process 'ssh' started: 1224\n2013-07-31 19:36:21.521 [IPClusterStart] Starting SSHEngineLauncher: ['ssh', '-tt', u'head8', '/home/jgors/local/bin/ipengine', '--profile-dir', u'.ipython/profile_ssh', '--profile=ssh']\n2013-07-31 19:36:21.526 [IPClusterStart] Process 'ssh' started: 1232\n2013-07-31 19:36:21.527 [IPClusterStart] Process 'engine set' started: [None, None, None, None, None, None, None, None, None, None, None, None, None, None]\n2013-07-31 19:36:21.527 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.527 [IPClusterStart] Connection to head7 closed.\n2013-07-31 19:36:21.527 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.527 [IPClusterStart] Connection to head7 closed.\n2013-07-31 19:36:21.527 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.527 [IPClusterStart] Connection to head6 closed.\n2013-07-31 19:36:21.527 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.528 [IPClusterStart] Connection to head6 closed.\n2013-07-31 19:36:21.528 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.528 [IPClusterStart] Connection to head5 closed.\n2013-07-31 19:36:21.528 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.528 [IPClusterStart] Connection to head5 closed.\n2013-07-31 19:36:21.528 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.528 [IPClusterStart] Connection to head4 closed.\n2013-07-31 19:36:21.528 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.528 [IPClusterStart] Connection to head4 closed.\n2013-07-31 19:36:21.528 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.528 [IPClusterStart] Connection to head3 closed.\n2013-07-31 19:36:21.529 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.529 [IPClusterStart] Connection to head3 closed.\n2013-07-31 19:36:21.529 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.529 [IPClusterStart] Connection to head2 closed.\n2013-07-31 19:36:21.529 [IPClusterStart] Process 'ssh' stopped: {'pid': 1099, 'exit_code': 1}\n2013-07-31 19:36:21.529 [IPClusterStart] Process 'ssh' stopped: {'pid': 1104, 'exit_code': 1}\n2013-07-31 19:36:21.529 [IPClusterStart] Process 'ssh' stopped: {'pid': 1106, 'exit_code': 1}\n2013-07-31 19:36:21.530 [IPClusterStart] Process 'ssh' stopped: {'pid': 1128, 'exit_code': 1}\n2013-07-31 19:36:21.530 [IPClusterStart] Process 'ssh' stopped: {'pid': 1130, 'exit_code': 1}\n2013-07-31 19:36:21.530 [IPClusterStart] Process 'ssh' stopped: {'pid': 1152, 'exit_code': 1}\n2013-07-31 19:36:21.530 [IPClusterStart] Process 'ssh' stopped: {'pid': 1154, 'exit_code': 1}\n2013-07-31 19:36:21.530 [IPClusterStart] Process 'ssh' stopped: {'pid': 1176, 'exit_code': 1}\n2013-07-31 19:36:21.531 [IPClusterStart] Process 'ssh' stopped: {'pid': 1178, 'exit_code': 1}\n2013-07-31 19:36:21.531 [IPClusterStart] Process 'ssh' stopped: {'pid': 1198, 'exit_code': 1}\n2013-07-31 19:36:21.531 [IPClusterStart] Process 'ssh' stopped: {'pid': 1200, 'exit_code': 1}\n2013-07-31 19:36:21.579 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.579 [IPClusterStart]   File \"/home/jgors/local/bin/ipengine\", line 5, in <module>\n2013-07-31 19:36:21.579 [IPClusterStart]     from pkg_resources import load_entry_point\n2013-07-31 19:36:21.579 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2711, in <module>\n2013-07-31 19:36:21.579 [IPClusterStart]     parse_requirements(__requires__), Environment()\n2013-07-31 19:36:21.580 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 584, in resolve\n2013-07-31 19:36:21.580 [IPClusterStart]     raise DistributionNotFound(req)\n2013-07-31 19:36:21.580 [IPClusterStart] pkg_resources.DistributionNotFound: ipython==1.0.0-dev\n2013-07-31 19:36:21.583 [IPClusterStart] Connection to head8 closed.\n2013-07-31 19:36:21.584 [IPClusterStart] Process 'ssh' stopped: {'pid': 1224, 'exit_code': 1}\n2013-07-31 19:36:21.630 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.630 [IPClusterStart]   File \"/home/jgors/local/bin/ipengine\", line 5, in <module>\n2013-07-31 19:36:21.631 [IPClusterStart]     from pkg_resources import load_entry_point\n2013-07-31 19:36:21.631 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2711, in <module>\n2013-07-31 19:36:21.631 [IPClusterStart]     parse_requirements(__requires__), Environment()\n2013-07-31 19:36:21.631 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 584, in resolve\n2013-07-31 19:36:21.631 [IPClusterStart]     raise DistributionNotFound(req)\n2013-07-31 19:36:21.631 [IPClusterStart] pkg_resources.DistributionNotFound: ipython==1.0.0-dev\n2013-07-31 19:36:21.635 [IPClusterStart] Connection to head2 closed.\n2013-07-31 19:36:21.636 [IPClusterStart] Process 'ssh' stopped: {'pid': 1222, 'exit_code': 1}\n2013-07-31 19:36:21.694 [IPClusterStart] Traceback (most recent call last):\n2013-07-31 19:36:21.694 [IPClusterStart]   File \"/home/jgors/local/bin/ipengine\", line 5, in <module>\n2013-07-31 19:36:21.695 [IPClusterStart]     from pkg_resources import load_entry_point\n2013-07-31 19:36:21.695 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2711, in <module>\n2013-07-31 19:36:21.695 [IPClusterStart]     parse_requirements(__requires__), Environment()\n2013-07-31 19:36:21.695 [IPClusterStart]   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 584, in resolve\n2013-07-31 19:36:21.695 [IPClusterStart]     raise DistributionNotFound(req)\n2013-07-31 19:36:21.695 [IPClusterStart] pkg_resources.DistributionNotFound: ipython==1.0.0-dev\n2013-07-31 19:36:21.699 [IPClusterStart] Connection to head8 closed.\n2013-07-31 19:36:21.699 [IPClusterStart] Process 'ssh' stopped: {'pid': 1232, 'exit_code': 1}\n2013-07-31 19:36:21.699 [IPClusterStart] Process 'engine set' stopped: {'head4/0': {'pid': 1154, 'exit_code': 1}, 'head4/1': {'pid': 1176, 'exit_code': 1}, 'head8/0': {'pid': 1224, 'exit_code': 1}, 'head8/1': {'pid': 1232, 'exit_code': 1}, 'head3/1': {'pid': 1198, 'exit_code': 1}, 'head3/0': {'pid': 1178, 'exit_code': 1}, 'head7/1': {'pid': 1104, 'exit_code': 1}, 'head7/0': {'pid': 1099, 'exit_code': 1}, 'head5/1': {'pid': 1152, 'exit_code': 1}, 'head5/0': {'pid': 1130, 'exit_code': 1}, 'head2/0': {'pid': 1200, 'exit_code': 1}, 'head2/1': {'pid': 1222, 'exit_code': 1}, 'head6/0': {'pid': 1106, 'exit_code': 1}, 'head6/1': {'pid': 1128, 'exit_code': 1}}\n2013-07-31 19:36:22.875 [IPClusterStart] Removing pid file: /home/jgors/.ipython/profile_ssh/pid/ipcluster.pid\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21904528",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21904528",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21904528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA0NTI4",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T23:39:03Z",
    "updated_at": "2013-07-31T23:39:03Z",
    "author_association": "MEMBER",
    "body": "Okay, so there seem to be significant environment issues on your system.\n- Do you have PYTHONPATH defined?\n- How many versions of Python and IPython installed, and where are they installed?\n- What do you get for `which -a ipengine` and `which -a ipython`?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21905073",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21905073",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21905073,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA1MDcz",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T23:52:04Z",
    "updated_at": "2013-08-01T02:17:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Do you have PYTHONPATH defined?\n\nyup, it only points to one version of ipython (installed master v1.0.0) and some other installed gitrepos (pandas, matplotlib, pymc, scikits-learn, etc...)\n\n> How many versions of Python and IPython installed, and where are they installed?\n\nseveral, eg. for ipython:\n\n```\nhead1 $  /usr/bin/ipython\nCompleting executable file or directory\nipython*        ipython01x*     ipython01x2.6*  ipython01x2.7*  ipython2.6*     ipython2.7*  \n```\n\n> What do you get for which -a ipengine and which -a ipython?\n\n```\nhead1 $ which -a ipengine\n/usr/bin/ipengine\n/usr/bin/X11/ipengine\n\nhead1 $ which -a ipython\n/usr/bin/ipython\n/usr/bin/X11/ipython\n```\n\nI was aware of the other versions of python & ipython, but thought I could just point to my local version of ipython (with PYTHONPATH or maybe even PATH) and have that get used for ipcluster.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21906895",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21906895",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21906895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA2ODk1",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T00:39:33Z",
    "updated_at": "2013-08-01T00:39:33Z",
    "author_association": "MEMBER",
    "body": "what is your PYTHONPATH value? It could be that your PYTHONPATH is not being picked up by the ssh session.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21909313",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21909313",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21909313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA5MzEz",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T01:56:19Z",
    "updated_at": "2013-08-01T02:21:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "> ...PYTHONPATH is not being picked up by the ssh session.\n\nYeah, it's odd to me -- when I manually ssh onto other heads, I can fire up ipcluster running under v1.0.0, and then back on head1 can connect with v1.0.0 as well to these other heads that I started ipcluster on without any problem (described previously).  It's something in how ipcluster is firing off those ssh connections (via my `--profile==ssh`) that loses the PYTHONPATH setting.\n\n> what is your PYTHONPATH value?\n\nI set these in .zshrc:\n\n```\nhead1 $ echo $PYTHONPATH     \n:/home/jgors/local/lib/python2.7/site-packages/\n```\n\nand have this set as well for doing pkg installs with the `--user` flag:\n\n```\nhead1 $ echo $PYTHONUSERBASE \n/home/jgors/local\n```\n\n...though right now I only have a few pkgs(/master branches) installed locally (the ones mentioned previously: ipython, pandas, scikits-learn, pymc, pyrallel, just a few others) I scraped everything except these repos while trying to figure out what the problem is.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21950569",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21950569",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21950569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTUwNTY5",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T16:44:21Z",
    "updated_at": "2013-08-01T16:44:21Z",
    "author_association": "MEMBER",
    "body": "You don't need any environment variables to do `--user` installs.  You could just `ln -s ~/local ~/.local` (if I recall paths correctly), if you want to keep them in `local`.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21951560",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21951560",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21951560,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTUxNTYw",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T16:50:16Z",
    "updated_at": "2013-08-01T16:57:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think I found what might be causing the problem.  \nI'm not sure what all exactly is going on when calling `ipcluster start --profile=ssh` on head1 (when requesting to start up engines on other heads specified in the ipcluster_config.py file), but I see in htop that when it does start engines on these other heads, it is calling ssh with the `-f` `-L` flags.  And so for a comparison, when I start an ipcontroller on head1, and then manually ssh onto another head, say head5 without any args, I start ipcluster just fine and can then connect to the those ipengines started on head5 w/o issue (using just the basic default profile):\n\nNote the changes in the heads here:\n\n```\nhead1 $ ipcontroller --enginessh=head1\nhead1 $ ssh head5\nhead5 $ ipcluster engines --n=4\nhead1 $ ipython\nPython 2.7.3 (default, Jan  2 2013, 13:56:14) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 1.0.0-dev -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: from IPython.parallel import Client\nIn [3]: c = Client()\nIn [4]: c.ids\nOut[4]: [0, 1, 2, 3]\n```\n\nThe problem happens when I try to start the ipcluster job with ssh on another head by passing the ipcluster command into ssh w/ the background flag `-f`.  This fails to start the ipcluster on the remote head:\n\n```\nhead1 $ ipcontroller --enginessh=head1\nhead1 $ ssh -f head5 'ipcluster engines --n=4'\n2013-08-01 12:45:53,093.093 [IPClusterEngines] Using existing profile dir: u'/home/jgors/.ipython/profile_default'\n2013-08-01 12:45:53.101 [IPClusterEngines] IPython cluster: started\n2013-08-01 12:45:53.101 [IPClusterEngines] Starting engines with [daemon=False]\n2013-08-01 12:45:53.102 [IPClusterEngines] Starting 4 Engines with LocalEngineSetLauncher\n2013-08-01 12:45:53.866 [IPClusterEngines] \n            Engines shutdown early, they probably failed to connect.\n\n            Check the engine log files for output.\n\n            If your controller and engines are not on the same machine, you probably\n            have to instruct the controller to listen on an interface other than localhost.\n\n            You can set this by adding \"--ip='*'\" to your ControllerLauncher.controller_args.\n\n            Be sure to read our security docs before instructing your controller to listen on\n            a public interface.\n\n2013-08-01 12:45:53.866 [IPClusterEngines] IPython cluster: stopping\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21952863",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21952863",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21952863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTUyODYz",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T17:06:13Z",
    "updated_at": "2013-08-01T17:18:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't remember all the details of this right off the top of my head, but I'm guessing this discrepancy in my last post, in how the `ipcluster engines --n=4` command is called on head5, has something to do with login shells vs non-login shells vs interactive shells, etc...in the order the z-shell (maybe even bash) starts up the envir -- in which case when issuing the command with ssh (like `ssh -f head5 'ipcluster engines --n=4'`), it might be ignoring my .zshrc altogether (including my PATH and PYTHONPATH) and reverting to the system installs.\n\nthis is a guess, but it just might be what's happening [1]:\n'''\nWhat do the terms mean?\n\nA login shell is generally one that is spawned at login time. (IE, by either /bin/login or some other daemon that handles incoming connections). If you telnet, rlogin, rsh, or ssh to a host, chances are you have a login shell.\nAn interactive shell is one in which prompts are displayed and the user types in commands to the shell. (IE, a tty is associated with the shell)\n\nFor example, if I run the command\n\nssh SOME_HOST some_command\n\nI will be running (presumably) a non-interactive program called some_command. This means that zsh will not be an interactive shell, and ignore the corresponding files. Zsh should, however, be a login shell, and read the appropriate files.\n'''\n\n[1] http://www.acm.uiuc.edu/workshops/zsh/startup_files.html\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21954522",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21954522",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21954522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTU0NTIy",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T17:27:23Z",
    "updated_at": "2013-08-01T17:27:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "I bet that's what's happening -- since in this case (when doing `ssh -f head5 'ipcluster engines --n=4'`) it's not an interactive shell, it doesn't see my ~/.zshrc, and is grabbing a different configuration from (or maybe elsewhere):\n\n```\nhead1 $ ls /etc/zsh/\nnewuser.zshrc.recommended  zlogin  zlogout  zprofile  zshenv  zshrc\n```\n\nThink this is likely?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21955106",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21955106",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21955106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTU1MTA2",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T17:35:04Z",
    "updated_at": "2013-08-01T17:35:04Z",
    "author_association": "MEMBER",
    "body": "> Think this is likely?\n\nI do.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21958113",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21958113",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21958113,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTU4MTEz",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T18:16:57Z",
    "updated_at": "2013-08-01T18:23:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just switched shells to bash (added the same stuff in .bashrc -- PYTHONPATH, etc...) and tried the same thing with ssh, but same thing still happens -- it works when starting ipcontroller on head1 & then manually ssh'ing onto head5, but when passing the ipcluster command inside ssh it fails:\n\n```\nhead1 $ which $SHELL\n/bin/bash\n\nhead1 $ ssh -f head5 'ipcluster engines --n=4'\n# fails...\n```\n\nAlso, I thought maybe this had something to do with .*rc shell startup scripts, but I created a .zprofile startup script and put the PYTHONPATH stuff in there, and the same thing happens.  Likewise when adding a .zlogin and/or a .zshenv startup script -- seems like none these get passed onto to the remote heads.\n\nAnd stuff like this fails as well:\n\n```\nhead1 $ ssh -f head5 'PYTHONPATH=/set/path/to/python_libs_and_ipython; ipcluster engines --n=4'\n```\n\ni'll digg into this deeper; will let you know if i succeed. \n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21961295",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21961295",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21961295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTYxMjk1",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T18:58:29Z",
    "updated_at": "2013-08-01T18:59:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Got it -- a bit hacky though, but it works:\n\n```\nhead1 $ ipcontroller --enginessh=head1  \n\nhead1 $ ssh -f head5 'export PYTHONPATH=/home/jgors/local/lib/python2.7/site-packages; ipcluster engines --n=4'\n\nhead1 $ ipython\nPython 2.7.3 (default, Jan  2 2013, 13:56:14) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 1.0.0-dev -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: from IPython.parallel import Client\n\nIn [2]: c = Client()\n\nIn [3]: c.ids\nOut[3]: [0, 1, 2, 3]\n\nIn [4]: import socket\n\nIn [5]: c[:].apply_sync(socket.gethostname)\nOut[5]: ['head5', 'head5', 'head5', 'head5']\n\n```\n\nSo back to my original issue, there needs to be some way of sending along a reference to my PYTHONPATH from head1 to the other heads when calling ipcluster with the `--profile=ssh` like this:\n\n`head 1 $ ipcluster start --profile=ssh`\n\nMeaning, when sending off those ssh calls, in addition to using `-f` and `-L`, there needs to be some way to bind my current PYTHONPATH to the remote heads like what I did above.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21961727",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21961727",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21961727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTYxNzI3",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T19:04:48Z",
    "updated_at": "2013-08-01T19:04:48Z",
    "author_association": "MEMBER",
    "body": "I appreciate that it is a general issue that ENV doesn't propagate to the SSH (and it's ambiguous whether it should - many times that's the wrong thing to do).  But why do you set PYTHONPATH when it's completely unnecessary?  If you just did\n\n```\nln -s ~/local ~/.local\n```\n\nyou shouldn't need any ENV variables to do what you are doing, and the fewer ENV variables you need the better.\n\nYou might also try this config:\n\n``` python\nc.SSHEngineSetLauncher.engine_cmd=['PYTHONPATH=/home/jgors/local/lib/python2.7/site-packages ipengine']\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21962374",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21962374",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21962374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTYyMzc0",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T19:14:05Z",
    "updated_at": "2013-08-01T19:14:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "well, i use ~/.local and ~/local for different things, but i'll give that a shot.  and adding that snippet in the config didn't help.  I'll keep toying with it.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21964819",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21964819",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21964819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTY0ODE5",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T19:51:27Z",
    "updated_at": "2013-08-01T19:51:27Z",
    "author_association": "MEMBER",
    "body": "ok\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21974980",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21974980",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21974980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTc0OTgw",
    "user": {
      "login": "jgors",
      "id": 386585,
      "node_id": "MDQ6VXNlcjM4NjU4NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/386585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgors",
      "html_url": "https://github.com/jgors",
      "followers_url": "https://api.github.com/users/jgors/followers",
      "following_url": "https://api.github.com/users/jgors/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgors/subscriptions",
      "organizations_url": "https://api.github.com/users/jgors/orgs",
      "repos_url": "https://api.github.com/users/jgors/repos",
      "events_url": "https://api.github.com/users/jgors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T22:35:44Z",
    "updated_at": "2013-08-01T22:37:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, I thought about creating a branch which might do something like allowing additional args to be passed to the ssh construction calls, & then ask for a pull request once that was worked out...so folks could allow for using unique PYTHONPATH searches -- though after thinking about it, exposing args to ssh doesn't seem like like the best idea, so I'm just gonna stick with your suggestion of using the default search path of ~/.local (by linking to ~/local).  I had to change my setup a bit for this, but it'll do (and is certainly a much easier option).\n\nThanks for your pointers!\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/21975057",
    "html_url": "https://github.com/ipython/ipython/issues/3862#issuecomment-21975057",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/3862",
    "id": 21975057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTc1MDU3",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T22:37:11Z",
    "updated_at": "2013-08-01T22:37:11Z",
    "author_association": "MEMBER",
    "body": "customizing the command and environment of the SSH call is definitely something we will want to expose at some point.\n"
  }
]
