[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1271990",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1271990",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1271990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzE5OTA=",
    "user": {
      "login": "rkern",
      "id": 46135,
      "node_id": "MDQ6VXNlcjQ2MTM1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/46135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkern",
      "html_url": "https://github.com/rkern",
      "followers_url": "https://api.github.com/users/rkern/followers",
      "following_url": "https://api.github.com/users/rkern/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkern/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkern/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkern/subscriptions",
      "organizations_url": "https://api.github.com/users/rkern/orgs",
      "repos_url": "https://api.github.com/users/rkern/repos",
      "events_url": "https://api.github.com/users/rkern/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkern/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T04:03:50Z",
    "updated_at": "2011-06-01T04:03:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Like the other functions in that module, you should check that it is a unicode object before encoding.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1272119",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1272119",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1272119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzIxMTk=",
    "user": {
      "login": "mspacek",
      "id": 799467,
      "node_id": "MDQ6VXNlcjc5OTQ2Nw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/799467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mspacek",
      "html_url": "https://github.com/mspacek",
      "followers_url": "https://api.github.com/users/mspacek/followers",
      "following_url": "https://api.github.com/users/mspacek/following{/other_user}",
      "gists_url": "https://api.github.com/users/mspacek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mspacek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mspacek/subscriptions",
      "organizations_url": "https://api.github.com/users/mspacek/orgs",
      "repos_url": "https://api.github.com/users/mspacek/repos",
      "events_url": "https://api.github.com/users/mspacek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mspacek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T04:45:10Z",
    "updated_at": "2011-06-01T04:45:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm new to unicode. Out of curiosity, what's the harm in writing utf-8 to disk even if a string isn't unicode? I had the impression that if all the characters were ASCII, the bytecode would come out the same...\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1272166",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1272166",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1272166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzIxNjY=",
    "user": {
      "login": "rkern",
      "id": 46135,
      "node_id": "MDQ6VXNlcjQ2MTM1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/46135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkern",
      "html_url": "https://github.com/rkern",
      "followers_url": "https://api.github.com/users/rkern/followers",
      "following_url": "https://api.github.com/users/rkern/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkern/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkern/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkern/subscriptions",
      "organizations_url": "https://api.github.com/users/rkern/orgs",
      "repos_url": "https://api.github.com/users/rkern/repos",
      "events_url": "https://api.github.com/users/rkern/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkern/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T04:58:45Z",
    "updated_at": "2011-06-01T04:58:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "If the object is a `str` object, it might contain bytes in range 128-255, which are not ASCII. The method `str.encode()` is just an alias for `unicode.encode()`. That is, it will try to implicitly _decode_ the `str` bytes to `unicode` text by interpreting it as 7-bit ASCII, then _encode_ it back to `str` bytes with the specified encoding. If the `str` contains non-ASCII bytes, you will get a weird `UnicodeDecodeError` that a lot of people find confusing because the code is trying to _encode_ rather than _decode_. If the function has been passed `str` bytes already, you should leave them alone and write them out to the file. In particular with XML, the bytes may have already been encoded with a different encoding than UTF-8.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1272193",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1272193",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1272193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzIxOTM=",
    "user": {
      "login": "mspacek",
      "id": 799467,
      "node_id": "MDQ6VXNlcjc5OTQ2Nw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/799467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mspacek",
      "html_url": "https://github.com/mspacek",
      "followers_url": "https://api.github.com/users/mspacek/followers",
      "following_url": "https://api.github.com/users/mspacek/following{/other_user}",
      "gists_url": "https://api.github.com/users/mspacek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mspacek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mspacek/subscriptions",
      "organizations_url": "https://api.github.com/users/mspacek/orgs",
      "repos_url": "https://api.github.com/users/mspacek/repos",
      "events_url": "https://api.github.com/users/mspacek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mspacek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T05:09:30Z",
    "updated_at": "2011-06-01T05:09:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, thanks for that. So the lesson is don't equate Python's 8 bit `str` object with 7-bit ASCII. `str` is a superset.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1272821",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1272821",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1272821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzI4MjE=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T08:08:02Z",
    "updated_at": "2011-06-01T08:08:02Z",
    "author_association": "MEMBER",
    "body": "@mspacek - that's right. An easy example is:\n\n``` python\nu = u'Ã©' # unicode\ns = u.encode('utf8') # str\ns2 = s.encode('utf8') # UnicodeDecodeError\n```\n\nThe third line is equivalent to: \n\n``` python\ns.decode(sys.getdefaultencoding()).encode('utf8')\n```\n\nthe first step of which fails because `s` is not ASCII.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1273236",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1273236",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1273236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzMyMzY=",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T09:37:36Z",
    "updated_at": "2011-06-01T09:37:36Z",
    "author_association": "MEMBER",
    "body": "Quick question - does the SVG we're saving already have an encoding declared in the XML header thingy?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1276165",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1276165",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1276165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzYxNjU=",
    "user": {
      "login": "mspacek",
      "id": 799467,
      "node_id": "MDQ6VXNlcjc5OTQ2Nw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/799467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mspacek",
      "html_url": "https://github.com/mspacek",
      "followers_url": "https://api.github.com/users/mspacek/followers",
      "following_url": "https://api.github.com/users/mspacek/following{/other_user}",
      "gists_url": "https://api.github.com/users/mspacek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mspacek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mspacek/subscriptions",
      "organizations_url": "https://api.github.com/users/mspacek/orgs",
      "repos_url": "https://api.github.com/users/mspacek/repos",
      "events_url": "https://api.github.com/users/mspacek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mspacek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T18:23:49Z",
    "updated_at": "2011-06-01T18:23:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yup. Printing out the string shows this as the first line:\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?>\n```\n\nfor both normal and unicode Python strings (`plot(range(10))` gets you a normal string, and `plot(range(-1, 10))` gets you a unicode string)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/1276239",
    "html_url": "https://github.com/ipython/ipython/pull/490#issuecomment-1276239",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/490",
    "id": 1276239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzYyMzk=",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-06-01T18:36:09Z",
    "updated_at": "2011-06-01T18:36:09Z",
    "author_association": "MEMBER",
    "body": "Excellent, thanks for checking.  In that case, this should be merged.\n"
  }
]
