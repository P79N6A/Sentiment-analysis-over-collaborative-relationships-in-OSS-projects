[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/296408610",
    "html_url": "https://github.com/ipython/ipython/issues/10478#issuecomment-296408610",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10478",
    "id": 296408610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQwODYxMA==",
    "user": {
      "login": "memeplex",
      "id": 2845433,
      "node_id": "MDQ6VXNlcjI4NDU0MzM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2845433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/memeplex",
      "html_url": "https://github.com/memeplex",
      "followers_url": "https://api.github.com/users/memeplex/followers",
      "following_url": "https://api.github.com/users/memeplex/following{/other_user}",
      "gists_url": "https://api.github.com/users/memeplex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/memeplex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/memeplex/subscriptions",
      "organizations_url": "https://api.github.com/users/memeplex/orgs",
      "repos_url": "https://api.github.com/users/memeplex/repos",
      "events_url": "https://api.github.com/users/memeplex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/memeplex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-22T23:37:31Z",
    "updated_at": "2017-04-22T23:37:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well `create_prompt_application` in `debugger.py` is not using the style at all, I will try to fix this and let you know."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/296409062",
    "html_url": "https://github.com/ipython/ipython/issues/10478#issuecomment-296409062",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10478",
    "id": 296409062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQwOTA2Mg==",
    "user": {
      "login": "memeplex",
      "id": 2845433,
      "node_id": "MDQ6VXNlcjI4NDU0MzM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2845433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/memeplex",
      "html_url": "https://github.com/memeplex",
      "followers_url": "https://api.github.com/users/memeplex/followers",
      "following_url": "https://api.github.com/users/memeplex/following{/other_user}",
      "gists_url": "https://api.github.com/users/memeplex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/memeplex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/memeplex/subscriptions",
      "organizations_url": "https://api.github.com/users/memeplex/orgs",
      "repos_url": "https://api.github.com/users/memeplex/repos",
      "events_url": "https://api.github.com/users/memeplex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/memeplex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-22T23:48:38Z",
    "updated_at": "2017-04-22T23:52:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, this was easier than I thought, here is a simple fix:\r\n\r\n```\r\n@@ -17,6 +17,7 @@ from prompt_toolkit.token import Token\r\n from prompt_toolkit.shortcuts import create_prompt_application\r\n from prompt_toolkit.interface import CommandLineInterface\r\n from prompt_toolkit.enums import EditingMode\r\n+from prompt_toolkit.styles import DynamicStyle\r\n \r\n \r\n class TerminalPdb(Pdb):\r\n@@ -63,6 +64,7 @@ class TerminalPdb(Pdb):\r\n                             mouse_support=self.shell.mouse_support,\r\n                             get_prompt_tokens=get_prompt_tokens,\r\n                             display_completions_in_columns=multicolumn,\r\n+                            style=DynamicStyle(lambda: self.shell._style)\r\n         )\r\n         self.pt_cli = CommandLineInterface(self._pt_app, eventloop=self.shell._eventloop)\r\n```\r\n\r\n---\r\n\r\nProblem is `shell._style` is \"private\", so wouldn't it be desirable to expose `shell.style` as `DynamicStyle(lambda:...)`? I mean, first:\r\n\r\n```\r\n--- /tmp/interactiveshell.py\t2017-04-22 20:50:30.740261882 -0300\r\n+++ terminal/interactiveshell.py\t2017-04-22 20:50:38.807746481 -0300\r\n@@ -235,7 +235,7 @@ class TerminalInteractiveShell(Interacti\r\n                 last_cell = cell\r\n \r\n         self._style = self._make_style_from_name_or_cls(self.highlighting_style)\r\n-        style = DynamicStyle(lambda: self._style)\r\n+        self.style = DynamicStyle(lambda: self._style)\r\n \r\n         editing_mode = getattr(EditingMode, self.editing_mode.upper())\r\n \r\n@@ -249,7 +249,7 @@ class TerminalInteractiveShell(Interacti\r\n                             completer=IPythonPTCompleter(shell=self,\r\n                                                     patch_stdout=patch_stdout),\r\n                             enable_history_search=True,\r\n-                            style=style,\r\n+                            style=self.style,\r\n                             mouse_support=self.mouse_support,\r\n                             **self._layout_options()\r\n```\r\n\r\nand then just\r\n\r\n```\r\n--- /tmp/debugger.py\t2017-04-22 20:45:05.810699332 -0300\r\n+++ terminal/debugger.py\t2017-04-22 20:49:32.444350980 -0300\r\n@@ -63,6 +63,7 @@ class TerminalPdb(Pdb):\r\n                             mouse_support=self.shell.mouse_support,\r\n                             get_prompt_tokens=get_prompt_tokens,\r\n                             display_completions_in_columns=multicolumn,\r\n+                            style=self.shell.style\r\n         )\r\n         self.pt_cli = CommandLineInterface(self._pt_app, eventloop=self.shell._eventloop)\r\n```\r\n\r\nThis looks much cleaner to me. Which one do you prefer? Do you want me to submit a PR or is it ok?"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/296409279",
    "html_url": "https://github.com/ipython/ipython/issues/10478#issuecomment-296409279",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10478",
    "id": 296409279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQwOTI3OQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-22T23:54:05Z",
    "updated_at": "2017-04-22T23:54:05Z",
    "author_association": "MEMBER",
    "body": "I don't have particular preference. Feel free to send a PR :-) "
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/296409280",
    "html_url": "https://github.com/ipython/ipython/issues/10478#issuecomment-296409280",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10478",
    "id": 296409280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQwOTI4MA==",
    "user": {
      "login": "memeplex",
      "id": 2845433,
      "node_id": "MDQ6VXNlcjI4NDU0MzM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2845433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/memeplex",
      "html_url": "https://github.com/memeplex",
      "followers_url": "https://api.github.com/users/memeplex/followers",
      "following_url": "https://api.github.com/users/memeplex/following{/other_user}",
      "gists_url": "https://api.github.com/users/memeplex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/memeplex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/memeplex/subscriptions",
      "organizations_url": "https://api.github.com/users/memeplex/orgs",
      "repos_url": "https://api.github.com/users/memeplex/repos",
      "events_url": "https://api.github.com/users/memeplex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/memeplex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-22T23:54:08Z",
    "updated_at": "2017-04-22T23:54:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also, I'm not really sure keeping `shell._style` as an attribute has any point."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/296464678",
    "html_url": "https://github.com/ipython/ipython/issues/10478#issuecomment-296464678",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10478",
    "id": 296464678,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQ2NDY3OA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-23T17:41:11Z",
    "updated_at": "2017-04-23T17:41:11Z",
    "author_association": "MEMBER",
    "body": "> lso, I'm not really sure keeping shell._style as an attribute has any point.\r\n\r\nMaybe not, there've been a lot of refactor. It's still half a mess and need a lot of cleaning."
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/296493511",
    "html_url": "https://github.com/ipython/ipython/issues/10478#issuecomment-296493511",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/10478",
    "id": 296493511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQ5MzUxMQ==",
    "user": {
      "login": "memeplex",
      "id": 2845433,
      "node_id": "MDQ6VXNlcjI4NDU0MzM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2845433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/memeplex",
      "html_url": "https://github.com/memeplex",
      "followers_url": "https://api.github.com/users/memeplex/followers",
      "following_url": "https://api.github.com/users/memeplex/following{/other_user}",
      "gists_url": "https://api.github.com/users/memeplex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/memeplex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/memeplex/subscriptions",
      "organizations_url": "https://api.github.com/users/memeplex/orgs",
      "repos_url": "https://api.github.com/users/memeplex/repos",
      "events_url": "https://api.github.com/users/memeplex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/memeplex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-23T22:29:27Z",
    "updated_at": "2017-04-23T22:29:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "It still might be useful as a cache, I guess."
  }
]
