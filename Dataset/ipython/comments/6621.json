[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/57911847",
    "html_url": "https://github.com/ipython/ipython/pull/6621#issuecomment-57911847",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6621",
    "id": 57911847,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTExODQ3",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-04T17:05:15Z",
    "updated_at": "2014-10-04T17:10:31Z",
    "author_association": "MEMBER",
    "body": "I think the logic is backward. If I have a cached function that takes 10 ms the first time and 1µs after I won't get warning. what you want is `worst > 4 best` and ~~`worst < 1ms`~~ `worst > 1ms`. Also 1 ms is pretty long, if you have caching you will more likely be under the µs.\n\nwith this PR:\n\n``` python\nimport numpy as np\nc = {}\ndef mf(val):\n    r = c.get(val,None)\n    if r is not None:\n        return r\n    else:\n        r= np.sin(np.arange(val))\n        c[val] = r\n    return r\n\n%timeit np.sin(np.arange(1e5))\n1000 loops, best of 3: 1.93 ms per loop\n\n%timeit mf(1e5)\n1000000 loops, best of 3: 359 ns per loop\n```\n\nAnd no warning...\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/57911924",
    "html_url": "https://github.com/ipython/ipython/pull/6621#issuecomment-57911924",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6621",
    "id": 57911924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTExOTI0",
    "user": {
      "login": "MechCoder",
      "id": 1867024,
      "node_id": "MDQ6VXNlcjE4NjcwMjQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1867024?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MechCoder",
      "html_url": "https://github.com/MechCoder",
      "followers_url": "https://api.github.com/users/MechCoder/followers",
      "following_url": "https://api.github.com/users/MechCoder/following{/other_user}",
      "gists_url": "https://api.github.com/users/MechCoder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MechCoder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MechCoder/subscriptions",
      "organizations_url": "https://api.github.com/users/MechCoder/orgs",
      "repos_url": "https://api.github.com/users/MechCoder/repos",
      "events_url": "https://api.github.com/users/MechCoder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MechCoder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-04T17:07:27Z",
    "updated_at": "2014-10-04T17:07:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah. I'm extremely sorry. I made a hasty commit :)\n\nOn Sat, Oct 4, 2014 at 7:05 PM, Matthias Bussonnier <\nnotifications@github.com> wrote:\n\n> I think the logic is backward. If I have a cached function that takes 10\n> ms the first time and 1µs after I won't get warning. what you want is worse\n> \n> > 4 best and worse < 1ms. Also 1 ms is pretty long, if you have caching\n> > you will more likely be under the µs.\n> \n> with this PR:\n> \n> import numpy as npc = {}def mf(val):\n>     r = c.get(val,None)\n>     if r is not None:\n>         return r\n>     else:\n>         r= np.sin(np.arange(val))\n>         c[val] = r\n>     return r\n> %timeit np.sin(np.arange(1e5))1000 loops, best of 3: 1.93 ms per loop\n> %timeit mf(1e5)1000000 loops, best of 3: 359 ns per loop\n> \n> And no warning...\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/ipython/ipython/pull/6621#issuecomment-57911847.\n\n## \n\nGodspeed,\nManoj Kumar,\nIntern, Telecom ParisTech\nMech Undergrad\nhttp://manojbits.wordpress.com\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/57911982",
    "html_url": "https://github.com/ipython/ipython/pull/6621#issuecomment-57911982",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6621",
    "id": 57911982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTExOTgy",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-04T17:09:16Z",
    "updated_at": "2014-10-04T17:09:16Z",
    "author_association": "MEMBER",
    "body": "Don't be that sorry, I almost did not see it. \nI'm not even sure my works.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/57912241",
    "html_url": "https://github.com/ipython/ipython/pull/6621#issuecomment-57912241",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6621",
    "id": 57912241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTEyMjQx",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-04T17:17:35Z",
    "updated_at": "2014-10-04T17:17:35Z",
    "author_association": "MEMBER",
    "body": "Yep `worst > 1µs` seem to work for me. Might want to keep the best > 0 to avoid zero div error, even if unlikely. I let you update your PR (squash and force push) so that there is no trace of mistakes :-)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/57914781",
    "html_url": "https://github.com/ipython/ipython/pull/6621#issuecomment-57914781",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6621",
    "id": 57914781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTE0Nzgx",
    "user": {
      "login": "MechCoder",
      "id": 1867024,
      "node_id": "MDQ6VXNlcjE4NjcwMjQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1867024?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MechCoder",
      "html_url": "https://github.com/MechCoder",
      "followers_url": "https://api.github.com/users/MechCoder/followers",
      "following_url": "https://api.github.com/users/MechCoder/following{/other_user}",
      "gists_url": "https://api.github.com/users/MechCoder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MechCoder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MechCoder/subscriptions",
      "organizations_url": "https://api.github.com/users/MechCoder/orgs",
      "repos_url": "https://api.github.com/users/MechCoder/repos",
      "events_url": "https://api.github.com/users/MechCoder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MechCoder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-04T18:49:06Z",
    "updated_at": "2014-10-04T18:49:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seems I got confused between the `best` and the `worst` which is not numerically the `best` or `worst`. Hope this looks good :)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/57914836",
    "html_url": "https://github.com/ipython/ipython/pull/6621#issuecomment-57914836",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/6621",
    "id": 57914836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTE0ODM2",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-04T18:50:59Z",
    "updated_at": "2014-10-04T18:50:59Z",
    "author_association": "MEMBER",
    "body": "> It seems I got confused between the best and the worst which is not numerically the best or worst. Hope this looks good :)\n\nThat usually is a signe one need sleep. \n\nLooks good to me ! \n\n+1\n"
  }
]
