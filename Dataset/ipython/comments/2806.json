[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/12416018",
    "html_url": "https://github.com/ipython/ipython/issues/2806#issuecomment-12416018",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2806",
    "id": 12416018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDE2MDE4",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-18T10:16:37Z",
    "updated_at": "2013-01-18T10:16:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "I believe that's because your engines (separate python processes) don't have the `bar` function in their namespaces - you only defined it locally. I think this will work if you `push` the function to the engine namespaces as follows:\n\n``` python\nrf = Client(debug=False)\ndview = rf[:]\ndview.push({'bar': bar})\ndview.map_sync(foo, range(10))\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/12416148",
    "html_url": "https://github.com/ipython/ipython/issues/2806#issuecomment-12416148",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2806",
    "id": 12416148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDE2MTQ4",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-18T10:20:39Z",
    "updated_at": "2013-01-18T10:20:39Z",
    "author_association": "MEMBER",
    "body": "Has nothing to do with Python 3, this is just a namespace issue, and it is actually behaving as expected.\n`foo` doesn't have a hard reference to `bar`, it has a reference to whatever `__main__.bar` is at call time.  The `__main__` module is the user namespace, but the user namespace on the engine is not generally the same as the user namespace at the client.  For this reason, `bar` can be different when you call `foo` locally or remotely.\n\nBasically: sending foo does not send bar.\n\nFor instance:\n\n``` python\n\nbar = 5\n\ndef foo():\n    return bar\n\nview = rc[-1]\nview['bar'] = 4\n\nfoo() # 5\nview.apply_sync(foo) # 4\n```\n\nHere's a case where resolving names on the engines is actually the goal:\n\n``` python\n%px import os\n%px pid = os.getpid()\n\ndef double_pid():\n    return pid * 2\n\nrc[:].apply_sync(double_pid) # returns a list of PIDs (*2 for fun) of each engine\n```\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/12416242",
    "html_url": "https://github.com/ipython/ipython/issues/2806#issuecomment-12416242",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2806",
    "id": 12416242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDE2MjQy",
    "user": {
      "login": "kmike",
      "id": 107893,
      "node_id": "MDQ6VXNlcjEwNzg5Mw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/107893?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmike",
      "html_url": "https://github.com/kmike",
      "followers_url": "https://api.github.com/users/kmike/followers",
      "following_url": "https://api.github.com/users/kmike/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmike/subscriptions",
      "organizations_url": "https://api.github.com/users/kmike/orgs",
      "repos_url": "https://api.github.com/users/kmike/repos",
      "events_url": "https://api.github.com/users/kmike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-18T10:23:14Z",
    "updated_at": "2013-01-18T10:23:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the explanation and sorry for noise!\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/12434859",
    "html_url": "https://github.com/ipython/ipython/issues/2806#issuecomment-12434859",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/2806",
    "id": 12434859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDM0ODU5",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-18T18:28:32Z",
    "updated_at": "2013-01-18T18:28:32Z",
    "author_association": "MEMBER",
    "body": "No worries, that part is confusing.\n"
  }
]
