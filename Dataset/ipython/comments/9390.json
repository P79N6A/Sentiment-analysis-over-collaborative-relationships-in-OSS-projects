[
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209410795",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209410795",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209410795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTQxMDc5NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T12:41:42Z",
    "updated_at": "2016-04-13T12:41:42Z",
    "author_association": "MEMBER",
    "body": "It's reserving space so that when the tab completion dropdown appears, it doesn't force the terminal to jump up. I use tab completion a lot, so I think I like it that way, but it's a [parameter we pass](https://github.com/ipython/ipython/blob/de87d902bf3e17e90138cf5024fd7a77edee7b6a/IPython/terminal/ptshell.py#L249), so we could make it configurable if you'd rather have the extra space.\n\nPing @jonathanslenders for any extra thoughts.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209527647",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209527647",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209527647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTUyNzY0Nw==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T16:14:05Z",
    "updated_at": "2016-04-13T16:14:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is a fair request.\nI believed that it was the most user friendly to always reserve some space, rather than reserving the space for the menu when the first completion needs to be displayed. However, I think that this was mostly true for CLIs where the `complete_while_typing` parameter is True. (It means that you don't need to press tab, and completions are already displayed after the first key press.) Because in that case, the space is almost instantly required.\n\nBut if `complete_while_typing` is False, this may indeed seem like a little waste of space for people that don't use the tab key that often.\n\nIf nobody is against, I think I will add a `min_space_for_menu` parameter. If `reserve_space_for_menu` is zero, then this value will be used to reserve space at the point where the menu becomes visible. That way, people can configure it like they prefer. This will be for the next release of prompt-toolkit.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209551148",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209551148",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209551148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTU1MTE0OA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T17:16:59Z",
    "updated_at": "2016-04-13T17:16:59Z",
    "author_association": "MEMBER",
    "body": "> If nobody is against, I think I will add a min_space_for_menu parameter. If reserve_space_for_menu is zero, then this value will be used to reserve space at the point where the menu becomes visible.\n\nJust to check I understand you, that parameter would effectively set the menu height? Would it only take effect when reserve_space is 0, or at any time? Is `reserve_space_for_menu` the only way at present to determine the menu size?\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209570765",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209570765",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209570765,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTU3MDc2NQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T18:02:15Z",
    "updated_at": "2016-04-13T18:02:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Both parameters will never set the menu height itself, but influence the vertical space used by the input region. The actual menu height still depends on the amount of completions and the position of the input. (The menu can appear both above and below the cursor.)\n\n`reserve_space_for_menu` ensures that the input region is at all times at least this height. (Except for the point where enter has been pressed, and we're rendering in the done/accept state.)\n\nNow, we want a way to say that the input should be at least a certain height, but _only_ if there are completions, and the completion menu is visible. I'm still not sure of the best API, but `min_space_for_menu` could be a way to do that. However, maybe a boolean could be better. I'm not yet sure about the parameter names. Ideas are welcome ;)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209576461",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209576461",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209576461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTU3NjQ2MQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T18:16:21Z",
    "updated_at": "2016-04-13T18:16:21Z",
    "author_association": "MEMBER",
    "body": "Maybe instead of having two numeric parameters, it would be clearer to have the existing numeric parameter, plus a boolean parameter to determine whether that space is always reserved or only once completions are shown? Or maybe that should be folded into `complete_while_typing` for simplicity.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209578170",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209578170",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209578170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTU3ODE3MA==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T18:20:39Z",
    "updated_at": "2016-04-13T18:26:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually, I really like the idea of folding it into `complete_while_typing`. So, if that is True, always reserve the space, if False: only when a completion needs to be shown.\n\nNote that if `reserve_space_for_menu` is a big value, then it's still possible that at the point where the completion is shown, that we reserve a bit too much whitespace. (If there are not that much completions.) If that is disturbing, then it's better to choose a smaller value which will easier introduce some scrolling in the completion menu.\n\nJust saying, I don't think this is an isue. (Fixing the fact that it can still reserve a bit too much whitespace at some point is not worth the complexity involved. -- It's actually a chicken and egg problem in the render engine: the height of the output region needs to be known in order to calculate the layout dimensions, and we need some of the layout dimensions and the cursor position, which requires rendering, in order to know the additional height required by the completion menu.)\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209591419",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209591419",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209591419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTU5MTQxOQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T18:47:18Z",
    "updated_at": "2016-04-13T18:47:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "This should do it: https://github.com/jonathanslenders/python-prompt-toolkit/commit/22ddc1306da9234e5e9a277f96d1bfbc39a9fa38\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209608159",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209608159",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209608159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTYwODE1OQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T19:23:21Z",
    "updated_at": "2016-04-13T19:23:21Z",
    "author_association": "MEMBER",
    "body": "Great, thanks! Once that's released, we'll automatically get the user experience @fperez prefers, so I'll close this as there's nothing to do on our side.\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209680199",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209680199",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209680199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTY4MDE5OQ==",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T22:48:21Z",
    "updated_at": "2016-04-13T22:48:21Z",
    "author_association": "MEMBER",
    "body": "OK, I'm happy to play with the behavior after the fix is released and will provide further feedback.  I was thinking about it earlier and wondering if providing an upward-deploying scroll area might not be a reasonable solution when at the bottom, but I don't know if you can reliably detect whether you're at the bottom or not...\n\nLet's leave it closed for now. Please let me know when I should try it out...\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209684219",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209684219",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209684219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTY4NDIxOQ==",
    "user": {
      "login": "fperez",
      "id": 57394,
      "node_id": "MDQ6VXNlcjU3Mzk0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/57394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fperez",
      "html_url": "https://github.com/fperez",
      "followers_url": "https://api.github.com/users/fperez/followers",
      "following_url": "https://api.github.com/users/fperez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fperez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fperez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fperez/subscriptions",
      "organizations_url": "https://api.github.com/users/fperez/orgs",
      "repos_url": "https://api.github.com/users/fperez/repos",
      "events_url": "https://api.github.com/users/fperez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fperez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-13T23:01:36Z",
    "updated_at": "2016-04-13T23:01:36Z",
    "author_association": "MEMBER",
    "body": "And I failed to say, many thanks @jonathanslenders for the super-quick turnaround! PT is awesome, and I'm very happy we are getting all these great features thanks to your hard work :)\n\nFor a long time we wanted these kinds of features in the terminal, and tried to get someone to write a full curses client (to still be able to keep the simplicity of a purely line-oriented one).  But your work gives us the best of both worlds!\n"
  },
  {
    "url": "https://api.github.com/repos/ipython/ipython/issues/comments/209824225",
    "html_url": "https://github.com/ipython/ipython/issues/9390#issuecomment-209824225",
    "issue_url": "https://api.github.com/repos/ipython/ipython/issues/9390",
    "id": 209824225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTgyNDIyNQ==",
    "user": {
      "login": "jonathanslenders",
      "id": 216638,
      "node_id": "MDQ6VXNlcjIxNjYzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/216638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanslenders",
      "html_url": "https://github.com/jonathanslenders",
      "followers_url": "https://api.github.com/users/jonathanslenders/followers",
      "following_url": "https://api.github.com/users/jonathanslenders/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanslenders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanslenders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanslenders/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanslenders/orgs",
      "repos_url": "https://api.github.com/users/jonathanslenders/repos",
      "events_url": "https://api.github.com/users/jonathanslenders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanslenders/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-14T08:21:06Z",
    "updated_at": "2016-04-14T08:21:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you! :-)\n"
  }
]
