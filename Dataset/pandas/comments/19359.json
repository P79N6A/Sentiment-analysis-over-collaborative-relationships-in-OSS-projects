[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/359753159",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19359#issuecomment-359753159",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19359",
    "id": 359753159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTc1MzE1OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-23T10:51:15Z",
    "updated_at": "2018-01-23T10:51:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "simply apply to a single column. this is completely non-performant and non-idiomatic in any case.\r\n\r\n```\r\nIn [7]: from pandas import Series, DataFrame\r\n   ...: from dateutil.parser import parse\r\n   ...: \r\n   ...: def transform(x):\r\n   ...:     return Series( {\r\n   ...:         'time': parse(\"22:05 UTC+1\"),\r\n   ...:         'title': 'remove this \"title\" to remove the error, or remove timezone'\r\n   ...:     } )\r\n   ...: \r\n   ...: DataFrame ( [\"stub\"] )[0].apply(transform)\r\n   ...: \r\nOut[7]: \r\n                       time                                              title\r\n0 2018-01-23 22:05:00-01:00  remove this \"title\" to remove the error, or re...\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/359878795",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19359#issuecomment-359878795",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19359",
    "id": 359878795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTg3ODc5NQ==",
    "user": {
      "login": "egslava",
      "id": 1143228,
      "node_id": "MDQ6VXNlcjExNDMyMjg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1143228?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egslava",
      "html_url": "https://github.com/egslava",
      "followers_url": "https://api.github.com/users/egslava/followers",
      "following_url": "https://api.github.com/users/egslava/following{/other_user}",
      "gists_url": "https://api.github.com/users/egslava/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egslava/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egslava/subscriptions",
      "organizations_url": "https://api.github.com/users/egslava/orgs",
      "repos_url": "https://api.github.com/users/egslava/repos",
      "events_url": "https://api.github.com/users/egslava/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egslava/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-23T18:07:40Z",
    "updated_at": "2018-01-23T18:07:40Z",
    "author_association": "NONE",
    "body": "Hello, Jeff Reback!\r\nThank you so much for your apply! :) I mean, I know how to fix my program, just it took me about 1-2h to understand where is exactly the mistake.\r\n\r\nThis is a simplified example to reproduce the bug. In the real program I iterate over rows (axis=1) and I need an access to several columns to generate the result table. I don't want to be pushy, but why isn't current behavior considered to be a bug?\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/359984089",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19359#issuecomment-359984089",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19359",
    "id": 359984089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTk4NDA4OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-24T00:56:10Z",
    "updated_at": "2018-01-24T00:57:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nIn [27]: from pandas._libs import lib\r\n\r\nIn [28]: import dateutil\r\n\r\nIn [30]: lib.maybe_convert_objects(np.array([datetime(2018, 1, 23, 22, 5, tzinfo=dateutil.tz.tzoffset(None, -3600)),'foo']), convert_datetime=1)\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-30-b06da0694d4e> in <module>()\r\n----> 1 lib.maybe_convert_objects(np.array([datetime(2018, 1, 23, 22, 5, tzinfo=dateutil.tz.tzoffset(None, -3600)),'foo']), convert_datetime=1)\r\n\r\n~/pandas/pandas/_libs/src/inference.pyx in pandas._libs.lib.maybe_convert_objects()\r\n   1321     # we try to coerce datetime w/tz but must all have the same tz\r\n   1322     if seen.datetimetz_:\r\n-> 1323         if len({getattr(val, 'tzinfo', None) for val in objects}) == 1:\r\n   1324             from pandas import DatetimeIndex\r\n   1325             return DatetimeIndex(objects)\r\n\r\nTypeError: unhashable type: 'tzoffset'\r\n\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/359984198",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19359#issuecomment-359984198",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19359",
    "id": 359984198,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTk4NDE5OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-24T00:56:49Z",
    "updated_at": "2018-01-24T00:56:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "here is a repro. The apply behavior is fine actually, but its a lower level bug. A PR to fix this would be apprecaited."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/360767459",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19359#issuecomment-360767459",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19359",
    "id": 360767459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDc2NzQ1OQ==",
    "user": {
      "login": "lingster",
      "id": 850493,
      "node_id": "MDQ6VXNlcjg1MDQ5Mw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/850493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lingster",
      "html_url": "https://github.com/lingster",
      "followers_url": "https://api.github.com/users/lingster/followers",
      "following_url": "https://api.github.com/users/lingster/following{/other_user}",
      "gists_url": "https://api.github.com/users/lingster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lingster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lingster/subscriptions",
      "organizations_url": "https://api.github.com/users/lingster/orgs",
      "repos_url": "https://api.github.com/users/lingster/repos",
      "events_url": "https://api.github.com/users/lingster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lingster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-26T12:00:27Z",
    "updated_at": "2018-01-26T12:04:37Z",
    "author_association": "NONE",
    "body": "The below seems to fix the issue, I'll create a PR unless any objections? \r\n(in inference.pyx):\r\n```python\r\n    if seen.datetimetz_:\r\n        if not any({isinstance(val, str) for val in objects}) and \\\r\n                len({getattr(val, 'tzinfo', None) for val in objects}) == 1:\r\n            from pandas import DatetimeIndex\r\n            return DatetimeIndex(objects)\r\n        seen.object_ = 1\r\n```\r\n```python\r\nIn[14]:DataFrame([\"stub\"]).apply(transform)\r\nOut[14]: \r\n                                                       0\r\ntime                           2018-01-26 22:05:00-01:00\r\ntitle  remove this \"title\" to remove the error ro rem...\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/360774838",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19359#issuecomment-360774838",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19359",
    "id": 360774838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDc3NDgzOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-26T12:41:49Z",
    "updated_at": "2018-01-26T12:41:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok"
  }
]
