[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/233145132",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13665#issuecomment-233145132",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13665",
    "id": 233145132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzE0NTEzMg==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-16T18:50:09Z",
    "updated_at": "2016-07-16T18:50:09Z",
    "author_association": "MEMBER",
    "body": "Thx for the report. Currently sparse doesn't support all the functionality and should raise understandable error. \n\nI feel supporting merge op in sparse data should have some limitations. Can you describe what type of data you actually have (pls show a sample data)? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/233145519",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13665#issuecomment-233145519",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13665",
    "id": 233145519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzE0NTUxOQ==",
    "user": {
      "login": "simonm3",
      "id": 1199593,
      "node_id": "MDQ6VXNlcjExOTk1OTM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1199593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simonm3",
      "html_url": "https://github.com/simonm3",
      "followers_url": "https://api.github.com/users/simonm3/followers",
      "following_url": "https://api.github.com/users/simonm3/following{/other_user}",
      "gists_url": "https://api.github.com/users/simonm3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simonm3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simonm3/subscriptions",
      "organizations_url": "https://api.github.com/users/simonm3/orgs",
      "repos_url": "https://api.github.com/users/simonm3/repos",
      "events_url": "https://api.github.com/users/simonm3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simonm3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-16T18:58:36Z",
    "updated_at": "2016-07-16T18:58:36Z",
    "author_association": "NONE",
    "body": "Thanks for reply. Would be better to have sensible error and list in the\ndocs what is and is not supported.\n\nEven the small example I gave does not work. My real example has 32m rows\nmerged with 1m rows. It fails with memory error if not sparse. Is there a\nway of merging two large dataframes without using any extra memory e.g.\ninplace=True for merge? I tried copy=False but it did not help. My\nworkaround is to merge a few columns at a time which allows me to release\nmemory from the original once copied.\n\nOn 16 July 2016 at 19:50, Sinhrks notifications@github.com wrote:\n\n> Thx for the report. Currently sparse doesn't support all the functionality\n> and should raise understandable error.\n> \n> I feel supporting merge op in sparse data should have some limitations.\n> Can you describe what type of data you actually have (pls show a sample\n> data)?\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/pydata/pandas/issues/13665#issuecomment-233145132,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/ABJN6T9q2FErpN7LmjuM4mcISSKlvFIIks5qWSfxgaJpZM4JNd26\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/233145901",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13665#issuecomment-233145901",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13665",
    "id": 233145901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzE0NTkwMQ==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-16T19:06:41Z",
    "updated_at": "2016-07-16T19:18:33Z",
    "author_association": "MEMBER",
    "body": "> Is there a way of merging two large dataframes without using any extra memory\n\nIt may worth to try https://github.com/dask/dask.\n\nPls let me know more about your data for future merging support.\n- are merging keys unique?\n- they matches one to one (inner join meets your needs?) \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/233146070",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13665#issuecomment-233146070",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13665",
    "id": 233146070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzE0NjA3MA==",
    "user": {
      "login": "simonm3",
      "id": 1199593,
      "node_id": "MDQ6VXNlcjExOTk1OTM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1199593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simonm3",
      "html_url": "https://github.com/simonm3",
      "followers_url": "https://api.github.com/users/simonm3/followers",
      "following_url": "https://api.github.com/users/simonm3/following{/other_user}",
      "gists_url": "https://api.github.com/users/simonm3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simonm3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simonm3/subscriptions",
      "organizations_url": "https://api.github.com/users/simonm3/orgs",
      "repos_url": "https://api.github.com/users/simonm3/repos",
      "events_url": "https://api.github.com/users/simonm3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simonm3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-16T19:11:12Z",
    "updated_at": "2016-07-16T19:11:12Z",
    "author_association": "NONE",
    "body": "unique key. In this case was inner join. first table just 2 columns. second\ntable 500 columns.\n\nwill try dask. looks interesting\n\nOn 16 July 2016 at 20:06, Sinhrks notifications@github.com wrote:\n\n> Is there a way of merging two large dataframes without using any extra\n> memory\n> \n> It may worth to try https://github.com/dask/dask.\n> \n> Pls let me know more about your data for future merging support.\n> - is merging key is unique?\n> - they matches one to one (inner join meets your needs?)\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/pydata/pandas/issues/13665#issuecomment-233145901,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/ABJN6ehdEw6z6ALBPMMfdOp28qM6z0nuks5qWSvRgaJpZM4JNd26\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354817775",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13665#issuecomment-354817775",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13665",
    "id": 354817775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDgxNzc3NQ==",
    "user": {
      "login": "hexgnu",
      "id": 138510,
      "node_id": "MDQ6VXNlcjEzODUxMA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/138510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hexgnu",
      "html_url": "https://github.com/hexgnu",
      "followers_url": "https://api.github.com/users/hexgnu/followers",
      "following_url": "https://api.github.com/users/hexgnu/following{/other_user}",
      "gists_url": "https://api.github.com/users/hexgnu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hexgnu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hexgnu/subscriptions",
      "organizations_url": "https://api.github.com/users/hexgnu/orgs",
      "repos_url": "https://api.github.com/users/hexgnu/repos",
      "events_url": "https://api.github.com/users/hexgnu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hexgnu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-02T17:09:36Z",
    "updated_at": "2018-01-02T17:09:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "So I took a look at this. The problem is that inside of how merging is done the sparse blocks get cast to dense blocks while invoking `get_values()`.\r\n\r\nThe simple fix would be to convert the whole thing to a dense data frame although that seems confusing. So I will dig to see if I can use sparse blocks instead of the dense blocks."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/417941201",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13665#issuecomment-417941201",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13665",
    "id": 417941201,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzk0MTIwMQ==",
    "user": {
      "login": "matanster",
      "id": 4996067,
      "node_id": "MDQ6VXNlcjQ5OTYwNjc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4996067?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matanster",
      "html_url": "https://github.com/matanster",
      "followers_url": "https://api.github.com/users/matanster/followers",
      "following_url": "https://api.github.com/users/matanster/following{/other_user}",
      "gists_url": "https://api.github.com/users/matanster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matanster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matanster/subscriptions",
      "organizations_url": "https://api.github.com/users/matanster/orgs",
      "repos_url": "https://api.github.com/users/matanster/repos",
      "events_url": "https://api.github.com/users/matanster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matanster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-02T16:07:27Z",
    "updated_at": "2018-09-02T16:07:59Z",
    "author_association": "NONE",
    "body": "While this PR was not merged yet, it could be worth noting that merging currently also breaks when merging a sparse dataframe with a non-sparse one (the resulting dataframe may not be usable after the merge)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/430635792",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13665#issuecomment-430635792",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13665",
    "id": 430635792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDYzNTc5Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-17T13:49:08Z",
    "updated_at": "2018-10-17T13:52:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "This should be fixed on master.\r\n\r\n```python\r\nIn [4]: df = pd.DataFrame(np.random.randint(0,100,size=(100, 4)), columns=list('ABCD')).to_sparse()\r\n   ...: df2 = pd.DataFrame(np.random.randint(0,100,size=(100, 4)), columns=list('ABCD')).to_sparse()\r\n   ...: df.merge(df2, how=\"left\", on=\"A\").head()\r\nOut[4]:\r\n    A  B_x  C_x  D_x   B_y   C_y   D_y\r\n0  93   45   47   17  55.0  14.0  70.0\r\n1  93   45   47   17  11.0  59.0  79.0\r\n2  93   45   47   17  36.0  97.0  61.0\r\n3  93   45   47   17  42.0  14.0  24.0\r\n4  83   68   60   85   NaN   NaN   NaN\r\n\r\n```\r\n\r\nA confirmatory test and a release note would be appreciated, if anyone wants to do that."
  }
]
