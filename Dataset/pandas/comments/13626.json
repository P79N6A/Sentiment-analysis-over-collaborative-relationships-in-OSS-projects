[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/231996984",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13626#issuecomment-231996984",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13626",
    "id": 231996984,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTk5Njk4NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-12T10:11:45Z",
    "updated_at": "2016-07-12T10:11:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this mostly has to do with pre-concat coercion in `.append`. Instead I would fix this logic.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/232825215",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13626#issuecomment-232825215",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13626",
    "id": 232825215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjgyNTIxNQ==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-14T23:53:13Z",
    "updated_at": "2016-07-15T01:56:24Z",
    "author_association": "MEMBER",
    "body": "@jreback maybe my wording was misleading. Prepared a draft PR #13660 to show my intention. You're correct that the changes are mostly on `.append` (much simplified I think).\n\nBTW, I found 2 more issues, fixing in the same PR.\n\n## 1. `CategoricalIndex.append` may regard list as value\n\n```\n# raise ValueError, ok (error message may better to be more appropriate) \npd.Index([1, 2, 3]).append([1, 2, 3])\n# ValueError: all the input arrays must have same number of dimensions\n\n# NG, concatenated as values if categories are the same \npd.CategoricalIndex([1, 2, 3]).append([1, 2, 3])\n# CategoricalIndex([1, 2, 3, 1, 2, 3], categories=[1, 2, 3], ordered=False, dtype='category')\n```\n\n## 2. `Series.append` may raise `AmbiguousTimeError`\n\n```\n# DatetimeIndex, OK\ndti = pd.date_range('2017-11-05', freq='H', periods=3, tz='US/Eastern')\ndti.append(dti) \n# DatetimeIndex(['2017-11-05 00:00:00-04:00', '2017-11-05 01:00:00-04:00',\n#                '2017-11-05 01:00:00-05:00', '2017-11-05 00:00:00-04:00',\n#                '2017-11-05 01:00:00-04:00', '2017-11-05 01:00:00-05:00'],\n#               dtype='datetime64[ns, US/Eastern]', freq=None)\n\n# Series, NG\npd.Series(dti).append(pd.Series(dti))\n# AmbiguousTimeError: Cannot infer dst time from Timestamp('2017-11-05 01:00:00'), try using the 'ambiguous' argument\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/232826402",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13626#issuecomment-232826402",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13626",
    "id": 232826402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjgyNjQwMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-15T00:01:58Z",
    "updated_at": "2016-07-15T00:01:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sinhrks actually was tinkin about the appending logic in DataFrame (which coerces Series to the proper shape), but yes Index appending seems not well tested / working. In fact this generated lots of weird cases in indexing.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/233790573",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13626#issuecomment-233790573",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13626",
    "id": 233790573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzc5MDU3Mw==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-19T22:52:21Z",
    "updated_at": "2016-07-22T18:29:30Z",
    "author_association": "MEMBER",
    "body": "#13660 has been almost finished, found following 2 more bugs:\n\n## 3. name is not properly reset when mismatch\n\nbeing fixed.\n\n```\n# Index NG, name must be None\npd.Index([1, 2], name='x').append(pd.Index([3, 4]))\n# Int64Index([1, 2, 3, 4], dtype='int64', name=u'x')\n\n# Series, OK (name is None)\npd.Series([1, 2], name='x').append(pd.Series([3, 4]))\n# 0    1\n# 1    2\n# 0    3\n# 1    4\n# dtype: int64\n```\n\n## 4. Categorical concat inconsistency\n\nrelated to #13524. I've marked inconsistent points as \"??\" (including the difference of raised error)\n\n#### Series\n\n```\n# OK, Categorical + Categorical which has the same category = Categorical\ns = pd.Series([1, 2], dtype='category')\ns.append(s)\n# 0    1\n# 1    2\n# 0    1\n# 1    2\n# dtype: category\n# Categories (2, int64): [1, 2]\n\n# ??, Categorical + Categorical which has the different category = ValueError\ns.append(pd.Series([3, 4], dtype='category'))\nValueError: incompatible categories in categorical concat\n\n\n# ??, Categorical + other dtype = object\ns.append(pd.Series([1, 2]))\n# 0    1\n# 1    2\n# 0    1\n# 1    2\n# dtype: object\n```\n\n#### Index\n\n```\n# OK, Categorical + Categorical which has the same category = Categorical\ni = pd.Index([1, 2], dtype='category')\ni.append(i)\n# CategoricalIndex([1, 2, 1, 2], categories=[1, 2], ordered=False, dtype='category')\n\n# ??, Categorical + Categorical which has the different category = TypeError\ni.append(pd.CategoricalIndex([3, 4]))\n# TypeError: categories must match existing categories when appending\n\n# ??, Categorical + other dtype whicn in the category = Categorical\ni.append(pd.Index([1, 2]))\n# CategoricalIndex([1, 2, 1, 2], categories=[1, 2], ordered=False, dtype='category')\n\n# ??, Categorical + other dtype which is not in the category = TypeError\ni.append(pd.Index([3, 4]))\n# TypeError: cannot append a non-category item to a CategoricalIndex\n```\n"
  }
]
