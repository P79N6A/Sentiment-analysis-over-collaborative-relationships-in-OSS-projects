[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/77474252",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-77474252",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 77474252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDc0MjUy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-05T23:20:46Z",
    "updated_at": "2015-03-05T23:20:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche this is a really nice summary.\n\nI think in general we can move `[]/.ix` closer (maybe can get identical), so as not to have any confusion. (of course we _may_ have to eliminate fallback which is not a bad thing anyhow).\n\nI suppose we should prepare any changes for 0.17.0 as these will technically be API changes.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/77483833",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-77483833",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 77483833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDgzODMz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-06T00:36:10Z",
    "updated_at": "2015-03-06T00:37:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "xref #7501 , #8976, #7187 \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/77514752",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-77514752",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 77514752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTE0NzUy",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-06T06:47:15Z",
    "updated_at": "2015-03-06T06:47:27Z",
    "author_association": "MEMBER",
    "body": "xref #9213, CC @hugadams @dandavison\n\n@jorisvandenbossche Indeed, this is a nice summary of current behavior. Thanks!\n\nI think we should _consider_ **radical** API changes for `__getitem__` if we want pandas to have a lasting influence.\n\nMy two cents on indexing is that \"fallback indexing\" is a really bad idea. It starts with the best of intentions, but leads to things like special cases like distinctions between integer and float indexes (e.g., see #9213). _In the face of ambiguity, refuse the temptation to guess_.\n\nSo if I were reinventing indexing rules from scratch, I would consider something like this (for `DataFrame`):\n- Indexing with a string or list of strings does label based selection on columns.\n- All other indexing is position based, NumPy style. (This includes indexing with a boolean array.)\n\nThat's it. Two simple rules that probably cover 90% of existing uses of `__getitem__`, at least the only ones that I could ever keep straight (string column labels and boolean arrays). Importantly, indexing would never depend on the type of the index and there would be no reindexing/NaN-filling behavior. We could also eliminate the need for `.iloc` as a separate indexer entirely.\n\nThis sort of change would require a serious deprecation cycle or perhaps need to wait until pandas 1.0 (likely both), but something needs to change. The fact that even pandas developers need to run extensive experiments to figure out how `__getitem__` works indicates just how wrong things are. Indexing should be simple enough that its behavior can be relied on in production code. The current state of indexing is, frankly, embarrassing.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245817871",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-245817871",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 245817871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTgxNzg3MQ==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-09T04:40:38Z",
    "updated_at": "2016-09-09T04:40:38Z",
    "author_association": "MEMBER",
    "body": "@jorisvandenbossche Did you ever figure out how `__setitem__` works? :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245854045",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-245854045",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 245854045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTg1NDA0NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-09T08:38:30Z",
    "updated_at": "2016-09-09T08:38:30Z",
    "author_association": "MEMBER",
    "body": "@shoyer nope :-) I would suspect it is largely the same, but you never know ... Will try to look at it next week\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325386663",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-325386663",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 325386663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTM4NjY2Mw==",
    "user": {
      "login": "matthewgilbert",
      "id": 2401026,
      "node_id": "MDQ6VXNlcjI0MDEwMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2401026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewgilbert",
      "html_url": "https://github.com/matthewgilbert",
      "followers_url": "https://api.github.com/users/matthewgilbert/followers",
      "following_url": "https://api.github.com/users/matthewgilbert/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewgilbert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewgilbert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewgilbert/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewgilbert/orgs",
      "repos_url": "https://api.github.com/users/matthewgilbert/repos",
      "events_url": "https://api.github.com/users/matthewgilbert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewgilbert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-28T15:28:22Z",
    "updated_at": "2017-08-28T15:28:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I wanted to add this here since it is somewhat related to \"String parsing for a datetime index does not seem to work\" mentioned above and I have not seen it come up anywhere else. For a MultiIndex, string parsing for a datetime index with a scalar does not result in dropping the MultiIndex level.\r\n\r\n```\r\nIn [2]: dfm = pd.DataFrame([1, 2, 3], index=pd.MultiIndex.from_arrays([pd.date_range(\"2015-01-01\", \"2015-01-03\"), ['A', 'A', 'B']]))\r\n\r\nIn [3]: dfm.loc[\"2015-01-01\"]\r\nOut[3]: \r\n              0\r\n2015-01-01 A  1\r\n\r\nIn [4]: dfm.loc[pd.Timestamp(\"2015-01-01\")]\r\nOut[4]: \r\n   0\r\nA  1\r\n```\r\nthis seems like somewhat unintuitive behaviour (to me at least)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325652330",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-325652330",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 325652330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTY1MjMzMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-29T12:45:30Z",
    "updated_at": "2017-08-29T12:45:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "@matthewgilbert this is just how partial string indexing works, see the docs [here](http://pandas.pydata.org/pandas-docs/stable/timeseries.html#indexing). The first is treated as a slice, while the second is an exact match."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330182736",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-330182736",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 330182736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDE4MjczNg==",
    "user": {
      "login": "aavanian",
      "id": 13487305,
      "node_id": "MDQ6VXNlcjEzNDg3MzA1",
      "avatar_url": "https://avatars0.githubusercontent.com/u/13487305?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aavanian",
      "html_url": "https://github.com/aavanian",
      "followers_url": "https://api.github.com/users/aavanian/followers",
      "following_url": "https://api.github.com/users/aavanian/following{/other_user}",
      "gists_url": "https://api.github.com/users/aavanian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aavanian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aavanian/subscriptions",
      "organizations_url": "https://api.github.com/users/aavanian/orgs",
      "repos_url": "https://api.github.com/users/aavanian/repos",
      "events_url": "https://api.github.com/users/aavanian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aavanian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T10:35:58Z",
    "updated_at": "2017-09-18T10:35:58Z",
    "author_association": "NONE",
    "body": "I came around this and this seems related but could also be a bug in the above interacting with the CategoricalIndex. Using the same example as #15470:\r\n\r\npandas 0.20.3\r\n\r\n    s = pd.Series([2, 1, 0], index=pd.CategoricalIndex([2, 1, 0]))\r\n    s[2]  # works (interpreting as label)\r\n    s.loc[2]  # fails with TypeError: cannot do label indexing on <class 'pandas.core.indexes.category.CategoricalIndex'> with these indexers [2] of <class 'int'>\r\n\r\n    # of course the below works!\r\n    s = pd.Series([2, 1, 0], index=[2, 1, 0])\r\n    s[2]  # works (interpreting as label)\r\n    s.loc[2]  # works (interpreting as label)\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330185615",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-330185615",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 330185615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDE4NTYxNQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T10:51:28Z",
    "updated_at": "2017-09-18T10:51:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@aavanian that looks like a bug. Could you open a separate issue for it?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330187029",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-330187029",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 330187029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDE4NzAyOQ==",
    "user": {
      "login": "aavanian",
      "id": 13487305,
      "node_id": "MDQ6VXNlcjEzNDg3MzA1",
      "avatar_url": "https://avatars0.githubusercontent.com/u/13487305?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aavanian",
      "html_url": "https://github.com/aavanian",
      "followers_url": "https://api.github.com/users/aavanian/followers",
      "following_url": "https://api.github.com/users/aavanian/following{/other_user}",
      "gists_url": "https://api.github.com/users/aavanian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aavanian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aavanian/subscriptions",
      "organizations_url": "https://api.github.com/users/aavanian/orgs",
      "repos_url": "https://api.github.com/users/aavanian/repos",
      "events_url": "https://api.github.com/users/aavanian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aavanian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T10:58:30Z",
    "updated_at": "2017-09-18T10:58:30Z",
    "author_association": "NONE",
    "body": "Sure, done in #17569"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/347051577",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9595#issuecomment-347051577",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9595",
    "id": 347051577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzA1MTU3Nw==",
    "user": {
      "login": "tdpetrou",
      "id": 7226751,
      "node_id": "MDQ6VXNlcjcyMjY3NTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7226751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdpetrou",
      "html_url": "https://github.com/tdpetrou",
      "followers_url": "https://api.github.com/users/tdpetrou/followers",
      "following_url": "https://api.github.com/users/tdpetrou/following{/other_user}",
      "gists_url": "https://api.github.com/users/tdpetrou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tdpetrou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tdpetrou/subscriptions",
      "organizations_url": "https://api.github.com/users/tdpetrou/orgs",
      "repos_url": "https://api.github.com/users/tdpetrou/repos",
      "events_url": "https://api.github.com/users/tdpetrou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tdpetrou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-27T00:27:37Z",
    "updated_at": "2017-11-27T00:27:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "If I were to rebuild pandas, I would make indexing as simple as possible and only use `.loc` and `.iloc`. I would not implement `__getitem__`. There would be no ambiguity.  I also wouldn't allow attribute access to columns. It would be a pain to select a single column `df.loc[:, 'col']` but pandas really needs to focus on being explicit."
  }
]
