[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/377949309",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-377949309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 377949309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Nzk0OTMwOQ==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-04-02T15:02:38Z",
    "updated_at": "2018-04-16T11:04:03Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/20582?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@da33359`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/20582/graphs/tree.svg?src=pr&width=650&height=150&token=eZ4WkYLtcO)](https://codecov.io/gh/pandas-dev/pandas/pull/20582?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master   #20582   +/-   ##\n=========================================\n  Coverage          ?   91.84%           \n=========================================\n  Files             ?      153           \n  Lines             ?    49279           \n  Branches          ?        0           \n=========================================\n  Hits              ?    45261           \n  Misses            ?     4018           \n  Partials          ?        0\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.23% <ø> (?)` | |\n| #single | `41.9% <ø> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/20582?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/arrays/base.py](https://codecov.io/gh/pandas-dev/pandas/pull/20582/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvYXJyYXlzL2Jhc2UucHk=) | `84.14% <ø> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/20582?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/20582?src=pr&el=footer). Last update [da33359...b5d357f](https://codecov.io/gh/pandas-dev/pandas/pull/20582?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/379661834",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-379661834",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 379661834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTY2MTgzNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T07:35:35Z",
    "updated_at": "2018-04-09T07:35:35Z",
    "author_association": "MEMBER",
    "body": "Regarding the discussion whether this \"indexer of all -1 in case of empty array\"-check should be in `take_1d` or in the array's `take`. \r\nI agree ideally we should do this in `take_1d`. I just want to note that, currently, we *don't do any* bounds checking in `take_1d` (also not for eg too large indices). So it might be all methods calling `take_1d` already do this and we didn't add it to `take_1d` for performance reasons, there might be other reasons, .. I don't know. \r\n\r\nIt's just a bit a bigger endeavour to fix that. Of course I can rather easily add this two-line check to `take_1d`, but then we get into a state where `take_1d` does only a partial incomplete bounds check. So ideally we should decide on how low or high level we see `take_1d` (or eg add another `take` method that is more strict in checking input, to not have to change existing internal code), and if we decide that `take_1d` is a high level function that should guarantee bounds checking, update all code that uses it."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/380747432",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-380747432",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 380747432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc0NzQzMg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-12T09:59:26Z",
    "updated_at": "2018-04-12T09:59:26Z",
    "author_association": "MEMBER",
    "body": "Putting @jreback's comment here to not have it lost in a hidden inline comment:\r\n\r\n> I already responsded. `take_1d` can certainly be used in an implementation of this. This is the general implementation of virtually all take behavior, so naturally a check for no indexers should happen there, rather than in each higher level implementation (e.g. EA). The point is that the way you are advocating is simply more complex / buggy and adds more code. Virtually all EA methods should use API's that pandas already has. Should these be public. Sure if possible. But for something like this we don't want to make the actual implementation public as it has certain guarantees. However I don't see any problem with an internal implementation (like EA) using it. it fact I would say they have / should use it. otherwise how else would categorical/DTI/II be implemented at all?\r\n\r\nIf you can point me to an answer that is not just \"this should be in take_1d\", I don't find it :)\r\n\r\nI removed the changes in this PR regarding Categorical (and opened a separate issue for that: https://github.com/pandas-dev/pandas/issues/20664), so only adding tests for the ExtensionArray and the test implementations. \r\nSo we can keep bigger `take_1d` changes for another PR.\r\n\r\n`take_1d` is internally used in many cases where the `indexer` passed to `take_1d` is the result of eg `get_indexer`, so this ensures that the indexer is correct, and for those no out-of-bounds checks are needed.\r\n\r\nYou advocate for that ExtensionArrays should use pandas take implementation, but at the same time say that you don't want to make it public? That seems to contradict each other.\r\n\r\nIf we want to expose our `take` implementation to extension array authors (and maybe we are that ourselves as well), I would personally create a new `take` functions which just calls the existing `take_1d`, but additionally does first bounds checking. \r\nThat way, we keep on using the faster `take_1d` functions internally where we know bounds checks are not needed, and we can make the new `take` method public for external usage as well.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/380749796",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-380749796",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 380749796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc0OTc5Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-12T10:07:59Z",
    "updated_at": "2018-04-12T10:07:59Z",
    "author_association": "MEMBER",
    "body": "@jreback I repeated some of my comments above about `take_1d` / fixing a `take` implementation itself so it can be used in extension arrays, in https://github.com/pandas-dev/pandas/issues/20640. \r\nSo maybe we can continue the discussion on that topic there? And then here only further discuss the actual changes in this PR (I removed everything related to Categorical, I am only adding some generic `take` tests and fixing it for the test example arrays).\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/381330818",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-381330818",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 381330818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTMzMDgxOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-14T13:54:03Z",
    "updated_at": "2018-04-14T13:54:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "lgtm. though seems to be failing the numpy master build?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/381499680",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-381499680",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 381499680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQ5OTY4MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-16T07:03:59Z",
    "updated_at": "2018-04-16T07:03:59Z",
    "author_association": "MEMBER",
    "body": "> though seems to be failing the numpy master build?\r\n\r\nSeems to be unrelated clipboard failures"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/381503119",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-381503119",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 381503119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTUwMzExOQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-16T07:19:55Z",
    "updated_at": "2018-04-16T07:19:55Z",
    "author_association": "MEMBER",
    "body": "Added one more test (for `reindex`, which was the actual method where this difference in the `take` API surfaced)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/381885925",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20582#issuecomment-381885925",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20582",
    "id": 381885925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTg4NTkyNQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-17T07:53:26Z",
    "updated_at": "2018-04-17T07:53:26Z",
    "author_association": "MEMBER",
    "body": "Appveyor failure is unrelated and was succeeding before."
  }
]
