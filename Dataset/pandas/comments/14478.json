[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/255604488",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14478#issuecomment-255604488",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14478",
    "id": 255604488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTYwNDQ4OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-23T18:17:59Z",
    "updated_at": "2016-10-23T18:19:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "done originally here: https://github.com/pandas-dev/pandas/pull/10341/files\n\nshould be easy enough to expand this list if you would like to do a PR\n\nthe check should directly introspect pytables for this validation I think\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/255605942",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14478#issuecomment-255605942",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14478",
    "id": 255605942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTYwNTk0Mg==",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-23T18:41:14Z",
    "updated_at": "2016-10-23T18:41:14Z",
    "author_association": "NONE",
    "body": "@jreback thanks for the link with details. I'll take  look at some local testing and let you know if the blosc compressors work.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/255739826",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14478#issuecomment-255739826",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14478",
    "id": 255739826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTczOTgyNg==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-24T13:27:06Z",
    "updated_at": "2016-10-24T13:27:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dragoljub When this patch was submitted pandas did not work with the multi-compression filters.  Things might have changed.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/255740156",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14478#issuecomment-255740156",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14478",
    "id": 255740156,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTc0MDE1Ng==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-24T13:28:19Z",
    "updated_at": "2016-10-24T13:28:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is a verbal description of a case the produced incorrect results here:\n\nhttps://github.com/pandas-dev/pandas/issues/8874\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/255819318",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14478#issuecomment-255819318",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14478",
    "id": 255819318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTgxOTMxOA==",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-24T18:08:31Z",
    "updated_at": "2016-10-24T18:08:31Z",
    "author_association": "NONE",
    "body": "I made this simple change in `\\pandas\\io\\pytables.py line 435` and now the different compression libraries seem to work with PyTables 3.3.0 and Pandas 0.19.0. I'll need some time to get a PR prepared with tests etc.\n\n``` python\nif complib not in (None, 'blosc', 'bzip2', 'lzo', 'zlib', 'blosc:lz4', 'blosc:lz4hc', 'blosc:snappy', 'blosc:zlib', 'blosc:zstd'):\n```\n\n`Blosc:LZ4` reads my data about 30% faster than LZO with about the same compression ratio. I'll have to play more with different combination of strings and floats but so far it seems to be a nice option to have.\n\nUnfortunately nothing comes close to the compression ratio I get with gzipped pickle files. I bet HDF5 CArray chunkshape being row-major in float32 blocks removes some of the benefits we may see with pure columnar chunked compression for columns with repeated values.\n\nSome Benchmarks:\n\n``` python\n\nIn [64]: %time df.to_hdf(r'df_none.h5', 'df', mode='w')\nWall time: 1.12 s\n\nIn [67]: %time df.to_hdf(r'df_lzo.h5', 'df', mode='w', complib='lzo', complevel=9)\nWall time: 378 ms\n\nIn [68]: %time df.to_hdf(r'df_lz4.h5', 'df', mode='w', complib='blosc:lz4', complevel=9)\nWall time: 357 ms\n\nIn [69]: %time df.to_hdf(r'df_zstd.h5', 'df', mode='w', complib='blosc:zstd', complevel=9)\nWall time: 28.4 s\n\nIn [70]: %time df.to_hdf(r'df_lz4hc.h5', 'df', mode='w', complib='blosc:lz4hc', complevel=9)\nWall time: 33.2 s\n\nIn [71]: %timeit  pd.read_hdf(r'df_none.h5', mode='r')\n10 loops, best of 3: 134 ms per loop\n\nIn [72]: %timeit  pd.read_hdf(r'df_lzo.h5', mode='r')\n1 loop, best of 3: 389 ms per loop\n\nIn [73]: %timeit  pd.read_hdf(r'df_lz4.h5', mode='r')\n1 loop, best of 3: 277 ms per loop\n\nIn [74]: %timeit  pd.read_hdf(r'df_zstd.h5', mode='r')\n1 loop, best of 3: 471 ms per loop\n\nIn [75]: %timeit  pd.read_hdf(r'df_lz4hc.h5', mode='r')\n1 loop, best of 3: 260 ms per loop\n\nIn [76]: %time df.to_pickle(r'df.pkl')\nWall time: 1.25 s\n\nIn [77]: %timeit pd.read_pickle(r'df.pkl')\n1 loop, best of 3: 228 ms per loop\n```\n"
  }
]
