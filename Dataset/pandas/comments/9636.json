[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/78849335",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9636#issuecomment-78849335",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9636",
    "id": 78849335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODQ5MzM1",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-13T07:34:48Z",
    "updated_at": "2015-03-13T07:34:48Z",
    "author_association": "MEMBER",
    "body": "This looks very helpful!\n\nWould you like to submit a PR that adds a link to this issue in the documentation?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/78942537",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9636#issuecomment-78942537",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9636",
    "id": 78942537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTQyNTM3",
    "user": {
      "login": "joschkazj",
      "id": 1842005,
      "node_id": "MDQ6VXNlcjE4NDIwMDU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1842005?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joschkazj",
      "html_url": "https://github.com/joschkazj",
      "followers_url": "https://api.github.com/users/joschkazj/followers",
      "following_url": "https://api.github.com/users/joschkazj/following{/other_user}",
      "gists_url": "https://api.github.com/users/joschkazj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joschkazj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joschkazj/subscriptions",
      "organizations_url": "https://api.github.com/users/joschkazj/orgs",
      "repos_url": "https://api.github.com/users/joschkazj/repos",
      "events_url": "https://api.github.com/users/joschkazj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joschkazj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-13T12:10:03Z",
    "updated_at": "2015-03-13T12:10:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I'll do that, but it might take some time.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/82258913",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9636#issuecomment-82258913",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9636",
    "id": 82258913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjU4OTEz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-17T10:19:10Z",
    "updated_at": "2015-03-17T10:19:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "closed by #9661 \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/312011057",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9636#issuecomment-312011057",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9636",
    "id": 312011057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjAxMTA1Nw==",
    "user": {
      "login": "cdeterman",
      "id": 3091179,
      "node_id": "MDQ6VXNlcjMwOTExNzk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3091179?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cdeterman",
      "html_url": "https://github.com/cdeterman",
      "followers_url": "https://api.github.com/users/cdeterman/followers",
      "following_url": "https://api.github.com/users/cdeterman/following{/other_user}",
      "gists_url": "https://api.github.com/users/cdeterman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cdeterman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cdeterman/subscriptions",
      "organizations_url": "https://api.github.com/users/cdeterman/orgs",
      "repos_url": "https://api.github.com/users/cdeterman/repos",
      "events_url": "https://api.github.com/users/cdeterman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cdeterman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-29T15:55:57Z",
    "updated_at": "2017-06-29T15:55:57Z",
    "author_association": "NONE",
    "body": "This is helpful but what about if the format is set to 'table'.  The provided function doesn't seem to work for this situation.\r\n\r\nPython\r\n```python\r\nstore.put(\"dataframe\", df, format = 'table', data_columns=df.columns)\r\n```\r\n\r\nR\r\n```r\r\n> loadhdf5data(h5File)\r\ndata frame with 0 columns and 0 rows\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/312222237",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9636#issuecomment-312222237",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9636",
    "id": 312222237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjIyMjIzNw==",
    "user": {
      "login": "joschkazj",
      "id": 1842005,
      "node_id": "MDQ6VXNlcjE4NDIwMDU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1842005?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joschkazj",
      "html_url": "https://github.com/joschkazj",
      "followers_url": "https://api.github.com/users/joschkazj/followers",
      "following_url": "https://api.github.com/users/joschkazj/following{/other_user}",
      "gists_url": "https://api.github.com/users/joschkazj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joschkazj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joschkazj/subscriptions",
      "organizations_url": "https://api.github.com/users/joschkazj/orgs",
      "repos_url": "https://api.github.com/users/joschkazj/repos",
      "events_url": "https://api.github.com/users/joschkazj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joschkazj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-30T09:33:43Z",
    "updated_at": "2017-06-30T09:33:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "For table format you may use rhdf5 directly (non-working exerpts):\r\n\r\nPython\r\n```python\r\nwith pd.HDFStore(out_name, mode=\"w\", complib=str(\"zlib\"),\r\n                 complevel=5) as hdf_store:\r\n    # Write some data\r\n    hdf_store.append(\"features\", job_data.loc[:, feat_columns],\r\n                     format=\"table\", index=False)\r\n    hdf_store.append(\"labels\", job_data.loc[:, label_columns],\r\n                     format=\"table\", data_columns=label_columns, index=False)\r\n```\r\n\r\nR:\r\n```R\r\nlibrary(rhdf5)\r\n\r\nloadFeatures <- function(h5File) {\r\n  # Load feature values from separate HDF5 tables into data.frame object\r\n  #\r\n  # Args:\r\n  #   h5File: filename of HDF5 file to be loaded. It has to contain two tables:\r\n  #   \"/features/table\" with feature values and \"/labels/table\" with\r\n  #   corresponding block labels.\r\n  #\r\n  # Returns:\r\n  #   A data.frame with feature values and block labels\r\n\r\n  labels <- h5read(h5File, \"/labels/table\", read.attributes = FALSE)\r\n  featTable <- h5read(h5File, \"/features/table\", compoundAsDataFrame = FALSE)\r\n  feats <- data.frame(t(featTable$values_block_0))\r\n  # data format conversion is application specific \r\n  feats$job <- factor(labels$job)\r\n  feats$layer <- factor(labels$layer)\r\n  feats$block <- labels$block\r\n\r\n  feats$isElevated <- as.logical(labels$is_elevated)\r\n  feats$partLabel <- labels$part_label\r\n\r\n  return(feats)\r\n}\r\n\r\nfeats <- loadFeatures(few_h5File)\r\n```\r\nIt's been a while and I haven't used pandas and R in combination since, but this should get you started."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315248129",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9636#issuecomment-315248129",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9636",
    "id": 315248129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTI0ODEyOQ==",
    "user": {
      "login": "Franck-Dernoncourt",
      "id": 15331,
      "node_id": "MDQ6VXNlcjE1MzMx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/15331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Franck-Dernoncourt",
      "html_url": "https://github.com/Franck-Dernoncourt",
      "followers_url": "https://api.github.com/users/Franck-Dernoncourt/followers",
      "following_url": "https://api.github.com/users/Franck-Dernoncourt/following{/other_user}",
      "gists_url": "https://api.github.com/users/Franck-Dernoncourt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Franck-Dernoncourt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Franck-Dernoncourt/subscriptions",
      "organizations_url": "https://api.github.com/users/Franck-Dernoncourt/orgs",
      "repos_url": "https://api.github.com/users/Franck-Dernoncourt/repos",
      "events_url": "https://api.github.com/users/Franck-Dernoncourt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Franck-Dernoncourt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-14T01:55:13Z",
    "updated_at": "2017-07-14T01:55:13Z",
    "author_association": "NONE",
    "body": "@joschkazj Thanks for sharing your function. I am having issues with integers larger than 32 bit.\r\n\r\nFor example, if I create the data frame:\r\n\r\n```\r\nimport pandas as pd\r\n\r\nframe = pd.DataFrame({\r\n    'time':[1234567001,1234515616515167005],\r\n    'X2':[23.88,23.96]\r\n},columns=['time','X2'])\r\n\r\nstore = pd.HDFStore('a.hdf5')\r\nstore['df'] =  frame\r\nstore.close()\r\nprint(frame)\r\n```\r\n\r\nThe `1234515616515167005` becomes a `NA` in R if I use your `loadhdf5data` function.\r\n\r\nI get this warning message:\r\n\r\n```\r\n> frame = loadhdf5data(\"a.hdf5\")\r\n[1] 1\r\n[1] 2\r\nWarning message:\r\nIn H5Dread(h5dataset = h5dataset, h5spaceFile = h5spaceFile, h5spaceMem = h5spaceMem,  :\r\n  NAs produced by integer overflow while converting 64-bit integer or unsigned 32-bit integer from HDF5 to a 32-bit integer in R. Choose bit64conversion='bit64' or bit64conversion='double' to avoid data loss and see the vignette 'rhdf5' for more details about 64-bit integers.\r\n```\r\n\r\nHowever, adding `bit64conversion='bit64'` or `bit64conversion='double'` in `h5read` doesn't change anything. \r\n\r\nDo you have any idea how I can fix this issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315261924",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9636#issuecomment-315261924",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9636",
    "id": 315261924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTI2MTkyNA==",
    "user": {
      "login": "Franck-Dernoncourt",
      "id": 15331,
      "node_id": "MDQ6VXNlcjE1MzMx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/15331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Franck-Dernoncourt",
      "html_url": "https://github.com/Franck-Dernoncourt",
      "followers_url": "https://api.github.com/users/Franck-Dernoncourt/followers",
      "following_url": "https://api.github.com/users/Franck-Dernoncourt/following{/other_user}",
      "gists_url": "https://api.github.com/users/Franck-Dernoncourt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Franck-Dernoncourt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Franck-Dernoncourt/subscriptions",
      "organizations_url": "https://api.github.com/users/Franck-Dernoncourt/orgs",
      "repos_url": "https://api.github.com/users/Franck-Dernoncourt/repos",
      "events_url": "https://api.github.com/users/Franck-Dernoncourt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Franck-Dernoncourt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-14T03:44:07Z",
    "updated_at": "2017-07-14T03:44:07Z",
    "author_association": "NONE",
    "body": "To fix this bit64 issue: [How can I load a data frame saved in pandas as an HDF5 file in R without losing integers larger than 32 bit?](https://stackoverflow.com/a/45093980/395857). (In short: install.packages(\"bit64‚Äù)+ library(bit64) + added bit64conversion='bit64' twice in loadhdf5data)"
  }
]
