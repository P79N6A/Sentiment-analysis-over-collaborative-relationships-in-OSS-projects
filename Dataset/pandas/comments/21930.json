[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405269680",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21930#issuecomment-405269680",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21930",
    "id": 405269680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTI2OTY4MA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-07-16T14:39:10Z",
    "updated_at": "2018-07-24T17:25:17Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21930?src=pr&el=h1) Report\n> Merging [#21930](https://codecov.io/gh/pandas-dev/pandas/pull/21930?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/3e4839301fc2927646889b194c9eb41c62b76bda?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/21930/graphs/tree.svg?height=150&width=650&token=eZ4WkYLtcO&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/21930?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #21930      +/-   ##\n==========================================\n+ Coverage      92%      92%   +<.01%     \n==========================================\n  Files         170      170              \n  Lines       50609    50611       +2     \n==========================================\n+ Hits        46561    46563       +2     \n  Misses       4048     4048\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.4% <100%> (ø)` | :arrow_up: |\n| #single | `42.19% <0%> (-0.01%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/21930?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/series.py](https://codecov.io/gh/pandas-dev/pandas/pull/21930/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvc2VyaWVzLnB5) | `94.11% <100%> (+0.01%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21930?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21930?src=pr&el=footer). Last update [3e48393...c228d49](https://codecov.io/gh/pandas-dev/pandas/pull/21930?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405423496",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21930#issuecomment-405423496",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21930",
    "id": 405423496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTQyMzQ5Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-17T00:43:03Z",
    "updated_at": "2018-07-17T00:43:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "comment by @gfyoung but otherwise, merge away."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/407710158",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21930#issuecomment-407710158",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21930",
    "id": 407710158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzcxMDE1OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-25T10:31:43Z",
    "updated_at": "2018-07-25T10:31:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @TomAugspurger "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/408068861",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21930#issuecomment-408068861",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21930",
    "id": 408068861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODA2ODg2MQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-26T11:40:35Z",
    "updated_at": "2018-07-26T11:40:35Z",
    "author_association": "MEMBER",
    "body": "One problem with this PR is that now `np.compress` also raises a warning:\r\n\r\n```\r\nIn [9]: cond = [True, False, True, False, False]\r\n   ...:   s = Series([1, -1, 5, 8, 7], index=list('abcde'))\r\n\r\nIn [10]: np.compress(cond, s)\r\n/home/joris/miniconda3/envs/dev/lib/python3.5/site-packages/numpy/core/fromnumeric.py:57: FutureWarning: Series.compress(condition) is deprecated. Use Series[condition] instead.\r\n  return getattr(obj, method)(*args, **kwds)\r\nOut[10]: \r\na    1\r\nc    5\r\nName: foo, dtype: int64\r\n```\r\n\r\nso apparently `np.compress` will simply call the method on the passed object if that exists. \r\n\r\nIs there something to do about that? (I suppose not?)\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/408069324",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21930#issuecomment-408069324",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21930",
    "id": 408069324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODA2OTMyNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-26T11:42:39Z",
    "updated_at": "2018-07-26T11:42:39Z",
    "author_association": "MEMBER",
    "body": "Additional problem is that once we remove the method, `np.compress` will also not work anymore. \r\n\r\nYou get something like (with the method commented out):\r\n\r\n```\r\nIn [2]: np.compress(cond, s)\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n~/miniconda3/envs/dev/lib/python3.5/site-packages/numpy/core/fromnumeric.py in _wrapfunc(obj, method, *args, **kwds)\r\n     56     try:\r\n---> 57         return getattr(obj, method)(*args, **kwds)\r\n     58 \r\n\r\n~/scipy/pandas/pandas/core/generic.py in __getattr__(self, name)\r\n   4557                 return self[name]\r\n-> 4558             return object.__getattribute__(self, name)\r\n   4559 \r\n\r\nAttributeError: 'Series' object has no attribute 'compress'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-2-cb6f12fdb9e8> in <module>()\r\n----> 1 np.compress(cond, s)\r\n\r\n~/miniconda3/envs/dev/lib/python3.5/site-packages/numpy/core/fromnumeric.py in compress(condition, a, axis, out)\r\n   1668 \r\n   1669     \"\"\"\r\n-> 1670     return _wrapfunc(a, 'compress', condition, axis=axis, out=out)\r\n   1671 \r\n   1672 \r\n\r\n~/miniconda3/envs/dev/lib/python3.5/site-packages/numpy/core/fromnumeric.py in _wrapfunc(obj, method, *args, **kwds)\r\n     65     # a downstream library like 'pandas'.\r\n     66     except (AttributeError, TypeError):\r\n---> 67         return _wrapit(obj, method, *args, **kwds)\r\n     68 \r\n     69 \r\n\r\n~/miniconda3/envs/dev/lib/python3.5/site-packages/numpy/core/fromnumeric.py in _wrapit(obj, method, *args, **kwds)\r\n     49         if not isinstance(result, mu.ndarray):\r\n     50             result = asarray(result)\r\n---> 51         result = wrap(result)\r\n     52     return result\r\n     53 \r\n\r\n~/scipy/pandas/pandas/core/series.py in __array_wrap__(self, result, context)\r\n    655         \"\"\"\r\n    656         return self._constructor(result, index=self.index,\r\n--> 657                                  copy=False).__finalize__(self)\r\n    658 \r\n    659     def __array_prepare__(self, result, context=None):\r\n\r\n~/scipy/pandas/pandas/core/series.py in __init__(self, data, index, dtype, name, copy, fastpath)\r\n    264                             'Length of passed values is {val}, '\r\n    265                             'index implies {ind}'\r\n--> 266                             .format(val=len(data), ind=len(index)))\r\n    267                 except TypeError:\r\n    268                     pass\r\n\r\nValueError: Length of passed values is 2, index implies 5\r\n```\r\n\r\nwhich is not a very user friendly error message ..\r\n\r\nOf course, if we are fine with `np.compress(series)` not working anymore, then the fact that it raises a deprecation message (my previous comment) is of course fine .."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/408093752",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21930#issuecomment-408093752",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21930",
    "id": 408093752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODA5Mzc1Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-26T13:16:42Z",
    "updated_at": "2018-07-26T13:16:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "How about we update the warning message to be\r\n\r\n```python\r\nUse `series[condition] or np.asarray(series).compress(condition)`\r\n```"
  }
]
