[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20615960",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20615960",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20615960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjE1OTYw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T16:01:45Z",
    "updated_at": "2013-07-08T16:01:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "what are you trying to accomplish, that doesn't make sense, renaming a 2-level to a single-level\n\nYou can select out the level however; is this what you are after?\n\n```\nIn [8]: test_df['Date']\nOut[8]: \nBuyer                Carl                Mark\n0     2013-09-01 13:00:00                 NaT\n1                     NaT 2013-09-01 13:05:00\n2     2013-10-01 20:00:00                 NaT\n4                     NaT 2013-12-02 12:00:00\n5     2013-12-02 14:00:00                 NaT\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20620087",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20620087",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20620087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjIwMDg3",
    "user": {
      "login": "aschilling",
      "id": 377855,
      "node_id": "MDQ6VXNlcjM3Nzg1NQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/377855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aschilling",
      "html_url": "https://github.com/aschilling",
      "followers_url": "https://api.github.com/users/aschilling/followers",
      "following_url": "https://api.github.com/users/aschilling/following{/other_user}",
      "gists_url": "https://api.github.com/users/aschilling/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aschilling/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aschilling/subscriptions",
      "organizations_url": "https://api.github.com/users/aschilling/orgs",
      "repos_url": "https://api.github.com/users/aschilling/repos",
      "events_url": "https://api.github.com/users/aschilling/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aschilling/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T17:02:05Z",
    "updated_at": "2013-07-08T17:02:05Z",
    "author_association": "NONE",
    "body": "Hi everybody,\n\nSorry, the example ist not the best. Actually, I did  some trend generation today and after updating to pandas current branch a lot of my code didn't work anymore because that rename function used to work as described above. \nThere are basically two scenarios where I used that hierarchical renaming:\n1. When generating stock trends (a short variable name is much easier to use than those tuples)\n2. When doing some complex operations as in the SO article, where the original variable (Date) does not matter any more but only that there is a matching date between Carl and Mark \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20621085",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20621085",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20621085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjIxMDg1",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T17:17:18Z",
    "updated_at": "2013-07-08T17:42:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I favour xs here, bit more explicit:\n\n```\nIn [11]: test_df.xs('Date', axis=1)\nOut[11]:\nBuyer                Carl                Mark\n0     2013-09-01 13:00:00                 NaT\n1                     NaT 2013-09-01 13:05:00\n2     2013-10-01 20:00:00                 NaT\n4                     NaT 2013-12-02 12:00:00\n5     2013-12-02 14:00:00                 NaT\n\n# or maybe\ntest_df.columns = test_df.columns.droplevel(0)\n# or \ntest_df.columns =  test_df.columns.get_level_values('Buyer')\n```\n\nThe fact that replace was working before smells like a bug, as @jreback says, it doesn't really make any sense to rename like that...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20622832",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20622832",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20622832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjIyODMy",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T17:43:02Z",
    "updated_at": "2013-07-08T17:43:02Z",
    "author_association": "MEMBER",
    "body": "renaming doesn't work for multiindexes period, whether it makes sense or not:\n\n```\nIn [7]: df\nOut[7]:\n  Branch Buyer                Date  Quantity\n0      A  Carl 2013-09-01 13:00:00         1\n1      A  Mark 2013-09-01 13:05:00         3\n2      A  Carl 2013-10-01 20:00:00         5\n3      A   Joe 2013-10-03 10:00:00         8\n4      A  Mark 2013-12-02 12:00:00         9\n5      B  Carl 2013-12-02 14:00:00         3\n\nIn [8]: test_df = df[df['Buyer'].isin(['Carl', 'Mark'])].set_index('Buyer', append=True)[['Date']].unstack(['Buyer'])\n\nIn [9]: test_df\nOut[9]:\n                     Date\nBuyer                Carl                Mark\n0     2013-09-01 13:00:00                 NaT\n1                     NaT 2013-09-01 13:05:00\n2     2013-10-01 20:00:00                 NaT\n4                     NaT 2013-12-02 12:00:00\n5     2013-12-02 14:00:00                 NaT\n\nIn [10]: test_df.rename(columns={('Date', 'Carl'): ('Care')})\nOut[10]:\n                     Date\nBuyer                Carl                Mark\n0     2013-09-01 13:00:00                 NaT\n1                     NaT 2013-09-01 13:05:00\n2     2013-10-01 20:00:00                 NaT\n4                     NaT 2013-12-02 12:00:00\n5     2013-12-02 14:00:00                 NaT\n\nIn [11]: test_df.rename(columns={('Date', 'Carl'): ('Care', \"sdf\")})\nOut[11]:\n                     Date\nBuyer                Carl                Mark\n0     2013-09-01 13:00:00                 NaT\n1                     NaT 2013-09-01 13:05:00\n2     2013-10-01 20:00:00                 NaT\n4                     NaT 2013-12-02 12:00:00\n5     2013-12-02 14:00:00                 NaT\n\nIn [12]: test_df.rename(columns={('Date', 'Carl'): ('Care', \"sdf\")})\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20625305",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20625305",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20625305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjI1MzA1",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T18:19:29Z",
    "updated_at": "2013-07-08T18:19:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Now that _is_ a bug/feature request :)\n\nMaybe you ought to be able to replace on each level for a MultiIndex, say using\n\n```\ntest_df.rename(columns={'Buyer': {'Carl' : 'sdf'}})\n```\n\nnot sure...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20625396",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20625396",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20625396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjI1Mzk2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T18:20:40Z",
    "updated_at": "2013-07-08T18:20:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "need to add `level` arg to `rename` maybe?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20625578",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20625578",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20625578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjI1NTc4",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T18:23:05Z",
    "updated_at": "2013-07-08T18:23:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "not sure level argument works/makes sense since rename allows you to change both index _and_ columns at the same time:s\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20628833",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-20628833",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 20628833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjI4ODMz",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-08T19:11:44Z",
    "updated_at": "2013-07-08T19:11:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Although perhaps my suggestion doesn't either (if want to replace same things as the level name/number)...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30364187",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-30364187",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 30364187,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzY0MTg3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-11T21:09:14Z",
    "updated_at": "2013-12-11T21:09:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "work-around here http://stackoverflow.com/questions/20529619/renaming-index-values-in-multiindex-dataframe\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/63498000",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-63498000",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 63498000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDk4MDAw",
    "user": {
      "login": "8one6",
      "id": 4360170,
      "node_id": "MDQ6VXNlcjQzNjAxNzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4360170?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/8one6",
      "html_url": "https://github.com/8one6",
      "followers_url": "https://api.github.com/users/8one6/followers",
      "following_url": "https://api.github.com/users/8one6/following{/other_user}",
      "gists_url": "https://api.github.com/users/8one6/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/8one6/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/8one6/subscriptions",
      "organizations_url": "https://api.github.com/users/8one6/orgs",
      "repos_url": "https://api.github.com/users/8one6/repos",
      "events_url": "https://api.github.com/users/8one6/events{/privacy}",
      "received_events_url": "https://api.github.com/users/8one6/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T16:24:41Z",
    "updated_at": "2014-11-18T16:24:41Z",
    "author_association": "NONE",
    "body": "I think this is still an open issue.  It would be great to be able to treat the column labels as tuples and just use rename in the \"natural\" (at least natural to me) way.  For example:\n\n```\ndf.rename(columns={c: (str(c[0]) + 'foo', str(c[1]) + 'bar') for c in df.columns})\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/63505992",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-63505992",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 63505992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTA1OTky",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T17:07:48Z",
    "updated_at": "2014-11-18T17:07:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "@8one6 this is an open issue currently.\n\nthis still waiting for an API to deal with the multi-level API. \n\nI am not sure I like the stringifying idea. But haven't thought too much about this.\n\nMaybe an actual example would help\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/63508327",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-63508327",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 63508327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTA4MzI3",
    "user": {
      "login": "8one6",
      "id": 4360170,
      "node_id": "MDQ6VXNlcjQzNjAxNzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4360170?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/8one6",
      "html_url": "https://github.com/8one6",
      "followers_url": "https://api.github.com/users/8one6/followers",
      "following_url": "https://api.github.com/users/8one6/following{/other_user}",
      "gists_url": "https://api.github.com/users/8one6/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/8one6/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/8one6/subscriptions",
      "organizations_url": "https://api.github.com/users/8one6/orgs",
      "repos_url": "https://api.github.com/users/8one6/repos",
      "events_url": "https://api.github.com/users/8one6/events{/privacy}",
      "received_events_url": "https://api.github.com/users/8one6/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T17:19:53Z",
    "updated_at": "2014-11-18T17:20:13Z",
    "author_association": "NONE",
    "body": "```\nimport numpy as np\nimport pandas as pd\n\nrows = pd.Index(list('abcde'), names=['letter'])\ncolumns = pd.MultiIndex.from_tuples([('px', c) for c in ['red', 'green', 'blue']], \n                                    names=['datum', 'color'])\ndf = pd.DataFrame(np.random.randn(len(rows), len(columns)), index=rows, columns=columns)\n```\n\ngives\n\n```\ndatum        px                    \nitem        red     green      blue\na     -0.616822 -0.922983  0.148247\nb     -0.383122 -0.451940  1.138330\nc     -0.744860  2.299611  0.895295\nd     -0.159886 -0.832159 -0.205430\ne     -0.458384 -1.410207 -0.965780\n```\n\nSo now I want to do this:\n\n```\nabsdf = df.abs()\nabsdf.rename(columns={c: ('abspx', c[1]) for c in df.columns}, inplace=True)\n```\n\nbut that doesn't do what I expect, it just gives back the unmodified frame.  To accomplish what I want here, I would do:\n\n```\nnewabsdf = df.abs()\nnewabsdf.columns = pd.MultiIndex.from_tuples([('abspx', c[1]) for c in df.columns], \n                                             names=df.columns.names)\n```\n\nwhich gives the desired result:\n\n```\ndatum     abspx                    \nitem        red     green      blue\na      0.616822  0.922983  0.148247\nb      0.383122  0.451940  1.138330\nc      0.744860  2.299611  0.895295\nd      0.159886  0.832159  0.205430\ne      0.458384  1.410207  0.965780\n```\n\nBasically, in the multi-index context, I was expecting `rename` to \"be happy\" if the passed function/mapper/dictionary returned tuples with the correct number of elements.  Am I doing something wrong above?  Or would this be a new feature request?  Or does this seem ambiguous in some way.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/63509203",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-63509203",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 63509203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTA5MjAz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T17:24:12Z",
    "updated_at": "2014-11-18T17:24:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "a multi-index renam at the moment does not work at all. The issue is how do you rename only part of a level\n\ne.g.\n`red-> orange`, how should I do this?\nor\n`abspx` -> `foo`\n\n```\ndf.rename(columns={'red' : 'orange' }, level=1)\n```\n\n```\ndf.rename(columns={'abspx' : 'foo'},level=0)\n```\n\nbut no way to do this (well it doesn't work), but does make sense\n\n```\ndf.rename(columns={('abspx','red) : ('foo','orange')})\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/63510011",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-63510011",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 63510011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTEwMDEx",
    "user": {
      "login": "8one6",
      "id": 4360170,
      "node_id": "MDQ6VXNlcjQzNjAxNzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4360170?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/8one6",
      "html_url": "https://github.com/8one6",
      "followers_url": "https://api.github.com/users/8one6/followers",
      "following_url": "https://api.github.com/users/8one6/following{/other_user}",
      "gists_url": "https://api.github.com/users/8one6/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/8one6/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/8one6/subscriptions",
      "organizations_url": "https://api.github.com/users/8one6/orgs",
      "repos_url": "https://api.github.com/users/8one6/repos",
      "events_url": "https://api.github.com/users/8one6/events{/privacy}",
      "received_events_url": "https://api.github.com/users/8one6/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T17:28:30Z",
    "updated_at": "2014-11-18T17:29:58Z",
    "author_association": "NONE",
    "body": "Ah, ok.  So that last code block in your comment, is that a reasonable thing to hope will work at some point?  I.e. is there a reason that would be a bad API for doing fully general multilevel renaming?  (I think that's what I had tried to achieve with my dict comprehension in my `absdf.rename`... line above)\n\nAnd the other two lines...\n\n```\ndf.rename(columns={'red' : 'orange' }, level=1)\ndf.rename(columns={'abspx' : 'foo'}, level=0)\n```\n\nis that the current working proposal?  Or already implemented?  Or up for debate?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/63539004",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-63539004",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 63539004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTM5MDA0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T20:28:28Z",
    "updated_at": "2014-11-18T20:28:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think the prior dont work (but prob don't need much). The last is a proposed API. \n\nI think their is a pull-requests somewhere which does most of this but wasn't finished IIRC.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/204437580",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-204437580",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 204437580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDQzNzU4MA==",
    "user": {
      "login": "denfromufa",
      "id": 7870949,
      "node_id": "MDQ6VXNlcjc4NzA5NDk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7870949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/denfromufa",
      "html_url": "https://github.com/denfromufa",
      "followers_url": "https://api.github.com/users/denfromufa/followers",
      "following_url": "https://api.github.com/users/denfromufa/following{/other_user}",
      "gists_url": "https://api.github.com/users/denfromufa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/denfromufa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/denfromufa/subscriptions",
      "organizations_url": "https://api.github.com/users/denfromufa/orgs",
      "repos_url": "https://api.github.com/users/denfromufa/repos",
      "events_url": "https://api.github.com/users/denfromufa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/denfromufa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-01T15:26:37Z",
    "updated_at": "2016-04-01T15:51:29Z",
    "author_association": "NONE",
    "body": "+1 on this feature, I found very obscure renaming/replacing multi-index labels. What is the current state @jreback ?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/204444842",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-204444842",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 204444842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDQ0NDg0Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-01T15:49:52Z",
    "updated_at": "2016-04-01T15:49:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@denfromufa its open.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/242720547",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-242720547",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 242720547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjcyMDU0Nw==",
    "user": {
      "login": "eronlloyd",
      "id": 197778,
      "node_id": "MDQ6VXNlcjE5Nzc3OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/197778?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eronlloyd",
      "html_url": "https://github.com/eronlloyd",
      "followers_url": "https://api.github.com/users/eronlloyd/followers",
      "following_url": "https://api.github.com/users/eronlloyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/eronlloyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eronlloyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eronlloyd/subscriptions",
      "organizations_url": "https://api.github.com/users/eronlloyd/orgs",
      "repos_url": "https://api.github.com/users/eronlloyd/repos",
      "events_url": "https://api.github.com/users/eronlloyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eronlloyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-26T12:20:12Z",
    "updated_at": "2016-08-26T12:20:12Z",
    "author_association": "NONE",
    "body": "In the meanwhile, could someone point to a recommended work-around? I'm dealing with some SurveyMonkey data that exports with unnecessary white space in the resulting MultiIndex and there doesn't seem to be an easy way to clean up the DataFrame.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/279773962",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-279773962",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 279773962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTc3Mzk2Mg==",
    "user": {
      "login": "geoffrey-eisenbarth",
      "id": 8428345,
      "node_id": "MDQ6VXNlcjg0MjgzNDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8428345?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/geoffrey-eisenbarth",
      "html_url": "https://github.com/geoffrey-eisenbarth",
      "followers_url": "https://api.github.com/users/geoffrey-eisenbarth/followers",
      "following_url": "https://api.github.com/users/geoffrey-eisenbarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/geoffrey-eisenbarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/geoffrey-eisenbarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/geoffrey-eisenbarth/subscriptions",
      "organizations_url": "https://api.github.com/users/geoffrey-eisenbarth/orgs",
      "repos_url": "https://api.github.com/users/geoffrey-eisenbarth/repos",
      "events_url": "https://api.github.com/users/geoffrey-eisenbarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/geoffrey-eisenbarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-14T17:21:14Z",
    "updated_at": "2017-02-14T17:22:50Z",
    "author_association": "NONE",
    "body": "@eronlloyd: Looks like passing ``level`` to ``df.rename()`` will soon work according to [this pull request](https://github.com/pandas-dev/pandas/pull/13766), but I think the accepted answer in the meantime is something similar to the code below, courtesy of unutbu on StackOverflow:\r\n\r\n```\r\ndef map_level(df, dct, level=0):\r\n    index = df.index\r\n    index.set_levels([[dct.get(item, item) for item in names] if i==level else names\r\n                      for i, names in enumerate(index.levels)], inplace=True)\r\n```\r\n\r\nWhen I need to do something similar, I just drop the index and replace the values using ``apply``. Not sure if that's more expensive than unutbu's solution above though. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/294293936",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-294293936",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 294293936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDI5MzkzNg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-15T13:38:36Z",
    "updated_at": "2017-04-15T13:38:36Z",
    "author_association": "MEMBER",
    "body": "This was closed automatically by github, but that was not the intention (#15931 is not related to this)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/294295330",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-294295330",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 294295330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDI5NTMzMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-15T14:04:24Z",
    "updated_at": "2017-04-15T14:04:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "hahah had a reference with the word fix in it!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465527993",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-465527993",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 465527993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTUyNzk5Mw==",
    "user": {
      "login": "mwiebusch78",
      "id": 4977570,
      "node_id": "MDQ6VXNlcjQ5Nzc1NzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4977570?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mwiebusch78",
      "html_url": "https://github.com/mwiebusch78",
      "followers_url": "https://api.github.com/users/mwiebusch78/followers",
      "following_url": "https://api.github.com/users/mwiebusch78/following{/other_user}",
      "gists_url": "https://api.github.com/users/mwiebusch78/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mwiebusch78/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mwiebusch78/subscriptions",
      "organizations_url": "https://api.github.com/users/mwiebusch78/orgs",
      "repos_url": "https://api.github.com/users/mwiebusch78/repos",
      "events_url": "https://api.github.com/users/mwiebusch78/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mwiebusch78/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T11:01:57Z",
    "updated_at": "2019-02-20T11:02:47Z",
    "author_association": "NONE",
    "body": "Is there any news on this? This bug is a constant annoyance when trying to do complex aggregations. Since the 'agg' method doesn't have a way to assign new names to the aggregate columns the recommended method (AFAIK) is to first aggregate and then rename. But something like\r\n\r\n```\r\ndf.groupby('A').agg({'B': ['mean', 'median'], 'C': ['min', 'max']}\r\n```\r\n\r\nreturns a multi-index which I then cannot rename. I actually had to write my own wrapper function for aggregations as a workaround. (Happy to share the code if there's interest.)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465539558",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4160#issuecomment-465539558",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4160",
    "id": 465539558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTUzOTU1OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T11:38:36Z",
    "updated_at": "2019-02-20T11:38:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Still open if you're interested in working on it.\n\nOn Wed, Feb 20, 2019 at 5:02 AM mwiebusch78 <notifications@github.com>\nwrote:\n\n> Is there any news on this? This bug is a constant annoyance when trying to\n> do complex aggregations. Since the 'agg' method doesn't have a way to\n> assign new names to the aggregate columns the recommended method (AFAIK) is\n> to first aggregate and then rename. But something like\n>\n> df.groupby('A').agg({'B': ['mean', 'median'], 'C': ['mean', 'median']}\n>\n> returns a multi-index which I then cannot rename. I actually had to write\n> my own wrapper function for aggregations as a workaround. (Happy to share\n> the code if there's interest.)\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/4160#issuecomment-465527993>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIjgSL_9hodVQ7D7O9I4INHvpXtbRks5vPSsrgaJpZM4Ay_pV>\n> .\n>\n"
  }
]
