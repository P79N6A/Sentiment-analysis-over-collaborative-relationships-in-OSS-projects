[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/336801737",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17884#issuecomment-336801737",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17884",
    "id": 336801737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjgwMTczNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-16T07:23:55Z",
    "updated_at": "2017-10-16T07:23:55Z",
    "author_association": "MEMBER",
    "body": "That seems like a bug, as I don't think there is a reason why a CategoricalIndex shouldn't be allowed.\r\n\r\nBut, it also seems that the Categorical *is* constructed, but just so in an invalid way that printing it errors:\r\n\r\n```\r\nIn [46]: res = pd.Categorical.from_codes([1, 2], pd.CategoricalIndex(['Hello', 'world', '!', '**']))\r\n\r\nIn [47]: res.codes\r\nOut[47]: array([1, 2], dtype=int8)\r\n\r\nIn [48]: res.categories\r\nOut[48]: CategoricalIndex(['Hello', 'world', '!', '**'], categories=['!', '**', 'Hello', 'world'], ordered=False, dtype='category')\r\n\r\nIn [49]: repr(res)\r\n...\r\nValueError: object __array__ method not producing an array\r\n```\r\n\r\nThis is certainly a bug."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/336803439",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17884#issuecomment-336803439",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17884",
    "id": 336803439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjgwMzQzOQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-16T07:32:18Z",
    "updated_at": "2017-10-16T07:32:18Z",
    "author_association": "MEMBER",
    "body": "Further, we have the exact same issue when in the normal constructor `pd.Categorical`, and also with passing a `Categorical` (instead of CategoricalIndex) as categories. \r\nOf course we could fix the bug in the repr code, but I would say that we should not allow the categories to be a CategoricalIndex (in the sense: we should convert a passes Categorical/CategoricalIndex under the hood to a normal Index)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/336810116",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17884#issuecomment-336810116",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17884",
    "id": 336810116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjgxMDExNg==",
    "user": {
      "login": "jnothman",
      "id": 78827,
      "node_id": "MDQ6VXNlcjc4ODI3",
      "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnothman",
      "html_url": "https://github.com/jnothman",
      "followers_url": "https://api.github.com/users/jnothman/followers",
      "following_url": "https://api.github.com/users/jnothman/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions",
      "organizations_url": "https://api.github.com/users/jnothman/orgs",
      "repos_url": "https://api.github.com/users/jnothman/repos",
      "events_url": "https://api.github.com/users/jnothman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnothman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-16T08:01:51Z",
    "updated_at": "2017-10-16T08:01:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "ahh, I misread the error. thanks for clarifying\n"
  }
]
