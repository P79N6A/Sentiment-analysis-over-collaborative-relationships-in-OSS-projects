[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16008582",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-16008582",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 16008582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDA4NTgy",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-07T03:12:52Z",
    "updated_at": "2013-04-07T03:12:52Z",
    "author_association": "MEMBER",
    "body": "Doable for 0.11?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16016049",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-16016049",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 16016049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDE2MDQ5",
    "user": {
      "login": "changhiskhan",
      "id": 759245,
      "node_id": "MDQ6VXNlcjc1OTI0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/759245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changhiskhan",
      "html_url": "https://github.com/changhiskhan",
      "followers_url": "https://api.github.com/users/changhiskhan/followers",
      "following_url": "https://api.github.com/users/changhiskhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/changhiskhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changhiskhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changhiskhan/subscriptions",
      "organizations_url": "https://api.github.com/users/changhiskhan/orgs",
      "repos_url": "https://api.github.com/users/changhiskhan/repos",
      "events_url": "https://api.github.com/users/changhiskhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changhiskhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-07T14:32:49Z",
    "updated_at": "2013-04-07T14:32:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah should be a fairly easy fix. i will get to it today.\nOn Apr 6, 2013 11:12 PM, \"Wes McKinney\" notifications@github.com wrote:\n\n> Doable for 0.11?\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/pydata/pandas/issues/2805#issuecomment-16008582\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16055280",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-16055280",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 16055280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDU1Mjgw",
    "user": {
      "login": "changhiskhan",
      "id": 759245,
      "node_id": "MDQ6VXNlcjc1OTI0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/759245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changhiskhan",
      "html_url": "https://github.com/changhiskhan",
      "followers_url": "https://api.github.com/users/changhiskhan/followers",
      "following_url": "https://api.github.com/users/changhiskhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/changhiskhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changhiskhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changhiskhan/subscriptions",
      "organizations_url": "https://api.github.com/users/changhiskhan/orgs",
      "repos_url": "https://api.github.com/users/changhiskhan/repos",
      "events_url": "https://api.github.com/users/changhiskhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changhiskhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-08T14:57:48Z",
    "updated_at": "2013-04-08T14:57:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually I think this might be a GA API thing. I get the same discrepancy on the query explorer: http://ga-dev-tools.appspot.com/explorer/\n\nI'm going to ping the user back on stackoverflow\n\nPushing this to 0.12\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16075423",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-16075423",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 16075423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDc1NDIz",
    "user": {
      "login": "gjreda",
      "id": 921995,
      "node_id": "MDQ6VXNlcjkyMTk5NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/921995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gjreda",
      "html_url": "https://github.com/gjreda",
      "followers_url": "https://api.github.com/users/gjreda/followers",
      "following_url": "https://api.github.com/users/gjreda/following{/other_user}",
      "gists_url": "https://api.github.com/users/gjreda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gjreda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gjreda/subscriptions",
      "organizations_url": "https://api.github.com/users/gjreda/orgs",
      "repos_url": "https://api.github.com/users/gjreda/repos",
      "events_url": "https://api.github.com/users/gjreda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gjreda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-08T20:14:05Z",
    "updated_at": "2013-04-08T20:17:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "In testing further, it does seem like it is something with the GA API.  There seems to be a certain threshold that, once surpassed, will cause the API to start sampling the account's data.\n\nConsider the following:\n\n``` python\nfrom pandas.io import ga\nimport pandas as pd\n\nmax_results = 1000000\n\n# expected data\nday_only = ga.read_ga(metrics=[\"visits\"],\n                    dimensions=[\"date\"],\n                    start_date=\"2012-12-01\",\n                    end_date=\"2012-12-31\")\n\n# is it an issue with the mobile dimension?\nday_and_mobile = ga.read_ga(metrics=[\"visits\"],\n                    dimensions=[\"date\", \"isMobile\"],\n                    start_date=\"2012-12-01\",\n                    end_date=\"2012-12-31\")\nstats_day_and_mobile = day_and_mobile.groupby(level=\"date\").sum()\n\nday_only == stats_day_and_mobile\n# works as expected - all match up\n# it's not the mobile dimension\n\n# is it an issue with chunksize functionality?\nchunks_without_mobile = ga.read_ga(metrics=[\"visits\"],\n                    dimensions=[\"date\", \"browser\", \"browserVersion\",\n                        \"operatingSystem\", \"operatingSystemVersion\"],\n                    start_date=\"2012-12-01\",\n                    end_date=\"2012-12-31\",\n                    max_results=max_results,\n                    chunksize=5000)\ndf_chunks_without_mobile = pd.concat([x for x in chunks_without_mobile])\nstats_chunks_without_mobile = df_chunks_without_mobile.groupby(level=\"date\").sum()\n\nday_only == stats_chunks_without_mobile\n# works as expected - it's not chunksize\n\n# is it an issue when using mobile AND chunksize?\nchunks_with_mobile = ga.read_ga(metrics=[\"visits\"],\n                    dimensions=[\"date\", \"browser\", \"browserVersion\",\n                        \"operatingSystem\", \"operatingSystemVersion\",\n                        \"isMobile\"],\n                    start_date=\"2012-12-01\",\n                    end_date=\"2012-12-31\",\n                    max_results=max_results,\n                    chunksize=5000)\ndf_chunks_with_mobile = pd.concat([x for x in chunks_with_mobile])\nstats_chunks_with_mobile = df_chunks_with_mobile.groupby(level=\"date\").sum()\n\nday_only == stats_chunks_with_mobile\n### does NOT match up\n\n# is the issue specific to the mobile dimension?\nchunks_without_mobile2 = ga.read_ga(metrics=[\"visits\"],\n                    dimensions=[\"date\", \"browser\", \"browserVersion\",\n                        \"operatingSystem\", \"operatingSystemVersion\", \"hour\"],\n                    start_date=\"2012-12-01\",\n                    end_date=\"2012-12-31\",\n                    max_results=max_results,\n                    chunksize=5000)\ndf_chunks_without_mobile2 = pd.concat([x for x in chunks_without_mobile2])\nstats_chunks_without_mobile2 = df_chunks_without_mobile2.groupby(\"date\").sum()\n\nday_only == stats_chunks_without_mobile2\n### does NOT match up\n```\n\nI would expect that `day_only` would match `stats_day_and_mobile`, `stats_chunks_without_mobile`, and `stats_chunks_with_mobile`.  However, once I realized `day_only` and `stats_chunks_with_mobile` did not match, I decided to test different + additional dimensions to insure it wasn't an `isMobile` specific issue on the GA API's end.\n\nThe above code seems to confirm that it is not an `isMobile` specific issue and leads me to believe that the API will switch to sampling the account's data once a certain threshold is reached (though I can't find documentation of this online).\n\nI think you guys can probably close this issue, as it seems pretty evident to me that this isn't something on pandas' end.\n\nDo you agree?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16076125",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-16076125",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 16076125,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDc2MTI1",
    "user": {
      "login": "changhiskhan",
      "id": 759245,
      "node_id": "MDQ6VXNlcjc1OTI0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/759245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changhiskhan",
      "html_url": "https://github.com/changhiskhan",
      "followers_url": "https://api.github.com/users/changhiskhan/followers",
      "following_url": "https://api.github.com/users/changhiskhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/changhiskhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changhiskhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changhiskhan/subscriptions",
      "organizations_url": "https://api.github.com/users/changhiskhan/orgs",
      "repos_url": "https://api.github.com/users/changhiskhan/repos",
      "events_url": "https://api.github.com/users/changhiskhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changhiskhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-08T20:26:16Z",
    "updated_at": "2013-04-08T20:26:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't know if you feel up for it but it seems like there's a bunch of things that google suggests to try: https://developers.google.com/analytics/devguides/reporting/core/v3/reference#sampling\n\nIf you can get any of them to fix your problem in the ga explorer, i'd be happy to add a solution into 0.12\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16081049",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-16081049",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 16081049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDgxMDQ5",
    "user": {
      "login": "gjreda",
      "id": 921995,
      "node_id": "MDQ6VXNlcjkyMTk5NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/921995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gjreda",
      "html_url": "https://github.com/gjreda",
      "followers_url": "https://api.github.com/users/gjreda/followers",
      "following_url": "https://api.github.com/users/gjreda/following{/other_user}",
      "gists_url": "https://api.github.com/users/gjreda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gjreda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gjreda/subscriptions",
      "organizations_url": "https://api.github.com/users/gjreda/orgs",
      "repos_url": "https://api.github.com/users/gjreda/repos",
      "events_url": "https://api.github.com/users/gjreda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gjreda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-08T21:46:57Z",
    "updated_at": "2013-04-08T21:46:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Iterating over a date range should work just fine - that's been my work around since I originally posted the question on SO.\n\nThanks for your help on this.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16710500",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-16710500",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 16710500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzEwNTAw",
    "user": {
      "login": "shrunyan",
      "id": 208819,
      "node_id": "MDQ6VXNlcjIwODgxOQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/208819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shrunyan",
      "html_url": "https://github.com/shrunyan",
      "followers_url": "https://api.github.com/users/shrunyan/followers",
      "following_url": "https://api.github.com/users/shrunyan/following{/other_user}",
      "gists_url": "https://api.github.com/users/shrunyan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shrunyan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shrunyan/subscriptions",
      "organizations_url": "https://api.github.com/users/shrunyan/orgs",
      "repos_url": "https://api.github.com/users/shrunyan/repos",
      "events_url": "https://api.github.com/users/shrunyan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shrunyan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-20T20:11:20Z",
    "updated_at": "2013-04-20T20:11:20Z",
    "author_association": "NONE",
    "body": "I've just started researching Pandas for working with GA data so unfamiliar with how the GA requests are accomplished but I can tell that there are two types of sampling you have to worry about, `containsSampledData` and \"pagination\" (what I call it).\n\ncontainsSampledData, is when a request to Google Analytics is outside of the standard processed fields and requires more processing on Google's part so they sample the data set.\n\nPagination sampling is the 10,000 returned results API limit.\n\nI handle sampled data with a recursive function that checks for the `containsSampledData` flag and if true splits the timeframe in half and makes the request again. If not sampled checks the 'totalResults' and determines if it's greater than the 10k limit. If greater determines the needed start_indexes and then remakes the requests.\n\nI'm going to rework my pagination process though because GA actually returns a a value for the `nextLink` which has the next `start_index`\n\nHope this helps.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26626583",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-26626583",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 26626583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjI2NTgz",
    "user": {
      "login": "claytonhkim",
      "id": 3663911,
      "node_id": "MDQ6VXNlcjM2NjM5MTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3663911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/claytonhkim",
      "html_url": "https://github.com/claytonhkim",
      "followers_url": "https://api.github.com/users/claytonhkim/followers",
      "following_url": "https://api.github.com/users/claytonhkim/following{/other_user}",
      "gists_url": "https://api.github.com/users/claytonhkim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/claytonhkim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/claytonhkim/subscriptions",
      "organizations_url": "https://api.github.com/users/claytonhkim/orgs",
      "repos_url": "https://api.github.com/users/claytonhkim/repos",
      "events_url": "https://api.github.com/users/claytonhkim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/claytonhkim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-18T20:18:47Z",
    "updated_at": "2013-10-18T20:18:47Z",
    "author_association": "NONE",
    "body": "The GA query explorer won't have this issue if you sort by date (-ga:date)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35217936",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2805#issuecomment-35217936",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2805",
    "id": 35217936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjE3OTM2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-16T22:16:17Z",
    "updated_at": "2014-02-16T22:16:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as a non-pandas issue\n"
  }
]
