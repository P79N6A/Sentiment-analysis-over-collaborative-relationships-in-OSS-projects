[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/446093611",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24196#issuecomment-446093611",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24196",
    "id": 446093611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjA5MzYxMQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-11T06:58:45Z",
    "updated_at": "2018-12-11T06:58:45Z",
    "author_association": "MEMBER",
    "body": "Hmm OK that is strange. Definitely some unwanted casting going on with the presence of column A.\r\n\r\nInvestigation and PRs are always welcome if you care to take a look"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/450370222",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24196#issuecomment-450370222",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24196",
    "id": 450370222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDM3MDIyMg==",
    "user": {
      "login": "Koustav-Samaddar",
      "id": 24419778,
      "node_id": "MDQ6VXNlcjI0NDE5Nzc4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/24419778?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Koustav-Samaddar",
      "html_url": "https://github.com/Koustav-Samaddar",
      "followers_url": "https://api.github.com/users/Koustav-Samaddar/followers",
      "following_url": "https://api.github.com/users/Koustav-Samaddar/following{/other_user}",
      "gists_url": "https://api.github.com/users/Koustav-Samaddar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Koustav-Samaddar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Koustav-Samaddar/subscriptions",
      "organizations_url": "https://api.github.com/users/Koustav-Samaddar/orgs",
      "repos_url": "https://api.github.com/users/Koustav-Samaddar/repos",
      "events_url": "https://api.github.com/users/Koustav-Samaddar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Koustav-Samaddar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-28T14:46:29Z",
    "updated_at": "2018-12-28T14:46:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is the most stripped down case where I am still able to reproduce the bug.\r\n```\r\n# bug_var = 1\r\nbug_var = 'a'\r\n\r\ndf = pd.DataFrame({\r\n    'A': [bug_var, np.nan]\r\n})\r\n\r\ngresult = df.groupby(lambda x: x)\r\nresult = gresult.sum(min_count=1)\r\n```\r\n\r\nThis yields,\r\n```\r\nresult\r\n   A\r\n0  a\r\n1  0\r\n```\r\nbut,\r\n```\r\nexpected\r\n     A\r\n0    a\r\n1  NaN\r\n```\r\n\r\nDue to the non-numeric type, `self._cython_agg_general` at groupby.py:1256 raises an Error (`DataError` if `numeric_only=True` otherwise `AttributeError`) which causes the program to rely on `self.aggregate` (groupby.py:1262) which is where the bug stems from.\r\n\r\nI'll continue to take a look at this tomorrow, but in the meantime I'm putting this here if anyone finds this useful."
  }
]
