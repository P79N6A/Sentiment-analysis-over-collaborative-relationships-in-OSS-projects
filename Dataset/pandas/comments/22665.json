[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/421148774",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22665#issuecomment-421148774",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22665",
    "id": 421148774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTE0ODc3NA==",
    "user": {
      "login": "pganssle",
      "id": 1377457,
      "node_id": "MDQ6VXNlcjEzNzc0NTc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1377457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pganssle",
      "html_url": "https://github.com/pganssle",
      "followers_url": "https://api.github.com/users/pganssle/followers",
      "following_url": "https://api.github.com/users/pganssle/following{/other_user}",
      "gists_url": "https://api.github.com/users/pganssle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pganssle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pganssle/subscriptions",
      "organizations_url": "https://api.github.com/users/pganssle/orgs",
      "repos_url": "https://api.github.com/users/pganssle/repos",
      "events_url": "https://api.github.com/users/pganssle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pganssle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-13T20:51:06Z",
    "updated_at": "2018-09-13T20:51:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this another manifestation of this bug, or a separate bug?\r\n\r\n```python\r\n>>> import pandas as pd\r\n>>> pd.__version__\r\n'0.23.3'\r\n>>> pd.CategoricalIndex(categories=[True, False])\r\nValueError                                Traceback (most recent call last)\r\n...\r\n~/.virtualenvs/pandas/lib/python3.7/site-packages/pandas/core/arrays/categorical.py in _get_codes_for_values(values, categories)\r\n   2431     (_, _), cats = _get_data_algo(categories, _hashtables)\r\n   2432     t = hash_klass(len(cats))\r\n-> 2433     t.map_locations(cats)\r\n   2434     return coerce_indexer_dtype(t.lookup(vals), cats)\r\n   2435 \r\n\r\npandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.map_locations()\r\n\r\nValueError: Buffer dtype mismatch, expected 'Python object' but got 'unsigned long'\r\n```\r\n\r\nFull traceback under details tag:\r\n\r\n<details>\r\n\r\n```\r\n<ipython-input-4-c58e7bc5bb0f> in <module>()\r\n----> 1 pd.CategoricalIndex(categories=[True])\r\n\r\n~/.virtualenvs/pandas/lib/python3.7/site-packages/pandas/core/indexes/category.py in __new__(cls, data, categories, ordered, dtype, copy, name, fastpath)\r\n    100                 data = []\r\n    101             data = cls._create_categorical(cls, data, categories, ordered,\r\n--> 102                                            dtype)\r\n    103 \r\n    104         if copy:\r\n\r\n~/.virtualenvs/pandas/lib/python3.7/site-packages/pandas/core/indexes/category.py in _create_categorical(self, data, categories, ordered, dtype)\r\n    165             from pandas.core.arrays import Categorical\r\n    166             data = Categorical(data, categories=categories, ordered=ordered,\r\n--> 167                                dtype=dtype)\r\n    168         else:\r\n    169             if categories is not None:\r\n\r\n~/.virtualenvs/pandas/lib/python3.7/site-packages/pandas/core/arrays/categorical.py in __init__(self, values, categories, ordered, dtype, fastpath)\r\n    368 \r\n    369         else:\r\n--> 370             codes = _get_codes_for_values(values, dtype.categories)\r\n    371 \r\n    372         if null_mask.any():\r\n```\r\n\r\n</details>\r\n\r\nI'll note that my version of it is a regression that occurred between 0.18.0 and 0.23.0."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/421150189",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22665#issuecomment-421150189",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22665",
    "id": 421150189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTE1MDE4OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-13T20:55:57Z",
    "updated_at": "2018-09-13T20:55:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm that looks different.\r\n\r\nTwo things\r\n\r\n1. Index constructors require a `data` argument, so the proper error is like `TypeError: Index(...) must be called with a collection of some kind, None was passed`\r\n2. something is up with booleans. https://github.com/pandas-dev/pandas/issues/22702 for that."
  }
]
