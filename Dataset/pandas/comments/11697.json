[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/159421421",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11697#issuecomment-159421421",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11697",
    "id": 159421421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTQyMTQyMQ==",
    "user": {
      "login": "kawochen",
      "id": 10709573,
      "node_id": "MDQ6VXNlcjEwNzA5NTcz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10709573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kawochen",
      "html_url": "https://github.com/kawochen",
      "followers_url": "https://api.github.com/users/kawochen/followers",
      "following_url": "https://api.github.com/users/kawochen/following{/other_user}",
      "gists_url": "https://api.github.com/users/kawochen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kawochen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kawochen/subscriptions",
      "organizations_url": "https://api.github.com/users/kawochen/orgs",
      "repos_url": "https://api.github.com/users/kawochen/repos",
      "events_url": "https://api.github.com/users/kawochen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kawochen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-24T22:09:04Z",
    "updated_at": "2015-11-24T22:11:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm... I will take a look ...it shouldn't run out of memory with such a small series (should be able to compute well into the millions) \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/159524334",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11697#issuecomment-159524334",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11697",
    "id": 159524334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTUyNDMzNA==",
    "user": {
      "login": "kawochen",
      "id": 10709573,
      "node_id": "MDQ6VXNlcjEwNzA5NTcz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10709573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kawochen",
      "html_url": "https://github.com/kawochen",
      "followers_url": "https://api.github.com/users/kawochen/followers",
      "following_url": "https://api.github.com/users/kawochen/following{/other_user}",
      "gists_url": "https://api.github.com/users/kawochen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kawochen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kawochen/subscriptions",
      "organizations_url": "https://api.github.com/users/kawochen/orgs",
      "repos_url": "https://api.github.com/users/kawochen/repos",
      "events_url": "https://api.github.com/users/kawochen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kawochen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-25T07:25:57Z",
    "updated_at": "2015-11-25T07:25:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ajspeck  How did you run the code? Did you run those four lines as a script or in the interpreter (if so, IPython or simply Python?) in interactive mode?  How much memory is your process using at peak?  I profiled the peak memory using `n=5000000` and the difference between 1.70.0 and 1.70.1 is negligible.  \n\nI don't think it's likely, but one possibility is that your resources are very limited and need a garbage collection mid-`rolling_median` call.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/159613089",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11697#issuecomment-159613089",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11697",
    "id": 159613089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTYxMzA4OQ==",
    "user": {
      "login": "ajspeck",
      "id": 15779151,
      "node_id": "MDQ6VXNlcjE1Nzc5MTUx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15779151?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajspeck",
      "html_url": "https://github.com/ajspeck",
      "followers_url": "https://api.github.com/users/ajspeck/followers",
      "following_url": "https://api.github.com/users/ajspeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajspeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajspeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajspeck/subscriptions",
      "organizations_url": "https://api.github.com/users/ajspeck/orgs",
      "repos_url": "https://api.github.com/users/ajspeck/repos",
      "events_url": "https://api.github.com/users/ajspeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajspeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-25T13:52:15Z",
    "updated_at": "2015-11-25T13:52:15Z",
    "author_association": "NONE",
    "body": "I see the same error regardless of whether it is run in an interpreter (either ipython or python) or in a script.  \n\nI have done some more debugging and it appears the issue is coming from the calculation of size in skiplist_insert (see https://github.com/pydata/pandas/blob/5bc191a689fdcd9a805a5a213e1de0cdfa330ccb/pandas/src/skiplist.h#L226).  If urand() returns 0.0, then the call to log2 returns infinity,  and the calculation of size overflows.  In particular at least for MSVC 2008, size is 0x80000001 and the calls to malloc in node_init fail.\n\nI added a simple check for urand() = 0.0 and then replacing it with DBL_EPSILON if so and that looks to have fixed the issue.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/159636870",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11697#issuecomment-159636870",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11697",
    "id": 159636870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTYzNjg3MA==",
    "user": {
      "login": "kawochen",
      "id": 10709573,
      "node_id": "MDQ6VXNlcjEwNzA5NTcz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10709573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kawochen",
      "html_url": "https://github.com/kawochen",
      "followers_url": "https://api.github.com/users/kawochen/followers",
      "following_url": "https://api.github.com/users/kawochen/following{/other_user}",
      "gists_url": "https://api.github.com/users/kawochen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kawochen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kawochen/subscriptions",
      "organizations_url": "https://api.github.com/users/kawochen/orgs",
      "repos_url": "https://api.github.com/users/kawochen/repos",
      "events_url": "https://api.github.com/users/kawochen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kawochen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-25T15:13:29Z",
    "updated_at": "2015-11-25T15:13:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah!  I see.  \nHow about\n\n```\nstatic PANDAS_INLINE double urand_pos(void) {\n  return ((double) rand() + 1)/ ((double) RAND_MAX + 2);\n}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/159639307",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11697#issuecomment-159639307",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11697",
    "id": 159639307,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTYzOTMwNw==",
    "user": {
      "login": "ajspeck",
      "id": 15779151,
      "node_id": "MDQ6VXNlcjE1Nzc5MTUx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15779151?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajspeck",
      "html_url": "https://github.com/ajspeck",
      "followers_url": "https://api.github.com/users/ajspeck/followers",
      "following_url": "https://api.github.com/users/ajspeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajspeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajspeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajspeck/subscriptions",
      "organizations_url": "https://api.github.com/users/ajspeck/orgs",
      "repos_url": "https://api.github.com/users/ajspeck/repos",
      "events_url": "https://api.github.com/users/ajspeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajspeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-25T15:22:37Z",
    "updated_at": "2015-11-25T15:22:37Z",
    "author_association": "NONE",
    "body": "That change fixes it on my system.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/213159239",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11697#issuecomment-213159239",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11697",
    "id": 213159239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzE1OTIzOQ==",
    "user": {
      "login": "hal98x",
      "id": 5559354,
      "node_id": "MDQ6VXNlcjU1NTkzNTQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5559354?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hal98x",
      "html_url": "https://github.com/hal98x",
      "followers_url": "https://api.github.com/users/hal98x/followers",
      "following_url": "https://api.github.com/users/hal98x/following{/other_user}",
      "gists_url": "https://api.github.com/users/hal98x/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hal98x/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hal98x/subscriptions",
      "organizations_url": "https://api.github.com/users/hal98x/orgs",
      "repos_url": "https://api.github.com/users/hal98x/repos",
      "events_url": "https://api.github.com/users/hal98x/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hal98x/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-21T23:32:32Z",
    "updated_at": "2016-04-21T23:32:32Z",
    "author_association": "NONE",
    "body": "I see the same issue. I am running 0.17.1 from spyder? A reset seems to help. I have seen this occur with 2000 element series.\n\n  File \"pandas\\algos.pyx\", line 1586, in pandas.algos.roll_median_c (pandas\\algos.c:36408)\n\nMemoryError: skiplist_insert failed\n\nWhen is 0.18.0 going to be released?\nCan you really calculate a median with only 2 numbers? I am using 3 or 5, so I can reference off the center\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/213161437",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11697#issuecomment-213161437",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11697",
    "id": 213161437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzE2MTQzNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-21T23:42:43Z",
    "updated_at": "2016-04-21T23:42:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "0.18.0 has been out for 2 months\n"
  }
]
