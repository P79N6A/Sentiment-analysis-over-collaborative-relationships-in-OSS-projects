[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269462999",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-269462999",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 269462999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTQ2Mjk5OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-28T11:12:15Z",
    "updated_at": "2016-12-28T11:12:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @nuffe "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269502328",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-269502328",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 269502328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTUwMjMyOA==",
    "user": {
      "login": "erikcs",
      "id": 7185264,
      "node_id": "MDQ6VXNlcjcxODUyNjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7185264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erikcs",
      "html_url": "https://github.com/erikcs",
      "followers_url": "https://api.github.com/users/erikcs/followers",
      "following_url": "https://api.github.com/users/erikcs/following{/other_user}",
      "gists_url": "https://api.github.com/users/erikcs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erikcs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erikcs/subscriptions",
      "organizations_url": "https://api.github.com/users/erikcs/orgs",
      "repos_url": "https://api.github.com/users/erikcs/repos",
      "events_url": "https://api.github.com/users/erikcs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erikcs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-28T16:35:24Z",
    "updated_at": "2016-12-28T22:21:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes having both is redundant, but I think `wide_to_long` is more flexible?\r\n\r\n`lreshape` [does not](https://github.com/pandas-dev/pandas/blob/86233e15193c3bcd0f646915891ca6c7892335d9/pandas/core/reshape.py#L858) handle group variables of different length\r\n\r\n`wide_to_long` produces the correct result for `lreshape`'s test case (but that is with `dropna=False`, which is also the output Stata gives)\r\n\r\nI could not make `lreshape` produce the intented output for all of `wide_to_long`'s test cases. [This one](https://github.com/pandas-dev/pandas/blob/master/pandas/tests/test_reshape.py#L778), or [this](https://github.com/pandas-dev/pandas/blob/master/pandas/tests/test_reshape.py#L898), for example.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/323442533",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-323442533",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 323442533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzQ0MjUzMw==",
    "user": {
      "login": "tdpetrou",
      "id": 7226751,
      "node_id": "MDQ6VXNlcjcyMjY3NTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7226751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdpetrou",
      "html_url": "https://github.com/tdpetrou",
      "followers_url": "https://api.github.com/users/tdpetrou/followers",
      "following_url": "https://api.github.com/users/tdpetrou/following{/other_user}",
      "gists_url": "https://api.github.com/users/tdpetrou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tdpetrou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tdpetrou/subscriptions",
      "organizations_url": "https://api.github.com/users/tdpetrou/orgs",
      "repos_url": "https://api.github.com/users/tdpetrou/repos",
      "events_url": "https://api.github.com/users/tdpetrou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tdpetrou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-18T19:35:04Z",
    "updated_at": "2017-08-18T19:35:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is `lreshape` getting deprecated? There are some SO answers getting a [decent amount of upvotes](https://stackoverflow.com/questions/45662403/melting-pandas-data-frame-with-multiple-variable-names-and-multiple-value-names/45662417)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/324176714",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-324176714",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 324176714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDE3NjcxNA==",
    "user": {
      "login": "tdpetrou",
      "id": 7226751,
      "node_id": "MDQ6VXNlcjcyMjY3NTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7226751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdpetrou",
      "html_url": "https://github.com/tdpetrou",
      "followers_url": "https://api.github.com/users/tdpetrou/followers",
      "following_url": "https://api.github.com/users/tdpetrou/following{/other_user}",
      "gists_url": "https://api.github.com/users/tdpetrou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tdpetrou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tdpetrou/subscriptions",
      "organizations_url": "https://api.github.com/users/tdpetrou/orgs",
      "repos_url": "https://api.github.com/users/tdpetrou/repos",
      "events_url": "https://api.github.com/users/tdpetrou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tdpetrou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-22T23:11:27Z",
    "updated_at": "2017-08-22T23:11:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I really like `wide_to_long` as it's the easiest way to 'simultaneously melt' [different sets of columns](https://stackoverflow.com/a/45826684/3707607). It would be nice if the identification variables, `i`  were optional as `lreshape` is slightly easier when there are [no identificaiton variables](https://stackoverflow.com/questions/42721061/pandas-stack-column-pairs/45828206). Also, it would be good if `i` were changed to `id_vars` and `j` changed to `var_name`. Maybe this can all be solved if `melt` were to take a list of lists of columns."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/324625023",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-324625023",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 324625023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDYyNTAyMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-24T12:48:07Z",
    "updated_at": "2017-08-24T12:48:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tdpetrou well reducing the API surface area is good. not averse to modifying ``.melt()`` to do this. if you have a proposal pls put it up."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/324625271",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-324625271",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 324625271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDYyNTI3MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-24T12:49:08Z",
    "updated_at": "2017-08-24T12:49:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "the is we have 3 functions to do somewhat similar things. happy to consolidate the API. (aside from which documentaiton on ``lresahpe`` is nil and ``wide_to_long`` not much better)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/324674882",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-324674882",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 324674882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDY3NDg4Mg==",
    "user": {
      "login": "tdpetrou",
      "id": 7226751,
      "node_id": "MDQ6VXNlcjcyMjY3NTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7226751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdpetrou",
      "html_url": "https://github.com/tdpetrou",
      "followers_url": "https://api.github.com/users/tdpetrou/followers",
      "following_url": "https://api.github.com/users/tdpetrou/following{/other_user}",
      "gists_url": "https://api.github.com/users/tdpetrou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tdpetrou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tdpetrou/subscriptions",
      "organizations_url": "https://api.github.com/users/tdpetrou/orgs",
      "repos_url": "https://api.github.com/users/tdpetrou/repos",
      "events_url": "https://api.github.com/users/tdpetrou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tdpetrou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-24T15:44:00Z",
    "updated_at": "2017-08-24T15:44:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "The simplest addition to `melt` would be to add functionality to do the simultaneous melting of different sets of columns. I think this would be achievable with the `value_vars` parameter accepting a list of lists or even a dictionary of lists (like `lreshape`). I think this would eliminate any use of `lreshape`. \r\n\r\nTo add the functionality of `pd.wide_to_long`, you might have to add three parameters, `stubs`, `sep` and `suffix`, where `stubs` would be a boolean whether or not the `value_vars` are stubnames or not."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/336377585",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-336377585",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 336377585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjM3NzU4NQ==",
    "user": {
      "login": "erikcs",
      "id": 7185264,
      "node_id": "MDQ6VXNlcjcxODUyNjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7185264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erikcs",
      "html_url": "https://github.com/erikcs",
      "followers_url": "https://api.github.com/users/erikcs/followers",
      "following_url": "https://api.github.com/users/erikcs/following{/other_user}",
      "gists_url": "https://api.github.com/users/erikcs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erikcs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erikcs/subscriptions",
      "organizations_url": "https://api.github.com/users/erikcs/orgs",
      "repos_url": "https://api.github.com/users/erikcs/repos",
      "events_url": "https://api.github.com/users/erikcs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erikcs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-13T07:49:27Z",
    "updated_at": "2017-10-13T15:53:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "I agree the current configuration is not elegant. I made an earlier PR to `wide_to_long` to fix some edge cases that where wrong (which I discovered while cleaning a data set) but don't think it fits nicely into a consistent \"calculus of data manipulations\". \r\n\r\nLooking to R and the \"tidyverse\" they now and then change their API and introduce new \"verbs\" for existing concepts: before, long was `melt`, and wide was done with `dcast`. Now it's `gather` and `spread`. In econometrics and statistics, `long` and `wide` is the common nomenclature, and is what Stata adheres to. Stata may be a dinosaur, but they are extremely consistent in their API and naming scheme.\r\n\r\nPandas' `melt` is a copy of Hadley Wickham's `melt`, which is a modification of base R's `reshape` (same command name as Stata by the way) with a new name - giving the API a impression of bits and pieces taken from here and there. \r\n\r\nI don't really have a good and general proposal for a solution here, more than that IMHO a nomenclature should perhaps be chosen and stuck with."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/336462805",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15003#issuecomment-336462805",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15003",
    "id": 336462805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjQ2MjgwNQ==",
    "user": {
      "login": "tdpetrou",
      "id": 7226751,
      "node_id": "MDQ6VXNlcjcyMjY3NTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7226751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdpetrou",
      "html_url": "https://github.com/tdpetrou",
      "followers_url": "https://api.github.com/users/tdpetrou/followers",
      "following_url": "https://api.github.com/users/tdpetrou/following{/other_user}",
      "gists_url": "https://api.github.com/users/tdpetrou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tdpetrou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tdpetrou/subscriptions",
      "organizations_url": "https://api.github.com/users/tdpetrou/orgs",
      "repos_url": "https://api.github.com/users/tdpetrou/repos",
      "events_url": "https://api.github.com/users/tdpetrou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tdpetrou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-13T14:08:06Z",
    "updated_at": "2017-10-13T14:08:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@erikcs I made a major enhancement to melt in #17677. With that, it can simultaneously melt any number of columns, and supports any kind of multiindex (it had very poor support before that) and handles duplicate column names as well. It also has wide_to_long functionality and with a little more tweaking it will exactly replicate it."
  }
]
