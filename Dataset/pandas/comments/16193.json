[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298504684",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298504684",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298504684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODUwNDY4NA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2017-05-02T06:03:12Z",
    "updated_at": "2017-05-02T06:03:12Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=h1) Report\n> Merging [#16193](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/217864e3902592b9723a1070f1bbbb203a1759f4?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/16193/graphs/tree.svg?width=650&height=150&src=pr&token=eZ4WkYLtcO)](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #16193      +/-   ##\n==========================================\n+ Coverage   90.86%   90.86%   +<.01%     \n==========================================\n  Files         162      162              \n  Lines       50862    50862              \n==========================================\n+ Hits        46215    46216       +1     \n+ Misses       4647     4646       -1\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `88.64% <100%> (ø)` | :arrow_up: |\n| #single | `40.3% <66.66%> (ø)` | :arrow_up: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/algorithms.py](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvYWxnb3JpdGhtcy5weQ==) | `94.41% <100%> (ø)` | :arrow_up: |\n| [pandas/core/reshape/merge.py](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvcmVzaGFwZS9tZXJnZS5weQ==) | `93.94% <100%> (ø)` | :arrow_up: |\n| [pandas/core/common.py](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvY29tbW9uLnB5) | `91.03% <0%> (+0.34%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=footer). Last update [217864e...4acc4cd](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298504694",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298504694",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298504694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODUwNDY5NA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2017-05-02T06:03:17Z",
    "updated_at": "2017-05-02T15:53:59Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=h1) Report\n> Merging [#16193](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/217864e3902592b9723a1070f1bbbb203a1759f4?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/16193/graphs/tree.svg?token=eZ4WkYLtcO&src=pr&height=150&width=650)](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master   #16193   +/-   ##\n=======================================\n  Coverage   90.86%   90.86%           \n=======================================\n  Files         162      162           \n  Lines       50862    50862           \n=======================================\n  Hits        46215    46215           \n  Misses       4647     4647\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `88.64% <100%> (ø)` | :arrow_up: |\n| #single | `40.3% <75%> (ø)` | :arrow_up: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/algorithms.py](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvYWxnb3JpdGhtcy5weQ==) | `94.41% <100%> (ø)` | :arrow_up: |\n| [pandas/core/reshape/merge.py](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvcmVzaGFwZS9tZXJnZS5weQ==) | `93.94% <100%> (ø)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=footer). Last update [217864e...9aaf521](https://codecov.io/gh/pandas-dev/pandas/pull/16193?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298504695",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298504695",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298504695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODUwNDY5NQ==",
    "user": {
      "login": "mattip",
      "id": 823911,
      "node_id": "MDQ6VXNlcjgyMzkxMQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/823911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattip",
      "html_url": "https://github.com/mattip",
      "followers_url": "https://api.github.com/users/mattip/followers",
      "following_url": "https://api.github.com/users/mattip/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattip/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattip/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattip/subscriptions",
      "organizations_url": "https://api.github.com/users/mattip/orgs",
      "repos_url": "https://api.github.com/users/mattip/repos",
      "events_url": "https://api.github.com/users/mattip/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattip/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T06:03:17Z",
    "updated_at": "2017-05-02T06:03:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fix formatting for linter"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298597017",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298597017",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298597017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODU5NzAxNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T10:27:47Z",
    "updated_at": "2017-05-02T10:27:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "this seems like a giant change. why not just pass refcheck for object arrays only?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298635169",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298635169",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298635169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODYzNTE2OQ==",
    "user": {
      "login": "mattip",
      "id": 823911,
      "node_id": "MDQ6VXNlcjgyMzkxMQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/823911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattip",
      "html_url": "https://github.com/mattip",
      "followers_url": "https://api.github.com/users/mattip/followers",
      "following_url": "https://api.github.com/users/mattip/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattip/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattip/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattip/subscriptions",
      "organizations_url": "https://api.github.com/users/mattip/orgs",
      "repos_url": "https://api.github.com/users/mattip/repos",
      "events_url": "https://api.github.com/users/mattip/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattip/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T13:27:40Z",
    "updated_at": "2017-05-02T13:27:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "sorry for the commit bomb, but the ``resize`` call percolates out for all the ``Int64Vector, UInt64Vector, Float64Vector, StringVector`` classes, so either I must assume it is safe to always use refcheck=False (seems a bit dangerous) or percolate it out to where the ``{name}Vector`` object is initialized and may be held by another reference\r\n\r\nThe problem with the 'dangerous' option is that it will reallocate the memory of an object held by the user, which could cause inconsistent state in that object, but if that is what you recommend I will submit another pull request along those lines"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298647717",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298647717",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298647717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY0NzcxNw==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T14:13:28Z",
    "updated_at": "2017-05-02T14:13:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "At least in the current implementation, I think forcing `refcheck=False` would be safe?  The Vector classes allocate/own the ndarray memory, so it should always be the case that they can safely resize."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298648961",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298648961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298648961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY0ODk2MQ==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T14:17:54Z",
    "updated_at": "2017-05-02T14:17:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "A bit more invasive, but we could also remove the ndarray object entirely from these classes until `to_array` is called.  Instead of calling `ao.resize`, realloc the underlying buffer - I think that would also have the advantage of removing the need to re-acquire the GIL on the resize calls, e.g. here.\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/20fda2223d5121be3f8204702b5ce1e6037e5b18/pandas/_libs/hashtable_class_helper.pxi.in#L364"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298678323",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298678323",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298678323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY3ODMyMw==",
    "user": {
      "login": "mattip",
      "id": 823911,
      "node_id": "MDQ6VXNlcjgyMzkxMQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/823911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattip",
      "html_url": "https://github.com/mattip",
      "followers_url": "https://api.github.com/users/mattip/followers",
      "following_url": "https://api.github.com/users/mattip/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattip/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattip/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattip/subscriptions",
      "organizations_url": "https://api.github.com/users/mattip/orgs",
      "repos_url": "https://api.github.com/users/mattip/repos",
      "events_url": "https://api.github.com/users/mattip/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattip/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T15:56:40Z",
    "updated_at": "2017-05-02T15:56:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "> The Vector classes allocate/own the ndarray memory, so it should always be the case that they can safely resize\r\n\r\nI added a test in commit 9aaf521 to show how refcheck semantics leak to app-level, if the user takes a reference to ``uniques`` and then calls ``get_labels`` again"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298749576",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-298749576",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 298749576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODc0OTU3Ng==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T20:21:27Z",
    "updated_at": "2017-05-02T20:21:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Vector isn't part of the public api, but I do see your point, thanks for the example.  Maybe instead enforce that `to_array` can only called once  - roughly\r\n```\r\ncdef class {{name}}Vector:\r\n    cdef bint external_view_exists = False\r\n    # ...ommitted impl...\r\n\r\n    cpdef to_array(self):\r\n        if self.external_view_exists:\r\n            raise ValueError(\"\")\r\n        else:\r\n            # original impl\r\n            self.external_view = True\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299153485",
    "html_url": "https://github.com/pandas-dev/pandas/pull/16193#issuecomment-299153485",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16193",
    "id": 299153485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE1MzQ4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T10:55:45Z",
    "updated_at": "2017-05-04T10:55:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "superseded by #16224 "
  }
]
