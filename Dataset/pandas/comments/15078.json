[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271074438",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271074438",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271074438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA3NDQzOA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T10:02:30Z",
    "updated_at": "2017-01-07T10:02:30Z",
    "author_association": "MEMBER",
    "body": "Can you show a reproducible example that shows the problem?\r\n\r\nFor me this works with a simple example:\r\n```\r\nIn [1]: pd.__version__\r\nOut[1]: '0.19.2'\r\n\r\nIn [2]: df = pd.DataFrame({'a':[1,2,3], 'b':['a','b', 'c']})\r\n\r\nIn [3]: df.dtypes\r\nOut[3]: \r\na     int64\r\nb    object\r\ndtype: object\r\n\r\nIn [4]:  df.astype({'a': 'float64', 'b': 'category'}).dtypes\r\nOut[4]: \r\na     float64\r\nb    category\r\ndtype: object\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271091249",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271091249",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271091249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA5MTI0OQ==",
    "user": {
      "login": "arita37",
      "id": 18707623,
      "node_id": "MDQ6VXNlcjE4NzA3NjIz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18707623?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arita37",
      "html_url": "https://github.com/arita37",
      "followers_url": "https://api.github.com/users/arita37/followers",
      "following_url": "https://api.github.com/users/arita37/following{/other_user}",
      "gists_url": "https://api.github.com/users/arita37/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arita37/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arita37/subscriptions",
      "organizations_url": "https://api.github.com/users/arita37/orgs",
      "repos_url": "https://api.github.com/users/arita37/repos",
      "events_url": "https://api.github.com/users/arita37/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arita37/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T15:51:05Z",
    "updated_at": "2017-01-07T15:51:05Z",
    "author_association": "NONE",
    "body": "Your solution is working.\r\nIt seems  pandas.types.dtypes.CategoricalDtype is not recognized when doing the casting,\r\nso better to use 'category'"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271093900",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271093900",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271093900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA5MzkwMA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T16:33:47Z",
    "updated_at": "2017-01-07T16:33:47Z",
    "author_association": "MEMBER",
    "body": "Hmm, that should actually work I think. Or otherwise an error. I reopened the issue and updated the top post with an example."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271093970",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271093970",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271093970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA5Mzk3MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T16:35:05Z",
    "updated_at": "2017-01-07T16:35:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "maybe though this is an internal type (and not directly exposed to the user)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271094330",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271094330",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271094330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA5NDMzMA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T16:41:09Z",
    "updated_at": "2017-01-07T16:41:09Z",
    "author_association": "MEMBER",
    "body": "Yeah, and it should not necessarily work for me, but if we don't accept it as a dtype, then it should raise an error IMO."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271094468",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271094468",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271094468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA5NDQ2OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T16:43:25Z",
    "updated_at": "2017-01-07T16:43:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is with our new default\r\nerrors='raise'?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271094659",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271094659",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271094659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA5NDY1OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T16:46:46Z",
    "updated_at": "2017-01-07T16:46:46Z",
    "author_association": "MEMBER",
    "body": "It does not depend on that (and the default *was* already to raise, the keyword name changed but not the default value).\r\n\r\nThe reason is that the provided dtype is converted to a numpy dtype:\r\n\r\n```\r\nIn [24]: np.dtype(list)\r\nOut[24]: dtype('O')\r\n\r\nIn [25]: np.dtype(pd.types.dtypes.CategoricalDtype)\r\nOut[25]: dtype('O')\r\n```\r\n\r\nFor that reason also something like `s.astype(list)` does work but does not do anything (for an object series). \r\n\r\nIt can just a bit confusing to users I think, as an instantiated CategoricalDtype actually works:\r\n\r\n```\r\nIn [26]: s.astype(pd.types.dtypes.CategoricalDtype())\r\nOut[26]: \r\n0    a\r\n1    b\r\n2    c\r\ndtype: category\r\nCategories (3, object): [a, b, c]\r\n\r\nIn [27]: s.astype(pd.types.dtypes.CategoricalDtype)\r\nOut[27]: \r\n0    a\r\n1    b\r\n2    c\r\ndtype: object\r\n```\r\nwhich comes down to this difference:\r\n\r\n```\r\nIn [28]: pd.types.common.is_categorical_dtype(pd.types.dtypes.CategoricalDtype)\r\nOut[28]: False\r\n\r\nIn [29]: pd.types.common.is_categorical_dtype(pd.types.dtypes.CategoricalDtype())\r\nOut[29]: True\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271131890",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271131890",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271131890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEzMTg5MA==",
    "user": {
      "login": "arita37",
      "id": 18707623,
      "node_id": "MDQ6VXNlcjE4NzA3NjIz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18707623?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arita37",
      "html_url": "https://github.com/arita37",
      "followers_url": "https://api.github.com/users/arita37/followers",
      "following_url": "https://api.github.com/users/arita37/following{/other_user}",
      "gists_url": "https://api.github.com/users/arita37/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arita37/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arita37/subscriptions",
      "organizations_url": "https://api.github.com/users/arita37/orgs",
      "repos_url": "https://api.github.com/users/arita37/repos",
      "events_url": "https://api.github.com/users/arita37/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arita37/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-08T05:52:21Z",
    "updated_at": "2017-01-08T05:52:21Z",
    "author_association": "NONE",
    "body": "Additionnally, There are numpy dtypes and Pandas types...\nWe spent some time to find where is the real object of 'category' as\nthis is not really mentionned  in the documentation.\n\n\n\n\n\n\nJoris Van den Bossche wrote:\n>\n> It does not depend on that (and the default /was/ already to raise, \n> the keyword name changed but not the default value).\n>\n> The reason is that the provided dtype is converted to a numpy dtype:\n>\n> |In [24]: np.dtype(list)\n> Out[24]: dtype('O')\n>\n> In [25]: np.dtype(pd.types.dtypes.CategoricalDtype)\n> Out[25]: dtype('O')\n> |\n>\n> For that reason also something like |s.astype(list)| does work but \n> does not do anything (for an object series).\n>\n> It can just a bit confusing to users I think, as an instantiated \n> CategoricalDtype actually works:\n>\n> |In [26]: s.astype(pd.types.dtypes.CategoricalDtype())\n> Out[26]:\n> 0    a\n> 1    b\n> 2    c\n> dtype: category\n> Categories (3, object): [a, b, c]\n>\n> In [27]: s.astype(pd.types.dtypes.CategoricalDtype)\n> Out[27]:\n> 0    a\n> 1    b\n> 2    c\n> dtype: object\n> |\n>\n> which comes down to this difference:\n>\n> |In [28]: pd.types.common.is_categorical_dtype(pd.types.dtypes.CategoricalDtype)\n> Out[28]: False\n>\n> In [29]: pd.types.common.is_categorical_dtype(pd.types.dtypes.CategoricalDtype())\n> Out[29]: True\n> |\n>\n> â€”\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub \n> <https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271094659>, \n> or mute the thread \n> <https://github.com/notifications/unsubscribe-auth/AR10p_PdX0ZjZjjg3e7uPFPiJTq1pDYgks5rP8GAgaJpZM4LdWAs>.\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271291462",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15078#issuecomment-271291462",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15078",
    "id": 271291462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTI5MTQ2Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-09T14:02:47Z",
    "updated_at": "2017-01-09T14:02:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "> We spent some time to find where is the real object of 'category' as\r\nthis is not really mentionned  in the documentation.\r\n\r\nAt the moment, the `CategoricalDtype` isn't part of the public API. There [are plans](https://github.com/pandas-dev/pandas/issues/14711) to refactor it a bit before exposing it."
  }
]
