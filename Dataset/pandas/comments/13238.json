[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/220625556",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-220625556",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 220625556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDYyNTU1Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-20T14:44:58Z",
    "updated_at": "2016-05-20T14:44:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "rewriting your example like how we test\n\n```\nIn [10]: s = pd.Series(index=pd.DatetimeIndex(['2013-01-01 06:00', '2013-01-01 07:00', '2013-01-02 06:00'],\n                                     tz='America/Los_Angeles'),\n              data=[1, 2, 3])\n\nIn [11]: s\nOut[11]: \n2013-01-01 06:00:00-08:00    1\n2013-01-01 07:00:00-08:00    2\n2013-01-02 06:00:00-08:00    3\ndtype: int64\n\nIn [12]: s.index\nOut[12]: DatetimeIndex(['2013-01-01 06:00:00-08:00', '2013-01-01 07:00:00-08:00', '2013-01-02 06:00:00-08:00'], dtype='datetime64[ns, America/Los_Angeles]', freq=None)\n\nIn [13]: s.resample('D').max()\nOut[13]: \n2013-01-01 00:00:00-08:00    2\n2013-01-02 00:00:00-08:00    3\nFreq: D, dtype: int64\n\nIn [14]: s.resample('D').max().index\nOut[14]: DatetimeIndex(['2013-01-01 00:00:00-08:00', '2013-01-02 00:00:00-08:00'], dtype='datetime64[ns, America/Los_Angeles]', freq='D')\n```\n\ndatetime w/tz and resampling are not tested very much. pull-requests to do more of this are welcome (the fix is very straightforward).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/220627048",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-220627048",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 220627048,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDYyNzA0OA==",
    "user": {
      "login": "jeremywhelchel",
      "id": 835184,
      "node_id": "MDQ6VXNlcjgzNTE4NA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/835184?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeremywhelchel",
      "html_url": "https://github.com/jeremywhelchel",
      "followers_url": "https://api.github.com/users/jeremywhelchel/followers",
      "following_url": "https://api.github.com/users/jeremywhelchel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeremywhelchel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeremywhelchel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeremywhelchel/subscriptions",
      "organizations_url": "https://api.github.com/users/jeremywhelchel/orgs",
      "repos_url": "https://api.github.com/users/jeremywhelchel/repos",
      "events_url": "https://api.github.com/users/jeremywhelchel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeremywhelchel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-20T14:50:03Z",
    "updated_at": "2016-05-20T14:50:03Z",
    "author_association": "NONE",
    "body": "Thanks for the quick look!\n\nNote that your re-written example doesn't display the problem. You need to look at `repr(...index.tz)` to see the difference (`LMT-1 day, 16:07:00 STD` vs `PST-1 day, 16:00:00 STD`)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/220627698",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-220627698",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 220627698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDYyNzY5OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-20T14:52:22Z",
    "updated_at": "2016-05-20T14:52:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "have a look again at [12] vs [14]. the time changed. (look t the hour). the issue is the re-localization is off. The actual tz is correct.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303216316",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-303216316",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 303216316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzIxNjMxNg==",
    "user": {
      "login": "jaredsnyder",
      "id": 4021213,
      "node_id": "MDQ6VXNlcjQwMjEyMTM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4021213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jaredsnyder",
      "html_url": "https://github.com/jaredsnyder",
      "followers_url": "https://api.github.com/users/jaredsnyder/followers",
      "following_url": "https://api.github.com/users/jaredsnyder/following{/other_user}",
      "gists_url": "https://api.github.com/users/jaredsnyder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jaredsnyder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jaredsnyder/subscriptions",
      "organizations_url": "https://api.github.com/users/jaredsnyder/orgs",
      "repos_url": "https://api.github.com/users/jaredsnyder/repos",
      "events_url": "https://api.github.com/users/jaredsnyder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jaredsnyder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T20:50:15Z",
    "updated_at": "2017-05-22T20:50:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm going to attempt fixing this one"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303223865",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-303223865",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 303223865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzIyMzg2NQ==",
    "user": {
      "login": "jaredsnyder",
      "id": 4021213,
      "node_id": "MDQ6VXNlcjQwMjEyMTM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4021213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jaredsnyder",
      "html_url": "https://github.com/jaredsnyder",
      "followers_url": "https://api.github.com/users/jaredsnyder/followers",
      "following_url": "https://api.github.com/users/jaredsnyder/following{/other_user}",
      "gists_url": "https://api.github.com/users/jaredsnyder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jaredsnyder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jaredsnyder/subscriptions",
      "organizations_url": "https://api.github.com/users/jaredsnyder/orgs",
      "repos_url": "https://api.github.com/users/jaredsnyder/repos",
      "events_url": "https://api.github.com/users/jaredsnyder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jaredsnyder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T21:23:14Z",
    "updated_at": "2017-05-22T21:28:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Wouldn't we expect the index values to be at midnight on each day given that we're aggregating up to the day level?  If we run the code above without the timezones we get a similar output:\r\n\r\n```\r\n>>> s_notz = pd.Series(index=pd.DatetimeIndex(['2013-01-01 06:00', '2013-01-01 07:00', '2013-01-02 06:00']),\r\n...               data=[1, 2, 3])\r\n>>> s_notz.index\r\nDatetimeIndex(['2013-01-01 06:00:00', '2013-01-01 07:00:00',\r\n               '2013-01-02 06:00:00'],\r\n              dtype='datetime64[ns]', freq=None)\r\n>>> s_notz.resample(\"D\").max()\r\n2013-01-01    2\r\n2013-01-02    3\r\nFreq: D, dtype: int64\r\n>>> s_notz.resample(\"D\").max().index\r\nDatetimeIndex(['2013-01-01', '2013-01-02'], dtype='datetime64[ns]', freq='D')\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/358155925",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-358155925",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 358155925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODE1NTkyNQ==",
    "user": {
      "login": "rockg",
      "id": 3195015,
      "node_id": "MDQ6VXNlcjMxOTUwMTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3195015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockg",
      "html_url": "https://github.com/rockg",
      "followers_url": "https://api.github.com/users/rockg/followers",
      "following_url": "https://api.github.com/users/rockg/following{/other_user}",
      "gists_url": "https://api.github.com/users/rockg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rockg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rockg/subscriptions",
      "organizations_url": "https://api.github.com/users/rockg/orgs",
      "repos_url": "https://api.github.com/users/rockg/repos",
      "events_url": "https://api.github.com/users/rockg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rockg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-17T00:39:48Z",
    "updated_at": "2018-01-17T00:39:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Any progress on this?  Had to spend about 20 minutes figuring this out and it impacts all join operations as the timezones are not treated as equal despite having the same zone name.  So all binary operations will result in losing timezone information ([13] below).  Using tz_convert brings the timezone back in line, but shouldn't be necessary.  Some more examples:\r\n\r\n```python\r\nIn [11]: s = pd.Series([2], index=pd.date_range('2017-01-01', periods=48, freq=\"H\", tz=\"US/Eastern\"))\r\n\r\nIn [12]: ss = s / s.resample(\"D\").mean()\r\n\r\nIn [13]: ss.dropna()\r\nOut[13]: \r\n2017-01-01 05:00:00+00:00    1.0\r\n2017-01-02 05:00:00+00:00    1.0\r\ndtype: float64\r\n\r\nIn [14]: ss1 = s / s.resample(\"D\").mean().tz_convert(\"US/Eastern\")\r\n\r\nIn [15]: ss1.dropna()\r\nOut[15]: \r\n2017-01-01 00:00:00-05:00    1.0\r\n2017-01-02 00:00:00-05:00    1.0\r\ndtype: float64\r\n\r\nIn [16]: s.resample(\"D\").mean()\r\nOut[16]: \r\n2017-01-01 00:00:00-05:00    2\r\n2017-01-02 00:00:00-05:00    2\r\n\r\nIn [22]: s.resample(\"D\").mean().index.tz\r\nOut[22]: <DstTzInfo 'US/Eastern' EST-1 day, 19:00:00 STD>\r\n\r\nIn [23]: s.index.tz\r\nOut[23]: <DstTzInfo 'US/Eastern' LMT-1 day, 19:04:00 STD>\r\n```\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/358156550",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-358156550",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 358156550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODE1NjU1MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-17T00:43:12Z",
    "updated_at": "2018-01-17T00:43:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "i think #18596 will fix this if u want to give that a try "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/358164024",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-358164024",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 358164024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODE2NDAyNA==",
    "user": {
      "login": "rockg",
      "id": 3195015,
      "node_id": "MDQ6VXNlcjMxOTUwMTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3195015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockg",
      "html_url": "https://github.com/rockg",
      "followers_url": "https://api.github.com/users/rockg/followers",
      "following_url": "https://api.github.com/users/rockg/following{/other_user}",
      "gists_url": "https://api.github.com/users/rockg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rockg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rockg/subscriptions",
      "organizations_url": "https://api.github.com/users/rockg/orgs",
      "repos_url": "https://api.github.com/users/rockg/repos",
      "events_url": "https://api.github.com/users/rockg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rockg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-17T01:25:28Z",
    "updated_at": "2018-01-17T01:25:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, that will fix the join issue.  Thanks."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/358164616",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-358164616",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 358164616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODE2NDYxNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-17T01:28:54Z",
    "updated_at": "2018-01-17T01:28:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "ohh great\r\n\r\nlmk rebase that tomorrow \r\n\r\ni suspect this will close a number of other issues as well\r\nif you could have a look thru would be great"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/358280653",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-358280653",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 358280653,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI4MDY1Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-17T11:45:58Z",
    "updated_at": "2018-01-17T11:45:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@rockg xref #19281, though I don't think this actually fixes it, the tz is still converted incorrectly. welcome an investigation."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/358312439",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13238#issuecomment-358312439",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13238",
    "id": 358312439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODMxMjQzOQ==",
    "user": {
      "login": "rockg",
      "id": 3195015,
      "node_id": "MDQ6VXNlcjMxOTUwMTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3195015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockg",
      "html_url": "https://github.com/rockg",
      "followers_url": "https://api.github.com/users/rockg/followers",
      "following_url": "https://api.github.com/users/rockg/following{/other_user}",
      "gists_url": "https://api.github.com/users/rockg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rockg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rockg/subscriptions",
      "organizations_url": "https://api.github.com/users/rockg/orgs",
      "repos_url": "https://api.github.com/users/rockg/repos",
      "events_url": "https://api.github.com/users/rockg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rockg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-17T13:59:42Z",
    "updated_at": "2018-01-17T13:59:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, I agree it doesn't fix the resample, just the join issue ([13] in my example).  It works despite resample returning a different tzinfo, so half the battle. "
  }
]
