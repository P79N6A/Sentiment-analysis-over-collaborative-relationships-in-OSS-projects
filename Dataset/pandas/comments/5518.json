[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28540748",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28540748",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28540748,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTQwNzQ4",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-15T01:35:03Z",
    "updated_at": "2013-11-15T01:35:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "related: #5514\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28593841",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28593841",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28593841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTkzODQx",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-15T18:54:03Z",
    "updated_at": "2013-11-15T18:54:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback @cpcloud @jtratner You guys come across this? Is there a nice internal API to get the would be returned as_index index group a groupby? (If not perhaps there ought to be...?)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28594273",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28594273",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28594273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTk0Mjcz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-15T18:59:47Z",
    "updated_at": "2013-11-15T18:59:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "try `g.grouper.group_info`....lots of stuff...not exactly sure what you want\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28595153",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28595153",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28595153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTk1MTUz",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-15T19:10:55Z",
    "updated_at": "2013-11-16T05:40:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "So when doing these groupby operations cumcount/head/tail I can't keep track of the as_index=True part. \n\nThe difference is:\n\n```\nIn [11]: g = df.groupby('A', as_index=True)\n\nIn [12]: g.head(2)  # my implementation (now fixed in this PR)\nOut[12]: \n   A  B\n0  1  2\n1  1  4\n2  3  6\n\nIn [13]: g.apply(lambda x: x.head(2))  # what it should be\nOut[13]: \n     A  B\nA        \n1 0  1  2\n  1  1  4\n3 2  3  6\n```\n\nI was hoping I'd be able to accessing/create the MI easily/efficiently, and thought it would be internal API.\n\n_Even combining two Index/MIs I don't know how to do, other than zipping..._\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28595242",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28595242",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28595242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTk1MjQy",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-15T19:12:02Z",
    "updated_at": "2013-11-15T19:12:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm not sure the as_index thing make sense there anyways, but it seems to be the current API for head/tail.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28600227",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28600227",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28600227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjAwMjI3",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-15T20:19:56Z",
    "updated_at": "2013-11-16T00:22:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "The same \"bug\" is in filter, i.e. it ignores the as_index.\n\nI have a way to do it, but it... inelegant... and SLOW ~~(uses zip and MultiIndex.from_tuples).~~ with MultiIndex.from_arrays\n\n_tbh I think breaking the API might be better :s_\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28608212",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28608212",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28608212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjA4MjEy",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-15T22:18:14Z",
    "updated_at": "2013-11-15T22:18:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, I can do it, it's not pretty though.\n\nIt's still significantly faster than before (but obviously slower than as_index=False). Slight change is that .head/tail  keeps the ordering of the original dataframe (rather than in order of the groups), which I think is preferred anyway.\n\nThe logic for apply and as_index is a little fishy actually, I wonder if a refactor could fix.\n\nExample:\n\n```\nIn [1]: df = pd.DataFrame([[1, 2], [1, 4], [3, 6]], columns=['A', 'B']).set_index('A', append=True, drop=False)\n\nIn [2]: g.head(1)  # my way\nOut[2]: \n       A  B\nA   A      \n1 0 1  1  2\n3 2 3  3  6\n\nIn [3]: g.apply(lambda x: x.head(1))  # apply, loses level name\nOut[3]: \n       A  B\nA          \n1 0 1  1  2\n3 2 3  3  6\n```\n\nimo, you never want to as_index with head and tail anyways....\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28621319",
    "html_url": "https://github.com/pandas-dev/pandas/pull/5518#issuecomment-28621319",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5518",
    "id": 28621319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjIxMzE5",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-16T07:12:44Z",
    "updated_at": "2013-11-16T07:12:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is all fixed up, although probably some more juice to get out here in future...\n\nI added some tests into this for tail as there were none. \n\n_I dislike `_index_with_as_index` and suspect there's a better way..._\n\n0.13?\n"
  }
]
