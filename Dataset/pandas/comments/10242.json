[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107098262",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107098262",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107098262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzA5ODI2Mg==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-30T23:10:11Z",
    "updated_at": "2015-05-30T23:10:29Z",
    "author_association": "MEMBER",
    "body": "Thanks for the report. The difference is caused by the default of `ddof` option which specify sample / unbiased variance.\n\n``` python\n# numpy\ndat['x'].values.var()\n# 2.2448979591836733\ndat['x'].values.var(ddof=True)\n# 2.6190476190476186\n\n# pandas\ndat['x'].var()\n# 2.6190476190476191\ndat['x'].var(ddof=False)\n# 2.2448979591836733\n```\n\nIt is written in API but easy to miss it... should be listed on parameter section. PR is appreciated.\n- pandas: http://pandas.pydata.org/pandas-docs/dev/generated/pandas.Series.var.html\n- numpy: http://docs.scipy.org/doc/numpy/reference/generated/numpy.var.html\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107098547",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107098547",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107098547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzA5ODU0Nw==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-30T23:16:12Z",
    "updated_at": "2015-05-30T23:16:54Z",
    "author_association": "MEMBER",
    "body": "Ah I missed latter part.\n\nI think it should be precise as the same as numpy. Marked as a bug also.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107101946",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107101946",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107101946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzEwMTk0Ng==",
    "user": {
      "login": "nleehone",
      "id": 12677513,
      "node_id": "MDQ6VXNlcjEyNjc3NTEz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12677513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nleehone",
      "html_url": "https://github.com/nleehone",
      "followers_url": "https://api.github.com/users/nleehone/followers",
      "following_url": "https://api.github.com/users/nleehone/following{/other_user}",
      "gists_url": "https://api.github.com/users/nleehone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nleehone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nleehone/subscriptions",
      "organizations_url": "https://api.github.com/users/nleehone/orgs",
      "repos_url": "https://api.github.com/users/nleehone/repos",
      "events_url": "https://api.github.com/users/nleehone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nleehone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-31T00:00:36Z",
    "updated_at": "2015-05-31T00:00:36Z",
    "author_association": "NONE",
    "body": "Yeah the latter part is the more concerning. \n\nThe first was more of a remark, but it should definitely be added to the parameters list. Might be a good idea to also make it explicit in the docs that numpy assumes a different ddof, and maybe add the example I gave as a caution to users.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107103363",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107103363",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107103363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzEwMzM2Mw==",
    "user": {
      "login": "nleehone",
      "id": 12677513,
      "node_id": "MDQ6VXNlcjEyNjc3NTEz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12677513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nleehone",
      "html_url": "https://github.com/nleehone",
      "followers_url": "https://api.github.com/users/nleehone/followers",
      "following_url": "https://api.github.com/users/nleehone/following{/other_user}",
      "gists_url": "https://api.github.com/users/nleehone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nleehone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nleehone/subscriptions",
      "organizations_url": "https://api.github.com/users/nleehone/orgs",
      "repos_url": "https://api.github.com/users/nleehone/repos",
      "events_url": "https://api.github.com/users/nleehone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nleehone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-31T00:33:03Z",
    "updated_at": "2015-05-31T00:33:03Z",
    "author_association": "NONE",
    "body": "I'm trying to trace this back and found the following:\n\n``` python\ndat = pd.DataFrame({'x': [9.0692124699,9.0692124692,9.0692124702,9.0692124686,\n                          9.0692124687,9.0692124707,9.0692124679,9.0692124685,\n                          9.0692124698,9.0692124719,9.0692124698,9.0692124692,\n                          9.0692124689,9.0692124673,9.0692124707,9.0692124714,\n                          9.0692124714,9.0692124734,9.0692124719,9.0692124710,\n                          9.0692124694,9.0692124705,9.0692124713,9.0692124717\n]})\n\nvalues = dat['x'].values\n# Formula used internally by pandas to calculate the variance (ignoring the final division by N-1):\nprint(np.sum(values)**2/len(values)-np.sum(values**2))\n# Normal variance formula (once again ignoring the final div by N-1):\nprint(np.sum((values - np.mean(values))**2))\n```\n\n```\nReturns:\n0.0\n4.96362582139e-17\n```\n\nAs far as I can tell these should be exactly equivalent, but for some reason they are not.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107104839",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107104839",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107104839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzEwNDgzOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-31T01:09:25Z",
    "updated_at": "2015-05-31T01:09:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "do u have bottleneck installed?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107105220",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107105220",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107105220,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzEwNTIyMA==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-31T01:27:12Z",
    "updated_at": "2015-05-31T01:27:47Z",
    "author_association": "MEMBER",
    "body": "@jreback It works fine if `bottleneck` installed on my environment. \n\n``` python\n# with bottleneck 1.0.0\ndat['x'].var()\n# 2.158098183211887e-18\ndat['x'].var(ddof=False)\n# 2.0681774255780584e-18\n```\n\nAs  @NickLH pointed, issue looks to be caused by `nanops._nanvar` which drops small decimals during squared-sum. Should check there is no side effect though...\n\n``` python\n# after fixing squared-sum to calculate mean first\n\n# numpy\ndat['x'].values.var()\n# 2.0681774255780584e-18\ndat['x'].values.var(ddof=True)\n# 2.158098183211887e-18\n\ndat['x'].var()\n# 2.158098183211887e-18\ndat['x'].var(ddof=False)\n# 2.0681774255780584e-18\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107109969",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107109969",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107109969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzEwOTk2OQ==",
    "user": {
      "login": "nleehone",
      "id": 12677513,
      "node_id": "MDQ6VXNlcjEyNjc3NTEz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12677513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nleehone",
      "html_url": "https://github.com/nleehone",
      "followers_url": "https://api.github.com/users/nleehone/followers",
      "following_url": "https://api.github.com/users/nleehone/following{/other_user}",
      "gists_url": "https://api.github.com/users/nleehone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nleehone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nleehone/subscriptions",
      "organizations_url": "https://api.github.com/users/nleehone/orgs",
      "repos_url": "https://api.github.com/users/nleehone/repos",
      "events_url": "https://api.github.com/users/nleehone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nleehone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-31T02:00:50Z",
    "updated_at": "2015-05-31T02:00:50Z",
    "author_association": "NONE",
    "body": "No bottleneck... here's the full output of my system\n\n``` python\nINSTALLED VERSIONS\n------------------\ncommit: None\npython: 3.4.0.final.0\npython-bits: 64\nOS: Linux\nOS-release: 3.13.0-52-generic\nmachine: x86_64\nprocessor: x86_64\nbyteorder: little\nLC_ALL: None\nLANG: en_CA.UTF-8\n\npandas: 0.16.1\nnose: 1.3.1\nCython: None\nnumpy: 1.9.2\nscipy: 0.15.1\nstatsmodels: None\nIPython: 1.2.1\nsphinx: None\npatsy: None\ndateutil: 2.4.2\npytz: 2015.4\nbottleneck: None\ntables: None\nnumexpr: None\nmatplotlib: 1.3.1\nopenpyxl: None\nxlrd: None\nxlwt: None\nxlsxwriter: None\nlxml: None\nbs4: None\nhtml5lib: 0.999\nhttplib2: 0.8\napiclient: None\nsqlalchemy: None\npymysql: None\npsycopg2: None\n```\n\nI think it's a problem with the algorithm that's being used. According to this page on wiki http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance\nthe algorithm that is being used is the naieve one, which has problems when the values are similar.\n\nQuote:\nBecause SumSq and (Sum×Sum)⁄n can be very similar numbers, cancellation can lead to the precision of the result to be much less than the inherent precision of the floating-point arithmetic used to perform the computation. Thus this algorithm should not be used in practice.[1][2] This is particularly bad if the standard deviation is small relative to the mean. However, the algorithm can be improved by adopting the method of the assumed mean.\nEnd Quote\n\nThe method I used **that seems to work** is the two pass algorithm mentioned on the wiki article, which is apparently numerically stable except in the case of large `n`. This is also the algorithm that numpy uses under the hood. See: https://github.com/numpy/numpy/blob/4cbced22a8306d7214a4e18d12e651c034143922/numpy/core/_methods.py (look up '_var').\n\nThe good formula (again according to the wiki) that is numerically stable, even for large `n` is:\n\n``` python\ndef compensated_variance(data):\n    n = 0\n    sum1 = 0\n    for x in data:\n        n = n + 1\n        sum1 = sum1 + x\n    mean = sum1/n\n\n    sum2 = 0\n    sum3 = 0\n    for x in data:\n        sum2 = sum2 + (x - mean)**2\n        sum3 = sum3 + (x - mean)\n    variance = (sum2 - sum3**2/n)/(n - 1)\n    return variance\n\nprint(dat['x'].values.var(ddof=1))\nprint(compensated_variance(dat['x']))\n```\n\n```\nReturns:\nNormal: 2.158098183211887e-18\nCompensated: 2.1580981832106009e-18\n```\n\nHowever, the 'correct' value (calculated with Mathematica) is:\n2.158098183211887e-18\nSo the compensated version sacrifices some numerical accuracy to get better stability with large values of `n`. **I do not think we should implement it this way.**\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107112058",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107112058",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107112058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzExMjA1OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-31T02:24:12Z",
    "updated_at": "2015-05-31T02:24:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "look at how roll_var was implemented - this uses weldord method - iirc there is s comment that var should be changed \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107121642",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107121642",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107121642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzEyMTY0Mg==",
    "user": {
      "login": "nleehone",
      "id": 12677513,
      "node_id": "MDQ6VXNlcjEyNjc3NTEz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12677513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nleehone",
      "html_url": "https://github.com/nleehone",
      "followers_url": "https://api.github.com/users/nleehone/followers",
      "following_url": "https://api.github.com/users/nleehone/following{/other_user}",
      "gists_url": "https://api.github.com/users/nleehone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nleehone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nleehone/subscriptions",
      "organizations_url": "https://api.github.com/users/nleehone/orgs",
      "repos_url": "https://api.github.com/users/nleehone/repos",
      "events_url": "https://api.github.com/users/nleehone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nleehone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-31T03:44:24Z",
    "updated_at": "2015-05-31T03:44:24Z",
    "author_association": "NONE",
    "body": "Implementing it with Welford's method (or the modified one from Knuth that is on that wiki page) would probably slow down the computation, but it is probably worth the small performance drop since we should be trying to get rid of weird roundoff errors such as those I found.\n\nI'm quite busy at the moment, so I cannot work on a patch, but if nobody has taken this on by the time my workload reduces, I'd be happy to contribute. \n\nIn the mean time, I suggest that people just use the numpy version:\n\n``` python\ndat['x'].values.var(ddof=1)\n```\n\nThat's what I'll be doing at least...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/107399418",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-107399418",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 107399418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzM5OTQxOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-01T10:56:05Z",
    "updated_at": "2015-06-01T10:56:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "this would have to be benchmarked, but this is very much an edge case (difference of small numbers). As far as the `ddof` is concerned, you can simply be explicit.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116769097",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-116769097",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 116769097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjc2OTA5Nw==",
    "user": {
      "login": "jvkersch",
      "id": 537559,
      "node_id": "MDQ6VXNlcjUzNzU1OQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/537559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jvkersch",
      "html_url": "https://github.com/jvkersch",
      "followers_url": "https://api.github.com/users/jvkersch/followers",
      "following_url": "https://api.github.com/users/jvkersch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jvkersch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jvkersch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jvkersch/subscriptions",
      "organizations_url": "https://api.github.com/users/jvkersch/orgs",
      "repos_url": "https://api.github.com/users/jvkersch/repos",
      "events_url": "https://api.github.com/users/jvkersch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jvkersch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-29T17:29:47Z",
    "updated_at": "2015-06-29T17:29:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I took the liberty of opening a small PR to implement Welford's method in `group_var_float64` (which is used to compute the variance after grouping by, and also implements the sum-of-squares algorithm). This seems to work quite well, but I wonder if the correct way to go is to fix `_nanvar` in a similar way, or to have these two methods share the same implementation. I haven't looked at `_nanvar` in detail, so I don't know if that's feasible.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116787893",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-116787893",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 116787893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjc4Nzg5Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-29T18:32:15Z",
    "updated_at": "2015-06-29T18:32:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jvkersch \n\n`_nanvar` could also use attention, however its implementation doesn't involve a group indexer, so can be a bit simpler (and is implemented as a vectorized method).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/131935536",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-131935536",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 131935536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTkzNTUzNg==",
    "user": {
      "login": "BrazilForever11",
      "id": 13839177,
      "node_id": "MDQ6VXNlcjEzODM5MTc3",
      "avatar_url": "https://avatars0.githubusercontent.com/u/13839177?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BrazilForever11",
      "html_url": "https://github.com/BrazilForever11",
      "followers_url": "https://api.github.com/users/BrazilForever11/followers",
      "following_url": "https://api.github.com/users/BrazilForever11/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrazilForever11/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BrazilForever11/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrazilForever11/subscriptions",
      "organizations_url": "https://api.github.com/users/BrazilForever11/orgs",
      "repos_url": "https://api.github.com/users/BrazilForever11/repos",
      "events_url": "https://api.github.com/users/BrazilForever11/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BrazilForever11/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-17T19:22:18Z",
    "updated_at": "2015-08-17T19:22:18Z",
    "author_association": "NONE",
    "body": "std has the same issue\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/137719711",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10242#issuecomment-137719711",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10242",
    "id": 137719711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzcxOTcxMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-04T12:15:33Z",
    "updated_at": "2015-09-04T12:15:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "closed by #10679 \n"
  }
]
