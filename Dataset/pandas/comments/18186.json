[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/343142411",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18186#issuecomment-343142411",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18186",
    "id": 343142411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzE0MjQxMQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T12:39:03Z",
    "updated_at": "2017-11-09T12:39:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the report.\r\n\r\nSomething like\r\n\r\n```diff\r\ndiff --git a/pandas/_libs/parsers.pyx b/pandas/_libs/parsers.pyx\r\nindex 85857c158..e3a2a2186 100644\r\n--- a/pandas/_libs/parsers.pyx\r\n+++ b/pandas/_libs/parsers.pyx\r\n@@ -2228,8 +2228,9 @@ def _concatenate_chunks(list chunks):\r\n         arrs = [chunk.pop(name) for chunk in chunks]\r\n         # Check each arr for consistent types.\r\n         dtypes = set([a.dtype for a in arrs])\r\n-        if len(dtypes) > 1:\r\n-            common_type = np.find_common_type(dtypes, [])\r\n+        numpy_dtypes = {x for x in dtypes if not is_categorical_dtype(x)}\r\n+        if len(numpy_dtypes) > 1:\r\n+            common_type = np.find_common_type(numpy_dtypes, [])\r\n             if common_type == np.object:\r\n                 warning_columns.append(str(name))\r\n\r\n```\r\n\r\nis what we want, though that's specific to Categoricals. We would want to avoid sending any of our extension dtypes to `np.find_common_type`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/343142777",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18186#issuecomment-343142777",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18186",
    "id": 343142777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzE0Mjc3Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T12:40:35Z",
    "updated_at": "2017-11-09T12:42:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "use ``pandas_dtype`` here or ``find_common_type``"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/343229758",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18186#issuecomment-343229758",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18186",
    "id": 343229758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzIyOTc1OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T17:29:42Z",
    "updated_at": "2017-11-09T17:29:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@adbull do you have time to submit a PR with a fix like that, along with some tests?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/343913236",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18186#issuecomment-343913236",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18186",
    "id": 343913236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkxMzIzNg==",
    "user": {
      "login": "tomanizer",
      "id": 9717831,
      "node_id": "MDQ6VXNlcjk3MTc4MzE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9717831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomanizer",
      "html_url": "https://github.com/tomanizer",
      "followers_url": "https://api.github.com/users/tomanizer/followers",
      "following_url": "https://api.github.com/users/tomanizer/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomanizer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomanizer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomanizer/subscriptions",
      "organizations_url": "https://api.github.com/users/tomanizer/orgs",
      "repos_url": "https://api.github.com/users/tomanizer/repos",
      "events_url": "https://api.github.com/users/tomanizer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomanizer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T13:06:33Z",
    "updated_at": "2017-11-13T13:06:33Z",
    "author_association": "NONE",
    "body": "Is there a work around which would help us run existing code on 0.21.0?\r\nOr should users downgrade to 0.20.3?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/343915172",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18186#issuecomment-343915172",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18186",
    "id": 343915172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkxNTE3Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T13:14:30Z",
    "updated_at": "2017-11-13T13:14:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tomanizer not sure off the top of my head. Reading them as strings and then converting to categorical I suppose, but that may not be an option depending on memory usage. You could presumably use `chunksize=.`, but that may introduce problems as well.\r\n\r\nWe're doing a bugfix release Wednesday or Thursday. If you have a chance to submit a PR before then we can get it merged."
  }
]
