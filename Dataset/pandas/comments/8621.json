[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60379659",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-60379659",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 60379659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzc5NjU5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-24T12:24:01Z",
    "updated_at": "2014-10-24T12:24:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "better just to create a test programmatically\n\neg \n\ndf = Dataframe(np.random....)\n\nwith the above shape (if this doesn't fail then u have something in your dtypes that causes this to fail)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60393604",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-60393604",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 60393604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzkzNjA0",
    "user": {
      "login": "rmorgans",
      "id": 2200240,
      "node_id": "MDQ6VXNlcjIyMDAyNDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2200240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rmorgans",
      "html_url": "https://github.com/rmorgans",
      "followers_url": "https://api.github.com/users/rmorgans/followers",
      "following_url": "https://api.github.com/users/rmorgans/following{/other_user}",
      "gists_url": "https://api.github.com/users/rmorgans/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rmorgans/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rmorgans/subscriptions",
      "organizations_url": "https://api.github.com/users/rmorgans/orgs",
      "repos_url": "https://api.github.com/users/rmorgans/repos",
      "events_url": "https://api.github.com/users/rmorgans/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rmorgans/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-24T14:24:01Z",
    "updated_at": "2014-10-24T14:24:01Z",
    "author_association": "NONE",
    "body": "``` python\npd.DataFrame(np.random.randn(3, 100000)).to_csv('test.csv')\n```\n\nworks\n\n``` python\npd.DataFrame(np.random.randn(3, 100001)).to_csv('test.csv')\n```\n\ndoesnt work... (well it does seem to write a usable csv out)\n\nSo it looks like its a limit off 100000... possibly something to do with\n\n``` bash\n% ag 100000 /usr/lib/python3.4/site-packages/pandas/core/format.py\n1157:            chunksize = (100000 / (len(self.cols) or 1)) or 1\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60464236",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-60464236",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 60464236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDY0MjM2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-25T00:08:05Z",
    "updated_at": "2014-10-25T00:08:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@rmorgans perfect.\n\nWant to do a pull request with that test and a fix?\n\nfollow along the same format in `tests/test_frame.py`, search for where the other `to_csv` tests are\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60483685",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-60483685",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 60483685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDgzNjg1",
    "user": {
      "login": "rmorgans",
      "id": 2200240,
      "node_id": "MDQ6VXNlcjIyMDAyNDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2200240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rmorgans",
      "html_url": "https://github.com/rmorgans",
      "followers_url": "https://api.github.com/users/rmorgans/followers",
      "following_url": "https://api.github.com/users/rmorgans/following{/other_user}",
      "gists_url": "https://api.github.com/users/rmorgans/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rmorgans/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rmorgans/subscriptions",
      "organizations_url": "https://api.github.com/users/rmorgans/orgs",
      "repos_url": "https://api.github.com/users/rmorgans/repos",
      "events_url": "https://api.github.com/users/rmorgans/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rmorgans/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-25T13:55:32Z",
    "updated_at": "2014-10-25T13:55:32Z",
    "author_association": "NONE",
    "body": "I'll see if I can work out what's going on (also my first ever attempt at a pull request)\n\nIs something like this OK for the test inside `tests/test_frame.py`\n\n``` python\n    def test_to_csv_wide_frame_formatting(self):\n\n        with ensure_clean() as path:\n            pd.DataFrame(np.random.randn(3, 100001)).to_csv(path)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60483961",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-60483961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 60483961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDgzOTYx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-25T14:05:19Z",
    "updated_at": "2014-10-25T14:05:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "close\n\ncreate the frame \nwrite it out\nread it in\ncompare\n(just follow the template of the other examples\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/61444895",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-61444895",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 61444895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDQ0ODk1",
    "user": {
      "login": "rmorgans",
      "id": 2200240,
      "node_id": "MDQ6VXNlcjIyMDAyNDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2200240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rmorgans",
      "html_url": "https://github.com/rmorgans",
      "followers_url": "https://api.github.com/users/rmorgans/followers",
      "following_url": "https://api.github.com/users/rmorgans/following{/other_user}",
      "gists_url": "https://api.github.com/users/rmorgans/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rmorgans/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rmorgans/subscriptions",
      "organizations_url": "https://api.github.com/users/rmorgans/orgs",
      "repos_url": "https://api.github.com/users/rmorgans/repos",
      "events_url": "https://api.github.com/users/rmorgans/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rmorgans/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T06:50:54Z",
    "updated_at": "2014-11-03T06:50:54Z",
    "author_association": "NONE",
    "body": "Hi Folks\n\nI've worked out a suitable test \n(https://github.com/rmorgans/pandas/blob/GH8621/pandas/tests/test_frame.py#L6461-L6467)\n\nHere's the offending part\n\n``` python\n        if chunksize is None:\n            chunksize = (100000 / (len(self.cols) or 1)) or 1\n        self.chunksize = int(chunksize)\n```\n\nWhat's happening is the chunksize, if None, is being guessed - but why is it being guessed as a function of the number of columns? From the docs chunksize should be related to number of rows surely? What was the original intent here, and what behaviour is desired?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/61446273",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-61446273",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 61446273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDQ2Mjcz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T07:25:49Z",
    "updated_at": "2014-11-03T07:31:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "gr8 you can do s pull-request to submit the test/fix for this issue\n\nthe intent was write a fixed size number of total elements at a time to keep s constant memory usage\nremember you can have very wide tables - this it's roughly proportional to that\n\nif u would like to provide a better guessing function would welcome that\nkeep in mind the various cases\n\nsmall rows, small columns\nsmall rows, lots of columns (this case)\nlarge rows, small columns\nlarge rows, large columns\n\nin my limited tests didn't find much reason to have s very large chunksize\neg should be min of say 10k but max of 100k (if not user specified)\nbut if u have a very very wide table as in this example this breaks down\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/61446394",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-61446394",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 61446394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDQ2Mzk0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-03T07:28:15Z",
    "updated_at": "2014-11-03T07:28:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "a very similar chunking mechanism is inplace for HDFStore, to_sql\nso should make s general function for this\nput in pandas.io.common\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64951464",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-64951464",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 64951464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTUxNDY0",
    "user": {
      "login": "dxe4",
      "id": 4346513,
      "node_id": "MDQ6VXNlcjQzNDY1MTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4346513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dxe4",
      "html_url": "https://github.com/dxe4",
      "followers_url": "https://api.github.com/users/dxe4/followers",
      "following_url": "https://api.github.com/users/dxe4/following{/other_user}",
      "gists_url": "https://api.github.com/users/dxe4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dxe4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dxe4/subscriptions",
      "organizations_url": "https://api.github.com/users/dxe4/orgs",
      "repos_url": "https://api.github.com/users/dxe4/repos",
      "events_url": "https://api.github.com/users/dxe4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dxe4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-29T13:15:47Z",
    "updated_at": "2014-11-29T13:15:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "will give this a try\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64951749",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-64951749",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 64951749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTUxNzQ5",
    "user": {
      "login": "dxe4",
      "id": 4346513,
      "node_id": "MDQ6VXNlcjQzNDY1MTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4346513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dxe4",
      "html_url": "https://github.com/dxe4",
      "followers_url": "https://api.github.com/users/dxe4/followers",
      "following_url": "https://api.github.com/users/dxe4/following{/other_user}",
      "gists_url": "https://api.github.com/users/dxe4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dxe4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dxe4/subscriptions",
      "organizations_url": "https://api.github.com/users/dxe4/orgs",
      "repos_url": "https://api.github.com/users/dxe4/repos",
      "events_url": "https://api.github.com/users/dxe4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dxe4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-29T13:26:13Z",
    "updated_at": "2014-11-29T13:26:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "python3 issue\n\n```\n# python3\n>>> cols = 1000000000\n>>> int((100000 / (cols or 1)) or 1)\n0\n```\n\n```\n# python2\n>>> cols = 1000000000\n>>> int((100000 / (cols or 1)) or 1)\n1\n```\n\n@fvia mentioned changing `/` to `//` fixes it \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64952205",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-64952205",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 64952205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTUyMjA1",
    "user": {
      "login": "fvia",
      "id": 3817978,
      "node_id": "MDQ6VXNlcjM4MTc5Nzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3817978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvia",
      "html_url": "https://github.com/fvia",
      "followers_url": "https://api.github.com/users/fvia/followers",
      "following_url": "https://api.github.com/users/fvia/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvia/subscriptions",
      "organizations_url": "https://api.github.com/users/fvia/orgs",
      "repos_url": "https://api.github.com/users/fvia/repos",
      "events_url": "https://api.github.com/users/fvia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-29T13:42:22Z",
    "updated_at": "2014-11-29T13:42:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback,  I feel the chunksize in  HDFStore, to_sql having the same name, has different logic.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64952271",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8621#issuecomment-64952271",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8621",
    "id": 64952271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTUyMjcx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-29T13:44:50Z",
    "updated_at": "2014-11-29T13:44:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "if u wanted to refactor it out to a function in\nio.common would be ok\n"
  }
]
