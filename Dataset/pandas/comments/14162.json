[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/244912774",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-244912774",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 244912774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDkxMjc3NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T10:36:09Z",
    "updated_at": "2016-09-06T10:36:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is very much like #13446 . Since pandas doesn't know that an `uncertainity` is numeric it cannot deal with it, similar to `Decimal`.\n\nWithout a custom dtype, or special support baked into `object` dtypes, this is not supported.\n\nIf someone wanted to contribute this functionaility then that would be great. Conceptually this is very easy, but there are lots of implementation details.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/244975703",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-244975703",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 244975703,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDk3NTcwMw==",
    "user": {
      "login": "lebigot",
      "id": 5793,
      "node_id": "MDQ6VXNlcjU3OTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lebigot",
      "html_url": "https://github.com/lebigot",
      "followers_url": "https://api.github.com/users/lebigot/followers",
      "following_url": "https://api.github.com/users/lebigot/following{/other_user}",
      "gists_url": "https://api.github.com/users/lebigot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lebigot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lebigot/subscriptions",
      "organizations_url": "https://api.github.com/users/lebigot/orgs",
      "repos_url": "https://api.github.com/users/lebigot/repos",
      "events_url": "https://api.github.com/users/lebigot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lebigot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T14:51:47Z",
    "updated_at": "2016-09-06T14:51:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Do I understand correctly that there is nothing that the uncertainties module can do to solve this issue?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/244979085",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-244979085",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 244979085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDk3OTA4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T15:01:20Z",
    "updated_at": "2016-09-06T15:01:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have no idea \nif u want t dig in and see would be great\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245005754",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245005754",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245005754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTAwNTc1NA==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T16:21:04Z",
    "updated_at": "2016-09-06T16:21:04Z",
    "author_association": "MEMBER",
    "body": "A useful first step would be to see if you can reproduce the issue with `numpy` alone (not using pandas).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245051123",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245051123",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245051123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA1MTEyMw==",
    "user": {
      "login": "bgatessucks",
      "id": 2202856,
      "node_id": "MDQ6VXNlcjIyMDI4NTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2202856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgatessucks",
      "html_url": "https://github.com/bgatessucks",
      "followers_url": "https://api.github.com/users/bgatessucks/followers",
      "following_url": "https://api.github.com/users/bgatessucks/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgatessucks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgatessucks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgatessucks/subscriptions",
      "organizations_url": "https://api.github.com/users/bgatessucks/orgs",
      "repos_url": "https://api.github.com/users/bgatessucks/repos",
      "events_url": "https://api.github.com/users/bgatessucks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgatessucks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T18:50:13Z",
    "updated_at": "2016-09-06T18:50:13Z",
    "author_association": "NONE",
    "body": "@shoyer No issue with `numpy` alone:\n\n``` python\nimport pandas as pd\nimport numpy as np\nfrom uncertainties import unumpy\n\nvalue = np.arange(12).reshape(3,4)\nerr = 0.01 * np.arange(12).reshape(3,4) + 0.005\n\ndata = unumpy.uarray(value, err)\n\ndf = pd.DataFrame(data, index=['r1', 'r2', 'r3'], columns=['c1', 'c2', 'c3', 'c4'])\n\nprint (df.apply(lambda x: x.sum() / x.size).values), \"\\n\"\n\nprint (data.mean(axis=0)), \"\\n\"\n\nprint (df.T.apply(lambda x: x.sum() / x.size).values), \"\\n\"\n\nprint (data.mean(axis=1))\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245052636",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245052636",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245052636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA1MjYzNg==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T18:55:09Z",
    "updated_at": "2016-09-06T18:55:09Z",
    "author_association": "MEMBER",
    "body": "@bgatessucks what is the type/dtype of `unumpy.uarray`? Is it a numpy array with `dtype=object`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245054081",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245054081",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245054081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA1NDA4MQ==",
    "user": {
      "login": "bgatessucks",
      "id": 2202856,
      "node_id": "MDQ6VXNlcjIyMDI4NTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2202856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgatessucks",
      "html_url": "https://github.com/bgatessucks",
      "followers_url": "https://api.github.com/users/bgatessucks/followers",
      "following_url": "https://api.github.com/users/bgatessucks/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgatessucks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgatessucks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgatessucks/subscriptions",
      "organizations_url": "https://api.github.com/users/bgatessucks/orgs",
      "repos_url": "https://api.github.com/users/bgatessucks/repos",
      "events_url": "https://api.github.com/users/bgatessucks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgatessucks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T18:59:41Z",
    "updated_at": "2016-09-06T18:59:41Z",
    "author_association": "NONE",
    "body": "@shoyer \n\n`type(data)` is `<type 'numpy.ndarray'>`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245054421",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245054421",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245054421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA1NDQyMQ==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T19:00:42Z",
    "updated_at": "2016-09-06T19:00:42Z",
    "author_association": "MEMBER",
    "body": "And `data.dtype`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245055691",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245055691",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245055691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA1NTY5MQ==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T19:04:36Z",
    "updated_at": "2016-09-06T19:04:36Z",
    "author_association": "MEMBER",
    "body": "I just wanted to be sure that you're not using subclassing or something else like that.\n\nIn any case, I think this is probably a pandas bug (but would need someone to work through/figure out). We should have a fallback implementation of `mean` (like NumPy's mean) that works on object arrays.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245056427",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245056427",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245056427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA1NjQyNw==",
    "user": {
      "login": "bgatessucks",
      "id": 2202856,
      "node_id": "MDQ6VXNlcjIyMDI4NTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2202856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgatessucks",
      "html_url": "https://github.com/bgatessucks",
      "followers_url": "https://api.github.com/users/bgatessucks/followers",
      "following_url": "https://api.github.com/users/bgatessucks/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgatessucks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgatessucks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgatessucks/subscriptions",
      "organizations_url": "https://api.github.com/users/bgatessucks/orgs",
      "repos_url": "https://api.github.com/users/bgatessucks/repos",
      "events_url": "https://api.github.com/users/bgatessucks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgatessucks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T19:07:10Z",
    "updated_at": "2016-09-06T19:07:10Z",
    "author_association": "NONE",
    "body": "@shoyer Sorry I had missed that:\n\n`data.dtype` is `object`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245303780",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245303780",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245303780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTMwMzc4MA==",
    "user": {
      "login": "rth",
      "id": 630936,
      "node_id": "MDQ6VXNlcjYzMDkzNg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/630936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rth",
      "html_url": "https://github.com/rth",
      "followers_url": "https://api.github.com/users/rth/followers",
      "following_url": "https://api.github.com/users/rth/following{/other_user}",
      "gists_url": "https://api.github.com/users/rth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rth/subscriptions",
      "organizations_url": "https://api.github.com/users/rth/orgs",
      "repos_url": "https://api.github.com/users/rth/repos",
      "events_url": "https://api.github.com/users/rth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-07T14:45:26Z",
    "updated_at": "2016-09-07T14:47:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "For what it's worth, the same example as above works with a DataFrame initialized with a numpy array of `dtype='object'` containing floats.\n\n```\nimport pandas as pd\nimport numpy as np\nfrom IPython.display import display\n\ndata = np.arange(12).reshape(3,4).astype('object')\n\ndf = pd.DataFrame(data, index=['r1', 'r2', 'r3'],\n                 columns=['c1', 'c2', 'c3', 'c4'], dtype='object')\n\ndisplay(df.sum(axis=0))\ndisplay(df.sum(axis=1))\ndisplay(df.mean(axis=0))\ndisplay(df.mean(axis=1))\n```\n\nso I guess that pandas is able to correctly infer in this case that an array of `dtype=\"object\"` contains numbers (`floats`) unlike with the array containing `ufloat` elements from the uncertainties package. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245320932",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14162#issuecomment-245320932",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14162",
    "id": 245320932,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTMyMDkzMg==",
    "user": {
      "login": "lebigot",
      "id": 5793,
      "node_id": "MDQ6VXNlcjU3OTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lebigot",
      "html_url": "https://github.com/lebigot",
      "followers_url": "https://api.github.com/users/lebigot/followers",
      "following_url": "https://api.github.com/users/lebigot/following{/other_user}",
      "gists_url": "https://api.github.com/users/lebigot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lebigot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lebigot/subscriptions",
      "organizations_url": "https://api.github.com/users/lebigot/orgs",
      "repos_url": "https://api.github.com/users/lebigot/repos",
      "events_url": "https://api.github.com/users/lebigot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lebigot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-07T15:36:39Z",
    "updated_at": "2016-09-07T15:38:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Seen from the outside, it looks like in both cases Pandas decrees that the result of `mean()` should be of type `float64`: in @rth's example above the NumPy array actually contains integers, that are converted to `float64` (which is doable); in the case of `uncertainties.UFloat` numbers with uncertainty, forcing the result to `float64` is mostly meaningless (as this would get rid of the uncertainty) and `mean()` does not produce the expected result.\n\nIn contrast, as the original post shows, Pandas is more open on the data type of `sum()`, which is, correctly, `object`, for `uncertainties.UFloat` objects.\n\nI think that it is desirable that since Pandas is able to `sum()`, it be able to get the `mean()` too (since the mean is not much more than a sum).\n"
  }
]
