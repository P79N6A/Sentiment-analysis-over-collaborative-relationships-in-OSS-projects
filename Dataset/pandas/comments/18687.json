[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350258011",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350258011",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350258011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDI1ODAxMQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-08T13:03:11Z",
    "updated_at": "2017-12-08T13:03:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Strange, I'm not sure what's going on. You're welcome to take a look in `pandas/plotting/_core.py` if you're interested :)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350260431",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350260431",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350260431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDI2MDQzMQ==",
    "user": {
      "login": "boeddeker",
      "id": 13744128,
      "node_id": "MDQ6VXNlcjEzNzQ0MTI4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13744128?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boeddeker",
      "html_url": "https://github.com/boeddeker",
      "followers_url": "https://api.github.com/users/boeddeker/followers",
      "following_url": "https://api.github.com/users/boeddeker/following{/other_user}",
      "gists_url": "https://api.github.com/users/boeddeker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boeddeker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boeddeker/subscriptions",
      "organizations_url": "https://api.github.com/users/boeddeker/orgs",
      "repos_url": "https://api.github.com/users/boeddeker/repos",
      "events_url": "https://api.github.com/users/boeddeker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boeddeker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-08T13:16:15Z",
    "updated_at": "2017-12-08T13:16:15Z",
    "author_association": "NONE",
    "body": "Thanks for the hint to the file.\r\nI already took a look with pycharm, but I didn't locate the bug.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350424848",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350424848",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350424848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDQyNDg0OA==",
    "user": {
      "login": "Licht-T",
      "id": 1455030,
      "node_id": "MDQ6VXNlcjE0NTUwMzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1455030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Licht-T",
      "html_url": "https://github.com/Licht-T",
      "followers_url": "https://api.github.com/users/Licht-T/followers",
      "following_url": "https://api.github.com/users/Licht-T/following{/other_user}",
      "gists_url": "https://api.github.com/users/Licht-T/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Licht-T/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Licht-T/subscriptions",
      "organizations_url": "https://api.github.com/users/Licht-T/orgs",
      "repos_url": "https://api.github.com/users/Licht-T/repos",
      "events_url": "https://api.github.com/users/Licht-T/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Licht-T/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-09T05:14:14Z",
    "updated_at": "2017-12-09T05:19:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am working on this.\r\nThe current implementation ignores the order of string Index.\r\nhttps://github.com/pandas-dev/pandas/blob/master/pandas/plotting/_core.py#L578\r\n\r\neg. This makes the same result.\r\n```python\r\n%matplotlib inline\r\nimport pandas as pd\r\n\r\ndf1 = pd.DataFrame([{'x': 'a', 'y': 1}, {'x': 'b', 'y': 2}])\r\ndf2 = pd.DataFrame([{'x': 'b', 'y': 3}, {'x': 'a', 'y': 4}])\r\n\r\nax = None\r\nax = df1.plot('x', 'y', ax=ax)\r\nax = df2.plot('x', 'y', ax=ax)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350425122",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350425122",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350425122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDQyNTEyMg==",
    "user": {
      "login": "Licht-T",
      "id": 1455030,
      "node_id": "MDQ6VXNlcjE0NTUwMzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1455030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Licht-T",
      "html_url": "https://github.com/Licht-T",
      "followers_url": "https://api.github.com/users/Licht-T/followers",
      "following_url": "https://api.github.com/users/Licht-T/following{/other_user}",
      "gists_url": "https://api.github.com/users/Licht-T/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Licht-T/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Licht-T/subscriptions",
      "organizations_url": "https://api.github.com/users/Licht-T/orgs",
      "repos_url": "https://api.github.com/users/Licht-T/repos",
      "events_url": "https://api.github.com/users/Licht-T/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Licht-T/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-09T05:21:27Z",
    "updated_at": "2017-12-09T05:22:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is only one solution; converting a string Index into the numeric one if available.\r\nI don't know whether pandas should support such conversion in its internals."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350441362",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350441362",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350441362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDQ0MTM2Mg==",
    "user": {
      "login": "boeddeker",
      "id": 13744128,
      "node_id": "MDQ6VXNlcjEzNzQ0MTI4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13744128?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boeddeker",
      "html_url": "https://github.com/boeddeker",
      "followers_url": "https://api.github.com/users/boeddeker/followers",
      "following_url": "https://api.github.com/users/boeddeker/following{/other_user}",
      "gists_url": "https://api.github.com/users/boeddeker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boeddeker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boeddeker/subscriptions",
      "organizations_url": "https://api.github.com/users/boeddeker/orgs",
      "repos_url": "https://api.github.com/users/boeddeker/repos",
      "events_url": "https://api.github.com/users/boeddeker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boeddeker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-09T09:52:45Z",
    "updated_at": "2017-12-09T09:52:45Z",
    "author_association": "NONE",
    "body": "In the case where I hit the problem, I had strings that are not convertible to floats. \r\nYour example highlights the error better.\r\n\r\nConverting strings to floats would reduce the occurrence of this bug.\r\nMaybe handling strings need another solution.\r\n\r\nAn idea: The strings (labels) can be stored in `xticklabels`.\r\nIf the labels are string inside the `_get_xticks` the `xticklabels` are read, append with missing labels and the `xticks` are calculated from them. \r\nThis would require the ax object in `_get_xticks`.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350697983",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350697983",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350697983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDY5Nzk4Mw==",
    "user": {
      "login": "boeddeker",
      "id": 13744128,
      "node_id": "MDQ6VXNlcjEzNzQ0MTI4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13744128?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boeddeker",
      "html_url": "https://github.com/boeddeker",
      "followers_url": "https://api.github.com/users/boeddeker/followers",
      "following_url": "https://api.github.com/users/boeddeker/following{/other_user}",
      "gists_url": "https://api.github.com/users/boeddeker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boeddeker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boeddeker/subscriptions",
      "organizations_url": "https://api.github.com/users/boeddeker/orgs",
      "repos_url": "https://api.github.com/users/boeddeker/repos",
      "events_url": "https://api.github.com/users/boeddeker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boeddeker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T11:28:39Z",
    "updated_at": "2017-12-11T11:28:39Z",
    "author_association": "NONE",
    "body": "I have now example code that demonstrates my idea.\r\n\r\n```python\r\n%matplotlib inline\r\nimport pandas as pd\r\n\r\ndf1 = pd.DataFrame([{'x': 'a', 'y': 1}, {'x': 'b', 'y': 2}])\r\ndf2 = pd.DataFrame([{'x': 'b', 'y': 3}, {'x': 'a', 'y': 4}])\r\n\r\ndef df_xstr_plot(df, x=None, y=None, ax=None):\r\n    df = df.copy()\r\n    \r\n    if ax is not None:\r\n        tick_labels = list(map(\r\n            (lambda tick_label: tick_label.get_text()), \r\n            ax.get_xticklabels()\r\n        ))\r\n    else:\r\n        tick_labels = []\r\n    \r\n    for new_tick_label in df[x]:\r\n        if new_tick_label not in tick_labels:\r\n            tick_labels.append(new_tick_label)\r\n            \r\n    # map str to int\r\n    mapping = {tick_label: i for i, tick_label in enumerate(tick_labels)}\r\n    df['x'] = df['x'].apply(lambda x: mapping[x])\r\n    \r\n    ax = df.plot(x, y, ax=ax)\r\n    \r\n    # Assign the correct xticklabels\r\n    ax.set_xticks(list(range(len(tick_labels))))\r\n    ax.set_xticklabels(tick_labels)\r\n    \r\n    return ax\r\n\r\nax = None\r\nax = df_xstr_plot(df1, 'x', 'y', ax=ax)\r\nax = df_xstr_plot(df2, 'x', 'y', ax=ax)  # correct\r\n\r\nax = None\r\nax = df1.plot('x', 'y', ax=ax)\r\nax = df2.plot('x', 'y', ax=ax)  # wrong\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350706859",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350706859",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350706859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDcwNjg1OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T12:10:28Z",
    "updated_at": "2017-12-11T12:10:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "This seems a bit complex. I don't think pandas should be doing anything special here, we should rely on matplotlib to handle all the string <-> position logic."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350714622",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18687#issuecomment-350714622",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18687",
    "id": 350714622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDcxNDYyMg==",
    "user": {
      "login": "boeddeker",
      "id": 13744128,
      "node_id": "MDQ6VXNlcjEzNzQ0MTI4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13744128?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boeddeker",
      "html_url": "https://github.com/boeddeker",
      "followers_url": "https://api.github.com/users/boeddeker/followers",
      "following_url": "https://api.github.com/users/boeddeker/following{/other_user}",
      "gists_url": "https://api.github.com/users/boeddeker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boeddeker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boeddeker/subscriptions",
      "organizations_url": "https://api.github.com/users/boeddeker/orgs",
      "repos_url": "https://api.github.com/users/boeddeker/repos",
      "events_url": "https://api.github.com/users/boeddeker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boeddeker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T12:47:02Z",
    "updated_at": "2017-12-11T12:47:02Z",
    "author_association": "NONE",
    "body": "You are right, I forgot to test if matplotlib can handle strings. \r\nSo the solution would be to add a further branch to `_get_xticks` for strings, that does not convert the strings to int.\r\n\r\n```python\r\n%matplotlib inline\r\nimport pandas as pd\r\nimport matplotlib.pylab as plt\r\n\r\ndf1 = pd.DataFrame([{'x': 'a', 'y': 1}, {'x': 'b', 'y': 2}])\r\ndf2 = pd.DataFrame([{'x': 'b', 'y': 3}, {'x': 'a', 'y': 4}])\r\n\r\ndef df_xstr_plot(df, x=None, y=None, ax=None):\r\n    if ax is None:\r\n        figure, ax = plt.subplots(1, 1)\r\n    \r\n    ax.plot(df[x], df[y])\r\n    return ax\r\n\r\nax = None\r\nax = df_xstr_plot(df1, 'x', 'y', ax=ax)\r\nax = df_xstr_plot(df2, 'x', 'y', ax=ax)  # correct\r\n\r\nax = None\r\nax = df1.plot('x', 'y', ax=ax)\r\nax = df2.plot('x', 'y', ax=ax)  # wrong\r\n```"
  }
]
