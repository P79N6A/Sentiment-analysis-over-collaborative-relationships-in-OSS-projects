[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/94388561",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9946#issuecomment-94388561",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9946",
    "id": 94388561,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0Mzg4NTYx",
    "user": {
      "login": "ruoyu0088",
      "id": 826871,
      "node_id": "MDQ6VXNlcjgyNjg3MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/826871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ruoyu0088",
      "html_url": "https://github.com/ruoyu0088",
      "followers_url": "https://api.github.com/users/ruoyu0088/followers",
      "following_url": "https://api.github.com/users/ruoyu0088/following{/other_user}",
      "gists_url": "https://api.github.com/users/ruoyu0088/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ruoyu0088/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ruoyu0088/subscriptions",
      "organizations_url": "https://api.github.com/users/ruoyu0088/orgs",
      "repos_url": "https://api.github.com/users/ruoyu0088/repos",
      "events_url": "https://api.github.com/users/ruoyu0088/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ruoyu0088/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-20T08:11:31Z",
    "updated_at": "2015-04-20T08:11:31Z",
    "author_association": "NONE",
    "body": "I debuged this and found the different between `df.copy()` and `df[:]`:\n\n```\nimport pandas as pd\nimport numpy as np\n\ndef f1(x):\n    return x.copy()\n\ndef f2(x):\n    return x[:]\n\ndf = pd.DataFrame({\"g\":[1, 2, 2, 2], \"a\":[1, 2, 3, 4], \"b\":[5, 6, 7, 8]})\n\nprint f1(df).index._id is df.index._id  #True\nprint f2(df).index._id is df.index._id  #False\n```\n\nalthough `df.copy().index` is not `df.index`, the `_id` attribute is the same. \n\n```\n(df1, df2), _ = pd.lib.apply_frame_axis0(df, f1, [1, 2], np.array([0, 1], np.int64), np.array([1, 4], np.int64))\nprint df1.index._id is df2.index._id #True\n```\n\nthe `apply()` calls `apply_frame_axis0()` to do the job, the index of the result DataFrames share the same `_id` object. This will cause `concat()` raise the `ValueError: Shape of passed values is (3, 4), indices imply (3, 2)` error.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/94422800",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9946#issuecomment-94422800",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9946",
    "id": 94422800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0NDIyODAw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-20T11:00:34Z",
    "updated_at": "2015-04-20T11:00:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "you mentioned this in #9867  but we'll take this as a bug-report.\n\nYes these should do the same.\n\nThe entire point of the inference is to guess whether the user is mutating the input or not. IMHO this should be banned, but that ship has sailed.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403166474",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9946#issuecomment-403166474",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9946",
    "id": 403166474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzE2NjQ3NA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-06T23:01:18Z",
    "updated_at": "2018-07-06T23:01:18Z",
    "author_association": "MEMBER",
    "body": "So this doesn't raise an error anymore on master, but you still get an inconsistent output:\r\n\r\n```\r\nIn [111]: df = pd.DataFrame({\"g\":[1, 2, 1, 2], \"a\":[1, 2, 3, 4], \"b\":[5, 6, 7, 8]})\r\n\r\nIn [112]: df.groupby(\"g\").apply(lambda x:x)\r\nOut[112]: \r\n   a  b  g\r\n0  1  5  1\r\n1  2  6  2\r\n2  3  7  1\r\n3  4  8  2\r\n\r\nIn [113]: df.groupby(\"g\").apply(lambda x:x.copy())\r\nOut[113]: \r\n     a  b  g\r\ng           \r\n1 0  1  5  1\r\n  2  3  7  1\r\n2 1  2  6  2\r\n  3  4  8  2\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403186451",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9946#issuecomment-403186451",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9946",
    "id": 403186451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzE4NjQ1MQ==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-07T03:58:57Z",
    "updated_at": "2018-07-07T03:58:57Z",
    "author_association": "MEMBER",
    "body": "close in favor of #14927?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403240399",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9946#issuecomment-403240399",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9946",
    "id": 403240399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI0MDM5OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-07T20:15:27Z",
    "updated_at": "2018-07-07T20:15:27Z",
    "author_association": "MEMBER",
    "body": "Yep"
  }
]
