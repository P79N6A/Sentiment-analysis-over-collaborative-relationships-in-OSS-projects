[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335487419",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-335487419",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 335487419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTQ4NzQxOQ==",
    "user": {
      "login": "michalsustr",
      "id": 1756494,
      "node_id": "MDQ6VXNlcjE3NTY0OTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1756494?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michalsustr",
      "html_url": "https://github.com/michalsustr",
      "followers_url": "https://api.github.com/users/michalsustr/followers",
      "following_url": "https://api.github.com/users/michalsustr/following{/other_user}",
      "gists_url": "https://api.github.com/users/michalsustr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michalsustr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michalsustr/subscriptions",
      "organizations_url": "https://api.github.com/users/michalsustr/orgs",
      "repos_url": "https://api.github.com/users/michalsustr/repos",
      "events_url": "https://api.github.com/users/michalsustr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michalsustr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T14:17:23Z",
    "updated_at": "2017-10-10T14:17:23Z",
    "author_association": "NONE",
    "body": "This seems like an easy issue to fix, I can create a PR if this is indeed confirmed."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335488553",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-335488553",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 335488553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTQ4ODU1Mw==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T14:20:43Z",
    "updated_at": "2017-10-10T14:20:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you try on master?  There's a chance this is fixed by some of the recent inference changes, if it isn't not a PR would be welcome"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335492974",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-335492974",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 335492974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTQ5Mjk3NA==",
    "user": {
      "login": "michalsustr",
      "id": 1756494,
      "node_id": "MDQ6VXNlcjE3NTY0OTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1756494?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michalsustr",
      "html_url": "https://github.com/michalsustr",
      "followers_url": "https://api.github.com/users/michalsustr/followers",
      "following_url": "https://api.github.com/users/michalsustr/following{/other_user}",
      "gists_url": "https://api.github.com/users/michalsustr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michalsustr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michalsustr/subscriptions",
      "organizations_url": "https://api.github.com/users/michalsustr/orgs",
      "repos_url": "https://api.github.com/users/michalsustr/repos",
      "events_url": "https://api.github.com/users/michalsustr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michalsustr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T14:34:14Z",
    "updated_at": "2017-10-10T14:34:14Z",
    "author_association": "NONE",
    "body": "I'm building it now... but `$ python setup.py develop` is super slow, runs only one process..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335494759",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-335494759",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 335494759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTQ5NDc1OQ==",
    "user": {
      "login": "michalsustr",
      "id": 1756494,
      "node_id": "MDQ6VXNlcjE3NTY0OTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1756494?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michalsustr",
      "html_url": "https://github.com/michalsustr",
      "followers_url": "https://api.github.com/users/michalsustr/followers",
      "following_url": "https://api.github.com/users/michalsustr/following{/other_user}",
      "gists_url": "https://api.github.com/users/michalsustr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michalsustr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michalsustr/subscriptions",
      "organizations_url": "https://api.github.com/users/michalsustr/orgs",
      "repos_url": "https://api.github.com/users/michalsustr/repos",
      "events_url": "https://api.github.com/users/michalsustr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michalsustr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T14:39:36Z",
    "updated_at": "2017-10-10T14:39:36Z",
    "author_association": "NONE",
    "body": "Confirmed.\r\n\r\n```\r\n>>> import pandas as pd\r\n>>> df = pd.DataFrame([[0]], dtype=\"datetime64[ns]\")\r\n>>> df\r\n           0\r\n0 1970-01-01\r\n>>> df[0] - pd.to_datetime(\"nat\")\r\n0   NaT\r\nName: 0, dtype: datetime64[ns]\r\n>>> df[0] - pd.to_datetime(\"2017\")\r\n0   -17167 days\r\nName: 0, dtype: timedelta64[ns]\r\n```\r\n#### Output of `pd.show_versions()`:\r\n\r\n<details>\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: d12a7a01888258a4c95fa7003916859f110075f1\r\npython: 3.6.2.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.10.0-35-generic\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_US.UTF-8\r\nLOCALE: en_US.UTF-8\r\n\r\npandas: 0.21.0.dev+613.gd12a7a018\r\npytest: 3.2.3\r\npip: 9.0.1\r\nsetuptools: 36.5.0\r\nCython: 0.27.1\r\nnumpy: 1.13.3\r\nscipy: None\r\npyarrow: None\r\nxarray: None\r\nIPython: None\r\nsphinx: None\r\npatsy: None\r\ndateutil: 2.6.1\r\npytz: 2017.2\r\nblosc: None\r\nbottleneck: None\r\ntables: None\r\nnumexpr: None\r\nfeather: None\r\nmatplotlib: None\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: None\r\nsqlalchemy: None\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.9.6\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\n</details>"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335723943",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-335723943",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 335723943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTcyMzk0Mw==",
    "user": {
      "login": "michalsustr",
      "id": 1756494,
      "node_id": "MDQ6VXNlcjE3NTY0OTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1756494?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michalsustr",
      "html_url": "https://github.com/michalsustr",
      "followers_url": "https://api.github.com/users/michalsustr/followers",
      "following_url": "https://api.github.com/users/michalsustr/following{/other_user}",
      "gists_url": "https://api.github.com/users/michalsustr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michalsustr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michalsustr/subscriptions",
      "organizations_url": "https://api.github.com/users/michalsustr/orgs",
      "repos_url": "https://api.github.com/users/michalsustr/repos",
      "events_url": "https://api.github.com/users/michalsustr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michalsustr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-11T08:08:31Z",
    "updated_at": "2017-10-11T08:08:31Z",
    "author_association": "NONE",
    "body": "Strangely, the following works correctly:\r\n```\r\nIn [15]: s = pd.Series(pd.date_range('2012-1-1', periods=1, freq='D'))\r\n\r\nIn [17]: s.shift()\r\nOut[17]: \r\n0   NaT\r\ndtype: datetime64[ns]\r\n\r\nIn [16]: s - s.shift()\r\n    ...: \r\nOut[16]: \r\n0   NaT\r\ndtype: timedelta64[ns]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335724821",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-335724821",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 335724821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTcyNDgyMQ==",
    "user": {
      "login": "michalsustr",
      "id": 1756494,
      "node_id": "MDQ6VXNlcjE3NTY0OTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1756494?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michalsustr",
      "html_url": "https://github.com/michalsustr",
      "followers_url": "https://api.github.com/users/michalsustr/followers",
      "following_url": "https://api.github.com/users/michalsustr/following{/other_user}",
      "gists_url": "https://api.github.com/users/michalsustr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michalsustr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michalsustr/subscriptions",
      "organizations_url": "https://api.github.com/users/michalsustr/orgs",
      "repos_url": "https://api.github.com/users/michalsustr/repos",
      "events_url": "https://api.github.com/users/michalsustr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michalsustr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-11T08:11:23Z",
    "updated_at": "2017-10-11T08:11:23Z",
    "author_association": "NONE",
    "body": "So it seems that if the datetime is inside of `Series` the behaviour is correct, but if it is a scalar value improper type is casted:\r\n```\r\nIn [24]:  df = pd.DataFrame([[0], [1]], dtype=\"datetime64[ns]\")\r\n\r\nIn [26]: df[0] - pd.Series(pd.to_datetime(\"nat\"))\r\nOut[26]: \r\n0   NaT\r\n1   NaT\r\ndtype: timedelta64[ns]\r\n\r\nIn [27]: df[0] - pd.to_datetime(\"nat\")\r\nOut[27]: \r\n0   NaT\r\n1   NaT\r\nName: 0, dtype: datetime64[ns]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/336332177",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-336332177",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 336332177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjMzMjE3Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-13T02:23:03Z",
    "updated_at": "2017-10-13T02:23:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nIn [22]: df = pd.DataFrame([[0]], dtype=\"datetime64[ns]\")\r\n\r\nIn [23]: df\r\nOut[23]: \r\n           0\r\n0 1970-01-01\r\n\r\nIn [24]: df[0] - pd.to_datetime(\"nat\")\r\nOut[24]: \r\n0   NaT\r\nName: 0, dtype: datetime64[ns]\r\n\r\nIn [25]: df[0] - pd.to_datetime(\"2017\")\r\nOut[25]: \r\n0   -17167 days\r\nName: 0, dtype: timedelta64[ns]\r\n\r\nIn [26]: pd.to_datetime(\"2017\")\r\nOut[26]: Timestamp('2017-01-01 00:00:00')\r\n\r\n\r\n```\r\n@michalsustr what do you think is wrong here?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350009054",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-350009054",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 350009054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDAwOTA1NA==",
    "user": {
      "login": "jaksmid",
      "id": 3618465,
      "node_id": "MDQ6VXNlcjM2MTg0NjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3618465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jaksmid",
      "html_url": "https://github.com/jaksmid",
      "followers_url": "https://api.github.com/users/jaksmid/followers",
      "following_url": "https://api.github.com/users/jaksmid/following{/other_user}",
      "gists_url": "https://api.github.com/users/jaksmid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jaksmid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jaksmid/subscriptions",
      "organizations_url": "https://api.github.com/users/jaksmid/orgs",
      "repos_url": "https://api.github.com/users/jaksmid/repos",
      "events_url": "https://api.github.com/users/jaksmid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jaksmid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T15:52:50Z",
    "updated_at": "2017-12-07T15:52:50Z",
    "author_association": "NONE",
    "body": "It seems the issue is now fixed, at least for pandas `0.20.3`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350058485",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17837#issuecomment-350058485",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17837",
    "id": 350058485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDA1ODQ4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T18:46:46Z",
    "updated_at": "2017-12-07T18:46:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u do a PR with some validation tests?"
  }
]
