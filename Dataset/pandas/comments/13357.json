[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/223675582",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-223675582",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 223675582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzY3NTU4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-03T19:43:32Z",
    "updated_at": "2016-06-03T19:43:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, that seems odd. in any event try with master, you can now pass an integer to `check_less_precise` (it still breaks but more flexibility).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/223677631",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-223677631",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 223677631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzY3NzYzMQ==",
    "user": {
      "login": "jaysw",
      "id": 941147,
      "node_id": "MDQ6VXNlcjk0MTE0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/941147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jaysw",
      "html_url": "https://github.com/jaysw",
      "followers_url": "https://api.github.com/users/jaysw/followers",
      "following_url": "https://api.github.com/users/jaysw/following{/other_user}",
      "gists_url": "https://api.github.com/users/jaysw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jaysw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jaysw/subscriptions",
      "organizations_url": "https://api.github.com/users/jaysw/orgs",
      "repos_url": "https://api.github.com/users/jaysw/repos",
      "events_url": "https://api.github.com/users/jaysw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jaysw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-03T19:51:31Z",
    "updated_at": "2016-06-03T19:51:31Z",
    "author_association": "NONE",
    "body": "Hi, thanks for the speedy response! Looking at the master branch, we will see the same problem:\n\nhttps://github.com/pydata/pandas/blob/master/pandas/src/testing.pyx#L197\n\n```\ndecimal_almost_equal(1, fb / fa, decimal)\n```\n\nThe numbers (fa, fb) are divided and compared to 1. Which is interesting, but not quite the same as just comparing the parts after the decimal point (as the docstring suggests). Perhaps I'm just reading the docs incorrectly. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/223727891",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-223727891",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 223727891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzcyNzg5MQ==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-04T01:21:30Z",
    "updated_at": "2016-06-04T01:21:49Z",
    "author_association": "MEMBER",
    "body": "+1 to always compare using specified precision (not `fb / fa`).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319308522",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-319308522",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 319308522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTMwODUyMg==",
    "user": {
      "login": "mmngreco",
      "id": 6231413,
      "node_id": "MDQ6VXNlcjYyMzE0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6231413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mmngreco",
      "html_url": "https://github.com/mmngreco",
      "followers_url": "https://api.github.com/users/mmngreco/followers",
      "following_url": "https://api.github.com/users/mmngreco/following{/other_user}",
      "gists_url": "https://api.github.com/users/mmngreco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mmngreco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mmngreco/subscriptions",
      "organizations_url": "https://api.github.com/users/mmngreco/orgs",
      "repos_url": "https://api.github.com/users/mmngreco/repos",
      "events_url": "https://api.github.com/users/mmngreco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mmngreco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T08:46:57Z",
    "updated_at": "2017-08-01T08:49:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "The problem is still present: \r\n\r\nHere some examples based on the first comment.\r\n\r\n````\r\n>>> import pandas as pd\r\n>>> pd._libs.testing.assert_almost_equal(0.000011, 0.000012, check_less_precise=True)\r\nTraceback (most recent call last):\r\n  File \"C:\\Anaconda3\\envs\\worker\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-12-20c1c2335303>\", line 1, in <module>\r\n    pd._libs.testing.assert_almost_equal(0.000011, 0.000012, check_less_precise=True)\r\n  File \"pandas/_libs/testing.pyx\", line 59, in pandas._libs.testing.assert_almost_equal (pandas\\_libs\\testing.c:4156)\r\n  File \"pandas/_libs/testing.pyx\", line 209, in pandas._libs.testing.assert_almost_equal (pandas\\_libs\\testing.c:3863)\r\nAssertionError: expected 0.00001 but got 0.00001, with decimal 3\r\n\r\n>>> pd._libs.testing.assert_almost_equal(0.000011, 0.000012, check_less_precise=2)\r\nTraceback (most recent call last):\r\n  File \"C:\\Anaconda3\\envs\\worker\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-13-4fe4a2043aa2>\", line 1, in <module>\r\n    pd._libs.testing.assert_almost_equal(0.000011, 0.000012, check_less_precise=2)\r\n  File \"pandas/_libs/testing.pyx\", line 59, in pandas._libs.testing.assert_almost_equal (pandas\\_libs\\testing.c:4156)\r\n  File \"pandas/_libs/testing.pyx\", line 209, in pandas._libs.testing.assert_almost_equal (pandas\\_libs\\testing.c:3863)\r\nAssertionError: expected 0.00001 but got 0.00001, with decimal 2\r\n\r\n>>> pd._libs.testing.assert_almost_equal(0.000011, 0.000012, check_less_precise=1)\r\nTraceback (most recent call last):\r\n  File \"C:\\Anaconda3\\envs\\worker\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-14-15b3658bbb6c>\", line 1, in <module>\r\n    pd._libs.testing.assert_almost_equal(0.000011, 0.000012, check_less_precise=1)\r\n  File \"pandas/_libs/testing.pyx\", line 59, in pandas._libs.testing.assert_almost_equal (pandas\\_libs\\testing.c:4156)\r\n  File \"pandas/_libs/testing.pyx\", line 209, in pandas._libs.testing.assert_almost_equal (pandas\\_libs\\testing.c:3863)\r\nAssertionError: expected 0.00001 but got 0.00001, with decimal 1\r\n````\r\n\r\nI don't know how to make this works, in addition, I find the message a little weird.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319336177",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-319336177",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 319336177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTMzNjE3Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T10:46:17Z",
    "updated_at": "2017-08-01T10:46:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "> The problem is still present:\r\n\r\nand this is an open issue. you are welcome to submit a PR to fix."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319947239",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-319947239",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 319947239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTk0NzIzOQ==",
    "user": {
      "login": "NewbiZ",
      "id": 224676,
      "node_id": "MDQ6VXNlcjIyNDY3Ng==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/224676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NewbiZ",
      "html_url": "https://github.com/NewbiZ",
      "followers_url": "https://api.github.com/users/NewbiZ/followers",
      "following_url": "https://api.github.com/users/NewbiZ/following{/other_user}",
      "gists_url": "https://api.github.com/users/NewbiZ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NewbiZ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NewbiZ/subscriptions",
      "organizations_url": "https://api.github.com/users/NewbiZ/orgs",
      "repos_url": "https://api.github.com/users/NewbiZ/repos",
      "events_url": "https://api.github.com/users/NewbiZ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NewbiZ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-03T11:51:14Z",
    "updated_at": "2017-08-03T12:03:55Z",
    "author_association": "NONE",
    "body": "I would like to fix it but I not 100% sure that I understand the rationale of the code.\r\n\r\nWhen using\r\n\r\n`decimal_almost_equal(1, fb / fa, decimal)`\r\n\r\ninstead of \r\n\r\n`decimal_almost_equal(fa, fb, decimal)`\r\n\r\nFrom my understanding, the idea here is that the _comparison precision_ (i.e. represented by `decimal` here) is expressed relatively to `1`, and that is scaled along with the numbers to compare. I guess the goal is to be able to provide a relative precision and have it work with numbers spanning very different ranges.\r\nWhile interesting, it is a bit confusing, and not clearly specified in the documentation.\r\n\r\nShould we update the documentation or the code? I would vote to change the code. The whole point of providing the precision is that the user _knows_ what is the correct epsilon to use with the values that are being compared.\r\n\r\nDid I understood the rationale of the code? Are you OK with a PR to change the code?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/320010203",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-320010203",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 320010203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDAxMDIwMw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-03T15:50:01Z",
    "updated_at": "2017-08-03T15:50:01Z",
    "author_association": "MEMBER",
    "body": "@NewbiZ : PR changes are welcome so long as they fix the issue AND not break existing tests! :smile: "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/320075424",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13357#issuecomment-320075424",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13357",
    "id": 320075424,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDA3NTQyNA==",
    "user": {
      "login": "mmngreco",
      "id": 6231413,
      "node_id": "MDQ6VXNlcjYyMzE0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6231413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mmngreco",
      "html_url": "https://github.com/mmngreco",
      "followers_url": "https://api.github.com/users/mmngreco/followers",
      "following_url": "https://api.github.com/users/mmngreco/following{/other_user}",
      "gists_url": "https://api.github.com/users/mmngreco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mmngreco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mmngreco/subscriptions",
      "organizations_url": "https://api.github.com/users/mmngreco/orgs",
      "repos_url": "https://api.github.com/users/mmngreco/repos",
      "events_url": "https://api.github.com/users/mmngreco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mmngreco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-03T20:05:00Z",
    "updated_at": "2017-08-03T20:05:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I'm Sorry, maybe I did not pick the right words, I just wanted to leave a reminder and add a couple of things. It wasn't a complaint at all. You're right, I tried to correct it but it was difficult for me to understand the why of some parts of this function. \r\n\r\nBests, "
  }
]
