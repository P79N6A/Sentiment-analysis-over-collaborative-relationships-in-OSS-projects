[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338602500",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338602500",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338602500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODYwMjUwMA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T09:33:43Z",
    "updated_at": "2017-10-23T09:33:43Z",
    "author_association": "MEMBER",
    "body": "@zero-jack Thanks for the report! \r\nI can confirm this behaviour."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338603262",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338603262",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338603262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODYwMzI2Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T09:36:42Z",
    "updated_at": "2017-10-23T09:36:42Z",
    "author_association": "MEMBER",
    "body": "Somehow the `eval` is returning an 'invalid' int64 dtype:\r\n\r\nFor a normal series (like your original data) for int data the dtype is giving True when checking it is a numpy dtype with `issubclass`:\r\n\r\n```\r\nIn [52]: s = pd.Series([1, 2, 3])\r\n\r\nIn [53]: s.dtype\r\nOut[53]: dtype('int64')\r\n\r\nIn [54]: issubclass(s.dtype.type, np.int64)\r\nOut[54]: True\r\n```\r\n\r\nBut for a series that is the result of `eval` it is not, although the dtypes look exactly the same:\r\n```\r\nIn [56]: df = pd.DataFrame({'col1': np.random.randint(10, size=5), 'col2': np.random.randint(10, size=5)})\r\n\r\nIn [58]: df.eval('col1 - col2')\r\nOut[58]: \r\n0   -6\r\n1   -4\r\n2    1\r\n3    7\r\n4    4\r\ndtype: int64\r\n\r\nIn [59]: df.eval('col1 - col2').dtype\r\nOut[59]: dtype('int64')\r\n\r\nIn [60]: df.eval('col1 - col2').dtype.type\r\nOut[60]: numpy.int64\r\n\r\nIn [61]: issubclass(df.eval('col1 - col2').dtype.type, np.int64)\r\nOut[61]: False\r\n```\r\n\r\nBut I am not familiar enough with the `eval` internals to shed more light on this.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338614076",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338614076",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338614076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODYxNDA3Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T10:18:06Z",
    "updated_at": "2017-10-23T10:18:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "works for me on macosx; It might be a byteorder issue, e.g.\r\n\r\n```\r\nIn [18]: df.eval('col1-col2').dtype.byteorder\r\nOut[18]: '='\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338614620",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338614620",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338614620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODYxNDYyMA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T10:20:33Z",
    "updated_at": "2017-10-23T10:20:33Z",
    "author_association": "MEMBER",
    "body": "Hmm, I don't see a difference based on that between the two cases:\r\n\r\n```\r\nIn [70]: df.eval('col1 - col2').dtype.byteorder\r\nOut[70]: '='\r\n\r\nIn [71]: s.dtype.byteorder\r\nOut[71]: '='\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338618427",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338618427",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338618427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODYxODQyNw==",
    "user": {
      "login": "Licht-T",
      "id": 1455030,
      "node_id": "MDQ6VXNlcjE0NTUwMzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1455030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Licht-T",
      "html_url": "https://github.com/Licht-T",
      "followers_url": "https://api.github.com/users/Licht-T/followers",
      "following_url": "https://api.github.com/users/Licht-T/following{/other_user}",
      "gists_url": "https://api.github.com/users/Licht-T/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Licht-T/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Licht-T/subscriptions",
      "organizations_url": "https://api.github.com/users/Licht-T/orgs",
      "repos_url": "https://api.github.com/users/Licht-T/repos",
      "events_url": "https://api.github.com/users/Licht-T/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Licht-T/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T10:37:22Z",
    "updated_at": "2017-10-23T11:25:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is the pretty strange.\r\nIt works well on my Mac and Py 2.7 or 3.6.\r\nBut it doesn't on my Windows and Py 2.7."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338644538",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338644538",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338644538,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODY0NDUzOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T12:35:54Z",
    "updated_at": "2017-10-23T12:35:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "this looks ok on linux / 3.5 as well"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338645379",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338645379",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338645379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODY0NTM3OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T12:39:00Z",
    "updated_at": "2017-10-23T12:39:00Z",
    "author_association": "MEMBER",
    "body": "What I posted above (so showing the bug) was on linux / 3.5"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338646406",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338646406",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338646406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODY0NjQwNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T12:42:33Z",
    "updated_at": "2017-10-23T12:42:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "> this looks ok on linux / 3.5 as well\r\n numexpr 2.6.2 / numpy 1.12. (on linux 3.5)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338649057",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338649057",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338649057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODY0OTA1Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T12:53:12Z",
    "updated_at": "2017-10-23T12:53:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is the same as #17945"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338667017",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338667017",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338667017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODY2NzAxNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T13:56:13Z",
    "updated_at": "2017-10-23T13:56:13Z",
    "author_association": "MEMBER",
    "body": "@jreback you linked to this issue, so probably wrong copy paste"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338667727",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17945#issuecomment-338667727",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17945",
    "id": 338667727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODY2NzcyNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-23T13:58:35Z",
    "updated_at": "2017-10-23T13:58:35Z",
    "author_association": "MEMBER",
    "body": "For me it is numpy 1.13.3, numexpr 2.6.2 (from conda-forge) on python 3.5\r\n\r\n```\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.5.4.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.4.0-97-generic\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_US.UTF-8\r\nLOCALE: en_US.UTF-8\r\n\r\npandas: 0.21.0rc1+22.g5687f9e\r\npytest: 3.2.0\r\npip: 9.0.1\r\nsetuptools: 36.3.0\r\nCython: 0.26\r\nnumpy: 1.13.3\r\nscipy: 0.19.1\r\npyarrow: 0.5.0\r\nxarray: 0.9.5\r\nIPython: 6.0.0\r\nsphinx: 1.5.6\r\npatsy: 0.4.1\r\ndateutil: 2.6.1\r\npytz: 2017.2\r\nblosc: None\r\nbottleneck: 1.2.1\r\ntables: 3.4.2\r\nnumexpr: 2.6.2\r\n...\r\n```"
  }
]
