[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285194340",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15628#issuecomment-285194340",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15628",
    "id": 285194340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTE5NDM0MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-08T22:43:23Z",
    "updated_at": "2017-03-08T22:43:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "please show a copy pastable example "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285195896",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15628#issuecomment-285195896",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15628",
    "id": 285195896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTE5NTg5Ng==",
    "user": {
      "login": "NelsonAndrew",
      "id": 5093733,
      "node_id": "MDQ6VXNlcjUwOTM3MzM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5093733?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NelsonAndrew",
      "html_url": "https://github.com/NelsonAndrew",
      "followers_url": "https://api.github.com/users/NelsonAndrew/followers",
      "following_url": "https://api.github.com/users/NelsonAndrew/following{/other_user}",
      "gists_url": "https://api.github.com/users/NelsonAndrew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NelsonAndrew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NelsonAndrew/subscriptions",
      "organizations_url": "https://api.github.com/users/NelsonAndrew/orgs",
      "repos_url": "https://api.github.com/users/NelsonAndrew/repos",
      "events_url": "https://api.github.com/users/NelsonAndrew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NelsonAndrew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-08T22:49:56Z",
    "updated_at": "2017-03-08T22:49:56Z",
    "author_association": "NONE",
    "body": "updated to copy pastable example"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285212926",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15628#issuecomment-285212926",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15628",
    "id": 285212926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTIxMjkyNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-09T00:14:47Z",
    "updated_at": "2017-03-09T00:14:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "The issue is ``.apply`` has to try to figure out what you are returning and how that maps to the starting data. \r\n\r\nreturning lists from a function are subject to interpretation and thus a single element list is ambiguous. You can return a tuple instead which works unambiguously.\r\n\r\nNote that returning non-scalars is generally not recommended and is not efficiently supported.\r\n\r\n```\r\nIn [5]: pd.DataFrame({'col_1':['val_1','val_2','val_3']}).apply(lambda row: [1, 2], axis=1)\r\nOut[5]: \r\n0    [1, 2]\r\n1    [1, 2]\r\n2    [1, 2]\r\ndtype: object\r\n\r\nIn [6]: pd.DataFrame({'col_1':['val_1','val_2','val_3']}).apply(lambda row: [1], axis=1)\r\nOut[6]: \r\n   col_1\r\n0      1\r\n1      1\r\n2      1\r\n\r\nIn [8]: pd.DataFrame({'col_1':['val_1','val_2','val_3']}).apply(lambda row: (1,), axis=1)\r\nOut[8]: \r\n0    (1,)\r\n1    (1,)\r\n2    (1,)\r\ndtype: object\r\n\r\n```\r\n\r\nclosing as not a bug / won't fix."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285213534",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15628#issuecomment-285213534",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15628",
    "id": 285213534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTIxMzUzNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-09T00:18:15Z",
    "updated_at": "2017-03-09T00:18:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "a bit more commentary in https://github.com/pandas-dev/pandas/issues/14370"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285218914",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15628#issuecomment-285218914",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15628",
    "id": 285218914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTIxODkxNA==",
    "user": {
      "login": "NelsonAndrew",
      "id": 5093733,
      "node_id": "MDQ6VXNlcjUwOTM3MzM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5093733?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NelsonAndrew",
      "html_url": "https://github.com/NelsonAndrew",
      "followers_url": "https://api.github.com/users/NelsonAndrew/followers",
      "following_url": "https://api.github.com/users/NelsonAndrew/following{/other_user}",
      "gists_url": "https://api.github.com/users/NelsonAndrew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NelsonAndrew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NelsonAndrew/subscriptions",
      "organizations_url": "https://api.github.com/users/NelsonAndrew/orgs",
      "repos_url": "https://api.github.com/users/NelsonAndrew/repos",
      "events_url": "https://api.github.com/users/NelsonAndrew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NelsonAndrew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-09T00:49:17Z",
    "updated_at": "2017-03-09T00:49:17Z",
    "author_association": "NONE",
    "body": "Thanks for the feedback."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285294516",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15628#issuecomment-285294516",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15628",
    "id": 285294516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTI5NDUxNg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-09T09:05:27Z",
    "updated_at": "2017-03-09T09:05:27Z",
    "author_association": "MEMBER",
    "body": "@jreback I agree that `apply` does a lot of guessing in the default case, and it is sometimes difficult to predict what the output will be. But isn't that the point of the keyword? To be able to specify this and be sure about the resulting shape? \r\nIn any case, if this is a won't fix, then the documentation is wrong."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285446126",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15628#issuecomment-285446126",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15628",
    "id": 285446126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTQ0NjEyNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-09T18:58:43Z",
    "updated_at": "2017-03-09T18:58:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nreduce : boolean or None, default None\r\n    Try to apply reduction procedures. If the DataFrame is empty,\r\n    apply will use reduce to determine whether the result should be a\r\n    Series or a DataFrame. If reduce is None (the default), apply's\r\n    return value will be guessed by calling func an empty Series (note:\r\n    while guessing, exceptions raised by func will be ignored). If\r\n    reduce is True a Series will always be returned, and if False a\r\n    DataFrame will always be returned.\r\n```\r\n\r\nI guess the doc-string is misleading. ``reduce`` really only applies to empty frames and has no effect otherwise, which it says in the end.\r\n\r\nI suppose some nice examples of what *not* to do in .apply (like returning a 1-element list and expecting it work, rather returning tuples) might be in order.\r\n\r\n@NelsonAndrew I'll re-open as a doc issue.\r\n\r\n``.apply`` is already pretty magical, I think it *could* use a comprehensive fix but that is likely to break back-compat."
  }
]
