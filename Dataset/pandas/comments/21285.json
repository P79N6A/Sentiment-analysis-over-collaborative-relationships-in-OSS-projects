[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/393892526",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21285#issuecomment-393892526",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21285",
    "id": 393892526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mzg5MjUyNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-01T14:10:14Z",
    "updated_at": "2018-06-01T14:10:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "what does the asv look like? eg the perf improvement"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/393897245",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21285#issuecomment-393897245",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21285",
    "id": 393897245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mzg5NzI0NQ==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-06-01T14:26:24Z",
    "updated_at": "2018-06-13T08:50:45Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21285?src=pr&el=h1) Report\n> Merging [#21285](https://codecov.io/gh/pandas-dev/pandas/pull/21285?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/ab668b0a56a9f2aee959bde787e9a0af4068d7a7?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/21285/graphs/tree.svg?src=pr&token=eZ4WkYLtcO&width=650&height=150)](https://codecov.io/gh/pandas-dev/pandas/pull/21285?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #21285      +/-   ##\n==========================================\n- Coverage   91.89%   91.89%   -0.01%     \n==========================================\n  Files         153      153              \n  Lines       49600    49600              \n==========================================\n- Hits        45580    45578       -2     \n- Misses       4020     4022       +2\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.29% <ø> (-0.01%)` | :arrow_down: |\n| #single | `41.86% <ø> (ø)` | :arrow_up: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/21285?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/util/testing.py](https://codecov.io/gh/pandas-dev/pandas/pull/21285/diff?src=pr&el=tree#diff-cGFuZGFzL3V0aWwvdGVzdGluZy5weQ==) | `84.6% <0%> (-0.21%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21285?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21285?src=pr&el=footer). Last update [ab668b0...fbb05d4](https://codecov.io/gh/pandas-dev/pandas/pull/21285?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/394070185",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21285#issuecomment-394070185",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21285",
    "id": 394070185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDA3MDE4NQ==",
    "user": {
      "login": "peterpanmj",
      "id": 13047435,
      "node_id": "MDQ6VXNlcjEzMDQ3NDM1",
      "avatar_url": "https://avatars2.githubusercontent.com/u/13047435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterpanmj",
      "html_url": "https://github.com/peterpanmj",
      "followers_url": "https://api.github.com/users/peterpanmj/followers",
      "following_url": "https://api.github.com/users/peterpanmj/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterpanmj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterpanmj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterpanmj/subscriptions",
      "organizations_url": "https://api.github.com/users/peterpanmj/orgs",
      "repos_url": "https://api.github.com/users/peterpanmj/repos",
      "events_url": "https://api.github.com/users/peterpanmj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterpanmj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-02T08:35:45Z",
    "updated_at": "2018-06-02T08:35:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "The following is the output of ```asv continuous -f 1.1 upstream/master HEAD -b groupby.GroupByMethods```\r\n> · Discovering benchmarks\r\n> ·· Uninstalling from conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n> ·· Installing into conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n> · Running 4 total benchmarks (2 commits * 1 environments * 2 benchmarks)\r\n> [  0.00%] · For pandas commit hash cb3f7788:\r\n> [  0.00%] ·· Building for conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n> [  0.00%] ·· Benchmarking conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n> [ 25.00%] ··· Running groupby.GroupByMethods.time_dtype_as_field                                                                          53.5±4μs;...\r\n> [ 50.00%] ··· Running groupby.GroupByMethods.time_dtype_as_group                                                                          56.5±0μs;...\r\n> [ 50.00%] · For pandas commit hash 4274b840:\r\n> [ 50.00%] ·· Building for conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n> [ 50.00%] ·· Benchmarking conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n> [ 75.00%] ··· Running groupby.GroupByMethods.time_dtype_as_field                                                                          55.8±0μs;...\r\n> [100.00%] ··· Running groupby.GroupByMethods.time_dtype_as_group                                                                          55.8±0μs;...\r\n>             before           after         ratio\r\n>      [4274b840]       [cb3f7788]\r\n>           1.16s            1.00s     0.86  groupby.GroupByMethods.time_dtype_as_field('int', 'describe', 'transformation')\r\n> \r\n> SOME BENCHMARKS HAVE CHANGED SIGNIFICANTLY."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/394082132",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21285#issuecomment-394082132",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21285",
    "id": 394082132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDA4MjEzMg==",
    "user": {
      "login": "peterpanmj",
      "id": 13047435,
      "node_id": "MDQ6VXNlcjEzMDQ3NDM1",
      "avatar_url": "https://avatars2.githubusercontent.com/u/13047435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterpanmj",
      "html_url": "https://github.com/peterpanmj",
      "followers_url": "https://api.github.com/users/peterpanmj/followers",
      "following_url": "https://api.github.com/users/peterpanmj/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterpanmj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterpanmj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterpanmj/subscriptions",
      "organizations_url": "https://api.github.com/users/peterpanmj/orgs",
      "repos_url": "https://api.github.com/users/peterpanmj/repos",
      "events_url": "https://api.github.com/users/peterpanmj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterpanmj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-02T12:00:05Z",
    "updated_at": "2018-06-02T12:00:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "When a single value occur many times , the current function is very slow, due constant writing to the array ``out``\r\n_Master:_\r\n``` Python\r\ndf = pd.DataFrame({\"A\":[1,2,3]*10000 ,\"B\":[1]*30000})\r\n\r\nIn [31]: %%timeit\r\n    ...: t = df.groupby(\"B\").rank()\r\n\r\n608 ms ± 1.58 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)\r\n```\r\n_After:_\r\n``` Python\r\nIn [2]: df = pd.DataFrame({\"A\":[1,2,3]*10000 ,\"B\":[1]*30000})\r\n\r\nIn [3]: %%timeit\r\n   ...: t = df.groupby(\"B\").rank()\r\n   ...:\r\n4.03 ms ± 32.1 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/394082712",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21285#issuecomment-394082712",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21285",
    "id": 394082712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDA4MjcxMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-02T12:08:46Z",
    "updated_at": "2018-06-02T12:08:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "can we add this as an asv?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/396108868",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21285#issuecomment-396108868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21285",
    "id": 396108868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjEwODg2OA==",
    "user": {
      "login": "peterpanmj",
      "id": 13047435,
      "node_id": "MDQ6VXNlcjEzMDQ3NDM1",
      "avatar_url": "https://avatars2.githubusercontent.com/u/13047435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterpanmj",
      "html_url": "https://github.com/peterpanmj",
      "followers_url": "https://api.github.com/users/peterpanmj/followers",
      "following_url": "https://api.github.com/users/peterpanmj/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterpanmj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterpanmj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterpanmj/subscriptions",
      "organizations_url": "https://api.github.com/users/peterpanmj/orgs",
      "repos_url": "https://api.github.com/users/peterpanmj/repos",
      "events_url": "https://api.github.com/users/peterpanmj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterpanmj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T02:53:36Z",
    "updated_at": "2018-06-11T15:22:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here is the output of newly added asv bench groupby.RankWithTies\r\n\r\n```bash\r\n· Creating environments\r\n· Discovering benchmarks\r\n·· Uninstalling from conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pyta\r\nbles-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n·· Installing into conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl-pytabl\r\nes-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n· Running 2 total benchmarks (2 commits * 1 environments * 1 benchmarks)\r\n[  0.00%] · For pandas commit hash 690fac2f:\r\n[  0.00%] ·· Building for conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl\r\n-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n[  0.00%] ·· Benchmarking conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl\r\n-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n[ 50.00%] ··· Running groupby.RankWithTies.time_rank_ties          1.61±0ms;\r\n...\r\n[ 50.00%] · For pandas commit hash 0c65c57a:\r\n[ 50.00%] ·· Building for conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl\r\n-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n[ 50.00%] ·· Benchmarking conda-py3.6-Cython-matplotlib-numexpr-numpy-openpyxl\r\n-pytables-pytest-scipy-sqlalchemy-xlrd-xlsxwriter-xlwt\r\n[100.00%] ··· Running groupby.RankWithTies.time_rank_ties          46.8±0ms;\r\n...       before           after         ratio\r\n     [0c65c57a]       [690fac2f]\r\n-        31.2±3ms       1.71±0.1ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('datetime64', 'dense')\r\n-        31.2±3ms         1.65±0ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('int64', 'dense')\r\n-        31.2±2ms      1.61±0.09ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('float64', 'max')\r\n-        31.2±2ms         1.61±0ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('float64', 'min')\r\n-        33.8±3ms      1.73±0.09ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('float32', 'max')\r\n-        31.2±3ms       1.59±0.1ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('float32', 'dense')\r\n-        31.2±2ms       1.53±0.1ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('float64', 'dense')\r\n-        31.2±0ms       1.51±0.1ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('float32', 'min')\r\n-        33.8±3ms         1.61±0ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('int64', 'min')\r\n-        33.8±3ms      1.56±0.03ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('datetime64', 'min')\r\n-        35.1±2ms         1.61±0ms     0.05  groupby.RankWithTies.time_rank_ti\r\nes('datetime64', 'max')\r\n-        33.8±3ms         1.49±0ms     0.04  groupby.RankWithTies.time_rank_ti\r\nes('int64', 'max')\r\n-        46.8±0ms       1.76±0.1ms     0.04  groupby.RankWithTies.time_rank_ti\r\nes('datetime64', 'first')\r\n-        46.8±0ms         1.71±0ms     0.04  groupby.RankWithTies.time_rank_ti\r\nes('int64', 'first')\r\n-        46.8±0ms         1.61±0ms     0.03  groupby.RankWithTies.time_rank_ti\r\nes('float64', 'first')\r\n-        46.8±0ms       1.56±0.1ms     0.03  groupby.RankWithTies.time_rank_ti\r\nes('float32', 'first')\r\n-         203±0ms       1.76±0.1ms     0.01  groupby.RankWithTies.time_rank_ti\r\nes('int64', 'average')\r\n-         203±6ms         1.61±0ms     0.01  groupby.RankWithTies.time_rank_ti\r\nes('datetime64', 'average')\r\n-         203±0ms       1.59±0.1ms     0.01  groupby.RankWithTies.time_rank_ti\r\nes('float64', 'average')\r\n-         203±6ms         1.59±0ms     0.01  groupby.RankWithTies.time_rank_ti\r\nes('float32', 'average')\r\n\r\nSOME BENCHMARKS HAVE CHANGED SIGNIFICANTLY.\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397243481",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21285#issuecomment-397243481",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21285",
    "id": 397243481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzI0MzQ4MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-14T10:09:01Z",
    "updated_at": "2018-06-14T10:09:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @peterpanmj "
  }
]
