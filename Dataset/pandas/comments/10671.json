[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/124848743",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10671#issuecomment-124848743",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10671",
    "id": 124848743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg0ODc0Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-25T13:52:23Z",
    "updated_at": "2015-07-25T13:52:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "is their a reason  you are not just doing\n\n```\nIn [10]: df.sort('C')\nOut[10]: \n          A         B         C         D\n7 -0.065432  0.476895 -1.933456 -0.225273\n5  0.364656  1.510392 -0.552039  0.927939\n0  0.144173 -1.230840 -0.551998 -0.103711\n6  1.046028  0.906485 -0.449859 -0.185228\n1 -0.467742  0.965226  0.546713 -1.300566\n3 -0.687709  1.468811  1.031457 -0.760951\n2  0.221976 -1.374526  1.753068  0.026533\n4 -0.997729 -0.996212  2.454797 -1.431332\n```\n\nwhat are you expecting this to do?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/124852160",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10671#issuecomment-124852160",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10671",
    "id": 124852160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg1MjE2MA==",
    "user": {
      "login": "TDaltonC",
      "id": 2998212,
      "node_id": "MDQ6VXNlcjI5OTgyMTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2998212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TDaltonC",
      "html_url": "https://github.com/TDaltonC",
      "followers_url": "https://api.github.com/users/TDaltonC/followers",
      "following_url": "https://api.github.com/users/TDaltonC/following{/other_user}",
      "gists_url": "https://api.github.com/users/TDaltonC/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TDaltonC/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TDaltonC/subscriptions",
      "organizations_url": "https://api.github.com/users/TDaltonC/orgs",
      "repos_url": "https://api.github.com/users/TDaltonC/repos",
      "events_url": "https://api.github.com/users/TDaltonC/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TDaltonC/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-25T14:54:57Z",
    "updated_at": "2015-07-25T14:54:57Z",
    "author_association": "NONE",
    "body": "Yes. In trying to make the smallest piece of code that would still produce the error, I made a script that doesn't actually do anything. What I'm actually trying to accomplish looks more like:\n\n``` python\nimport pandas as pd\nimport numpy as np\n\n\ndf = pd.DataFrame({'A' : ['foo', 'bar', 'foo', 'bar',\n                          'foo', 'bar', 'foo', 'bar'],\n                   'B' : [0,0,3,3,2,2,1,1]})\n\ndef function(group):\n    group.sort(columns = 'B', inplace=True)\n    group['C'] = group['B'].diff()\n    trimedGroup = group[['A', 'C']]\n    return trimedGroup\n\ndf2 = df.groupby(['A']).apply(function)\n```\n\nAnd I expect to get back:\n\n``` python\nIn[28]:df2\nOut[28]: \n     A   E\n0  foo NaN\n1  bar NaN\n2  foo   1\n3  bar   1\n4  foo   1\n5  bar   1\n6  foo   1\n7  bar   1\n```\n\nI want to take the diff() of sort()ed groups. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/124852487",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10671#issuecomment-124852487",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10671",
    "id": 124852487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg1MjQ4Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-25T15:04:00Z",
    "updated_at": "2015-07-25T15:04:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think `.diff` needs a slightly different defintiion\n\nas `df.sort('B').groupby('A',as_index=False).B.diff()` should work but raises a `TypeError`\n\n```\nIn [42]: pd.concat([df,df.sort('B').groupby('A').B.diff()],axis=1)\nOut[42]: \n     A  B   0\n0  foo  0 NaN\n1  bar  0 NaN\n2  foo  3   1\n3  bar  3   1\n4  foo  2   1\n5  bar  2   1\n6  foo  1   1\n7  bar  1   1\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/124852521",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10671#issuecomment-124852521",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10671",
    "id": 124852521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg1MjUyMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-25T15:04:41Z",
    "updated_at": "2015-07-25T15:04:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "You NEVER want to sort in a group, simply sort the entire frame beforehand. In fact you always want to do as much work as possible in a vectorized fashion.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/361964267",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10671#issuecomment-361964267",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10671",
    "id": 361964267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTk2NDI2Nw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-31T15:19:42Z",
    "updated_at": "2018-01-31T15:19:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Duplicate of https://github.com/pandas-dev/pandas/issues/19437"
  }
]
