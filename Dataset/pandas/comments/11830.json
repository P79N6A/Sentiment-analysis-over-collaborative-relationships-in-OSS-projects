[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/164156448",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-164156448",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 164156448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDE1NjQ0OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-12T14:03:11Z",
    "updated_at": "2015-12-12T14:03:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "looks like a bug, but this is a quite complicated area, see [here](https://github.com/pydata/pandas/issues/6944)\n\nIf you'd like to dig-in would be great.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/170273625",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-170273625",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 170273625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDI3MzYyNQ==",
    "user": {
      "login": "pwaller",
      "id": 438648,
      "node_id": "MDQ6VXNlcjQzODY0OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/438648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pwaller",
      "html_url": "https://github.com/pwaller",
      "followers_url": "https://api.github.com/users/pwaller/followers",
      "following_url": "https://api.github.com/users/pwaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pwaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwaller/subscriptions",
      "organizations_url": "https://api.github.com/users/pwaller/orgs",
      "repos_url": "https://api.github.com/users/pwaller/repos",
      "events_url": "https://api.github.com/users/pwaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pwaller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-09T19:36:03Z",
    "updated_at": "2016-01-09T19:36:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "By the way, I just hit this I think, and you don't need a multi-index to cause it:\n\n```\ndf.groupby(df.b).a.nth(0), x.groupby(df.b).a.first()\n```\n\ngives:\n\n```\n(0    1\n 3    2\n Name: a, dtype: int64,\n b\n a    2\n b    1\n Name: a, dtype: int64)\n```\n\n(And I would expect the two to be equal). It seems that for whatever reason nth is having its index lost.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/170278365",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-170278365",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 170278365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDI3ODM2NQ==",
    "user": {
      "login": "pwaller",
      "id": 438648,
      "node_id": "MDQ6VXNlcjQzODY0OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/438648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pwaller",
      "html_url": "https://github.com/pwaller",
      "followers_url": "https://api.github.com/users/pwaller/followers",
      "following_url": "https://api.github.com/users/pwaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pwaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwaller/subscriptions",
      "organizations_url": "https://api.github.com/users/pwaller/orgs",
      "repos_url": "https://api.github.com/users/pwaller/repos",
      "events_url": "https://api.github.com/users/pwaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pwaller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-09T20:21:14Z",
    "updated_at": "2016-01-09T20:21:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just built several versions in the past to see if this was a regression. It's doesn't look like a regression. I've tested as far back as 0.12.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/170279099",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-170279099",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 170279099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDI3OTA5OQ==",
    "user": {
      "login": "pwaller",
      "id": 438648,
      "node_id": "MDQ6VXNlcjQzODY0OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/438648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pwaller",
      "html_url": "https://github.com/pwaller",
      "followers_url": "https://api.github.com/users/pwaller/followers",
      "following_url": "https://api.github.com/users/pwaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pwaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwaller/subscriptions",
      "organizations_url": "https://api.github.com/users/pwaller/orgs",
      "repos_url": "https://api.github.com/users/pwaller/repos",
      "events_url": "https://api.github.com/users/pwaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pwaller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-09T20:31:51Z",
    "updated_at": "2016-01-09T20:32:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry. I think my test may have been depending on a feature which didn't exist in older versions (the `.name` property of indices). It now looks like it gives the correct result in v0.13.0. This is my test:\n\n```\n$ python3 -c 'import pandas as P; raise SystemExit(not P.DataFrame({\"a\": [1, 2, 3, 4], \"b\": [9, 9, 9, 9]}).groupby(\"a\").a.nth(0).index.equals([1, 2, 3, 4]))'\n$ echo $?\n0\n```\n\nThe latest version gives a non-zero exit status.\n\nGoing to try an automated git bisect. Any hints on how to make pandas build faster in development mode?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/170282029",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-170282029",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 170282029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDI4MjAyOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-09T21:15:14Z",
    "updated_at": "2016-01-09T21:15:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "http://pandas.pydata.org/pandas-docs/stable/groupby.html#groupby-nth\n\n`nth` actually has slightly different semantics than `.first`. we have been discussing this in a couple of issues: #7569, #11038, and #11039\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/170285882",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-170285882",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 170285882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDI4NTg4Mg==",
    "user": {
      "login": "pwaller",
      "id": 438648,
      "node_id": "MDQ6VXNlcjQzODY0OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/438648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pwaller",
      "html_url": "https://github.com/pwaller",
      "followers_url": "https://api.github.com/users/pwaller/followers",
      "following_url": "https://api.github.com/users/pwaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pwaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwaller/subscriptions",
      "organizations_url": "https://api.github.com/users/pwaller/orgs",
      "repos_url": "https://api.github.com/users/pwaller/repos",
      "events_url": "https://api.github.com/users/pwaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pwaller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-09T21:57:15Z",
    "updated_at": "2016-01-09T22:01:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK. Not that it matters but I was able to bisect the behaviour change to c444c73c23691da76bd09365db78b637a216c6ea.\n\nFWIW, For me this wasn't very clearly explained in the documentation, for example [Here](http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.nth.html#pandas.core.groupby.GroupBy.nth). I guess it comes down to how you read the word \"rows\". For me, that just meant that it was picking out a row within the group, but I still expected it to have the index for that group - just as first() and last() do. It would be very useful if the docs made this behaviour difference clear.\n\nAnother thing that is a surprise to me:\n\n``` python\n>>> P.DataFrame({\"a\": [1, 2, 3, 4], \"b\": [9, 9, 9, 9]}).groupby(\"a\").b.nth(0)\n0    9\n1    9\n2    9\n3    9\nName: b, dtype: int64\n```\n\nIs different from (flipped `b.nth(0)` to `nth(0).b`):\n\n``` python\n>>> P.DataFrame({\"a\": [1, 2, 3, 4], \"b\": [9, 9, 9, 9]}).groupby(\"a\").nth(0).b\na\n1    9\n2    9\n3    9\n4    9\nName: b, dtype: int64\n```\n\n(Edited: I accidentally pressed submit prematurely!)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/170287138",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-170287138",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 170287138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDI4NzEzOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-09T22:15:31Z",
    "updated_at": "2016-01-09T22:15:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "the issue is we need a bunch more test as their is s bug in the results - can u do a PR with some more tests - would help move this along \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221176737",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-221176737",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 221176737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTE3NjczNw==",
    "user": {
      "login": "adneu",
      "id": 16600886,
      "node_id": "MDQ6VXNlcjE2NjAwODg2",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16600886?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adneu",
      "html_url": "https://github.com/adneu",
      "followers_url": "https://api.github.com/users/adneu/followers",
      "following_url": "https://api.github.com/users/adneu/following{/other_user}",
      "gists_url": "https://api.github.com/users/adneu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adneu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adneu/subscriptions",
      "organizations_url": "https://api.github.com/users/adneu/orgs",
      "repos_url": "https://api.github.com/users/adneu/repos",
      "events_url": "https://api.github.com/users/adneu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adneu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-24T06:19:20Z",
    "updated_at": "2016-05-24T07:38:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "I believe this was fixed with 445d1c6. The discussion for #11039 mentions that the commit now makes `Groupby.nth` reducing for a `Series` (keeping the original index) vs. the former behavior, which was filtering (position based index). Also that commit added these tests which I think address this bug.\n\n```\n+        assert_series_equal(g.B.nth(0), df.set_index('A').B.iloc[[0, 2]])\n+        assert_series_equal(g.B.nth(1), df.set_index('A').B.iloc[[1]])\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221269029",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11830#issuecomment-221269029",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11830",
    "id": 221269029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTI2OTAyOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-24T13:30:45Z",
    "updated_at": "2016-05-24T13:30:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok #12839 closed this, but see the comment on the actual PR (we ended up re-opening that one) because the state was not being preserved.\n\nwelcome to have you address that issue.\n\nthanks!\n"
  }
]
