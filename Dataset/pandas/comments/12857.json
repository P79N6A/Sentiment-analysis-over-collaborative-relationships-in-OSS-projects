[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208294917",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208294917",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208294917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODI5NDkxNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T11:24:14Z",
    "updated_at": "2016-04-11T11:24:14Z",
    "author_association": "MEMBER",
    "body": "@costas821 I cannot reproduce this (also using Windows 7, pandas 0.17.1). If you run the above code sample in a new session, you get that error?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208318582",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208318582",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208318582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODMxODU4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T12:34:55Z",
    "updated_at": "2016-04-11T12:35:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "this fails on the astype. dtype `S1`(and all fixed sized string dtypes are) not supported and should be converted to `object`. Kind of puzzled why this is not. So I'll mark this as a bug.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208319570",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208319570",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208319570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODMxOTU3MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T12:38:03Z",
    "updated_at": "2016-04-11T12:38:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "So `.astype('U1')` works as excepted (IOW it coerces to `object`), but we need to either raise on `S` dtypes in PY3 I think (or just coerce as we do unicode), though the user is technically saying that want to encode.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208332370",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208332370",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208332370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODMzMjM3MA==",
    "user": {
      "login": "cchrysostomou",
      "id": 2927161,
      "node_id": "MDQ6VXNlcjI5MjcxNjE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2927161?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cchrysostomou",
      "html_url": "https://github.com/cchrysostomou",
      "followers_url": "https://api.github.com/users/cchrysostomou/followers",
      "following_url": "https://api.github.com/users/cchrysostomou/following{/other_user}",
      "gists_url": "https://api.github.com/users/cchrysostomou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cchrysostomou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cchrysostomou/subscriptions",
      "organizations_url": "https://api.github.com/users/cchrysostomou/orgs",
      "repos_url": "https://api.github.com/users/cchrysostomou/repos",
      "events_url": "https://api.github.com/users/cchrysostomou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cchrysostomou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T13:10:40Z",
    "updated_at": "2016-04-11T13:12:12Z",
    "author_association": "NONE",
    "body": "Well I was kind of hoping that datatype could be supported. When its represented as an object, the memory it takes up is extremely high when all I need is for for each cell to take up a single byte. Everything except for 'printing' seemed to work for me. Is there any work-around for this? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208335893",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208335893",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208335893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODMzNTg5Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T13:16:58Z",
    "updated_at": "2016-04-11T13:16:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "you are much better off using categoricals\n\n```\n# your frame\nIn [17]: df.memory_usage(deep=True).sum()\nOut[17]: 2300072\n\nIn [18]: uniques = np.sort(pd.unique(df.values.ravel()))\n\n# converted to categoricals (I happen to preserver the mappings, but its actually not necessary)\nIn [19]: df.apply(lambda x: x.astype('category',categories=uniques)).memory_usage(deep=True).sum()\nOut[19]: 84572\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208379463",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208379463",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208379463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODM3OTQ2Mw==",
    "user": {
      "login": "cchrysostomou",
      "id": 2927161,
      "node_id": "MDQ6VXNlcjI5MjcxNjE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2927161?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cchrysostomou",
      "html_url": "https://github.com/cchrysostomou",
      "followers_url": "https://api.github.com/users/cchrysostomou/followers",
      "following_url": "https://api.github.com/users/cchrysostomou/following{/other_user}",
      "gists_url": "https://api.github.com/users/cchrysostomou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cchrysostomou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cchrysostomou/subscriptions",
      "organizations_url": "https://api.github.com/users/cchrysostomou/orgs",
      "repos_url": "https://api.github.com/users/cchrysostomou/repos",
      "events_url": "https://api.github.com/users/cchrysostomou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cchrysostomou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T14:40:34Z",
    "updated_at": "2016-04-11T14:40:34Z",
    "author_association": "NONE",
    "body": "OK I can go that route, but now I am having some functionality issues. Some things that worked before, no longer work when I set it as a category. If you don't think this is pertinent to the issue, then should I just send you a personal message of what I am trying to do and some sample code?\n\n```\n#  set my frame as category\nuniques = np.sort(pd.unique(df.values.ravel()))\ndf = df.apply(lambda x: x.astype('category', categories=uniques))\n\n# slicing and search operations\ndf_ints = pd.DataFrame(np.zeros((10000, 500)))\ndf_ints[5,3] = 1\n# when df is a category, I cannot do the following\ndf[df_ints==0] = 'Z'  \n# this also raises an error\ndf_ints == 'A'\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208384949",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208384949",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208384949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODM4NDk0OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T14:56:07Z",
    "updated_at": "2016-04-11T14:56:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "categoricals have a sets that are allowed, IOW, to the `categories` themselves. You can \n\n```\nIn [75]: df2 = df.apply(lambda x: x.astype('category', categories=uniques.tolist() + ['Z']))\n\nIn [77]: df2.iloc[0,1] = 'Z'\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208386958",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208386958",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208386958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODM4Njk1OA==",
    "user": {
      "login": "cchrysostomou",
      "id": 2927161,
      "node_id": "MDQ6VXNlcjI5MjcxNjE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2927161?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cchrysostomou",
      "html_url": "https://github.com/cchrysostomou",
      "followers_url": "https://api.github.com/users/cchrysostomou/followers",
      "following_url": "https://api.github.com/users/cchrysostomou/following{/other_user}",
      "gists_url": "https://api.github.com/users/cchrysostomou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cchrysostomou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cchrysostomou/subscriptions",
      "organizations_url": "https://api.github.com/users/cchrysostomou/orgs",
      "repos_url": "https://api.github.com/users/cchrysostomou/repos",
      "events_url": "https://api.github.com/users/cchrysostomou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cchrysostomou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T15:00:02Z",
    "updated_at": "2016-04-11T15:00:02Z",
    "author_association": "NONE",
    "body": "Whoops that was a bad example, my mistake. What I was trying to show was that I cannot use the dataframe df_ints to change values:\n\n`df[df_ints==0] = 'A'  # where 'A' is already defined in set.`\nor find where df is a:\n`df[df=='A']\n`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208394783",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-208394783",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 208394783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODM5NDc4Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T15:12:28Z",
    "updated_at": "2016-04-11T15:12:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, that should work, see #12861 . well good of you to test this out!\nIn the meantime you can do `.astype('U1')` to save some memory (or of course pull-requests to fix issues always welcome!)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/466251035",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12857#issuecomment-466251035",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12857",
    "id": 466251035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjI1MTAzNQ==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-22T02:35:59Z",
    "updated_at": "2019-02-22T02:35:59Z",
    "author_association": "MEMBER",
    "body": "This looks fixed on master. Could use a test."
  }
]
