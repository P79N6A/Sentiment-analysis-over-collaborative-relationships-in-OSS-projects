[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28739251",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-28739251",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 28739251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzM5MjUx",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-18T21:23:04Z",
    "updated_at": "2013-11-18T21:23:04Z",
    "author_association": "MEMBER",
    "body": "What version of pandas are you using? I believe this is fixed in master.\n\nOn Monday, November 18, 2013, Noah wrote:\n\n> I'm having trouble figuring out how DataFrame.replace() is supposed to\n> work. I'm not sure if this is a bug or a documentation issue.\n> \n> In [1]: import pandas\n> \n> In [2]: df = pandas.DataFrame({\"col1\":range(5), \"col2\":[0.5]_3+[1.0]_2})\n> \n> In [3]: df\n> Out[3]:\n>    col1  col2\n> 0     0   0.5\n> 1     1   0.5\n> 2     2   0.5\n> 3     3   1.0\n> 4     4   1.0\n> \n> In [4]: df.replace(1.0, \"a\")\n> Out[4]:\n>   col1 col2\n> 0    0  0.5\n> 1    a  0.5\n> 2    2  0.5\n> 3    3    a\n> 4    4    a\n> \n> In [5]: df.replace(1.0, \"a\").replace(0.5, \"b\")\n> Out[5]:\n>   col1 col2\n> 0    0    b\n> 1    a    b\n> 2    2    b\n> 3    3    a\n> 4    4    a\n> \n> So far, so good, everything makes sense. But I would have expected this to\n> accomplish the same as above:\n> \n> In [6]: df.replace({1.0:\"a\", 0.5:\"b\"})\n> Out[6]:\n>   col1 col2\n> 0    b    b\n> 1    a    a\n> 2    2    b\n> 3    3    a\n> 4    4    b\n> \n> As you can see, I'm getting alternating \"b\" and \"a\". From a quick browse\n> of the source code, it seems that the dictionary-replacement option should\n> result in the same outcome as the following (which gives what I would have\n> expected):\n> \n> In [15]: df.replace([1.0, 0.5], [\"a\", \"b\"])\n> Out[15]:\n>   col1 col2\n> a    0    b\n> b    a    b\n> c    2    b\n> d    3    a\n> e    4    a\n> \n> I'm not sure what the to_replace=dict option is supposed to be doing but\n> (at least for pandas v 0.12.0) it isn't doing what I would have expected.\n> \n> Whether this is a bug or not, the df.replace() method needs better\n> documentation. It's not enough to include a disclaimer that \"This method\n> has a lot of options. You are encouraged to experiment and play with this\n> method to gain intuition about how it works.\"\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/pydata/pandas/issues/5541\n> .\n\n## \n\n## \n\nBest,\nPhillip Cloud\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28742633",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-28742633",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 28742633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzQyNjMz",
    "user": {
      "login": "nspies",
      "id": 156719,
      "node_id": "MDQ6VXNlcjE1NjcxOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/156719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nspies",
      "html_url": "https://github.com/nspies",
      "followers_url": "https://api.github.com/users/nspies/followers",
      "following_url": "https://api.github.com/users/nspies/following{/other_user}",
      "gists_url": "https://api.github.com/users/nspies/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nspies/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nspies/subscriptions",
      "organizations_url": "https://api.github.com/users/nspies/orgs",
      "repos_url": "https://api.github.com/users/nspies/repos",
      "events_url": "https://api.github.com/users/nspies/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nspies/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-18T22:02:30Z",
    "updated_at": "2013-11-18T22:02:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "You are correct. Let me amend the above then to regard simply the documentation of what is clearly a really complicated replace interface. There should at least be examples of the different types of syntax (I couldn't find any anywhere in the docs).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/28744852",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-28744852",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 28744852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzQ0ODUy",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-18T22:30:21Z",
    "updated_at": "2013-11-18T22:30:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "See also #5338 \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/39670548",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-39670548",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 39670548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjcwNTQ4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-06T15:01:39Z",
    "updated_at": "2014-04-06T15:01:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cpcloud ok...not sure what is to be done here\n\n@nspies would you care to provide a doc update as a PR seeing that their is some confusion\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/39670908",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-39670908",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 39670908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjcwOTA4",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-06T15:15:29Z",
    "updated_at": "2014-04-06T15:15:29Z",
    "author_association": "MEMBER",
    "body": "Yes ... the `replace` API is quite crowded. It's extremely flexible, but that flexibility seems to cause confusion among users (me too) and it's (sometimes) a PITA to debug (though debugging could be made easier by an internal refactor with no API changes).\n\n@jreback maybe we should refactor this API a bit. I think `replace` tries to do too much. I think it might actually explode very soon. Maybe something like \n- `replace`: scalar replacement\n- `replace_list`: replaces anything where `to_replace` or `value` is a list\n- `replace_mapping`: likewise for `dict`s/`Series`\n- `replace_regex`: replaces only regexes, alternatively allow a `regex` argument in the others, similar to how it works now.\n\nWhile this does add more names to the namespace, it's less of a strain on the working memory since you can look at some code with this API and say \"oh, this is replacement using a [dict, list, etc]\" rather than tracing all the way back up the stack to discover that the types weren't what you thought.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/39670953",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-39670953",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 39670953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjcwOTUz",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-06T15:17:04Z",
    "updated_at": "2014-04-06T15:17:04Z",
    "author_association": "MEMBER",
    "body": "This is a breaking API change, so it may have to wait until 1.0 or whatever the first breaking API release is.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/39671216",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-39671216",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 39671216,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjcxMjE2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-06T15:27:25Z",
    "updated_at": "2014-04-06T15:27:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cpcloud nice suggestions\n\n_maybe_ could do instead use a an object for `replace`\n\ne.g.\n- `df.replace(...)`\n- `df.replace.list(...)`\n- `df.replace.mapping(...)`\n- `df.replace.regex(...)`\n\nin theory this would also allow to dispatch in a backwards compat way, e.g. the `__call__` of the replace object could just be current replace with dispatching (and eventually deprecate it to only scalars) (you can do this compat dispatching whether you do it with an object based replace or not I think)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/39671337",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-39671337",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 39671337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjcxMzM3",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-06T15:33:06Z",
    "updated_at": "2014-04-06T15:33:06Z",
    "author_association": "MEMBER",
    "body": "Nice. I like the object based idea. Gives time for users to adapt.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/39687779",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5541#issuecomment-39687779",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5541",
    "id": 39687779,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Njg3Nzc5",
    "user": {
      "login": "nspies",
      "id": 156719,
      "node_id": "MDQ6VXNlcjE1NjcxOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/156719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nspies",
      "html_url": "https://github.com/nspies",
      "followers_url": "https://api.github.com/users/nspies/followers",
      "following_url": "https://api.github.com/users/nspies/following{/other_user}",
      "gists_url": "https://api.github.com/users/nspies/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nspies/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nspies/subscriptions",
      "organizations_url": "https://api.github.com/users/nspies/orgs",
      "repos_url": "https://api.github.com/users/nspies/repos",
      "events_url": "https://api.github.com/users/nspies/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nspies/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-07T00:10:52Z",
    "updated_at": "2014-04-07T00:10:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I approve of some refactoring here! The current method is too powerful for its own good (although the documentation has improved substantially since I filed this ticket).\n\nI haven't done any contributions to the project as of yet, but I'm happy to do at least the documentation parts if someone refactors the code into bits that I can understand.\n\nOn Apr 6, 2014, at 8:33 AM, Phillip Cloud notifications@github.com wrote:\n\n> Nice. I like the object based idea. Gives time for users to adapt.\n> \n> â€”\n> Reply to this email directly or view it on GitHub.\n"
  }
]
