[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/145361039",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11234#issuecomment-145361039",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11234",
    "id": 145361039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTM2MTAzOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-04T15:50:53Z",
    "updated_at": "2015-10-04T15:50:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "should be fixed by : https://github.com/pydata/pandas/pull/10889\n\ngive a try with `v0.17.0rc2`\n\n`conda install pandas -c pandas`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/145369491",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11234#issuecomment-145369491",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11234",
    "id": 145369491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTM2OTQ5MQ==",
    "user": {
      "login": "FilipDusek",
      "id": 14875700,
      "node_id": "MDQ6VXNlcjE0ODc1NzAw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/14875700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FilipDusek",
      "html_url": "https://github.com/FilipDusek",
      "followers_url": "https://api.github.com/users/FilipDusek/followers",
      "following_url": "https://api.github.com/users/FilipDusek/following{/other_user}",
      "gists_url": "https://api.github.com/users/FilipDusek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FilipDusek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FilipDusek/subscriptions",
      "organizations_url": "https://api.github.com/users/FilipDusek/orgs",
      "repos_url": "https://api.github.com/users/FilipDusek/repos",
      "events_url": "https://api.github.com/users/FilipDusek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FilipDusek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-04T17:51:58Z",
    "updated_at": "2015-10-04T17:53:06Z",
    "author_association": "NONE",
    "body": "No, unfortunately I still get the error\n\n```\n---------------------------------------------------------------------------\nUnicodeDecodeError                        Traceback (most recent call last)\n<ipython-input-3-3e6096eba1ca> in <module>()\n      8 store = pd.HDFStore(r'iwillcrash30.h5')\n      9 store.put('df', df, format='table', encoding=\"utf-8\")\n---> 10 d = store[\"df\"]\n     11 print(d)\n     12 \n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py in __getitem__(self, key)\n    424 \n    425     def __getitem__(self, key):\n--> 426         return self.get(key)\n    427 \n    428     def __setitem__(self, key, value):\n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py in get(self, key)\n    634         if group is None:\n    635             raise KeyError('No object named %s in the file' % key)\n--> 636         return self._read_group(group)\n    637 \n    638     def select(self, key, where=None, start=None, stop=None, columns=None,\n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py in _read_group(self, group, **kwargs)\n   1271         s = self._create_storer(group)\n   1272         s.infer_axes()\n-> 1273         return s.read(**kwargs)\n   1274 \n   1275 \n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py in read(self, where, columns, **kwargs)\n   4004     def read(self, where=None, columns=None, **kwargs):\n   4005 \n-> 4006         if not self.read_axes(where=where, **kwargs):\n   4007             return None\n   4008 \n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py in read_axes(self, where, **kwargs)\n   3216         for a in self.axes:\n   3217             a.set_info(self.info)\n-> 3218             a.convert(values, nan_rep=self.nan_rep, encoding=self.encoding)\n   3219 \n   3220         return True\n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py in convert(self, values, nan_rep, encoding)\n   2062         if _ensure_decoded(self.kind) == u('string'):\n   2063             self.data = _unconvert_string_array(\n-> 2064                 self.data, nan_rep=nan_rep, encoding=encoding)\n   2065 \n   2066         return self\n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py in _unconvert_string_array(data, nan_rep, encoding)\n   4430 \n   4431         if isinstance(data[0], compat.binary_type):\n-> 4432             data = Series(data).str.decode(encoding).values\n   4433         else:\n   4434             data = data.astype(dtype, copy=False).astype(object, copy=False)\n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\core\\strings.py in decode(self, encoding, errors)\n   1310     @copy(str_decode)\n   1311     def decode(self, encoding, errors=\"strict\"):\n-> 1312         result = str_decode(self.series, encoding, errors)\n   1313         return self._wrap_result(result)\n   1314 \n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\core\\strings.py in str_decode(arr, encoding, errors)\n    979     \"\"\"\n    980     f = lambda x: x.decode(encoding, errors)\n--> 981     return _na_map(f, arr)\n    982 \n    983 \n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\core\\strings.py in _na_map(f, arr, na_result, dtype)\n    119 def _na_map(f, arr, na_result=np.nan, dtype=object):\n    120     # should really _check_ for NA\n--> 121     return _map(f, arr, na_mask=True, na_value=na_result, dtype=dtype)\n    122 \n    123 \n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\core\\strings.py in _map(f, arr, na_mask, na_value, dtype)\n    135         mask = isnull(arr)\n    136         try:\n--> 137             result = lib.map_infer_mask(arr, f, mask.view(np.uint8))\n    138         except (TypeError, AttributeError):\n    139             def g(x):\n\npandas\\src\\inference.pyx in pandas.lib.map_infer_mask (pandas\\lib.c:61753)()\n\nC:\\Users\\Filip\\Anaconda3\\lib\\site-packages\\pandas\\core\\strings.py in <lambda>(x)\n    978     decoded : Series/Index of objects\n    979     \"\"\"\n--> 980     f = lambda x: x.decode(encoding, errors)\n    981     return _na_map(f, arr)\n    982 \n\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xc3 in position 0: unexpected end of data\n```\n\nVersions\n\n``` python\nINSTALLED VERSIONS\n------------------\ncommit: None\npython: 3.4.3.final.0\npython-bits: 64\nOS: Windows\nOS-release: 8\nmachine: AMD64\nprocessor: Intel64 Family 6 Model 69 Stepping 1, GenuineIntel\nbyteorder: little\nLC_ALL: None\nLANG: None\n\npandas: 0.17.0rc2\nnose: 1.3.7\npip: 7.1.2\nsetuptools: 18.3.2\nCython: 0.22.1\nnumpy: 1.9.3\nscipy: 0.15.1\nstatsmodels: 0.6.1\nIPython: 3.2.0\nsphinx: 1.3.1\npatsy: 0.3.0\ndateutil: 2.4.2\npytz: 2015.6\nblosc: None\nbottleneck: 1.0.0\ntables: 3.2.0\nnumexpr: 2.4.3\nmatplotlib: 1.4.3\nopenpyxl: 1.8.5\nxlrd: 0.9.3\nxlwt: 1.0.0\nxlsxwriter: 0.7.3\nlxml: 3.4.4\nbs4: 4.3.2\nhtml5lib: None\nhttplib2: None\napiclient: None\nsqlalchemy: 1.0.5\npymysql: None\npsycopg2: None\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/145381135",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11234#issuecomment-145381135",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11234",
    "id": 145381135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTM4MTEzNQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-04T19:50:23Z",
    "updated_at": "2015-10-04T19:50:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback looks like we truncate the column to be length 1 since `len(df.iloc[0, 0])` is 1.\n\nThis works though\n\n``` python\nIn [19]: df = pd.DataFrame({'A': ['é']})\n\nIn [20]: store = pd.HDFStore(r'thiswillcrash.h5')\n\nIn [21]: store.put('df', df, format='table', min_itemsize={'A': 30})\n\nIn [22]: store.get('df')\nOut[22]:\n   A\n0  é\n```\n\nDo you have a good idea where a fix would go?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/145381463",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11234#issuecomment-145381463",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11234",
    "id": 145381463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTM4MTQ2Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-04T19:56:04Z",
    "updated_at": "2015-10-04T19:56:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/pydata/pandas/blob/master/pandas/lib.pyx#L972\n\nis where the width of the strings are determined \nbut it should work for unicode\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/145383799",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11234#issuecomment-145383799",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11234",
    "id": 145383799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTM4Mzc5OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-04T20:08:12Z",
    "updated_at": "2015-10-04T20:08:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is it because the encoded length is different than the number of characters?\n\n``` python\nIn [10]: x\nOut[10]: 'é'\n\nIn [11]: len(x)\nOut[11]: 1\n\nIn [12]: len(x.encode('utf-8'))\nOut[12]: 2\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/145389003",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11234#issuecomment-145389003",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11234",
    "id": 145389003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTM4OTAwMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-04T21:29:03Z",
    "updated_at": "2015-10-04T21:29:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "yep should encode before we check and set the length\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/146872586",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11234#issuecomment-146872586",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11234",
    "id": 146872586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Njg3MjU4Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T13:33:13Z",
    "updated_at": "2015-10-09T13:33:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "closed  by #11240 \n"
  }
]
