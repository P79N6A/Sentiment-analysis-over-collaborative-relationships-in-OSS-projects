[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/328968208",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17500#issuecomment-328968208",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17500",
    "id": 328968208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODk2ODIwOA==",
    "user": {
      "login": "CRiddler",
      "id": 31414128,
      "node_id": "MDQ6VXNlcjMxNDE0MTI4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/31414128?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CRiddler",
      "html_url": "https://github.com/CRiddler",
      "followers_url": "https://api.github.com/users/CRiddler/followers",
      "following_url": "https://api.github.com/users/CRiddler/following{/other_user}",
      "gists_url": "https://api.github.com/users/CRiddler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CRiddler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CRiddler/subscriptions",
      "organizations_url": "https://api.github.com/users/CRiddler/orgs",
      "repos_url": "https://api.github.com/users/CRiddler/repos",
      "events_url": "https://api.github.com/users/CRiddler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CRiddler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T20:02:08Z",
    "updated_at": "2017-09-12T20:02:37Z",
    "author_association": "NONE",
    "body": "I copied and pasted your code and got timedelta64[ns] dtypes for both samples. Only difference I can note is that I'm on pandas 0.20.3 whereas you're on 0.19.2\r\n\t\r\n    >>> import pandas as pd\r\n\t>>> \r\n\t>>> df = pd.DataFrame([pd.date_range('1/1/2011', periods=5, freq='H')])\r\n\t>>> data = [('a', pd.Timestamp('2012-05-01')),\r\n\t...             ('a', pd.Timestamp('2012-05-02')),\r\n\t...             ('b', pd.Timestamp('2012-05-03'))]\r\n\t>>> df = pd.DataFrame(data, columns=['A','ts'])\r\n\t>>> \r\n\t>>> print(df.ts.diff(1))\r\n\t0      NaT\r\n\t1   1 days\r\n\t2   1 days\r\n\tName: ts, dtype: timedelta64[ns]\r\n\t>>> print(df.groupby('A')['ts'].transform(lambda x: x.diff(1)) )\r\n\t0      NaT\r\n\t1   1 days\r\n\t2      NaT\r\n\tName: ts, dtype: timedelta64[ns]\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/328969532",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17500#issuecomment-328969532",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17500",
    "id": 328969532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODk2OTUzMg==",
    "user": {
      "login": "cordeiro",
      "id": 88283,
      "node_id": "MDQ6VXNlcjg4Mjgz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/88283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cordeiro",
      "html_url": "https://github.com/cordeiro",
      "followers_url": "https://api.github.com/users/cordeiro/followers",
      "following_url": "https://api.github.com/users/cordeiro/following{/other_user}",
      "gists_url": "https://api.github.com/users/cordeiro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cordeiro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cordeiro/subscriptions",
      "organizations_url": "https://api.github.com/users/cordeiro/orgs",
      "repos_url": "https://api.github.com/users/cordeiro/repos",
      "events_url": "https://api.github.com/users/cordeiro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cordeiro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T20:07:42Z",
    "updated_at": "2017-09-12T20:07:42Z",
    "author_association": "NONE",
    "body": "I am using the latest packages from Debian GNU/Linux Testing and I get those results:\r\n\r\n0      NaT\r\n1   1 days\r\n2   1 days\r\nName: ts, dtype: timedelta64[ns]\r\n\r\n0          NaT\r\n1   1970-01-02\r\n2          NaT\r\nName: ts, dtype: datetime64[ns]"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/328969998",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17500#issuecomment-328969998",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17500",
    "id": 328969998,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODk2OTk5OA==",
    "user": {
      "login": "cordeiro",
      "id": 88283,
      "node_id": "MDQ6VXNlcjg4Mjgz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/88283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cordeiro",
      "html_url": "https://github.com/cordeiro",
      "followers_url": "https://api.github.com/users/cordeiro/followers",
      "following_url": "https://api.github.com/users/cordeiro/following{/other_user}",
      "gists_url": "https://api.github.com/users/cordeiro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cordeiro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cordeiro/subscriptions",
      "organizations_url": "https://api.github.com/users/cordeiro/orgs",
      "repos_url": "https://api.github.com/users/cordeiro/repos",
      "events_url": "https://api.github.com/users/cordeiro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cordeiro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T20:09:35Z",
    "updated_at": "2017-09-12T20:09:35Z",
    "author_association": "NONE",
    "body": "@CRiddler is right. Just installed the newest version of pandas and everything worked as expected.\r\nThanks !"
  }
]
