[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58585140",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58585140",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58585140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTg1MTQw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T22:03:24Z",
    "updated_at": "2014-10-09T22:03:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @CarstVaartjes \n\n`klib` is shipped with pandas so should be straightforward to update I think.\njust a couple of files.\n\nYou are welcome to take a shot, otherways will try to get for 0.15.1\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58586593",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58586593",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58586593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTg2NTkz",
    "user": {
      "login": "CarstVaartjes",
      "id": 2722815,
      "node_id": "MDQ6VXNlcjI3MjI4MTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2722815?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CarstVaartjes",
      "html_url": "https://github.com/CarstVaartjes",
      "followers_url": "https://api.github.com/users/CarstVaartjes/followers",
      "following_url": "https://api.github.com/users/CarstVaartjes/following{/other_user}",
      "gists_url": "https://api.github.com/users/CarstVaartjes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CarstVaartjes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CarstVaartjes/subscriptions",
      "organizations_url": "https://api.github.com/users/CarstVaartjes/orgs",
      "repos_url": "https://api.github.com/users/CarstVaartjes/repos",
      "events_url": "https://api.github.com/users/CarstVaartjes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CarstVaartjes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T22:16:00Z",
    "updated_at": "2014-10-09T22:16:00Z",
    "author_association": "NONE",
    "body": "We'll take a shot tomorrow afternoon; there were quite some changes and I think Wes also added quite some own inline stuff in the current khash.c but with some diff comparisons we hope we should be okay. And the performance increase is significant, so it would be nice to make it in time for 0.15.0\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58586775",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58586775",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58586775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTg2Nzc1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T22:17:47Z",
    "updated_at": "2014-10-09T22:17:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok if u could get done on next day or 2 and everything pass then could do\n(run a vbench as well)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58661374",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58661374",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58661374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjYxMzc0",
    "user": {
      "login": "FrancescElies",
      "id": 6558089,
      "node_id": "MDQ6VXNlcjY1NTgwODk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6558089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FrancescElies",
      "html_url": "https://github.com/FrancescElies",
      "followers_url": "https://api.github.com/users/FrancescElies/followers",
      "following_url": "https://api.github.com/users/FrancescElies/following{/other_user}",
      "gists_url": "https://api.github.com/users/FrancescElies/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FrancescElies/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FrancescElies/subscriptions",
      "organizations_url": "https://api.github.com/users/FrancescElies/orgs",
      "repos_url": "https://api.github.com/users/FrancescElies/repos",
      "events_url": "https://api.github.com/users/FrancescElies/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FrancescElies/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-10T14:15:55Z",
    "updated_at": "2014-10-10T14:15:55Z",
    "author_association": "NONE",
    "body": "@jreback we would love to make it happen, unfortunately with my current knowledge in C, Python and pandas I cannot get `python setup.py build_ext --inplace` execute correctly with the new version of klib.\n\nFirst error out of many others:\n\n```\nIn file included from pandas/parser.c:360:\nIn file included from pandas/src/parser/tokenizer.h:36:\npandas/src/klib/khash.h:187:21: error: redefinition of '__ac_HASH_UPPER'\nstatic const double __ac_HASH_UPPER = 0.77;\n```\n\nIn case you would like to have a look you can find:\n- Changes under: https://github.com/FrancescElies/pandas/tree/klib_upgrade_0.2.8/pandas/src/klib\n- Pandas-independent implementation of klib at https://github.com/CarstVaartjes/khash\n\nEverything we made is based on pandas-team's work, any tips or suggestions are welcome.\n\nI am sorry to say, that this won't be possible in the following days.\n\nThanks\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58665237",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58665237",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58665237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjY1MjM3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-10T14:43:26Z",
    "updated_at": "2014-10-10T14:43:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@FrancescElies \n\nok no prob. maybe can do this for 0.15.1.\n\nsomething that might help is seeing what was originally changed, e.g.\n\n`git blame pandas/src/klib/khash.h` shows what/when things were changed (e.g. like a diff from the original file). \n\nSo I am not sure what  @wesm changed but maybe can fiigurr out from this.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58672705",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58672705",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58672705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjcyNzA1",
    "user": {
      "login": "FrancescElies",
      "id": 6558089,
      "node_id": "MDQ6VXNlcjY1NTgwODk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6558089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FrancescElies",
      "html_url": "https://github.com/FrancescElies",
      "followers_url": "https://api.github.com/users/FrancescElies/followers",
      "following_url": "https://api.github.com/users/FrancescElies/following{/other_user}",
      "gists_url": "https://api.github.com/users/FrancescElies/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FrancescElies/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FrancescElies/subscriptions",
      "organizations_url": "https://api.github.com/users/FrancescElies/orgs",
      "repos_url": "https://api.github.com/users/FrancescElies/repos",
      "events_url": "https://api.github.com/users/FrancescElies/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FrancescElies/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-10T15:34:44Z",
    "updated_at": "2014-10-10T15:34:44Z",
    "author_association": "NONE",
    "body": "@jreback thanks for the info, actually this is exactly the way we adapted klib 0.2.8 which seems to work already a an independent package, but when I put this changes to pandas seems to have problems with other files (like parser.c), files that we don't really use in the other project.\n\nI suppose I need to have a deeper look to the other files in pandas to understand the interconnection between them before being able to make it work properly. \n\nThanks again for your rapid answer\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58673646",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58673646",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58673646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjczNjQ2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-10T15:41:28Z",
    "updated_at": "2014-10-10T15:41:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@FrancescElies np. I think its appropriate to keep it as an-line package as don't want to add an explicit dep (and it is license compat and works well that way).\n\nthat said, pls have a closer look! I am imagine the perf boost IS worth it.\n\nand FYI, this library is also vastly faster than almost anything else,\n\ne.g. see commentary here: http://article.gmane.org/gmane.comp.python.numeric.general/58724/match=unique+performance\n\nessentially numpy should use klib (or similar) and use hashtables to do unique.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58674070",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58674070",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58674070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4Njc0MDcw",
    "user": {
      "login": "immerrr",
      "id": 579798,
      "node_id": "MDQ6VXNlcjU3OTc5OA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/579798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/immerrr",
      "html_url": "https://github.com/immerrr",
      "followers_url": "https://api.github.com/users/immerrr/followers",
      "following_url": "https://api.github.com/users/immerrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/immerrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/immerrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/immerrr/subscriptions",
      "organizations_url": "https://api.github.com/users/immerrr/orgs",
      "repos_url": "https://api.github.com/users/immerrr/repos",
      "events_url": "https://api.github.com/users/immerrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/immerrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-10T15:44:22Z",
    "updated_at": "2014-10-10T15:44:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I might have time to look into this at the weekend as this definitely looks interesting, but I can't guarantee anything.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58674360",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58674360",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58674360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4Njc0MzYw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-10T15:46:24Z",
    "updated_at": "2014-10-10T15:46:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "go @immerrr !\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58769554",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58769554",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58769554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzY5NTU0",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-12T00:38:01Z",
    "updated_at": "2014-10-12T00:38:01Z",
    "author_association": "MEMBER",
    "body": "Very interesting, this is good to know that the quadratic probing has a practical impact in many cases. \n\nI can try to look at the compilation issues if you can't sort them out, let me know.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58893093",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58893093",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58893093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODkzMDkz",
    "user": {
      "login": "immerrr",
      "id": 579798,
      "node_id": "MDQ6VXNlcjU3OTc5OA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/579798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/immerrr",
      "html_url": "https://github.com/immerrr",
      "followers_url": "https://api.github.com/users/immerrr/followers",
      "following_url": "https://api.github.com/users/immerrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/immerrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/immerrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/immerrr/subscriptions",
      "organizations_url": "https://api.github.com/users/immerrr/orgs",
      "repos_url": "https://api.github.com/users/immerrr/repos",
      "events_url": "https://api.github.com/users/immerrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/immerrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-13T13:39:48Z",
    "updated_at": "2014-10-13T13:39:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've integrated the code from 0.2.8 in #8547, but for some reason vbench results are not as astounding: new version is systematically faster, especially in _all-unique_ cases, but the increase is nowhere near 60% (https://gist.github.com/immerrr/98a02338df8cbabb3a86).\n\nI did refactor the benchmarks somewhat and made string values 10 chars each to be closer to real-life conditions, so that may have influenced the result.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/58950352",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-58950352",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 58950352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTUwMzUy",
    "user": {
      "login": "CarstVaartjes",
      "id": 2722815,
      "node_id": "MDQ6VXNlcjI3MjI4MTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2722815?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CarstVaartjes",
      "html_url": "https://github.com/CarstVaartjes",
      "followers_url": "https://api.github.com/users/CarstVaartjes/followers",
      "following_url": "https://api.github.com/users/CarstVaartjes/following{/other_user}",
      "gists_url": "https://api.github.com/users/CarstVaartjes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CarstVaartjes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CarstVaartjes/subscriptions",
      "organizations_url": "https://api.github.com/users/CarstVaartjes/orgs",
      "repos_url": "https://api.github.com/users/CarstVaartjes/repos",
      "events_url": "https://api.github.com/users/CarstVaartjes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CarstVaartjes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-13T20:32:06Z",
    "updated_at": "2014-10-13T20:32:14Z",
    "author_association": "NONE",
    "body": "My example might have been a bit skewed because of the limited amount of options and the short string I guess. Also, the big increase was only for strings in my example, the rest was 10-20%, but still decent and good to see that it's still 10%ish in your gist :)\nP.s. great work!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/59845033",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-59845033",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 59845033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODQ1MDMz",
    "user": {
      "login": "immerrr",
      "id": 579798,
      "node_id": "MDQ6VXNlcjU3OTc5OA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/579798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/immerrr",
      "html_url": "https://github.com/immerrr",
      "followers_url": "https://api.github.com/users/immerrr/followers",
      "following_url": "https://api.github.com/users/immerrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/immerrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/immerrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/immerrr/subscriptions",
      "organizations_url": "https://api.github.com/users/immerrr/orgs",
      "repos_url": "https://api.github.com/users/immerrr/repos",
      "events_url": "https://api.github.com/users/immerrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/immerrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-20T21:45:12Z",
    "updated_at": "2014-10-20T21:45:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I wonder why your example compares `StringHashTable(len(x)).factorize(x)` to `pd.factorize(x)`, the latter is a lot more involved:\n\n``` python\nIn [5]: np.random.seed(0); strs = np.array(['AA', 'BB', 'CC', 'DD'], dtype=np.object_).take(np.random.randint(4, size=10000))\n\nIn [6]: %timeit pd.factorize(strs)\n1000 loops, best of 3: 285 µs per loop\n\nIn [7]: %%timeit\nht = pd.hashtable.StringHashTable(len(strs))\nht.factorize(strs)\n   ...: \n10000 loops, best of 3: 171 µs per loop\n```\n\nAs for the actual performance, I'm struggling to get quadratic probing on par with the old version, in short-string scenario it's about 5 times slower and valgrind shows that there's a lot more probing going on and strcmp calls are rather expensive:\n\n### old version\n\n``` python\nIn [2]: strs = pd.util.testing.rands_array(2, 10000)\n\nIn [3]: strs[:5]\nOut[3]: array(['SV', '1a', 'd7', 'dN', 'jt'], dtype=object)\n\nIn [4]: %%timeit\n   ...: ht = pd.hashtable.StringHashTable(len(strs))\n   ...: ht.factorize(strs)\n   ...: \n1000 loops, best of 3: 544 µs per loop\n```\n\n### new version\n\n``` python\nIn [4]: np.random.seed(0); strs = pd.util.testing.rands_array(2, 10000)\n\nIn [5]: strs[:5]\nOut[5]: array(['SV', '1a', 'd7', 'dN', 'jt'], dtype=object)\n\nIn [6]: %%timeit\nht = pd.hashtable.StringHashTable(len(strs))\nht.factorize(strs)\n   ...: \n100 loops, best of 3: 2.55 ms per loop\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/59882807",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-59882807",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 59882807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODgyODA3",
    "user": {
      "login": "immerrr",
      "id": 579798,
      "node_id": "MDQ6VXNlcjU3OTc5OA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/579798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/immerrr",
      "html_url": "https://github.com/immerrr",
      "followers_url": "https://api.github.com/users/immerrr/followers",
      "following_url": "https://api.github.com/users/immerrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/immerrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/immerrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/immerrr/subscriptions",
      "organizations_url": "https://api.github.com/users/immerrr/orgs",
      "repos_url": "https://api.github.com/users/immerrr/repos",
      "events_url": "https://api.github.com/users/immerrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/immerrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-21T06:01:23Z",
    "updated_at": "2014-10-21T06:01:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, I've realized that 3.5k two character strings that only slightly differ from each other may be a corner case for a hash function as simple as x31 and a probing scheme that favours neighboring buckets.  I've re-run it on short and duplicated strings and the newer version is indeed slightly faster.\n\n### old version\n\n``` python\nIn [16]: %%timeit np.random.seed(0); strs = np.array(['NY', 'IL', 'OH', 'CA'], dtype=np.object_).take(np.random.randint(4, size=10000))\nht = pd.hashtable.StringHashTable(len(strs))\nht.factorize(strs)\n   ....: \n10000 loops, best of 3: 158 µs per loop\n\nIn [17]: %%timeit np.random.seed(0); strs = np.array(['AA', 'BB', 'CC', 'DD'], dtype=np.object_).take(np.random.randint(4, size=10000))\nht = pd.hashtable.StringHashTable(len(strs))\nht.factorize(strs)\n   ....: \n10000 loops, best of 3: 176 µs per loop\n\nIn [18]: pd.__version__\nOut[18]: '0.15.0-6-g403f38d'\n```\n\n### new version\n\n``` python\nIn [16]: %%timeit np.random.seed(0); strs = np.array(['NY', 'IL', 'OH', 'CA'], dtype=np.object_).take(np.random.randint(4, size=10000))\nht = pd.hashtable.StringHashTable(len(strs))\nht.factorize(strs)\n   ....: \n10000 loops, best of 3: 155 µs per loop\n\nIn [17]: %%timeit np.random.seed(0); strs = np.array(['AA', 'BB', 'CC', 'DD'], dtype=np.object_).take(np.random.randint(4, size=10000))\nht = pd.hashtable.StringHashTable(len(strs))\nht.factorize(strs)\n   ....: \n10000 loops, best of 3: 169 µs per loop\n\nIn [18]: pd.__version__\nOut[18]: '0.15.0-9-g7d0d41b'\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405059029",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-405059029",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 405059029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTA1OTAyOQ==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-15T00:36:42Z",
    "updated_at": "2018-07-15T00:36:42Z",
    "author_association": "MEMBER",
    "body": "@CarstVaartjes was a conclusion ever reached about this possible upgrade?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405092663",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8524#issuecomment-405092663",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8524",
    "id": 405092663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTA5MjY2Mw==",
    "user": {
      "login": "CarstVaartjes",
      "id": 2722815,
      "node_id": "MDQ6VXNlcjI3MjI4MTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2722815?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CarstVaartjes",
      "html_url": "https://github.com/CarstVaartjes",
      "followers_url": "https://api.github.com/users/CarstVaartjes/followers",
      "following_url": "https://api.github.com/users/CarstVaartjes/following{/other_user}",
      "gists_url": "https://api.github.com/users/CarstVaartjes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CarstVaartjes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CarstVaartjes/subscriptions",
      "organizations_url": "https://api.github.com/users/CarstVaartjes/orgs",
      "repos_url": "https://api.github.com/users/CarstVaartjes/repos",
      "events_url": "https://api.github.com/users/CarstVaartjes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CarstVaartjes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-15T13:37:46Z",
    "updated_at": "2018-07-15T13:37:46Z",
    "author_association": "NONE",
    "body": "Hi! not really as I missed the later update! It's still an interesting 10% performance increase in a core function I think. Also khash is really stable (so it's not really a moving target, so this would really get the best out of it) -> https://github.com/attractivechaos/klib/commits/master/khash.h "
  }
]
