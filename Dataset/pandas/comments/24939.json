[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457762590",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457762590",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457762590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzc2MjU5MA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-25T22:56:10Z",
    "updated_at": "2019-01-25T22:56:10Z",
    "author_association": "MEMBER",
    "body": "The 255 limit is imposed as part of itertuples (and documented therein). Could maybe see if that limitation could be lifted but if you want to investigate and try a PR that is always welcome!\n\nSent from my iPhone\n\n> On Jan 25, 2019, at 2:12 PM, Evan Bolyen <notifications@github.com> wrote:\n> \n> Code Sample, a copy-pastable example if possible\n> \n> Python 3.6.7 | packaged by conda-forge | (default, Nov 21 2018, 03:09:43) \n> Type 'copyright', 'credits' or 'license' for more information\n> IPython 7.2.0 -- An enhanced Interactive Python. Type '?' for help.\n> \n> In [1]: import pandas as pd                                                                                                                                                                                                 \n> \n> In [2]: df = pd.DataFrame({('A_%d' % i): [i] for i in range(254)})                                                                                                                                                          \n> \n> In [3]: r = df.to_dict('records')                                                                                                                                                                                           \n> \n> In [4]: len(r)                                                                                                                                                                                                              \n> Out[4]: 1\n> \n> In [5]: len(r[0])                                                                                                                                                                                                           \n> Out[5]: 254\n> \n> In [6]: df_bad = pd.DataFrame({('A_%d' % i): [i] for i in range(255)})                                                                                                                                                      \n> \n> In [7]: r_fail = df_bad.to_dict('records')                                                                                                                                                                                  \n> ---------------------------------------------------------------------------\n> AttributeError                            Traceback (most recent call last)\n> <ipython-input-7-4dd3de569735> in <module>\n> ----> 1 r_fail = df_bad.to_dict('records')\n> \n> ~/.conda/envs/pandas-0.24/lib/python3.6/site-packages/pandas/core/frame.py in to_dict(self, orient, into)\n>    1300                 into_c((k, com.maybe_box_datetimelike(v))\n>    1301                        for k, v in compat.iteritems(row._asdict()))\n> -> 1302                 for row in self.itertuples(index=False)]\n>    1303         elif orient.lower().startswith('i'):\n>    1304             if not self.index.is_unique:\n> \n> ~/.conda/envs/pandas-0.24/lib/python3.6/site-packages/pandas/core/frame.py in <listcomp>(.0)\n>    1300                 into_c((k, com.maybe_box_datetimelike(v))\n>    1301                        for k, v in compat.iteritems(row._asdict()))\n> -> 1302                 for row in self.itertuples(index=False)]\n>    1303         elif orient.lower().startswith('i'):\n>    1304             if not self.index.is_unique:\n> \n> AttributeError: 'tuple' object has no attribute '_asdict'\n> Problem description\n> \n> Our test suite is failing with the latest release (0.24.0) on conda-forge. After looking into it, I've discovered that when 255 or more columns exist, the to_dict('records') method fails with AttributeError: 'tuple' object has no attribute '_asdict'.\n> \n> Conda info\n> \n> Output of pd.show_versions()\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457763880",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457763880",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457763880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzc2Mzg4MA==",
    "user": {
      "login": "ebolyen",
      "id": 3976804,
      "node_id": "MDQ6VXNlcjM5NzY4MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3976804?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebolyen",
      "html_url": "https://github.com/ebolyen",
      "followers_url": "https://api.github.com/users/ebolyen/followers",
      "following_url": "https://api.github.com/users/ebolyen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ebolyen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ebolyen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ebolyen/subscriptions",
      "organizations_url": "https://api.github.com/users/ebolyen/orgs",
      "repos_url": "https://api.github.com/users/ebolyen/repos",
      "events_url": "https://api.github.com/users/ebolyen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ebolyen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-25T23:00:46Z",
    "updated_at": "2019-01-25T23:00:46Z",
    "author_association": "NONE",
    "body": "So this is indeed a bug in `to_dict` and it should be handling the different output types that `itertuples` returns?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457764429",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457764429",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457764429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzc2NDQyOQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-25T23:02:39Z",
    "updated_at": "2019-01-25T23:02:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "We'll probably have to avoid using itertuples in to_dict entirely.\n\nOn Fri, Jan 25, 2019 at 5:00 PM Evan Bolyen <notifications@github.com>\nwrote:\n\n> So this is indeed a bug in to_dict and it should be handling the\n> different output types that itertuples returns?\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457763880>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIlTCJoyQR6TAl1yGEi2DSPrMMh6jks5vG4yjgaJpZM4aTvsD>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457765253",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457765253",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457765253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzc2NTI1Mw==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-25T23:05:37Z",
    "updated_at": "2019-01-25T23:05:37Z",
    "author_association": "MEMBER",
    "body": "Haven’t stepped through code but from an API perspective is there a particular reason why we wouldn’t want to try and change itertuples here? Seems like a rather nuanced design\n\n> On Jan 25, 2019, at 3:02 PM, Tom Augspurger <notifications@github.com> wrote:\n> \n> We'll probably have to avoid using itertuples in to_dict entirely.\n> \n> On Fri, Jan 25, 2019 at 5:00 PM Evan Bolyen <notifications@github.com>\n> wrote:\n> \n> > So this is indeed a bug in to_dict and it should be handling the\n> > different output types that itertuples returns?\n> >\n> > —\n> > You are receiving this because you are subscribed to this thread.\n> > Reply to this email directly, view it on GitHub\n> > <https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457763880>,\n> > or mute the thread\n> > <https://github.com/notifications/unsubscribe-auth/ABQHIlTCJoyQR6TAl1yGEi2DSPrMMh6jks5vG4yjgaJpZM4aTvsD>\n> > .\n> >\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub <https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457764429>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AAlOUTnNhRFxWHZJ-7hCRiK8Gu7mQtL8ks5vG40RgaJpZM4aTvsD>.\n> \n\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457841480",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457841480",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457841480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg0MTQ4MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T15:47:50Z",
    "updated_at": "2019-01-26T15:47:50Z",
    "author_association": "MEMBER",
    "body": "Like the possibly related https://github.com/pandas-dev/pandas/issues/24940, this is also a regression compared to 0.23.4."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457841652",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457841652",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457841652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg0MTY1Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T15:49:48Z",
    "updated_at": "2019-01-26T15:49:48Z",
    "author_association": "MEMBER",
    "body": "And for reference, the PR that started using `itertuples` (to properly box values): https://github.com/pandas-dev/pandas/pull/23921"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457872993",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457872993",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457872993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg3Mjk5Mw==",
    "user": {
      "login": "charlesdong1991",
      "id": 9269816,
      "node_id": "MDQ6VXNlcjkyNjk4MTY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9269816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charlesdong1991",
      "html_url": "https://github.com/charlesdong1991",
      "followers_url": "https://api.github.com/users/charlesdong1991/followers",
      "following_url": "https://api.github.com/users/charlesdong1991/following{/other_user}",
      "gists_url": "https://api.github.com/users/charlesdong1991/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charlesdong1991/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charlesdong1991/subscriptions",
      "organizations_url": "https://api.github.com/users/charlesdong1991/orgs",
      "repos_url": "https://api.github.com/users/charlesdong1991/repos",
      "events_url": "https://api.github.com/users/charlesdong1991/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charlesdong1991/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T22:52:44Z",
    "updated_at": "2019-01-26T22:52:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "anybody on ? can i work on this one?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457873471",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457873471",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457873471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg3MzQ3MQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T22:58:41Z",
    "updated_at": "2019-01-26T22:58:51Z",
    "author_association": "MEMBER",
    "body": "@charlesdong1991 sure PRs are always welcome! Though worth confirming with @TomAugspurger first here if we all agree that it's itertuples that needs to be changed"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457895191",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457895191",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457895191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg5NTE5MQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-27T07:22:00Z",
    "updated_at": "2019-01-27T07:22:00Z",
    "author_association": "MEMBER",
    "body": "I agree that we should try to find a way to not use `itertuples` (or at least the default behaviour with namedtuples, the plain tuple version might work, but then we still need to iterate through the column names as well)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457954333",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24939#issuecomment-457954333",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24939",
    "id": 457954333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzk1NDMzMw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-27T21:07:27Z",
    "updated_at": "2019-01-27T21:07:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Though worth confirming with @TomAugspurger first here if we all agree that it's itertuples that needs to be changed\r\n\r\nItertuples itself is fine. That's a documented limitation to `.itertuples` / namedtuples.\r\n\r\nBut anything in pandas that users `.itertuples` internally needs to assume that the return value is a vanilla tuple."
  }
]
