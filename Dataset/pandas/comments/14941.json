[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268516431",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268516431",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268516431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODUxNjQzMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T12:55:31Z",
    "updated_at": "2016-12-21T12:55:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "so this is correct, it is effectively doing an ``.astype(int)``. though I suppose this is too aggressive and the downcast from float -> int should only succeed if they are actually equal.\r\n\r\n@gfyoung thoughts"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268540213",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268540213",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268540213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODU0MDIxMw==",
    "user": {
      "login": "gryBox",
      "id": 16763201,
      "node_id": "MDQ6VXNlcjE2NzYzMjAx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16763201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gryBox",
      "html_url": "https://github.com/gryBox",
      "followers_url": "https://api.github.com/users/gryBox/followers",
      "following_url": "https://api.github.com/users/gryBox/following{/other_user}",
      "gists_url": "https://api.github.com/users/gryBox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gryBox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gryBox/subscriptions",
      "organizations_url": "https://api.github.com/users/gryBox/orgs",
      "repos_url": "https://api.github.com/users/gryBox/repos",
      "events_url": "https://api.github.com/users/gryBox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gryBox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T14:47:27Z",
    "updated_at": "2016-12-21T14:47:27Z",
    "author_association": "NONE",
    "body": "Just so I am clear, this is the behavior expected? Not this?\r\n\r\n```\r\ntst_df = pd.DataFrame({'colA':['a','b','c','a','z', 'q'],\r\n                      'colB': pd.date_range(end=datetime.datetime.now() , periods=6),\r\n                      'colC' : ['a1','b2','c3','a4','z5', 'q6'],\r\n                      'colD': [1000.0, 2000, 3000, 4000.36, 5000, 50000.00]})\r\n\r\npd.to_numeric(tst_df['colD'],  downcast='integer')\r\n```\r\n![image](https://cloud.githubusercontent.com/assets/16763201/21393444/11dd10d8-c75a-11e6-8f53-6b7abed54e93.png)\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268567174",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268567174",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268567174,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODU2NzE3NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T16:28:34Z",
    "updated_at": "2016-12-21T16:28:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, this looks buggy. if you want to have a look see inside and see what's going on would be great."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268573793",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268573793",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268573793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODU3Mzc5Mw==",
    "user": {
      "login": "gryBox",
      "id": 16763201,
      "node_id": "MDQ6VXNlcjE2NzYzMjAx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16763201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gryBox",
      "html_url": "https://github.com/gryBox",
      "followers_url": "https://api.github.com/users/gryBox/followers",
      "following_url": "https://api.github.com/users/gryBox/following{/other_user}",
      "gists_url": "https://api.github.com/users/gryBox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gryBox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gryBox/subscriptions",
      "organizations_url": "https://api.github.com/users/gryBox/orgs",
      "repos_url": "https://api.github.com/users/gryBox/repos",
      "events_url": "https://api.github.com/users/gryBox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gryBox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T16:52:28Z",
    "updated_at": "2016-12-21T16:52:28Z",
    "author_association": "NONE",
    "body": "@jreback  I will try - I am sort of new to this.  Is this the module I should be looking at?\r\n[pandas/pandas/tools/util.py](https://github.com/pandas-dev/pandas/blob/5faf32a62b52912bc0c4a26622bfc3d72b5121ff/pandas/tools/util.py)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268577353",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268577353",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268577353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODU3NzM1Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T17:05:11Z",
    "updated_at": "2016-12-21T17:05:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268578017",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268578017",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268578017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODU3ODAxNw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T17:07:49Z",
    "updated_at": "2016-12-21T17:08:43Z",
    "author_association": "MEMBER",
    "body": "@gryBox : First of all, thanks for pointing this out!  If you follow the code from where you started, the bug traces <a href=\"https://github.com/pandas-dev/pandas/blob/5faf32a62b52912bc0c4a26622bfc3d72b5121ff/pandas/types/cast.py#L117\">here</a>. You can see here yourself:\r\n~~~python\r\n>>> import numpy as np\r\n>>>\r\n>>> arr = [1000000]\r\n>>> arr2 = [1000000.5]\r\n>>>\r\n>>> np.allclose(arr, arr2)  # This is what we do now\r\nTrue\r\n>>> np.allclose(arr, arr2, rtol=0)  # This is what we probably should do\r\nFalse\r\n~~~\r\nI think if passing `rtol=0`, you should be able to patch this behavior.  It also explains why it breaks with large numbers (the numbers are so large `rtol` isn't small enough to indicate that they're not close)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268820374",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268820374",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268820374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODgyMDM3NA==",
    "user": {
      "login": "gryBox",
      "id": 16763201,
      "node_id": "MDQ6VXNlcjE2NzYzMjAx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16763201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gryBox",
      "html_url": "https://github.com/gryBox",
      "followers_url": "https://api.github.com/users/gryBox/followers",
      "following_url": "https://api.github.com/users/gryBox/following{/other_user}",
      "gists_url": "https://api.github.com/users/gryBox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gryBox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gryBox/subscriptions",
      "organizations_url": "https://api.github.com/users/gryBox/orgs",
      "repos_url": "https://api.github.com/users/gryBox/repos",
      "events_url": "https://api.github.com/users/gryBox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gryBox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-22T15:17:00Z",
    "updated_at": "2016-12-22T15:43:04Z",
    "author_association": "NONE",
    "body": "@gfyoung : The credit goes to [tworec](http://stackoverflow.com/users/3805131/tworec) at stack. \r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268826312",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14941#issuecomment-268826312",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14941",
    "id": 268826312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODgyNjMxMg==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-22T15:44:46Z",
    "updated_at": "2016-12-22T15:45:05Z",
    "author_association": "MEMBER",
    "body": "@gryBox : I'm not sure there is such a method.  Also, `numpy` `dtype` checking is not 100% compatible with all of our `pandas` objects (deliberate), hence we prefer to stay away from such methods in `numpy`."
  }
]
