[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/341918064",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-341918064",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 341918064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTkxODA2NA==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-04T18:10:18Z",
    "updated_at": "2017-11-04T18:10:18Z",
    "author_association": "MEMBER",
    "body": "Just updated the imports of NPY_DATETIME and NPY_TIMEDELTA.  Noticed there is some redundancy in the places they are used:\r\n\r\ntslib:\r\n```\r\ncpdef object get_value_box(ndarray arr, object loc):\r\n    [...16 lines suppressed...]\r\n    if arr.descr.type_num == NPY_DATETIME:\r\n        return Timestamp(util.get_value_1d(arr, i))\r\n    elif arr.descr.type_num == NPY_TIMEDELTA:\r\n        return Timedelta(util.get_value_1d(arr, i))\r\n    else:\r\n        return util.get_value_1d(arr, i)\r\n```\r\n\r\nindex:\r\n```\r\ndef get_value_at(ndarray arr, object loc):\r\n    if arr.descr.type_num == NPY_DATETIME:\r\n        return Timestamp(util.get_value_at(arr, loc))\r\n    elif arr.descr.type_num == NPY_TIMEDELTA:\r\n        return Timedelta(util.get_value_at(arr, loc))\r\n    return util.get_value_at(arr, loc)\r\n\r\n[...]\r\ncdef class IndexEngine:\r\n     [...]\r\n    cpdef get_value(self, ndarray arr, object key, object tz=None):\r\n        \"\"\"\r\n        arr : 1-dimensional ndarray\r\n        \"\"\"\r\n        cdef:\r\n            object loc\r\n            void* data_ptr\r\n\r\n        loc = self.get_loc(key)\r\n        if PySlice_Check(loc) or cnp.PyArray_Check(loc):\r\n            return arr[loc]\r\n        else:\r\n            if arr.descr.type_num == NPY_DATETIME:\r\n                return Timestamp(util.get_value_at(arr, loc), tz=tz)\r\n            elif arr.descr.type_num == NPY_TIMEDELTA:\r\n                return Timedelta(util.get_value_at(arr, loc))\r\n            return util.get_value_at(arr, loc)\r\n```\r\n\r\nIncidentally, index.get_value_at is never used."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/341918161",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-341918161",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 341918161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTkxODE2MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-04T18:11:21Z",
    "updated_at": "2017-11-04T18:11:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "pls leave float16_t around, it is a valid type (though only partially supported generally)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/341919918",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-341919918",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 341919918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTkxOTkxOA==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-04T18:36:51Z",
    "updated_at": "2017-11-04T18:36:51Z",
    "author_association": "MEMBER",
    "body": "> pls leave float16_t around, it is a valid type (though only partially supported generally).\r\n\r\nCan't.  This PR removes src/numpy.pxd so as to defer to the version found in setup using `numpy_incl = pkg_resources.resource_filename('numpy', 'core/include')` (equiv `np.get_include()`).  The idea being to avoid conflicting/redundant includes/namespaces.\r\n\r\nIf I add float16_t back to one of the cimports here, we get a build-time error:\r\n\r\n```\r\nError compiling Cython file:\r\n------------------------------------------------------------\r\n...\r\n# cython: profile=False\r\n\r\nfrom numpy cimport (ndarray, float16_t, float64_t, int32_t, int64_t, uint8_t, uint64_t)\r\n^\r\n------------------------------------------------------------\r\n\r\npandas/_libs/index.pyx:3:0: 'numpy/float16_t.pxd' not found\r\n```\r\n\r\nBesides which, float16_t is never actually used in any of the modules it is currently cimported into.\r\n\r\n\r\n... and looking at numpy.pxd, it looks very much like float16_t is... well I don't know what the term is:\r\n\r\n```\r\ncdef extern from \"numpy/arrayobject.h\":\r\n    [...]\r\n    ctypedef float        npy_float16\r\n    ctypedef float        npy_float32\r\n[...]\r\n\r\nctypedef npy_float16    float16_t\r\n```\r\n\r\nIs this actually an alias for float32_t?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/341948761",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-341948761",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 341948761,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTk0ODc2MQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-05T04:40:52Z",
    "updated_at": "2017-11-05T04:40:52Z",
    "author_association": "MEMBER",
    "body": "> Is this actually an alias for float32_t?\r\n\r\nFollowing that logic that you presented, then yes, it would be."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/341964301",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-341964301",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 341964301,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTk2NDMwMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-05T10:55:40Z",
    "updated_at": "2017-11-05T10:55:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "rebase"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/341987047",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-341987047",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 341987047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTk4NzA0Nw==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-05T16:47:21Z",
    "updated_at": "2017-11-05T16:47:21Z",
    "author_association": "MEMBER",
    "body": "I have no idea what's going on with the test failures.  Can anyone reproduce locally?  I'd also be ok with a \"this cleanup can be future-us's problem\""
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/341989022",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-341989022",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 341989022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTk4OTAyMg==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-05T17:15:57Z",
    "updated_at": "2017-11-05T17:15:57Z",
    "author_association": "MEMBER",
    "body": "May be related to #18064."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/342300698",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18101#issuecomment-342300698",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18101",
    "id": 342300698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjMwMDY5OA==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-06T21:55:36Z",
    "updated_at": "2017-11-06T21:55:36Z",
    "author_association": "MEMBER",
    "body": "No idea what's up with these failures.  Closing to focus attention on #17746, #18016, #18034."
  }
]
