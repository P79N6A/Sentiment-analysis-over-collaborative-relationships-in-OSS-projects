[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/87330602",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-87330602",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 87330602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzMwNjAy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-28T23:38:58Z",
    "updated_at": "2015-03-28T23:38:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "lgtm, pls add a release note!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/87340964",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-87340964",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 87340964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzQwOTY0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-29T01:54:19Z",
    "updated_at": "2015-03-29T01:54:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "worth adding that test that round trips to hdf (in the example issue)?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/87341000",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-87341000",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 87341000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzQxMDAw",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-29T01:56:02Z",
    "updated_at": "2015-03-29T01:56:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, makes sense.  [I'm hoping that using `dtype.name` sorts out the weird TypeError issue.]  Where should that test go?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/87341516",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-87341516",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 87341516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzQxNTE2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-29T02:00:56Z",
    "updated_at": "2015-03-29T02:00:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "put in io/tests/test_pytables.py\n\nyes I think u have to use dtype.name \n\nthe prob is (and maybe want to include a categorical)\n\nis that a categorical dtype is not safe to compare to a numpy dtype (but the name is)\n\nside issue is that if u have 2 cat blocks (cats are block separated, 1 cat per) thrn I sm not sure how they sort\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/87342144",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-87342144",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 87342144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzQyMTQ0",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-29T02:20:59Z",
    "updated_at": "2015-03-29T03:20:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Urf.  Getting the categorical stuff right is going to be a bit tricky. \n\nCan I assume that NaN will never be an element in a category?  I would have thought it would be disallowed entirely but I don't understand the output when you build one containing one. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89051368",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89051368",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89051368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MDUxMzY4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-02T21:37:26Z",
    "updated_at": "2015-04-02T21:37:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dsm054 you _can_ have a nan in a category\n\n```\nIn [5]: df = DataFrame({'A' : Series(list('aabbca')).astype('category',categories=['c','a','b',np.nan]),\n   ...:                 'B' : Series(list('aabbca')).astype('category',categories=['c','a','b'])})\n\nIn [6]: df\nOut[6]: \n   A  B\n0  a  a\n1  a  a\n2  b  b\n3  b  b\n4  c  c\n5  a  a\n\nIn [7]: df._data\nOut[7]: \nBlockManager\nItems: Index([u'A', u'B'], dtype='object')\nAxis 1: Int64Index([0, 1, 2, 3, 4, 5], dtype='int64')\nCategoricalBlock: slice(0, 1, 1), 1 x 6, dtype: category\nCategoricalBlock: slice(1, 2, 1), 1 x 6, dtype: category\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89065555",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89065555",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89065555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MDY1NTU1",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-02T22:36:26Z",
    "updated_at": "2015-04-02T22:36:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Blek.  What's the right way to handle putting the categorical blocks -- which won't coalesce even if the categories are the same -- in a canonical order?  \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89068280",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89068280",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89068280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MDY4Mjgw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-02T22:51:43Z",
    "updated_at": "2015-04-02T22:51:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "so, I would compare all 'regular' blocks (e.g. non-Categorical/non-Sparse) like you are doing. But these need special handling.\n\nI think you can order by the mgr block order. These map to how the it is represented in the actual DataFrame, and so will be the same. You _could_ actually do this for all blocks I think.\n\n```\nIn [4]: df._data.blocks[0].mgr_locs.as_array\nOut[4]: array([0])\n\nIn [5]: df._data.blocks[1].mgr_locs.as_array\nOut[5]: array([1])\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89118517",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89118517",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89118517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MTE4NTE3",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-03T01:58:01Z",
    "updated_at": "2015-04-03T01:58:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback: okay, I've got a version which passes both my tests and the OP's original case, by sorting on a (block type name, mgr_locs) tuple.  I don't understand how the mgr blocks work well enough to judge that side of things, unfortunately, so I don't know whether matching non-consolidated blocks can be in the wrong order even after this.\n\nCurrently passing everywhere except for what looks like an unrelated library build error; probably it'll work the next time it rebuilds.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89148103",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89148103",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89148103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MTQ4MTAz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-03T03:31:41Z",
    "updated_at": "2015-04-03T03:31:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, can you add a test with 2 categoricals (to your mixed test case)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89154868",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89154868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89154868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MTU0ODY4",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-03T04:01:38Z",
    "updated_at": "2015-04-03T04:01:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Beyond `\"a:i8;b:category;c:category2;d:category2\", # categories`, do you mean?  Two categoricals only?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89257019",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89257019",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89257019,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MjU3MDE5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-03T11:11:55Z",
    "updated_at": "2015-04-03T11:11:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "sorry missed that part of the test\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89868339",
    "html_url": "https://github.com/pandas-dev/pandas/pull/9745#issuecomment-89868339",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9745",
    "id": 89868339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5ODY4MzM5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-05T23:10:10Z",
    "updated_at": "2015-04-05T23:10:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "merged via https://github.com/pydata/pandas/commit/e9179feb290a5da3aafbda0efa882afff4415768\n\nthanks @dsm054 \nalways quality code from you!\n"
  }
]
