[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/222489155",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13322#issuecomment-222489155",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13322",
    "id": 222489155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjQ4OTE1NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-30T13:08:33Z",
    "updated_at": "2016-05-30T13:08:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok the issue is here:\n\n```\n> /Users/jreback/pandas/pandas/computation/pytables.py(198)convert_value()\n-> result = metadata.searchsorted(v, side='left')\n(Pdb) p metadata\narray(['ESP_012345_6789', 'ESP_987654_3210'], dtype=object)\n(Pdb) l\n193             elif kind == u('timedelta64') or kind == u('timedelta'):\n194                 v = _coerce_scalar_to_timedelta_type(v, unit='s').value\n195                 return TermValue(int(v), v, kind)\n196             elif meta == u('category'):\n197                 metadata = com._values_from_object(self.metadata)\n198  ->             result = metadata.searchsorted(v, side='left')\n199                 return TermValue(result, result, u('integer'))\n200             elif kind == u('integer'):\n201                 v = int(float(v))\n202                 return TermValue(v, v, kind)\n203             elif kind == u('float'):\n(Pdb) n\n> /Users/jreback/pandas/pandas/computation/pytables.py(199)convert_value()\n-> return TermValue(result, result, u('integer'))\n(Pdb) p result\n0\n(Pdb) p metadata\narray(['ESP_012345_6789', 'ESP_987654_3210'], dtype=object)\n(Pdb) p metadata.searchsorted(v, side='left')\n0\n```\n\nWe are searching for 'B' in the categories. And we get 0 when searched from the left, which actually means its not there (or IS the first element).\n\nSo you need to check if it IS the first element\n\n```\n(Pdb) p metadata.searchsorted('ESP_012345_6789', side='left')\n0\n```\n\nIf not, then prob easiest to just return -1 (which is not a valid code, rather than 0 which IS)\n\nwant to do a PR?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/222539309",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13322#issuecomment-222539309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13322",
    "id": 222539309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjUzOTMwOQ==",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-30T18:39:08Z",
    "updated_at": "2016-05-30T18:39:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry, not this time, I'm teaching for the first time this month.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/222539431",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13322#issuecomment-222539431",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13322",
    "id": 222539431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjUzOTQzMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-30T18:40:15Z",
    "updated_at": "2016-05-30T18:40:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "np thanks for the report\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238466914",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13322#issuecomment-238466914",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13322",
    "id": 238466914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODQ2NjkxNA==",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T06:40:49Z",
    "updated_at": "2016-08-09T06:40:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't understand the comments with \"IS the first element\". \nThe query \"obsids=B\" should only return on equality, and shouldn't care where something is positioned in the categories?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238509935",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13322#issuecomment-238509935",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13322",
    "id": 238509935,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUwOTkzNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T10:05:24Z",
    "updated_at": "2016-08-09T10:05:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\nIn [5]: arr = np.array(['ESP_012345_6789', 'ESP_987654_3210'], dtype=object)\n\nIn [6]: arr.searchsorted(arr[0], 'left')\nOut[6]: 0\n\nIn [7]: arr.searchsorted(arr[1], 'left')\nOut[7]: 1\n\nIn [8]: arr.searchsorted('foo', 'left')\nOut[8]: 2\n\nIn [9]: arr.searchsorted('B', 'left')\nOut[9]: 0\n```\n"
  }
]
