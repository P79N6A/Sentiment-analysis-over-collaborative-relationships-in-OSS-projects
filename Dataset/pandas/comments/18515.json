[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/347153189",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18515#issuecomment-347153189",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18515",
    "id": 347153189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzE1MzE4OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-27T11:20:39Z",
    "updated_at": "2017-11-27T11:20:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "dupe of #17261 "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348148143",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18515#issuecomment-348148143",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18515",
    "id": 348148143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODE0ODE0Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T10:31:28Z",
    "updated_at": "2017-11-30T10:31:28Z",
    "author_association": "MEMBER",
    "body": "This takes a separate fix, so let's keep this open? \r\nI suppose this is due to this inconsistency in the Categorical constructor:\r\n\r\n```\r\nIn [13]: pd.Categorical(np.array([]))\r\nOut[13]: [], Categories (0, float64): []\r\n\r\nIn [14]: pd.Categorical([])\r\nOut[14]: [], Categories (0, object): []\r\n``` "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348151925",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18515#issuecomment-348151925",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18515",
    "id": 348151925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODE1MTkyNQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T10:46:05Z",
    "updated_at": "2017-11-30T10:46:05Z",
    "author_association": "MEMBER",
    "body": "Actually, the above is maybe not that wrong? As in the first case you actually pass it a float array, so it's OK that the categories are float. \r\nSo then it does need to be fixed in the Series init, which I think @toobaz is doing in https://github.com/pandas-dev/pandas/pull/18496"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348156325",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18515#issuecomment-348156325",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18515",
    "id": 348156325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODE1NjMyNQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T11:03:59Z",
    "updated_at": "2017-11-30T11:03:59Z",
    "author_association": "MEMBER",
    "body": "> I suppose this is due to this inconsistency in the Categorical constructor:\r\n\r\nThe inconsistency is precisely the one described in my [opening example](https://github.com/pandas-dev/pandas/issues/18515#issue-276974367). Which is what I'm fixing in #18496  (and has nothing to do with passing an array - which would rightly keep its dtype).\r\n\r\nBut you are right that this can be considered separate from #17261, which doesn't involve categories. @jreback probably just viewed this as included in that (which was fine to me - but the fix is distinct).\r\n\r\nSo OK with reopening, I will just mention in #18496 that it closes this."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348157379",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18515#issuecomment-348157379",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18515",
    "id": 348157379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODE1NzM3OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T11:08:32Z",
    "updated_at": "2017-11-30T11:08:32Z",
    "author_association": "MEMBER",
    "body": "> The inconsistency is precisely the one described in my opening example.\r\n\r\nNo, you are describing it with Series, which is something different as with Categorical :-) \r\n\r\nAnyhow, yes consider this as a separate issue, and mention it in #18496 (+ adding new tests, whatsnew note)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348157965",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18515#issuecomment-348157965",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18515",
    "id": 348157965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODE1Nzk2NQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T11:10:58Z",
    "updated_at": "2017-11-30T11:12:17Z",
    "author_association": "MEMBER",
    "body": "> No, you are describing it with Series, which is something different as with Categorical :-)\r\n\r\nIndeed. This issue has nothing to do with (non-``Series``) ``Categorical`` (the inconsistency you are describing is unrelated to mine, and to this bug).\r\n\r\n> Anyhow, yes consider this as a separate issue, and mention it in #18496 (+ adding new tests, whatsnew note)\r\n\r\nOK"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348158912",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18515#issuecomment-348158912",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18515",
    "id": 348158912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODE1ODkxMg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T11:15:17Z",
    "updated_at": "2017-11-30T11:16:01Z",
    "author_association": "MEMBER",
    "body": "> the inconsistency you are describing is unrelated to mine\r\n\r\nNo, the inconsistency I describe is the underlying reason for the bug you reported in this issue. Of course, the actual cause is in the implementation detail how Series handles no data or empty dict, previously it was passed as np.array([]), now you changed that to be passed as []. Which you are fixing, so perfect!"
  }
]
