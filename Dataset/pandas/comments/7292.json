[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44782388",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-44782388",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 44782388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzgyMzg4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-01T16:51:15Z",
    "updated_at": "2014-06-01T16:51:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "So `pct_change` is just s divided by its 5H shift (slightly more complicated as it handles various fill methods). So this, while I agree looks a bit odd, seems correct. That said I could also see that it should reindex to the original series\n\n```\nIn [6]: s\nOut[6]: \n2014-06-01 00:00:00    0\n2014-06-01 01:00:00    1\n2014-06-01 02:00:00    2\n2014-06-01 03:00:00    3\n2014-06-01 04:00:00    4\n2014-06-01 05:00:00    5\n2014-06-01 06:00:00    6\n2014-06-01 07:00:00    7\n2014-06-01 08:00:00    8\n2014-06-01 09:00:00    9\nFreq: H, dtype: int64\n\nIn [7]: s.shift(freq='5H')\nOut[7]: \n2014-06-01 05:00:00    0\n2014-06-01 06:00:00    1\n2014-06-01 07:00:00    2\n2014-06-01 08:00:00    3\n2014-06-01 09:00:00    4\n2014-06-01 10:00:00    5\n2014-06-01 11:00:00    6\n2014-06-01 12:00:00    7\n2014-06-01 13:00:00    8\n2014-06-01 14:00:00    9\ndtype: int64\n```\n\nProposed\n\n```\nIn [10]: s.div(s.shift(freq='5H')).reindex_like(s)\nOut[10]: \n2014-06-01 00:00:00         NaN\n2014-06-01 01:00:00         NaN\n2014-06-01 02:00:00         NaN\n2014-06-01 03:00:00         NaN\n2014-06-01 04:00:00         NaN\n2014-06-01 05:00:00         inf\n2014-06-01 06:00:00    6.000000\n2014-06-01 07:00:00    3.500000\n2014-06-01 08:00:00    2.666667\n2014-06-01 09:00:00    2.250000\nFreq: H, dtype: float64\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44782716",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-44782716",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 44782716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzgyNzE2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-01T17:05:29Z",
    "updated_at": "2014-06-01T17:05:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "want to do a pr to fix this?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/45631583",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-45631583",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 45631583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjMxNTgz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-10T15:44:23Z",
    "updated_at": "2014-06-10T15:44:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@shura-v how's this coming?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46780121",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-46780121",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 46780121,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzgwMTIx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-22T12:40:33Z",
    "updated_at": "2014-06-22T12:40:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@shura-v ?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49007702",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-49007702",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 49007702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDA3NzAy",
    "user": {
      "login": "shura-v",
      "id": 2202588,
      "node_id": "MDQ6VXNlcjIyMDI1ODg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2202588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shura-v",
      "html_url": "https://github.com/shura-v",
      "followers_url": "https://api.github.com/users/shura-v/followers",
      "following_url": "https://api.github.com/users/shura-v/following{/other_user}",
      "gists_url": "https://api.github.com/users/shura-v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shura-v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shura-v/subscriptions",
      "organizations_url": "https://api.github.com/users/shura-v/orgs",
      "repos_url": "https://api.github.com/users/shura-v/repos",
      "events_url": "https://api.github.com/users/shura-v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shura-v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-15T09:11:01Z",
    "updated_at": "2014-07-15T09:11:01Z",
    "author_association": "NONE",
    "body": "I made pull request on June 2nd:\nHere is my commit: https://github.com/shura-v/pandas/commit/eb250b6cead505bad3cf67e838f975b6148cdeae\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49008087",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-49008087",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 49008087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDA4MDg3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-15T09:14:53Z",
    "updated_at": "2014-07-15T09:14:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "needs some tests\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/360577297",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-360577297",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 360577297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDU3NzI5Nw==",
    "user": {
      "login": "minggli",
      "id": 14131823,
      "node_id": "MDQ6VXNlcjE0MTMxODIz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/14131823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minggli",
      "html_url": "https://github.com/minggli",
      "followers_url": "https://api.github.com/users/minggli/followers",
      "following_url": "https://api.github.com/users/minggli/following{/other_user}",
      "gists_url": "https://api.github.com/users/minggli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minggli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minggli/subscriptions",
      "organizations_url": "https://api.github.com/users/minggli/orgs",
      "repos_url": "https://api.github.com/users/minggli/repos",
      "events_url": "https://api.github.com/users/minggli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minggli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-25T19:40:54Z",
    "updated_at": "2018-01-25T19:40:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, will attempt to work on this issue. reverting."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/360769455",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7292#issuecomment-360769455",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7292",
    "id": 360769455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDc2OTQ1NQ==",
    "user": {
      "login": "minggli",
      "id": 14131823,
      "node_id": "MDQ6VXNlcjE0MTMxODIz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/14131823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minggli",
      "html_url": "https://github.com/minggli",
      "followers_url": "https://api.github.com/users/minggli/followers",
      "following_url": "https://api.github.com/users/minggli/following{/other_user}",
      "gists_url": "https://api.github.com/users/minggli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minggli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minggli/subscriptions",
      "organizations_url": "https://api.github.com/users/minggli/orgs",
      "repos_url": "https://api.github.com/users/minggli/repos",
      "events_url": "https://api.github.com/users/minggli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minggli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-26T12:11:47Z",
    "updated_at": "2018-01-26T14:15:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback \r\n\r\nsince pandas.core.generic.NDFrame.pct_change essentially calls s.shift method to work out pct change, I've looked into how different outputs were produced with difference choices of params.\r\n\r\ns.shift(periods=5, freq=None) uses the underlying _data block manager to **shift values** without touching the index.\r\n\r\ns.shift(freq='5H') calls s.tshift and **shift index**, hence when calculating pct_change (unshifted divided by shifted frame), the resulting frame will have longer index when shifting with frequencies than when shifting with periods, because the latter scenario, index remains unchanged.\r\n\r\nSo that explains the difference of observations as per earlier discussion. raising PR. reverting."
  }
]
