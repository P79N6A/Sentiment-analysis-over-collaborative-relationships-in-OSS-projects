[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30522525",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-30522525",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 30522525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTIyNTI1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-13T16:31:29Z",
    "updated_at": "2013-12-13T16:31:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "looks like a dupe of #5172, yes?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30522825",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-30522825",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 30522825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTIyODI1",
    "user": {
      "login": "dalbani",
      "id": 1470270,
      "node_id": "MDQ6VXNlcjE0NzAyNzA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1470270?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dalbani",
      "html_url": "https://github.com/dalbani",
      "followers_url": "https://api.github.com/users/dalbani/followers",
      "following_url": "https://api.github.com/users/dalbani/following{/other_user}",
      "gists_url": "https://api.github.com/users/dalbani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dalbani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dalbani/subscriptions",
      "organizations_url": "https://api.github.com/users/dalbani/orgs",
      "repos_url": "https://api.github.com/users/dalbani/repos",
      "events_url": "https://api.github.com/users/dalbani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dalbani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-13T16:35:17Z",
    "updated_at": "2013-12-13T16:35:17Z",
    "author_association": "NONE",
    "body": "Compared to #5172, in my case resampling by \"D\" works and I don't get any AmbiguousTimeError.\nDon't know if that matters.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30522936",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-30522936",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 30522936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTIyOTM2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-13T16:36:28Z",
    "updated_at": "2013-12-13T16:36:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok....you have nice examples anyhow...will leave them both open/linked then\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30581418",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-30581418",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 30581418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTgxNDE4",
    "user": {
      "login": "dalbani",
      "id": 1470270,
      "node_id": "MDQ6VXNlcjE0NzAyNzA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1470270?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dalbani",
      "html_url": "https://github.com/dalbani",
      "followers_url": "https://api.github.com/users/dalbani/followers",
      "following_url": "https://api.github.com/users/dalbani/following{/other_user}",
      "gists_url": "https://api.github.com/users/dalbani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dalbani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dalbani/subscriptions",
      "organizations_url": "https://api.github.com/users/dalbani/orgs",
      "repos_url": "https://api.github.com/users/dalbani/repos",
      "events_url": "https://api.github.com/users/dalbani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dalbani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-14T17:29:35Z",
    "updated_at": "2013-12-14T17:29:35Z",
    "author_association": "NONE",
    "body": "Further differences between various resampling:\n\nWhereas \"W-MON\" and \"MS\" doesn't work, it does with \"2W-MON\" and \"2MS\":\n\n```\ndf.resample(\"2W-MON\", how = { \"a\": \"min\", \"b\": \"max\" })\n```\n\n```\n                                  a         b\n2013-09-30 00:00:00+02:00  0.015856  0.979541\n2013-10-14 00:00:00+02:00  0.002614  0.999734\n2013-10-28 00:00:00+01:00  0.003269  0.999960\n2013-11-11 00:00:00+01:00  0.000747  0.999306\n```\n\n```\ndf.resample(\"2MS\", how = { \"a\": \"min\", \"b\": \"max\" })\n```\n\n```\n                                  a         b\n2013-09-01 00:00:00+02:00  0.002039  0.999960\n2013-11-01 00:00:00+01:00  0.000747  0.986369\n```\n\nAnd in fact, \"W-MON\" and \"MS\" resampling _can_ work if, strangely enough, you use the \"count\" operator:\n\n```\ndf.resample(\"W-MON\", how = { \"a\": \"min\", \"b\": \"count\" })\n```\n\n```\n                                  a    b\n2013-09-30 00:00:00+02:00  0.015856   44\n2013-10-07 00:00:00+02:00  0.007961  336\n2013-10-14 00:00:00+02:00  0.002614  336\n2013-10-21 00:00:00+02:00  0.005655  336\n2013-10-28 00:00:00+01:00  0.003269  338\n2013-11-04 00:00:00+01:00  0.000747  195\n```\n\n```\ndf.resample(\"MS\", how = { \"a\": \"min\", \"b\": \"count\" })\n```\n\n```\n                                  a     b\n2013-09-01 00:00:00+02:00  0.015856    44\n2013-10-01 00:00:00+02:00  0.002039  1490\n2013-11-01 00:00:00+01:00  0.000747    51\n```\n\nSo I'm beginning to doubt that it has something to do with DST.\nIn fact, I've have already encountered this issue recently. See this thread on the mailing-list: https://groups.google.com/d/msg/pydata/4Xoas_m4pHA/OE-DrXBVg-QJ\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30900804",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-30900804",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 30900804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTAwODA0",
    "user": {
      "login": "rockg",
      "id": 3195015,
      "node_id": "MDQ6VXNlcjMxOTUwMTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3195015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockg",
      "html_url": "https://github.com/rockg",
      "followers_url": "https://api.github.com/users/rockg/followers",
      "following_url": "https://api.github.com/users/rockg/following{/other_user}",
      "gists_url": "https://api.github.com/users/rockg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rockg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rockg/subscriptions",
      "organizations_url": "https://api.github.com/users/rockg/orgs",
      "repos_url": "https://api.github.com/users/rockg/repos",
      "events_url": "https://api.github.com/users/rockg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rockg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-19T02:35:38Z",
    "updated_at": "2013-12-19T02:35:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, I'm confident that some of this will be fixed by or is at least closely related to #5175.  Basically, the data is right until it creates a unioned index via generate_range.  At this point start and end have the correct time, but in making the MS range between start and end it ignores DST which is what is being fixed.  Also, with just one group by column, no unioning is done and so the resulting index is fine.  I actually think that a lot of work can be shortcut here in core.index._union_indexes by perhaps checking if the indices are the same.  Perhaps that is too expensive, but if done smartly I think it would save some unnecessary work.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30901069",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-30901069",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 30901069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTAxMDY5",
    "user": {
      "login": "rockg",
      "id": 3195015,
      "node_id": "MDQ6VXNlcjMxOTUwMTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3195015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockg",
      "html_url": "https://github.com/rockg",
      "followers_url": "https://api.github.com/users/rockg/followers",
      "following_url": "https://api.github.com/users/rockg/following{/other_user}",
      "gists_url": "https://api.github.com/users/rockg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rockg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rockg/subscriptions",
      "organizations_url": "https://api.github.com/users/rockg/orgs",
      "repos_url": "https://api.github.com/users/rockg/repos",
      "events_url": "https://api.github.com/users/rockg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rockg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-19T02:42:55Z",
    "updated_at": "2013-12-19T02:42:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "And D works fine because it uses the native timedelta which accounts for DST.  Count also goes through a different code path in tseries.index.union_many (offset is missing from the count DatetimeIndex and so the indices cannot be fast unioned and so go through regular Index.union).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/31297330",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-31297330",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 31297330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjk3MzMw",
    "user": {
      "login": "rockg",
      "id": 3195015,
      "node_id": "MDQ6VXNlcjMxOTUwMTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3195015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockg",
      "html_url": "https://github.com/rockg",
      "followers_url": "https://api.github.com/users/rockg/followers",
      "following_url": "https://api.github.com/users/rockg/following{/other_user}",
      "gists_url": "https://api.github.com/users/rockg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rockg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rockg/subscriptions",
      "organizations_url": "https://api.github.com/users/rockg/orgs",
      "repos_url": "https://api.github.com/users/rockg/repos",
      "events_url": "https://api.github.com/users/rockg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rockg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-28T14:19:03Z",
    "updated_at": "2013-12-28T14:19:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "This characterize what happens.  When start/end have a timezone the DatetimeIndex tries to generate the range rather than using the cached_range.  `_generate_regular_range` should work properly with #5175 integrated.  Also, I came across another strange error with timezone comparison.  The `_utcoffset` of the Timestamps tzinfo and one created with pytz.timezone are different hence the `__repr__` is different.\n\n```\n            if _use_cached_range(offset, _normalized, start, end):\n                index = cls._cached_range(start, end, periods=periods,\n                                          offset=offset, name=name)\n            else:\n                index = _generate_regular_range(start, end, periods, offset)\n```\n\nSome test cases:\n\n```\n# Wrong\nimport pandas as pd\npd.date_range(pd.Timestamp('2013-09-30', tz='Europe/Paris'), pd.Timestamp('2013-11-05', tz='Europe/Paris'), freq='MS')\nOut[1]: \n<class 'pandas.tseries.index.DatetimeIndex'>\n[2013-10-01 00:00:00, 2013-10-31 23:00:00]\nLength: 2, Freq: MS, Timezone: Europe/Paris\n\n#TZ issue\npd.date_range(pd.Timestamp('2013-09-30', tz='Europe/Paris'), pd.Timestamp('2013-11-05', tz='Europe/Paris'), freq='MS', tz='Europe/Paris')\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/IPython/core/interactiveshell.py\", line 2821, in run_code\n    exec code_obj in self.user_global_ns, self.user_ns\n  File \"<ipython-input-1-22f04ffd6a85>\", line 1, in <module>\n    pd.date_range(pd.Timestamp('2013-09-30', tz='Europe/Paris'), pd.Timestamp('2013-11-05', tz='Europe/Paris'), freq='MS', tz='Europe/Paris')\n  File \"/Users/rockg/Projects/pandas_temp/pandas/tseries/index.py\", line 1789, in date_range\n    closed=closed)\n  File \"/Users/rockg/Projects/pandas_temp/pandas/tseries/index.py\", line 193, in __new__\n    infer_dst=infer_dst)\n  File \"/Users/rockg/Projects/pandas_temp/pandas/tseries/index.py\", line 339, in _generate\n    raise AssertionError(\"Inferred time zone not equal to passed \"\nAssertionError: Inferred time zone not equal to passed time zone\n\n#Right\npd.date_range(pd.Timestamp('2013-09-30'), pd.Timestamp('2013-11-05'), freq='MS', tz='Europe/Paris')\nOut[1]: \n<class 'pandas.tseries.index.DatetimeIndex'>\n[2013-10-01 00:00:00, 2013-11-01 00:00:00]\nLength: 2, Freq: MS, Timezone: Europe/Paris\n```\n\nHere is the timezone issue:\n\n```\nts = pd.Timestamp('2013-09-30', tz='Europe/Paris')\nts.tzinfo._utcoffset\nOut[1]: datetime.timedelta(0, 7200)\ntz = pytz.timezone('Europe/Paris')\ntz._utcoffset\nOut[1]: datetime.timedelta(0, 540)\ntz == ts.tzinfo\nOut[1]: False\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/61973281",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5694#issuecomment-61973281",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5694",
    "id": 61973281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTczMjgx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-06T12:42:10Z",
    "updated_at": "2014-11-06T12:42:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as dupe of #5172 for now\n"
  }
]
