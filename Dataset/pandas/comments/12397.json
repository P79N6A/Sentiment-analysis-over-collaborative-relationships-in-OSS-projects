[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/187193971",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-187193971",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 187193971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzE5Mzk3MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-22T14:13:45Z",
    "updated_at": "2016-02-22T14:14:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you give an actual usecase?\n\nnormally you would simply do `.reset_index()`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/192240142",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-192240142",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 192240142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjI0MDE0Mg==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-04T11:22:16Z",
    "updated_at": "2016-03-04T11:22:16Z",
    "author_association": "MEMBER",
    "body": "I just searched for this. I have a DF filled with boolean values (an adjacency matrix). I want to store the pairs of labels for which the value is True. I start by doing a simple\n\n```\ndf = df.unstack()\ndf = df[df == True]\n```\n\nnow I would like to do\n\n```\ndf.to_dataframe().to_csv(path)\n```\n\ninstead I need to do\n\n```\ndf.reset_index()[['indexname1', 'indexname2']].to_csv(path)\n```\n\n(admittedly, not a huge problem, but on the other hand `to_series()` itself could easily be replaced by `.reset_index()['indexname']` I think; `to_dataframe` seems to me at least as useful)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/203036810",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-203036810",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 203036810,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzAzNjgxMA==",
    "user": {
      "login": "relativistic",
      "id": 371039,
      "node_id": "MDQ6VXNlcjM3MTAzOQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/371039?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/relativistic",
      "html_url": "https://github.com/relativistic",
      "followers_url": "https://api.github.com/users/relativistic/followers",
      "following_url": "https://api.github.com/users/relativistic/following{/other_user}",
      "gists_url": "https://api.github.com/users/relativistic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/relativistic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/relativistic/subscriptions",
      "organizations_url": "https://api.github.com/users/relativistic/orgs",
      "repos_url": "https://api.github.com/users/relativistic/repos",
      "events_url": "https://api.github.com/users/relativistic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/relativistic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-29T18:22:03Z",
    "updated_at": "2016-03-29T18:24:15Z",
    "author_association": "NONE",
    "body": "Sorry, missed the notification with @jreback 's comment.\n\nOne of the nice things about `to_series()` is that it maintains the original index, which is useful if you need to interact with the original dataframe. `reset_index()` does not do this. To get what I want with `reset_index()`, I would need to do something like:\n\n```\nindex_names = df.index.names\ndf_indx = df.reset_index()[index_names]\ndf_indx.index = df.index\n```\n\nThis is a bit verbose, but admittedly, not bad. The main problem is that this is fragile, and will not work on all DataFrames. It would fail if:\n-  any string  in `index_names` has a duplicate in `df.columns` .\n- The index is unnamed\n\nAny one of these problems is relatively easy to get around, if you know a priori the construction of the dataframe. However, its a bit more effort if you want to write a general-purpose function that is guarantied to work in all conditions. And even in the case where you have some idea of your input, it would simply be nice if pandas could deal with this for you so you can focus  data analysis, rather than how to wrangle it into the right format.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/203039637",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-203039637",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 203039637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzAzOTYzNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-29T18:29:44Z",
    "updated_at": "2016-03-29T18:29:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "@relativistic again a fully worked out example here would be instructive. `.reset_index()` DOES preserve the index as its now in a column(s). So not sure what you mean.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/203051354",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-203051354",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 203051354,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzA1MTM1NA==",
    "user": {
      "login": "relativistic",
      "id": 371039,
      "node_id": "MDQ6VXNlcjM3MTAzOQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/371039?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/relativistic",
      "html_url": "https://github.com/relativistic",
      "followers_url": "https://api.github.com/users/relativistic/followers",
      "following_url": "https://api.github.com/users/relativistic/following{/other_user}",
      "gists_url": "https://api.github.com/users/relativistic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/relativistic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/relativistic/subscriptions",
      "organizations_url": "https://api.github.com/users/relativistic/orgs",
      "repos_url": "https://api.github.com/users/relativistic/repos",
      "events_url": "https://api.github.com/users/relativistic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/relativistic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-29T18:59:23Z",
    "updated_at": "2016-03-29T18:59:23Z",
    "author_association": "NONE",
    "body": "@jreback : Okay, sure. I'll try to pull together an example some evening soon. Can't show the code I was working on unfortunately, so I'll have to come up with another example.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/263949453",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-263949453",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 263949453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mzk0OTQ1Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-30T18:12:14Z",
    "updated_at": "2016-11-30T18:12:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "here is an external impl (e.g. could prob be faster / better if we did this inside of a ``.to_dataframe()``) method\r\n\r\n```\r\nIn [24]: i = pd.MultiIndex.from_product([np.arange(1000),np.arange(1000)],names=['one','two'])\r\n\r\nIn [25]: len(i)\r\nOut[25]: 1000000\r\n\r\nIn [26]: %timeit DataFrame(i.tolist(), columns=i.names)\r\n1 loop, best of 3: 612 ms per loop\r\n\r\nIn [27]: %timeit DataFrame([], index=i).reset_index()\r\n10 loops, best of 3: 38.5 ms per loop\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/263960926",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-263960926",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 263960926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mzk2MDkyNg==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-30T18:54:48Z",
    "updated_at": "2016-11-30T18:54:48Z",
    "author_association": "MEMBER",
    "body": "Just for reference: at the time, I ended up doing:\r\n\r\n```\r\nIn [4]: %timeit pd.DataFrame({i.names[n] or n : i.levels[n][i.labels[n]]\r\n                              for n in range(len(i.names))})\r\n100 loops, best of 3: 16.4 ms per loop\r\n```\r\nwhich performs slightly better than (same as above, just to compare on the same CPU):\r\n```\r\nIn [5]: %timeit pd.DataFrame([], index=i).reset_index()\r\n10 loops, best of 3: 21.5 ms per loop\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/263970514",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12397#issuecomment-263970514",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12397",
    "id": 263970514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mzk3MDUxNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-30T19:30:17Z",
    "updated_at": "2016-11-30T19:30:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@toobaz that's only true for a relatively small frame"
  }
]
