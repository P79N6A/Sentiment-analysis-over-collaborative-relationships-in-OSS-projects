[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60365067",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8624#issuecomment-60365067",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8624",
    "id": 60365067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzY1MDY3",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-24T09:35:02Z",
    "updated_at": "2014-10-24T09:35:02Z",
    "author_association": "MEMBER",
    "body": "Thanks for the catch! This was untested.\n\nSeems there is a problem with the `CategoricalBlock.values`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60366131",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8624#issuecomment-60366131",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8624",
    "id": 60366131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzY2MTMx",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-24T09:45:41Z",
    "updated_at": "2014-10-24T09:46:20Z",
    "author_association": "MEMBER",
    "body": "@jreback The values are stored differently in `CategoricalBlock` compared to others (other dimensions, as a `Categorical` is always one-dimensional in contrast to real numpy arrays):\n\n```\nIn [48]: df\nOut[48]:\n    person_id   person_name\n0   1   John P. Doe\n1   2   Jane Dove\n2   1   John P. Doe\n\nIn [49]:   df._data.blocks\nOut[49]:\n(IntBlock: slice(0L, 1L, 1), 1 x 3, dtype: int64,\n CategoricalBlock: slice(1, 2, 1), 1 x 3, dtype: category)\n\nIn [50]:   df._data.blocks[0].values.shape\nOut[50]:\n(1L, 3L)\n\nIn [51]:   df._data.blocks[1].values.shape\nOut[51]:\n(3,)\n```\n\n@jreback Should this be fixed in CategoricalBlock itself? Or should I just catch it in the sql function and reshape it there appropriately for `if b.is_categorical`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60368144",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8624#issuecomment-60368144",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8624",
    "id": 60368144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzY4MTQ0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-24T10:06:26Z",
    "updated_at": "2014-10-24T10:07:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is how they are stored ; they are un consolidated (as are sparse) - eg you cannot usually combine 2 different categorical columns\n\nyou will need to turn them into a full array \nsomething like np.array(cat .values) - but I think u use blocks directly iirc\n\nyou should be using get_values() if this is a block (which will densify these types of structures )\n\nnote that u obviously lose the fact that it is a categorical - but csv/sql are not able to store this type of meta data\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/60369026",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8624#issuecomment-60369026",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8624",
    "id": 60369026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzY5MDI2",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-24T10:15:33Z",
    "updated_at": "2014-10-24T10:15:33Z",
    "author_association": "MEMBER",
    "body": "Ah, yes, using `get_values` solves it (it gives the required 2D array). \nI see, for Blocks, `get_values` just returns `values`, for `NonConsolidatable` blocks it reshapes it (what I wanted to do myself). OK easy fix then!\n\nyes, the categorical is just returned and written as strings. \n"
  }
]
