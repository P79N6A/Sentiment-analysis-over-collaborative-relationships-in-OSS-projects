[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/164740043",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11843#issuecomment-164740043",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11843",
    "id": 164740043,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDc0MDA0Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-15T11:46:29Z",
    "updated_at": "2015-12-15T11:46:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "You are trying to store in a fixed store, which is not implemented. table stores are allowed.\n\npassing `format='table'` to the constructor of `HDFStore` doesn't do anything. You need to specify on a per object basis.\n\n```\nIn [2]: df = DataFrame({'A' : [1,2,3], 'B' : Series(list('aab')).astype('category')}) \n\nIn [3]: df\nOut[3]: \n   A  B\n0  1  a\n1  2  a\n2  3  b\n\nIn [4]: df.dtypes\nOut[4]: \nA       int64\nB    category\ndtype: object\n\nIn [5]: s = pd.HDFStore('test.h5')\n\nIn [6]: s.put('df',df)\n---------------------------------------------------------------------------\nNotImplementedError: cannot store a category dtype\n\nIn [8]: s.append('df2',df)\n\nIn [9]: s\nOut[9]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: test.h5\n/df2                                     frame_table  (typ->appendable,nrows->3,ncols->2,indexers->[index])             \n/df2/meta/values_block_1/meta            series_table (typ->appendable,nrows->2,ncols->1,indexers->[index],dc->[values])\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/164783222",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11843#issuecomment-164783222",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11843",
    "id": 164783222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDc4MzIyMg==",
    "user": {
      "login": "esvhd",
      "id": 7330385,
      "node_id": "MDQ6VXNlcjczMzAzODU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7330385?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esvhd",
      "html_url": "https://github.com/esvhd",
      "followers_url": "https://api.github.com/users/esvhd/followers",
      "following_url": "https://api.github.com/users/esvhd/following{/other_user}",
      "gists_url": "https://api.github.com/users/esvhd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esvhd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esvhd/subscriptions",
      "organizations_url": "https://api.github.com/users/esvhd/orgs",
      "repos_url": "https://api.github.com/users/esvhd/repos",
      "events_url": "https://api.github.com/users/esvhd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esvhd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-15T14:38:48Z",
    "updated_at": "2015-12-15T14:39:05Z",
    "author_association": "NONE",
    "body": "Thanks @jreback ! This solved the problem. \n\nFor completeness, one additional step that I had to do was to make sure that text strings used as categories are encoded as `utf-8`. Otherwise I get a unicode not supported exception. \n\nGreat to know that `format='table'` in the constructor does nothing!\n\nBtw, saw your talk at PyData NYC 2015, loved it.\n"
  }
]
