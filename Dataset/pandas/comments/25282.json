[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463505177",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25282#issuecomment-463505177",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25282",
    "id": 463505177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzUwNTE3Nw==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T06:17:14Z",
    "updated_at": "2019-02-14T06:17:14Z",
    "author_association": "MEMBER",
    "body": "Can you post versions from both environments where you had the issue? Seems kind of strange that the version of numpy only matters for one of the two pandas versions you've tested"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463538656",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25282#issuecomment-463538656",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25282",
    "id": 463538656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzUzODY1Ng==",
    "user": {
      "login": "H-SG",
      "id": 9310831,
      "node_id": "MDQ6VXNlcjkzMTA4MzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9310831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/H-SG",
      "html_url": "https://github.com/H-SG",
      "followers_url": "https://api.github.com/users/H-SG/followers",
      "following_url": "https://api.github.com/users/H-SG/following{/other_user}",
      "gists_url": "https://api.github.com/users/H-SG/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/H-SG/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/H-SG/subscriptions",
      "organizations_url": "https://api.github.com/users/H-SG/orgs",
      "repos_url": "https://api.github.com/users/H-SG/repos",
      "events_url": "https://api.github.com/users/H-SG/events{/privacy}",
      "received_events_url": "https://api.github.com/users/H-SG/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T08:32:40Z",
    "updated_at": "2019-02-14T08:32:40Z",
    "author_association": "NONE",
    "body": "It's the same environment, I was updating my numpy and pandas libraries when I ran into the issue, all other packages remained the same.  Playing around with installing specific versions of each led to the strange combination of working versions."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463832514",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25282#issuecomment-463832514",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25282",
    "id": 463832514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzgzMjUxNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T22:42:47Z",
    "updated_at": "2019-02-14T22:42:47Z",
    "author_association": "MEMBER",
    "body": "The above code indeed shows a regression in my 0.23.4 vs master environments. I have numpy 1.13 in both of them, so I don't think this is related to numpy.\r\n\r\nIt's the repr that fails, and it seems to be related to the fact that it now returns an \"invalid\" TimedeltaIndex, instead of a numpy.timedelta64 scalar:\r\n\r\n```\r\nIn [8]: pd.__version__\r\nOut[8]: '0.23.4'\r\n\r\nIn [9]: res = np.sum(dtd)\r\n\r\nIn [10]: type(res)\r\nOut[10]: numpy.timedelta64\r\n```\r\n\r\nvs\r\n\r\n```\r\nIn [15]: pd.__version__                                                                                                                                                         \r\nOut[15]: '0.25.0.dev0+113.gb8306f19d.dirty'\r\n\r\nIn [16]: res = np.sum(dtd)                                                                                                                                                      \r\n\r\nIn [17]: type(res)                                                                                                                                                              \r\nOut[17]: pandas.core.indexes.timedeltas.TimedeltaIndex\r\n\r\nIn [18]: res.values                                                                                                                                                             \r\nOut[18]: array(5940000000000, dtype='timedelta64[ns]')\r\n\r\nIn [19]: res.values.ndim                                                                                                                                                        \r\nOut[19]: 0\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463833606",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25282#issuecomment-463833606",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25282",
    "id": 463833606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzgzMzYwNg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T22:46:34Z",
    "updated_at": "2019-02-14T22:46:34Z",
    "author_association": "MEMBER",
    "body": "Might be related to the fact that the TimedeltaIndex/TimedeltaArray constructor no longer fails on scalars, but produces an invalid index/array:\r\n\r\n```\r\nIn [12]: pd.__version__\r\nOut[12]: '0.23.4'\r\n\r\nIn [13]: idx = pd.TimedeltaIndex(np.array(1, dtype='timedelta64[ns]'))\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-13-7b4cf68e5224> in <module>()\r\n----> 1 idx = pd.TimedeltaIndex(np.array(1, dtype='timedelta64[ns]'))\r\n\r\n~/miniconda3/lib/python3.5/site-packages/pandas/core/indexes/timedeltas.py in __new__(cls, data, unit, freq, start, end, periods, closed, dtype, copy, name, verify_integrity)\r\n    250 \r\n    251         # check that we are matching freqs\r\n--> 252         if verify_integrity and len(data) > 0:\r\n    253             if freq is not None and not freq_infer:\r\n    254                 index = cls._simple_new(data, name=name)\r\n\r\nTypeError: len() of unsized object\r\n```\r\n\r\nvs\r\n\r\n```\r\nIn [29]: pd.__version__  \r\nOut[29]: '0.25.0.dev0+113.gb8306f19d.dirty'\r\n\r\nIn [30]: idx = pd.TimedeltaIndex(np.array(1, dtype='timedelta64[ns]'))\r\n\r\nIn [31]: idx.array._data  \r\nOut[31]: array(1, dtype='timedelta64[ns]')\r\n```\r\n\r\ncc @TomAugspurger @jbrockmendel seems EA refactor related"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463882396",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25282#issuecomment-463882396",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25282",
    "id": 463882396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzg4MjM5Ng==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T02:27:14Z",
    "updated_at": "2019-02-15T02:27:14Z",
    "author_association": "MEMBER",
    "body": "@jorisvandenbossche I think you're right that the TimedeltaArray constructor is behaving oddly.  Would `__array_ufunc__` be the place to look to figure out why `np.sum(tdi)` behaves differently from `np.sum(tdi._data)`?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463981237",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25282#issuecomment-463981237",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25282",
    "id": 463981237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzk4MTIzNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T10:08:29Z",
    "updated_at": "2019-02-15T10:08:29Z",
    "author_association": "MEMBER",
    "body": "> Would `__array_ufunc__` be the place to look to figure out why `np.sum(tdi)` behaves differently from `np.sum(tdi._data)`?\r\n\r\nLong term, yes. But short term simply fixing the constructor should also fix the sum bug (due to the way how numpy deal with it), as you already did in the PR in the meantime."
  }
]
