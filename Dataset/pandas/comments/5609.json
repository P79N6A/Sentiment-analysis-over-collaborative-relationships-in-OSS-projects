[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/29481345",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-29481345",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 29481345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDgxMzQ1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-28T19:12:22Z",
    "updated_at": "2013-11-28T19:12:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "this would need to be done in core/internals.py\n\nneeds to handle non trivial shifts (eg something that is not so straightforward like this) and multi dtypes \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33274189",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-33274189",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 33274189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjc0MTg5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T00:15:34Z",
    "updated_at": "2014-01-25T00:15:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@halleygithub putting on the plate for 0.14. Care to do a PR for this? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33469501",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-33469501",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 33469501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDY5NTAx",
    "user": {
      "login": "halleygithub",
      "id": 1404757,
      "node_id": "MDQ6VXNlcjE0MDQ3NTc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1404757?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/halleygithub",
      "html_url": "https://github.com/halleygithub",
      "followers_url": "https://api.github.com/users/halleygithub/followers",
      "following_url": "https://api.github.com/users/halleygithub/following{/other_user}",
      "gists_url": "https://api.github.com/users/halleygithub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/halleygithub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/halleygithub/subscriptions",
      "organizations_url": "https://api.github.com/users/halleygithub/orgs",
      "repos_url": "https://api.github.com/users/halleygithub/repos",
      "events_url": "https://api.github.com/users/halleygithub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/halleygithub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-28T11:13:41Z",
    "updated_at": "2014-01-28T11:13:41Z",
    "author_association": "NONE",
    "body": "@jreback , as I am not familiar with github, so I am not sure what can I do . But you are free to handle the code as you want. :)  \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33469990",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-33469990",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 33469990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDY5OTkw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-28T11:21:02Z",
    "updated_at": "2014-01-28T11:21:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "it's a nice excuse to get familiar\n\nsee here: http://pandas.pydata.org/developers.html\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35148715",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35148715",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35148715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTQ4NzE1",
    "user": {
      "login": "gouthambs",
      "id": 4218827,
      "node_id": "MDQ6VXNlcjQyMTg4Mjc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4218827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gouthambs",
      "html_url": "https://github.com/gouthambs",
      "followers_url": "https://api.github.com/users/gouthambs/followers",
      "following_url": "https://api.github.com/users/gouthambs/following{/other_user}",
      "gists_url": "https://api.github.com/users/gouthambs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gouthambs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gouthambs/subscriptions",
      "organizations_url": "https://api.github.com/users/gouthambs/orgs",
      "repos_url": "https://api.github.com/users/gouthambs/repos",
      "events_url": "https://api.github.com/users/gouthambs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gouthambs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-15T06:25:50Z",
    "updated_at": "2014-02-15T06:25:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I was wondering if I can take a stab at this?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35148817",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35148817",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35148817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTQ4ODE3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-15T06:33:25Z",
    "updated_at": "2014-02-15T06:33:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "of course \n\nlmk if u need help\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35149528",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35149528",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35149528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTQ5NTI4",
    "user": {
      "login": "gouthambs",
      "id": 4218827,
      "node_id": "MDQ6VXNlcjQyMTg4Mjc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4218827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gouthambs",
      "html_url": "https://github.com/gouthambs",
      "followers_url": "https://api.github.com/users/gouthambs/followers",
      "following_url": "https://api.github.com/users/gouthambs/following{/other_user}",
      "gists_url": "https://api.github.com/users/gouthambs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gouthambs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gouthambs/subscriptions",
      "organizations_url": "https://api.github.com/users/gouthambs/orgs",
      "repos_url": "https://api.github.com/users/gouthambs/repos",
      "events_url": "https://api.github.com/users/gouthambs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gouthambs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-15T07:30:35Z",
    "updated_at": "2014-02-15T07:30:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback  I see shift function in core/internals.py in the Block class and in core/generic.py in the NDFrame class. Can you point me to a place where I can understand some basic code flow? Or can you give me some quick pointers? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35154373",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35154373",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35154373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTU0Mzcz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-15T11:53:31Z",
    "updated_at": "2014-02-15T11:53:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "core/generic /shift sets up what to do eg how many periods to shift and such and translates it to move the data up 3 or whatever; this then calls the internals shift \n\ncore/internals/ Block/shift is where to make this change\n\nsimply swap out the implantation for the new\nmake sure tests pass\nwrite a vbench for this (pandas/vb_suite) - find a file with similar methods and stick it their\nu can even use the above benchmarks\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35168121",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35168121",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35168121,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTY4MTIx",
    "user": {
      "login": "gouthambs",
      "id": 4218827,
      "node_id": "MDQ6VXNlcjQyMTg4Mjc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4218827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gouthambs",
      "html_url": "https://github.com/gouthambs",
      "followers_url": "https://api.github.com/users/gouthambs/followers",
      "following_url": "https://api.github.com/users/gouthambs/following{/other_user}",
      "gists_url": "https://api.github.com/users/gouthambs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gouthambs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gouthambs/subscriptions",
      "organizations_url": "https://api.github.com/users/gouthambs/orgs",
      "repos_url": "https://api.github.com/users/gouthambs/repos",
      "events_url": "https://api.github.com/users/gouthambs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gouthambs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-15T21:18:14Z",
    "updated_at": "2014-02-15T21:18:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Thanks. I will do that.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35205127",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35205127",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35205127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjA1MTI3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-16T18:02:26Z",
    "updated_at": "2014-02-16T18:02:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "FYI, I just fixed a bug in shift, see here: https://github.com/pydata/pandas/pull/6373\n\nThe soln proposed above is still valid in any case....make a change in `core/internals/Block/shift`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35277783",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35277783",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35277783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mjc3Nzgz",
    "user": {
      "login": "gouthambs",
      "id": 4218827,
      "node_id": "MDQ6VXNlcjQyMTg4Mjc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4218827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gouthambs",
      "html_url": "https://github.com/gouthambs",
      "followers_url": "https://api.github.com/users/gouthambs/followers",
      "following_url": "https://api.github.com/users/gouthambs/following{/other_user}",
      "gists_url": "https://api.github.com/users/gouthambs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gouthambs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gouthambs/subscriptions",
      "organizations_url": "https://api.github.com/users/gouthambs/orgs",
      "repos_url": "https://api.github.com/users/gouthambs/repos",
      "events_url": "https://api.github.com/users/gouthambs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gouthambs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-17T13:49:05Z",
    "updated_at": "2014-02-17T13:49:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sure.  I will take your changes and merge with mine.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35355445",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35355445",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35355445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzU1NDQ1",
    "user": {
      "login": "gouthambs",
      "id": 4218827,
      "node_id": "MDQ6VXNlcjQyMTg4Mjc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4218827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gouthambs",
      "html_url": "https://github.com/gouthambs",
      "followers_url": "https://api.github.com/users/gouthambs/followers",
      "following_url": "https://api.github.com/users/gouthambs/following{/other_user}",
      "gists_url": "https://api.github.com/users/gouthambs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gouthambs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gouthambs/subscriptions",
      "organizations_url": "https://api.github.com/users/gouthambs/orgs",
      "repos_url": "https://api.github.com/users/gouthambs/repos",
      "events_url": "https://api.github.com/users/gouthambs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gouthambs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-18T06:05:29Z",
    "updated_at": "2014-02-18T06:05:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I swapped the current shift with a roll, in order to see if I get a speed up. I tried swapping in core/internals.py. But this did not get any performance improvements. On the other hand when I use a roll in core/generic.py (just as a test), I see good speedup. The two implementations are shown below:\n\n```\ndiff --git a/pandas/core/generic.py b/pandas/core/generic.py\nindex d607be6..753b146 100644\n--- a/pandas/core/generic.py\n+++ b/pandas/core/generic.py\n@@ -3169,9 +3169,10 @@ class NDFrame(PandasObject):\n             return self\n\n         if freq is None and not len(kwds):\n-            block_axis = self._get_block_manager_axis(axis)\n-            indexer = com._shift_indexer(len(self._get_axis(axis)), periods)\n-            new_data = self._data.shift(indexer=indexer, periods=periods, axis=block_axis)\n+            #block_axis = self._get_block_manager_axis(axis)\n+            #indexer = com._shift_indexer(len(self._get_axis(axis)), periods)\n+            #new_data = self._data.shift(indexer=indexer, periods=periods, axis=block_axis)\n+            new_data    = np.roll(self.values,periods,axis=axis)\n         else:\n             return self.tshift(periods, freq, **kwds)\n\ndiff --git a/pandas/core/internals.py b/pandas/core/internals.py\nindex c89aac0..e56697b 100644\n--- a/pandas/core/internals.py\n+++ b/pandas/core/internals.py\n@@ -931,7 +931,8 @@ class Block(PandasObject):\n     def shift(self, indexer, periods, axis=0):\n         \"\"\" shift the block by periods, possibly upcast \"\"\"\n\n-        new_values = self.values.take(indexer, axis=axis)\n+        #new_values = self.values.take(indexer, axis=axis)\n+        new_values = np.roll(self.values,periods, axis=axis)\n         # convert integer to float if necessary. need to do a lot more than\n         # that, handle boolean etc also\n         new_values, fill_value = com._maybe_upcast(new_values)\n```\n\nDo you have any ideas why np.roll speeds up the NDFrame but not the Block class?\n\nThe timings for the above mentioned example are as follows:\n- Original Implementation: 242ms\n- Quick Shift : 27 ms\n- Roll in core/internals : 239 ms\n- Roll in core/generic:27 ms\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35379756",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35379756",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35379756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc5NzU2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-18T12:32:40Z",
    "updated_at": "2014-02-18T12:32:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "you can't do it in generic.py because that only handles a single dtype. The orientation needs to be changed as the blocks store values 'flipped' from what you think they are. You need to adjust the roll (which IIRC is just an axis swap) to account for this. \n\nIn internals you are effectively using axis 1 for the shift (on a row shift), that's what the block_axis is. \ntranspose the values before roll, then transpose again after the setting \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35379811",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35379811",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35379811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc5ODEx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-18T12:33:23Z",
    "updated_at": "2014-02-18T12:33:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "[goat-jreback-~/pandas] git diff\n\n```\ndiff --git a/pandas/core/internals.py b/pandas/core/internals.py\nindex e68fc8d..d33386e 100644\n--- a/pandas/core/internals.py\n+++ b/pandas/core/internals.py\n@@ -946,11 +946,10 @@ class Block(PandasObject):\n     def shift(self, indexer, periods, axis=0):\n         \"\"\" shift the block by periods, possibly upcast \"\"\"\n\n-        new_values = self.values.take(indexer, axis=axis)\n+        new_values, fill_value = com._maybe_upcast(self.values)\n         # convert integer to float if necessary. need to do a lot more than\n         # that, handle boolean etc also\n-        new_values, fill_value = com._maybe_upcast(new_values)\n-\n+        new_values = np.roll(self.values.T,periods, axis=axis)\n         axis_indexer = [ slice(None) ] * self.ndim\n         if periods > 0:\n             axis_indexer[axis] = slice(None,periods)\n@@ -959,7 +958,7 @@ class Block(PandasObject):\n             axis_indexer[axis] = slice(periods,None)\n         new_values[tuple(axis_indexer)] = fill_value\n\n-        return [make_block(new_values, self.items, self.ref_items,\n+        return [make_block(new_values.T, self.items, self.ref_items,\n                            ndim=self.ndim, fastpath=True)]\n\n     def eval(self, func, other, raise_on_error=True, try_cast=False):\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35379908",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35379908",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35379908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc5OTA4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-18T12:34:52Z",
    "updated_at": "2014-02-18T12:34:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "you can also remove `_shift_indexer` from core/common.py as I think that's the only thing that uses it\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35379930",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35379930",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35379930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc5OTMw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-18T12:35:12Z",
    "updated_at": "2014-02-18T12:35:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "pls add a vbench for this as well (vb_suite/frame_methods.py)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35383707",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5609#issuecomment-35383707",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5609",
    "id": 35383707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzgzNzA3",
    "user": {
      "login": "gouthambs",
      "id": 4218827,
      "node_id": "MDQ6VXNlcjQyMTg4Mjc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4218827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gouthambs",
      "html_url": "https://github.com/gouthambs",
      "followers_url": "https://api.github.com/users/gouthambs/followers",
      "following_url": "https://api.github.com/users/gouthambs/following{/other_user}",
      "gists_url": "https://api.github.com/users/gouthambs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gouthambs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gouthambs/subscriptions",
      "organizations_url": "https://api.github.com/users/gouthambs/orgs",
      "repos_url": "https://api.github.com/users/gouthambs/repos",
      "events_url": "https://api.github.com/users/gouthambs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gouthambs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-18T13:29:49Z",
    "updated_at": "2014-02-18T13:29:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks. I will try this and add one to vbench. \n"
  }
]
