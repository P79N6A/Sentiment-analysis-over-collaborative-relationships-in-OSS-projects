[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398803407",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21551#issuecomment-398803407",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21551",
    "id": 398803407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODgwMzQwNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T15:59:54Z",
    "updated_at": "2018-06-20T15:59:54Z",
    "author_association": "MEMBER",
    "body": "You included `downcast='float'` in the `to_numeric` call, which makes that the resulting dtype is float32, which cannot hold the full precision. \r\n\r\nYou get a similar effect if doing the same operation on the original floats (not the decimals):\r\n\r\n```\r\nIn [7]:  pd.to_numeric(df['original'], downcast='float', errors='coerce')\r\nOut[7]: \r\n0    12345678.0\r\n1    12345678.0\r\n2    12345678.0\r\n3    12345678.0\r\nName: original, dtype: float32\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/399095604",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21551#issuecomment-399095604",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21551",
    "id": 399095604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTA5NTYwNA==",
    "user": {
      "login": "MikeWoodward",
      "id": 17951720,
      "node_id": "MDQ6VXNlcjE3OTUxNzIw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/17951720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MikeWoodward",
      "html_url": "https://github.com/MikeWoodward",
      "followers_url": "https://api.github.com/users/MikeWoodward/followers",
      "following_url": "https://api.github.com/users/MikeWoodward/following{/other_user}",
      "gists_url": "https://api.github.com/users/MikeWoodward/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MikeWoodward/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MikeWoodward/subscriptions",
      "organizations_url": "https://api.github.com/users/MikeWoodward/orgs",
      "repos_url": "https://api.github.com/users/MikeWoodward/repos",
      "events_url": "https://api.github.com/users/MikeWoodward/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MikeWoodward/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-21T13:02:13Z",
    "updated_at": "2018-06-21T13:02:28Z",
    "author_association": "NONE",
    "body": "I see the point, but I have two comments:\r\n* astype and to_numeric 'should' behave in the same way for the same arguments. I understand that astype(float) is giving float64 and to_numeric(downcast='float') is giving me float32, but it does seem inconsistent and not obvious.\r\n* the documentation could be clearer on this point.\r\n\r\nMaybe to_numeric could have more specific options for conversion, like float64? I like the 'coerce' error argument option in to_numeric so I don't want to move to astype."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/399126982",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21551#issuecomment-399126982",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21551",
    "id": 399126982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTEyNjk4Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-21T14:38:41Z",
    "updated_at": "2018-06-21T14:38:41Z",
    "author_association": "MEMBER",
    "body": "> astype and to_numeric 'should' behave in the same way for the same arguments\r\n\r\nYes, but you were not using the same arguments (as you noted yourself)? So then we should not expect it to be the same?\r\n\r\n> the documentation could be clearer on this point.\r\n\r\nSure! It can indeed be much clearer that the default dtype is float64 or int64 depending on your data, and downcast only should be used to differ from that default. \r\nA PR is certainly welcome for that. \r\n\r\n> Maybe to_numeric could have more specific options for conversion, like float64?\r\n\r\nIs it that you want to be sure it is float64 and not int64 depending on your data? (or what is exactly the use case?) \r\nAs once you have float-like data, the output will always be float64.\r\n"
  }
]
