[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397383315",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-397383315",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 397383315,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzM4MzMxNQ==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-06-14T17:54:53Z",
    "updated_at": "2018-06-16T14:29:25Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21478?src=pr&el=h1) Report\n> Merging [#21478](https://codecov.io/gh/pandas-dev/pandas/pull/21478?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/bf1c3dc253c08e70c543ae09c146b72544e85df5?src=pr&el=desc) will **increase** coverage by `0.03%`.\n> The diff coverage is `95.65%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/21478/graphs/tree.svg?token=eZ4WkYLtcO&src=pr&width=650&height=150)](https://codecov.io/gh/pandas-dev/pandas/pull/21478?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #21478      +/-   ##\n==========================================\n+ Coverage   91.89%   91.92%   +0.03%     \n==========================================\n  Files         153      153              \n  Lines       49604    49599       -5     \n==========================================\n+ Hits        45584    45595      +11     \n+ Misses       4020     4004      -16\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.32% <95.65%> (+0.03%)` | :arrow_up: |\n| #single | `41.88% <43.47%> (ø)` | :arrow_up: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/21478?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/frame.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZnJhbWUucHk=) | `97.23% <ø> (ø)` | :arrow_up: |\n| [pandas/core/series.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvc2VyaWVzLnB5) | `94.17% <ø> (ø)` | :arrow_up: |\n| [pandas/io/common.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL2NvbW1vbi5weQ==) | `70.28% <100%> (+0.24%)` | :arrow_up: |\n| [pandas/io/formats/csvs.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL2Zvcm1hdHMvY3N2cy5weQ==) | `97.67% <95.23%> (-0.48%)` | :arrow_down: |\n| [pandas/core/indexes/base.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9iYXNlLnB5) | `96.62% <0%> (ø)` | :arrow_up: |\n| [pandas/core/algorithms.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvYWxnb3JpdGhtcy5weQ==) | `94.83% <0%> (+0.01%)` | :arrow_up: |\n| [pandas/io/json/json.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL2pzb24vanNvbi5weQ==) | `92.47% <0%> (+0.23%)` | :arrow_up: |\n| [pandas/util/testing.py](https://codecov.io/gh/pandas-dev/pandas/pull/21478/diff?src=pr&el=tree#diff-cGFuZGFzL3V0aWwvdGVzdGluZy5weQ==) | `85.96% <0%> (+1.35%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21478?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21478?src=pr&el=footer). Last update [bf1c3dc...cf3afac](https://codecov.io/gh/pandas-dev/pandas/pull/21478?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397437437",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-397437437",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 397437437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQzNzQzNw==",
    "user": {
      "login": "wildraid",
      "id": 772140,
      "node_id": "MDQ6VXNlcjc3MjE0MA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/772140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wildraid",
      "html_url": "https://github.com/wildraid",
      "followers_url": "https://api.github.com/users/wildraid/followers",
      "following_url": "https://api.github.com/users/wildraid/following{/other_user}",
      "gists_url": "https://api.github.com/users/wildraid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wildraid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wildraid/subscriptions",
      "organizations_url": "https://api.github.com/users/wildraid/orgs",
      "repos_url": "https://api.github.com/users/wildraid/repos",
      "events_url": "https://api.github.com/users/wildraid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wildraid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-14T21:03:06Z",
    "updated_at": "2018-06-14T21:03:51Z",
    "author_association": "NONE",
    "body": "I am not a proper reviewer, but I am suspicious about the whole \"ZipFile magic\" part.\r\n\r\nIt looks really ugly to me, and this code may potentially cause spike of 2x memory usage due to StringIO accumulation and \"getvalue()\" call.\r\n\r\nI do not fully understand what was the problem with 0.22 implementation. Yes, \"read_csv\" and \"to_csv\" were inconsistent, but it contained less \"magic\", and users could always wrap anything they need with few lines of code.\r\n\r\nAlso, compression algos usually have additional parameters. Users might want to change defaults later on (e.g. compression level), and they'll need manual wrapping for that anyway.\r\n\r\nJust thoughts."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397468307",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-397468307",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 397468307,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ2ODMwNw==",
    "user": {
      "login": "minggli",
      "id": 14131823,
      "node_id": "MDQ6VXNlcjE0MTMxODIz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/14131823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minggli",
      "html_url": "https://github.com/minggli",
      "followers_url": "https://api.github.com/users/minggli/followers",
      "following_url": "https://api.github.com/users/minggli/following{/other_user}",
      "gists_url": "https://api.github.com/users/minggli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minggli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minggli/subscriptions",
      "organizations_url": "https://api.github.com/users/minggli/orgs",
      "repos_url": "https://api.github.com/users/minggli/repos",
      "events_url": "https://api.github.com/users/minggli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minggli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-14T23:28:30Z",
    "updated_at": "2018-06-15T09:45:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "agree that for extremely large zip output, memory usage will increase when writing csv to StringIO first and then call `getvalue()`. With 8G RAM MacOS, enough to write a [150m, 3] dataframe of 3.4g memory. the memory increase from getvalue call is only when zip compression, for other use cases, there should be no difference as 0.22. When path_or_buf is None, to_csv uses StringIO and call `getvalue()` already.\r\nhttps://github.com/pandas-dev/pandas/blob/bf1c3dc253c08e70c543ae09c146b72544e85df5/pandas/core/frame.py#L1747\r\n\r\nthe custom class just provides a file-like that accepts string into zip archive when ZipFile class doesn't really offer that. \r\n\r\nThe ability to write zip archive is added https://github.com/pandas-dev/pandas/issues/17778 where only read zip was supported, whereas we have round-trip ability for others. the motivation is consistency but also zip compression format is quite common and strange not to be supported.\r\n\r\nthe zip class is not only for to_csv but provides utility for to_json and to_pickle case too."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397721101",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-397721101",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 397721101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzcyMTEwMQ==",
    "user": {
      "login": "pep8speaks",
      "id": 24736507,
      "node_id": "MDQ6VXNlcjI0NzM2NTA3",
      "avatar_url": "https://avatars1.githubusercontent.com/u/24736507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pep8speaks",
      "html_url": "https://github.com/pep8speaks",
      "followers_url": "https://api.github.com/users/pep8speaks/followers",
      "following_url": "https://api.github.com/users/pep8speaks/following{/other_user}",
      "gists_url": "https://api.github.com/users/pep8speaks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pep8speaks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pep8speaks/subscriptions",
      "organizations_url": "https://api.github.com/users/pep8speaks/orgs",
      "repos_url": "https://api.github.com/users/pep8speaks/repos",
      "events_url": "https://api.github.com/users/pep8speaks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pep8speaks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T19:31:52Z",
    "updated_at": "2018-06-16T13:40:19Z",
    "author_association": "NONE",
    "body": "Hello @minggli! Thanks for updating the PR.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCheers ! There are no PEP8 issues in this Pull Request. :beers: \n\n##### Comment last updated on June 16, 2018 at 13:40 Hours UTC"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397807848",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-397807848",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 397807848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzgwNzg0OA==",
    "user": {
      "login": "minggli",
      "id": 14131823,
      "node_id": "MDQ6VXNlcjE0MTMxODIz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/14131823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minggli",
      "html_url": "https://github.com/minggli",
      "followers_url": "https://api.github.com/users/minggli/followers",
      "following_url": "https://api.github.com/users/minggli/following{/other_user}",
      "gists_url": "https://api.github.com/users/minggli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minggli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minggli/subscriptions",
      "organizations_url": "https://api.github.com/users/minggli/orgs",
      "repos_url": "https://api.github.com/users/minggli/repos",
      "events_url": "https://api.github.com/users/minggli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minggli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-16T12:04:37Z",
    "updated_at": "2018-06-16T12:04:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback comments carried out. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398218868",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-398218868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 398218868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODIxODg2OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T22:45:38Z",
    "updated_at": "2018-06-18T22:45:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @minggli nice followup patch!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398219281",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-398219281",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 398219281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODIxOTI4MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T22:48:00Z",
    "updated_at": "2018-06-18T22:48:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger this might be tricky to backport "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398336204",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21478#issuecomment-398336204",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21478",
    "id": 398336204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODMzNjIwNA==",
    "user": {
      "login": "minggli",
      "id": 14131823,
      "node_id": "MDQ6VXNlcjE0MTMxODIz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/14131823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minggli",
      "html_url": "https://github.com/minggli",
      "followers_url": "https://api.github.com/users/minggli/followers",
      "following_url": "https://api.github.com/users/minggli/following{/other_user}",
      "gists_url": "https://api.github.com/users/minggli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minggli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minggli/subscriptions",
      "organizations_url": "https://api.github.com/users/minggli/orgs",
      "repos_url": "https://api.github.com/users/minggli/repos",
      "events_url": "https://api.github.com/users/minggli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minggli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-19T09:29:48Z",
    "updated_at": "2018-06-19T09:29:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback @gfyoung happy to help. thanks for reviewing."
  }
]
