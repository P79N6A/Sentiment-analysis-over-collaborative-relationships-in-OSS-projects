[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389868384",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389868384",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389868384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg2ODM4NA==",
    "user": {
      "login": "kristang",
      "id": 7779037,
      "node_id": "MDQ6VXNlcjc3NzkwMzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7779037?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kristang",
      "html_url": "https://github.com/kristang",
      "followers_url": "https://api.github.com/users/kristang/followers",
      "following_url": "https://api.github.com/users/kristang/following{/other_user}",
      "gists_url": "https://api.github.com/users/kristang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kristang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kristang/subscriptions",
      "organizations_url": "https://api.github.com/users/kristang/orgs",
      "repos_url": "https://api.github.com/users/kristang/repos",
      "events_url": "https://api.github.com/users/kristang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kristang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T13:35:44Z",
    "updated_at": "2018-05-17T13:35:44Z",
    "author_association": "NONE",
    "body": "This is also an issue when connecting to MSSQL. It fails silently and will not stop the function or return an exception, but will throw one if you set \"chunksize\" manually."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389869906",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389869906",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389869906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg2OTkwNg==",
    "user": {
      "login": "tripkane",
      "id": 4116141,
      "node_id": "MDQ6VXNlcjQxMTYxNDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4116141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripkane",
      "html_url": "https://github.com/tripkane",
      "followers_url": "https://api.github.com/users/tripkane/followers",
      "following_url": "https://api.github.com/users/tripkane/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripkane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripkane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripkane/subscriptions",
      "organizations_url": "https://api.github.com/users/tripkane/orgs",
      "repos_url": "https://api.github.com/users/tripkane/repos",
      "events_url": "https://api.github.com/users/tripkane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripkane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T13:40:52Z",
    "updated_at": "2018-05-17T13:40:52Z",
    "author_association": "NONE",
    "body": "@kristang: I just played around a bit more. Have you tried a chunksize limit of 75 or less? My case is working for the local db based on this chunksize and strangely 499 for a sqlite db in memory, neither of which are the limits stated by sqlite. Have you tried different chunksizes in your case?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389871749",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389871749",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389871749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg3MTc0OQ==",
    "user": {
      "login": "kristang",
      "id": 7779037,
      "node_id": "MDQ6VXNlcjc3NzkwMzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7779037?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kristang",
      "html_url": "https://github.com/kristang",
      "followers_url": "https://api.github.com/users/kristang/followers",
      "following_url": "https://api.github.com/users/kristang/following{/other_user}",
      "gists_url": "https://api.github.com/users/kristang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kristang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kristang/subscriptions",
      "organizations_url": "https://api.github.com/users/kristang/orgs",
      "repos_url": "https://api.github.com/users/kristang/repos",
      "events_url": "https://api.github.com/users/kristang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kristang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T13:46:33Z",
    "updated_at": "2018-05-17T13:46:33Z",
    "author_association": "NONE",
    "body": "I tried 999, 1000 and 2100, but then just ended up downgrading to 0.22 to get on with my day. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389872218",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389872218",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389872218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg3MjIxOA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T13:47:51Z",
    "updated_at": "2018-05-17T13:47:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tripkane could I bother you to narrow down the original example a bit?  It should be minimal, and something that's appropriate for sticking in a unit test.\r\n\r\nCould you also include the traceback you get?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389872803",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389872803",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389872803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg3MjgwMw==",
    "user": {
      "login": "tripkane",
      "id": 4116141,
      "node_id": "MDQ6VXNlcjQxMTYxNDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4116141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripkane",
      "html_url": "https://github.com/tripkane",
      "followers_url": "https://api.github.com/users/tripkane/followers",
      "following_url": "https://api.github.com/users/tripkane/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripkane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripkane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripkane/subscriptions",
      "organizations_url": "https://api.github.com/users/tripkane/orgs",
      "repos_url": "https://api.github.com/users/tripkane/repos",
      "events_url": "https://api.github.com/users/tripkane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripkane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T13:49:33Z",
    "updated_at": "2018-05-17T13:49:33Z",
    "author_association": "NONE",
    "body": "@kristang: :) fair enough maybe try these lower numbers this out when you have time"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389875161",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389875161",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389875161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg3NTE2MQ==",
    "user": {
      "login": "tripkane",
      "id": 4116141,
      "node_id": "MDQ6VXNlcjQxMTYxNDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4116141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripkane",
      "html_url": "https://github.com/tripkane",
      "followers_url": "https://api.github.com/users/tripkane/followers",
      "following_url": "https://api.github.com/users/tripkane/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripkane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripkane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripkane/subscriptions",
      "organizations_url": "https://api.github.com/users/tripkane/orgs",
      "repos_url": "https://api.github.com/users/tripkane/repos",
      "events_url": "https://api.github.com/users/tripkane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripkane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T13:56:23Z",
    "updated_at": "2018-05-17T13:56:23Z",
    "author_association": "NONE",
    "body": "@TomAugspurger: Hi Tom. Yep can do. So reduce it to my actual case (i.e. locally saved database i.e. not in memory and create the data from np.arange like the :memory: version?)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389876688",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389876688",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389876688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg3NjY4OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T14:00:31Z",
    "updated_at": "2018-05-17T14:00:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "In-memory is fine if it reproduces the error.\nhttp://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports may be\nhelpful.\n\nOn Thu, May 17, 2018 at 8:56 AM, tripkane <notifications@github.com> wrote:\n\n> @TomAugspurger <https://github.com/TomAugspurger>: Hi Tom. Yep can do. So\n> reduce it to my actual case (i.e. locally saved database i.e. not in memory\n> and create the data from np.arange like the :memory: version?)\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389875161>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIqaA8WdrT73TquzvHzb6vuZNSnmGks5tzYGQgaJpZM4UDECk>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389880907",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389880907",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389880907,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg4MDkwNw==",
    "user": {
      "login": "tripkane",
      "id": 4116141,
      "node_id": "MDQ6VXNlcjQxMTYxNDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4116141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripkane",
      "html_url": "https://github.com/tripkane",
      "followers_url": "https://api.github.com/users/tripkane/followers",
      "following_url": "https://api.github.com/users/tripkane/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripkane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripkane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripkane/subscriptions",
      "organizations_url": "https://api.github.com/users/tripkane/orgs",
      "repos_url": "https://api.github.com/users/tripkane/repos",
      "events_url": "https://api.github.com/users/tripkane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripkane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T14:12:40Z",
    "updated_at": "2018-05-17T14:14:14Z",
    "author_association": "NONE",
    "body": "@TomAugspurger: I have shortened it and updated the comments. Basically chunksize must be used and one needs to estimate this based on the data size of one row based on each individual case. This person implemented this solution with peewee: [https://stackoverflow.com/questions/35616602/peewee-operationalerror-too-many-sql-variables-on-upsert-of-only-150-rows-8-c](url) anyway I hope this helps and for those with this issue you can't go wrong in the meantime with a chunksize of something very small like 1 :)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389892384",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389892384",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389892384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg5MjM4NA==",
    "user": {
      "login": "tripkane",
      "id": 4116141,
      "node_id": "MDQ6VXNlcjQxMTYxNDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4116141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripkane",
      "html_url": "https://github.com/tripkane",
      "followers_url": "https://api.github.com/users/tripkane/followers",
      "following_url": "https://api.github.com/users/tripkane/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripkane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripkane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripkane/subscriptions",
      "organizations_url": "https://api.github.com/users/tripkane/orgs",
      "repos_url": "https://api.github.com/users/tripkane/repos",
      "events_url": "https://api.github.com/users/tripkane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripkane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T14:45:35Z",
    "updated_at": "2018-05-17T14:45:35Z",
    "author_association": "NONE",
    "body": "@TomAugspurger: After further testing the initial assumption seems correct and is based on the SQLITE_MAX_VARIABLE_NUMBER limit of 999. The max allowable chunksize associated with pd.df_to_sql is given by `chunksize=999//(cols+1)` where cols was generated for the test by `cols = np.random.randint(1,20)` and used to create `df = pd.DataFrame(np.random.random((20000, cols)))`"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389917370",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389917370",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389917370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTkxNzM3MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T15:56:43Z",
    "updated_at": "2018-05-17T15:56:43Z",
    "author_association": "MEMBER",
    "body": "@tripkane thanks for the minimal example! I can confirm this regression."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389932411",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-389932411",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 389932411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTkzMjQxMQ==",
    "user": {
      "login": "tripkane",
      "id": 4116141,
      "node_id": "MDQ6VXNlcjQxMTYxNDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4116141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripkane",
      "html_url": "https://github.com/tripkane",
      "followers_url": "https://api.github.com/users/tripkane/followers",
      "following_url": "https://api.github.com/users/tripkane/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripkane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripkane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripkane/subscriptions",
      "organizations_url": "https://api.github.com/users/tripkane/orgs",
      "repos_url": "https://api.github.com/users/tripkane/repos",
      "events_url": "https://api.github.com/users/tripkane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripkane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T16:43:24Z",
    "updated_at": "2018-05-17T16:43:24Z",
    "author_association": "NONE",
    "body": "@jorisvandenbossche: You're welcome, happy to help. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/390130704",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-390130704",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 390130704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDEzMDcwNA==",
    "user": {
      "login": "schettino72",
      "id": 138474,
      "node_id": "MDQ6VXNlcjEzODQ3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/138474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schettino72",
      "html_url": "https://github.com/schettino72",
      "followers_url": "https://api.github.com/users/schettino72/followers",
      "following_url": "https://api.github.com/users/schettino72/following{/other_user}",
      "gists_url": "https://api.github.com/users/schettino72/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schettino72/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schettino72/subscriptions",
      "organizations_url": "https://api.github.com/users/schettino72/orgs",
      "repos_url": "https://api.github.com/users/schettino72/repos",
      "events_url": "https://api.github.com/users/schettino72/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schettino72/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T08:12:29Z",
    "updated_at": "2018-05-18T08:12:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Since you guys are looking into this... Can you guys check if the change that caused this regression actually improved performance?\r\n\r\nAs I reported on #8953  this change actually made the operation slower for me. And IMO should be reverted..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/390169588",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-390169588",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 390169588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDE2OTU4OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T10:45:07Z",
    "updated_at": "2018-05-18T10:45:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Best to open a separate issue to track that. Could you do some profiling as\nwell, to see where the slowdown is?\n\nOn Fri, May 18, 2018 at 3:12 AM, eduardo naufel schettino <\nnotifications@github.com> wrote:\n\n> Since you guys are looking into this... Can you guys check if the change\n> that caused this regression actually improved performance?\n>\n> As I reported on #8953 <https://github.com/pandas-dev/pandas/issues/8953>\n> this change actually made the operation slower for me. And IMO should be\n> reverted...\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/21103#issuecomment-390130704>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIo7h4aUvpJQF_pqhEpe0xB7sSZQsks5tzoJ2gaJpZM4UDECk>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/390338266",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-390338266",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 390338266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDMzODI2Ng==",
    "user": {
      "login": "tripkane",
      "id": 4116141,
      "node_id": "MDQ6VXNlcjQxMTYxNDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4116141?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripkane",
      "html_url": "https://github.com/tripkane",
      "followers_url": "https://api.github.com/users/tripkane/followers",
      "following_url": "https://api.github.com/users/tripkane/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripkane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripkane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripkane/subscriptions",
      "organizations_url": "https://api.github.com/users/tripkane/orgs",
      "repos_url": "https://api.github.com/users/tripkane/repos",
      "events_url": "https://api.github.com/users/tripkane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripkane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T21:33:21Z",
    "updated_at": "2018-05-18T21:33:21Z",
    "author_association": "NONE",
    "body": "@TomAugspurger: I tested this quickly with essentially the same example as above for two different length df's 20k and 200k and compared chunksize = 1 with chunksize=999//(cols+1)  with cols = 10 and in both cases it was twice as fast when connected to a local sqlite db."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/390558105",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-390558105",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 390558105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDU1ODEwNQ==",
    "user": {
      "login": "schettino72",
      "id": 138474,
      "node_id": "MDQ6VXNlcjEzODQ3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/138474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schettino72",
      "html_url": "https://github.com/schettino72",
      "followers_url": "https://api.github.com/users/schettino72/followers",
      "following_url": "https://api.github.com/users/schettino72/following{/other_user}",
      "gists_url": "https://api.github.com/users/schettino72/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schettino72/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schettino72/subscriptions",
      "organizations_url": "https://api.github.com/users/schettino72/orgs",
      "repos_url": "https://api.github.com/users/schettino72/repos",
      "events_url": "https://api.github.com/users/schettino72/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schettino72/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T05:39:13Z",
    "updated_at": "2018-05-21T05:39:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger I created issue #21146 to track this performance regression.\r\nI did not profile it but did some experiments... my conclusion is that performance on 0.23 is better for a few columns but degrades quickly as the number of columns grow. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/391141157",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-391141157",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 391141157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTE0MTE1Nw==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T21:07:45Z",
    "updated_at": "2018-05-22T21:07:45Z",
    "author_association": "MEMBER",
    "body": "@pandas-dev/pandas-core How do people feel about reverting https://github.com/pandas-dev/pandas/pull/19664? It both breaks existing code and degrades performance significantly. Happy to put up the patch."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/391142610",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-391142610",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 391142610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTE0MjYxMA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T21:13:14Z",
    "updated_at": "2018-05-22T21:13:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reverting seems reasonable for now.\n\nIs there anything we can salvage form #19664 so that users can opt into\nmulti-row inserts if they want?\n\nOn Tue, May 22, 2018 at 4:07 PM, Phillip Cloud <notifications@github.com>\nwrote:\n\n> @pandas-dev/pandas-core\n> <https://github.com/orgs/pandas-dev/teams/pandas-core> How do people feel\n> about reverting #19664 <https://github.com/pandas-dev/pandas/pull/19664>?\n> It both breaks existing code and degrades performance significantly. Happy\n> to put up the patch.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/21103#issuecomment-391141157>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHItx5fraPyzUV6092imwIAO7NLIpcks5t1H4ogaJpZM4UDECk>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/391142706",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-391142706",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 391142706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTE0MjcwNg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T21:13:31Z",
    "updated_at": "2018-05-22T21:13:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @danfrankj "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/391145550",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-391145550",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 391145550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTE0NTU1MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T21:23:52Z",
    "updated_at": "2018-05-22T21:23:52Z",
    "author_association": "MEMBER",
    "body": "In the original issue (https://github.com/pandas-dev/pandas/issues/8953), it was discussed to have an optional keyword for this, as which default would be best depends a lot on the exact circumstances (this discussion was largely ignored in the PR, sorry about not raising this in the PR). \r\nSo I think making it into an option with the default how it was before, is certainly a possible way forward.\r\n\r\nI think it would still be useful for someone with some time to go through the discussion in that issue to check the raises usecases, how it interacts with chunksize, etc, as I don't recall everything that was discussed there."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/391159153",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-391159153",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 391159153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTE1OTE1Mw==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T22:20:16Z",
    "updated_at": "2018-05-22T22:20:16Z",
    "author_association": "MEMBER",
    "body": "IMO pandas should allow more flexibility here: users pass in a function that will get called with the SQLAlchemy table and they can construct the DML themselves. The default DML construction function would be the previous working code. Then any such optimization that comes up in the future doesn't need yet another keyword argument. I wonder if there isn't already a way to do this without monkey patching."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/391789562",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-391789562",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 391789562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTc4OTU2Mg==",
    "user": {
      "login": "schettino72",
      "id": 138474,
      "node_id": "MDQ6VXNlcjEzODQ3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/138474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schettino72",
      "html_url": "https://github.com/schettino72",
      "followers_url": "https://api.github.com/users/schettino72/followers",
      "following_url": "https://api.github.com/users/schettino72/following{/other_user}",
      "gists_url": "https://api.github.com/users/schettino72/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schettino72/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schettino72/subscriptions",
      "organizations_url": "https://api.github.com/users/schettino72/orgs",
      "repos_url": "https://api.github.com/users/schettino72/repos",
      "events_url": "https://api.github.com/users/schettino72/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schettino72/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-24T17:07:21Z",
    "updated_at": "2018-05-24T17:07:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cpcloud As of today there is no way to achieve this without monkey patching. \r\nI use a monkey patched version to use `COPY ... FROM`.\r\n\r\nI could work on patch to make this more flexible. I suggest adding a parameter `insert_method` to `to_sql()`. Apart from the default (previous) implementation, we could add `multi-value` (the 0.23 version) and `COPY FROM`. \r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392452165",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-392452165",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 392452165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjQ1MjE2NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-28T08:04:36Z",
    "updated_at": "2018-05-28T08:04:36Z",
    "author_association": "MEMBER",
    "body": "The way without monkeypatching is subclassing the table class and overriding the appropriate method, but that is not necessarily cleaner than monkeypatching as it private methods you are overriding anyway.\r\n\r\nI like the proposed idea of allowing more flexibility. But we should think a bit about the exact interface we want (what does a user need to create the appropriate construct? The sqlalchemy table, the data (in which form?), the connection, ...). \r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392699423",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-392699423",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 392699423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjY5OTQyMw==",
    "user": {
      "login": "schettino72",
      "id": 138474,
      "node_id": "MDQ6VXNlcjEzODQ3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/138474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schettino72",
      "html_url": "https://github.com/schettino72",
      "followers_url": "https://api.github.com/users/schettino72/followers",
      "following_url": "https://api.github.com/users/schettino72/following{/other_user}",
      "gists_url": "https://api.github.com/users/schettino72/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schettino72/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schettino72/subscriptions",
      "organizations_url": "https://api.github.com/users/schettino72/orgs",
      "repos_url": "https://api.github.com/users/schettino72/repos",
      "events_url": "https://api.github.com/users/schettino72/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schettino72/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T08:42:04Z",
    "updated_at": "2018-05-29T08:42:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche \r\n\r\n> The way without monkeypatching is subclassing the table class and overriding the appropriate method, but that is not necessarily cleaner than monkeypatching as it private methods you are overriding anyway.\r\n\r\n`to_sql()` has no direct control of which table class will be used. So currently, subclassing is not enough, you MUST monkeypatch.\r\n\r\nAlso you would need to be careful with subclassing the table class as there are 2 implementations: SQLAlchemy and SQLite. \r\n\r\nAnother problem of monkeypatching/subclassing (opposed to parameter) is that the same method has to be used globally by an application, and can not be fine tuned for each call of `to_sql()`.\r\n\r\n\r\n> But we should think a bit about the exact interface we want (what does a user need to create the appropriate construct? The sqlalchemy table, the data (in which form?), the connection, ...).\r\n\r\nI think just follow the API already used for `_execute_insert(self, conn, keys, data_iter)`\r\n\r\n- a reference to table object\r\n- a connection\r\n- list of keys/columns\r\n- and data_iter with values\r\n\r\nThat was enough for me to implement postgresql `COPY` without having to repeat Pandas specific processing of columns and conversion of values.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/393333398",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-393333398",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 393333398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzMzMzM5OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-30T21:58:33Z",
    "updated_at": "2018-05-30T21:58:33Z",
    "author_association": "MEMBER",
    "body": "> to_sql() has no direct control of which table class will be used. So currently, subclassing is not enough, you MUST monkeypatch.\r\n\r\nYeah, for `to_sql` that is true, but in principle you *can* subclass and then use the methods of that class. With emphasis on \"can\", as I also don't really recommend it as I said in my previous comment.\r\n\r\nAnyway, let's leave that discussion as I think we agree that we need some way to customize it (at least to switch between the single / multi values to solve the regression).\r\n\r\n> I think just follow the API already used for _execute_insert(self, conn, keys, data_iter)\r\n\r\nWould there be occasions where a user would want the actual dataframe instead of `data_iter`? \r\n\r\n@cpcloud what do you think of this interface?\r\n\r\n@schettino72 One option (for the PR) would also be to implement this parameter, but leave the postgres-copy one as an example of how to use this (to not add an option that only works for a single engine for now; although given its superior speed, we should really think how to deal with this).\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/393367456",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-393367456",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 393367456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzM2NzQ1Ng==",
    "user": {
      "login": "danfrankj",
      "id": 616139,
      "node_id": "MDQ6VXNlcjYxNjEzOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/616139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danfrankj",
      "html_url": "https://github.com/danfrankj",
      "followers_url": "https://api.github.com/users/danfrankj/followers",
      "following_url": "https://api.github.com/users/danfrankj/following{/other_user}",
      "gists_url": "https://api.github.com/users/danfrankj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danfrankj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danfrankj/subscriptions",
      "organizations_url": "https://api.github.com/users/danfrankj/orgs",
      "repos_url": "https://api.github.com/users/danfrankj/repos",
      "events_url": "https://api.github.com/users/danfrankj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danfrankj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-31T01:00:19Z",
    "updated_at": "2018-05-31T01:00:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi all! My apologies for the regression introduced.  I like the solution in https://github.com/pandas-dev/pandas/pull/21199 much better. \r\n\r\nFor context, the motivation for needing a multivalues insert was to interact with a presto database. In that case, a normal insert occurs row by row incurring a network call thus making it prohibitively slow. This may be the case for other analytic databases as well (redshift, bigquery).\r\n\r\nBut definitely we should not have this be the default so thank you @schettino72 for cleaning this up and again apologies. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/393372533",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-393372533",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 393372533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzM3MjUzMw==",
    "user": {
      "login": "danfrankj",
      "id": 616139,
      "node_id": "MDQ6VXNlcjYxNjEzOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/616139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danfrankj",
      "html_url": "https://github.com/danfrankj",
      "followers_url": "https://api.github.com/users/danfrankj/followers",
      "following_url": "https://api.github.com/users/danfrankj/following{/other_user}",
      "gists_url": "https://api.github.com/users/danfrankj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danfrankj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danfrankj/subscriptions",
      "organizations_url": "https://api.github.com/users/danfrankj/orgs",
      "repos_url": "https://api.github.com/users/danfrankj/repos",
      "events_url": "https://api.github.com/users/danfrankj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danfrankj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-31T01:28:34Z",
    "updated_at": "2018-05-31T01:28:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just verified that multivalues has this behavior for Redshift as well. \r\n\r\n```\r\nIn [60]: df = pd.DataFrame({'foo': np.arange(100)})\r\n\r\nIn [61]: conn.dialect\r\nOut[61]: <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 at 0x11d8e9748>\r\n\r\nIn [62]: conn.dialect.supports_multivalues_insert = False\r\n\r\nIn [63]: %time df.to_sql('test_no_multivalues_insert', con=conn, schema='default', index=False)\r\nCPU times: user 21.4 ms, sys: 11.6 ms, total: 32.9 ms\r\nWall time: 38.7 s\r\n\r\nIn [64]: conn.dialect.supports_multivalues_insert = True\r\n\r\nIn [65]: %time df.to_sql('test_multivalues_insert', con=conn, schema='default', index=False)\r\nCPU times: user 7.88 ms, sys: 2.38 ms, total: 10.3 ms\r\nWall time: 4.26 s\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/395064679",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-395064679",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 395064679,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTA2NDY3OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-06T13:17:01Z",
    "updated_at": "2018-06-06T13:17:01Z",
    "author_association": "MEMBER",
    "body": "@schettino72 do you have time to work on the PR? \r\nOther short-term option for 0.23.1 is to revert the original change, and target the PR for 0.24.0"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/395066047",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-395066047",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 395066047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTA2NjA0Nw==",
    "user": {
      "login": "schettino72",
      "id": 138474,
      "node_id": "MDQ6VXNlcjEzODQ3NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/138474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schettino72",
      "html_url": "https://github.com/schettino72",
      "followers_url": "https://api.github.com/users/schettino72/followers",
      "following_url": "https://api.github.com/users/schettino72/following{/other_user}",
      "gists_url": "https://api.github.com/users/schettino72/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schettino72/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schettino72/subscriptions",
      "organizations_url": "https://api.github.com/users/schettino72/orgs",
      "repos_url": "https://api.github.com/users/schettino72/repos",
      "events_url": "https://api.github.com/users/schettino72/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schettino72/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-06T13:21:22Z",
    "updated_at": "2018-06-06T13:21:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @schettino72 do you have time to work on the PR?\r\n\r\nSure. I was waiting for more feedback on API. From my side I guess just need to update docstrings and docs...\r\n\r\nShould I target 0.24 or 0.23.1?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/395078552",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-395078552",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 395078552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTA3ODU1Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-06T13:59:22Z",
    "updated_at": "2018-06-06T13:59:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think 0.23.1\n\nOn Wed, Jun 6, 2018 at 8:21 AM, eduardo naufel schettino <\nnotifications@github.com> wrote:\n\n> @schettino72 <https://github.com/schettino72> do you have time to work on\n> the PR?\n>\n> Sure. I was waiting for more feedback on API. From my side I guess just\n> need to update docstrings and docs...\n>\n> Should I target 0.24 or 0.23.1?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/21103#issuecomment-395066047>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIlJZq1B39D6rZYw-_FFYs4NoazEiks5t59dagaJpZM4UDECk>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/395100621",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21103#issuecomment-395100621",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21103",
    "id": 395100621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTEwMDYyMQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-06T15:01:07Z",
    "updated_at": "2018-06-06T15:01:07Z",
    "author_association": "MEMBER",
    "body": "Yes, we certainly want to do something for 0.23.1 (at a minimum reverse). But it would be nice to at once get the option in there as well. \r\nI am only not fully sure about the function interface (in case this needs more discussion for the exact API of the passed function). Maybe we could limit it for 0.23.1 only to adding `method='default'/'multi'`, and leave the ability to pass a function for 0.24.0"
  }
]
