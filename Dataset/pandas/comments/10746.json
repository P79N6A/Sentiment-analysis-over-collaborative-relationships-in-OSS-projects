[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127664531",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127664531",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127664531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY2NDUzMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:23:31Z",
    "updated_at": "2015-08-04T16:24:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "I guess this is a bug, but you should in general simply use `pd.to_datetime`\n\n```\nIn [7]: pd.to_datetime(df[0],unit='ms')\nOut[7]: \n0   2002-11-08\n1          NaT\nName: 0, dtype: datetime64[ns]\n```\n\nactually I think the astype should simply raise on anything that isn't quite simple.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127664832",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127664832",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127664832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY2NDgzMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:24:53Z",
    "updated_at": "2015-08-04T16:24:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "pull-requests are welcome!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127666423",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127666423",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127666423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY2NjQyMw==",
    "user": {
      "login": "dschallis",
      "id": 8983016,
      "node_id": "MDQ6VXNlcjg5ODMwMTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8983016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dschallis",
      "html_url": "https://github.com/dschallis",
      "followers_url": "https://api.github.com/users/dschallis/followers",
      "following_url": "https://api.github.com/users/dschallis/following{/other_user}",
      "gists_url": "https://api.github.com/users/dschallis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dschallis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dschallis/subscriptions",
      "organizations_url": "https://api.github.com/users/dschallis/orgs",
      "repos_url": "https://api.github.com/users/dschallis/repos",
      "events_url": "https://api.github.com/users/dschallis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dschallis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:30:13Z",
    "updated_at": "2015-08-04T16:30:13Z",
    "author_association": "NONE",
    "body": "Thanks @jreback, I'll use `pd.to_datetime` for now, and see if I can track down the cause of the error when I get a chance.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127667325",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127667325",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127667325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY2NzMyNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:33:39Z",
    "updated_at": "2015-08-04T16:33:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dschallis gr8!. as an FYI, you almost always want to use `int64` and not `float` with timestamps\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127668147",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127668147",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127668147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY2ODE0Nw==",
    "user": {
      "login": "dschallis",
      "id": 8983016,
      "node_id": "MDQ6VXNlcjg5ODMwMTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8983016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dschallis",
      "html_url": "https://github.com/dschallis",
      "followers_url": "https://api.github.com/users/dschallis/followers",
      "following_url": "https://api.github.com/users/dschallis/following{/other_user}",
      "gists_url": "https://api.github.com/users/dschallis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dschallis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dschallis/subscriptions",
      "organizations_url": "https://api.github.com/users/dschallis/orgs",
      "repos_url": "https://api.github.com/users/dschallis/repos",
      "events_url": "https://api.github.com/users/dschallis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dschallis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:37:13Z",
    "updated_at": "2015-08-04T16:37:13Z",
    "author_association": "NONE",
    "body": "@jreback Yup, unfortunately I'm reading from a JSON dataset with some missing values for timestamps, so `pd.read_json` is coercing the timestamp to float64.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127668990",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127668990",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127668990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY2ODk5MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:41:05Z",
    "updated_at": "2015-08-04T16:41:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "http://pandas.pydata.org/pandas-docs/stable/io.html#reading-json\n\nare you passing `date_unit` ?\n\nhow does the JSON represent missing values?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127673759",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127673759",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127673759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY3Mzc1OQ==",
    "user": {
      "login": "dschallis",
      "id": 8983016,
      "node_id": "MDQ6VXNlcjg5ODMwMTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8983016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dschallis",
      "html_url": "https://github.com/dschallis",
      "followers_url": "https://api.github.com/users/dschallis/followers",
      "following_url": "https://api.github.com/users/dschallis/following{/other_user}",
      "gists_url": "https://api.github.com/users/dschallis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dschallis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dschallis/subscriptions",
      "organizations_url": "https://api.github.com/users/dschallis/orgs",
      "repos_url": "https://api.github.com/users/dschallis/repos",
      "events_url": "https://api.github.com/users/dschallis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dschallis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:53:23Z",
    "updated_at": "2015-08-04T16:53:23Z",
    "author_association": "NONE",
    "body": "@jreback hmm, no, I wasn't using `date_unit`. My data and code looks something like:\n\n```\n# timestamp field omitted when missing:\ndata = '''\n[{\"id\": 1, \"timestamp\": 1036713600000},\n {\"id\": 2}]\n'''\n\ndf = pd.read_json(data, orient='records', dtype={'id': 'int32', 'timestamp': 'datetime64[ms]'})\n```\n\n`print(df); print(df.info())` produces:\n\n```\nid     timestamp\n0   1  1.036714e+12\n1   2           NaN\n\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 2 entries, 0 to 1\nData columns (total 2 columns):\nid           2 non-null int32\ntimestamp    1 non-null float64\ndtypes: float64(1), int32(1)\nmemory usage: 40.0 bytes\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127679937",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127679937",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127679937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY3OTkzNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T17:15:41Z",
    "updated_at": "2015-08-04T17:15:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, I think that should work actually (if you provided `date_unit`). So sort of a two-fer here.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127915557",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-127915557",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 127915557,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzkxNTU1Nw==",
    "user": {
      "login": "dschallis",
      "id": 8983016,
      "node_id": "MDQ6VXNlcjg5ODMwMTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8983016?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dschallis",
      "html_url": "https://github.com/dschallis",
      "followers_url": "https://api.github.com/users/dschallis/followers",
      "following_url": "https://api.github.com/users/dschallis/following{/other_user}",
      "gists_url": "https://api.github.com/users/dschallis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dschallis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dschallis/subscriptions",
      "organizations_url": "https://api.github.com/users/dschallis/orgs",
      "repos_url": "https://api.github.com/users/dschallis/repos",
      "events_url": "https://api.github.com/users/dschallis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dschallis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-05T08:38:21Z",
    "updated_at": "2015-08-05T08:38:21Z",
    "author_association": "NONE",
    "body": "@jreback Interestingly enough, that seems to have the same underlying issue as my original example did, i.e.:\n\n```\ndata = '[{\"id\": 1, \"timestamp\": 1360287003083988472}, {\"id\": 2}]'\nprint(pd.read_json(data, orient='records', dtype={'id': 'int32', 'timestamp': 'datetime64[ns]'}, date_unit='ns'))\n```\n\nCorrectly outputs:\n\n```\n   id                     timestamp\n0   1 2013-02-08 01:30:03.083988480\n1   2                           NaT\n```\n\nChanging to 'ms' instead of 'ns':\n\n```\ndata = '[{\"id\": 1, \"timestamp\": 1360287003083}, {\"id\": 2}]'\nprint(pd.read_json(data, orient='records', dtype={'id': 'int32', 'timestamp': 'datetime64[ms]'}, date_unit='ms'))\n```\n\nOutput:\n\n```\n   id     timestamp\n0   1  1.360287e+12\n1   2           NaN\n```\n\nAs before though, I the timestamp gets correctly converted if there are no missing values in the data for milliseconds (only nanosecond conversion works with missing data).\nI.e. if I change to `data = '[{\"id\": 1, \"timestamp\": 1360287003083}]'`, the output for the above is:\n\n```\n   id               timestamp\n0   1 2013-02-08 01:30:03.083\n```\n\nI'll take a look into the root cause if I get a chance tomorrow though!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/131469934",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10746#issuecomment-131469934",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10746",
    "id": 131469934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTQ2OTkzNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-15T23:47:45Z",
    "updated_at": "2015-08-15T23:47:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "was closed by #10776 \n"
  }
]
