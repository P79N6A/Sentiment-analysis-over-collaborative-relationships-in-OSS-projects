[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/468744865",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25508#issuecomment-468744865",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25508",
    "id": 468744865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODc0NDg2NQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-01T17:29:52Z",
    "updated_at": "2019-03-01T17:29:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right now Block.interpolate is overloaded for `.interpolate` and `.fillna`, and dispatches based on whether the `method` is a fillna method or an interpolation method.\r\n\r\nIt looks like ExtensionBlock.interpolate, which is what DatetimeTZBlock inherits from, only handle the fillna side of things.\r\n\r\nLong-term, we can make our interp methods work with extension arrays (or maybe add interpolate to the interface).\r\n\r\nShort term, we can add a `.interpolate` to DatetimeTZBlock that calls Block.interpolate."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/468797342",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25508#issuecomment-468797342",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25508",
    "id": 468797342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODc5NzM0Mg==",
    "user": {
      "login": "xoolive",
      "id": 1360812,
      "node_id": "MDQ6VXNlcjEzNjA4MTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1360812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xoolive",
      "html_url": "https://github.com/xoolive",
      "followers_url": "https://api.github.com/users/xoolive/followers",
      "following_url": "https://api.github.com/users/xoolive/following{/other_user}",
      "gists_url": "https://api.github.com/users/xoolive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xoolive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xoolive/subscriptions",
      "organizations_url": "https://api.github.com/users/xoolive/orgs",
      "repos_url": "https://api.github.com/users/xoolive/repos",
      "events_url": "https://api.github.com/users/xoolive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xoolive/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-01T20:15:21Z",
    "updated_at": "2019-03-01T20:15:21Z",
    "author_association": "NONE",
    "body": "Indeed, I added the following in my piece of code that uses the library and it makes things work.\r\n\r\n```python\r\nfrom pandas.core.internals import Block, DatetimeTZBlock\r\nDatetimeTZBlock.interpolate = Block.interpolate\r\n```\r\n\r\nI could see what you means about `ExtensionBlock` [here](https://github.com/pandas-dev/pandas/blob/ea1d5f52a329ba24f1b4424f1e8f00cf9c8485c8/pandas/core/internals/blocks.py#L1824)\r\n\r\nI could push a PR with the (ugly) fix you suggest+good comments around [here](https://github.com/pandas-dev/pandas/blob/ea1d5f52a329ba24f1b4424f1e8f00cf9c8485c8/pandas/core/internals/blocks.py#L2212) but I don't feel good doing that...\r\n\r\nMaybe if I understand why `Block.interpolate` cannot apply to `ExtensionBlock`, I could give it a shot. Do you have a few pointers for that?\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/468799863",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25508#issuecomment-468799863",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25508",
    "id": 468799863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODc5OTg2Mw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-01T20:24:20Z",
    "updated_at": "2019-03-01T20:24:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Basically, we would need to ask the extension array to provide \"good\"\nvalues for our `missing.interpolate_1d` method.\nFor datetimetz, we probably want\n\n1. convert to i8values\n2. perform the interpolation\n3. convert back to original datetimetz\n\nWe have similar issues discussing this general point.\n\nOn Fri, Mar 1, 2019 at 2:15 PM Xavier Olive <notifications@github.com>\nwrote:\n\n> Indeed, I added the following in my piece of code that uses the library\n> and it makes things work.\n>\n> from pandas.core.internals import Block, DatetimeTZBlock\n> DatetimeTZBlock.interpolate = Block.interpolate\n>\n> I could see what you means about ExtensionBlock here\n> <https://github.com/pandas-dev/pandas/blob/ea1d5f52a329ba24f1b4424f1e8f00cf9c8485c8/pandas/core/internals/blocks.py#L1824>\n>\n> I could push a PR with the (ugly) fix you suggest+good comments around\n> here\n> <https://github.com/pandas-dev/pandas/blob/ea1d5f52a329ba24f1b4424f1e8f00cf9c8485c8/pandas/core/internals/blocks.py#L2212>\n> but I don't feel good doing that...\n>\n> Maybe if I understand why Block.interpolate cannot apply to ExtensionBlock,\n> I could give it a shot. Do you have a few pointers for that?\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/25508#issuecomment-468797342>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIkrsmEbr2JTbP7tftfZ015EgHP3Rks5vSYpegaJpZM4bZYJB>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/468802086",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25508#issuecomment-468802086",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25508",
    "id": 468802086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODgwMjA4Ng==",
    "user": {
      "login": "xoolive",
      "id": 1360812,
      "node_id": "MDQ6VXNlcjEzNjA4MTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1360812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xoolive",
      "html_url": "https://github.com/xoolive",
      "followers_url": "https://api.github.com/users/xoolive/followers",
      "following_url": "https://api.github.com/users/xoolive/following{/other_user}",
      "gists_url": "https://api.github.com/users/xoolive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xoolive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xoolive/subscriptions",
      "organizations_url": "https://api.github.com/users/xoolive/orgs",
      "repos_url": "https://api.github.com/users/xoolive/repos",
      "events_url": "https://api.github.com/users/xoolive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xoolive/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-01T20:32:29Z",
    "updated_at": "2019-03-01T20:32:29Z",
    "author_association": "NONE",
    "body": "OK, so if I understand well, the difference with tz-naive Series is that you now have to re-attach the timezone after converting back from i8values? \r\n\r\nIf so, I can try that, then have a look at similar issues."
  }
]
