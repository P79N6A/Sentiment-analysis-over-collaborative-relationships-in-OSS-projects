[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33251196",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33251196",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33251196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjUxMTk2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T19:04:43Z",
    "updated_at": "2014-01-24T19:04:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is like time-series selection, using a float slicer you need to sort. I think the error message should be better (might be an issue on that, if not, I'll leave this one as an error reporting one)\n\n```\nIn [16]: df.set_index(0).sort_index()[0:1]\nOut[16]: \n                 1         2         3         4         5         6         7        8         9\n0                                                                                                \n0.838506 -0.164347  0.881912 -1.195862 -0.484678  1.038304  0.998369 -1.606226 -1.17623 -0.436142\n0.965217  0.607859  1.264562  1.530157 -1.092760  1.743442 -0.943359  1.238891  1.95254 -0.405914\n\n[2 rows x 9 columns]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33251270",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33251270",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33251270,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjUxMjcw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T19:05:42Z",
    "updated_at": "2014-01-24T19:05:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "see this issue for the change that needs to happen for a more informative error: https://github.com/pydata/pandas/issues/5821\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33252448",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33252448",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33252448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjUyNDQ4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T19:22:21Z",
    "updated_at": "2014-01-24T19:22:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dragoljub thanks for the reports! keep em coming\n\nwant to find bugs!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33252631",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33252631",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33252631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjUyNjMx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T19:25:05Z",
    "updated_at": "2014-01-24T19:25:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "try using `df.set_index(0).iloc[[0]]`\n\nThis doesn't require a sorted frame\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33268376",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33268376",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33268376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjY4Mzc2",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T22:32:12Z",
    "updated_at": "2014-01-24T22:32:12Z",
    "author_association": "NONE",
    "body": "WOW! Cant believe I missed something so obvious, direct carry forward from df.ix[['Col_Name']] df.iloc[[0]] solves my problem.\n\nThanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33268503",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33268503",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33268503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjY4NTAz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T22:34:09Z",
    "updated_at": "2014-01-24T22:34:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "gr8\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33269931",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33269931",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33269931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjY5OTMx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T22:55:32Z",
    "updated_at": "2014-01-24T22:55:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "you could also do df.head(1)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33270708",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33270708",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33270708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjcwNzA4",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T23:08:49Z",
    "updated_at": "2014-01-24T23:08:49Z",
    "author_association": "NONE",
    "body": "Hey sweet is also 4.6X faster on a big df!\n\n``` python\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 1700567 entries, 0 to 1700566\nColumns: 1266 entries, A to Z\ndtypes: datetime64[ns](4), float32(1218), float64(32), object(12)\n\nIn [92]: %timeit df.head(1)\n10000 loops, best of 3: 83.8 µs per loop\n\nIn [93]: %timeit df.iloc[[0]]\n1000 loops, best of 3: 395 µs per loop\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33273108",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33273108",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33273108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjczMTA4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-24T23:53:25Z",
    "updated_at": "2014-01-24T23:53:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "`head` is equivalent to `df.iloc[:0]` which is slightly faster as it does slicing....good 2 know\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33278168",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33278168",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33278168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjc4MTY4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T02:00:16Z",
    "updated_at": "2014-01-25T02:00:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dragoljub try `select_as_coordinates` to perform a query with a where an get back an `Int64Index`\nyou can directly pass a coordinate index as a where\n\n`pd.read_hdf('df',where=Int64Index([2,3,4])` (or a list is ok too)\n\nyou can also do this:\n\n`pd.read_hdf('df',where='A=[2,3,4]'` but these would be the values of A (not the coordinates / index)\n\nsee this question I answered (and added to the docs as its a nice example): http://stackoverflow.com/questions/21342409/iterating-over-selection-with-query-of-an-hdfstore\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33278205",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33278205",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33278205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjc4MjA1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T02:01:25Z",
    "updated_at": "2014-01-25T02:01:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "`isin` is just a fancy way of saying take this boolean index and give me the coordinates \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33282138",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33282138",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33282138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjgyMTM4",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T06:06:24Z",
    "updated_at": "2014-01-25T06:21:31Z",
    "author_association": "NONE",
    "body": "Interesting. \n\nI get great performance when I use the int64 indexing `pd.read_hdf('df',where=Int64Index([2,3,4])` with say 100 different index values. However, when I pass the direct list of index values `pd.read_hdf('df','index_col=[2,3,4]')` the read_hdf seems to hang forever (asking for a list of 50 takes 2 minutes versus 7 seconds with the int64index). Maybe its stuck trying to parse it out?\n\nWhat I'm after is the quickest way to get back a single indexed column from the DF so I can do my Boolean selection in memory and then just pull those rows back. Selecting a single index column using store.select_column('df', 'index_col') takes 6.5 seconds for a 1.7M row index. Seems too long, considering I can query my entire table for something like 170000X1200 numbers in the same time as it takes to just get the long index back.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33284026",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33284026",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33284026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjg0MDI2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T08:27:34Z",
    "updated_at": "2014-01-25T08:27:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm is index_ col a data_colimn. can u show ptdump -av file.h5\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33291378",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33291378",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33291378,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjkxMzc4",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T15:31:05Z",
    "updated_at": "2014-01-25T15:31:05Z",
    "author_association": "NONE",
    "body": "It is one of 5 data columns. If it helps to have it as an Index column I can try multi-indexing my df before writing to an hdf5 table.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33291902",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33291902",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33291902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjkxOTAy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T15:55:54Z",
    "updated_at": "2014-01-25T15:55:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u post a code sample of what u t doing (and a sample table if you can)\n\nmigt be a bug\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33294164",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33294164",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33294164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjk0MTY0",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T17:18:47Z",
    "updated_at": "2014-01-25T17:18:47Z",
    "author_association": "NONE",
    "body": "Not sure if its a bug. Here is an example. The problem is: How do I query 100 levels of a data-column out of a possible 1000 levels from an HDF5 table with 1M rows and 1000 columns. If I use Boolean indexing to compute the entire tables index levels in memory and pass the Int64Index to the where parameter I get great performance. If I pass the 100 levels as a list that gets expanded in the where query it takes much longer ~8X.\n\nOne thought I have is to add the data columns as separate fixed data frame keys in the HDF5 file and quickly read them for for the in-memory Boolean indexing. That is faster than selecting a single data column from a table for some reason. I thought it would be the same since they are separate data columns.\n\n``` python\n\nIn [1]: %paste\nimport numpy as np\nimport pandas as pd\nprint np.__version__\nprint pd.__version__\n\npd.options.display.large_repr = 'info'\n\n# Generate Test DataFrame\nNUM_ROWS = 1000000\nNUM_COLS = 1000\ncol_names = ['COL'+num for num in map(str,np.arange(NUM_COLS).tolist())]\ndata_cols = col_names[:5]\n\n%time df = pd.DataFrame(np.random.randint(1000, size=(NUM_ROWS,NUM_COLS)), dtype=np.int64, columns=col_names)\n\ndf\n\nlevels = df.COL1.unique()[:100]\nlevel_index = df.COL1[df.COL1.isin(levels)].index\n\n%time df.to_hdf(r'X:\\test_table.h5', 'df', format='table', data_columns=data_cols, nan_rep='')\n\n%time pd.read_hdf(r'X:\\test_table.h5', 'df', where='COL1=levels')\n%time pd.read_hdf(r'X:\\test_table.h5', 'df', where=level_index)\n## -- End pasted text --\n1.7.1\n0.13.0\nWall time: 13.5 s\nWall time: 2min 13s\nWall time: 53.7 s\nWall time: 6.82 s\nOut[1]:\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 100448 entries, 0 to 999981\nColumns: 1000 entries, COL0 to COL999\ndtypes: int64(1000)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33296689",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33296689",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33296689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjk2Njg5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T18:55:36Z",
    "updated_at": "2014-01-25T18:55:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think this is a bug.\n\nso the 2 cases of selection:\n- a) by `Int64Index`, e.g. `where=level_index`\n- b) by embeded column, .eg. `where='COL1=level``\n\na) is very fast because it doesn't have to do any work, just reference pointers in the table, e.g. just select specific rows; which the index on the table itself (I am talking about how HDF5 works, its chunks and keeps pointers to which rows are in which chunk)\nb) this actually has to read ALL of the data in that column in order to compute the row locations, which is then equivalent to a)\n\nso clearly if you can specify a coordinate index you are much better off.\n\nFurthermore, you have a VERY wide table here. I would keep your 'main' table much less wide (in other words the table with the data_columns). Then it is a simple matter to compute whatever coordinate index you want (either by using a query or even reading it in an doing something fancy, whatever). Then have sub-tables which contain your actual data.\n\nThis is pretty much what `append_as_multiple` and `select_as_multipl` do.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33297904",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33297904",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33297904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjk3OTA0",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T19:41:23Z",
    "updated_at": "2014-01-25T19:41:23Z",
    "author_association": "NONE",
    "body": "Thanks for the feedback Jeff. That's what I figured. I intend to try append_as_multiple. Is read/write support for multi-tables exposed in the hdf context manager?\n\nYou know whats funny, for me a huge data frame in memory takes quite a bit more time to extract 100 random indexed slabs as it does to get the same random indexed slabs from an 8.5GB HDF5 file on disk. I guess df.ix[] and Boolean indexing using under the hood copy/concat really adds up. Its too bad that there is no huge benefit with in-memory df caching unless you are pulling out contiguous slices(views) compared to indexing an HDF5. :confused: \n\nCould in-memory df indexing/selection be sped-up somehow when passing Boolean arrays?\n\n``` python\nIn [109]: df\nOut[109]:\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 1700567 entries, 0 to 1700566\nColumns: 1266 entries, A to Z\ndtypes: datetime64[ns](4), float32(1250), object(12)\n\nIn [110]: idx\nOut[110]: Int64Index([20702, 20703, 20704, 20705, 20706, 20707, 20708, 20709, 20710, ...\n\nIn [111]: %time df.ix[idx]\nWall time: 10.1 s\nOut[111]:\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 169817 entries, 20702 to 1684856\nColumns: 1266 entries, A to Z\ndtypes: datetime64[ns](4), float32(1250), object(12)\n\nIn [112]: %time df.iloc[idx]\nWall time: 10.3 s\nOut[112]:\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 169817 entries, 20702 to 1684856\nColumns: 1266 entries, A to Z\ndtypes: datetime64[ns](4), float32(1250), object(12)\n\nIn [113]: %time pd.read_hdf(r'X:\\table.h5', 'df', where=idx)\nWall time: 6.44 s\nOut[113]:\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 169817 entries, 20702 to 1684856\nColumns: 1266 entries, A to Z\ndtypes: datetime64[ns](4), float32(1250), object(12)\n\nIn [116]: %time df[bool_index]\nWall time: 9.84 s\nOut[116]:\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 170760 entries, 32702 to 1698818\nColumns: 1266 entries, A to Z\ndtypes: datetime64[ns](4), float32(1250), object(12)\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33298521",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33298521",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33298521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjk4NTIx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T19:58:57Z",
    "updated_at": "2014-01-25T19:58:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "do you have an easy constructor for your test frame (code)?......\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33298986",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33298986",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33298986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjk4OTg2",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T20:11:54Z",
    "updated_at": "2014-01-25T20:11:54Z",
    "author_association": "NONE",
    "body": "I'll try to generate a generic example that is similar in shape and dtypes and post back.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33301298",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33301298",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33301298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzAxMjk4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T21:31:57Z",
    "updated_at": "2014-01-25T21:31:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think the problem is you have non-unique columns and/or index; not a great idea in general\n\n```\nIn [44]: df = pd.concat([DataFrame(np.random.rand(nrows,1000),columns=[ 'F%04d' % i for i in range(1000)]),\n   ....: DataFrame(np.random.randint(0,10,size=nrows*4).reshape(nrows,4),columns=[ 'I%d' % i for i in range(4) ]),\n   ....: DataFrame(dict(A = Timestamp('20130101'),B = Timestamp('20130102'),C = 'foo',D = 'bar'), index=np.arange(nrows))],axis=1)\n\n\nIn [48]: df.info()\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 2000000 entries, 0 to 1999999\nData columns (total 1008 columns):\nF0000    float64\nF0001    float64\nF0002    float64\nF0003    float64\nF0004    float64\n\n.....\nF0997    float64\nF0998    float64\nF0999    float64\nI0       int64\nI1       int64\nI2       int64\nI3       int64\nA        datetime64[ns]\nB        datetime64[ns]\nC        object\nD        object\ndtypes: datetime64[ns](2), float64(1000), int64(4), object(2)\nIn [49]: \n```\n\n```\nIn [38]: idx = Index(np.arange(3000,4000)) + Index(np.arange(10000,110000)) + Index([2,99,3000,10])\n\nIn [41]: bools = np.zeros(len(df),dtype=np.bool_)\n\nIn [42]: bool[idx] = True\n\nIn [45]: %timeit df.iloc[idx]\n1 loops, best of 3: 328 ms per loop\n\nIn [46]: %timeit df.loc[idx]\n1 loops, best of 3: 336 ms per loop\n\nIn [47]: %timeit df[bool]\n1 loops, best of 3: 297 ms per loop\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33301342",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33301342",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33301342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzAxMzQy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T21:33:48Z",
    "updated_at": "2014-01-25T21:33:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "other issue is that this is a big frame; i was running on 32gb machine and constructing it hit my swap. (though its only about 1/2 that size)....IIRC you have more memory though so shouldn't be a problem\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33301913",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33301913",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33301913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzAxOTEz",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-25T21:57:32Z",
    "updated_at": "2014-01-25T21:57:32Z",
    "author_association": "NONE",
    "body": "Here is my attempt at re-constructing it. I'm on a big machine without a page file so memory was not an issue but the Boolean indexing performance on in-memory DataFrames still seems rather slow: 9+ seconds to pull out 10% of an in-memory data frame. Going to HDF5 off disk with some system caching is 11.6 seconds, so its still strange to me that in-memory Boolean indexing would be that slow (even with creating copies not views).\n\nI checked my original data and index index and columns are unique. \n\nIn the below example the columns and index are also unique and sorted. Still takes ~9 seconds to select 10% of the data. I guess maybe this is running into some CPU limit? Maybe the copy of the object/str columns are to blame.\n\n``` python\n\nIn [1]: %paste\nimport numpy as np\nimport pandas as pd\nprint np.__version__\nprint pd.__version__\n\npd.options.display.large_repr = 'info'\n\n# Generate Test DataFrame\nNUM_ROWS = 1700000\nNUM_COLS = 1200\ncol_names = ['COL'+num for num in map(str,np.arange(NUM_COLS).tolist())]\ndata_cols = col_names[:20]\ntime_cols = col_names[20:30]\n\n%time df = pd.DataFrame(np.random.randint(1000, size=(NUM_ROWS,NUM_COLS)), dtype=np.float32, col\n\nfor col in data_cols:\n    df[col] = df[col].astype(str) + 'ABC'\n\nfor col in time_cols:\n    df[col] = pd.to_datetime(df[col])\n\ndf = df.sort(columns='COL0').reset_index(drop=True)\n\nlevels = np.random.choice(df.COL1.unique(), 100, replace=False)\nlevel_bool = df.COL1.isin(levels)\nlevel_index = df.COL1[level_bool].index\n\n%time df[level_bool]\n%time df.ix[level_index]\n\n%time df.to_hdf(r'X:\\test_table.h5', 'df', format='table', data_columns=data_cols, nan_rep='')\n\n%time pd.read_hdf(r'X:\\test_table.h5', 'df', where='COL1=levels')\n%time pd.read_hdf(r'X:\\test_table.h5', 'df', where=level_index)\n## -- End pasted text --\n1.7.1\n0.13.0\nWall time: 28.1 s\nWall time: 9.36 s\nWall time: 8.94 s\nWall time: 5min 2s\nWall time: 3min 3s\nWall time: 14.7 s\nOut[1]:\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 169990 entries, 3 to 1699993\nColumns: 1200 entries, COL0 to COL1199\ndtypes: datetime64[ns](10), float32(1170), object(20)\n\nIn [2]: %timeit pd.read_hdf(r'X:\\test_table.h5', 'df', where=level_index)\n1 loops, best of 3: 11.6 s per loop\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33324945",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33324945",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33324945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI0OTQ1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-26T18:04:34Z",
    "updated_at": "2014-01-26T18:04:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dragoljub so I looked at this in detail\n\nthe time sync here is the call to `algos.take_2d_axis1_float64_float`, which takes almost all of the time.\n\nTheir is a way to get about a 3x speedup, bascially by using typed memory views and aligning the memory\n(e.g. if you know that your output is fortran ordered and contiguous, then doing a set like `out[i,j]` where i varies more that j is very fast, basically pointer arithmetic.  You can do this similarly for c arrays.\n\nSo in theory this would work; you could have specialized routines that know the ordering up front and use it to their advantage to get a pretty good speedup. But this is not that general case, and the conversions from c to fortran style (or reverse) is expensive (so you in general don't want to do this).\n\nI don't have time to dig into this, but you are welcome to give it a shot if you'd like. \n\nPytables is actually quite competetive in this because a lot of the time is not spent searching for rows, but actually reconstructing them. (e.g. the minimum time this operation could take would be in theory 1.68s in any event (which is the construction time for 100k/1.7m rows). without any indexing at all.\n\nSo as I said, probably a good idea simply to use a much less wide table, and do your selections/computations, keeping the wider table on disk, then bringing it in when you need it (and just use the indexers)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33326457",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33326457",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33326457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI2NDU3",
    "user": {
      "login": "dragoljub",
      "id": 2701562,
      "node_id": "MDQ6VXNlcjI3MDE1NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2701562?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragoljub",
      "html_url": "https://github.com/dragoljub",
      "followers_url": "https://api.github.com/users/dragoljub/followers",
      "following_url": "https://api.github.com/users/dragoljub/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragoljub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragoljub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragoljub/subscriptions",
      "organizations_url": "https://api.github.com/users/dragoljub/orgs",
      "repos_url": "https://api.github.com/users/dragoljub/repos",
      "events_url": "https://api.github.com/users/dragoljub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragoljub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-26T18:58:45Z",
    "updated_at": "2014-01-26T18:58:45Z",
    "author_association": "NONE",
    "body": "Thanks for looking into it Jeff. I was just about to profile the indexing call myself. Pytables is indeed very fast and we are lucky to have it to query these big data sets. \n\nI'll stick with a narrow in-memory index table for complex query/Boolean selection computations and pull the corresponding rows from HDF5 on disk. Its like your select_as_multiple() except the small index table remains in memory.\n\nI was just thinking about the fastest way to extract the df index after the Boolean index map is computed. The latter below is probably faster since we are not coping/appending subsections of the indexed columns unnecessarily.\n\nThanks again for all your help!\n\n```\nhdf_index = df[bool_array].index\nvs\nhdf_index = df.index[bool_array]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/33326844",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6066#issuecomment-33326844",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6066",
    "id": 33326844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI2ODQ0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-26T19:12:53Z",
    "updated_at": "2014-01-26T19:12:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "2nd would be faster.....direct indexing of a single ndarray\n"
  }
]
