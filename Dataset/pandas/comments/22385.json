[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413566926",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22385#issuecomment-413566926",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22385",
    "id": 413566926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU2NjkyNg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T14:33:31Z",
    "updated_at": "2018-08-16T14:33:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like a bottleneck issue:\r\n\r\n```python\r\nIn [6]: import bottleneck as bn\r\n\r\nIn [7]: bn.nanmean\r\nOut[7]: <function bottleneck.reduce.nanmean>\r\n\r\nIn [8]: bn.nanmean(data.values)\r\nOut[8]: 999645.0\r\n```\r\n\r\nYou may want to check with them to see if this is expected.\r\n\r\nYou can disable bottleneck with `pd.options.compute.use_bottleneck`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413568258",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22385#issuecomment-413568258",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22385",
    "id": 413568258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU2ODI1OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T14:37:23Z",
    "updated_at": "2018-08-16T14:37:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Perhaps a known issue: https://github.com/kwgoodman/bottleneck/issues/193\r\n\r\nThat references nansum / nanmean, but not nanstd.\r\n\r\nI don't *think* it's worth silently astyping to float64 when people have float32 data and are using bottleneck, but I would be curious to hear other's thoughts."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413575723",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22385#issuecomment-413575723",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22385",
    "id": 413575723,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU3NTcyMw==",
    "user": {
      "login": "m-rossi",
      "id": 4509134,
      "node_id": "MDQ6VXNlcjQ1MDkxMzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4509134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/m-rossi",
      "html_url": "https://github.com/m-rossi",
      "followers_url": "https://api.github.com/users/m-rossi/followers",
      "following_url": "https://api.github.com/users/m-rossi/following{/other_user}",
      "gists_url": "https://api.github.com/users/m-rossi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/m-rossi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/m-rossi/subscriptions",
      "organizations_url": "https://api.github.com/users/m-rossi/orgs",
      "repos_url": "https://api.github.com/users/m-rossi/repos",
      "events_url": "https://api.github.com/users/m-rossi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/m-rossi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T14:58:51Z",
    "updated_at": "2018-08-16T14:58:51Z",
    "author_association": "NONE",
    "body": "Thanks, I will use your suggestion for now and we should watch the issue at bottleneck. But as I said, for my real data the values were horribly wrong, especially for the std."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413583489",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22385#issuecomment-413583489",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22385",
    "id": 413583489,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU4MzQ4OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T15:21:14Z",
    "updated_at": "2018-08-16T15:21:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Indeed. My usual inclination is to fix this upstream and not add temporary workarounds, but given the incorrectness of the result, workarounds may be worth considering."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413777889",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22385#issuecomment-413777889",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22385",
    "id": 413777889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzc3Nzg4OQ==",
    "user": {
      "login": "agoodm",
      "id": 5179430,
      "node_id": "MDQ6VXNlcjUxNzk0MzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5179430?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agoodm",
      "html_url": "https://github.com/agoodm",
      "followers_url": "https://api.github.com/users/agoodm/followers",
      "following_url": "https://api.github.com/users/agoodm/following{/other_user}",
      "gists_url": "https://api.github.com/users/agoodm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agoodm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agoodm/subscriptions",
      "organizations_url": "https://api.github.com/users/agoodm/orgs",
      "repos_url": "https://api.github.com/users/agoodm/repos",
      "events_url": "https://api.github.com/users/agoodm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agoodm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-17T07:07:57Z",
    "updated_at": "2018-08-17T07:07:57Z",
    "author_association": "NONE",
    "body": "I am the one who opened the associated issue in the bottleneck repo because it lead to significant errors for a workflow I was doing with xarray, see: https://github.com/pydata/xarray/issues/2370\r\n\r\nYes it also affects `nanstd`, and yes it can lead to far more significant errors than what OP is showing under the right conditions (a large enough sample with a relatively narrow distribution). The xarray example I posted showed the standard deviation being nearly two orders of magnitude higher than its actual value."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413835129",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22385#issuecomment-413835129",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22385",
    "id": 413835129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzgzNTEyOQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-17T11:19:37Z",
    "updated_at": "2018-08-17T11:19:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the context. Let's coordinate with xarray here (cc @shoyer), though it still isn't clear to me what the right thing is to do here."
  }
]
