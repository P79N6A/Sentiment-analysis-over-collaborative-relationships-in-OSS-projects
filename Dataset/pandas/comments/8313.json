[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56168813",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56168813",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56168813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTY4ODEz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T12:08:04Z",
    "updated_at": "2014-09-19T12:08:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think a better soln is to define addtl whitelisted functions, e.g.\n\nmake these 2 equivalent:\n\n```\ndf.groupby('g').apply(lambda x: pd.rolling_mean(x, window=4)\n```\n\nand\n\n```\ndf.groupby('g').rolling_mean(window=4)\n```\n\nshould be pretty striaght forward to make all of the rolling functions work\n\ne.g.\n\nconceptually\n\n```\ndef rolling_mean(self, window=...., **kwargs):\n     f = lambda x: rolling_mean(x, window=window, **kwargs)\n     self._set_selection_from_grouper()\n     return self._python_agg_general(f)\n```\n\nThe only trick is to copy the args/doc-strings propery (as these are not auto-whitelist genrated It think you may need to do some tricks to get this right)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56168863",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56168863",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56168863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTY4ODYz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T12:08:43Z",
    "updated_at": "2014-09-19T12:08:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @seth-p\ncc @stahlous\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56185442",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56185442",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56185442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTg1NDQy",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T14:36:38Z",
    "updated_at": "2014-09-19T14:36:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm a bit confused. When you apply a function to a group_by, shouldn't the function return a single value? What would you expect the result to be when applying a rolling function that produces a series? Or do you want, in this instance, to effectively apply `lambda x: f(x)[-1]`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56185731",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56185731",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56185731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTg1NzMx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T14:38:44Z",
    "updated_at": "2014-09-19T14:38:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "@seth-p think of this as an automatic transforming operation. \n\ne.g.\n\n`df.groupby(..).transform(lambda x: pd.rolling_mean(x,4))`\n\n`.apply` just infers the output and says, hey you returned a same-sized group as you input, must be a transformation, and not a reduction.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56186523",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56186523",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56186523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTg2NTIz",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T14:44:31Z",
    "updated_at": "2014-09-19T14:44:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yep, should have used transform.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56186709",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56186709",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56186709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTg2NzA5",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T14:45:52Z",
    "updated_at": "2014-09-19T14:45:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, ok, I think I see.\n\nI still must be missing something, because this seems to work as expected (in v0.14.1). What am I missing?\n\n```\nIn [52]: df = pd.DataFrame(np.random.randn(10, 4))\n\nIn [53]: df['g'] = np.random.randint(0, 3, size=(10))\n\nIn [54]: f = partial(pd.rolling_sum, window=2)\n\nIn [55]: df\nOut[55]:\n          0         1         2         3  g\n0  0.589474  0.215816 -0.044578  0.502917  1\n1  1.227604 -0.468166  0.609509  1.351281  0\n2 -1.725635  1.458036 -0.660455  1.121654  0\n3  1.057553  0.345893  0.906744  1.071989  0\n4 -0.691058 -0.865517 -0.211185  0.006371  0\n5  1.153405  0.447982 -0.813340  0.185102  1\n6  1.579773  1.108773 -1.248628 -0.256453  0\n7  0.342327  2.238611 -1.397435  1.285687  2\n8 -0.826272  1.131410  0.452044  0.458808  1\n9 -0.571998 -1.195155  0.139740  0.697046  1\n\nIn [56]: df.groupby('g').apply(f)\nOut[56]:\n          0         1         2         3   g\n0       NaN       NaN       NaN       NaN NaN\n1       NaN       NaN       NaN       NaN NaN\n2 -0.498031  0.989869 -0.050946  2.472935   0\n3 -0.668082  1.803929  0.246289  2.193643   0\n4  0.366495 -0.519625  0.695559  1.078360   0\n5  1.742879  0.663798 -0.857918  0.688019   2\n6  0.888715  0.243255 -1.459813 -0.250081   0\n7       NaN       NaN       NaN       NaN NaN\n8  0.327132  1.579392 -0.361296  0.643910   2\n9 -1.398271 -0.063745  0.591784  1.155853   2\n\nIn [57]: df.groupby('g').transform(f)\nOut[57]:\n          0         1         2         3\n0       NaN       NaN       NaN       NaN\n1       NaN       NaN       NaN       NaN\n2 -0.498031  0.989869 -0.050946  2.472935\n3 -0.668082  1.803929  0.246289  2.193643\n4  0.366495 -0.519625  0.695559  1.078360\n5  1.742879  0.663798 -0.857918  0.688019\n6  0.888715  0.243255 -1.459813 -0.250081\n7       NaN       NaN       NaN       NaN\n8  0.327132  1.579392 -0.361296  0.643910\n9 -1.398271 -0.063745  0.591784  1.155853\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56187236",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56187236",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56187236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTg3MjM2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T14:49:48Z",
    "updated_at": "2014-09-19T14:49:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "@seth-p its not broken, just that I think @TomAugspurger wanted to make it more natural\n\nand @TomAugspurger you _can_ do:\n\n`df.groupby(...).apply(pd.rolling_sum, window=2)`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56188038",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56188038",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56188038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTg4MDM4",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T14:55:04Z",
    "updated_at": "2014-09-19T14:55:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm, I could have sworn I tried that @seth-p; And I thought that python assumed the first argument when `partial`ing the 2nd arg of a function with two positional arguments. My bad.\n\nI guess that solves it as far as I'm concerned, although we can repurpose this issue to whitelist the rolling funcs if you want @jreback .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/56188419",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-56188419",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 56188419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTg4NDE5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-19T14:57:22Z",
    "updated_at": "2014-09-19T14:57:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it would be reasonable to do in next version. If someone wants it could be all done in cython actually (as you just need to call the already existing roll functions), rather than going back-forth python-cython. But not sure how much this would matter. (and the API would be a bit nicer)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/260200873",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8313#issuecomment-260200873",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8313",
    "id": 260200873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDIwMDg3Mw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-13T17:51:05Z",
    "updated_at": "2016-11-13T17:51:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this has been addressed `df.groupby('grouper').rolling(4).mean()`\n"
  }
]
