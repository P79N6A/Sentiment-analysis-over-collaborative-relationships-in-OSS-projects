[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/146861070",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-146861070",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 146861070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Njg2MTA3MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T12:53:53Z",
    "updated_at": "2015-10-09T12:53:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "- needs some tests\n- test/fix `ensure_index` (though not sure you _can_ make this more general)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/146905213",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-146905213",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 146905213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NjkwNTIxMw==",
    "user": {
      "login": "max-sixty",
      "id": 5635139,
      "node_id": "MDQ6VXNlcjU2MzUxMzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/max-sixty",
      "html_url": "https://github.com/max-sixty",
      "followers_url": "https://api.github.com/users/max-sixty/followers",
      "following_url": "https://api.github.com/users/max-sixty/following{/other_user}",
      "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions",
      "organizations_url": "https://api.github.com/users/max-sixty/orgs",
      "repos_url": "https://api.github.com/users/max-sixty/repos",
      "events_url": "https://api.github.com/users/max-sixty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/max-sixty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T15:34:40Z",
    "updated_at": "2015-10-09T15:34:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Should this use `._constructor` rather than `.__class__`? I had thought that was the pandas standard\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/146907770",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-146907770",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 146907770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NjkwNzc3MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T15:45:59Z",
    "updated_at": "2015-10-09T15:45:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@maximilianr yes `_constructor` is defined in the super class (and is the correct method here)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147011896",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-147011896",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 147011896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzAxMTg5Ng==",
    "user": {
      "login": "janmedlock",
      "id": 15044618,
      "node_id": "MDQ6VXNlcjE1MDQ0NjE4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15044618?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janmedlock",
      "html_url": "https://github.com/janmedlock",
      "followers_url": "https://api.github.com/users/janmedlock/followers",
      "following_url": "https://api.github.com/users/janmedlock/following{/other_user}",
      "gists_url": "https://api.github.com/users/janmedlock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janmedlock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janmedlock/subscriptions",
      "organizations_url": "https://api.github.com/users/janmedlock/orgs",
      "repos_url": "https://api.github.com/users/janmedlock/repos",
      "events_url": "https://api.github.com/users/janmedlock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janmedlock/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T23:40:59Z",
    "updated_at": "2015-10-09T23:40:59Z",
    "author_association": "NONE",
    "body": "I added a simple test of MultiIndex subclassing.\n\nAs for `_constructor`, it doesn't look so simple.  `MultiIndex._constructor` is currently set to `MultiIndex.from_tuple()` and many of the places where I replaced `MultiIndex` with `self.__class__` call the base class `MultiIndex()` and other methods like `MultiIndex.from_array()`.\n\nI have another branch with `MultiIndex._constructor` redefined to `MultiIndex` itself, and then all of my `self.__class__` uses replaced with `self._constructor`.  It passes all the tests in `test_index.py`, but I haven't tested it further.  I can push this if you're interested.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147012271",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-147012271",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 147012271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzAxMjI3MQ==",
    "user": {
      "login": "janmedlock",
      "id": 15044618,
      "node_id": "MDQ6VXNlcjE1MDQ0NjE4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15044618?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janmedlock",
      "html_url": "https://github.com/janmedlock",
      "followers_url": "https://api.github.com/users/janmedlock/followers",
      "following_url": "https://api.github.com/users/janmedlock/following{/other_user}",
      "gists_url": "https://api.github.com/users/janmedlock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janmedlock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janmedlock/subscriptions",
      "organizations_url": "https://api.github.com/users/janmedlock/orgs",
      "repos_url": "https://api.github.com/users/janmedlock/repos",
      "events_url": "https://api.github.com/users/janmedlock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janmedlock/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T23:45:04Z",
    "updated_at": "2015-10-09T23:45:04Z",
    "author_association": "NONE",
    "body": "I don't understand the comment about `ensure_index`.  There's `_ensure_index` in `index.py`, but it's a function, not a method of `MultiIndex`, so there's nothing obvious to do, and I'm unsure of exactly what that function is supposed to do.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147013500",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-147013500",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 147013500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzAxMzUwMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T23:55:54Z",
    "updated_at": "2015-10-09T23:55:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you actually were to sub-class `MultiIndex`, the second you do ops on it, it will likely get wiped out and replaced with a base `MultiIndex`. This is all completely fixed for `Index`, so it should be straightforward, but `_ensure_index` is called a lot, and should return the same type.\n\nSimply sub-class testing is not nearly enough. You have to use the sub-classed index in operations and assert that they are propogated properly. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147013564",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-147013564",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 147013564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzAxMzU2NA==",
    "user": {
      "login": "max-sixty",
      "id": 5635139,
      "node_id": "MDQ6VXNlcjU2MzUxMzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/max-sixty",
      "html_url": "https://github.com/max-sixty",
      "followers_url": "https://api.github.com/users/max-sixty/followers",
      "following_url": "https://api.github.com/users/max-sixty/following{/other_user}",
      "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions",
      "organizations_url": "https://api.github.com/users/max-sixty/orgs",
      "repos_url": "https://api.github.com/users/max-sixty/repos",
      "events_url": "https://api.github.com/users/max-sixty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/max-sixty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T23:56:38Z",
    "updated_at": "2015-10-09T23:56:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@janmedlock I'm not the authority here, but to try and answer your Q on `_constructor` - I think the pandas standard is to use `._constructor(...)` rather than `.__class__(...)`. So all the references to `MultiIndex` should be replaced with `_constructor`, and then children of `MultiIndex` would implement that method, probably with a reference to their class.\n\nAlthough I'm not sure why pandas uses that standard rather than the direct reference to the class.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147014137",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-147014137",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 147014137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzAxNDEzNw==",
    "user": {
      "login": "janmedlock",
      "id": 15044618,
      "node_id": "MDQ6VXNlcjE1MDQ0NjE4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15044618?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janmedlock",
      "html_url": "https://github.com/janmedlock",
      "followers_url": "https://api.github.com/users/janmedlock/followers",
      "following_url": "https://api.github.com/users/janmedlock/following{/other_user}",
      "gists_url": "https://api.github.com/users/janmedlock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janmedlock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janmedlock/subscriptions",
      "organizations_url": "https://api.github.com/users/janmedlock/orgs",
      "repos_url": "https://api.github.com/users/janmedlock/repos",
      "events_url": "https://api.github.com/users/janmedlock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janmedlock/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-10T00:04:15Z",
    "updated_at": "2015-10-10T00:04:15Z",
    "author_association": "NONE",
    "body": "@jreback The biggest issue was `MultiIndex.__new__()` calls `object.__new__(MultiIndex)` rather than `object.__new__(cls)` so you can't even create an instance of a subclass.\n\nI changed all the `MultiIndex` calls in `MultiIndex.append()` and the like, so those should work, depending on whether the method of an instance of the subclass or of the parent class is called.  I agree my simple test does nothing to check this.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147014478",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-147014478",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 147014478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzAxNDQ3OA==",
    "user": {
      "login": "janmedlock",
      "id": 15044618,
      "node_id": "MDQ6VXNlcjE1MDQ0NjE4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15044618?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janmedlock",
      "html_url": "https://github.com/janmedlock",
      "followers_url": "https://api.github.com/users/janmedlock/followers",
      "following_url": "https://api.github.com/users/janmedlock/following{/other_user}",
      "gists_url": "https://api.github.com/users/janmedlock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janmedlock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janmedlock/subscriptions",
      "organizations_url": "https://api.github.com/users/janmedlock/orgs",
      "repos_url": "https://api.github.com/users/janmedlock/repos",
      "events_url": "https://api.github.com/users/janmedlock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janmedlock/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-10T00:09:09Z",
    "updated_at": "2015-10-10T00:09:09Z",
    "author_association": "NONE",
    "body": "@maximilianr Yes, I understood that, but `MultiIndex._constructor` is currently set to `MultiIndex.from_tuples()`, so that e.g. in a place inside the `MultiIndex` class definition where `MultiIndex()` is called I cannot replace it with `self._constructor()`: I'm stuck with `self.__class__()`.  If that's an intended place to use `_constructor`, it `MultiIndex._constructor` needs to be redefined.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147016613",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-147016613",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 147016613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzAxNjYxMw==",
    "user": {
      "login": "max-sixty",
      "id": 5635139,
      "node_id": "MDQ6VXNlcjU2MzUxMzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/max-sixty",
      "html_url": "https://github.com/max-sixty",
      "followers_url": "https://api.github.com/users/max-sixty/followers",
      "following_url": "https://api.github.com/users/max-sixty/following{/other_user}",
      "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions",
      "organizations_url": "https://api.github.com/users/max-sixty/orgs",
      "repos_url": "https://api.github.com/users/max-sixty/repos",
      "events_url": "https://api.github.com/users/max-sixty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/max-sixty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-10T00:28:40Z",
    "updated_at": "2015-10-10T00:28:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@janmedlock Ah, good point. \nI'll leave it to @jreback to give a verdict on the overall principle, then\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157848709",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11268#issuecomment-157848709",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11268",
    "id": 157848709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Nzg0ODcwOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-18T20:15:11Z",
    "updated_at": "2015-11-18T20:15:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing, but if you'd like to update, pls reopen\n"
  }
]
