[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354320469",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18972#issuecomment-354320469",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18972",
    "id": 354320469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDMyMDQ2OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-28T17:01:16Z",
    "updated_at": "2017-12-28T17:01:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you edit your original post to include\r\n\r\n1. code that creates a sample DataFrame that generates the exception when written and read\r\n2. The traceback when reading"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354428225",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18972#issuecomment-354428225",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18972",
    "id": 354428225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQyODIyNQ==",
    "user": {
      "login": "seanysull",
      "id": 17618461,
      "node_id": "MDQ6VXNlcjE3NjE4NDYx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/17618461?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanysull",
      "html_url": "https://github.com/seanysull",
      "followers_url": "https://api.github.com/users/seanysull/followers",
      "following_url": "https://api.github.com/users/seanysull/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanysull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanysull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanysull/subscriptions",
      "organizations_url": "https://api.github.com/users/seanysull/orgs",
      "repos_url": "https://api.github.com/users/seanysull/repos",
      "events_url": "https://api.github.com/users/seanysull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanysull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T10:29:04Z",
    "updated_at": "2017-12-29T10:29:04Z",
    "author_association": "NONE",
    "body": "I have added the full traceback, I am in the process of trying to recreate an example I can share here, however, I am working with data I can not easily share so it will take a while if I am even able to do it."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354568147",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18972#issuecomment-354568147",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18972",
    "id": 354568147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDU2ODE0Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-30T21:01:37Z",
    "updated_at": "2017-12-30T21:01:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "you would have to show a reproducible example"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/402155880",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18972#issuecomment-402155880",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18972",
    "id": 402155880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjE1NTg4MA==",
    "user": {
      "login": "JanKalin",
      "id": 18305372,
      "node_id": "MDQ6VXNlcjE4MzA1Mzcy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/18305372?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JanKalin",
      "html_url": "https://github.com/JanKalin",
      "followers_url": "https://api.github.com/users/JanKalin/followers",
      "following_url": "https://api.github.com/users/JanKalin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JanKalin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JanKalin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JanKalin/subscriptions",
      "organizations_url": "https://api.github.com/users/JanKalin/orgs",
      "repos_url": "https://api.github.com/users/JanKalin/repos",
      "events_url": "https://api.github.com/users/JanKalin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JanKalin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T13:24:11Z",
    "updated_at": "2018-07-04T07:54:52Z",
    "author_association": "NONE",
    "body": "I get a similar error. I have an application that reads DEWESoft files, converts them to pandas DataFrame and writes them to HDF5 file(s). The complete code used for conversion is downloadable from https://github.com/JanKalin/python_dewesoft. The data file in question can be copied from ftp://zaguser:zagpublic@ftp.zag.si/publicftp/JanK/Pandas/Ravbarkomanda_2018_04_04_132938.dxd\r\n\r\nCall `dws2hdf5 Ravbarkomanda_2018_04_04_132938.dxd  --fields 1 --rename :5:T_P13N4SN` to start conversion, which fails:\r\n\r\n```\r\n2018-07-03 12:52:58.939000 1/1 Ravbarkomanda_2018_04_04_132938.dxd,\r\nTraceback (most recent call last):\r\n  File \"J:\\python\\dws2hdf5.py\", line 111, in <module>\r\n    data.to_hdf(filename, dataset, complevel=5, complib='zlib')\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\core\\generic.py\", line 1471, in to_hdf\r\n    return pytables.to_hdf(path_or_buf, key, self, **kwargs)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 281, in to_hdf\r\n    f(store)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 275, in <lambda>\r\n    f = lambda store: store.put(key, value, **kwargs)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 866, in put\r\n    self._write_to_group(key, value, append=append, **kwargs)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 1341, in _write_to_group\r\n    s.write(obj=value, append=append, complib=complib, **kwargs)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 2930, in write\r\n    self.write_array('block%d_values' % i, blk.values, items=blk_items)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 2671, in write_array\r\n    ca[:] = value\r\n  File \"C:\\Python27\\lib\\site-packages\\tables\\array.py\", line 718, in __setitem__\r\n    nparr = convert_to_np_atom2(value, self.atom)\r\n  File \"C:\\Python27\\lib\\site-packages\\tables\\utils.py\", line 128, in convert_to_np_atom2\r\n    nparr = convert_to_np_atom(object, atom, copy)\r\n  File \"C:\\Python27\\lib\\site-packages\\tables\\utils.py\", line 96, in convert_to_np_atom\r\n    nparr = array_of_flavor(arr, 'numpy')\r\n  File \"C:\\Python27\\lib\\site-packages\\tables\\flavor.py\", line 211, in array_of_flavor\r\n    return array_of_flavor2(array, flavor_of(array), dst_flavor)\r\n  File \"C:\\Python27\\lib\\site-packages\\tables\\flavor.py\", line 133, in array_of_flavor2\r\n    return convfunc(array)\r\n  File \"C:\\Python27\\lib\\site-packages\\tables\\flavor.py\", line 373, in conv_to_numpy\r\n    nparr = nparr.copy()  # copying the array makes it contiguous\r\nMemoryError\r\n```\r\n\r\nThe HDF5 file available at ftp://zaguser:zagpublic@ftp.zag.si/publicftp/JanK/Pandas/2018_04_04_13_29_40_110000.hdf5  is left in a mangled state,:\r\n\r\n```\r\nquark % python\r\nPython 2.7.15 (v2.7.15:ca079a3ea3, Apr 30 2018, 16:22:17) [MSC v.1500 32 bit (Intel)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pandas as pd\r\n>>> pd.read_hdf(\"2018_04_04_13_29_40_110000.hdf5\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 370, in read_hdf\r\n    return store.select(key, auto_close=auto_close, **kwargs)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 717, in select\r\n    return it.get_result()\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 1457, in get_result\r\n    results = self.func(self.start, self.stop, where)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 710, in func\r\n    columns=columns, **kwargs)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 2902, in read\r\n    blk_items = self.read_index('block%d_items' % i)\r\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\io\\pytables.py\", line 2484, in read_index\r\n    variety = _ensure_decoded(getattr(self.attrs, '%s_variety' % key))\r\n  File \"C:\\Python27\\lib\\site-packages\\tables\\attributeset.py\", line 305, in __getattr__\r\n    \"'%s'\" % (name, self._v__nodepath))\r\nAttributeError: Attribute 'block0_items_variety' does not exist in node: '/a_2018_04_04_13_29_40_110000'\r\n>>> pd.show_versions()\r\n\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 2.7.15.final.0\r\npython-bits: 32\r\nOS: Windows\r\nOS-release: 7\r\nmachine: AMD64\r\nprocessor: Intel64 Family 6 Model 26 Stepping 5, GenuineIntel\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: None\r\nLOCALE: None.None\r\n\r\npandas: 0.22.0\r\npytest: None\r\npip: 10.0.1\r\nsetuptools: 39.0.1\r\nCython: None\r\nnumpy: 1.14.3\r\nscipy: 1.0.1\r\npyarrow: None\r\nxarray: None\r\nIPython: 5.6.0\r\nsphinx: 1.7.4\r\npatsy: None\r\ndateutil: 2.7.2\r\npytz: 2018.4\r\nblosc: None\r\nbottleneck: None\r\ntables: 3.4.3\r\nnumexpr: 2.6.5\r\nfeather: None\r\nmatplotlib: 2.2.2\r\nopenpyxl: 2.5.4\r\nxlrd: 1.1.0\r\nxlwt: 1.3.0\r\nxlsxwriter: None\r\nlxml: 4.2.1\r\nbs4: None\r\nhtml5lib: 1.0.1\r\nsqlalchemy: None\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.10\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/402397462",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18972#issuecomment-402397462",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18972",
    "id": 402397462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjM5NzQ2Mg==",
    "user": {
      "login": "JanKalin",
      "id": 18305372,
      "node_id": "MDQ6VXNlcjE4MzA1Mzcy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/18305372?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JanKalin",
      "html_url": "https://github.com/JanKalin",
      "followers_url": "https://api.github.com/users/JanKalin/followers",
      "following_url": "https://api.github.com/users/JanKalin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JanKalin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JanKalin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JanKalin/subscriptions",
      "organizations_url": "https://api.github.com/users/JanKalin/orgs",
      "repos_url": "https://api.github.com/users/JanKalin/repos",
      "events_url": "https://api.github.com/users/JanKalin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JanKalin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-04T08:01:17Z",
    "updated_at": "2018-07-04T08:01:17Z",
    "author_association": "NONE",
    "body": "The problem apparently only occurs on 32-bit Python. With 64-bit running inside a 64-bit virtual machine the conversion goes well:\r\n\r\n```\r\nY:\\>c:\\Users\\jank\\test\\dws2hdf5.py Ravbarkomanda_2018_04_04_132938.dxd --fields\r\n1 @rename.opt\r\n2018-07-04 09:53:22.973000 1/1 Ravbarkomanda_2018_04_04_132938.dxd, a_2018_04_04\r\n_13_29_40_110000, T_2018_04_04_13_29_40_110000, done\r\n\r\nY:\\>python\r\nPython 2.7.15 (v2.7.15:ca079a3ea3, Apr 30 2018, 16:30:26) [MSC v.1500 64 bit (AM\r\nD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pandas as pd\r\n>>> pd.show_versions()\r\n\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 2.7.15.final.0\r\npython-bits: 64\r\nOS: Windows\r\nOS-release: 7\r\nmachine: AMD64\r\nprocessor: Intel64 Family 6 Model 26 Stepping 5, GenuineIntel\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: None\r\nLOCALE: None.None\r\n\r\npandas: 0.23.1\r\npytest: None\r\npip: 10.0.1\r\nsetuptools: 39.0.1\r\nCython: None\r\nnumpy: 1.14.5\r\nscipy: None\r\npyarrow: None\r\nxarray: None\r\nIPython: 5.7.0\r\nsphinx: 1.7.5\r\npatsy: None\r\ndateutil: 2.7.3\r\npytz: 2018.5\r\nblosc: None\r\nbottleneck: None\r\ntables: None\r\nnumexpr: 2.6.5\r\nfeather: None\r\nmatplotlib: None\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: 1.0.1\r\nsqlalchemy: None\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.10\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403012755",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18972#issuecomment-403012755",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18972",
    "id": 403012755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzAxMjc1NQ==",
    "user": {
      "login": "JanKalin",
      "id": 18305372,
      "node_id": "MDQ6VXNlcjE4MzA1Mzcy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/18305372?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JanKalin",
      "html_url": "https://github.com/JanKalin",
      "followers_url": "https://api.github.com/users/JanKalin/followers",
      "following_url": "https://api.github.com/users/JanKalin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JanKalin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JanKalin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JanKalin/subscriptions",
      "organizations_url": "https://api.github.com/users/JanKalin/orgs",
      "repos_url": "https://api.github.com/users/JanKalin/repos",
      "events_url": "https://api.github.com/users/JanKalin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JanKalin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-06T11:56:59Z",
    "updated_at": "2018-07-06T11:56:59Z",
    "author_association": "NONE",
    "body": "And the problem disappears with the latest version of Pandas, 0.23.2"
  }
]
