[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/439976546",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23786#issuecomment-439976546",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23786",
    "id": 439976546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk3NjU0Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-19T17:31:46Z",
    "updated_at": "2018-11-19T17:31:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you provide a complete example (including writing `file.parquet`)? Does your example need parquet, or can it be reproduced when just creating a dataframe with object-dtype in memory? At a glance, it looks like your bug report is that DataFrame.replace converts objects to float?\r\n\r\nPandas master supports nullable integer columns: http://pandas-docs.github.io/pandas-docs-travis/whatsnew/v0.24.0.html#optional-integer-na-support."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/440180799",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23786#issuecomment-440180799",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23786",
    "id": 440180799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDE4MDc5OQ==",
    "user": {
      "login": "xhochy",
      "id": 70274,
      "node_id": "MDQ6VXNlcjcwMjc0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/70274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xhochy",
      "html_url": "https://github.com/xhochy",
      "followers_url": "https://api.github.com/users/xhochy/followers",
      "following_url": "https://api.github.com/users/xhochy/following{/other_user}",
      "gists_url": "https://api.github.com/users/xhochy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xhochy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xhochy/subscriptions",
      "organizations_url": "https://api.github.com/users/xhochy/orgs",
      "repos_url": "https://api.github.com/users/xhochy/repos",
      "events_url": "https://api.github.com/users/xhochy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xhochy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T08:09:38Z",
    "updated_at": "2018-11-20T08:09:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is reproducible without `pyarrow` at all. It is not straight-forward to construct an integer columns as `object` in Pandas but the following snippet reproduces the problem:\r\n\r\n```\r\nimport pandas as pd\r\ndf = pd.DataFrame({'objects': ['s', None]})\r\ndf.loc[0, 'objects'] = 1\r\ndf.dtypes\r\n# objects    object\r\n# dtype: object\r\ndf.replace({'objects': 'bad_data' }, 'good_data').dtypes\r\n# objects    float64\r\n# dtype: object\r\n```\r\n\r\nAfter the release of `pandas==0.24.0`, we'll also have a look in `pyarrow` in supporting the new built-in `ExtensionDtype` to get rid of the `integer_object_nulls` hack."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/440250546",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23786#issuecomment-440250546",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23786",
    "id": 440250546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDI1MDU0Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T12:06:52Z",
    "updated_at": "2018-11-20T12:06:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Slightly smaller example\r\n\r\n```\r\nIn [8]: df = pd.DataFrame({\"A\": [1, None]}, dtype=object)\r\n\r\nIn [9]: df.replace({1: 2}).dtypes\r\nOut[9]:\r\nA    float64\r\ndtype: object\r\n```\r\n\r\nI think this is a duplicate of https://github.com/pandas-dev/pandas/issues/5541; We have a few others touching on this subject."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/442045933",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23786#issuecomment-442045933",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23786",
    "id": 442045933,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjA0NTkzMw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-27T12:46:45Z",
    "updated_at": "2018-11-27T12:46:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing in favor of #5541. The fix there would be to make DataFrame.replace aware of extension arrays."
  }
]
