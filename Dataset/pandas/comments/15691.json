[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286736946",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286736946",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286736946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjczNjk0Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T13:13:33Z",
    "updated_at": "2017-03-15T13:13:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jzwinck can you confirm that this 'solves' the issue (not asking for a test in the codebase as might be tricky). just some verification.\r\n\r\ncan you add a whatsnew note."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286745168",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286745168",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286745168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc0NTE2OA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2017-03-15T13:44:38Z",
    "updated_at": "2017-03-15T16:17:44Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/15691?src=pr&el=h1) Report\n> Merging [#15691](https://codecov.io/gh/pandas-dev/pandas/pull/15691?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/2cad4dd0b48946add99d3d90e3dba958f2885349?src=pr&el=desc) will **decrease** coverage by `0.02%`.\n> The diff coverage is `100%`.\n\n\n```diff\n@@            Coverage Diff             @@\n##           master   #15691      +/-   ##\n==========================================\n- Coverage   91.02%      91%   -0.03%     \n==========================================\n  Files         143      143              \n  Lines       49409    49409              \n==========================================\n- Hits        44977    44967      -10     \n- Misses       4432     4442      +10\n```\n\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/15691?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/indexing.py](https://codecov.io/gh/pandas-dev/pandas/compare/2cad4dd0b48946add99d3d90e3dba958f2885349...dadb97c6e3fa684466b4e1b89c66cad677d3da03?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhpbmcucHk=) | `94.08% <100%> (ø)` | :white_check_mark: |\n| [pandas/io/gbq.py](https://codecov.io/gh/pandas-dev/pandas/compare/2cad4dd0b48946add99d3d90e3dba958f2885349...dadb97c6e3fa684466b4e1b89c66cad677d3da03?src=pr&el=tree#diff-cGFuZGFzL2lvL2dicS5weQ==) | `25% <0%> (-58.34%)` | :x: |\n| [pandas/tools/merge.py](https://codecov.io/gh/pandas-dev/pandas/compare/2cad4dd0b48946add99d3d90e3dba958f2885349...dadb97c6e3fa684466b4e1b89c66cad677d3da03?src=pr&el=tree#diff-cGFuZGFzL3Rvb2xzL21lcmdlLnB5) | `93.68% <0%> (-0.34%)` | :x: |\n| [pandas/core/frame.py](https://codecov.io/gh/pandas-dev/pandas/compare/2cad4dd0b48946add99d3d90e3dba958f2885349...dadb97c6e3fa684466b4e1b89c66cad677d3da03?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZnJhbWUucHk=) | `97.87% <0%> (-0.1%)` | :x: |\n| [pandas/core/window.py](https://codecov.io/gh/pandas-dev/pandas/compare/2cad4dd0b48946add99d3d90e3dba958f2885349...dadb97c6e3fa684466b4e1b89c66cad677d3da03?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvd2luZG93LnB5) | `96.18% <0%> (ø)` | :white_check_mark: |\n| [pandas/core/common.py](https://codecov.io/gh/pandas-dev/pandas/compare/2cad4dd0b48946add99d3d90e3dba958f2885349...dadb97c6e3fa684466b4e1b89c66cad677d3da03?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvY29tbW9uLnB5) | `91.3% <0%> (+0.33%)` | :white_check_mark: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/15691?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/15691?src=pr&el=footer). Last update [2cad4dd...dadb97c](https://codecov.io/gh/pandas-dev/pandas/compare/2cad4dd0b48946add99d3d90e3dba958f2885349...dadb97c6e3fa684466b4e1b89c66cad677d3da03?el=footer&src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286777025",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286777025",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286777025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc3NzAyNQ==",
    "user": {
      "login": "jzwinck",
      "id": 1216791,
      "node_id": "MDQ6VXNlcjEyMTY3OTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1216791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jzwinck",
      "html_url": "https://github.com/jzwinck",
      "followers_url": "https://api.github.com/users/jzwinck/followers",
      "following_url": "https://api.github.com/users/jzwinck/following{/other_user}",
      "gists_url": "https://api.github.com/users/jzwinck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jzwinck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jzwinck/subscriptions",
      "organizations_url": "https://api.github.com/users/jzwinck/orgs",
      "repos_url": "https://api.github.com/users/jzwinck/repos",
      "events_url": "https://api.github.com/users/jzwinck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jzwinck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T15:24:49Z",
    "updated_at": "2017-03-15T15:24:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback It \"fixed\" the hang on my system when I did `import pandas` in a new thread Python didn't know about and which did not hold the GIL.  There could still be other ways to hang Python when the GIL is not used properly, but this patch sidesteps the one I encountered.\r\n\r\nI have added a note in whatsnew 0.20.0 now.\r\n\r\nAs for testing, here is a C program which deadlocks before my patch and runs successfully after.  Please note I believe it to be an erroneous program w.r.t. its multithreaded use of the Python C API--just to be clear this is not good code:\r\n```\r\n#include <Python.h>\r\n#include <assert.h>\r\n#include <pthread.h>\r\n\r\nstatic void* import_pandas(void* arg)\r\n{\r\n    (void)arg;\r\n    return PyImport_ImportModule(\"pandas\");\r\n}\r\n\r\nint main(void)\r\n{\r\n    Py_Initialize();\r\n\r\n    /* try to import pandas without the GIL\r\n     * probably not a good idea, but... */\r\n    pthread_t id;\r\n    int rc = pthread_create(&id, 0, &import_pandas, 0);\r\n    assert(rc == 0);\r\n\r\n    /* if we time out, SIGALRM will kill us */\r\n    alarm(10);\r\n\r\n    void* obj;\r\n    rc = pthread_join(id, &obj);\r\n    assert(rc == 0);\r\n    assert(obj);\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\nIf you want, you could add this as a unit test, but I'm not sure exactly how it fits in to the project given the existing tests all seem to be written in Python, and apart from using CFFI there's probably no way to implement the above in Python."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286783095",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286783095",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286783095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc4MzA5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T15:42:53Z",
    "updated_at": "2017-03-15T15:42:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jzwinck is there a way to do this directly using ``threading``? IOW simulate importing *inside* the different threads."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286787172",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286787172",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286787172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc4NzE3Mg==",
    "user": {
      "login": "jzwinck",
      "id": 1216791,
      "node_id": "MDQ6VXNlcjEyMTY3OTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1216791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jzwinck",
      "html_url": "https://github.com/jzwinck",
      "followers_url": "https://api.github.com/users/jzwinck/followers",
      "following_url": "https://api.github.com/users/jzwinck/following{/other_user}",
      "gists_url": "https://api.github.com/users/jzwinck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jzwinck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jzwinck/subscriptions",
      "organizations_url": "https://api.github.com/users/jzwinck/orgs",
      "repos_url": "https://api.github.com/users/jzwinck/repos",
      "events_url": "https://api.github.com/users/jzwinck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jzwinck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T15:54:49Z",
    "updated_at": "2017-03-15T15:54:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I don't think so, because it requires misusing (or failing to use)\nthe GIL, which no Python module short of FFI is going to facilitate.\n\nOn Mar 15, 2017 23:43, \"Jeff Reback\" <notifications@github.com> wrote:\n\n> @jzwinck <https://github.com/jzwinck> is there a way to do this directly\n> using threading? IOW simulate importing *inside* the different threads.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286783095>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABKRF_4hRWJzG66wGF1DC6PSWtbdo33Pks5rmAcJgaJpZM4Md5gS>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286788150",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286788150",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286788150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc4ODE1MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T15:57:40Z",
    "updated_at": "2017-03-15T15:57:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, so how are that pure-python libraries that are simply doing imports failing? must be a race condition on the import itself in various threads.?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286789646",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286789646",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286789646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc4OTY0Ng==",
    "user": {
      "login": "jzwinck",
      "id": 1216791,
      "node_id": "MDQ6VXNlcjEyMTY3OTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1216791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jzwinck",
      "html_url": "https://github.com/jzwinck",
      "followers_url": "https://api.github.com/users/jzwinck/followers",
      "following_url": "https://api.github.com/users/jzwinck/following{/other_user}",
      "gists_url": "https://api.github.com/users/jzwinck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jzwinck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jzwinck/subscriptions",
      "organizations_url": "https://api.github.com/users/jzwinck/orgs",
      "repos_url": "https://api.github.com/users/jzwinck/repos",
      "events_url": "https://api.github.com/users/jzwinck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jzwinck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T16:02:03Z",
    "updated_at": "2017-03-15T16:02:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "No pure Python program had this bug. All the reports in the linked issue\nare from Apache. My case was not Apache but was basically like the C test\nprogram I posted here. This issue is all about importing Pandas in an\n\"embedded\" Python interpreter.\n\nOn Mar 15, 2017 23:57, \"Jeff Reback\" <notifications@github.com> wrote:\n\n> hmm, so how are that pure-python libraries that are simply doing imports\n> failing? must be a race condition on the import itself in various threads.?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286788150>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABKRFwd0hdAYfxV_x7rkNKnuBbd-9O6Sks5rmAp_gaJpZM4Md5gS>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/286790193",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15691#issuecomment-286790193",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15691",
    "id": 286790193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc5MDE5Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T16:03:43Z",
    "updated_at": "2017-03-15T16:03:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jzwinck I c. ok will merge this and cross-fingers. thanks!"
  }
]
