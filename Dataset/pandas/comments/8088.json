[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52893463",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8088#issuecomment-52893463",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8088",
    "id": 52893463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODkzNDYz",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-21T08:42:35Z",
    "updated_at": "2014-08-21T08:43:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "With sqlalchemy I'm able to write Null values to table if I use `sqlalchemy.sql.null()` instead `None`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52893515",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8088#issuecomment-52893515",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8088",
    "id": 52893515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODkzNTE1",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-21T08:43:15Z",
    "updated_at": "2014-08-21T08:44:34Z",
    "author_association": "MEMBER",
    "body": "The problem with the `df.where(pd.isnull(df), None)` approach (having NaNs as None) is that the columns have then 'object' dtype, and because of that 'TEXT' columns are created in the database (and gives you the error of 'float is incompatible with text').\n\nPossible hack for now: first create the database with part of the data without NaNs (eg first line if there aren't NaNs), and then append the rest.\n\nBut I hope the NaN issues will be fixed for real for 0.15 (as replacing NaNs with None is also hack that does not work very well, as you illustrated here). If you are interested in looking into this a bit, certainly welcome!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52894685",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8088#issuecomment-52894685",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8088",
    "id": 52894685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODk0Njg1",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-21T08:56:35Z",
    "updated_at": "2014-08-21T08:56:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "> The problem with the df.where(pd.isnull(df), None) approach (having NaNs as None) is that the columns have then 'object' dtype, and because of that 'TEXT' columns are created in the database.\n\nYou are right. Postgre table columns are of type text, which makes the referenced hack unacceptable.\n\n> Possible hack for now: first create the database with part of the data without NaNs (eg first line if there aren't NaNs), and then append the rest.\n\nTested and working fine for me.\nI had to change `np.nans` to `None`, and then appending creates Nulls and column type is preserved.\n\nThanks :)\n\n> But I hope the NaN issues will be fixed for real for 0.15. If you are interested in looking into this a bit, certainly welcome!\n\nI can perhaps look a bit, but I'm afraid I don't have skills to make the difference.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52895515",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8088#issuecomment-52895515",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8088",
    "id": 52895515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODk1NTE1",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-21T09:05:51Z",
    "updated_at": "2014-08-21T09:05:51Z",
    "author_association": "MEMBER",
    "body": "Yes, this is the 'known hack' for the moment, changing the NaNs to None (and first creating the database and then append). \nThe main issue about this is here: #2754\n\nWhat error do you get if you just write to mssql with NaNs (so `df = df.where(df < .5, np.nan)` instead of None)? Because eg for postgres it does work, but not for mysql (see overview https://github.com/pydata/pandas/issues/2754#issuecomment-42937229). Always interesting to know how the status is with other flavours.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52896294",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8088#issuecomment-52896294",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8088",
    "id": 52896294,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODk2Mjk0",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-21T09:14:01Z",
    "updated_at": "2014-08-21T09:14:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "> The main issue about this is here: #2754 \n\nOK, I'll look closer\n\n> What error do you get if you just write to mssql with NaNs (so df = df.where(df < .5, np.nan) instead of None)?\n\nI get this:\n\n```\nProgrammingError: (ProgrammingError) (\n    '42000', '[42000] [Microsoft][ODBC SQL Server Driver][SQL Server]\n    The incoming tabular data stream (TDS) remote procedure call (RPC) protocol stream is incorrect. \n    Parameter 6 (\"\"): The supplied value is not a valid instance of data type float. \n    Check the source data for invalid values. \n    An example of an invalid value is data of numeric type with scale greater than precision. (8023) (SQLExecDirectW)'\n) \nu'INSERT INTO y ([index], [0], [1], [2]) VALUES (?, ?, ?, ?)' (\n    (0L, 0.3546747680133002, nan, 0.15303927955650265), \n    (1L, nan, nan, nan), \n    (2L, nan, nan, nan), \n    (3L, nan, nan, 0.027304714280517728), \n    (4L, nan, 0.08309139967584267, 0.2815579060440928)\n)\n```\n\nFull trace: https://gist.github.com/339130e1346b22e91030\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52912118",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8088#issuecomment-52912118",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8088",
    "id": 52912118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTEyMTE4",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-21T12:21:08Z",
    "updated_at": "2014-08-21T12:21:48Z",
    "author_association": "MEMBER",
    "body": "Thanks for testing! \nI am going to close this issue then, but mention it in #2754 in the overview of what is/not yet working (as for the moment, it is a general issue for all flavors).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52912977",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8088#issuecomment-52912977",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8088",
    "id": 52912977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTEyOTc3",
    "user": {
      "login": "klonuo",
      "id": 361447,
      "node_id": "MDQ6VXNlcjM2MTQ0Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/361447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klonuo",
      "html_url": "https://github.com/klonuo",
      "followers_url": "https://api.github.com/users/klonuo/followers",
      "following_url": "https://api.github.com/users/klonuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/klonuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klonuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klonuo/subscriptions",
      "organizations_url": "https://api.github.com/users/klonuo/orgs",
      "repos_url": "https://api.github.com/users/klonuo/repos",
      "events_url": "https://api.github.com/users/klonuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klonuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-21T12:31:02Z",
    "updated_at": "2014-08-21T12:31:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, @jorisvandenbossche \nThanks for your support\n"
  }
]
