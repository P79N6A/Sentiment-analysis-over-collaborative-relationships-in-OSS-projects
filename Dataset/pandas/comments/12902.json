[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/210705629",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12902#issuecomment-210705629",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12902",
    "id": 210705629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDcwNTYyOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-16T01:32:39Z",
    "updated_at": "2016-04-16T01:32:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is about [here](https://github.com/pydata/pandas/blob/master/pandas/core/groupby.py#L1746)\n\npull-requests are welcome. For now we need to coerce this to `object` (rather than treat this as a float)\n\nThis does it. just need some tests and such.\n\n```\ndiff --git a/pandas/core/groupby.py b/pandas/core/groupby.py\nindex 6996254..e2a4482 100644\n--- a/pandas/core/groupby.py\n+++ b/pandas/core/groupby.py\n@@ -1747,7 +1747,7 @@ class BaseGrouper(object):\n             values = _algos.ensure_float64(values)\n         elif com.is_integer_dtype(values):\n             values = values.astype('int64', copy=False)\n-        elif is_numeric:\n+        elif is_numeric and not com.is_complex_dtype(values):\n             values = _algos.ensure_float64(values)\n         else:\n             values = values.astype(object)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/211153771",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12902#issuecomment-211153771",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12902",
    "id": 211153771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTE1Mzc3MQ==",
    "user": {
      "login": "adneu",
      "id": 16600886,
      "node_id": "MDQ6VXNlcjE2NjAwODg2",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16600886?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adneu",
      "html_url": "https://github.com/adneu",
      "followers_url": "https://api.github.com/users/adneu/followers",
      "following_url": "https://api.github.com/users/adneu/following{/other_user}",
      "gists_url": "https://api.github.com/users/adneu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adneu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adneu/subscriptions",
      "organizations_url": "https://api.github.com/users/adneu/orgs",
      "repos_url": "https://api.github.com/users/adneu/repos",
      "events_url": "https://api.github.com/users/adneu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adneu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-18T02:07:08Z",
    "updated_at": "2016-04-18T02:07:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "The bug also occurs when using a Series and invoking `groupby` with `level=0` (so it is not specific to MultiIndex, only indirectly via `groupby`, as suggested).\n\n```\nIn [1]: series = pd.Series(data=np.arange(4)*(1+2j),index=[0,0,1,1])\nIn [2]: print series\n0        0j\n0    (1+2j)\n1    (2+4j)\n1    (3+6j)\ndtype: complex128\n\nIn [3]: series.groupby(level=0).sum()\nOut[3]: \n0    1.0\n1    5.0\ndtype: float64\n```\n\nExpected:\n\n```\nOut[3]: \n0     (1+2j)\n1    (5+10j)\ndtype: complex128\n```\n"
  }
]
