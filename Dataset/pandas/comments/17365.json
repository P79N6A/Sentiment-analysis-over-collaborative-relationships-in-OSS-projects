[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325507000",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325507000",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325507000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUwNzAwMA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-28T23:01:46Z",
    "updated_at": "2017-08-28T23:02:31Z",
    "author_association": "MEMBER",
    "body": "@kevinsa5 : Thanks for reporting this!  The fact that you only have this issue on Windows *I think* is telling about the issue and could indicate that it is not a `pandas` issue.  Here is a link that might potentially clear this up for you:\r\n\r\nhttps://stackoverflow.com/questions/7013034/does-windows-carriage-return-r-n-consist-of-two-characters-or-one-character\r\n\r\nIf you can find a version of `pandas` where this doesn't occur, then that's a regression, but as it stands, I don't believe it is a problem on our end."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325510017",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325510017",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325510017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUxMDAxNw==",
    "user": {
      "login": "kevinsa5",
      "id": 2515508,
      "node_id": "MDQ6VXNlcjI1MTU1MDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2515508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsa5",
      "html_url": "https://github.com/kevinsa5",
      "followers_url": "https://api.github.com/users/kevinsa5/followers",
      "following_url": "https://api.github.com/users/kevinsa5/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsa5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsa5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsa5/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsa5/orgs",
      "repos_url": "https://api.github.com/users/kevinsa5/repos",
      "events_url": "https://api.github.com/users/kevinsa5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsa5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-28T23:21:45Z",
    "updated_at": "2017-08-28T23:21:45Z",
    "author_association": "NONE",
    "body": "@gfyoung : Thanks for the quick reply!  I am familiar with how Windows uses `\\r\\n` as its newline character combo, while other OSs use only `\\n`.  However, I do not believe that is the issue here.  \r\n\r\nIf you take a close look at the script output I posted above, for some values of `line_terminator`, `to_csv` will produce different output depending on if you're sending to a file or not.  From this alone, I believe it to be a bug in pandas, regardless of OS linesep convention -- I would not expect the destination of the CSV data to affect the data itself. \r\n\r\nI should mention:  I am immensely grateful for all the work the pandas devs have put into this library.  Thank you very much for your continued effort.  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325513477",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325513477",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325513477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUxMzQ3Nw==",
    "user": {
      "login": "kevinsa5",
      "id": 2515508,
      "node_id": "MDQ6VXNlcjI1MTU1MDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2515508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsa5",
      "html_url": "https://github.com/kevinsa5",
      "followers_url": "https://api.github.com/users/kevinsa5/followers",
      "following_url": "https://api.github.com/users/kevinsa5/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsa5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsa5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsa5/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsa5/orgs",
      "repos_url": "https://api.github.com/users/kevinsa5/repos",
      "events_url": "https://api.github.com/users/kevinsa5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsa5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-28T23:45:06Z",
    "updated_at": "2017-08-28T23:45:06Z",
    "author_association": "NONE",
    "body": "@gfyoung After further reading, I think you may be correct.  Is it true that on Windows, if you write the character '\\n' to a file, the OS may actually insert '\\r\\n' into the file?  Does this depend on how the file is opened?  \r\n\r\nMaybe I've been spoilt by Linux, but it seems unacceptable to me for an OS to silently change bytes that you send to disk.  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325515120",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325515120",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325515120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUxNTEyMA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-28T23:56:16Z",
    "updated_at": "2017-08-28T23:56:16Z",
    "author_association": "MEMBER",
    "body": "> Does this depend on how the file is opened?\r\n\r\nNot entirely sure to be honest.  However, as someone who has worked on a Windows computer from a Linux-based repository, I can say for certain that I have seen these carriage returns sneak into diffs just merely from cloning the repository.\r\n\r\n> Maybe I've been spoilt by Linux, but it seems unacceptable to me for an OS to silently change bytes that you send to disk.\r\n\r\nAs somebody who has worked in both the Linux and Windows world, you are perfectly entitled to bytes not being \"corrupted\" like this.  There's a reason why Linux is generally preferred for developers :smile:"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325518843",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325518843",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325518843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUxODg0Mw==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-29T00:22:45Z",
    "updated_at": "2017-08-29T00:22:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://stackoverflow.com/questions/3191528/csv-in-python-adding-an-extra-carriage-return\r\n\r\nOn python2 looks like we should be opening the file in mode `'b'` when passing to `csv`, PR to fix welcome"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325520326",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325520326",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325520326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUyMDMyNg==",
    "user": {
      "login": "kevinsa5",
      "id": 2515508,
      "node_id": "MDQ6VXNlcjI1MTU1MDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2515508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsa5",
      "html_url": "https://github.com/kevinsa5",
      "followers_url": "https://api.github.com/users/kevinsa5/followers",
      "following_url": "https://api.github.com/users/kevinsa5/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsa5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsa5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsa5/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsa5/orgs",
      "repos_url": "https://api.github.com/users/kevinsa5/repos",
      "events_url": "https://api.github.com/users/kevinsa5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsa5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-29T00:33:34Z",
    "updated_at": "2017-08-29T00:33:34Z",
    "author_association": "NONE",
    "body": "Indeed changing the above code to `df.to_csv(filename, line_terminator = sep, mode='wb')` does solve the issue on my end.  Whether a PR should be as simple as changing the default value or not, I'm not qualified to say:\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/master/pandas/core/frame.py#L1448\r\n\r\nThank you both.  Pandas is a fantastic piece of software.  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325531962",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325531962",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325531962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUzMTk2Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-29T01:57:33Z",
    "updated_at": "2017-08-29T01:57:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "actually if u look the other highly starred answer in the SO post might work better\r\n\r\ne.g. passing line_terminator to the csv.writer itself"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325532479",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325532479",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325532479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTUzMjQ3OQ==",
    "user": {
      "login": "kevinsa5",
      "id": 2515508,
      "node_id": "MDQ6VXNlcjI1MTU1MDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2515508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsa5",
      "html_url": "https://github.com/kevinsa5",
      "followers_url": "https://api.github.com/users/kevinsa5/followers",
      "following_url": "https://api.github.com/users/kevinsa5/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsa5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsa5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsa5/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsa5/orgs",
      "repos_url": "https://api.github.com/users/kevinsa5/repos",
      "events_url": "https://api.github.com/users/kevinsa5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsa5/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-29T02:01:09Z",
    "updated_at": "2017-08-29T02:01:09Z",
    "author_association": "NONE",
    "body": "Note that the argument to `to_csv` does get passed through to the csv.writer:\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/master/pandas/io/formats/format.py#L1586"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325651081",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-325651081",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 325651081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTY1MTA4MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-29T12:40:22Z",
    "updated_at": "2017-08-29T12:40:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kevinsa5 if you want to submit a PR with the change (for opening in binary mode on windows in binary when line_terminator is specified), and see if it passes tests."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/365861823",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-365861823",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 365861823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTg2MTgyMw==",
    "user": {
      "login": "ingmars",
      "id": 966559,
      "node_id": "MDQ6VXNlcjk2NjU1OQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/966559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ingmars",
      "html_url": "https://github.com/ingmars",
      "followers_url": "https://api.github.com/users/ingmars/followers",
      "following_url": "https://api.github.com/users/ingmars/following{/other_user}",
      "gists_url": "https://api.github.com/users/ingmars/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ingmars/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ingmars/subscriptions",
      "organizations_url": "https://api.github.com/users/ingmars/orgs",
      "repos_url": "https://api.github.com/users/ingmars/repos",
      "events_url": "https://api.github.com/users/ingmars/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ingmars/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-15T08:52:49Z",
    "updated_at": "2018-02-15T08:52:49Z",
    "author_association": "NONE",
    "body": "I everyone, I'm experiencing the same problem on Pandas 0.20.3 on Windows 7. However, **mode='wb' might be a dangerous fix**, as then it **crashes with an encoding setting** such as encoding='utf-8' saying: \"ValueError: binary mode doesn't take an encoding argument\".\r\n\r\nIt would be nice if there was a workaround making both **line_terminator** and **encoding** work at the same time."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/382437017",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-382437017",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 382437017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjQzNzAxNw==",
    "user": {
      "login": "soultemptation",
      "id": 4417925,
      "node_id": "MDQ6VXNlcjQ0MTc5MjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4417925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soultemptation",
      "html_url": "https://github.com/soultemptation",
      "followers_url": "https://api.github.com/users/soultemptation/followers",
      "following_url": "https://api.github.com/users/soultemptation/following{/other_user}",
      "gists_url": "https://api.github.com/users/soultemptation/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soultemptation/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soultemptation/subscriptions",
      "organizations_url": "https://api.github.com/users/soultemptation/orgs",
      "repos_url": "https://api.github.com/users/soultemptation/repos",
      "events_url": "https://api.github.com/users/soultemptation/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soultemptation/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T15:55:08Z",
    "updated_at": "2018-04-19T06:45:22Z",
    "author_association": "NONE",
    "body": "I am experiencing the same issue.\r\n\r\nWith `line_terminator='\\r\\n', mode='w'`, I am getting the line endings `\\r\\r\\n`\r\n\r\nWhen I am using `line_terminator='\\r\\n', mode='wb'`, I am getting the error:\r\n\r\n>   File \"C:\\[...]\\site-packages\\pandas\\io\\common.py\", line 332, in _get_handle\r\n>    f = open(path, mode, errors='replace')\r\n> ValueError: binary mode doesn't take an errors argument\r\n\r\nAnd the same as @ingmars  when I try to set an encoding with `line_terminator='\\r\\n', mode='wb', encoding='utf-8'`.\r\n\r\nI settled at the end with not specifying any line_terminator. Not happy, but I will fix this with other tools after the file has been written.\r\n\r\nEverything with Win10, Python 3.5, Pandas 0.19.2"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/394196429",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17365#issuecomment-394196429",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17365",
    "id": 394196429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDE5NjQyOQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-03T22:23:55Z",
    "updated_at": "2018-06-03T22:23:55Z",
    "author_association": "MEMBER",
    "body": "Per https://github.com/pandas-dev/pandas/issues/20353#issuecomment-392303363 from @jreback , let's move the discussion to #20353."
  }
]
