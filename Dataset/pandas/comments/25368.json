[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465028516",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465028516",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465028516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTAyODUxNg==",
    "user": {
      "login": "pep8speaks",
      "id": 24736507,
      "node_id": "MDQ6VXNlcjI0NzM2NTA3",
      "avatar_url": "https://avatars1.githubusercontent.com/u/24736507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pep8speaks",
      "html_url": "https://github.com/pep8speaks",
      "followers_url": "https://api.github.com/users/pep8speaks/followers",
      "following_url": "https://api.github.com/users/pep8speaks/following{/other_user}",
      "gists_url": "https://api.github.com/users/pep8speaks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pep8speaks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pep8speaks/subscriptions",
      "organizations_url": "https://api.github.com/users/pep8speaks/orgs",
      "repos_url": "https://api.github.com/users/pep8speaks/repos",
      "events_url": "https://api.github.com/users/pep8speaks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pep8speaks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-19T08:07:53Z",
    "updated_at": "2019-02-21T18:51:36Z",
    "author_association": "NONE",
    "body": "Hello @batterseapower! Thanks for updating the PR.\n\n\n\n\n\nCheers ! There are no PEP8 issues in this Pull Request. :beers: \n\n##### Comment last updated on February 21, 2019 at 18:51 Hours UTC"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465046323",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465046323",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465046323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTA0NjMyMw==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-02-19T09:01:13Z",
    "updated_at": "2019-02-19T09:01:13Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=h1) Report\n> Merging [#25368](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/f74aba614554d1de4d7986fef6296a4eda951ac9?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/25368/graphs/tree.svg?width=650&token=eZ4WkYLtcO&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #25368      +/-   ##\n==========================================\n- Coverage   91.73%   91.73%   -0.01%     \n==========================================\n  Files         173      173              \n  Lines       52839    52837       -2     \n==========================================\n- Hits        48472    48470       -2     \n  Misses       4367     4367\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.29% <100%> (-0.01%)` | :arrow_down: |\n| #single | `41.72% <0%> (-0.01%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/arrays/categorical.py](https://codecov.io/gh/pandas-dev/pandas/pull/25368/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvYXJyYXlzL2NhdGVnb3JpY2FsLnB5) | `95.96% <100%> (-0.02%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=footer). Last update [f74aba6...b28f798](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465046356",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465046356",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465046356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTA0NjM1Ng==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-02-19T09:01:19Z",
    "updated_at": "2019-02-21T19:31:27Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=h1) Report\n> Merging [#25368](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/9c0f6a8d703b6bee48918f2c5d16418a7ff736e3?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/25368/graphs/tree.svg?width=650&token=eZ4WkYLtcO&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #25368      +/-   ##\n==========================================\n+ Coverage   91.73%   91.73%   +<.01%     \n==========================================\n  Files         173      173              \n  Lines       52845    52843       -2     \n==========================================\n- Hits        48479    48478       -1     \n+ Misses       4366     4365       -1\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.3% <100%> (-0.01%)` | :arrow_down: |\n| #single | `41.72% <0%> (-0.01%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/arrays/categorical.py](https://codecov.io/gh/pandas-dev/pandas/pull/25368/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvYXJyYXlzL2NhdGVnb3JpY2FsLnB5) | `95.96% <100%> (-0.02%)` | :arrow_down: |\n| [pandas/util/testing.py](https://codecov.io/gh/pandas-dev/pandas/pull/25368/diff?src=pr&el=tree#diff-cGFuZGFzL3V0aWwvdGVzdGluZy5weQ==) | `87.66% <0%> (+0.09%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=footer). Last update [9c0f6a8...d74043b](https://codecov.io/gh/pandas-dev/pandas/pull/25368?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465263968",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465263968",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465263968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTI2Mzk2OA==",
    "user": {
      "login": "batterseapower",
      "id": 18488,
      "node_id": "MDQ6VXNlcjE4NDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/batterseapower",
      "html_url": "https://github.com/batterseapower",
      "followers_url": "https://api.github.com/users/batterseapower/followers",
      "following_url": "https://api.github.com/users/batterseapower/following{/other_user}",
      "gists_url": "https://api.github.com/users/batterseapower/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/batterseapower/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/batterseapower/subscriptions",
      "organizations_url": "https://api.github.com/users/batterseapower/orgs",
      "repos_url": "https://api.github.com/users/batterseapower/repos",
      "events_url": "https://api.github.com/users/batterseapower/events{/privacy}",
      "received_events_url": "https://api.github.com/users/batterseapower/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-19T18:55:54Z",
    "updated_at": "2019-02-19T18:55:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "> pls show benchmarks\r\n\r\nReplicating the benchmarks from #23814 I see very similar results.\r\n\r\nHEAD:\r\n\r\n```python\r\nIn [1]: import pandas as pd\r\nIn [2]: x = pd.Series(list('abcd') * 1000000).astype('category')\r\nIn [3]: %timeit x == 'a'\r\n757 µs ± 9.88 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)\r\n````\r\n\r\nAfter my change:\r\n```python\r\n1.21 ms ± 28.4 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)\r\n```\r\n\r\nAfter my change but **without** the equal-categories fastpath:\r\n\r\n```python\r\n18.5 ms ± 193 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465504600",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465504600",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465504600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTUwNDYwMA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T09:54:00Z",
    "updated_at": "2019-02-20T09:54:00Z",
    "author_association": "MEMBER",
    "body": "@batterseapower Just to clarify, what is the reason you timed `%timeit x == 'a'`. I would assume we should time `pd.Categorical(x)` ?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465526814",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465526814",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465526814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTUyNjgxNA==",
    "user": {
      "login": "batterseapower",
      "id": 18488,
      "node_id": "MDQ6VXNlcjE4NDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/batterseapower",
      "html_url": "https://github.com/batterseapower",
      "followers_url": "https://api.github.com/users/batterseapower/followers",
      "following_url": "https://api.github.com/users/batterseapower/following{/other_user}",
      "gists_url": "https://api.github.com/users/batterseapower/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/batterseapower/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/batterseapower/subscriptions",
      "organizations_url": "https://api.github.com/users/batterseapower/orgs",
      "repos_url": "https://api.github.com/users/batterseapower/repos",
      "events_url": "https://api.github.com/users/batterseapower/events{/privacy}",
      "received_events_url": "https://api.github.com/users/batterseapower/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T10:57:59Z",
    "updated_at": "2019-02-20T10:58:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche simply because that's the benchmark that motivated the original (broken) change that introduced the regression."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465528007",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465528007",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465528007,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTUyODAwNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T11:01:59Z",
    "updated_at": "2019-02-20T11:01:59Z",
    "author_association": "MEMBER",
    "body": "Ah, I see the original issue. But the PR that addressed it added a benchmark for `pd.Categorical(series)` and `pd.Categorical(categorical)`. So can you show those as well?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465751449",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465751449",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465751449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTc1MTQ0OQ==",
    "user": {
      "login": "batterseapower",
      "id": 18488,
      "node_id": "MDQ6VXNlcjE4NDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/batterseapower",
      "html_url": "https://github.com/batterseapower",
      "followers_url": "https://api.github.com/users/batterseapower/followers",
      "following_url": "https://api.github.com/users/batterseapower/following{/other_user}",
      "gists_url": "https://api.github.com/users/batterseapower/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/batterseapower/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/batterseapower/subscriptions",
      "organizations_url": "https://api.github.com/users/batterseapower/orgs",
      "repos_url": "https://api.github.com/users/batterseapower/repos",
      "events_url": "https://api.github.com/users/batterseapower/events{/privacy}",
      "received_events_url": "https://api.github.com/users/batterseapower/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T20:58:47Z",
    "updated_at": "2019-02-20T20:58:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "These are the `asv` changes for `categoricals.Constructor`\r\n\r\n```\r\n       before           after         ratio\r\n     [54492791]       [a1b836a9]\r\n     <master~1>       <master>  \r\n+        48.3±1μs         268±10μs     5.55  categoricals.Constructor.time_existing_series\r\n-        889±40μs         48.0±1μs     0.05  categoricals.Constructor.time_existing_categorical\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465788965",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465788965",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465788965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTc4ODk2NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T22:55:26Z",
    "updated_at": "2019-02-20T22:55:26Z",
    "author_association": "MEMBER",
    "body": "Sorry, it is not fully clear to me what is master and what is this PR (master~1 is the PR?)\r\n\r\nBut in any case, one of the two situation (series or categorical) got slower with this PR, so we should look into how we can prevent that."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465798827",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465798827",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465798827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTc5ODgyNw==",
    "user": {
      "login": "batterseapower",
      "id": 18488,
      "node_id": "MDQ6VXNlcjE4NDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/batterseapower",
      "html_url": "https://github.com/batterseapower",
      "followers_url": "https://api.github.com/users/batterseapower/followers",
      "following_url": "https://api.github.com/users/batterseapower/following{/other_user}",
      "gists_url": "https://api.github.com/users/batterseapower/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/batterseapower/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/batterseapower/subscriptions",
      "organizations_url": "https://api.github.com/users/batterseapower/orgs",
      "repos_url": "https://api.github.com/users/batterseapower/repos",
      "events_url": "https://api.github.com/users/batterseapower/events{/privacy}",
      "received_events_url": "https://api.github.com/users/batterseapower/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T23:34:07Z",
    "updated_at": "2019-02-20T23:34:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, the `Series` case got slower, but I don't really see why this should be a problem? It's only fast in HEAD because we're doing something wildly unsafe! Surely the priority here should be fixing this regression rather than trying the preserve the illusory performance improvement from #23814"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465801884",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465801884",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465801884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTgwMTg4NA==",
    "user": {
      "login": "batterseapower",
      "id": 18488,
      "node_id": "MDQ6VXNlcjE4NDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/batterseapower",
      "html_url": "https://github.com/batterseapower",
      "followers_url": "https://api.github.com/users/batterseapower/followers",
      "following_url": "https://api.github.com/users/batterseapower/following{/other_user}",
      "gists_url": "https://api.github.com/users/batterseapower/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/batterseapower/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/batterseapower/subscriptions",
      "organizations_url": "https://api.github.com/users/batterseapower/orgs",
      "repos_url": "https://api.github.com/users/batterseapower/repos",
      "events_url": "https://api.github.com/users/batterseapower/events{/privacy}",
      "received_events_url": "https://api.github.com/users/batterseapower/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T23:47:25Z",
    "updated_at": "2019-02-21T07:21:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "If I revert #23814 entirely i.e. don't add the extra check to `_recode_for_categories` then we get:\r\n\r\n```\r\n       before           after         ratio\r\n     [54492791]       [4ebf932c]\r\n     <master~2>       <master>  \r\n+      39.5±0.8μs      1.29±0.07ms    32.70  categoricals.Constructor.time_existing_series\r\n```\r\n\r\ni.e. after this PR the `Series` case will still be 5x faster than it was before #23814, *and* the `Categorical` case will be 20x faster than `HEAD`. It might be tricky to match the 25x speedup for the `Series` case that #23814 was able to achieve by eliding all safety checks."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465889647",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-465889647",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 465889647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTg4OTY0Nw==",
    "user": {
      "login": "batterseapower",
      "id": 18488,
      "node_id": "MDQ6VXNlcjE4NDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/batterseapower",
      "html_url": "https://github.com/batterseapower",
      "followers_url": "https://api.github.com/users/batterseapower/followers",
      "following_url": "https://api.github.com/users/batterseapower/following{/other_user}",
      "gists_url": "https://api.github.com/users/batterseapower/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/batterseapower/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/batterseapower/subscriptions",
      "organizations_url": "https://api.github.com/users/batterseapower/orgs",
      "repos_url": "https://api.github.com/users/batterseapower/repos",
      "events_url": "https://api.github.com/users/batterseapower/events{/privacy}",
      "received_events_url": "https://api.github.com/users/batterseapower/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-21T07:20:26Z",
    "updated_at": "2019-02-21T07:20:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "With this additional change:\r\n\r\n```python\r\n-            old_codes = (values.cat.codes if isinstance(values, ABCSeries)\r\n+            old_codes = (values.values.codes if isinstance(values, ABCSeries)\r\n```\r\n\r\nWe're fast enough that asv stops whining about the `time_existing_series` case:\r\n\r\n```\r\n       before           after         ratio\r\n     [54492791]       [25aa03b2]\r\n     <master~2>       <master>  \r\n-        732±50μs       40.3±0.6μs     0.06  categoricals.Constructor.time_existing_categorical\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/468981343",
    "html_url": "https://github.com/pandas-dev/pandas/pull/25368#issuecomment-468981343",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25368",
    "id": 468981343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODk4MTM0Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-03T02:36:27Z",
    "updated_at": "2019-03-03T02:36:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "lgtm."
  }
]
