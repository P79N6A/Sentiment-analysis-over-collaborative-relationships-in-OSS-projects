[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/426101150",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22933#issuecomment-426101150",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22933",
    "id": 426101150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjEwMTE1MA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-01T23:52:56Z",
    "updated_at": "2018-10-01T23:52:56Z",
    "author_association": "MEMBER",
    "body": "There's already `rename_axis` and `set_axis` for your index naming and setting of columns examples respectively that can be chained.\r\n\r\nAre there any other attributes that don't have a corresponding method? I can't think of one off the top of my head. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/426103298",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22933#issuecomment-426103298",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22933",
    "id": 426103298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjEwMzI5OA==",
    "user": {
      "login": "topper-123",
      "id": 26364415,
      "node_id": "MDQ6VXNlcjI2MzY0NDE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26364415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/topper-123",
      "html_url": "https://github.com/topper-123",
      "followers_url": "https://api.github.com/users/topper-123/followers",
      "following_url": "https://api.github.com/users/topper-123/following{/other_user}",
      "gists_url": "https://api.github.com/users/topper-123/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/topper-123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/topper-123/subscriptions",
      "organizations_url": "https://api.github.com/users/topper-123/orgs",
      "repos_url": "https://api.github.com/users/topper-123/repos",
      "events_url": "https://api.github.com/users/topper-123/events{/privacy}",
      "received_events_url": "https://api.github.com/users/topper-123/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-02T00:05:50Z",
    "updated_at": "2018-10-02T00:07:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "``set_axis`` can not take a function with ``self`` as its argument, so various transformations on the axes are not possible without breaking the pipe. Though a callable could of course be allowed in ``set_axis`` and that would work also.\r\n\r\nSo for example, I don't think (having a DateTimeIndex) the equlivalent of  ``new_df = df.pipe(...).setattr('index', lambda x: x.index.year)`` is possible currently without breaking the pipe?\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/426107333",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22933#issuecomment-426107333",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22933",
    "id": 426107333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjEwNzMzMw==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-02T00:29:26Z",
    "updated_at": "2018-10-02T00:29:26Z",
    "author_association": "MEMBER",
    "body": "Can you do `set_axis` inside a `pipe` to achieve that?\r\n\r\n```python\r\nIn [2]: df = pd.DataFrame({'A': pd.date_range('2017', periods=2, freq='A').repeat(2),\r\n   ...:                    'B': range(4),\r\n   ...:                    'C': [10, 20, -10, 5]})\r\n   ...:\r\n\r\nIn [3]: df\r\nOut[3]:\r\n           A  B   C\r\n0 2017-12-31  0  10\r\n1 2017-12-31  1  20\r\n2 2018-12-31  2 -10\r\n3 2018-12-31  3   5\r\n\r\nIn [4]: new_df = df.groupby('A') \\\r\n   ...:            .pipe(lambda x: x.max() - x.min()) \\\r\n   ...:            .pipe(lambda df: df.set_axis(df.index.year, inplace=False)) \\\r\n   ...:            .rename_axis('foo') \\\r\n   ...:            .pipe(lambda df: df.set_axis(pd.Categorical(df.columns), axis=1, inplace=False))\r\n   ...:\r\n\r\nIn [5]: new_df\r\nOut[5]:\r\n      B   C\r\nfoo\r\n2017  1  10\r\n2018  1  15\r\n\r\nIn [6]: new_df.columns\r\nOut[6]: CategoricalIndex(['B', 'C'], categories=['B', 'C'], ordered=False, dtype='category')\r\n\r\nIn [7]: new_df.index\r\nOut[7]: Int64Index([2017, 2018], dtype='int64', name='foo')\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/426117512",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22933#issuecomment-426117512",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22933",
    "id": 426117512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjExNzUxMg==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-02T01:34:52Z",
    "updated_at": "2018-10-02T01:34:52Z",
    "author_association": "MEMBER",
    "body": "Overall I feel -1 on the idea of a generic `setattr` method. I would rather have `set_axis` (or any analogous method) to operate on `self` then have a `setattr` method able to modify _anything_ on the frame. "
  }
]
