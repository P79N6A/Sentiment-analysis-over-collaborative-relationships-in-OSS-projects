[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/367951227",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19824#issuecomment-367951227",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19824",
    "id": 367951227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Nzk1MTIyNw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-23T09:06:43Z",
    "updated_at": "2018-02-23T09:06:43Z",
    "author_association": "MEMBER",
    "body": "I would be more aligned with disabling processing on those table rows as a general option.  Handling just the dollar sign case is too overfitted of a solution.\r\n\r\ncc @TomAugspurger : thoughts?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368009734",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19824#issuecomment-368009734",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19824",
    "id": 368009734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODAwOTczNA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-23T13:32:27Z",
    "updated_at": "2018-02-23T13:33:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "MathJax apparently has a config option `ignoreClass`: http://docs.mathjax.org/en/latest/options/preprocessors/tex2jax.html (search for ignoreClass).\r\n\r\nJupyter has a config option `NotebookApp.mathjax_config : Unicode`\r\n\r\nAnd we include the class `dataframe` in our HTML.\r\n\r\n@davidchall could you try experimenting with those to see if mathjax could be disabled for objects with the \"dataframe\" class? Can you also see if mathjax's config can be changed after it's already been loaded?\r\n\r\nI'm not sure what the best default would be. I'm sure some people rely on equations inside dataframes being rendered."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368088040",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19824#issuecomment-368088040",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19824",
    "id": 368088040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODA4ODA0MA==",
    "user": {
      "login": "davidchall",
      "id": 1804856,
      "node_id": "MDQ6VXNlcjE4MDQ4NTY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1804856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidchall",
      "html_url": "https://github.com/davidchall",
      "followers_url": "https://api.github.com/users/davidchall/followers",
      "following_url": "https://api.github.com/users/davidchall/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidchall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidchall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidchall/subscriptions",
      "organizations_url": "https://api.github.com/users/davidchall/orgs",
      "repos_url": "https://api.github.com/users/davidchall/repos",
      "events_url": "https://api.github.com/users/davidchall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidchall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-23T17:55:39Z",
    "updated_at": "2018-02-23T17:55:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger I found that wrapping the table in `<div class=“tex2jax_ignore\">` disables the MathJax (i.e. your first option). In my PR #19856 you can see how I modify the Jinja template file.\n\nWith regards to the default behavior, we could either have:\n\n1. MathJax enabled by default and disabled by `df.style.disable_mathjax()`\n2. MathJax disabled by default and enabled by `df.style.mathjax()`\n\nI prefer option 2, though this does break backwards compatibility in rendering. \n\nThe reason I prefer option 2 is that it provides a more accurate representation of the data. If the user wants to display an equation, they achieve this with markup (LaTeX) that is processed by an additional step. It makes sense that they explicitly enable this extra processing."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368095236",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19824#issuecomment-368095236",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19824",
    "id": 368095236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODA5NTIzNg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-23T18:22:12Z",
    "updated_at": "2018-02-23T18:22:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'd prefer to solve keep the solution focused on `_repr_html_`, since we're\ntrying to fix a behavior only present in Jupyter. Putting it in `Styler`\nwould be easier, but I think less useful for most people.\n\nI think we should make a new option `pd.options.display.html.classes` that\nhas the default classes used with `_repr_html_`. By default it would be\n['dataframe'], which is backwards compatible. For people wanting to avoid\nescaping issues, they could have ['dataframe', 'text2jax_ignore']. I don't\nfeel strongly about the default though.\n\n\nOn Fri, Feb 23, 2018 at 11:55 AM, David C Hall <notifications@github.com>\nwrote:\n\n> @TomAugspurger <https://github.com/tomaugspurger> I found that wrapping\n> the table in <div class=“tex2jax_ignore\"> disables the MathJax (i.e. your\n> first option). In my PR #19856\n> <https://github.com/pandas-dev/pandas/pull/19856> you can see how I\n> modify the Jinja template file.\n>\n> With regards to the default behavior, we could either have:\n>\n>    1. MathJax enabled by default and disabled by\n>    df.style.disable_mathjax()\n>    2. MathJax disabled by default and enabled by df.style.mathjax()\n>\n> I prefer option 2, though this does break backwards compatibility in\n> rendering.\n>\n> The reason I prefer option 2 is that it provides a more accurate\n> representation of the data. If the user wants to display an equation, they\n> achieve this with markup (LaTeX) that is processed by an additional step.\n> It makes sense that they explicitly enable this extra processing.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/19824#issuecomment-368088040>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIt1APCVIcpkc5f5rtR4BCt04Kh3Yks5tXvufgaJpZM4SOQPZ>\n> .\n>\n\n\nOn Fri, Feb 23, 2018 at 11:55 AM, David C Hall <notifications@github.com>\nwrote:\n\n> @TomAugspurger <https://github.com/tomaugspurger> I found that wrapping\n> the table in <div class=“tex2jax_ignore\"> disables the MathJax (i.e. your\n> first option). In my PR #19856\n> <https://github.com/pandas-dev/pandas/pull/19856> you can see how I\n> modify the Jinja template file.\n>\n> With regards to the default behavior, we could either have:\n>\n>    1. MathJax enabled by default and disabled by\n>    df.style.disable_mathjax()\n>    2. MathJax disabled by default and enabled by df.style.mathjax()\n>\n> I prefer option 2, though this does break backwards compatibility in\n> rendering.\n>\n> The reason I prefer option 2 is that it provides a more accurate\n> representation of the data. If the user wants to display an equation, they\n> achieve this with markup (LaTeX) that is processed by an additional step.\n> It makes sense that they explicitly enable this extra processing.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/19824#issuecomment-368088040>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIt1APCVIcpkc5f5rtR4BCt04Kh3Yks5tXvufgaJpZM4SOQPZ>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368095996",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19824#issuecomment-368095996",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19824",
    "id": 368095996,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODA5NTk5Ng==",
    "user": {
      "login": "davidchall",
      "id": 1804856,
      "node_id": "MDQ6VXNlcjE4MDQ4NTY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1804856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidchall",
      "html_url": "https://github.com/davidchall",
      "followers_url": "https://api.github.com/users/davidchall/followers",
      "following_url": "https://api.github.com/users/davidchall/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidchall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidchall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidchall/subscriptions",
      "organizations_url": "https://api.github.com/users/davidchall/orgs",
      "repos_url": "https://api.github.com/users/davidchall/repos",
      "events_url": "https://api.github.com/users/davidchall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidchall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-23T18:25:06Z",
    "updated_at": "2018-02-23T18:25:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger Thanks for your feedback! I’ll look into this route and get back to you. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368238167",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19824#issuecomment-368238167",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19824",
    "id": 368238167,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODIzODE2Nw==",
    "user": {
      "login": "davidchall",
      "id": 1804856,
      "node_id": "MDQ6VXNlcjE4MDQ4NTY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1804856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidchall",
      "html_url": "https://github.com/davidchall",
      "followers_url": "https://api.github.com/users/davidchall/followers",
      "following_url": "https://api.github.com/users/davidchall/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidchall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidchall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidchall/subscriptions",
      "organizations_url": "https://api.github.com/users/davidchall/orgs",
      "repos_url": "https://api.github.com/users/davidchall/repos",
      "events_url": "https://api.github.com/users/davidchall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidchall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-24T16:01:03Z",
    "updated_at": "2018-02-24T16:01:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger I added a new `pd.options.display.html.use_mathjax` option (see #19856).\r\n\r\nThere's a few reasons why I think this is better than the `pd.options.display.html.classes` approach:\r\n\r\n* **Less error-prone:** I copied `'text2jax_ignore'` from your above comment but this actually did not disable MathJax. It's easy to make a typo – the correct class name is `'tex2jax_ignore'`. By using a boolean option, we reduce user error.\r\n* **Easier to find:** When I experience this issue, I am likely to search for terms like \"MathJax\", \"LaTeX\", \"dollar symbol\", and \"italic\". I'm not likely to search for the ability to change an HTML class attribute. This requires knowledge of how MathJax works.\r\n* **Smaller change:** While the ability to add arbitrary class attributes to the table might be useful in the future, this is a more substantial change. For example, I'm not convinced it makes sense to keep the `'dataframe'` class name in an option. This might prevent other classes having their own `_repr_html_` and class name."
  }
]
