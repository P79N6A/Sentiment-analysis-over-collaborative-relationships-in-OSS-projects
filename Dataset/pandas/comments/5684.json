[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30437167",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5684#issuecomment-30437167",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5684",
    "id": 30437167,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDM3MTY3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-12T16:24:00Z",
    "updated_at": "2013-12-12T16:24:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "`xs` has some of the `ix` like behavior where it will interpret an integer as a positional argument if it doesn't find the label. So showing your examples:\n\n```\nIn [1]: idx = pd.MultiIndex.from_tuples([('a', 0), ('a', 1), ('b', 0), ('b', 1)])\n\nIn [2]: s = pd.Series(np.random.randn(4), index=idx)\n\nIn [3]: s\nOut[3]: \na  0    0.789393\n   1   -0.554426\nb  0    1.986913\n   1    0.501087\ndtype: float64\n```\n\nThis is correct (though prob not what you want)\n\n```\nIn [4]: s.xs(0,level=1)\nOut[4]: 0.78939286728150548\n```\n\nYou should set names like this, FYI\n\n```\nIn [7]: s.index.set_names(['L1','L2'],inplace=True)\n\nIn [8]: s\nOut[8]: \nL1  L2\na   0     0.789393\n    1    -0.554426\nb   0     1.986913\n    1     0.501087\ndtype: float64\n```\n\n(9) is correct\n\n```\nIn [9]: s.xs(0,level='L2')\nOut[9]: 0.78939286728150548\n```\n\nix like behavior\n\n```\nIn [10]: s.xs(0,level='L1')\nOut[10]: 0.78939286728150548\n```\n\ncorrect\n\n```\nIn [11]: s.xs('a',level='L1')\nOut[11]: \nL2\n0     0.789393\n1    -0.554426\ndtype: float64\n```\n\nYour last example\n``df.xs('one',level='L2')` doesn't have the level L2 defined?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30440844",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5684#issuecomment-30440844",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5684",
    "id": 30440844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDQwODQ0",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-12T17:03:24Z",
    "updated_at": "2013-12-12T17:03:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "For the last one, I missed a copy paste:\n\n``` python\nIn [65]: df\nOut[65]: \nL1  L2 \na   one    1.041627\n    two   -0.553980\nb   one   -1.491640\n    two   -0.026511\ndtype: float64\n\nIn [66]: df.xs('one', level='L2')\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n<ipython-input-66-52601adf5184> in <module>()\n----> 1 df.xs('one', level='L2')\n\n/Users/tom/Envs/pandas-dev/lib/python2.7/site-packages/pandas-0.13.0rc1_27_g4d5ca5c-py2.7-macosx-10.8-x86_64.egg/pandas/core/series.pyc in _xs(self, key, axis, level, copy)\n    437 \n    438     def _xs(self, key, axis=0, level=None, copy=True):\n--> 439         return self.__getitem__(key)\n    440 \n    441     xs = _xs\n\n/Users/tom/Envs/pandas-dev/lib/python2.7/site-packages/pandas-0.13.0rc1_27_g4d5ca5c-py2.7-macosx-10.8-x86_64.egg/pandas/core/series.pyc in __getitem__(self, key)\n    482     def __getitem__(self, key):\n    483         try:\n--> 484             return self.index.get_value(self, key)\n    485         except InvalidIndexError:\n    486             pass\n\n/Users/tom/Envs/pandas-dev/lib/python2.7/site-packages/pandas-0.13.0rc1_27_g4d5ca5c-py2.7-macosx-10.8-x86_64.egg/pandas/core/index.pyc in get_value(self, series, key)\n   2294                     raise InvalidIndexError(key)\n   2295                 else:\n-> 2296                     raise e1\n   2297             except Exception:  # pragma: no cover\n   2298                 raise e1\n\nKeyError: 'one'\n```\n\nAnd I guess the most surprising thing here is the inconsistency across DataFrames and Series:\n\n``` python\nIn [69]: df = pd.DataFrame(df)\n\nIn [70]: df.xs('one', level='L2')\nOut[70]: \n           0\nL1          \na   1.041627\nb  -1.491640\n\n[2 rows x 1 columns]\n```\n\nSorry this is such a mess of an issue.  I think the last one is the only real _bug_ then? I'll edit my post/title to reflect that, if it's actually a bug.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30441478",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5684#issuecomment-30441478",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5684",
    "id": 30441478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDQxNDc4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-12T17:10:26Z",
    "updated_at": "2013-12-12T17:10:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "yep...last one is a bug then. `xs` is implemented separately for Series/DataFrame so I am not suprised (they really should be integrated....)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30441552",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5684#issuecomment-30441552",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5684",
    "id": 30441552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDQxNTUy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-12T17:11:15Z",
    "updated_at": "2013-12-12T17:11:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger maybe just edit the Top section to reflect the bug\n"
  }
]
