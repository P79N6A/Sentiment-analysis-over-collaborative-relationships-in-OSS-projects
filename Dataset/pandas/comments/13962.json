[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/239127271",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13962#issuecomment-239127271",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13962",
    "id": 239127271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTEyNzI3MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-11T10:41:17Z",
    "updated_at": "2016-08-11T10:41:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @agraboso \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/239189084",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13962#issuecomment-239189084",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13962",
    "id": 239189084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE4OTA4NA==",
    "user": {
      "login": "agraboso",
      "id": 7795093,
      "node_id": "MDQ6VXNlcjc3OTUwOTM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7795093?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agraboso",
      "html_url": "https://github.com/agraboso",
      "followers_url": "https://api.github.com/users/agraboso/followers",
      "following_url": "https://api.github.com/users/agraboso/following{/other_user}",
      "gists_url": "https://api.github.com/users/agraboso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agraboso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agraboso/subscriptions",
      "organizations_url": "https://api.github.com/users/agraboso/orgs",
      "repos_url": "https://api.github.com/users/agraboso/repos",
      "events_url": "https://api.github.com/users/agraboso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agraboso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-11T15:04:01Z",
    "updated_at": "2016-08-11T15:04:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just tried simply adding `warnings.simplefilter('error', compat.ResourceWarning)` to `pandas.util.testing.TestCase.setUpClass` (and `warnings.simplefilter('ignore', compat.ResourceWarning)` to `pandas.util.testing.TestCase.tearDownClass` for good measure). The warnings appear in the output of the test runner, but the tests themselves do not fail.\n\nFor example, reverting [this change](https://github.com/pydata/pandas/pull/13940/files#diff-0d7b5a2c72b4dfc11d80afe159d45ff8R330) results in `pandas.io.tests.parser.common.ParserTests.test_memory_map` issuing the following:\n\n```\nException ignored in: <_io.FileIO name='/Users/agraboso/Code/pandas/pandas/io/tests/parser/data/test_mmap.csv' mode='rb' closefd=True>\nResourceWarning: unclosed file <_io.TextIOWrapper name='/Users/agraboso/Code/pandas/pandas/io/tests/parser/data/test_mmap.csv' mode='r' encoding='UTF-8'>\n```\n\nThe same thing happens if the responsibility of closing some handle belongs to the test code itself instead of the tested code. For example, commenting out [this line](https://github.com/pydata/pandas/pull/13940/files#diff-fe58f4e9e077f2d5c7811982556792bfR1583) gives\n\n```\nException ignored in: <_io.FileIO name=7 mode='rb+' closefd=True>\nResourceWarning: unclosed file <_io.TextIOWrapper name=7 mode='w+' encoding='UTF-8'>\n```\n\nin `pandas.io.tests.parser.common.ParserTests.test_temporary_file`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/239459725",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13962#issuecomment-239459725",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13962",
    "id": 239459725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTQ1OTcyNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-12T14:22:22Z",
    "updated_at": "2016-08-12T14:22:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, if what if you do it in `set_testing_mode`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/239471837",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13962#issuecomment-239471837",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13962",
    "id": 239471837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTQ3MTgzNw==",
    "user": {
      "login": "agraboso",
      "id": 7795093,
      "node_id": "MDQ6VXNlcjc3OTUwOTM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7795093?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agraboso",
      "html_url": "https://github.com/agraboso",
      "followers_url": "https://api.github.com/users/agraboso/followers",
      "following_url": "https://api.github.com/users/agraboso/following{/other_user}",
      "gists_url": "https://api.github.com/users/agraboso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agraboso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agraboso/subscriptions",
      "organizations_url": "https://api.github.com/users/agraboso/orgs",
      "repos_url": "https://api.github.com/users/agraboso/repos",
      "events_url": "https://api.github.com/users/agraboso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agraboso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-12T15:07:05Z",
    "updated_at": "2016-08-12T15:07:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Same thing.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/239483486",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13962#issuecomment-239483486",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13962",
    "id": 239483486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTQ4MzQ4Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-12T15:49:31Z",
    "updated_at": "2016-08-12T15:49:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm ok\n\nwell if can think of a way to make this error would be great!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405025631",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13962#issuecomment-405025631",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13962",
    "id": 405025631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTAyNTYzMQ==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-14T14:02:42Z",
    "updated_at": "2018-07-14T14:02:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's July 2018, and I have unrelated `ResourceWarning`s appearing in one of the jobs on almost every second Travis run. Sometime they are caught and cause a direct error (see e.g. https://travis-ci.org/pandas-dev/pandas/jobs/403728466)\r\n```\r\nE           AssertionError: Caused unexpected warning(s): [('ResourceWarning', ResourceWarning(\"unclosed file <_io.BufferedReader name='/var/folders/bb/n7t3rs157850byt_jfdcq9k80000gn/T/tmptvrq0c3stest_file.zip'>\",), '/Users/travis/miniconda3/envs/pandas/lib/python3.5/site-packages/pluggy/__init__.py', 139)].\r\n```\r\n\r\nAnd sometimes they just fail the build without a test failure (see e.g. https://travis-ci.org/pandas-dev/pandas/jobs/403903274)\r\n\r\n```\r\n[...]\r\nsssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss.       [100%]sys:1: ResourceWarning: unclosed file <_io.TextIOWrapper name=0 mode='r' encoding='UTF-8'>\r\nsys:1: ResourceWarning: unclosed file <_io.TextIOWrapper name=1 mode='w' encoding='UTF-8'>\r\nsys:1: ResourceWarning: unclosed file <_io.TextIOWrapper name=0 mode='r' encoding='UTF-8'>\r\nsys:1: ResourceWarning: unclosed file <_io.TextIOWrapper name=1 mode='w' encoding='UTF-8'>\r\n```\r\n\r\nThought that this might be the right issue, hopefully."
  }
]
