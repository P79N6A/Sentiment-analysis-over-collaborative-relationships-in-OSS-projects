[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/128671523",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10761#issuecomment-128671523",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10761",
    "id": 128671523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyODY3MTUyMw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-07T10:50:27Z",
    "updated_at": "2015-08-07T10:50:27Z",
    "author_association": "MEMBER",
    "body": "If I run your code, the last plot does not override it (the plotted bars are still there if you zoom in to the right place). \nBut you hit the problem that the barplot implementation in pandas does not 'really' support datetimes (it does plot it, but the actual x-values are not datetimes).\n\nSo you end up with two incompatible x-values. The barplot will plot it for x axis values 1, 2, 3, 4, ..., while the datetime plot with `df[['col3']].plot()` uses the actual datetime values for x axis values (this means either converted to Periods, or using the matplotlib float representation -> but in any case, both mean that the values are way above 1000).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/128671704",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10761#issuecomment-128671704",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10761",
    "id": 128671704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyODY3MTcwNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-07T10:52:00Z",
    "updated_at": "2015-08-07T10:52:00Z",
    "author_association": "MEMBER",
    "body": "Related issues #1918 and  #8803\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/128807571",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10761#issuecomment-128807571",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10761",
    "id": 128807571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyODgwNzU3MQ==",
    "user": {
      "login": "esvhd",
      "id": 7330385,
      "node_id": "MDQ6VXNlcjczMzAzODU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7330385?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esvhd",
      "html_url": "https://github.com/esvhd",
      "followers_url": "https://api.github.com/users/esvhd/followers",
      "following_url": "https://api.github.com/users/esvhd/following{/other_user}",
      "gists_url": "https://api.github.com/users/esvhd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esvhd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esvhd/subscriptions",
      "organizations_url": "https://api.github.com/users/esvhd/orgs",
      "repos_url": "https://api.github.com/users/esvhd/repos",
      "events_url": "https://api.github.com/users/esvhd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esvhd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-07T19:42:54Z",
    "updated_at": "2015-08-07T19:46:33Z",
    "author_association": "NONE",
    "body": "Thanks @jorisvandenbossche. \n\nJust to add, my hack to make it work is to use ax.plot() for the second set of lines. See code with comment below, only one line of difference. x-axis shows datetime this time.. \n\n```\nimport pandas as pd\nimport bumpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\ndrange = pd.date_range(start='2015-07-01', end='2015-07-10', freq='D')\ndf = pd.DataFrame(data=np.random.random_sample((10, 3)), index=drange, columns=['col1', 'col2', 'col3'])\nfig, ax = plt.subplots()\nplt.hold(True) # when the index is just integer type, this will make it work.\ndf[['col1', 'col2']].plot(kind='bar', ax=ax, stacked=True)\n#df[['col3']].plot(ax=ax, color='r', marker='o', ls='-', alpha=.7) # This overrides the previous plot\n\n# if you use this line below instead of the line above, both bars and lines will show up:\nax.plot(df[['col3']], color='r', marker='o', ls='-', alpha=.7)\n\nax.grid(True)\nax.legend(loc='best')\n```\n\n![bug](https://cloud.githubusercontent.com/assets/7330385/9144423/c3695bb4-3d44-11e5-9649-afe685c60970.png)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/222139625",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10761#issuecomment-222139625",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10761",
    "id": 222139625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjEzOTYyNQ==",
    "user": {
      "login": "dunkinnear",
      "id": 11051393,
      "node_id": "MDQ6VXNlcjExMDUxMzkz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11051393?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dunkinnear",
      "html_url": "https://github.com/dunkinnear",
      "followers_url": "https://api.github.com/users/dunkinnear/followers",
      "following_url": "https://api.github.com/users/dunkinnear/following{/other_user}",
      "gists_url": "https://api.github.com/users/dunkinnear/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dunkinnear/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dunkinnear/subscriptions",
      "organizations_url": "https://api.github.com/users/dunkinnear/orgs",
      "repos_url": "https://api.github.com/users/dunkinnear/repos",
      "events_url": "https://api.github.com/users/dunkinnear/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dunkinnear/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-27T12:58:42Z",
    "updated_at": "2016-05-27T12:58:42Z",
    "author_association": "NONE",
    "body": "Thanks @esvhd for the hack, but it didn't work for me, I'm using Jupyter Notebook Version 4.2.0 with Python 2.7.11. I added to the hack to use matplotlib to plot the bar charts and the line, this was the only way I could get it to work.\n\n``` python\nimport pandas as pd\nimport matplotlib\nimport matplotlib.pyplot as plt\nmatplotlib.style.use('ggplot')\n%matplotlib inline\n\ndf = pd.read_excel('data.xlsx', index_col='Date')\nfig, ax = plt.subplots(figsize=(15,10)) \nax.hold(True)\ng = df.groupby(pd.TimeGrouper(\"M\"))\nwidth=10\n\nax.bar(g.sum().index, g['Money Out'].sum(),width=-width, color='r', label='Money Out')\nax.bar(g.sum().index, g['Money in'].sum(),width=-width,color='g', label='Money In', bottom=g['Money Out'].sum())\nax.plot(df[['Balance']], color='black', lw=1, ls='-',label='Balance')  # Workaround for Pandas issue plotting datetime line on same plot as barchart\n\nax.legend(loc='best')\n```\n\n![image](https://cloud.githubusercontent.com/assets/11051393/15608545/66cf4354-2412-11e6-8f3d-027950eaf29d.png)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/235812130",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10761#issuecomment-235812130",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10761",
    "id": 235812130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTgxMjEzMA==",
    "user": {
      "login": "ChristopherShort",
      "id": 5546684,
      "node_id": "MDQ6VXNlcjU1NDY2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5546684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChristopherShort",
      "html_url": "https://github.com/ChristopherShort",
      "followers_url": "https://api.github.com/users/ChristopherShort/followers",
      "following_url": "https://api.github.com/users/ChristopherShort/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChristopherShort/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChristopherShort/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChristopherShort/subscriptions",
      "organizations_url": "https://api.github.com/users/ChristopherShort/orgs",
      "repos_url": "https://api.github.com/users/ChristopherShort/repos",
      "events_url": "https://api.github.com/users/ChristopherShort/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChristopherShort/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-28T06:40:51Z",
    "updated_at": "2016-07-28T06:40:51Z",
    "author_association": "NONE",
    "body": "@dunkinnear  hack works only if the index is a `DatetimeIndex`.\n\nUsing a `PeriodIndex` throws the error `TypeError: Axis must have`freq`set to convert to Periods`\n\nBut that did give me a trace stack to try and work through tomorrow (something I didn't have in my examples)\n\nI may be back with questions :-)\n"
  }
]
