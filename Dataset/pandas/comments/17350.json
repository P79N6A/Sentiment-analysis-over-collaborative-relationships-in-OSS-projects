[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325219553",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17350#issuecomment-325219553",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17350",
    "id": 325219553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTIxOTU1Mw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-27T19:38:51Z",
    "updated_at": "2017-08-27T19:38:51Z",
    "author_association": "MEMBER",
    "body": "@td2014 : Thanks reporting this!  Could you also post the actual output that you're seeing and the output that you expect?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325232423",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17350#issuecomment-325232423",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17350",
    "id": 325232423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTIzMjQyMw==",
    "user": {
      "login": "td2014",
      "id": 3465912,
      "node_id": "MDQ6VXNlcjM0NjU5MTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3465912?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/td2014",
      "html_url": "https://github.com/td2014",
      "followers_url": "https://api.github.com/users/td2014/followers",
      "following_url": "https://api.github.com/users/td2014/following{/other_user}",
      "gists_url": "https://api.github.com/users/td2014/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/td2014/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/td2014/subscriptions",
      "organizations_url": "https://api.github.com/users/td2014/orgs",
      "repos_url": "https://api.github.com/users/td2014/repos",
      "events_url": "https://api.github.com/users/td2014/events{/privacy}",
      "received_events_url": "https://api.github.com/users/td2014/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-27T23:42:34Z",
    "updated_at": "2017-08-27T23:46:43Z",
    "author_association": "NONE",
    "body": "@gfyoung :  Here is the output as the code stands.  You'll notice that the output of the variable 'transformed all at once' (near the bottom of the printout) is missing the groupby key, which is 'typeid'.  However, when the iteration by groups is looping, the returned dataframe from transform includes 'typeid'.  The output I expect from the 'transformed all at once' section should also include the 'typeid' column which was the groupby key.  Is this not the correct expectation?  Thanks.\r\n```python\r\nBy Groups:\r\nA\r\nBefore nan correction\r\n  bcat  bnum  pid typeid\r\n0   3D   1.0   41      A\r\n1   3D   2.0   42      A\r\n3   3D   4.0   44      A\r\n4   4D   5.0   45      A\r\n6   4D   1.1   47      A\r\n8  NaN   NaN   49      A\r\n9  NaN   NaN   50      A\r\n\r\nAfter nan correction\r\n  bcat  bnum  pid typeid\r\n0   3D  1.00   41      A\r\n1   3D  2.00   42      A\r\n3   3D  4.00   44      A\r\n4   4D  5.00   45      A\r\n6   4D  1.10   47      A\r\n8   3D  2.62   49      A\r\n9   3D  2.62   50      A\r\n\r\nBy Groups:\r\nB\r\nBefore nan correction\r\n   bcat  bnum  pid typeid\r\n2    3E   4.5   43      B\r\n5    3E   3.0   46      B\r\n7    3F   2.0   48      B\r\n10  NaN   NaN   51      B\r\n11  NaN   NaN   52      B\r\n\r\nAfter nan correction\r\n   bcat      bnum  pid typeid\r\n2    3E  4.500000   43      B\r\n5    3E  3.000000   46      B\r\n7    3F  2.000000   48      B\r\n10   3E  3.166667   51      B\r\n11   3E  3.166667   52      B\r\n\r\n\r\ntransformed all at once\r\n   bcat      bnum  pid\r\n0    3D  1.000000   41\r\n1    3D  2.000000   42\r\n2    3E  4.500000   43\r\n3    3D  4.000000   44\r\n4    4D  5.000000   45\r\n5    3E  3.000000   46\r\n6    4D  1.100000   47\r\n7    3F  2.000000   48\r\n8    3D  2.620000   49\r\n9    3D  2.620000   50\r\n10   3E  3.166667   51\r\n11   3E  3.166667   52"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/325247146",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17350#issuecomment-325247146",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17350",
    "id": 325247146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTI0NzE0Ng==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-28T02:42:21Z",
    "updated_at": "2017-08-28T02:42:38Z",
    "author_association": "MEMBER",
    "body": "@td2014 : Thanks for doing this!  It does indeed look a little weird when you break it down like that.  Do note that you are calling `.transform` on different types of objects in the loop than when you do the all-at-once.  Let's ping @jreback and @jorisvandenbossche to see what they think."
  }
]
