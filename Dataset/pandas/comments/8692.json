[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/61252866",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8692#issuecomment-61252866",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8692",
    "id": 61252866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjUyODY2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-31T12:24:36Z",
    "updated_at": "2014-10-31T12:26:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "PyTables automatically closes the files for you on session exit. So it does track these (well the ones in the same process anyhow).\n\nSo you could do something like this.\n\nNote that this requires tables >= 3.1 (3.0.0 is differently with how it treats open files)\n\n```\nIn [23]: import tables as tb\n\nIn [24]: store1 = pd.HDFStore('test.h5')\n\nIn [25]: store2 = pd.HDFStore('test.h5')\n\nIn [26]: store1.close()\n\nIn [27]: store2\nOut[27]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: test.h5\n/df1            frame_table  (typ->appendable,nrows->10,ncols->1,indexers->[index])\n/df2            frame_table  (typ->appendable,nrows->10,ncols->1,indexers->[index])\n\nIn [28]: tb.file._open_files.get_handlers_by_name('test.h5')\nOut[28]: \n{File(filename=test.h5, title='', mode='a', root_uep='/', filters=Filters(complevel=0, shuffle=False, fletcher32=False, least_significant_digit=None))\n / (RootGroup) ''\n /df1 (Group) ''\n /df1/table (Table(10,)) ''\n   description := {\n   \"index\": Int64Col(shape=(), dflt=0, pos=0),\n   \"values_block_0\": Int64Col(shape=(1,), dflt=0, pos=1)}\n   byteorder := 'little'\n   chunkshape := (4096,)\n   autoindex := True\n   colindexes := {\n     \"index\": Index(6, medium, shuffle, zlib(1)).is_csi=False}\n /df2 (Group) ''\n /df2/table (Table(10,)) ''\n   description := {\n   \"index\": Int64Col(shape=(), dflt=0, pos=0),\n   \"values_block_0\": Int64Col(shape=(1,), dflt=0, pos=1)}\n   byteorder := 'little'\n   chunkshape := (4096,)\n   autoindex := True\n   colindexes := {\n     \"index\": Index(6, medium, shuffle, zlib(1)).is_csi=False}}\n\nIn [29]: tb.file._open_files.close_all()\nClosing remaining open files:test.h5...done\n\nIn [30]: store1\nOut[30]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: test.h5\nFile is CLOSED\n\nIn [31]: store2\nOut[31]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: test.h5\nFile is CLOSED\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/61368961",
    "html_url": "https://github.com/pandas-dev/pandas/issues/8692#issuecomment-61368961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8692",
    "id": 61368961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzY4OTYx",
    "user": {
      "login": "qAp",
      "id": 2902346,
      "node_id": "MDQ6VXNlcjI5MDIzNDY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2902346?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qAp",
      "html_url": "https://github.com/qAp",
      "followers_url": "https://api.github.com/users/qAp/followers",
      "following_url": "https://api.github.com/users/qAp/following{/other_user}",
      "gists_url": "https://api.github.com/users/qAp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qAp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qAp/subscriptions",
      "organizations_url": "https://api.github.com/users/qAp/orgs",
      "repos_url": "https://api.github.com/users/qAp/repos",
      "events_url": "https://api.github.com/users/qAp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qAp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-01T13:59:17Z",
    "updated_at": "2014-11-01T13:59:17Z",
    "author_association": "NONE",
    "body": "Thanks!\n"
  }
]
