[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127396745",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-127396745",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 127396745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzM5Njc0NQ==",
    "user": {
      "login": "ringw",
      "id": 1391644,
      "node_id": "MDQ6VXNlcjEzOTE2NDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1391644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ringw",
      "html_url": "https://github.com/ringw",
      "followers_url": "https://api.github.com/users/ringw/followers",
      "following_url": "https://api.github.com/users/ringw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ringw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ringw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ringw/subscriptions",
      "organizations_url": "https://api.github.com/users/ringw/orgs",
      "repos_url": "https://api.github.com/users/ringw/repos",
      "events_url": "https://api.github.com/users/ringw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ringw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-03T20:22:21Z",
    "updated_at": "2015-08-03T20:22:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, fixed.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127411458",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-127411458",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 127411458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzQxMTQ1OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-03T21:34:03Z",
    "updated_at": "2015-08-03T21:34:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "pls add a test cases, including `reduce=True|False|None`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127444577",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-127444577",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 127444577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzQ0NDU3Nw==",
    "user": {
      "login": "ringw",
      "id": 1391644,
      "node_id": "MDQ6VXNlcjEzOTE2NDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1391644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ringw",
      "html_url": "https://github.com/ringw",
      "followers_url": "https://api.github.com/users/ringw/followers",
      "following_url": "https://api.github.com/users/ringw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ringw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ringw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ringw/subscriptions",
      "organizations_url": "https://api.github.com/users/ringw/orgs",
      "repos_url": "https://api.github.com/users/ringw/repos",
      "events_url": "https://api.github.com/users/ringw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ringw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-04T01:02:18Z",
    "updated_at": "2015-08-04T01:02:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Done! I found another issue when the original DataFrame is of dtype int, and I added tests for int and str dtypes.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127813359",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-127813359",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 127813359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzgxMzM1OQ==",
    "user": {
      "login": "ringw",
      "id": 1391644,
      "node_id": "MDQ6VXNlcjEzOTE2NDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1391644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ringw",
      "html_url": "https://github.com/ringw",
      "followers_url": "https://api.github.com/users/ringw/followers",
      "following_url": "https://api.github.com/users/ringw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ringw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ringw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ringw/subscriptions",
      "organizations_url": "https://api.github.com/users/ringw/orgs",
      "repos_url": "https://api.github.com/users/ringw/repos",
      "events_url": "https://api.github.com/users/ringw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ringw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-05T01:31:20Z",
    "updated_at": "2015-08-05T01:31:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "The issue was with dtype=int (and maybe others) where NaN can't be casted to the dtype. The original code raised an exception when trying to do `Series(NA, dtype=int)`. If I do `Series(index=..., dtype=int)`, it actually returns a Series of NaNs with dtype=float. I'm assuming I can't just pass `lib.reduce` a `dummy` series of the wrong dtype, so I think I need to get dummy values of the right dtype using `np.empty` or something similar.\n\nI updated the test to check one object DataFrame and one int DataFrame. The dtype issue happens with int, but not object, so I think that covers the relevant cases.\n\nAlso, I noticed the Travis CI build failed. The only error is: `AssertionError: Caused unexpected warning(s): ['ResourceWarning'].`, so I think maybe their system was just running out of resources.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127814843",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-127814843",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 127814843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzgxNDg0Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-05T01:39:34Z",
    "updated_at": "2015-08-05T01:39:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "that Travis error is legit\nit means that something is asserting inside s deprecation somewhere\n\nrun your tests locally and see if u can reproduce as its related to the change\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/127838249",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-127838249",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 127838249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzgzODI0OQ==",
    "user": {
      "login": "ringw",
      "id": 1391644,
      "node_id": "MDQ6VXNlcjEzOTE2NDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1391644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ringw",
      "html_url": "https://github.com/ringw",
      "followers_url": "https://api.github.com/users/ringw/followers",
      "following_url": "https://api.github.com/users/ringw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ringw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ringw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ringw/subscriptions",
      "organizations_url": "https://api.github.com/users/ringw/orgs",
      "repos_url": "https://api.github.com/users/ringw/repos",
      "events_url": "https://api.github.com/users/ringw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ringw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-05T03:39:51Z",
    "updated_at": "2015-08-05T03:39:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "I tried \"nosetests pandas\" and I get \"OK (SKIP=436)\". The error is in the STATA format I/O tests, which makes me think it could be a random issue. It doesn't look like `pandas/io/stata.py` uses apply on a DataFrame at all. Are you able to rerun the Travis build?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/133110660",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-133110660",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 133110660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzExMDY2MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-20T18:32:22Z",
    "updated_at": "2015-08-20T18:32:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ringw can you rebase and update for comments above? in particular don't change code which is not getting tested (e.g. the dtype issue you reported), which might be valid but need a case for it.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/134784769",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-134784769",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 134784769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDc4NDc2OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-26T01:25:36Z",
    "updated_at": "2015-08-26T01:25:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ringw can you update according to comments\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/135454990",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-135454990",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 135454990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTQ1NDk5MA==",
    "user": {
      "login": "ringw",
      "id": 1391644,
      "node_id": "MDQ6VXNlcjEzOTE2NDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1391644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ringw",
      "html_url": "https://github.com/ringw",
      "followers_url": "https://api.github.com/users/ringw/followers",
      "following_url": "https://api.github.com/users/ringw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ringw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ringw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ringw/subscriptions",
      "organizations_url": "https://api.github.com/users/ringw/orgs",
      "repos_url": "https://api.github.com/users/ringw/repos",
      "events_url": "https://api.github.com/users/ringw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ringw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-27T14:38:55Z",
    "updated_at": "2015-08-27T14:38:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've rebased. The dtype change is necessary to fix this issue with an int array. Because it's inside of _apply_standard, the only test I can do (with the code as is) is to make sure the output of _apply_standard is correct (which I did). If it fails to create an empty Series of the right shape and dtype, then it will either raise an exception, or catch an exception and do the apply without reduce, in which case the output will not be a Series of dicts as expected. The test_apply_dict test will catch either of these problems.\n\nThe only other option is to refactor those 4 lines as a utility method, so that I can test their output directly. If you think that's necessary, then where should that method go? There are other cases in the codebase where a Series is initialized with an array created with np.empty, so if that becomes a utility method, I think it would make sense to replace all of those instances with a call to that method.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/135767029",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-135767029",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 135767029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTc2NzAyOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T12:53:05Z",
    "updated_at": "2015-08-28T12:53:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I've rebased. The dtype change is necessary to fix this issue with an int array.\n\nWhat issue with an int array. ok where's the test for that? show a reproducible example that shows this behavior. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/135779231",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-135779231",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 135779231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTc3OTIzMQ==",
    "user": {
      "login": "ringw",
      "id": 1391644,
      "node_id": "MDQ6VXNlcjEzOTE2NDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1391644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ringw",
      "html_url": "https://github.com/ringw",
      "followers_url": "https://api.github.com/users/ringw/followers",
      "following_url": "https://api.github.com/users/ringw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ringw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ringw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ringw/subscriptions",
      "organizations_url": "https://api.github.com/users/ringw/orgs",
      "repos_url": "https://api.github.com/users/ringw/repos",
      "events_url": "https://api.github.com/users/ringw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ringw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T13:47:25Z",
    "updated_at": "2015-08-28T13:47:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "The test I added, test_apply_dict, tests a string DataFrame and an int DataFrame. Using the 2 arrays in the test:\n\n```\n>>> A = DataFrame([['foo', 'bar'], ['spam', 'eggs']])\n>>> B = DataFrame([[0, 1], [2, 3]])\n```\n\nPrevious behavior:\n\n```\n>>> A.apply(lambda x: x.to_dict())\n0    <built-in method values of dict object at 0x7f...\n1    <built-in method values of dict object at 0x7f...\ndtype: object\n>>> B.apply(lambda x: x.to_dict())\n   0  1\n0  0  1\n1  2  3\n```\n\nNew behavior:\n\n```\n>>> A.apply(lambda x: x.to_dict())\n0    {0: u'foo', 1: u'spam'}\n1    {0: u'bar', 1: u'eggs'}\ndtype: object\n>>> B.apply(lambda x: x.to_dict())\n0    {0: 0, 1: 2}\n1    {0: 1, 1: 3}\ndtype: object\n```\n\nThe first fix (in pandas/src/reduce.pyx) is necessary to get the correct behavior with object and float dtypes. The dtype fix is necessary to make the behavior consistent with all other dtypes.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/135852087",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10740#issuecomment-135852087",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10740",
    "id": 135852087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTg1MjA4Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T18:17:41Z",
    "updated_at": "2015-08-28T18:17:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "merged via https://github.com/pydata/pandas/commit/59da7811fa567352cbbab5f10a296e543ec9e1fe\n\nthanks!\n\nfyi, doing this is quite inefficient, so hope you have a really good reason for this.\n"
  }
]
