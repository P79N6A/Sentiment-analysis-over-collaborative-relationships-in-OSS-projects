[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/256575298",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14513#issuecomment-256575298",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14513",
    "id": 256575298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjU3NTI5OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-27T08:07:39Z",
    "updated_at": "2016-10-27T08:07:39Z",
    "author_association": "MEMBER",
    "body": "@jpryda Are you sure that you are executing this in the environment where you installed sqlalchemy? Can you show the interactive output where you can import sqlalchemy and the error traceback of the above code?\n\nI tried to replicate this, but for me it works as expected.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/256703284",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14513#issuecomment-256703284",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14513",
    "id": 256703284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjcwMzI4NA==",
    "user": {
      "login": "jpryda",
      "id": 7294160,
      "node_id": "MDQ6VXNlcjcyOTQxNjA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7294160?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jpryda",
      "html_url": "https://github.com/jpryda",
      "followers_url": "https://api.github.com/users/jpryda/followers",
      "following_url": "https://api.github.com/users/jpryda/following{/other_user}",
      "gists_url": "https://api.github.com/users/jpryda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jpryda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jpryda/subscriptions",
      "organizations_url": "https://api.github.com/users/jpryda/orgs",
      "repos_url": "https://api.github.com/users/jpryda/repos",
      "events_url": "https://api.github.com/users/jpryda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jpryda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-27T16:50:02Z",
    "updated_at": "2016-10-27T17:07:03Z",
    "author_association": "NONE",
    "body": "I've tried it on two different macs - one inside and one outside of a virtualenv.  I can import sqlalchemy alone just fine.  Here's the output - error at [4]:\n\n<details>\n\n```\nIn [1]: from datetime import datetime, timedelta\n   ...: import pandas as pd\n   ...: URI_CONN_STRING = 'postgres://user:pass@ip-address:5432/db-name\n   ...: '\n   ...: now = datetime.now()\n   ...:\n\nIn [2]: end_date = now\n   ...: num_days_back = 25\n   ...: start_date = now.replace(hour=0, minute=0, second=0, microsecond=0) + timedelta(days=-num_day\n   ...: s_back)\n   ...: print start_date, end_date\n   ...: \n2016-10-02 00:00:00 2016-10-27 12:45:08.963266\n\nIn [3]: sql_query = \"\"\"select q1.name, q1.last_name, coalesce(q2.count, 0) as article_count, q3.ED, q\n   ...: 3.email from\n   ...:             (select schools.id, schools.name, users.first_name, users.last_name from schools \n   ...: left join community_managers_schools cms on schools.id=cms.school_id left join users on cms.u\n   ...: ser_id=users.id where closed_at is null and purpose=1) as q1\n   ...:         left join\n   ...:                 (select auth.school_id, count(auth.school_id) from articles art left join aut\n   ...: horships auth on art.id=auth.article_id where published is not null and published>='{}' and p\n   ...: ublished<'{}' group by auth.school_id) as q2\n   ...:         on q1.id=q2.school_id\n   ...:         left join\n   ...:             (select concat_ws(' ',users.first_name::text, users.last_name::text) as ED, schoo\n   ...: l_id, users.email from users where leadership_position=3) as q3\n   ...:         on q3.school_id=q1.id\n   ...:         order by article_count desc\"\"\".format(start_date.strftime('%Y-%m-%d'), end_date.strft\n   ...: ime('%Y-%m-%d %H:%M:%S'))\n\nIn [4]: df = pd.read_sql_query(sql_query, URI_CONN_STRING, index_col=None, coerce_float=True, params=\n   ...: None, chunksize=None)\n\nImportError                               Traceback (most recent call last)\n<ipython-input-4-864289c2e8a7> in <module>()\n----> 1 df = pd.read_sql_query(sql_query, URI_CONN_STRING, index_col=None, coerce_float=True, params=None, chunksize=None)\n\n/Users/xxx/Envs/sam-py/lib/python2.7/site-packages/pandas/io/sql.pyc in read_sql_query(sql, con, index_col, coerce_float, params, parse_dates, chunksize)\n    326 \n    327     \"\"\"\n--> 328     pandas_sql = pandasSQL_builder(con)\n    329     return pandas_sql.read_query(\n    330         sql, index_col=index_col, params=params, coerce_float=coerce_float,\n\n/Users/xxx/Envs/sam-py/lib/python2.7/site-packages/pandas/io/sql.pyc in pandasSQL_builder(con, flavor, schema, meta, is_cursor)\n    530         return SQLDatabase(con, schema=schema, meta=meta)\n    531     elif isinstance(con, string_types):\n--> 532         raise ImportError(\"Using URI string without sqlalchemy installed.\")\n    533     else:\n    534         return SQLiteDatabase(con, is_cursor=is_cursor)\n\nImportError: Using URI string without sqlalchemy installed.\n\nIn [5]: import sqlalchemy\n\nIn [6]: import sys\n\nIn [7]: print sys.executable\n/Users/xxx/Envs/sam-py/bin/python2.7\n\nIn [8]: \n```\n\nand to show the file paths of the imported modules\n\n```\nIn [1]: import sqlalchemy\n\nIn [2]: sqlalchemy.__file__\nOut[2]: '/Users/xxx/Envs/sam-py/lib/python2.7/site-packages/sqlalchemy/__init__.pyc'\n\nIn [3]: import pandas\n\nIn [4]: pandas.__file__\nOut[4]: '/Users/xxx/Envs/sam-py/lib/python2.7/site-packages/pandas/__init__.pyc'\n\n```\n\n</details>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/256725946",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14513#issuecomment-256725946",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14513",
    "id": 256725946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjcyNTk0Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-27T18:14:53Z",
    "updated_at": "2016-10-27T18:15:26Z",
    "author_association": "MEMBER",
    "body": "Aha, is it possible you do not have `psycopg2` (or another postgres driver) installed? When doing `sqlalchemy.create_engine(URI_CONN_STRING)` under the hood, this catches an ImportError and then gives the message about sqlalchemy not being installed. But, if you do not have the appropriate driver installed, this also gives an ImportError leading to the same (but misleading) error in read_sql\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/256727259",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14513#issuecomment-256727259",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14513",
    "id": 256727259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjcyNzI1OQ==",
    "user": {
      "login": "jpryda",
      "id": 7294160,
      "node_id": "MDQ6VXNlcjcyOTQxNjA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7294160?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jpryda",
      "html_url": "https://github.com/jpryda",
      "followers_url": "https://api.github.com/users/jpryda/followers",
      "following_url": "https://api.github.com/users/jpryda/following{/other_user}",
      "gists_url": "https://api.github.com/users/jpryda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jpryda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jpryda/subscriptions",
      "organizations_url": "https://api.github.com/users/jpryda/orgs",
      "repos_url": "https://api.github.com/users/jpryda/repos",
      "events_url": "https://api.github.com/users/jpryda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jpryda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-27T18:19:40Z",
    "updated_at": "2016-10-27T18:19:40Z",
    "author_association": "NONE",
    "body": "Aha perfect thank you!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/256727407",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14513#issuecomment-256727407",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14513",
    "id": 256727407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjcyNzQwNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-27T18:20:14Z",
    "updated_at": "2016-10-27T18:20:14Z",
    "author_association": "MEMBER",
    "body": "I am going to leave it open, as we should fix the error message for such cases\n"
  }
]
