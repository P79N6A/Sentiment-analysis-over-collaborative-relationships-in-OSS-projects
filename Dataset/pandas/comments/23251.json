[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/431616530",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23251#issuecomment-431616530",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23251",
    "id": 431616530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTYxNjUzMA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-20T20:42:47Z",
    "updated_at": "2018-10-20T20:42:47Z",
    "author_association": "MEMBER",
    "body": "So `keep='all'` would be the same as `keep=False`? \r\n\r\nThe `keep='all'` (\"keep all the duplicates\") sounds likes it's giving the opposite message as `keep=False` (\"keep none of the duplicates\"). I think its also important for `duplicated` to have the same argument options as `drop_duplicates`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/431642831",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23251#issuecomment-431642831",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23251",
    "id": 431642831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTY0MjgzMQ==",
    "user": {
      "login": "svenharris",
      "id": 32942101,
      "node_id": "MDQ6VXNlcjMyOTQyMTAx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/32942101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/svenharris",
      "html_url": "https://github.com/svenharris",
      "followers_url": "https://api.github.com/users/svenharris/followers",
      "following_url": "https://api.github.com/users/svenharris/following{/other_user}",
      "gists_url": "https://api.github.com/users/svenharris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/svenharris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/svenharris/subscriptions",
      "organizations_url": "https://api.github.com/users/svenharris/orgs",
      "repos_url": "https://api.github.com/users/svenharris/repos",
      "events_url": "https://api.github.com/users/svenharris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/svenharris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-21T06:31:14Z",
    "updated_at": "2018-10-21T06:31:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah I agree with the point that keep=all and keep=False sound opposite, that's the grounding of me raising this issue because I don't think keep=False sounds meaningful for the duplicated function (when you actually want to keep all). It only makes sense in the drop_duplicates function when you don't want to keep any"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/431686651",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23251#issuecomment-431686651",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23251",
    "id": 431686651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTY4NjY1MQ==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-21T17:17:32Z",
    "updated_at": "2018-10-21T17:17:32Z",
    "author_association": "MEMBER",
    "body": "I am guessing the `keep` arguments are the same between both to keep synergy between `duplicated` and `drop_duplicates`.\r\n\r\n`duplicated` is usually used as a mask, so I think the train of thought is \"I don't want to keep duplicates, so mark all of them as True\"\r\n\r\nOverall though I am -1 of having two keyword arguments have the same effect, but I am open to opinions of other users and core devs. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/431901303",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23251#issuecomment-431901303",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23251",
    "id": 431901303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTkwMTMwMw==",
    "user": {
      "login": "Liam3851",
      "id": 546210,
      "node_id": "MDQ6VXNlcjU0NjIxMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/546210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liam3851",
      "html_url": "https://github.com/Liam3851",
      "followers_url": "https://api.github.com/users/Liam3851/followers",
      "following_url": "https://api.github.com/users/Liam3851/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liam3851/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liam3851/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liam3851/subscriptions",
      "organizations_url": "https://api.github.com/users/Liam3851/orgs",
      "repos_url": "https://api.github.com/users/Liam3851/repos",
      "events_url": "https://api.github.com/users/Liam3851/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liam3851/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-22T17:10:43Z",
    "updated_at": "2018-10-22T17:10:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mroeschke As a user I tend to agree with Sven: if I'm dropping duplicates and happy with that, I use the `drop_duplicates` function. If I'm using `duplicated` directly, it's almost always that I'm in a data-cleaning/debugging exercise and the point is to use `duplicated` in order to find (and keep only!) the actual duplicate entries, e.g.\r\n\r\n```python3\r\ndf = ...\r\nsurprise_data_to_check_for_errors = df.loc[df.duplicated(keep=False, subset=cols_to_check)]\r\n```\r\nand I have always found the use of `keep=False` in `duplicated` counterintuitive for this use case to say the least.\r\n\r\n\r\nBecause `drop_duplicates` exists I'm not sure how comparatively common would be user code that would take the mask from duplicated in order to delete it, i.e. why write the following triple-negative:\r\n\r\n```python3\r\ndf = df.loc[~df.duplicated(keep=False)]\r\n```\r\n\r\nwhen you could just write\r\n```python3\r\ndf = df.drop_duplicates(keep=False)\r\n```\r\n\r\nSo as a result, does it really matter if the two methods have the same signature?\r\n\r\nIf they can have different signatures, I'd be +1 on replacing `keep=False` in `duplicated` to `keep='all'` and dropping the former (with a deprecation cycle of course), while leaving `drop_duplicates` the same. Or, for that matter, renaming the `keep` parameter in `duplicated` entirely (e.g. to `mark` or some such, since we're making a boolean mask, not frankly keeping or dropping anything) while leaving the signature of `drop_duplicates` the same."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/431952736",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23251#issuecomment-431952736",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23251",
    "id": 431952736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTk1MjczNg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-22T19:38:22Z",
    "updated_at": "2018-10-22T19:38:22Z",
    "author_association": "MEMBER",
    "body": "> Yeah I agree with the point that keep=all and keep=False sound opposite, that's the grounding of me raising this issue because I don't think keep=False sounds meaningful\r\n\r\n@svenharris So it is still not fully clear to me from your explanation here, but it seems you want to add `keep='all'` as a more meaningful alias for `keep=False` (which seems to be confirmed by looking at your PR), is that correct? \r\n\r\nSo I agree that the `keep=False` is a confusing keyword (and also somewhat inconsistent that the argument mixes string values with a bool value), but in the line of how 'first'/'last' are worded, if there is a string version for `keep=False`, shouldn't it rather be `keep='none'` instead of `keep='all'` ?\r\n\r\nNow that doesn't solve that the 'keep' argument kind of \"works backwards\" as it are the ones you don't keep which are marked True in `duplicated`. So for me, it is rather the 'keep' argument name itself that is confusing for `duplicated`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/431978149",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23251#issuecomment-431978149",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23251",
    "id": 431978149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTk3ODE0OQ==",
    "user": {
      "login": "svenharris",
      "id": 32942101,
      "node_id": "MDQ6VXNlcjMyOTQyMTAx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/32942101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/svenharris",
      "html_url": "https://github.com/svenharris",
      "followers_url": "https://api.github.com/users/svenharris/followers",
      "following_url": "https://api.github.com/users/svenharris/following{/other_user}",
      "gists_url": "https://api.github.com/users/svenharris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/svenharris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/svenharris/subscriptions",
      "organizations_url": "https://api.github.com/users/svenharris/orgs",
      "repos_url": "https://api.github.com/users/svenharris/repos",
      "events_url": "https://api.github.com/users/svenharris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/svenharris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-22T20:44:54Z",
    "updated_at": "2018-10-22T20:44:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche Yes, sorry I don't think I've articulated this very well, let my try to clarify what I was originally thinking with my pull request. Worth saying this discussion has changed my opinion on what's required slightly.\r\n\r\nThinking behind the original pull request:\r\n- For the `drop_duplicates` method I feel like `keep='first','last',False` do an OK job at explaining what's going on.\r\n\r\n- For the `duplicated` method I felt like `keep='first','last'` kind of made sense and `keep=False` didn't really. My approach was to add `'all'` (I chose `'all'` rather than `'none'` because the behaviour is to mark all duplicated values in the frame as `True`) as an alias for `False`,  but really I think I was getting at deprecating `False` in exchange for `'all'`. However I felt this was more complex and would break the reversible behaviour of `duplicated` and `drop_duplicates`. So I guess you could say what I did was 'tactical' but didn't really solve the root of the problem.\r\n\r\n\r\nFrom the discussion I think these things have become clear:\r\n\r\n- `keep=False` is confusing in both `duplicated` or `drop_duplicates` so should consider finding a suitable replacement\r\n\r\n- `keep` keyword in `duplicated` could maybe be renamed since nothing is actually being dropped or kept (perhaps `how` or `mark` or `which`?)\r\n\r\n- Mirrored behaviour in `duplicated` and `drop_duplicates` may need to be broken to a degree for the keywords to be meaningful in both contexts"
  }
]
