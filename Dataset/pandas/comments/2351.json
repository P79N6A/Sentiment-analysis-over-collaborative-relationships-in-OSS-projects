[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10690593",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10690593",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10690593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjkwNTkz",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-25T05:43:33Z",
    "updated_at": "2012-11-25T05:43:33Z",
    "author_association": "MEMBER",
    "body": "@dalejung can probably help \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10697474",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10697474",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10697474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjk3NDc0",
    "user": {
      "login": "dalejung",
      "id": 610115,
      "node_id": "MDQ6VXNlcjYxMDExNQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/610115?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dalejung",
      "html_url": "https://github.com/dalejung",
      "followers_url": "https://api.github.com/users/dalejung/followers",
      "following_url": "https://api.github.com/users/dalejung/following{/other_user}",
      "gists_url": "https://api.github.com/users/dalejung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dalejung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dalejung/subscriptions",
      "organizations_url": "https://api.github.com/users/dalejung/orgs",
      "repos_url": "https://api.github.com/users/dalejung/repos",
      "events_url": "https://api.github.com/users/dalejung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dalejung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-25T19:51:56Z",
    "updated_at": "2012-11-25T19:51:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "``` python\ndef convert_datetime_index_num(ind):\n    \"\"\"\n        Convert to POSIXct using m8[s] format\n        see robject.vectors.POSIXct where I grabbed logic\n    \"\"\"\n    # convert m8[ns] to m8[s]\n    vals = robjects.vectors.FloatSexpVector(ind.asi8 / 1E9)\n    as_posixct = baseenv_ri['as.POSIXct']\n    origin = StrSexpVector([time.strftime(\"%Y-%m-%d\", \n                                          time.gmtime(0)),])\n    # We will be sending ints as UTC\n    tz = ind.tz and ind.tz.zone or 'UTC'\n    tz = StrSexpVector([tz])\n    utc_tz = StrSexpVector(['UTC'])\n\n    posixct = as_posixct(vals, origin=origin, tz=utc_tz)\n    posixct.do_slot_assign('tzone', tz)\n    return posixct\n```\n\nas.POSIXct can accept a vector of epoch-seconds. This will be much faster than creating time_structs and using POSIXlt. \n\nNote, the tz param in as.POSIXct actually adjusts the epoch for some weird reason. \n\n``` R\n> as.POSIXct.numeric\nfunction (x, tz = \"\", origin, ...) \n{\n    if (missing(origin)) \n        stop(\"'origin' must be supplied\")\n    as.POSIXct(origin, tz = tz, ...) + x\n}\n```\n\nWhich means that the original tz must be sent as UTC, and then adjusted later. Also note that R doesn't allow a tz-naive POSIXct. You can get into weird corner cases where your source data is in UTC and your stuff created in R is in your local TZ. So make sure to set your source data and system TZ to be the same.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10697848",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10697848",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10697848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjk3ODQ4",
    "user": {
      "login": "milkypostman",
      "id": 38066,
      "node_id": "MDQ6VXNlcjM4MDY2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/38066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/milkypostman",
      "html_url": "https://github.com/milkypostman",
      "followers_url": "https://api.github.com/users/milkypostman/followers",
      "following_url": "https://api.github.com/users/milkypostman/following{/other_user}",
      "gists_url": "https://api.github.com/users/milkypostman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/milkypostman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/milkypostman/subscriptions",
      "organizations_url": "https://api.github.com/users/milkypostman/orgs",
      "repos_url": "https://api.github.com/users/milkypostman/repos",
      "events_url": "https://api.github.com/users/milkypostman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/milkypostman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-25T20:21:42Z",
    "updated_at": "2012-11-25T20:21:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dalejung thanks. I think I follow. I was already using POSIXct rather than POSIXlt.\n\nThere are a couple things I'm unclear on,\n\nFirst, this means that the time sent to R is not going to be in the proper timezone, is that correct? Is there a way around this?\n\nSecond, what if what we are converting is _not_ a DateTimeIndex? Rather, what if we have a column holding times and we want to convert that?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10698305",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10698305",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10698305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjk4MzA1",
    "user": {
      "login": "dalejung",
      "id": 610115,
      "node_id": "MDQ6VXNlcjYxMDExNQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/610115?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dalejung",
      "html_url": "https://github.com/dalejung",
      "followers_url": "https://api.github.com/users/dalejung/followers",
      "following_url": "https://api.github.com/users/dalejung/following{/other_user}",
      "gists_url": "https://api.github.com/users/dalejung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dalejung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dalejung/subscriptions",
      "organizations_url": "https://api.github.com/users/dalejung/orgs",
      "repos_url": "https://api.github.com/users/dalejung/repos",
      "events_url": "https://api.github.com/users/dalejung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dalejung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-25T20:58:53Z",
    "updated_at": "2012-11-25T20:58:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, but you have to set the tzone afterwards. The as.POSIXct.numeric tz is applied to the origin. \n\nThe stuff that I posted will only work with DatetimeIndex or numpy.datetime arrays. The dt.asi8 is equivalent to a naked m8['ns'] array. I suppose the above function could be split and call a function that takes in an numpy.datetime array and tz. \n\nOutside of that, I think first converting to DatetimeIndex/np.datetime would be a good choice. I don't know the upside of having a column of datetime objects instead of an np.datetime array. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10701010",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10701010",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10701010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAxMDEw",
    "user": {
      "login": "milkypostman",
      "id": 38066,
      "node_id": "MDQ6VXNlcjM4MDY2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/38066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/milkypostman",
      "html_url": "https://github.com/milkypostman",
      "followers_url": "https://api.github.com/users/milkypostman/followers",
      "following_url": "https://api.github.com/users/milkypostman/following{/other_user}",
      "gists_url": "https://api.github.com/users/milkypostman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/milkypostman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/milkypostman/subscriptions",
      "organizations_url": "https://api.github.com/users/milkypostman/orgs",
      "repos_url": "https://api.github.com/users/milkypostman/repos",
      "events_url": "https://api.github.com/users/milkypostman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/milkypostman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-26T00:23:05Z",
    "updated_at": "2012-11-26T00:23:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, so after doing some more investigation. It looks like when you pass `parse_dates` as a parameter to `parse_csv`, the Series that is created is simply a `np.object` array with each element being a `datetime.datetime`. And my guess is this is done because there is no way to set `np.nan` to an element in a `np.datetime` array. What I do is just call `astype(np.datetime64)` on that column and reassign it. This will only work if there are no `np.nan` in that column/Series.\n\nI've pushed new changes, #2352 should be updated with those changes. Let me know what you think.\n\nI thought adding the function that could handle both a Series of type `np.datetime64` and `DatetimeIndex` would be beneficial for uses in the future outside of `convert_to_r_dataframe`.\n\nDo we need to add some type checking in here? Raise some errors or something? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10701024",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10701024",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10701024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAxMDI0",
    "user": {
      "login": "milkypostman",
      "id": 38066,
      "node_id": "MDQ6VXNlcjM4MDY2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/38066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/milkypostman",
      "html_url": "https://github.com/milkypostman",
      "followers_url": "https://api.github.com/users/milkypostman/followers",
      "following_url": "https://api.github.com/users/milkypostman/following{/other_user}",
      "gists_url": "https://api.github.com/users/milkypostman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/milkypostman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/milkypostman/subscriptions",
      "organizations_url": "https://api.github.com/users/milkypostman/orgs",
      "repos_url": "https://api.github.com/users/milkypostman/repos",
      "events_url": "https://api.github.com/users/milkypostman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/milkypostman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-26T00:24:00Z",
    "updated_at": "2012-11-26T00:24:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "by the way, this timezone stuff gives me a headache. also, rpy2 is magic.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10701177",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10701177",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10701177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAxMTc3",
    "user": {
      "login": "dalejung",
      "id": 610115,
      "node_id": "MDQ6VXNlcjYxMDExNQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/610115?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dalejung",
      "html_url": "https://github.com/dalejung",
      "followers_url": "https://api.github.com/users/dalejung/followers",
      "following_url": "https://api.github.com/users/dalejung/following{/other_user}",
      "gists_url": "https://api.github.com/users/dalejung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dalejung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dalejung/subscriptions",
      "organizations_url": "https://api.github.com/users/dalejung/orgs",
      "repos_url": "https://api.github.com/users/dalejung/repos",
      "events_url": "https://api.github.com/users/dalejung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dalejung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-26T00:38:28Z",
    "updated_at": "2012-11-26T00:38:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "How I wish someone would take over and instate one global timezone. 3 PM is sunrise in your region? DEAL WITH IT! \n\nSeriously though, I have a check that yells at me if I don't explicitly set the R Sys.TZ. I've been burned too many times with that.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/10701300",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2351#issuecomment-10701300",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2351",
    "id": 10701300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAxMzAw",
    "user": {
      "login": "milkypostman",
      "id": 38066,
      "node_id": "MDQ6VXNlcjM4MDY2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/38066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/milkypostman",
      "html_url": "https://github.com/milkypostman",
      "followers_url": "https://api.github.com/users/milkypostman/followers",
      "following_url": "https://api.github.com/users/milkypostman/following{/other_user}",
      "gists_url": "https://api.github.com/users/milkypostman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/milkypostman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/milkypostman/subscriptions",
      "organizations_url": "https://api.github.com/users/milkypostman/orgs",
      "repos_url": "https://api.github.com/users/milkypostman/repos",
      "events_url": "https://api.github.com/users/milkypostman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/milkypostman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-26T00:48:08Z",
    "updated_at": "2012-11-26T00:48:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Don't get me started on daylight savings........\n"
  }
]
