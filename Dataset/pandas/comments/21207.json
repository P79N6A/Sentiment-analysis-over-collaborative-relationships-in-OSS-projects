[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392188936",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21207#issuecomment-392188936",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21207",
    "id": 392188936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjE4ODkzNg==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-25T21:14:12Z",
    "updated_at": "2018-05-25T21:14:12Z",
    "author_association": "MEMBER",
    "body": "That does seem odd. Did you notice any significance in choosing 16 elements? I tried the below construct and it worked fine:\r\n\r\n```python\r\n\r\nIn [30]: df = pd.DataFrame({'x': 0, 'y': [np.nan] * 8 + [1] * 8})\r\nIn [31]: df.groupby('x').ffill()\r\n```\r\n\r\nAs did any digit less than 8. Am I looking at it wrong or did you notice the same behavior?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392192858",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21207#issuecomment-392192858",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21207",
    "id": 392192858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjE5Mjg1OA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-25T21:32:23Z",
    "updated_at": "2018-05-25T21:33:12Z",
    "author_association": "MEMBER",
    "body": "The problem stems from the below line:\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/f6abb6148c8dc14e6279f31f2e620ecf52822107/pandas/_libs/groupby.pyx#L300\r\n\r\nThe intention here is to sort the labels (here column 'x' provides the labels) so that you can iterate over each group's values consecutively in order of appearance\r\n\r\nPrinting after that statement here's what is shows when there are 16 or less records:\r\n\r\n```python\r\n[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15]\r\n```\r\n\r\nHere's what it prints for 18 elements (like your example):\r\n```python\r\n[ 0 15 14 13 12 11 10  9  8  7  6  5  4  3  2  1 16 17]\r\n```\r\n\r\nThe latter being out of sequence is what's causing the issue here. Not sure why that happens just yet but investigating further"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392197221",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21207#issuecomment-392197221",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21207",
    "id": 392197221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjE5NzIyMQ==",
    "user": {
      "login": "adbull",
      "id": 7279321,
      "node_id": "MDQ6VXNlcjcyNzkzMjE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7279321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adbull",
      "html_url": "https://github.com/adbull",
      "followers_url": "https://api.github.com/users/adbull/followers",
      "following_url": "https://api.github.com/users/adbull/following{/other_user}",
      "gists_url": "https://api.github.com/users/adbull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adbull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adbull/subscriptions",
      "organizations_url": "https://api.github.com/users/adbull/orgs",
      "repos_url": "https://api.github.com/users/adbull/repos",
      "events_url": "https://api.github.com/users/adbull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adbull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-25T21:53:41Z",
    "updated_at": "2018-05-25T21:53:41Z",
    "author_association": "NONE",
    "body": "Sounds like the issue arises because `np.argsort` isn't stable by default. Using `kind='mergesort'` should fix?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392201460",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21207#issuecomment-392201460",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21207",
    "id": 392201460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjIwMTQ2MA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-25T22:16:30Z",
    "updated_at": "2018-05-25T22:16:30Z",
    "author_association": "MEMBER",
    "body": "That's what I ended up doing in the PR referencing this"
  }
]
