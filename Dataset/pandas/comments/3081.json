[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15053836",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-15053836",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 15053836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDUzODM2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-18T13:14:51Z",
    "updated_at": "2013-03-18T13:14:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "this will work in 0.11, see http://pandas.pydata.org/pandas-docs/dev/timeseries.html#time-deltas\nnote - diff itself is a bug right now, but you can do: `s-s.shift(1)`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15054374",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-15054374",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 15054374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDU0Mzc0",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-18T13:27:13Z",
    "updated_at": "2013-03-18T13:27:13Z",
    "author_association": "MEMBER",
    "body": "Thanks for the quick reply.\n\nHowever, in 0.10 the shift approach invokes the same error of trying to set np.nan to a numpy datetime64:\n\n``` python\ndf['time'] - df['time'].shift(1)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-38-11de14805d34> in <module>()\n----> 1 df['time'] - df['time'].shift(1)\n\nC:\\Anaconda\\lib\\site-packages\\pandas\\core\\series.pyc in shift(self, periods, freq, copy, **kwds)\n   2810             if periods > 0:\n   2811                 new_values[periods:] = self.values[:-periods]\n-> 2812                 new_values[:periods] = nan\n   2813             elif periods < 0:\n   2814                 new_values[:periods] = self.values[-periods:]\n\nValueError: Could not convert object to NumPy datetime\n```\n\nSo I will have to use the numpy workaround until 0.11 is released.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15054488",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-15054488",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 15054488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDU0NDg4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-18T13:29:31Z",
    "updated_at": "2013-03-18T13:29:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is broken in 0.10.1, try out 0.11-dev\n\nyou MIGHT be able to do this in 0.10.1\n\n`\ns = Series(df['time'],dtype=object)\ns.diff()\n`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15057683",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-15057683",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 15057683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDU3Njgz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-18T14:31:00Z",
    "updated_at": "2013-03-18T14:31:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "This works in 0.10.1\n\n```\nIn [17]: df = pd.DataFrame(dict(time = pd.date_range('20130102',periods=5)))\n\nIn [19]: df['time'].astype('object').diff()\nOut[19]: \n0               NaN\n1    1 day, 0:00:00\n2    1 day, 0:00:00\n3    1 day, 0:00:00\n4    1 day, 0:00:00\nName: time\n\nIn [20]: df['time'].astype('object').diff().dtype\nOut[20]: dtype('object')\n\nIn [21]: df['time'].astype('object').diff()[1]\nOut[21]: datetime.timedelta(1)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15151062",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-15151062",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 15151062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTUxMDYy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-19T23:51:32Z",
    "updated_at": "2013-03-19T23:51:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "is this still an issue?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15163228",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-15163228",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 15163228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTYzMjI4",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-20T08:33:55Z",
    "updated_at": "2013-03-20T08:33:55Z",
    "author_association": "MEMBER",
    "body": "Sorry, no. Since you say it will work in 0.11, I suppose it is already solved.\nFor now (0.10) the numpy or astype(object) workaround will do it.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19466048",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-19466048",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 19466048,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDY2MDQ4",
    "user": {
      "login": "vfilimonov",
      "id": 1324881,
      "node_id": "MDQ6VXNlcjEzMjQ4ODE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vfilimonov",
      "html_url": "https://github.com/vfilimonov",
      "followers_url": "https://api.github.com/users/vfilimonov/followers",
      "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/vfilimonov/orgs",
      "repos_url": "https://api.github.com/users/vfilimonov/repos",
      "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vfilimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-14T16:04:52Z",
    "updated_at": "2013-06-14T16:04:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "It is still an issue on pandas 0.11.0 and NumPy 1.7.1\n\nHowever `s-s.shift(1)` instead of `s.diff()` works well\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19466606",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3081#issuecomment-19466606",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3081",
    "id": 19466606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDY2NjA2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-14T16:14:45Z",
    "updated_at": "2013-06-14T16:14:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "was fixed for 0.11.1 in #3100\n"
  }
]
