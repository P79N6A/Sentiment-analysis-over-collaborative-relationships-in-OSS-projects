[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/390247574",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21118#issuecomment-390247574",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21118",
    "id": 390247574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDI0NzU3NA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T15:41:00Z",
    "updated_at": "2018-05-18T15:41:00Z",
    "author_association": "MEMBER",
    "body": "Can you please post a reproducible example? Tried locally with the below on master and it worked fine:\r\n\r\n```python\r\nbuf = io.BytesIO(b'\\xff\\x34')\r\ndf = pd.read_csv(buf, encoding='utf16')\r\n\r\noutbuf = buf.StringIO()\r\ndf.to_csv(outbuf, encoding='utf-16')\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/390308971",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21118#issuecomment-390308971",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21118",
    "id": 390308971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDMwODk3MQ==",
    "user": {
      "login": "lgonzalezsa",
      "id": 704686,
      "node_id": "MDQ6VXNlcjcwNDY4Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/704686?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lgonzalezsa",
      "html_url": "https://github.com/lgonzalezsa",
      "followers_url": "https://api.github.com/users/lgonzalezsa/followers",
      "following_url": "https://api.github.com/users/lgonzalezsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/lgonzalezsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lgonzalezsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lgonzalezsa/subscriptions",
      "organizations_url": "https://api.github.com/users/lgonzalezsa/orgs",
      "repos_url": "https://api.github.com/users/lgonzalezsa/repos",
      "events_url": "https://api.github.com/users/lgonzalezsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lgonzalezsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T19:27:44Z",
    "updated_at": "2018-05-18T19:27:44Z",
    "author_association": "NONE",
    "body": "Notice my code is failing not due to data content.\r\nHere an example using sklearn datasets\r\n\r\n```python\r\nfrom sklearn import datasets\r\niris = datasets.load_iris()\r\n\r\ndata1 = pd.DataFrame(data= np.c_[iris['data'], iris['target']],\r\n                     columns= iris['feature_names'] + ['target'])\r\n\r\ndata1.to_csv('test.gz'\r\n         , sep='~'\r\n         ,  header=False, index=False\r\n         ,compression='gzip'\r\n         ,line_terminator='\\r\\n'\r\n         ,encoding='utf-16'\r\n         , na_rep=''\r\n        )\r\n```\r\nIf I use compression parameter I got the _UnicodeDecodeError_; but without the parameter, runs properly."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/394207674",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21118#issuecomment-394207674",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21118",
    "id": 394207674,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDIwNzY3NA==",
    "user": {
      "login": "minggli",
      "id": 14131823,
      "node_id": "MDQ6VXNlcjE0MTMxODIz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/14131823?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minggli",
      "html_url": "https://github.com/minggli",
      "followers_url": "https://api.github.com/users/minggli/followers",
      "following_url": "https://api.github.com/users/minggli/following{/other_user}",
      "gists_url": "https://api.github.com/users/minggli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minggli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minggli/subscriptions",
      "organizations_url": "https://api.github.com/users/minggli/orgs",
      "repos_url": "https://api.github.com/users/minggli/repos",
      "events_url": "https://api.github.com/users/minggli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minggli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T00:52:11Z",
    "updated_at": "2018-06-04T00:52:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "tested your iris dataset example, this problem should go away with this PR. "
  }
]
