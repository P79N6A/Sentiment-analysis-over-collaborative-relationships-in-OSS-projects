[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/230131219",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13294#issuecomment-230131219",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13294",
    "id": 230131219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDEzMTIxOQ==",
    "user": {
      "login": "pijucha",
      "id": 9507544,
      "node_id": "MDQ6VXNlcjk1MDc1NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9507544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pijucha",
      "html_url": "https://github.com/pijucha",
      "followers_url": "https://api.github.com/users/pijucha/followers",
      "following_url": "https://api.github.com/users/pijucha/following{/other_user}",
      "gists_url": "https://api.github.com/users/pijucha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pijucha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pijucha/subscriptions",
      "organizations_url": "https://api.github.com/users/pijucha/orgs",
      "repos_url": "https://api.github.com/users/pijucha/repos",
      "events_url": "https://api.github.com/users/pijucha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pijucha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-03T02:10:35Z",
    "updated_at": "2016-07-03T02:10:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "An example for the same issue: `np.array` inside `_simple_new` converts `nan` to a string\n\n``` python\ni = pd.Index([0, 'A'])\n\ni._shallow_copy(['A', np.nan])\nOut[7]: Index(['A', 'nan'], dtype='<U3')\n```\n\nThe output should be as follows\n\n``` python\npd.Index(['A', np.nan])\nOut[8]: Index(['A', nan], dtype='object')\n```\n\n---\n\nAnd **another issue** in `_simple_new`: `_shallow_copy` returning an array\n\n``` python\ndti = pd.DatetimeIndex([0])\n\ndti._shallow_copy([pd.Timestamp(0)])\nOut[12]: array(['1970-01-01T00:00:00.000000000'], dtype='datetime64[ns]')\n```\n\nThe expected output is as in the following:\n\n``` python\ndti._shallow_copy([0])\nOut[13]: DatetimeIndex(['1970-01-01'], dtype='datetime64[ns]', freq=None)\n```\n\n---\n\n```\nINSTALLED VERSIONS\n------------------\ncommit: 91617085c0696db3b457b524fe7273ecc928fedc\npython: 3.5.1.final.0\npython-bits: 64\nOS: Linux\nOS-release: 4.1.20-1\nmachine: x86_64\nprocessor: Intel(R)_Core(TM)_i5-2520M_CPU_@_2.50GHz\nbyteorder: little\n\npandas: 0.18.1\nnumpy: 1.11.0\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/230131501",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13294#issuecomment-230131501",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13294",
    "id": 230131501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDEzMTUwMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-03T02:22:27Z",
    "updated_at": "2016-07-03T02:22:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "these violate guarantees of _shallow_copy\n\nthe data must already be an index\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/230132750",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13294#issuecomment-230132750",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13294",
    "id": 230132750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDEzMjc1MA==",
    "user": {
      "login": "pijucha",
      "id": 9507544,
      "node_id": "MDQ6VXNlcjk1MDc1NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9507544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pijucha",
      "html_url": "https://github.com/pijucha",
      "followers_url": "https://api.github.com/users/pijucha/followers",
      "following_url": "https://api.github.com/users/pijucha/following{/other_user}",
      "gists_url": "https://api.github.com/users/pijucha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pijucha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pijucha/subscriptions",
      "organizations_url": "https://api.github.com/users/pijucha/orgs",
      "repos_url": "https://api.github.com/users/pijucha/repos",
      "events_url": "https://api.github.com/users/pijucha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pijucha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-03T03:08:04Z",
    "updated_at": "2016-07-03T03:08:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is probably something I misunderstood (misunderstand) about `_shallow_copy` and this issue.\n\nDoes it mean that all those examples (including `[0]` in the first one) is rather a misuse of `_shallow_copy`, which failed to be detected/asserted, and not a real bug?\n\nAnd the only valid `values` in the expression\n\n```\nidx._shallow_copy(values)\n```\n\nis an index or an np.array with dtype compatible with idx.dtype (and not just a plain list)?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/230135895",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13294#issuecomment-230135895",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13294",
    "id": 230135895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDEzNTg5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-03T05:09:43Z",
    "updated_at": "2016-07-03T05:09:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "yep - this issue is about \n\na) making sure that we are an Index (or values is an ndarray)\nb) validating that the dtype is compat for the class\n\nor raise\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/230135961",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13294#issuecomment-230135961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13294",
    "id": 230135961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDEzNTk2MQ==",
    "user": {
      "login": "pijucha",
      "id": 9507544,
      "node_id": "MDQ6VXNlcjk1MDc1NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9507544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pijucha",
      "html_url": "https://github.com/pijucha",
      "followers_url": "https://api.github.com/users/pijucha/followers",
      "following_url": "https://api.github.com/users/pijucha/following{/other_user}",
      "gists_url": "https://api.github.com/users/pijucha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pijucha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pijucha/subscriptions",
      "organizations_url": "https://api.github.com/users/pijucha/orgs",
      "repos_url": "https://api.github.com/users/pijucha/repos",
      "events_url": "https://api.github.com/users/pijucha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pijucha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-03T05:12:31Z",
    "updated_at": "2016-07-03T05:12:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/433272698",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13294#issuecomment-433272698",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13294",
    "id": 433272698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzI3MjY5OA==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-26T03:13:40Z",
    "updated_at": "2018-10-26T03:13:40Z",
    "author_association": "MEMBER",
    "body": "A lot of thought has gone into related topics for PeriodArray etc.  I think the conclusion is pretty much that the caller is responsible for checking the inputs, since shallowxopy is private.  Assertions in simplenew might be cleaner."
  }
]
