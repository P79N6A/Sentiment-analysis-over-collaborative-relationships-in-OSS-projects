[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/258850305",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14601#issuecomment-258850305",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14601",
    "id": 258850305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODg1MDMwNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T14:31:51Z",
    "updated_at": "2016-11-07T14:31:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "`min_itemsize` is the kw (not `min_itemsizes`).\n\nbut the size is actually the length of the stored bytes (and not characters), so you \nneed to encode anyhow. your best bet is to simply make a larger than needed size.\n\n```\nIn [52]: store = pd.HDFStore('tmp.h5', mode='w')\n\nIn [53]: store.append('df', a, min_itemsize={'A': 10, 'B': 10}, encoding='utf-8')\n\nIn [54]: store.append('df', b)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/258850448",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14601#issuecomment-258850448",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14601",
    "id": 258850448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODg1MDQ0OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T14:32:23Z",
    "updated_at": "2016-11-07T14:32:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "docs are [here](http://pandas.pydata.org/pandas-docs/stable/io.html#string-columns)\n\nI suppose a note on using encodings correctly might be nice if you want to do a PR.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/258947895",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14601#issuecomment-258947895",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14601",
    "id": 258947895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODk0Nzg5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T20:09:03Z",
    "updated_at": "2016-11-07T20:09:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "going to reopen this as a doc issue as explaining how the len counting works when data is encoded\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259095173",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14601#issuecomment-259095173",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14601",
    "id": 259095173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA5NTE3Mw==",
    "user": {
      "login": "johanneshk",
      "id": 9724338,
      "node_id": "MDQ6VXNlcjk3MjQzMzg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9724338?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/johanneshk",
      "html_url": "https://github.com/johanneshk",
      "followers_url": "https://api.github.com/users/johanneshk/followers",
      "following_url": "https://api.github.com/users/johanneshk/following{/other_user}",
      "gists_url": "https://api.github.com/users/johanneshk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/johanneshk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/johanneshk/subscriptions",
      "organizations_url": "https://api.github.com/users/johanneshk/orgs",
      "repos_url": "https://api.github.com/users/johanneshk/repos",
      "events_url": "https://api.github.com/users/johanneshk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/johanneshk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T10:02:43Z",
    "updated_at": "2016-11-08T10:18:36Z",
    "author_association": "NONE",
    "body": "So the assumption here is: The user knows if her string contains encoded characters? In that case calling `len(string)` wouldn't suffice, instead one would need to do `len(string.encode('encoding'))` as demonstrated above (or the equivalent on a DataFrame column). In addition the encoding kw needs to be specified when appending.\nI'd like to submit a PR to clarify this. Will try to do this in the next few days.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432361455",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14601#issuecomment-432361455",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14601",
    "id": 432361455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjM2MTQ1NQ==",
    "user": {
      "login": "burcakotlu",
      "id": 5047364,
      "node_id": "MDQ6VXNlcjUwNDczNjQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5047364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/burcakotlu",
      "html_url": "https://github.com/burcakotlu",
      "followers_url": "https://api.github.com/users/burcakotlu/followers",
      "following_url": "https://api.github.com/users/burcakotlu/following{/other_user}",
      "gists_url": "https://api.github.com/users/burcakotlu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/burcakotlu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/burcakotlu/subscriptions",
      "organizations_url": "https://api.github.com/users/burcakotlu/orgs",
      "repos_url": "https://api.github.com/users/burcakotlu/repos",
      "events_url": "https://api.github.com/users/burcakotlu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/burcakotlu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T18:17:53Z",
    "updated_at": "2018-10-23T18:17:53Z",
    "author_association": "NONE",
    "body": "I'm trying to store dataframes in a store.\r\nIn the first dataframe, I have a 'chrNumber' column of 1 in that column.\r\nIn the further dataframes, I have a 'chrNumber' column of 10,11,12,... and so on  in that column.\r\nAlthough I have set min_itemsize={'chrNumber':2} in  the store.append() command \r\nBut, I still get the  ValueError:\r\n\r\n------------------------------------------------------------------\r\nValueError: Trying to store a string with len [2] in [chrNumber] column but\r\nthis column has a limit of [1]!\r\nConsider using min_itemsize to preset the sizes on these columns\r\nClosing remaining open files:df_all.h5...done\r\n------------------------------------------------------------------\r\n\r\nAnd this is the python code for appending dataframes into a store with min_itemsize.\r\n\r\nstore.append('df', augmented_chrBased_snp_df, data_columns=['Cancer Type', 'Sample', 'paperDOI', 'genomeAssembly', 'type', 'chrNumber', 'start', 'end', 'originalNucleotide', 'mutatedNucleotide', 'dataSource','strand', 'PyramidineStrand', 'Mutation Type', 'Mutation Subtype'], min_itemsize={'Cancer Type':15, 'Sample':8, 'chrNumber':2})\r\n            \r\n   "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/450536010",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14601#issuecomment-450536010",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14601",
    "id": 450536010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDUzNjAxMA==",
    "user": {
      "login": "keoughkath",
      "id": 13281889,
      "node_id": "MDQ6VXNlcjEzMjgxODg5",
      "avatar_url": "https://avatars2.githubusercontent.com/u/13281889?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keoughkath",
      "html_url": "https://github.com/keoughkath",
      "followers_url": "https://api.github.com/users/keoughkath/followers",
      "following_url": "https://api.github.com/users/keoughkath/following{/other_user}",
      "gists_url": "https://api.github.com/users/keoughkath/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keoughkath/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keoughkath/subscriptions",
      "organizations_url": "https://api.github.com/users/keoughkath/orgs",
      "repos_url": "https://api.github.com/users/keoughkath/repos",
      "events_url": "https://api.github.com/users/keoughkath/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keoughkath/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T03:05:44Z",
    "updated_at": "2018-12-30T03:05:44Z",
    "author_association": "NONE",
    "body": "@burcakotlu, it might be due to the HDFStore already existing, therefore the min size for that column is set. I fixed this error in my case by deleting the existing HDFStore and recreating it, ensuring the the min_itemsize parameter was set from the beginning. Hope this helps!"
  }
]
