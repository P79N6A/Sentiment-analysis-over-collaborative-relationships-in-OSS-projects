[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/475477640",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25821#issuecomment-475477640",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25821",
    "id": 475477640,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTQ3NzY0MA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-22T03:01:57Z",
    "updated_at": "2019-03-22T03:01:57Z",
    "author_association": "MEMBER",
    "body": "What times are you experience if you use the connections directly instead of pandas? It's not clear from this what overhead if any pandas may be adding"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/478232958",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25821#issuecomment-478232958",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25821",
    "id": 478232958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3ODIzMjk1OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-30T10:37:20Z",
    "updated_at": "2019-03-30T10:37:20Z",
    "author_association": "MEMBER",
    "body": "@sparo-jack that's an interesting observation. Normally there should be almost no slowdown when using sqlalchemy.\r\n\r\nBut I see that you are using a session object. Do you also see this slowdown in you directly pass the sqlalchemy `engine` ? \r\nSo something like this:\r\n\r\n```\r\ncon_url = \"mysql+pymysql://{0}:{1}@{2}:{3}/{4}?charset={5}\"\r\nengine = create_engine(con_url.format(user, passwd, host, port, db, charset))\r\nstart_time = time.time()\r\nraw_data_df = pd.read_sql(sql, engine)\r\nend_time = time.time()\r\nprint(\"sql execute time:%s\" % (end_time - start_time))\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479314564",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25821#issuecomment-479314564",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25821",
    "id": 479314564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTMxNDU2NA==",
    "user": {
      "login": "sparo-jack",
      "id": 8348554,
      "node_id": "MDQ6VXNlcjgzNDg1NTQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8348554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sparo-jack",
      "html_url": "https://github.com/sparo-jack",
      "followers_url": "https://api.github.com/users/sparo-jack/followers",
      "following_url": "https://api.github.com/users/sparo-jack/following{/other_user}",
      "gists_url": "https://api.github.com/users/sparo-jack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sparo-jack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sparo-jack/subscriptions",
      "organizations_url": "https://api.github.com/users/sparo-jack/orgs",
      "repos_url": "https://api.github.com/users/sparo-jack/repos",
      "events_url": "https://api.github.com/users/sparo-jack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sparo-jack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-03T03:06:01Z",
    "updated_at": "2019-04-03T03:07:45Z",
    "author_association": "NONE",
    "body": "@jorisvandenbossche I test different ways and got following time consume results:\r\npd.read_sql(sql, engine) > pd.read_sql(sql, session.bind)  > pd.read_sql(sql, con=engine.connect()) > pd.read_sql(sql, con=pymysql_connect)>pymysql_cursor.fetchall"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/480299133",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25821#issuecomment-480299133",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25821",
    "id": 480299133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDI5OTEzMw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-05T14:36:22Z",
    "updated_at": "2019-04-05T14:36:22Z",
    "author_association": "MEMBER",
    "body": "Can you give the exact timings as you did above? Do you also see such a large difference between using the raw mysql connection object and the sqlalchemy engine?\r\n\r\nI don't have mysql, but with a test for sqlite and postgresql, I only see a limited slowdown when going from raw connection to sqlalchemy engine (27 to 30 ms for sqlite, 58 to 64 ms for postgres, using a database of 6 columns and 10000 records). See https://nbviewer.jupyter.org/gist/jorisvandenbossche/15ff4454e695892b549b625ae16f6273 for the notebook."
  }
]
