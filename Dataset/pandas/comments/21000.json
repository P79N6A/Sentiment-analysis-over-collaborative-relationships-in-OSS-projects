[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/388488340",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21000#issuecomment-388488340",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21000",
    "id": 388488340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODQ4ODM0MA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T21:18:38Z",
    "updated_at": "2018-05-11T21:18:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you also add a release note (performance improvement)?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/388553333",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21000#issuecomment-388553333",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21000",
    "id": 388553333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU1MzMzMw==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-05-12T12:53:47Z",
    "updated_at": "2018-05-15T00:41:23Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21000?src=pr&el=h1) Report\n> Merging [#21000](https://codecov.io/gh/pandas-dev/pandas/pull/21000?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/3d03fdb24b1a9c1438fe65f5242cbea5418787bf?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/21000/graphs/tree.svg?src=pr&token=eZ4WkYLtcO&width=650&height=150)](https://codecov.io/gh/pandas-dev/pandas/pull/21000?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #21000      +/-   ##\n==========================================\n- Coverage   91.82%   91.82%   -0.01%     \n==========================================\n  Files         153      153              \n  Lines       49505    49502       -3     \n==========================================\n- Hits        45460    45457       -3     \n  Misses       4045     4045\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.22% <100%> (-0.01%)` | :arrow_down: |\n| #single | `41.88% <100%> (ø)` | :arrow_up: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/21000?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/arrays/categorical.py](https://codecov.io/gh/pandas-dev/pandas/pull/21000/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvYXJyYXlzL2NhdGVnb3JpY2FsLnB5) | `95.67% <100%> (ø)` | :arrow_up: |\n| [pandas/core/dtypes/concat.py](https://codecov.io/gh/pandas-dev/pandas/pull/21000/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZHR5cGVzL2NvbmNhdC5weQ==) | `99.17% <0%> (-0.01%)` | :arrow_down: |\n| [pandas/core/indexes/base.py](https://codecov.io/gh/pandas-dev/pandas/pull/21000/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9iYXNlLnB5) | `96.64% <0%> (-0.01%)` | :arrow_down: |\n| [pandas/io/parsers.py](https://codecov.io/gh/pandas-dev/pandas/pull/21000/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL3BhcnNlcnMucHk=) | `95.46% <0%> (ø)` | :arrow_up: |\n| [pandas/core/internals.py](https://codecov.io/gh/pandas-dev/pandas/pull/21000/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW50ZXJuYWxzLnB5) | `95.59% <0%> (ø)` | :arrow_up: |\n| [pandas/core/window.py](https://codecov.io/gh/pandas-dev/pandas/pull/21000/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvd2luZG93LnB5) | `96.28% <0%> (ø)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21000?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/21000?src=pr&el=footer). Last update [3d03fdb...75da8a3](https://codecov.io/gh/pandas-dev/pandas/pull/21000?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/388557582",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21000#issuecomment-388557582",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21000",
    "id": 388557582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU1NzU4Mg==",
    "user": {
      "login": "fivemok",
      "id": 9394929,
      "node_id": "MDQ6VXNlcjkzOTQ5Mjk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9394929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fivemok",
      "html_url": "https://github.com/fivemok",
      "followers_url": "https://api.github.com/users/fivemok/followers",
      "following_url": "https://api.github.com/users/fivemok/following{/other_user}",
      "gists_url": "https://api.github.com/users/fivemok/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fivemok/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fivemok/subscriptions",
      "organizations_url": "https://api.github.com/users/fivemok/orgs",
      "repos_url": "https://api.github.com/users/fivemok/repos",
      "events_url": "https://api.github.com/users/fivemok/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fivemok/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-12T14:06:06Z",
    "updated_at": "2018-05-12T14:37:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Updated ASV:\r\n```\r\n       before           after         ratio\r\n     [3d03fdb2]       [d83abca4]\r\n       9.27±0.6ms       9.13±0.3ms     0.98  categoricals.Concat.time_concat\r\n       5.80±0.1ms      6.22±0.03ms     1.07  categoricals.Concat.time_union\r\n       32.7±0.6ms       32.8±0.4ms     1.00  categoricals.Constructor.time_all_nan\r\n      1.26±0.03ms      1.24±0.01ms     0.99  categoricals.Constructor.time_datetimes\r\n         1.28±0ms      1.28±0.01ms     1.00  categoricals.Constructor.time_datetimes_with_nat\r\n          364±8μs          348±5μs     0.96  categoricals.Constructor.time_fastpath\r\n      19.9±0.08ms      20.0±0.06ms     1.00  categoricals.Constructor.time_regular\r\n        181±0.5ms          182±2ms     1.00  categoricals.Constructor.time_with_nan\r\n           10.2ms           10.3ms     1.01  categoricals.Isin.time_isin_categorical('int64')\r\n       10.8±0.1ms      10.5±0.09ms     0.97  categoricals.Isin.time_isin_categorical('object')\r\n      8.89±0.08ms       8.94±0.1ms     1.01  categoricals.Rank.time_rank_int\r\n       9.33±0.2ms      9.44±0.05ms     1.01  categoricals.Rank.time_rank_int_cat\r\n      8.95±0.08ms      8.95±0.05ms     1.00  categoricals.Rank.time_rank_int_cat_ordered\r\n          135±2ms          140±2ms     1.03  categoricals.Rank.time_rank_string\r\n      11.0±0.06ms       11.1±0.2ms     1.01  categoricals.Rank.time_rank_string_cat\r\n       9.14±0.2ms       9.11±0.1ms     1.00  categoricals.Rank.time_rank_string_cat_ordered\r\n          590±7μs         599±20μs     1.01  categoricals.Repr.time_rendering\r\n       27.7±0.5ms       29.1±0.2ms     1.05  categoricals.SetCategories.time_set_categories\r\n       30.0±0.4ms       29.6±0.4ms     0.99  categoricals.ValueCounts.time_value_counts(False)\r\n       29.6±0.4ms       29.6±0.2ms     1.00  categoricals.ValueCounts.time_value_counts(True)\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/388574833",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21000#issuecomment-388574833",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21000",
    "id": 388574833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU3NDgzMw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-12T18:43:22Z",
    "updated_at": "2018-05-12T18:43:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think @jbreack was requesting a *new* ASV that measures `Categorical.from_codes` with an `int8`  type array.\r\n\r\nIt can go in `asv_bench/benchmarks/categoricals.py` under `Constructor`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/388578744",
    "html_url": "https://github.com/pandas-dev/pandas/pull/21000#issuecomment-388578744",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21000",
    "id": 388578744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODU3ODc0NA==",
    "user": {
      "login": "fivemok",
      "id": 9394929,
      "node_id": "MDQ6VXNlcjkzOTQ5Mjk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9394929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fivemok",
      "html_url": "https://github.com/fivemok",
      "followers_url": "https://api.github.com/users/fivemok/followers",
      "following_url": "https://api.github.com/users/fivemok/following{/other_user}",
      "gists_url": "https://api.github.com/users/fivemok/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fivemok/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fivemok/subscriptions",
      "organizations_url": "https://api.github.com/users/fivemok/orgs",
      "repos_url": "https://api.github.com/users/fivemok/repos",
      "events_url": "https://api.github.com/users/fivemok/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fivemok/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-12T19:51:13Z",
    "updated_at": "2018-05-12T19:51:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry, I misunderstood. Thanks for the clarification. Is the following asv sufficient?\r\n\r\n```\r\ndiff --git a/asv_bench/benchmarks/categoricals.py b/asv_bench/benchmarks/categoricals.py\r\nindex 0ffd5f881..ae1d70292 100644\r\n--- a/asv_bench/benchmarks/categoricals.py\r\n+++ b/asv_bench/benchmarks/categoricals.py\r\n@@ -51,6 +51,7 @@ class Constructor(object):\r\n\r\n         self.values_some_nan = list(np.tile(self.categories + [np.nan], N))\r\n         self.values_all_nan = [np.nan] * len(self.values)\r\n+        self.values_all_int8 = np.ones(N, 'int8')\r\n\r\n     def time_regular(self):\r\n         pd.Categorical(self.values, self.categories)\r\n@@ -70,6 +71,9 @@ class Constructor(object):\r\n     def time_all_nan(self):\r\n         pd.Categorical(self.values_all_nan)\r\n\r\n+    def time_from_codes_all_int8(self):\r\n+        pd.Categorical.from_codes(self.values_all_int8, self.categories)\r\n+\r\n```"
  }
]
