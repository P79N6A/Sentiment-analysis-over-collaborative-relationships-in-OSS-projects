[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/423479501",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-423479501",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 423479501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzQ3OTUwMQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-21T09:54:31Z",
    "updated_at": "2018-09-21T09:54:31Z",
    "author_association": "MEMBER",
    "body": "Not sure if that was from the same discussion, but I recall a discussion where we said that we basically wanted to know the \"numpy dtype if I would be converted to a numpy array\" of an ExtensionArray, without actually converting it. \r\nThat seems something useful in general I think, and could then be used to determine the best interleaved dtype in the use case above?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424782403",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-424782403",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 424782403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDc4MjQwMw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T16:28:06Z",
    "updated_at": "2018-09-26T16:28:06Z",
    "author_association": "MEMBER",
    "body": "It was indeed from the sparse discussion, my comment there: https://github.com/pandas-dev/pandas/pull/22325#discussion_r209979714\r\n\r\nBasically, we want to know `np.array(EA).dtype` without doing the conversion to array. \r\n\r\nWe could add a `numpy_dtype` attribute to the Dtype object?\r\n\r\nThis might also overlap with https://github.com/pandas-dev/pandas/issues/22224"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424784444",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-424784444",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 424784444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDc4NDQ0NA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T16:34:07Z",
    "updated_at": "2018-09-26T16:34:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "There's some overlap with #22224, but I don't know if we can re-use the same attribute for both unfortunately. IntegerArray.numpy_type can't hold values with NaNs.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424786393",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-424786393",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 424786393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDc4NjM5Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T16:39:48Z",
    "updated_at": "2018-09-26T16:39:48Z",
    "author_association": "MEMBER",
    "body": "Yes, I don't think we can re-use it, but the `numpy_dtype` attribute of IntegerArray can still be changed of course.\r\n\r\nThe other issue is more about if you have a composite array, what is the dtype of the underlying array (which of course can also be multiple arrays .., so then this might also be multiple dtypes), while here it is the dtype when converted to a numpy array. \r\n\r\nBut I would use a `numpy_dtype` name rather for the use case of this issue."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424786946",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-424786946",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 424786946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDc4Njk0Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T16:41:30Z",
    "updated_at": "2018-09-26T16:41:30Z",
    "author_association": "MEMBER",
    "body": "Although the question is, what if this dtype depends on the data? \r\nFor example, for IntegerArray, we now decided to return an object array. But, you could also opt for actually returning the integer array if there are no NAs, and float otherwise."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424800191",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-424800191",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 424800191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDgwMDE5MQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T17:21:31Z",
    "updated_at": "2018-09-26T17:21:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "> But, you could also opt for actually returning the integer array \r\n\r\nI assume you meant integer dtype.\r\n\r\nThat's a good point. It's not clear what's best here. I think IntegerArray may not be the best one to consider here, since the \"best type\" so clearly depends on the values. There's no way to put that on the ExtensionDtype.\r\n\r\nLet's consider, say, Categorical and Sparse. In this case, there's always a clearly best dtype for the resulting ndarray, `CategoricalDtype.categories.dtype` and `SparseDtype.subdtype` (or whatever we end up calling the type of `sp_values`)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424839956",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-424839956",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 424839956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDgzOTk1Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T19:26:11Z",
    "updated_at": "2018-09-26T19:26:11Z",
    "author_association": "MEMBER",
    "body": "> > But, you could also opt for actually returning the integer array\r\n>\r\n> I assume you meant integer dtype.\r\n\r\nSorry, I was speaking about the return value for `np.array(EA)`, that was not fully clear. So I did mean \"integer (*numpy*) array\".\r\n\r\nThe question then is, what should the value for this attribute be for IntegerArray? `None` to indicate it is not known ?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/451453464",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-451453464",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 451453464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTQ1MzQ2NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-04T14:10:23Z",
    "updated_at": "2019-01-04T14:10:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think we have this now? e.g. can just specify the ``dtype=`` in ``np.asarray()``, or something else needed here?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/451491874",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-451491874",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 451491874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTQ5MTg3NA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-04T16:22:50Z",
    "updated_at": "2019-01-04T16:22:50Z",
    "author_association": "MEMBER",
    "body": "I don't think this is solved. It is not about passing a dtype in `np.asarray(..)`, the original question is: predicting for an array what the dtype will be of `np.array(dtype)` (so the default when not passing a `dtype=` kwarg).\r\n\r\nOne use case is to define the interleaved dtype (see top post)\r\n\r\n(but it's not necessarily a blocker for 0.24.0)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/451504919",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22791#issuecomment-451504919",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22791",
    "id": 451504919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTUwNDkxOQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-04T17:06:35Z",
    "updated_at": "2019-01-04T17:06:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Agreed: not solved, but a blocker.\n\nOn Fri, Jan 4, 2019 at 10:22 AM Joris Van den Bossche <\nnotifications@github.com> wrote:\n\n> I don't think this is solved. It is not about passing a dtype in\n> np.asarray(..), the original question is: predicting for an array what\n> the dtype will be of np.array(dtype) (so the default when not passing a\n> dtype= kwarg).\n>\n> One use case is to define the interleaved dtype (see top post)\n>\n> (but it's not necessarily a blocker for 0.24.0)\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/22791#issuecomment-451491874>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHItXsV-jbeGWEwnblFUqboJFQtLmfks5u_3_ggaJpZM4WydvG>\n> .\n>\n"
  }
]
