[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25965422",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5162#issuecomment-25965422",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5162",
    "id": 25965422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTY1NDIy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-09T12:00:09Z",
    "updated_at": "2013-10-09T12:00:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "This has already been fixed in master...thanks for the report\n\n```\nIn [6]: df2 = df1.copy()\n\nIn [7]: df2.index.tz = 'US/Eastern'\n\nIn [8]: print 'DF2'\nDF2\n\nIn [9]: print df2\n                           data\n2000-12-31 19:00:00-05:00     0\n2001-01-01 19:00:00-05:00     0\n2001-01-02 19:00:00-05:00     0\n2001-01-03 19:00:00-05:00     0\n2001-01-04 19:00:00-05:00     0\n\nIn [10]: \n\nIn [10]: print 'DF1 was also updated'\nDF1 was also updated\n\nIn [11]: print df1\n                           data\n2001-01-01 00:00:00+00:00     0\n2001-01-02 00:00:00+00:00     0\n2001-01-03 00:00:00+00:00     0\n2001-01-04 00:00:00+00:00     0\n2001-01-05 00:00:00+00:00     0\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25965980",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5162#issuecomment-25965980",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5162",
    "id": 25965980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTY1OTgw",
    "user": {
      "login": "vfilimonov",
      "id": 1324881,
      "node_id": "MDQ6VXNlcjEzMjQ4ODE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vfilimonov",
      "html_url": "https://github.com/vfilimonov",
      "followers_url": "https://api.github.com/users/vfilimonov/followers",
      "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/vfilimonov/orgs",
      "repos_url": "https://api.github.com/users/vfilimonov/repos",
      "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vfilimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-09T12:11:50Z",
    "updated_at": "2013-10-09T12:11:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "jreback, sorry for the false alarm. I should have checked at master first..\nand thanks for the prompt reply!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25966771",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5162#issuecomment-25966771",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5162",
    "id": 25966771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTY2Nzcx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-09T12:26:53Z",
    "updated_at": "2013-10-09T12:26:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "np.....error reports are always helpful....!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26012201",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5162#issuecomment-26012201",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5162",
    "id": 26012201,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDEyMjAx",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-09T21:52:20Z",
    "updated_at": "2013-10-09T21:52:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "tz doesn't affect the underlying data, so this particular issue doesn't\noccur on master. As a heads-up though, we don't guarantee that the ndarray\nwith the Index will be copied, even with deep copy (I think it currently\ndoes copy them but this could change), because Index objects are\nquasi-immutable. Every copy gets you a view/shallow-copy on the underlying\nindex and any _operations_ that could occur on the Index (like sorting)\nshould cause an actual copy to be generated. That said, we're still\nthinking about which direction to go with this. What would your\nexpectations be?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26048666",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5162#issuecomment-26048666",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5162",
    "id": 26048666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDQ4NjY2",
    "user": {
      "login": "vfilimonov",
      "id": 1324881,
      "node_id": "MDQ6VXNlcjEzMjQ4ODE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vfilimonov",
      "html_url": "https://github.com/vfilimonov",
      "followers_url": "https://api.github.com/users/vfilimonov/followers",
      "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/vfilimonov/orgs",
      "repos_url": "https://api.github.com/users/vfilimonov/repos",
      "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vfilimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-10T12:20:01Z",
    "updated_at": "2013-10-10T12:20:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Honestly, I don't know how it is implemented in master, but I think that change of tz should be in the list of those \"destructuve operators\" that lead to copying of the index.\nThough, indeed, tz does not change the timestamps per se, it affects some methods, like `between_time` or `resample` use it in the calculations, so if it is not copied properly, it might result in hard-to-detect bugs.\nHowever I understand, that change of tz like in my example is not correct and `tz_localize` and `tz_convert`` should be used.\n\nInterestingly, after this \"hard\" change of tz, `resample` works fine, but `between_time` - does not:\n\n```\ndf1 = pd.DataFrame({'data':0}, index=pd.date_range('2001-01-01','2001-01-05', freq='H'))\ndf1 = df1.tz_localize('UTC')\ndf2 = df1.copy()\ndf2.index.tz = 'US/Eastern'\nprint df2.between_time('10:00','12:00')\n```\n\nresults in (both in 0.12.0 and in master) `TypeError: Index must be DatetimeIndex`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26068587",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5162#issuecomment-26068587",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5162",
    "id": 26068587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDY4NTg3",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-10T16:25:10Z",
    "updated_at": "2013-10-10T16:25:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "well, calling tz_localize and tz_convert should definitely cause a view of the index to be made such that it has a new tz attribute, as should copy() - I'll have to look at the error, that's very strange. Setting index.tz like that really can't cause a copy of the index to be created, because you're doing something in place. Might make sense to have a set_tz method though.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26069511",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5162#issuecomment-26069511",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5162",
    "id": 26069511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDY5NTEx",
    "user": {
      "login": "vfilimonov",
      "id": 1324881,
      "node_id": "MDQ6VXNlcjEzMjQ4ODE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vfilimonov",
      "html_url": "https://github.com/vfilimonov",
      "followers_url": "https://api.github.com/users/vfilimonov/followers",
      "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/vfilimonov/orgs",
      "repos_url": "https://api.github.com/users/vfilimonov/repos",
      "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vfilimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-10T16:36:41Z",
    "updated_at": "2013-10-10T16:36:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "btw, what was the reason for separating tz_localize and tz_convert? \n\nwhy not unite them into something like:\n\n```\ndef tz_set(self, tz, tz_assume='UTC'):\n   if self.index.tz is None:\n      df = self.tz_localize(tz_assume)\n   else:\n      df = self.copy()\n   return df.tz_convert(tz)\n```\n\nIn my typical routine - this is how I check if tz was set before tz_convert after reading data from different sources.\n"
  }
]
