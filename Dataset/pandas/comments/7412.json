[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/45514661",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-45514661",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 45514661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTE0NjYx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-09T16:56:03Z",
    "updated_at": "2014-06-09T16:56:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "pls specify an example of the input and output using simple copy-pastable code, much easier for people to play with / get solns.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/45515921",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-45515921",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 45515921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTE1OTIx",
    "user": {
      "login": "makmanalp",
      "id": 161965,
      "node_id": "MDQ6VXNlcjE2MTk2NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/161965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makmanalp",
      "html_url": "https://github.com/makmanalp",
      "followers_url": "https://api.github.com/users/makmanalp/followers",
      "following_url": "https://api.github.com/users/makmanalp/following{/other_user}",
      "gists_url": "https://api.github.com/users/makmanalp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makmanalp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makmanalp/subscriptions",
      "organizations_url": "https://api.github.com/users/makmanalp/orgs",
      "repos_url": "https://api.github.com/users/makmanalp/repos",
      "events_url": "https://api.github.com/users/makmanalp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makmanalp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-09T17:06:11Z",
    "updated_at": "2014-06-09T17:07:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sure thing:\n\n``` python\n\nfrom pandas import DataFrame, merge\nimport numpy as np\n\ndf = DataFrame(np.random.randn(10, 2), columns=[\"id\", \"sex\"])\ndf2 = DataFrame(np.random.randn(10, 2), columns=[\"user_id\", \"name\"])\ndf.id = range(10)\ndf2.user_id = range(3,13)\n\nmerge(df, df2, left_on=\"id\", right_on=\"user_id\",  how=\"outer\")\n\"\"\" Returns:\n    id       sex  user_id      name\n0    0 -0.254309      NaN       NaN\n1    1 -0.363123      NaN       NaN\n2    2 -0.408873      NaN       NaN\n3    3 -1.209845        3  0.578440\n4    4  0.952290        4 -1.336396\n5    5 -0.091704        5  0.255794\n6    6  0.984578        6 -0.469222\n7    7 -0.694126        7  1.197256\n8    8  0.369942        8 -0.656366\n9    9  1.544090        9 -0.975548\n10 NaN       NaN       10 -1.827958\n11 NaN       NaN       11 -1.523407\n12 NaN       NaN       12 -0.785032\n\"\"\"\n\n# But when merging on index / same column, you can't do this because the merge column gets joined into one and you lose all merge source information\n\nmerge(df.set_index(\"id\"), df2.set_index(\"user_id\"), left_index=True, right_index=True,  how=\"outer\")\n\"\"\"\n         sex      name\n0  -0.254309       NaN\n1  -0.363123       NaN\n2  -0.408873       NaN\n3  -1.209845  0.578440\n4   0.952290 -1.336396\n5  -0.091704  0.255794\n6   0.984578 -0.469222\n7  -0.694126  1.197256\n8   0.369942 -0.656366\n9   1.544090 -0.975548\n10       NaN -1.827958\n11       NaN -1.523407\n12       NaN -0.785032\n\"\"\"\n\n# What you'd want after setting merge_info=True\n\n\"\"\"\n         sex      name    _merge\n0  -0.254309       NaN         1\n1  -0.363123       NaN         1\n2  -0.408873       NaN         1\n3  -1.209845  0.578440         3\n4   0.952290 -1.336396         3\n5  -0.091704  0.255794         3\n6   0.984578 -0.469222         3\n7  -0.694126  1.197256         3\n8   0.369942 -0.656366         3\n9   1.544090 -0.975548         3\n10       NaN -1.827958         2\n11       NaN -1.523407         2\n12       NaN -0.785032         2\n\"\"\"\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/45520392",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-45520392",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 45520392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTIwMzky",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-09T17:45:51Z",
    "updated_at": "2014-06-09T17:45:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "work for you?\n\n```\nIn [14]: pd.merge(df.set_index(\"id\",drop=False), df2.set_index(\"user_id\",drop=False), left_index=True, right_index=True,  how=\"outer\")\nOut[14]: \n    id       sex  user_id      name\n0    0  1.365492      NaN       NaN\n1    1 -0.598057      NaN       NaN\n2    2 -1.092018      NaN       NaN\n3    3 -1.059410        3 -0.786692\n4    4 -0.110475        4 -0.303009\n5    5  0.792464        5  0.150692\n6    6 -1.744959        6  2.088291\n7    7  1.169675        7  0.911539\n8    8 -1.835623        8  0.503609\n9    9 -0.037064        9  1.105057\n10 NaN       NaN       10 -0.342427\n11 NaN       NaN       11  0.158631\n12 NaN       NaN       12  1.780248\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49799274",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-49799274",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 49799274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Nzk5Mjc0",
    "user": {
      "login": "shafiquejamal",
      "id": 2116061,
      "node_id": "MDQ6VXNlcjIxMTYwNjE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2116061?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shafiquejamal",
      "html_url": "https://github.com/shafiquejamal",
      "followers_url": "https://api.github.com/users/shafiquejamal/followers",
      "following_url": "https://api.github.com/users/shafiquejamal/following{/other_user}",
      "gists_url": "https://api.github.com/users/shafiquejamal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shafiquejamal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shafiquejamal/subscriptions",
      "organizations_url": "https://api.github.com/users/shafiquejamal/orgs",
      "repos_url": "https://api.github.com/users/shafiquejamal/repos",
      "events_url": "https://api.github.com/users/shafiquejamal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shafiquejamal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-22T20:53:35Z",
    "updated_at": "2014-07-22T20:53:35Z",
    "author_association": "NONE",
    "body": "@jreback : Is there an easy way to get the _merge column in @makmanalp's comment? The NaNs could indicate _merge results, but they are ambiguous - they could have existed in the Series already.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49819499",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-49819499",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 49819499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODE5NDk5",
    "user": {
      "login": "shafiquejamal",
      "id": 2116061,
      "node_id": "MDQ6VXNlcjIxMTYwNjE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2116061?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shafiquejamal",
      "html_url": "https://github.com/shafiquejamal",
      "followers_url": "https://api.github.com/users/shafiquejamal/followers",
      "following_url": "https://api.github.com/users/shafiquejamal/following{/other_user}",
      "gists_url": "https://api.github.com/users/shafiquejamal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shafiquejamal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shafiquejamal/subscriptions",
      "organizations_url": "https://api.github.com/users/shafiquejamal/orgs",
      "repos_url": "https://api.github.com/users/shafiquejamal/repos",
      "events_url": "https://api.github.com/users/shafiquejamal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shafiquejamal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-23T00:32:50Z",
    "updated_at": "2014-07-23T00:32:50Z",
    "author_association": "NONE",
    "body": "@makmanalp: I've made a project to execute Stata-like commands with Pandas. This allows for Stata-like merges that produce a merge variable: \n\nhttps://github.com/shafiquejamal/easyframes\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49828656",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-49828656",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 49828656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODI4NjU2",
    "user": {
      "login": "makmanalp",
      "id": 161965,
      "node_id": "MDQ6VXNlcjE2MTk2NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/161965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makmanalp",
      "html_url": "https://github.com/makmanalp",
      "followers_url": "https://api.github.com/users/makmanalp/followers",
      "following_url": "https://api.github.com/users/makmanalp/following{/other_user}",
      "gists_url": "https://api.github.com/users/makmanalp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makmanalp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makmanalp/subscriptions",
      "organizations_url": "https://api.github.com/users/makmanalp/orgs",
      "repos_url": "https://api.github.com/users/makmanalp/repos",
      "events_url": "https://api.github.com/users/makmanalp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makmanalp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-23T03:18:11Z",
    "updated_at": "2014-07-23T03:18:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback sorry to leave this thread hanging, looks like I'd missed your response. I think that does what I need for the most part. It does seem like a bit of a hack though.\n\n@shafiquejamal Thanks, this is pretty neat. It'll come in handy when converting stata folks over.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/200894378",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-200894378",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 200894378,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDg5NDM3OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T15:44:37Z",
    "updated_at": "2016-03-24T15:44:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kobejohn not sure what you are asking about. can you show an example. I don't see anything being dropped.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/200960263",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-200960263",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 200960263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDk2MDI2Mw==",
    "user": {
      "login": "kobejohn",
      "id": 1433788,
      "node_id": "MDQ6VXNlcjE0MzM3ODg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1433788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kobejohn",
      "html_url": "https://github.com/kobejohn",
      "followers_url": "https://api.github.com/users/kobejohn/followers",
      "following_url": "https://api.github.com/users/kobejohn/following{/other_user}",
      "gists_url": "https://api.github.com/users/kobejohn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kobejohn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kobejohn/subscriptions",
      "organizations_url": "https://api.github.com/users/kobejohn/orgs",
      "repos_url": "https://api.github.com/users/kobejohn/repos",
      "events_url": "https://api.github.com/users/kobejohn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kobejohn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T18:26:36Z",
    "updated_at": "2016-03-24T18:26:36Z",
    "author_association": "NONE",
    "body": "Ok my apologies - I misinterpreted both my results and this thread. I'll delete the comment and then get more sleep.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/200965862",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7412#issuecomment-200965862",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7412",
    "id": 200965862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDk2NTg2Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T18:45:15Z",
    "updated_at": "2016-03-24T18:45:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "np I think this issue was more about having an indicator where the merged column came FROM \n"
  }
]
