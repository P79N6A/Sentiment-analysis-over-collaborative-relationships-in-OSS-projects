[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30263952",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30263952",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30263952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjYzOTUy",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T20:19:53Z",
    "updated_at": "2013-12-10T20:21:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I stumbled and fell harshly and scrambled for several days to recover from this one. :(\nI was using the following user function to return a `None` in certain cases:\n\n``` python\n        def process_calblock(df):\n            cb = CalBlock(df, self.SV_NUM_SKIP_SAMPLE)\n            if cb.kind == \"ST\":\n                return\n            return cb.bb_time\n```\n\nand using `calgrouped.apply(process_calblock)`, until this commit I was returned the following, which was useful to me:\n\n``` python\ncalib_block_labels\n1                     2009-09-28 09:07:58.558000\n2                     2009-09-28 09:18:15.019000\n3                     2009-09-28 09:27:30.039000\n4                                           None\n5                     2009-09-28 09:38:49.989000\n6                     2009-09-28 09:49:06.450000\n7                     2009-09-28 09:59:24.959000\ndtype: object\n```\n\nSince this commit I received the most mysterious error message:\n\n``` python\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-2-cfb5bb4d8eec> in <module>()\n     10 # cgood = calib.Calibrator(dfgood)\n     11 cbad = calib.Calibrator(dfbad)\n---> 12 cbad.calgrouped.apply(process_calblock)\n\n/Users/maye/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pandas-0.12.0_1169_g9aae1a8-py2.7-macosx-10.6-x86_64.egg/pandas/core/groupby.pyc in apply(self, func, *args, **kwargs)\n    371             return func(g, *args, **kwargs)\n    372 \n--> 373         return self._python_apply_general(f)\n    374 \n    375     def _python_apply_general(self, f):\n\n/Users/maye/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pandas-0.12.0_1169_g9aae1a8-py2.7-macosx-10.6-x86_64.egg/pandas/core/groupby.pyc in _python_apply_general(self, f)\n    377 \n    378         return self._wrap_applied_output(keys, values,\n--> 379                                          not_indexed_same=mutated)\n    380 \n    381     def aggregate(self, func, *args, **kwargs):\n\n/Users/maye/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pandas-0.12.0_1169_g9aae1a8-py2.7-macosx-10.6-x86_64.egg/pandas/core/groupby.pyc in _wrap_applied_output(self, keys, values, not_indexed_same)\n   2132                 if v is None:\n   2133                     return DataFrame()\n-> 2134                 values = [ x if x is not None else v._constructor(**v._construct_axes_dict()) for x in values ]\n   2135 \n   2136             v = values[0]\n\nAttributeError: 'Timestamp' object has no attribute '_constructor'\n```\n\nwhich, as I understand from the stackoverflow, has something to do with the fact that I return None?\n\nSo, do I have to change my code, because this is a change in the API or is this a regression?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30264545",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30264545",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30264545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjY0NTQ1",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T20:27:30Z",
    "updated_at": "2013-12-10T20:27:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you post something small and reproducible that generates this error?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30265035",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30265035",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30265035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjY1MDM1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T20:33:03Z",
    "updated_at": "2013-12-10T20:33:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@michaelaye are you using current master? this should work\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30265106",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30265106",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30265106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjY1MTA2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T20:33:54Z",
    "updated_at": "2013-12-10T20:33:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "oh...sorry...you are returning None or a Timestamp or a Series? (or just None or a Timestamp)...hmmm\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30269943",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30269943",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30269943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjY5OTQz",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T21:31:29Z",
    "updated_at": "2013-12-10T21:31:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, exactly. I usually return a timestamp which is the middle time point of the group, but for certain cases I should not use this time and then I returned None. This does not work in master.\n\nI guess I can work around by filtering the dataframe already before grouping.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30274232",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30274232",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30274232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjc0MjMy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T22:20:14Z",
    "updated_at": "2013-12-10T22:20:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok...was a minor fix.....PR #5675; also the dtypes of the columns should be correct as well if the original is a datetimelike and you return a None (it will be datetime64[ns] with the Nones as NaTs)\n\nIn this case you will get a series back that is correctly dtyped\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30274639",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30274639",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30274639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjc0NjM5",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T22:25:27Z",
    "updated_at": "2013-12-10T22:25:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "I confirm that PR #5675 works here, thanks for the quick fix!\n\n``` python\ncalib_block_labels\n1                    2009-09-28 09:07:58.558000\n2                    2009-09-28 09:18:15.019000\n3                    2009-09-28 09:27:30.039000\n4                                           NaT\n5                    2009-09-28 09:38:49.989000\n6                    2009-09-28 09:49:06.450000\n7                    2009-09-28 09:59:24.959000\ndtype: datetime64[ns]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/30274818",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5592#issuecomment-30274818",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5592",
    "id": 30274818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjc0ODE4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-10T22:27:18Z",
    "updated_at": "2013-12-10T22:27:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "gr8!\n\nkeep em coming!\n"
  }
]
