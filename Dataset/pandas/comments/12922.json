[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/211891626",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12922#issuecomment-211891626",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12922",
    "id": 211891626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTg5MTYyNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-19T12:15:40Z",
    "updated_at": "2016-04-19T12:15:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is probably only minimally tested now. The data is written thru the csv writer which gets passed the quoting. I think that needs to be turned off as we do all quoting formatting before passing it to the writer (maybe not ALL, and that's the rub, some cases maybe relying on the csv writer actually quoting things).\nAll things are passed as formatted strings (e.g. we do this for floats for example to provide NaN formatting, specific format strings and such).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/245954650",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12922#issuecomment-245954650",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12922",
    "id": 245954650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTk1NDY1MA==",
    "user": {
      "login": "blitzd",
      "id": 1502984,
      "node_id": "MDQ6VXNlcjE1MDI5ODQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1502984?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blitzd",
      "html_url": "https://github.com/blitzd",
      "followers_url": "https://api.github.com/users/blitzd/followers",
      "following_url": "https://api.github.com/users/blitzd/following{/other_user}",
      "gists_url": "https://api.github.com/users/blitzd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blitzd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blitzd/subscriptions",
      "organizations_url": "https://api.github.com/users/blitzd/orgs",
      "repos_url": "https://api.github.com/users/blitzd/repos",
      "events_url": "https://api.github.com/users/blitzd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blitzd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-09T15:51:47Z",
    "updated_at": "2016-09-09T16:09:32Z",
    "author_association": "NONE",
    "body": "This problem is still occurring if you are using a float format, i.e.:\n\n```\ndf.to_csv(f, quoting=csv.QUOTE_NONNUMERIC, index=False, float_format='%.2f')\n```\n\nResult:\n\n```\n\"column\"\n\"1.00\"\n\"2.00\"\n```\n\nEdit: It also appears to be doing the same to NaN values even without the float_format.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246021668",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12922#issuecomment-246021668",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12922",
    "id": 246021668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjAyMTY2OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-09T19:54:36Z",
    "updated_at": "2016-09-09T19:54:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "@blitzd the issue here is the second you apply a float format it is now a string. So this is correct. That said I think we could document this. Can you open new issue for that.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246028993",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12922#issuecomment-246028993",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12922",
    "id": 246028993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjAyODk5Mw==",
    "user": {
      "login": "blitzd",
      "id": 1502984,
      "node_id": "MDQ6VXNlcjE1MDI5ODQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1502984?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blitzd",
      "html_url": "https://github.com/blitzd",
      "followers_url": "https://api.github.com/users/blitzd/followers",
      "following_url": "https://api.github.com/users/blitzd/following{/other_user}",
      "gists_url": "https://api.github.com/users/blitzd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blitzd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blitzd/subscriptions",
      "organizations_url": "https://api.github.com/users/blitzd/orgs",
      "repos_url": "https://api.github.com/users/blitzd/repos",
      "events_url": "https://api.github.com/users/blitzd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blitzd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-09T20:23:14Z",
    "updated_at": "2016-09-09T21:14:52Z",
    "author_association": "NONE",
    "body": "@jreback I can see that being the case for the format with a format string that would make it non-numeric. I would argue that 1.00 is still a numeric value though. \n\nAlso - any thoughts on the NaN bit? That occurs regardless of the float_format.\n\nHow hard would it be to have it where you could explicitly define the columns to be quoted? Or is this already possible?\n\nI will add a new issue with reference.\n\nEdit: Re: 'how hard would it be', a bit of a hackish method but it works for me:\n\n```\ndef write_csv(df, filename, quote_header=True, unquoted_cols=[], index=False, float_format='%.2f'):\n    import pandas as pd\n\n    working_df = df.copy()\n    for col in working_df.columns:\n        if col not in unquoted_cols:\n            working_df[col] = working_df[col].apply(lambda x: '\"\"' if pd.isnull(x) else '\"{}\"'.format(x))\n    if quote_header:\n        rename_dict = {}\n        for col in working_df.columns:\n            rename_dict[col] = '\"{}\"'.format(col)\n\n        working_df.rename(columns=rename_dict, inplace=True)\n\n    working_df.to_csv(filename, quoting=csv.QUOTE_NONE, index=index, float_format=float_format)\n```\n"
  }
]
