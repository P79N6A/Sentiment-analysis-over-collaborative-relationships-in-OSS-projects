[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/178872639",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-178872639",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 178872639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg3MjYzOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-02T22:49:55Z",
    "updated_at": "2016-02-02T22:49:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "nan's are already supported.\n\n```\nIn [1]: df = DataFrame({'A' : [np.nan,1,np.inf,-np.inf]})\n\nIn [2]: df.to_json(None)\nOut[2]: '{\"A\":{\"0\":null,\"1\":1.0,\"2\":null,\"3\":null}}'\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/178875773",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-178875773",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 178875773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg3NTc3Mw==",
    "user": {
      "login": "MaxNoe",
      "id": 5488440,
      "node_id": "MDQ6VXNlcjU0ODg0NDA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5488440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxNoe",
      "html_url": "https://github.com/MaxNoe",
      "followers_url": "https://api.github.com/users/MaxNoe/followers",
      "following_url": "https://api.github.com/users/MaxNoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxNoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxNoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxNoe/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxNoe/orgs",
      "repos_url": "https://api.github.com/users/MaxNoe/repos",
      "events_url": "https://api.github.com/users/MaxNoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxNoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-02T23:04:20Z",
    "updated_at": "2016-02-02T23:05:37Z",
    "author_association": "NONE",
    "body": "But not  `NaN` for reading: `pd.read_json('{\"a\": [NaN, Infinity, -Infinity]}')` \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/178878478",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-178878478",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 178878478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg3ODQ3OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-02T23:10:14Z",
    "updated_at": "2016-02-02T23:10:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "that's not valid json\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/178882085",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-178882085",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 178882085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg4MjA4NQ==",
    "user": {
      "login": "MaxNoe",
      "id": 5488440,
      "node_id": "MDQ6VXNlcjU0ODg0NDA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5488440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxNoe",
      "html_url": "https://github.com/MaxNoe",
      "followers_url": "https://api.github.com/users/MaxNoe/followers",
      "following_url": "https://api.github.com/users/MaxNoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxNoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxNoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxNoe/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxNoe/orgs",
      "repos_url": "https://api.github.com/users/MaxNoe/repos",
      "events_url": "https://api.github.com/users/MaxNoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxNoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-02T23:21:48Z",
    "updated_at": "2016-02-02T23:21:48Z",
    "author_association": "NONE",
    "body": "I know, that's what I wrote in the first post. But it is a commonly used extension.\n\nSee the description in Google's GSON package:\n\n>  Section 2.4 of JSON specification disallows special double values (NaN, Infinity, -Infinity). However, Javascript specification (see section 4.3.20, 4.3.22, 4.3.23) allows these values as valid Javascript values. Moreover, most JavaScript engines will accept these special values in JSON without problem. So, at a practical level, it makes sense to accept these values as valid JSON even though JSON specification disallows them.\n\nOr python's json module:\n\n> It also understands NaN, Infinity, and -Infinity as their corresponding float values, which is outside the JSON spec.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/178890502",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-178890502",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 178890502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg5MDUwMg==",
    "user": {
      "login": "MaxNoe",
      "id": 5488440,
      "node_id": "MDQ6VXNlcjU0ODg0NDA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5488440?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxNoe",
      "html_url": "https://github.com/MaxNoe",
      "followers_url": "https://api.github.com/users/MaxNoe/followers",
      "following_url": "https://api.github.com/users/MaxNoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxNoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxNoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxNoe/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxNoe/orgs",
      "repos_url": "https://api.github.com/users/MaxNoe/repos",
      "events_url": "https://api.github.com/users/MaxNoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxNoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-02T23:43:08Z",
    "updated_at": "2016-02-02T23:43:08Z",
    "author_association": "NONE",
    "body": "Also interesting: the json specifications explicitly allow to accept extensions of the standard:\nhttps://tools.ietf.org/html/rfc7159.html#section-9\n\n> A JSON parser transforms a JSON text into another representation.  A\n>    JSON parser MUST accept all texts that conform to the JSON grammar.\n>    A JSON parser MAY accept non-JSON forms or extensions.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/179783319",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-179783319",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 179783319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTc4MzMxOQ==",
    "user": {
      "login": "mackaiver",
      "id": 4076745,
      "node_id": "MDQ6VXNlcjQwNzY3NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4076745?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mackaiver",
      "html_url": "https://github.com/mackaiver",
      "followers_url": "https://api.github.com/users/mackaiver/followers",
      "following_url": "https://api.github.com/users/mackaiver/following{/other_user}",
      "gists_url": "https://api.github.com/users/mackaiver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mackaiver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mackaiver/subscriptions",
      "organizations_url": "https://api.github.com/users/mackaiver/orgs",
      "repos_url": "https://api.github.com/users/mackaiver/repos",
      "events_url": "https://api.github.com/users/mackaiver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mackaiver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-04T11:36:34Z",
    "updated_at": "2016-02-04T11:36:34Z",
    "author_association": "NONE",
    "body": ":+1: This would indeed be very helpful for interoperability between a pandas backend and a JS frontend.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/189444274",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-189444274",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 189444274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTQ0NDI3NA==",
    "user": {
      "login": "zls88",
      "id": 6628298,
      "node_id": "MDQ6VXNlcjY2MjgyOTg=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6628298?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zls88",
      "html_url": "https://github.com/zls88",
      "followers_url": "https://api.github.com/users/zls88/followers",
      "following_url": "https://api.github.com/users/zls88/following{/other_user}",
      "gists_url": "https://api.github.com/users/zls88/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zls88/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zls88/subscriptions",
      "organizations_url": "https://api.github.com/users/zls88/orgs",
      "repos_url": "https://api.github.com/users/zls88/repos",
      "events_url": "https://api.github.com/users/zls88/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zls88/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-26T19:29:46Z",
    "updated_at": "2016-02-26T19:29:46Z",
    "author_association": "NONE",
    "body": "I took a crack at this and discovered that the json library underlying read_json, [ujson](https://pypi.python.org/pypi/ujson/1.33), doesn't handle NaN nor infinity. In [previous discussions](https://github.com/esnme/ultrajson/issues/80) ([more](https://github.com/esnme/ultrajson/issues/146)) the authors of ujson resisted adding support because it's out of spec, and there's no way to specify a custom decodor nor encoder with ujson.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262062634",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-262062634",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 262062634,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjA2MjYzNA==",
    "user": {
      "login": "maciejkula",
      "id": 2392579,
      "node_id": "MDQ6VXNlcjIzOTI1Nzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2392579?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maciejkula",
      "html_url": "https://github.com/maciejkula",
      "followers_url": "https://api.github.com/users/maciejkula/followers",
      "following_url": "https://api.github.com/users/maciejkula/following{/other_user}",
      "gists_url": "https://api.github.com/users/maciejkula/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maciejkula/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maciejkula/subscriptions",
      "organizations_url": "https://api.github.com/users/maciejkula/orgs",
      "repos_url": "https://api.github.com/users/maciejkula/repos",
      "events_url": "https://api.github.com/users/maciejkula/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maciejkula/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T20:49:00Z",
    "updated_at": "2016-11-21T20:49:00Z",
    "author_association": "NONE",
    "body": "The newest master throws a `ValueError: Expected object or value` exception when trying to parse JSON containing `inf` of `nan` values. While I understand that these are not valid JSON, it might be helpful to throw more informative exceptions to help the user debug the issue.\r\n\r\nScript to reproduce (using [Hypothesis](https://github.com/HypothesisWorks/hypothesis-python)):\r\n```python\r\nimport json\r\n\r\nfrom hypothesis import assume, example, given\r\nimport hypothesis.strategies as st\r\n\r\nimport pandas as pd\r\n\r\nFAILING_EXAMPLES = (\r\n    [{u'': float('inf')}],\r\n    [{u'': float('nan')}],\r\n)\r\n\r\n@given(st.lists(st.dictionaries(st.text(),\r\n                                st.floats() | st.booleans() | st.text() | st.none())))\r\n@example([{u'': float('inf')}])\r\n@example([{u'': float('nan')}])\r\ndef test_load_json(test_input):\r\n\r\n    df = pd.read_json(json.dumps(test_input))\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/409320313",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12213#issuecomment-409320313",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12213",
    "id": 409320313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTMyMDMxMw==",
    "user": {
      "login": "yifeim",
      "id": 8949994,
      "node_id": "MDQ6VXNlcjg5NDk5OTQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8949994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yifeim",
      "html_url": "https://github.com/yifeim",
      "followers_url": "https://api.github.com/users/yifeim/followers",
      "following_url": "https://api.github.com/users/yifeim/following{/other_user}",
      "gists_url": "https://api.github.com/users/yifeim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yifeim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yifeim/subscriptions",
      "organizations_url": "https://api.github.com/users/yifeim/orgs",
      "repos_url": "https://api.github.com/users/yifeim/repos",
      "events_url": "https://api.github.com/users/yifeim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yifeim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-31T18:23:53Z",
    "updated_at": "2018-07-31T18:24:34Z",
    "author_association": "NONE",
    "body": "Hi there,\r\n\r\nThanks for the thorough discussions. We would suppose that pandas to be friendly to data scientists and a little surprised to find compatibility issues with IEEE float standards. Infinity/-Infinity is particularly useful because it is flexible enough to be clipped to the max/min value in any valid ranges. This is not possible with NaN/null.\r\n\r\nAs of today, it is possible to encode Infinity using `default_handler`, but not to decode it, correct?\r\n\r\nThanks."
  }
]
