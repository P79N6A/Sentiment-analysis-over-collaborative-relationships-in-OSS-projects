[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112015087",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-112015087",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 112015087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjAxNTA4Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-15T10:39:29Z",
    "updated_at": "2015-06-15T10:39:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Something like this would fix it. care to do a pull-requests (and add some tests)?\n(should remove the other function definition as well)\n\n```\ndiff --git a/pandas/core/groupby.py b/pandas/core/groupby.py\nindex 4abdd11..3fd2436 100644\n--- a/pandas/core/groupby.py\n+++ b/pandas/core/groupby.py\n@@ -1812,6 +1812,10 @@ class BinGrouper(BaseGrouper):\n         'min': 'group_min_bin',\n         'max': 'group_max_bin',\n         'var': 'group_var_bin',\n+        'std': {\n+            'name' : 'group_var_bin',\n+            'f' : lambda func, a: np.sqrt(func(a)),\n+            },\n         'ohlc': 'group_ohlc',\n         'first': {\n             'name': 'group_nth_bin',\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112079492",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-112079492",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 112079492,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjA3OTQ5Mg==",
    "user": {
      "login": "jxrossel",
      "id": 12891830,
      "node_id": "MDQ6VXNlcjEyODkxODMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/12891830?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jxrossel",
      "html_url": "https://github.com/jxrossel",
      "followers_url": "https://api.github.com/users/jxrossel/followers",
      "following_url": "https://api.github.com/users/jxrossel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jxrossel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jxrossel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jxrossel/subscriptions",
      "organizations_url": "https://api.github.com/users/jxrossel/orgs",
      "repos_url": "https://api.github.com/users/jxrossel/repos",
      "events_url": "https://api.github.com/users/jxrossel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jxrossel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-15T13:55:43Z",
    "updated_at": "2015-06-15T13:55:43Z",
    "author_association": "NONE",
    "body": "Hi,\nI'm kind of a newbie here (and in Python in general). What do you mean by pull-request ?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112098814",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-112098814",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 112098814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjA5ODgxNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-15T15:01:57Z",
    "updated_at": "2015-06-15T15:01:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "see contributing docs [here](http://pandas.pydata.org/pandas-docs/stable/contributing.html)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112101250",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-112101250",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 112101250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjEwMTI1MA==",
    "user": {
      "login": "jxrossel",
      "id": 12891830,
      "node_id": "MDQ6VXNlcjEyODkxODMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/12891830?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jxrossel",
      "html_url": "https://github.com/jxrossel",
      "followers_url": "https://api.github.com/users/jxrossel/followers",
      "following_url": "https://api.github.com/users/jxrossel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jxrossel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jxrossel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jxrossel/subscriptions",
      "organizations_url": "https://api.github.com/users/jxrossel/orgs",
      "repos_url": "https://api.github.com/users/jxrossel/repos",
      "events_url": "https://api.github.com/users/jxrossel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jxrossel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-15T15:11:31Z",
    "updated_at": "2015-06-15T15:11:31Z",
    "author_association": "NONE",
    "body": "woaw, I didn't consider becoming a code contributer when mentioning the bug. I don't think I would be the correct person for that. I'd probably do more damage than good.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112104564",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-112104564",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 112104564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjEwNDU2NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-15T15:19:25Z",
    "updated_at": "2015-06-15T15:19:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "best way to start! give it a shot.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/312208408",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-312208408",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 312208408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjIwODQwOA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-30T08:29:32Z",
    "updated_at": "2017-06-30T08:29:32Z",
    "author_association": "MEMBER",
    "body": "Other case were it raises an error (when grouping by non-numerical columns): https://github.com/pandas-dev/pandas/issues/16799"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/372240006",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-372240006",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 372240006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjI0MDAwNg==",
    "user": {
      "login": "alohia",
      "id": 1757468,
      "node_id": "MDQ6VXNlcjE3NTc0Njg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1757468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alohia",
      "html_url": "https://github.com/alohia",
      "followers_url": "https://api.github.com/users/alohia/followers",
      "following_url": "https://api.github.com/users/alohia/following{/other_user}",
      "gists_url": "https://api.github.com/users/alohia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alohia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alohia/subscriptions",
      "organizations_url": "https://api.github.com/users/alohia/orgs",
      "repos_url": "https://api.github.com/users/alohia/repos",
      "events_url": "https://api.github.com/users/alohia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alohia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-12T09:14:26Z",
    "updated_at": "2018-03-12T09:15:25Z",
    "author_association": "NONE",
    "body": "This issue still exists in pandas 0.22. Doing std() after groupby tries to apply std() on the column being grouped by and raises an error if the column is 'str' for example. This happens when using drop_index=True in the groupby() call. How can I contribute to fix this issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/372259282",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-372259282",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 372259282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjI1OTI4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-12T10:19:12Z",
    "updated_at": "2018-03-12T10:19:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I put a patch that might work, needs tests, see the contributing docs here:http://pandas-docs.github.io/pandas-docs-travis/contributing.html"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/377673535",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-377673535",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 377673535,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY3MzUzNQ==",
    "user": {
      "login": "TakaakiFuruse",
      "id": 8233663,
      "node_id": "MDQ6VXNlcjgyMzM2NjM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8233663?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TakaakiFuruse",
      "html_url": "https://github.com/TakaakiFuruse",
      "followers_url": "https://api.github.com/users/TakaakiFuruse/followers",
      "following_url": "https://api.github.com/users/TakaakiFuruse/following{/other_user}",
      "gists_url": "https://api.github.com/users/TakaakiFuruse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TakaakiFuruse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TakaakiFuruse/subscriptions",
      "organizations_url": "https://api.github.com/users/TakaakiFuruse/orgs",
      "repos_url": "https://api.github.com/users/TakaakiFuruse/repos",
      "events_url": "https://api.github.com/users/TakaakiFuruse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TakaakiFuruse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-31T07:32:27Z",
    "updated_at": "2018-03-31T08:03:41Z",
    "author_association": "NONE",
    "body": "This code returns  \"ValueError: cannot insert a, already exists\" error on pandas 0.22 with python 3.6.4.\r\n(I have tried master and showed the same error also.)\r\n\r\n```py\r\nimport pandas as pd\r\ndf = pd.DataFrame({\r\n               'a' : [1,1,1,2,2,2,3,3,3],\r\n               'b' : [1,2,3,4,5,6,7,8,9],\r\n})\r\ndf.groupby('a', as_index=False).agg({'a': 'count'})\r\n```\r\nDo you think the root cause is the same?\r\n\r\nOutput of ``pd.show_versions()`` is...\r\n\r\n<details>\r\n\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.4.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.8.0-53-generic\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: ja_JP.UTF-8\r\nLOCALE: ja_JP.UTF-8\r\n\r\npandas: 0.22.0\r\npytest: 3.5.0\r\npip: 9.0.3\r\nsetuptools: 39.0.1\r\nCython: 0.28.1\r\nnumpy: 1.14.2\r\nscipy: 1.0.1\r\npyarrow: None\r\nxarray: None\r\nIPython: 6.2.1\r\nsphinx: 1.7.2\r\npatsy: 0.5.0\r\ndateutil: 2.7.2\r\npytz: 2018.3\r\nblosc: None\r\nbottleneck: 1.2.1\r\ntables: 3.4.2\r\nnumexpr: 2.6.4\r\nfeather: None\r\nmatplotlib: 2.2.2\r\nopenpyxl: 2.5.1\r\nxlrd: 1.1.0\r\nxlwt: 1.3.0\r\nxlsxwriter: 1.0.2\r\nlxml: 4.2.1\r\nbs4: 4.6.0\r\nhtml5lib: 1.0.1\r\nsqlalchemy: 1.2.5\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.10\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\n</details>\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/377695647",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-377695647",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 377695647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY5NTY0Nw==",
    "user": {
      "login": "TakaakiFuruse",
      "id": 8233663,
      "node_id": "MDQ6VXNlcjgyMzM2NjM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8233663?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TakaakiFuruse",
      "html_url": "https://github.com/TakaakiFuruse",
      "followers_url": "https://api.github.com/users/TakaakiFuruse/followers",
      "following_url": "https://api.github.com/users/TakaakiFuruse/following{/other_user}",
      "gists_url": "https://api.github.com/users/TakaakiFuruse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TakaakiFuruse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TakaakiFuruse/subscriptions",
      "organizations_url": "https://api.github.com/users/TakaakiFuruse/orgs",
      "repos_url": "https://api.github.com/users/TakaakiFuruse/repos",
      "events_url": "https://api.github.com/users/TakaakiFuruse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TakaakiFuruse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-31T14:09:37Z",
    "updated_at": "2018-03-31T14:09:37Z",
    "author_association": "NONE",
    "body": "For https://github.com/pandas-dev/pandas/issues/10355#issuecomment-377673535, as I have found another similar behavior, I have created a new issue here https://github.com/pandas-dev/pandas/issues/20566.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/380889146",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10355#issuecomment-380889146",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10355",
    "id": 380889146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDg4OTE0Ng==",
    "user": {
      "login": "mukherjees",
      "id": 6034216,
      "node_id": "MDQ6VXNlcjYwMzQyMTY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/6034216?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mukherjees",
      "html_url": "https://github.com/mukherjees",
      "followers_url": "https://api.github.com/users/mukherjees/followers",
      "following_url": "https://api.github.com/users/mukherjees/following{/other_user}",
      "gists_url": "https://api.github.com/users/mukherjees/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mukherjees/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mukherjees/subscriptions",
      "organizations_url": "https://api.github.com/users/mukherjees/orgs",
      "repos_url": "https://api.github.com/users/mukherjees/repos",
      "events_url": "https://api.github.com/users/mukherjees/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mukherjees/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-12T17:47:06Z",
    "updated_at": "2018-04-12T17:47:06Z",
    "author_association": "NONE",
    "body": "I can confirm the same problem as reported by @TakaakiFuruse (see two posts above), with pandas 0.22 and python 3.6.2.  With the same example dataframe as he has, we see that the `describe()` command applied to the `groupby` object shows the correct results in the `std` columns for both `a` and `b`:\r\n`df.groupby('a', as_index=False).describe()`\r\n```\r\n\ta\ta\ta\ta\ta\ta\ta\ta\tb\tb\tb\tb\tb\tb\tb\tb\r\n\tcount\tmean\tstd\tmin\t25%\t50%\t75%\tmax\tcount\tmean\tstd\tmin\t25%\t50%\t75%\tmax\r\n0\t3.0\t1.0\t0.0\t1.0\t1.0\t1.0\t1.0\t1.0\t3.0\t2.0\t1.0\t1.0\t1.5\t2.0\t2.5\t3.0\r\n1\t3.0\t2.0\t0.0\t2.0\t2.0\t2.0\t2.0\t2.0\t3.0\t5.0\t1.0\t4.0\t4.5\t5.0\t5.5\t6.0\r\n2\t3.0\t3.0\t0.0\t3.0\t3.0\t3.0\t3.0\t3.0\t3.0\t8.0\t1.0\t7.0\t7.5\t8.0\t8.5\t9.0\r\n```\r\n\r\nHowever, applying `std()` directly to the `groupby` object gives the wrong result for `a`:\r\n`df.groupby('a', as_index=False).std()`\r\n```\r\n\ta\tb\r\n0\t1.0\t1.0\r\n1\t1.4142135623730951\t1.0\r\n2\t1.7320508075688772\t1.0\r\n```\r\n\r\nClearly, `std()` is not the same as `.apply(np.std, ddof=1)` [even though I thought that they were syntactically equivalent] because the latter again gives the right answer for both `a` and `b`:\r\n`df.groupby('a', as_index=False).apply(np.std, ddof=1)`\r\n```\r\n\ta\tb\r\n0\t0.0\t1.0\r\n1\t0.0\t1.0\r\n2\t0.0\t1.0\r\n```"
  }
]
