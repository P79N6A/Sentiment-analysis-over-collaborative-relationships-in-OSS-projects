[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44780719",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7301#issuecomment-44780719",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7301",
    "id": 44780719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzgwNzE5",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-01T15:43:41Z",
    "updated_at": "2014-06-01T15:43:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Care to elaborate with an example? To me df.groupby('a').groupby('b') should be equivalent to df.groupby(['a, b'])\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44780794",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7301#issuecomment-44780794",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7301",
    "id": 44780794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzgwNzk0",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-01T15:47:15Z",
    "updated_at": "2014-06-01T15:51:14Z",
    "author_association": "MEMBER",
    "body": "@ywhuofu Also if you have some computations that you need to do before you do the nested groupby you can use `apply` and write a custom function:\n\n``` python\ndef top_grouper(g):\n    # do computation\n    return g.groupby('b')\n\ndf.groupby('a').apply(top_grouper)\n```\n\nPlease provide, at the bare minimum, a small bit of background of your problem and the reason(s) _why_ you can't do what you want with the current set of tools along with an example of what you'd like to be able to do. Otherwise, we can't really help you.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/77760709",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7301#issuecomment-77760709",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7301",
    "id": 77760709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzYwNzA5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-08T16:51:52Z",
    "updated_at": "2015-03-08T16:51:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing - not enough info specified\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/366151274",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7301#issuecomment-366151274",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7301",
    "id": 366151274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjE1MTI3NA==",
    "user": {
      "login": "smcinerney",
      "id": 1179309,
      "node_id": "MDQ6VXNlcjExNzkzMDk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1179309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smcinerney",
      "html_url": "https://github.com/smcinerney",
      "followers_url": "https://api.github.com/users/smcinerney/followers",
      "following_url": "https://api.github.com/users/smcinerney/following{/other_user}",
      "gists_url": "https://api.github.com/users/smcinerney/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smcinerney/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smcinerney/subscriptions",
      "organizations_url": "https://api.github.com/users/smcinerney/orgs",
      "repos_url": "https://api.github.com/users/smcinerney/repos",
      "events_url": "https://api.github.com/users/smcinerney/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smcinerney/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-16T05:58:42Z",
    "updated_at": "2018-02-16T05:58:42Z",
    "author_association": "NONE",
    "body": "I'm not the OP, but:\r\na) `df.groupby('a').groupby('b')` is a syntax error (docbug to show the right way?)\r\nb) There are things wrong with nested groupby using `df.groupby(...).apply(top_grouper)`.\r\nEven though they are separate functions, you can't avoid the result being a MultiIndex with the levels munged together, which you then have to manually extricate. Also,\r\nb2) inside your custom function you need to use e.g.`head(1)` instead of `agg()` to prevent getting an unwanted default index 0,1,2... on the series and needing a slow call to `.reset_index()`. That unwanted default index then also gets munged into the unwanted MultiIndex."
  }
]
