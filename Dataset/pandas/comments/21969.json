[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/406110416",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21969#issuecomment-406110416",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21969",
    "id": 406110416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjExMDQxNg==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-18T23:59:05Z",
    "updated_at": "2018-07-18T23:59:05Z",
    "author_association": "MEMBER",
    "body": "@noob-saibot : Can you add a reference to the old issue?\r\n\r\ncc @jreback : Is it intended to drop `NA` from rows as well?  Or is this a regression?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/406180971",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21969#issuecomment-406180971",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21969",
    "id": 406180971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjE4MDk3MQ==",
    "user": {
      "login": "noob-saibot",
      "id": 16753439,
      "node_id": "MDQ6VXNlcjE2NzUzNDM5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16753439?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noob-saibot",
      "html_url": "https://github.com/noob-saibot",
      "followers_url": "https://api.github.com/users/noob-saibot/followers",
      "following_url": "https://api.github.com/users/noob-saibot/following{/other_user}",
      "gists_url": "https://api.github.com/users/noob-saibot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noob-saibot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noob-saibot/subscriptions",
      "organizations_url": "https://api.github.com/users/noob-saibot/orgs",
      "repos_url": "https://api.github.com/users/noob-saibot/repos",
      "events_url": "https://api.github.com/users/noob-saibot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noob-saibot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-19T07:25:15Z",
    "updated_at": "2018-07-19T07:25:46Z",
    "author_association": "NONE",
    "body": "@gfyoung [issue 3729](https://github.com/pandas-dev/pandas/issues/3729)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/440324188",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21969#issuecomment-440324188",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21969",
    "id": 440324188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDMyNDE4OA==",
    "user": {
      "login": "neomis",
      "id": 15381645,
      "node_id": "MDQ6VXNlcjE1MzgxNjQ1",
      "avatar_url": "https://avatars0.githubusercontent.com/u/15381645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/neomis",
      "html_url": "https://github.com/neomis",
      "followers_url": "https://api.github.com/users/neomis/followers",
      "following_url": "https://api.github.com/users/neomis/following{/other_user}",
      "gists_url": "https://api.github.com/users/neomis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/neomis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/neomis/subscriptions",
      "organizations_url": "https://api.github.com/users/neomis/orgs",
      "repos_url": "https://api.github.com/users/neomis/repos",
      "events_url": "https://api.github.com/users/neomis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/neomis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T15:56:07Z",
    "updated_at": "2018-11-20T15:56:07Z",
    "author_association": "NONE",
    "body": "I'm also experiencing this issue in 0.23.4 with an additional snag.  If you set dropna=False it will add nonexistent rows to the output table.\r\n```python\r\nimport pandas as pd\r\nfrom numpy import nan\r\ndata_set = [\r\n    {'x': 0, 'y': 0, 'parameter_id': 'a', 'result_value': 3.0},\r\n    {'x': 0, 'y': 0, 'parameter_id': 'b', 'result_value': 1.0},\r\n    {'x': 0, 'y': 0, 'parameter_id': 'c', 'result_value': 3.0},\r\n    {'x': 0, 'y': 0, 'parameter_id': 'd', 'result_value': nan},\r\n    {'x': 0, 'y': 1, 'parameter_id': 'a', 'result_value': 1.0},\r\n    {'x': 0, 'y': 1, 'parameter_id': 'b', 'result_value': 3.0},\r\n    {'x': 0, 'y': 1, 'parameter_id': 'c', 'result_value': nan},\r\n    {'x': 0, 'y': 1, 'parameter_id': 'd', 'result_value': nan},\r\n    {'x': 0, 'y': 2, 'parameter_id': 'a', 'result_value': 1.0},\r\n    {'x': 0, 'y': 2, 'parameter_id': 'b', 'result_value': 3.0},\r\n    {'x': 0, 'y': 2, 'parameter_id': 'c', 'result_value': nan},\r\n    {'x': 0, 'y': 2, 'parameter_id': 'd', 'result_value': nan},\r\n    {'x': 1, 'y': 0, 'parameter_id': 'a', 'result_value': 1.0},\r\n    {'x': 1, 'y': 0, 'parameter_id': 'b', 'result_value': 3.0},\r\n    {'x': 1, 'y': 0, 'parameter_id': 'c', 'result_value': nan},\r\n    {'x': 1, 'y': 0, 'parameter_id': 'd', 'result_value': nan},\r\n    {'x': 1, 'y': 1, 'parameter_id': 'a', 'result_value': nan},\r\n    {'x': 1, 'y': 1, 'parameter_id': 'b', 'result_value': nan},\r\n    {'x': 1, 'y': 1, 'parameter_id': 'c', 'result_value': nan},\r\n    {'x': 1, 'y': 1, 'parameter_id': 'd', 'result_value': nan}]\r\n\r\ndf = pd.DataFrame(data_set)\r\ndf.pivot_table(index=['x', 'y'], columns='parameter_id',\r\n                           values='result_value', dropna=False).reset_index()\r\n\r\n\r\n```\r\nOutput\r\n```\r\nparameter_id  x  y    a    b    c   d\r\n0             0  0  3.0  1.0  3.0 NaN\r\n1             0  1  1.0  3.0  NaN NaN\r\n2             0  2  1.0  3.0  NaN NaN\r\n3             1  0  1.0  3.0  NaN NaN\r\n4             1  1  NaN  NaN  NaN NaN\r\n5             1  2  NaN  NaN  NaN NaN\r\n```\r\nExpected Output\r\n```\r\nparameter_id  x  y    a    b    c   d\r\n0             0  0  3.0  1.0  3.0 NaN\r\n1             0  1  1.0  3.0  NaN NaN\r\n2             0  2  1.0  3.0  NaN NaN\r\n3             1  0  1.0  3.0  NaN NaN\r\n4             1  1  NaN  NaN  NaN NaN\r\n```"
  }
]
