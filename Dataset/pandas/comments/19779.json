[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/366838660",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-366838660",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 366838660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjgzODY2MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-20T01:05:18Z",
    "updated_at": "2018-02-20T01:05:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "from ``(pandas) bash-3.2$ more asv_bench/benchmarks/io/excel.py ``\r\n```\r\ndef setup(...):\r\n      ....\r\n        self.bio_write = BytesIO()\r\n        self.bio_write.seek(0)\r\n        self.writer_write = ExcelWriter(self.bio_write, engine=engine)\r\n\r\n    def time_read_excel(self, engine):\r\n        read_excel(self.bio_read)\r\n\r\n    def time_write_excel(self, engine):\r\n        self.df.to_excel(self.writer_write, sheet_name='Sheet1')\r\n        self.writer_write.save()\r\n```\r\n\r\nI think the ``time_write_excel`` should have the ``.writer_write`` setup I think."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/367313012",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-367313012",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 367313012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzMxMzAxMg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-21T12:38:31Z",
    "updated_at": "2018-02-21T12:38:31Z",
    "author_association": "MEMBER",
    "body": "If it is defined in the setup function (as it is now), it should be available in the benchmark function. It would be strange that this solves it."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368464685",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-368464685",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 368464685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODQ2NDY4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-26T11:01:28Z",
    "updated_at": "2018-02-26T11:01:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "its passing 1 our of n times: https://travis-ci.org/pandas-dev/pandas-ci/jobs/345996588"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368464744",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-368464744",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 368464744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODQ2NDc0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-26T11:01:41Z",
    "updated_at": "2018-02-26T11:01:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @mroeschke @WillAyd if you have any ideas"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368572493",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-368572493",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 368572493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODU3MjQ5Mw==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-26T17:02:11Z",
    "updated_at": "2018-02-26T17:02:11Z",
    "author_association": "MEMBER",
    "body": "Perhaps we should be explicitly closing the `BytesIO` objects that are getting created in a `teardown`? Due to the intermittency of it I'm wondering if the GC is taking an pass at closing those for us, but getting tripped up with the parallelized execution that asv provides"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368588688",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-368588688",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 368588688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODU4ODY4OA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-26T17:51:57Z",
    "updated_at": "2018-02-26T17:51:57Z",
    "author_association": "MEMBER",
    "body": "Looks to be specifically a problem with the `time_read_excel` benchmark.\r\n\r\n```\r\nFile \"/home/travis/build/pandas-dev/pandas-ci/pandas/asv_bench/benchmarks/io/excel.py\", line 29, in time_read_excel\r\n                    read_excel(self.bio_read)\r\nFile \"/home/travis/miniconda3/envs/pandas/lib/python3.6/site-packages/pandas-0.23.0.dev0+381.g8f1dfa74e-py3.6-linux-x86_64.egg/pandas/util/_decorators.py\", line 172, in wrapper\r\n                    return func(*args, **kwargs)\r\nFile \"/home/travis/miniconda3/envs/pandas/lib/python3.6/site-packages/pandas-0.23.0.dev0+381.g8f1dfa74e-py3.6-linux-x86_64.egg/pandas/util/_decorators.py\", line 172, in wrapper\r\n                    return func(*args, **kwargs)\r\nFile \"/home/travis/miniconda3/envs/pandas/lib/python3.6/site-packages/pandas-0.23.0.dev0+381.g8f1dfa74e-py3.6-linux-x86_64.egg/pandas/io/excel.py\", line 315, in read_excel\r\n                    io = ExcelFile(io, engine=engine)\r\nFile \"/home/travis/miniconda3/envs/pandas/lib/python3.6/site-packages/pandas-0.23.0.dev0+381.g8f1dfa74e-py3.6-linux-x86_64.egg/pandas/io/excel.py\", line 391, in __init__\r\n                    self.book = xlrd.open_workbook(file_contents=data)\r\nFile \"/home/travis/miniconda3/envs/pandas/lib/python3.6/site-packages/xlrd/__init__.py\", line 116, in open_workbook\r\n                    with open(filename, \"rb\") as f:\r\n                TypeError: expected str, bytes or os.PathLike object, not NoneType\r\n```\r\n\r\nDigging into `xlrd.open_workbook` for the `file_contents` variable.\r\nhttp://www.lexicon.net/sjmachin/xlrd.html#xlrd.open_workbook-function\r\n> file_contents\r\n... as a string or an mmap.mmap object or some other behave-alike object. If file_contents is supplied, filename will not be used, except (possibly) in messages.\r\n\r\nLooks like `filename=None` is the default as well, but for some reason its being used despite the note above?\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368708752",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-368708752",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 368708752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODcwODc1Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T01:02:45Z",
    "updated_at": "2018-02-27T01:02:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "its funny because it has worked at times. really odd. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368759359",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-368759359",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 368759359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODc1OTM1OQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T06:14:21Z",
    "updated_at": "2018-02-27T06:14:21Z",
    "author_association": "MEMBER",
    "body": "While it doesn't explain *why* this is happening I think if we add `io.seek(0)` just before the below line it will \"fix\" the issue at hand (at least it did locally for me):\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/74dbfd0aa9b44936a4db7969bfe25f526fef53ce/pandas/io/excel.py#L390"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/368819965",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-368819965",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 368819965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODgxOTk2NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T10:16:35Z",
    "updated_at": "2018-02-27T10:16:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u replicate this in a test? (and then fix)?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/374645722",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-374645722",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 374645722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDY0NTcyMg==",
    "user": {
      "login": "mcrot",
      "id": 9113541,
      "node_id": "MDQ6VXNlcjkxMTM1NDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9113541?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcrot",
      "html_url": "https://github.com/mcrot",
      "followers_url": "https://api.github.com/users/mcrot/followers",
      "following_url": "https://api.github.com/users/mcrot/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcrot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcrot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcrot/subscriptions",
      "organizations_url": "https://api.github.com/users/mcrot/orgs",
      "repos_url": "https://api.github.com/users/mcrot/repos",
      "events_url": "https://api.github.com/users/mcrot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcrot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T15:41:52Z",
    "updated_at": "2018-03-20T15:41:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi all,\r\n\r\nI'm completely new to pandas development and I've just prepared a working environment following the guide [Contributing to pandas](https://pandas-docs.github.io/pandas-docs-travis/contributing.html), because I wanted to contribute to some other issue. So I'm not fully sure whether this is the right place in order to address the following test failure, but for me it seems to be related to #19926:\r\n\r\nWhen running the tests for `pandas.io.excel` \r\n```bash\r\npytest pandas/tests/io/test_excel.py\r\n```\r\nit comes up with three failures (because of 3 parameters) for the test method `TestXlrdReader.test_read_from_http_url`:\r\n\r\n```pytest\r\nF\r\npandas/tests/io/test_excel.py:557 (TestXlrdReader.test_read_from_http_url[.xls])\r\nself = <pandas.tests.io.test_excel.TestXlrdReader object at 0x7fc1d823a1d0>\r\next = '.xls'\r\n\r\n    @tm.network\r\n    def test_read_from_http_url(self, ext):\r\n        url = ('https://raw.github.com/pandas-dev/pandas/master/'\r\n               'pandas/tests/io/data/test1' + ext)\r\n>       url_table = read_excel(url)\r\n\r\ntest_excel.py:562: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n../../util/_decorators.py:172: in wrapper\r\n    return func(*args, **kwargs)\r\n../../util/_decorators.py:172: in wrapper\r\n    return func(*args, **kwargs)\r\n../../io/excel.py:315: in read_excel\r\n    io = ExcelFile(io, engine=engine)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = <pandas.io.excel.ExcelFile object at 0x7fc1d82d50f0>\r\nio = <http.client.HTTPResponse object at 0x7fc1d81e3320>, kwds = {}\r\nerr_msg = 'Install xlrd >= 0.9.0 for Excel support'\r\nxlrd = <module 'xlrd' from '/home/mcrot/miniconda3/envs/pandas-dev/lib/python3.6/site-packages/xlrd/__init__.py'>\r\nver = (1, 1), engine = None\r\n\r\n    def __init__(self, io, **kwds):\r\n    \r\n        err_msg = \"Install xlrd >= 0.9.0 for Excel support\"\r\n    \r\n        try:\r\n            import xlrd\r\n        except ImportError:\r\n            raise ImportError(err_msg)\r\n        else:\r\n            ver = tuple(map(int, xlrd.__VERSION__.split(\".\")[:2]))\r\n            if ver < (0, 9):  # pragma: no cover\r\n                raise ImportError(err_msg +\r\n                                  \". Current version \" + xlrd.__VERSION__)\r\n    \r\n        # could be a str, ExcelFile, Book, etc.\r\n        self.io = io\r\n        # Always a string\r\n        self._io = _stringify_path(io)\r\n    \r\n        engine = kwds.pop('engine', None)\r\n    \r\n        if engine is not None and engine != 'xlrd':\r\n            raise ValueError(\"Unknown engine: {engine}\".format(engine=engine))\r\n    \r\n        # If io is a url, want to keep the data as bytes so can't pass\r\n        # to get_filepath_or_buffer()\r\n        if _is_url(self._io):\r\n            io = _urlopen(self._io)\r\n        elif not isinstance(self.io, (ExcelFile, xlrd.Book)):\r\n            io, _, _, _ = get_filepath_or_buffer(self._io)\r\n    \r\n        if engine == 'xlrd' and isinstance(io, xlrd.Book):\r\n            self.book = io\r\n        elif not isinstance(io, xlrd.Book) and hasattr(io, \"read\"):\r\n            # N.B. xlrd.Book has a read attribute too\r\n            if hasattr(io, 'seek'):\r\n                # GH 19779\r\n>               io.seek(0)\r\nE               io.UnsupportedOperation: seek\r\n\r\n../../io/excel.py:392: UnsupportedOperation\r\n```\r\nIt seems like the HTTPResponse object returned by `urllib.request.urlopen` does not support seeking, although the `seek()` method is available. \r\n\r\nThis fixes the tests for me:\r\n\r\n```diff\r\n@@ -10,6 +10,7 @@ import os\r\n import abc\r\n import warnings\r\n import numpy as np\r\n+from http.client import HTTPResponse\r\n \r\n from pandas.core.dtypes.common import (\r\n     is_integer, is_float,\r\n@@ -387,7 +388,9 @@ class ExcelFile(object):\r\n             self.book = io\r\n         elif not isinstance(io, xlrd.Book) and hasattr(io, \"read\"):\r\n             # N.B. xlrd.Book has a read attribute too\r\n-            if hasattr(io, 'seek'):\r\n+            #\r\n+            # http.client.HTTPResponse.seek() -> UnsupportedOperation exception\r\n+            if not isinstance(io, HTTPResponse) and hasattr(io, 'seek'):\r\n                 # GH 19779\r\n                 io.seek(0)\r\n```\r\n\r\nShould I create a pull request here or a new issue or do I miss something in my setup such that the tests can't run?\r\n\r\nMy currently installed versions are:\r\n\r\n```\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: 01882ba5b4c21b0caf2e6b9279fb01967aa5d650\r\npython: 3.6.4.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.4.0-116-generic\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: de_DE.UTF-8\r\nLOCALE: de_DE.UTF-8\r\n\r\npandas: 0.23.0.dev0+657.g01882ba\r\npytest: 3.4.2\r\npip: 9.0.1\r\nsetuptools: 38.5.1\r\nCython: 0.27.3\r\nnumpy: 1.14.2\r\nscipy: 1.0.0\r\npyarrow: 0.8.0\r\nxarray: 0.10.2\r\nIPython: 6.2.1\r\nsphinx: 1.7.1\r\npatsy: 0.5.0\r\ndateutil: 2.7.0\r\npytz: 2018.3\r\nblosc: None\r\nbottleneck: 1.2.1\r\ntables: 3.4.2\r\nnumexpr: 2.6.4\r\nfeather: 0.4.0\r\nmatplotlib: 2.2.2\r\nopenpyxl: 2.5.0\r\nxlrd: 1.1.0\r\nxlwt: 1.3.0\r\nxlsxwriter: 1.0.2\r\nlxml: 4.1.1\r\nbs4: 4.6.0\r\nhtml5lib: 1.0.1\r\nsqlalchemy: 1.2.5\r\npymysql: 0.8.0\r\npsycopg2: None\r\njinja2: 2.10\r\ns3fs: 0.1.3\r\nfastparquet: 0.1.4\r\npandas_gbq: None\r\npandas_datareader: None\r\n```\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/374647772",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19779#issuecomment-374647772",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19779",
    "id": 374647772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDY0Nzc3Mg==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T15:47:01Z",
    "updated_at": "2018-03-20T15:47:01Z",
    "author_association": "MEMBER",
    "body": "@mcrot I would suggest that you open a new issue for that and then submit a PR referencing the issue"
  }
]
