[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/200870367",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12709#issuecomment-200870367",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12709",
    "id": 200870367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDg3MDM2Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T14:52:27Z",
    "updated_at": "2016-03-24T14:52:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "What you are doing is pretty odd (generating a random index). You need to use built-in functions.\n\n```\nIn [125]: nsim = 10000\n\nIn [126]: ncol = 3000\n\nIn [127]: index=np.random.randint(0,100,nsim)\n\nIn [128]: values=np.random.normal(size=(nsim, ncol))\n\nIn [129]: df=pd.DataFrame(index=index,data=values)\n\nIn [119]: r1 = df.groupby(lambda x:x,sort=False).idxmax()\nIn [121]: r2 = df.groupby(lambda x:x,sort=False).agg(np.argmax)\n\nIn [124]: r2.astype(int).equals(r1)\nOut[124]: True\n\nIn [130]: %timeit df.groupby(lambda x:x,sort=False).idxmax()\n1 loop, best of 3: 794 ms per loop\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/200902930",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12709#issuecomment-200902930",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12709",
    "id": 200902930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDkwMjkzMA==",
    "user": {
      "login": "enzoFerrazzano",
      "id": 18052831,
      "node_id": "MDQ6VXNlcjE4MDUyODMx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/18052831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/enzoFerrazzano",
      "html_url": "https://github.com/enzoFerrazzano",
      "followers_url": "https://api.github.com/users/enzoFerrazzano/followers",
      "following_url": "https://api.github.com/users/enzoFerrazzano/following{/other_user}",
      "gists_url": "https://api.github.com/users/enzoFerrazzano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/enzoFerrazzano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/enzoFerrazzano/subscriptions",
      "organizations_url": "https://api.github.com/users/enzoFerrazzano/orgs",
      "repos_url": "https://api.github.com/users/enzoFerrazzano/repos",
      "events_url": "https://api.github.com/users/enzoFerrazzano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/enzoFerrazzano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T16:03:50Z",
    "updated_at": "2016-03-24T16:05:47Z",
    "author_association": "NONE",
    "body": "Hi, thank you for you quick reply!\nI am sorry, In my example I generated the wrong behaviour.\nWhat I need is rather\n\ndf.groupby(lambda x:x,sort=False).agg(lambda x: (x.values).argmax())\n\nthat is, return the position within the group of the maximum.\n\nNonetheless, the difference of speed among the two versions is still very large.\nRegards,\nEnzo\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/200909982",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12709#issuecomment-200909982",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12709",
    "id": 200909982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDkwOTk4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T16:24:44Z",
    "updated_at": "2016-03-24T16:24:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "you are still doing a pure-python operation (if anything its worse now).\n\ntry this, will give you an indexer into the frame.\n`df.reset_index(drop=True).groupby(df.index,sort=False).idxmax()`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/201744855",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12709#issuecomment-201744855",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12709",
    "id": 201744855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTc0NDg1NQ==",
    "user": {
      "login": "enzoFerrazzano",
      "id": 18052831,
      "node_id": "MDQ6VXNlcjE4MDUyODMx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/18052831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/enzoFerrazzano",
      "html_url": "https://github.com/enzoFerrazzano",
      "followers_url": "https://api.github.com/users/enzoFerrazzano/followers",
      "following_url": "https://api.github.com/users/enzoFerrazzano/following{/other_user}",
      "gists_url": "https://api.github.com/users/enzoFerrazzano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/enzoFerrazzano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/enzoFerrazzano/subscriptions",
      "organizations_url": "https://api.github.com/users/enzoFerrazzano/orgs",
      "repos_url": "https://api.github.com/users/enzoFerrazzano/repos",
      "events_url": "https://api.github.com/users/enzoFerrazzano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/enzoFerrazzano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-26T09:37:55Z",
    "updated_at": "2016-03-26T09:37:55Z",
    "author_association": "NONE",
    "body": "Great, that works like a charm!\nThank you!\n"
  }
]
