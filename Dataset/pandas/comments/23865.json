[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/441234920",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23865#issuecomment-441234920",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23865",
    "id": 441234920,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTIzNDkyMA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-23T12:57:42Z",
    "updated_at": "2018-11-23T12:57:42Z",
    "author_association": "MEMBER",
    "body": "Can you produce a more minimal example to reproduce the error? I'm assuming `pd.cut` isn't related to the issue at all here but tough to tell from example(s) provided"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/441246392",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23865#issuecomment-441246392",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23865",
    "id": 441246392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTI0NjM5Mg==",
    "user": {
      "login": "mojones",
      "id": 893512,
      "node_id": "MDQ6VXNlcjg5MzUxMg==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/893512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mojones",
      "html_url": "https://github.com/mojones",
      "followers_url": "https://api.github.com/users/mojones/followers",
      "following_url": "https://api.github.com/users/mojones/following{/other_user}",
      "gists_url": "https://api.github.com/users/mojones/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mojones/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mojones/subscriptions",
      "organizations_url": "https://api.github.com/users/mojones/orgs",
      "repos_url": "https://api.github.com/users/mojones/repos",
      "events_url": "https://api.github.com/users/mojones/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mojones/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-23T13:52:29Z",
    "updated_at": "2018-11-23T13:52:29Z",
    "author_association": "NONE",
    "body": "Here's the most minimal example I think I can come up with:\r\n\r\n```python\r\ndf = pd.DataFrame({'foo' : [1,1,3,3], 'bar' : ['A', 'B', 'A', 'B']})\r\n\r\n# gives zero count for the (1, 2] bin as expected\r\ndf.groupby(pd.cut(df['foo'], bins=[0,1,2,3])).size()\r\n\r\n# the (1,2] bin is not shown\r\ndf.groupby([pd.cut(df['foo'], bins=[0,1,2,3]), 'bar']).size()\r\n```\r\n\r\ndoes this make sense? I can't think of a meaningful example that doesn't use  `pd.cut`, because that's the only way that we get index labels that aren't directly derived from the data. I.e. if we just group on two columns, then every label is in the data at least once by definition, so will appear at least once in the index."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/441262748",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23865#issuecomment-441262748",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23865",
    "id": 441262748,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTI2Mjc0OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-23T15:03:57Z",
    "updated_at": "2018-11-23T15:03:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "i think this is specific to logic in .size(). welcome investigation.\r\n\r\n```\r\nIn [8]: df.groupby([pd.cut(df['foo'], bins=[0,1,2,3]), 'bar']).count()\r\nOut[8]: \r\n            foo\r\nfoo    bar     \r\n(0, 1] A    1.0\r\n       B    1.0\r\n(1, 2] A    NaN\r\n       B    NaN\r\n(2, 3] A    1.0\r\n       B    1.0\r\n\r\nIn [9]: df.groupby([pd.cut(df['foo'], bins=[0,1,2,3]), 'bar']).size()\r\nOut[9]: \r\nfoo     bar\r\n(0, 1]  A      1\r\n        B      1\r\n(2, 3]  A      1\r\n        B      1\r\ndtype: int64\r\n\r\n```"
  }
]
