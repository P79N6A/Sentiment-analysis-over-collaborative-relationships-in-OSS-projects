[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/318419976",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-318419976",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 318419976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODQxOTk3Ng==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-27T16:47:40Z",
    "updated_at": "2017-07-27T16:47:40Z",
    "author_association": "MEMBER",
    "body": "@Khris777 : Thanks for the report!  I can address the `read_csv` part in that we don't use a default encoding for that part (per the docs), so you would be expected to explicitly specify `UTF8`.  As for `to_csv`, that does seem a little strange...\r\n\r\nFor reference, could you show us the output of your `to_csv` calls?  You can do that by just typing `df.to_csv()` without a filepath, and it will print out the CSV file to your console / terminal."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/318567197",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-318567197",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 318567197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODU2NzE5Nw==",
    "user": {
      "login": "Khris777",
      "id": 7723080,
      "node_id": "MDQ6VXNlcjc3MjMwODA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7723080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Khris777",
      "html_url": "https://github.com/Khris777",
      "followers_url": "https://api.github.com/users/Khris777/followers",
      "following_url": "https://api.github.com/users/Khris777/following{/other_user}",
      "gists_url": "https://api.github.com/users/Khris777/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Khris777/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Khris777/subscriptions",
      "organizations_url": "https://api.github.com/users/Khris777/orgs",
      "repos_url": "https://api.github.com/users/Khris777/repos",
      "events_url": "https://api.github.com/users/Khris777/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Khris777/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-28T05:57:11Z",
    "updated_at": "2017-07-28T05:58:10Z",
    "author_association": "NONE",
    "body": "The output of the `to_csv()` calls looks correct:\r\n\r\n```\r\ndf1.to_csv()\r\nOut[9]: ',L1\\n0,AAAAA\\n1,BBBBB\\n2,TTTTT\\n3,77777\\n'\r\n\r\ndf2.to_csv()\r\nOut[10]: ',L2\\n0,AAAAA\\n1,ÄÄÄÄÄ\\n2,ßßßßß\\n3,聞聞聞聞聞\\n'\r\n```\r\n\r\nRegarding the `read_csv()` part it's like this:\r\n\r\nI can read `test1.csv` and `test3.csv` fine, regardless of specifying `encoding='utf8'` or not.\r\n\r\nLikewise I can not read `test2.csv` at all, regardless of specifying `encoding='utf8'` or not. The error message is returned in both cases.\r\n\r\nThe problem is only solved by explicitely specifying `encoding='utf8'` in `to_csv()`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/318571515",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-318571515",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 318571515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODU3MTUxNQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-28T06:26:18Z",
    "updated_at": "2017-07-28T06:26:18Z",
    "author_association": "MEMBER",
    "body": "@Khris777 : Interesting!  That's definitely a little unusual.  Do me a favor, could you copy + paste that output into your original issue description?  That will making reviewing this a little easier.\r\n\r\nBTW, you are more than welcome to investigate what's going on here and submit a PR to fix this admittedly strange behavior."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/318585596",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-318585596",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 318585596,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODU4NTU5Ng==",
    "user": {
      "login": "Khris777",
      "id": 7723080,
      "node_id": "MDQ6VXNlcjc3MjMwODA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7723080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Khris777",
      "html_url": "https://github.com/Khris777",
      "followers_url": "https://api.github.com/users/Khris777/followers",
      "following_url": "https://api.github.com/users/Khris777/following{/other_user}",
      "gists_url": "https://api.github.com/users/Khris777/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Khris777/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Khris777/subscriptions",
      "organizations_url": "https://api.github.com/users/Khris777/orgs",
      "repos_url": "https://api.github.com/users/Khris777/repos",
      "events_url": "https://api.github.com/users/Khris777/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Khris777/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-28T07:46:59Z",
    "updated_at": "2017-07-28T07:46:59Z",
    "author_association": "NONE",
    "body": "@gfyoung : Can you reproduce the problem on your side?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/318589794",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-318589794",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 318589794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODU4OTc5NA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-28T08:09:33Z",
    "updated_at": "2017-07-28T08:09:33Z",
    "author_association": "MEMBER",
    "body": "@Khris777 : Yes, I can."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/334997818",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-334997818",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 334997818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDk5NzgxOA==",
    "user": {
      "login": "Licht-T",
      "id": 1455030,
      "node_id": "MDQ6VXNlcjE0NTUwMzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1455030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Licht-T",
      "html_url": "https://github.com/Licht-T",
      "followers_url": "https://api.github.com/users/Licht-T/followers",
      "following_url": "https://api.github.com/users/Licht-T/following{/other_user}",
      "gists_url": "https://api.github.com/users/Licht-T/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Licht-T/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Licht-T/subscriptions",
      "organizations_url": "https://api.github.com/users/Licht-T/orgs",
      "repos_url": "https://api.github.com/users/Licht-T/repos",
      "events_url": "https://api.github.com/users/Licht-T/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Licht-T/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-08T10:42:09Z",
    "updated_at": "2017-10-08T10:57:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gfyoung When `encoding=None`, write a file by `csv` library.\r\nhttps://github.com/pandas-dev/pandas/blob/master/pandas/io/formats/format.py#L1630\r\n\r\nThe `csv` library seems to write a file by system default encoding, at least on Windows.\r\nSo I cannot reproduce the example on Mac which default language is Japanese, but can do on Windows 10 Japanese edition.\r\nAlso I found that we can read the file by the system default encoding.\r\n\r\n### Input\r\n```python\r\nimport pandas as pd\r\n\r\nL2 = [\"AAAAA\",\"ÄÄÄÄÄ\",\"ßßßßß\",\"聞聞聞聞聞\"]\r\ndf2 = pd.DataFrame({\"L2\":L2})\r\ndf2.to_csv(\"test2.csv\")\r\n\r\n# Japanese Windows default encoding is cp932\r\nprint(pd.read_csv(\"test2.csv\", encoding='cp932'))\r\n```\r\n\r\n### Output\r\n```python\r\n   Unnamed: 0     L2\r\n0           0  AAAAA\r\n1           1  ?????\r\n2           2  ?????\r\n3           3  聞聞聞聞聞\r\n```\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335036961",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-335036961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 335036961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTAzNjk2MQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-08T20:42:09Z",
    "updated_at": "2017-10-08T20:42:09Z",
    "author_association": "MEMBER",
    "body": "@Licht-T : That's true, so are you suggesting then that workaround is specifying the correct encoding since `UTF8` is evidently insufficient?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/366754936",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-366754936",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 366754936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njc1NDkzNg==",
    "user": {
      "login": "Utumno",
      "id": 1365079,
      "node_id": "MDQ6VXNlcjEzNjUwNzk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1365079?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Utumno",
      "html_url": "https://github.com/Utumno",
      "followers_url": "https://api.github.com/users/Utumno/followers",
      "following_url": "https://api.github.com/users/Utumno/following{/other_user}",
      "gists_url": "https://api.github.com/users/Utumno/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Utumno/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Utumno/subscriptions",
      "organizations_url": "https://api.github.com/users/Utumno/orgs",
      "repos_url": "https://api.github.com/users/Utumno/repos",
      "events_url": "https://api.github.com/users/Utumno/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Utumno/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T17:15:11Z",
    "updated_at": "2018-02-19T17:15:11Z",
    "author_association": "NONE",
    "body": "This is a docs bug on windows. [pandas.DataFrame.to_csv](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html) states:\r\n\r\n        encoding : string, optional\r\n            A string representing the encoding to use in the output file,\r\n            defaults to 'ascii' on Python 2 and 'utf-8' on Python 3.\r\n\r\nwhile in fact in windows, as discussed [above](https://github.com/pandas-dev/pandas/issues/17097#issuecomment-334997818) pandas uses system default encoding (so in my machine `cp1253`). This can lead to data corruption if one on python 3 trusts the docs and does not specify `encoding='utf-8'` as this is the stated default"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/366755633",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-366755633",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 366755633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njc1NTYzMw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T17:17:47Z",
    "updated_at": "2018-02-19T17:17:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you open a new issue for that?\n\nOn Mon, Feb 19, 2018 at 11:15 AM, Utumno <notifications@github.com> wrote:\n\n> This is a docs bug on windows. pandas.DataFrame.to_csv\n> <https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html>\n> states:\n>\n>     encoding : string, optional\n>         A string representing the encoding to use in the output file,\n>         defaults to 'ascii' on Python 2 and 'utf-8' on Python 3.\n>\n> while in fact in windows, as discussed above\n> <https://github.com/pandas-dev/pandas/issues/17097#issuecomment-334997818>\n> pandas uses system default encoding (so in my machine cp1253). This can\n> lead to data corruption if one on python 3 trusts the docs and does not\n> specify encoding='utf-8' as this is the stated default\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/17097#issuecomment-366754936>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIreeV94bOxkNlbm6hvesTfVnilcLks5tWawkgaJpZM4OlJCX>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/366756608",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-366756608",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 366756608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njc1NjYwOA==",
    "user": {
      "login": "Utumno",
      "id": 1365079,
      "node_id": "MDQ6VXNlcjEzNjUwNzk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1365079?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Utumno",
      "html_url": "https://github.com/Utumno",
      "followers_url": "https://api.github.com/users/Utumno/followers",
      "following_url": "https://api.github.com/users/Utumno/following{/other_user}",
      "gists_url": "https://api.github.com/users/Utumno/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Utumno/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Utumno/subscriptions",
      "organizations_url": "https://api.github.com/users/Utumno/orgs",
      "repos_url": "https://api.github.com/users/Utumno/repos",
      "events_url": "https://api.github.com/users/Utumno/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Utumno/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T17:21:09Z",
    "updated_at": "2018-02-19T17:21:09Z",
    "author_association": "NONE",
    "body": "Will do if needed I just realized though that this may be fixed in pandas 21 - still using `0.20.3` - let me test with newer one"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/366764851",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17097#issuecomment-366764851",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17097",
    "id": 366764851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Njc2NDg1MQ==",
    "user": {
      "login": "Utumno",
      "id": 1365079,
      "node_id": "MDQ6VXNlcjEzNjUwNzk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1365079?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Utumno",
      "html_url": "https://github.com/Utumno",
      "followers_url": "https://api.github.com/users/Utumno/followers",
      "following_url": "https://api.github.com/users/Utumno/following{/other_user}",
      "gists_url": "https://api.github.com/users/Utumno/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Utumno/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Utumno/subscriptions",
      "organizations_url": "https://api.github.com/users/Utumno/orgs",
      "repos_url": "https://api.github.com/users/Utumno/repos",
      "events_url": "https://api.github.com/users/Utumno/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Utumno/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T17:54:39Z",
    "updated_at": "2018-02-19T17:54:39Z",
    "author_association": "NONE",
    "body": "Yep no longer an issue on pandas `0.22.0` - sorry for the noise"
  }
]
