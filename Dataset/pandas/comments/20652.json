[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/380307744",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20652#issuecomment-380307744",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20652",
    "id": 380307744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDMwNzc0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T02:37:02Z",
    "updated_at": "2018-04-11T02:37:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah this is correct.\r\n\r\n```\r\nIn [7]: df.apply(lambda x: x.asof(pd.DatetimeIndex(['2018-02-27 09:03:30','2018-02-27 09:04:30'])))\r\nOut[7]: \r\n                            a   b\r\n2018-02-27 09:03:30 -0.000956 NaN\r\n2018-02-27 09:04:30 -0.000573 NaN\r\n```\r\nwelcome for you to have a look see and PR even better!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/380308953",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20652#issuecomment-380308953",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20652",
    "id": 380308953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDMwODk1Mw==",
    "user": {
      "login": "nickos556",
      "id": 8463492,
      "node_id": "MDQ6VXNlcjg0NjM0OTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8463492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickos556",
      "html_url": "https://github.com/nickos556",
      "followers_url": "https://api.github.com/users/nickos556/followers",
      "following_url": "https://api.github.com/users/nickos556/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickos556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickos556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickos556/subscriptions",
      "organizations_url": "https://api.github.com/users/nickos556/orgs",
      "repos_url": "https://api.github.com/users/nickos556/repos",
      "events_url": "https://api.github.com/users/nickos556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickos556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T02:44:58Z",
    "updated_at": "2018-04-11T02:44:58Z",
    "author_association": "NONE",
    "body": "Ok @jreback will try and take a look over the weekend. Also thanks for everything u do for pandas/open source. Its very much appreciated :)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/387480093",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20652#issuecomment-387480093",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20652",
    "id": 387480093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzQ4MDA5Mw==",
    "user": {
      "login": "Licht-T",
      "id": 1455030,
      "node_id": "MDQ6VXNlcjE0NTUwMzA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1455030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Licht-T",
      "html_url": "https://github.com/Licht-T",
      "followers_url": "https://api.github.com/users/Licht-T/followers",
      "following_url": "https://api.github.com/users/Licht-T/following{/other_user}",
      "gists_url": "https://api.github.com/users/Licht-T/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Licht-T/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Licht-T/subscriptions",
      "organizations_url": "https://api.github.com/users/Licht-T/orgs",
      "repos_url": "https://api.github.com/users/Licht-T/repos",
      "events_url": "https://api.github.com/users/Licht-T/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Licht-T/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-08T17:29:36Z",
    "updated_at": "2018-05-08T17:29:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I also think this behavior is weird, but is it really a bug? In docs,\r\n> The last **row** without any NaN is taken\r\n\r\nhttp://pandas.pydata.org/pandas-docs/version/0.19.0/generated/pandas.DataFrame.asof.html"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/388902562",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20652#issuecomment-388902562",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20652",
    "id": 388902562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODkwMjU2Mg==",
    "user": {
      "login": "dragosthealex",
      "id": 9272989,
      "node_id": "MDQ6VXNlcjkyNzI5ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9272989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dragosthealex",
      "html_url": "https://github.com/dragosthealex",
      "followers_url": "https://api.github.com/users/dragosthealex/followers",
      "following_url": "https://api.github.com/users/dragosthealex/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragosthealex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dragosthealex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragosthealex/subscriptions",
      "organizations_url": "https://api.github.com/users/dragosthealex/orgs",
      "repos_url": "https://api.github.com/users/dragosthealex/repos",
      "events_url": "https://api.github.com/users/dragosthealex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dragosthealex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T17:42:47Z",
    "updated_at": "2018-05-14T17:42:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "It doesn't seem like a bug. Docs specify that unless **subset** is specified, all the columns are being considered. \r\n\r\n> (or the last row without NaN considering only the subset of columns in the case of a DataFrame\r\n\r\nHowever, the phrasing might not be obvious, I'll try to improve the docs."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/389860816",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20652#issuecomment-389860816",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20652",
    "id": 389860816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg2MDgxNg==",
    "user": {
      "login": "msmarchena",
      "id": 13339773,
      "node_id": "MDQ6VXNlcjEzMzM5Nzcz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/13339773?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/msmarchena",
      "html_url": "https://github.com/msmarchena",
      "followers_url": "https://api.github.com/users/msmarchena/followers",
      "following_url": "https://api.github.com/users/msmarchena/following{/other_user}",
      "gists_url": "https://api.github.com/users/msmarchena/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/msmarchena/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msmarchena/subscriptions",
      "organizations_url": "https://api.github.com/users/msmarchena/orgs",
      "repos_url": "https://api.github.com/users/msmarchena/repos",
      "events_url": "https://api.github.com/users/msmarchena/events{/privacy}",
      "received_events_url": "https://api.github.com/users/msmarchena/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T13:11:01Z",
    "updated_at": "2018-05-17T13:11:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Now I'm confused about the expected result of the asof function. For instance, If I put 7 in the last entry of the first row\r\n\r\n        import pandas as pd   \r\n        data = \"\"\"dt,a,b\r\n        2018-02-27 09:01:00,-0.00034052907999999996,7\r\n        2018-02-27 09:02:00,-0.00019981724999999998,\r\n        2018-02-27 09:03:00,-0.0009561605,\r\n        2018-02-27 09:04:00,-0.0005727226999999999,\r\n        2018-02-27 09:05:00,-0.0006973449,4.2\"\"\"\r\n \r\n        from io import StringIO\r\n        buff = StringIO(data)\r\n        df = pd.read_csv(buff, parse_dates=['dt'])\r\n        df.set_index('dt', drop=True, inplace=True)\r\n        print(df.asof(pd.DatetimeIndex(['2018-02-27 09:03:30','2018-02-27 09:04:30'])))\r\n\r\nthe asof function  gives\r\n\r\n        #                            a   b\r\n        #2018-02-27 09:03:29 -0.000341  7.0\r\n        #2018-02-27 09:04:30 -0.000341  7.0\r\nbut\r\n\r\n         as_of_index = DatetimeIndex(['2018-02-27 09:03:30', '2018-02-27 09:04:30'])\r\n         new_result = df.apply(lambda x: x.asof(as_of_index))\r\n         print(new_result)\r\n\r\ngives\r\n\r\n         #                        a    b\r\n         #2018-02-27 09:03:30 -0.000956  7.0\r\n         #2018-02-27 09:04:30 -0.000573  7.0\r\n\r\nThese results are not supposed to be the same ?\r\n"
  }
]
