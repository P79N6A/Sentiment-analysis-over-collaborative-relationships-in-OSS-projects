[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18814071",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18814071",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18814071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODE0MDcx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-02T21:18:06Z",
    "updated_at": "2013-06-02T21:18:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "looks like u have some uint dtypes\ncan u show df.info()\n\nalso try this on master I just fixed the cause of this \n\nOn Jun 2, 2013, at 4:40 PM, Chris Fonnesbeck notifications@github.com wrote:\n\n> I have a simple longitudinal biomedical dataset that I am grouping according to the patient on which measurements are taken. Here are the first couple of groups:\n> \n> 1\n>    patient  obs  week  site  id  treat  age sex  twstrs  treatment\n> 0        1    1     0     1   1  5000U   65   F      32          1\n> 1        1    2     2     1   1  5000U   65   F      30          1\n> 2        1    3     4     1   1  5000U   65   F      24          1\n> 3        1    4     8     1   1  5000U   65   F      37          1\n> 4        1    5    12     1   1  5000U   65   F      39          1\n> 5        1    6    16     1   1  5000U   65   F      36          1\n> \n> 2\n>     patient  obs  week  site  id   treat  age sex  twstrs  treatment\n> 6         2    1     0     1   2  10000U   70   F      60          2\n> 7         2    2     2     1   2  10000U   70   F      26          2\n> 8         2    3     4     1   2  10000U   70   F      27          2\n> 9         2    4     8     1   2  10000U   70   F      41          2\n> 10        2    5    12     1   2  10000U   70   F      65          2\n> 11        2    6    16     1   2  10000U   70   F      67          2\n> However, when I try to transform these data, say by normalization, I get nonsensical results:\n> \n> normalize = lambda x: (x - x.mean())/x.std()\n> normed = cdystonia_grouped.transform(normalize)\n> normed.head(10)\n> \n> ```\n>            patient  obs  week                 site                   id  \\\n> ```\n> \n> 0 -9223372036854775808   -1    -1 -9223372036854775808 -9223372036854775808  \n> 1 -9223372036854775808    0     0 -9223372036854775808 -9223372036854775808  \n> 2 -9223372036854775808    0     0 -9223372036854775808 -9223372036854775808  \n> 3 -9223372036854775808    0     0 -9223372036854775808 -9223372036854775808  \n> 4 -9223372036854775808    0     0 -9223372036854775808 -9223372036854775808   \n> \n> ```\n>                age  twstrs            treatment  \n> ```\n> \n> 0 -9223372036854775808       0 -9223372036854775808  \n> 1 -9223372036854775808       0 -9223372036854775808  \n> 2 -9223372036854775808      -1 -9223372036854775808  \n> 3 -9223372036854775808       0 -9223372036854775808  \n> 4 -9223372036854775808       1 -9223372036854775808  \n> The normalize function is straightforward, and works fine when applied to manually subsetted data:\n> \n> normalize(cdystonia.twstrs[cdystonia.patient==1])\n> \n> 0   -0.181369\n> 1   -0.544107\n> 2   -1.632322\n> 3    0.725476\n> 4    1.088214\n> 5    0.544107\n> Name: twstrs, dtype: float64\n> Any guidance here much appreciated. I'm hoping its something obvious.\n> \n> â€”\n> Reply to this email directly or view it on GitHub.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18816209",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18816209",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18816209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODE2MjA5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-02T23:22:17Z",
    "updated_at": "2013-06-02T23:22:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here is an example. This is in 0.11.0\n\n```\nIn [16]: df = DataFrame(dict(A = Series([1]*5,dtype='uint8'), B = Series([0]*5,dtype='uint64'),C=np.random.randint(-10,10,size=5)))\n\nIn [17]: df\nOut[17]: \n   A  B  C\n0  1  0  8\n1  1  0 -3\n2  1  0  9\n3  1  0  8\n4  1  0  6\n\nIn [18]: df.values\nOut[18]: \narray([[                   1,                    0,                    8],\n       [                   1,                    0, 18446744073709551613],\n       [                   1,                    0,                    9],\n       [                   1,                    0,                    8],\n       [                   1,                    0,                    6]], dtype=uint64)\n```\n\n0.11.1 this works\n\n```\nIn [1]: df = DataFrame(dict(A = Series([1]*5,dtype='uint8'), B = Series([0]*5,dtype='uint64'),C=np.random.randint(-10,10,size=5)))\n\nIn [2]: df.values\nOut[2]: \narray([[ 1,  0, -8],\n       [ 1,  0,  2],\n       [ 1,  0, -3],\n       [ 1,  0,  5],\n       [ 1,  0,  5]])\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18819833",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18819833",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18819833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODE5ODMz",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T02:57:09Z",
    "updated_at": "2013-06-03T02:57:09Z",
    "author_association": "NONE",
    "body": "My DataFrame info is as follows:\n\n```\n<class 'pandas.core.frame.DataFrame'>\nInt64Index: 631 entries, 0 to 630\nData columns (total 10 columns):\npatient      631  non-null values\nobs          631  non-null values\nweek         631  non-null values\nsite         631  non-null values\nid           631  non-null values\ntreat        631  non-null values\nage          631  non-null values\nsex          631  non-null values\ntwstrs       631  non-null values\ntreatment    631  non-null values\ndtypes: int64(8), object(2)\n```\n\nSo, `sex` and `treat` are string variables, but the others are valid int64, which ought to nornalize properly. I updated to the current master, but the result is the same.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18819882",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18819882",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18819882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODE5ODgy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T03:00:02Z",
    "updated_at": "2013-06-03T03:00:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u give me a Dropbox link to the frame as a csv?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18820013",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18820013",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18820013,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODIwMDEz",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T03:06:43Z",
    "updated_at": "2013-06-03T03:06:43Z",
    "author_association": "NONE",
    "body": "[Here it is](https://www.dropbox.com/s/kqp599stc502ecf/cdystonia.csv)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18841848",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18841848",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18841848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODQxODQ4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T13:44:13Z",
    "updated_at": "2013-06-03T13:44:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fonnesbeck can you give a try with this PR, should fix it; this was a pretty esotric bug\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18845517",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18845517",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18845517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODQ1NTE3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T14:39:09Z",
    "updated_at": "2013-06-03T14:39:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is a reproduction:\n\n0.11.0\n\n```\nIn [3]: df = DataFrame(dict(A = [1,1,1,2,2,2], B = 1, C = [1,2,3,1,2,3], D = 'foo'))\n\nIn [4]: df.groupby('A').transform(lambda x: (x-x.mean())/x.std())\nOut[4]: \n                     B  C\n0 -9223372036854775808 -1\n1 -9223372036854775808  0\n2 -9223372036854775808  1\n3 -9223372036854775808 -1\n4 -9223372036854775808  0\n5 -9223372036854775808  1\n```\n\n0.11.1\n\n```\nIn [1]: df = DataFrame(dict(A = [1,1,1,2,2,2], B = 1, C = [1,2,3,1,2,3], D = 'foo'))\n\nIn [2]: df.groupby('A').transform(lambda x: (x-x.mean())/x.std())\nOut[2]: \n    B  C\n0 NaN -1\n1 NaN  0\n2 NaN  1\n3 NaN -1\n4 NaN  0\n5 NaN  1\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18848707",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18848707",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18848707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODQ4NzA3",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T15:23:37Z",
    "updated_at": "2013-06-03T15:23:37Z",
    "author_association": "NONE",
    "body": "Right, however the values for C are wrong. They should be upcast to floats, since they are z-scores:\n\narray([-1.22474487,  0.,  1.22474487, -1.22474487,  0.,  1.22474487])\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18850342",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18850342",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18850342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODUwMzQy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T15:44:46Z",
    "updated_at": "2013-06-03T15:44:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "what is your calculation? this seems correct (its by group)\n\n```\nIn [11]: x\nOut[11]: \n0    1\n1    2\n2    3\ndtype: float64\n\nIn [12]: (x-x.mean())/x.std()\nOut[12]: \n0   -1\n1    0\n2    1\ndtype: float64\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18850884",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18850884",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18850884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODUwODg0",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T15:52:37Z",
    "updated_at": "2013-06-03T15:52:37Z",
    "author_association": "NONE",
    "body": "It works when your data is [1,2,3], but try it for the values in C from your df example above, or even [1,2,3,4]. Also, as I reported originally, the function works stand-alone but not as the argument to `transform`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18851054",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18851054",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18851054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODUxMDU0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T15:55:16Z",
    "updated_at": "2013-06-03T15:55:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think my bug-fix works; but in your lamba you need to be sure to use floats (otherwise it is actually correct)\n\ne.g.\n\n```\nlambda x: (x-x.mean())/(x.astype(float).std())\n```\n\nI think would work; you are getting integer division; with a lambda like this pandas cannot infer what you actually want\n\nso either astype the data on the way in, or use the lambda like above\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18851404",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18851404",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18851404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODUxNDA0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T16:00:06Z",
    "updated_at": "2013-06-03T16:00:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "actually...hold on\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18851447",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18851447",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18851447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODUxNDQ3",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T16:00:40Z",
    "updated_at": "2013-06-03T16:00:40Z",
    "author_association": "NONE",
    "body": "If you take the standard deviation of a series of integers, you should not get an integer back, since we are taking a square root of a sum. Its not clear why the explicit casting should be required.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18852085",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18852085",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18852085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODUyMDg1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T16:10:57Z",
    "updated_at": "2013-06-03T16:10:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok...think I got it; I put another commit us, pls give a shot\n\nhere's your original data set\n\n```\n(Pdb) df.groupby('week').transform(lambda x: (x-x.mean())/x.std()).head()\n    patient  obs      site        id       age    twstrs  treatment\n0 -1.708342  NaN -1.548845 -1.410553  0.780821 -1.405490  -0.011160\n1 -1.683606  NaN -1.522794 -1.398507  0.773854 -0.594184  -0.035435\n2 -1.692057  NaN -1.527510 -1.400460  0.759730 -0.989923  -0.011473\n3 -1.691585  NaN -1.532686 -1.385268  0.761087 -0.207029   0.011749\n4 -1.708176  NaN -1.540303 -1.392138  0.764912 -0.322402   0.000000\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18855711",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18855711",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18855711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODU1NzEx",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T17:08:04Z",
    "updated_at": "2013-06-03T17:08:04Z",
    "author_association": "NONE",
    "body": "That works. Thanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18855765",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18855765",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18855765,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODU1NzY1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T17:08:48Z",
    "updated_at": "2013-06-03T17:08:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "great! in time for 0.11.1\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18871779",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18871779",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18871779,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODcxNzc5",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T21:14:31Z",
    "updated_at": "2013-06-03T21:14:31Z",
    "author_association": "NONE",
    "body": "This fix appears to work for some numeric columns in the sample DataFrame that I sent, but not others:\n\n```\nnormalize = lambda x: (x - x.mean())/x.std()\ncdystonia_grouped.transform(normalize).head()\n\n   patient       obs      week  site  id  age    twstrs  treatment\n0      NaN -1.336306 -1.135550   NaN NaN  NaN -0.181369        NaN\n1      NaN -0.801784 -0.811107   NaN NaN  NaN -0.544107        NaN\n2      NaN -0.267261 -0.486664   NaN NaN  NaN -1.632322        NaN\n3      NaN  0.267261  0.162221   NaN NaN  NaN  0.725476        NaN\n4      NaN  0.801784  0.811107   NaN NaN  NaN  1.088214        NaN\n```\n\nWith the exception of the two string variables (id, treatment), the columns appear to be valid int64s with no missing data:\n\n```\ncdystonia.site.value_counts()\n\n8    106\n6     87\n2     82\n7     72\n3     72\n1     70\n9     61\n4     48\n5     33\ndtype: int64\n```\n\nIts not clear why they are coming up NaN.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18872956",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18872956",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18872956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODcyOTU2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T21:33:50Z",
    "updated_at": "2013-06-03T21:33:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "u. the particular groups that I looked they were all the same value\nso std is 0 and hence a nan\n\ncan u show a particular group where that is not the case and they still come up nan?\n\nshow your groupby as well\n\nthxs\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18873116",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18873116",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18873116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODczMTE2",
    "user": {
      "login": "fonnesbeck",
      "id": 81476,
      "node_id": "MDQ6VXNlcjgxNDc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fonnesbeck",
      "html_url": "https://github.com/fonnesbeck",
      "followers_url": "https://api.github.com/users/fonnesbeck/followers",
      "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions",
      "organizations_url": "https://api.github.com/users/fonnesbeck/orgs",
      "repos_url": "https://api.github.com/users/fonnesbeck/repos",
      "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fonnesbeck/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T21:36:37Z",
    "updated_at": "2013-06-03T21:36:37Z",
    "author_association": "NONE",
    "body": "Yes, of course. My mistake, sorry.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18873838",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3740#issuecomment-18873838",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3740",
    "id": 18873838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODczODM4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-03T21:44:31Z",
    "updated_at": "2013-06-03T21:44:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "np\n"
  }
]
