[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110316955",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110316955",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110316955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDMxNjk1NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T10:49:48Z",
    "updated_at": "2015-06-09T10:49:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you update\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110407829",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110407829",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110407829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDQwNzgyOQ==",
    "user": {
      "login": "evanpw",
      "id": 1621449,
      "node_id": "MDQ6VXNlcjE2MjE0NDk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1621449?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evanpw",
      "html_url": "https://github.com/evanpw",
      "followers_url": "https://api.github.com/users/evanpw/followers",
      "following_url": "https://api.github.com/users/evanpw/following{/other_user}",
      "gists_url": "https://api.github.com/users/evanpw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evanpw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evanpw/subscriptions",
      "organizations_url": "https://api.github.com/users/evanpw/orgs",
      "repos_url": "https://api.github.com/users/evanpw/repos",
      "events_url": "https://api.github.com/users/evanpw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evanpw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T15:43:43Z",
    "updated_at": "2015-06-09T15:43:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think these tests are what you were asking for. Let me know if otherwise.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110415000",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110415000",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110415000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDQxNTAwMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T16:00:11Z",
    "updated_at": "2015-06-09T16:00:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "yep, ping when green.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110525717",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110525717",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110525717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDUyNTcxNw==",
    "user": {
      "login": "evanpw",
      "id": 1621449,
      "node_id": "MDQ6VXNlcjE2MjE0NDk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1621449?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evanpw",
      "html_url": "https://github.com/evanpw",
      "followers_url": "https://api.github.com/users/evanpw/followers",
      "following_url": "https://api.github.com/users/evanpw/following{/other_user}",
      "gists_url": "https://api.github.com/users/evanpw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evanpw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evanpw/subscriptions",
      "organizations_url": "https://api.github.com/users/evanpw/orgs",
      "repos_url": "https://api.github.com/users/evanpw/repos",
      "events_url": "https://api.github.com/users/evanpw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evanpw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T22:45:31Z",
    "updated_at": "2015-06-09T22:45:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "It turns out that this already works for datetimelike categoricals. I added some tests and squashed.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110534710",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110534710",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110534710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDUzNDcxMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T23:46:07Z",
    "updated_at": "2015-06-09T23:46:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "awesome @evanpw ! keep em coming\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110574120",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110574120",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110574120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDU3NDEyMA==",
    "user": {
      "login": "wikiped",
      "id": 5990528,
      "node_id": "MDQ6VXNlcjU5OTA1Mjg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5990528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wikiped",
      "html_url": "https://github.com/wikiped",
      "followers_url": "https://api.github.com/users/wikiped/followers",
      "following_url": "https://api.github.com/users/wikiped/following{/other_user}",
      "gists_url": "https://api.github.com/users/wikiped/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wikiped/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wikiped/subscriptions",
      "organizations_url": "https://api.github.com/users/wikiped/orgs",
      "repos_url": "https://api.github.com/users/wikiped/repos",
      "events_url": "https://api.github.com/users/wikiped/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wikiped/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-10T03:33:02Z",
    "updated_at": "2015-06-10T03:33:02Z",
    "author_association": "NONE",
    "body": "Thanks very much for fixing this. I am not sure if I got this right but would not it make sense to reorder the code slightly to avoid trying removing categories twice when `nan` is present? So use this code:\n\n```\n    # GH 10156\n    if any(isnull(removals)):\n        not_included = [x for x in not_included if notnull(x)]\n        new_categories = [x for x in new_categories if notnull(x)]\n    else:\n        removal_set = set(list(removals))\n        not_included = removal_set - set(self._categories)\n        new_categories = [ c for c in self._categories if c not in removal_set ]\n```\n\nInstead of this:\n\n```\n    removal_set = set(list(removals))\n    not_included = removal_set - set(self._categories)\n    new_categories = [ c for c in self._categories if c not in removal_set ]\n\n    # GH 10156\n    if any(isnull(removals)):\n        not_included = [x for x in not_included if notnull(x)]\n        new_categories = [x for x in new_categories if notnull(x)]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110737181",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110737181",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110737181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDczNzE4MQ==",
    "user": {
      "login": "evanpw",
      "id": 1621449,
      "node_id": "MDQ6VXNlcjE2MjE0NDk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1621449?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evanpw",
      "html_url": "https://github.com/evanpw",
      "followers_url": "https://api.github.com/users/evanpw/followers",
      "following_url": "https://api.github.com/users/evanpw/following{/other_user}",
      "gists_url": "https://api.github.com/users/evanpw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evanpw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evanpw/subscriptions",
      "organizations_url": "https://api.github.com/users/evanpw/orgs",
      "repos_url": "https://api.github.com/users/evanpw/repos",
      "events_url": "https://api.github.com/users/evanpw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evanpw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-10T12:46:59Z",
    "updated_at": "2015-06-10T12:46:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "In your if branch, what's the original definition of not_included and new_categories? It looks like they're defined in terms of themselves.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/110746584",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10304#issuecomment-110746584",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10304",
    "id": 110746584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDc0NjU4NA==",
    "user": {
      "login": "wikiped",
      "id": 5990528,
      "node_id": "MDQ6VXNlcjU5OTA1Mjg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5990528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wikiped",
      "html_url": "https://github.com/wikiped",
      "followers_url": "https://api.github.com/users/wikiped/followers",
      "following_url": "https://api.github.com/users/wikiped/following{/other_user}",
      "gists_url": "https://api.github.com/users/wikiped/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wikiped/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wikiped/subscriptions",
      "organizations_url": "https://api.github.com/users/wikiped/orgs",
      "repos_url": "https://api.github.com/users/wikiped/repos",
      "events_url": "https://api.github.com/users/wikiped/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wikiped/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-10T13:15:28Z",
    "updated_at": "2015-06-10T13:15:28Z",
    "author_association": "NONE",
    "body": "Fair point ;)\nThanks again for the fix.\n"
  }
]
