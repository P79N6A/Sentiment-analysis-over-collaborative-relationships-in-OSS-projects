[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301772313",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301772313",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301772313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTc3MjMxMw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T12:52:06Z",
    "updated_at": "2017-05-16T12:52:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "The docstring even has an example further down\r\n\r\n```python\r\n>>> foo = pd.Categorical(['a', 'b'], categories=['a', 'b', 'c'])\r\n>>> bar = pd.Categorical(['d', 'e'], categories=['d', 'e', 'f'])\r\n>>> crosstab(foo, bar)  # 'c' and 'f' are not represented in the data,\r\n                        # but they still will be counted in the output\r\ncol_0  d  e  f\r\nrow_0\r\na      1  0  0\r\nb      0  1  0\r\nc      0  0  0\r\n```\r\n\r\nwhich is not what I get, so defiantly a bug somewhere. I suspect that https://github.com/pandas-dev/pandas/pull/15511/ may be related, since\r\n\r\n```python\r\nIn [14]: crosstab(foo, bar, dropna=False)\r\nOut[14]:\r\ncol_0  d  e  f\r\nrow_0\r\na      1  0  0\r\nb      0  1  0\r\nc      0  0  0\r\n\r\n```\r\n\r\ndoes produce the correct output. `crosstab` is defined in `pandas/core/reshape/pivot.py`, if you want to start there."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301774504",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301774504",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301774504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTc3NDUwNA==",
    "user": {
      "login": "peisenha",
      "id": 3607591,
      "node_id": "MDQ6VXNlcjM2MDc1OTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3607591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peisenha",
      "html_url": "https://github.com/peisenha",
      "followers_url": "https://api.github.com/users/peisenha/followers",
      "following_url": "https://api.github.com/users/peisenha/following{/other_user}",
      "gists_url": "https://api.github.com/users/peisenha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peisenha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peisenha/subscriptions",
      "organizations_url": "https://api.github.com/users/peisenha/orgs",
      "repos_url": "https://api.github.com/users/peisenha/repos",
      "events_url": "https://api.github.com/users/peisenha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peisenha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T13:00:33Z",
    "updated_at": "2017-05-16T13:00:33Z",
    "author_association": "NONE",
    "body": "Thanks a lot for the swift response. I will give it a try.\n\nOn Tue, May 16, 2017 at 2:52 PM, Tom Augspurger <notifications@github.com>\nwrote:\n\n> The docstring even has an example further down\n>\n> >>> foo = pd.Categorical(['a', 'b'], categories=['a', 'b', 'c'])>>> bar = pd.Categorical(['d', 'e'], categories=['d', 'e', 'f'])>>> crosstab(foo, bar)  # 'c' and 'f' are not represented in the data,\n>                         # but they still will be counted in the output\n> col_0  d  e  f\n> row_0\n> a      1  0  0\n> b      0  1  0\n> c      0  0  0\n>\n> which is not what I get, so defiantly a bug somewhere. I suspect that\n> #15511 <https://github.com/pandas-dev/pandas/pull/15511> may be related,\n> since\n>\n> In [14]: crosstab(foo, bar, dropna=False)\n> Out[14]:\n> col_0  d  e  f\n> row_0\n> a      1  0  0\n> b      0  1  0\n> c      0  0  0\n>\n> does produce the correct output. crosstab is defined in\n> pandas/core/reshape/pivot.py, if you want to start there.\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301772313>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ADcMJ6Was7MAnYZ3x3ITFPtYjAvz_GVGks5r6ZwOgaJpZM4Ncb6_>\n> .\n>\n\n\n\n-- \n*Philipp Eisenhauer*\nEconomist\n\nMail eisenhauer@policy-lab.org\nWeb www.eisenhauer.io\nRepository https://github.com/peisenha\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301791593",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301791593",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301791593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTc5MTU5Mw==",
    "user": {
      "login": "peisenha",
      "id": 3607591,
      "node_id": "MDQ6VXNlcjM2MDc1OTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3607591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peisenha",
      "html_url": "https://github.com/peisenha",
      "followers_url": "https://api.github.com/users/peisenha/followers",
      "following_url": "https://api.github.com/users/peisenha/following{/other_user}",
      "gists_url": "https://api.github.com/users/peisenha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peisenha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peisenha/subscriptions",
      "organizations_url": "https://api.github.com/users/peisenha/orgs",
      "repos_url": "https://api.github.com/users/peisenha/repos",
      "events_url": "https://api.github.com/users/peisenha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peisenha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T14:00:42Z",
    "updated_at": "2017-05-16T14:00:42Z",
    "author_association": "NONE",
    "body": "#15193 and #15511 are two related issues. Looking at the source code and the discussion, it seems to me that dropping empty columns is the desired behavior for dropna=True (default).\r\n\r\nThis is the relevant code in pivot_table()\r\n\r\n```\r\n    # GH 15193 Makse sure empty columns are removed if dropna=True\r\n    if isinstance(table, DataFrame) and dropna:\r\n        table = table.dropna(how='all', axis=1)\r\n\r\n```\r\n\r\nIf you agree, just let me know and I will be glad to adjust the documentation accordingly."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301795556",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301795556",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301795556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTc5NTU1Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T14:14:14Z",
    "updated_at": "2017-05-16T14:14:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seems like the resolution from https://github.com/pandas-dev/pandas/issues/12298 was that all the categories should be present in the output. https://github.com/pandas-dev/pandas/pull/15511 seems to go against that... So I think this is a regression and not just a doc issue.\r\n\r\nI think the issue is that the meaning of `dropna` becomes ambiguous when you have a Categorical. With a categorical that isn't observed, you're going to introduce NaNs by definition. I hate to make the `dropna` argument to `pivot_table` even more confusing, but I think its behavior should depend on the type of the `index` or `columns`. This may be tricky to do correctly, as `columns` in `pivot_table` can be a list :/"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301801702",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301801702",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301801702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTgwMTcwMg==",
    "user": {
      "login": "peisenha",
      "id": 3607591,
      "node_id": "MDQ6VXNlcjM2MDc1OTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3607591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peisenha",
      "html_url": "https://github.com/peisenha",
      "followers_url": "https://api.github.com/users/peisenha/followers",
      "following_url": "https://api.github.com/users/peisenha/following{/other_user}",
      "gists_url": "https://api.github.com/users/peisenha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peisenha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peisenha/subscriptions",
      "organizations_url": "https://api.github.com/users/peisenha/orgs",
      "repos_url": "https://api.github.com/users/peisenha/repos",
      "events_url": "https://api.github.com/users/peisenha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peisenha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T14:33:36Z",
    "updated_at": "2017-05-16T14:33:36Z",
    "author_association": "NONE",
    "body": "Alright, if you would like me to take a crack at it, let me know. I will be glad to provide a fix and a regression test ... As this would be my first contribution to the library, I will probably need some guidance in the process. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301804032",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301804032",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301804032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTgwNDAzMg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T14:40:57Z",
    "updated_at": "2017-05-16T14:40:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, it'd be great if you can take a shot.\r\n\r\nBut first, let's see if @jreback and @jorisvandenbossche agree that the documented version is correct, and that treating `dropna` differently for Categoricals is a good idea."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301819214",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301819214",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301819214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTgxOTIxNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T15:28:13Z",
    "updated_at": "2017-05-16T15:28:13Z",
    "author_association": "MEMBER",
    "body": "Focusing on `crosstab` for a moment, what is an example when you get a column with NaNs? (trying to understand the usecase of the `dropna` method)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301821533",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301821533",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301821533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTgyMTUzMw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T15:35:04Z",
    "updated_at": "2017-05-16T15:35:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "In this case, crosstab is a `pivot_table` followed up by a `fillna(0)`:\r\n\r\n```python\r\n        table = df.pivot_table('__dummy__', index=rownames, columns=colnames,\r\n                               aggfunc=len, margins=margins, dropna=dropna)\r\n        table = table.fillna(0).astype(np.int64)\r\n```\r\n\r\nso the change to `pivot_table`'s NaN handling affected this downstream."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301822740",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301822740",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301822740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTgyMjc0MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T15:38:55Z",
    "updated_at": "2017-05-16T15:38:55Z",
    "author_association": "MEMBER",
    "body": "So the dropna in crosstab is actually also a bit confusing explantion, as you are not dropping all NaN columns, but all 0 columns :-) \r\nBut apart from that, I am still wondering when you get such a column. Because the columns are created from the values, so how is it possible (apart from using categoricals) that a value is not present?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/301826927",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-301826927",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 301826927,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTgyNjkyNw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T15:51:55Z",
    "updated_at": "2017-05-16T15:51:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "> so how is it possible (apart from using categoricals) that a value is not present?\r\n\r\nI guess it can happen if you have multiple levels, some of which aren't observed:\r\n\r\n```python\r\nIn [21]: df = pd.DataFrame({\"A\": [1, 1, 2, 2], \"B\": [1, 2, 1, 3], 'C': ['a', 'a', 'a', 'b']})\r\n\r\nIn [22]: pd.crosstab(df.A, [df.B, df.C], dropna=False)\r\nOut[22]:\r\nB  1     2     3\r\nC  a  b  a  b  a  b\r\nA\r\n1  1  0  1  0  0  0\r\n2  1  0  0  0  0  1\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/305463885",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-305463885",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 305463885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTQ2Mzg4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-01T11:15:17Z",
    "updated_at": "2017-06-01T11:15:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "from the example above.\r\n\r\n```\r\nIn [7]: pd.crosstab(df.A, [df.B, df.C], dropna=False)\r\nOut[7]: \r\nB  1     2     3   \r\nC  a  b  a  b  a  b\r\nA                  \r\n1  1  0  1  0  0  0\r\n2  1  0  0  0  0  1\r\n\r\nIn [8]: pd.crosstab(df.A, [df.B, df.C], dropna=True)\r\nOut[8]: \r\nB  1  2  3\r\nC  a  a  b\r\nA         \r\n1  1  1  0\r\n2  1  0  1\r\n```\r\n\r\nI think the issue is that the meaning of ``dropna`` is just confusing. maybe have strings instead?\r\nare there 3 cases here that are useful?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/417843719",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16367#issuecomment-417843719",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16367",
    "id": 417843719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzg0MzcxOQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-01T08:48:03Z",
    "updated_at": "2018-09-01T08:48:03Z",
    "author_association": "MEMBER",
    "body": "Could a solution to this problem be to change the default of `dropna` to None instead of True? \r\nSo if `dropna=None` would then depend on the dtype: False for categorical, True for other dtypes."
  }
]
