[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15991159",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3261#issuecomment-15991159",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3261",
    "id": 15991159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTkxMTU5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-06T05:28:01Z",
    "updated_at": "2013-04-06T05:28:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "this looks like a great feature!\n\nI assume that u respect the vbench start date; what do u do if the vbench code fails?\neg write_store_table_dc shouldn't work at all on versions prior to its implementation, but prob is falling back to just writing a reg table (which is much faster). same with ne guys I think.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15991231",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3261#issuecomment-15991231",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3261",
    "id": 15991231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTkxMjMx",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-06T05:35:56Z",
    "updated_at": "2013-04-06T05:35:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "What are the results on the other side, like, out of curiosity?\n\nOn Fri, Apr 5, 2013 at 10:10 PM, y-p notifications@github.com wrote:\n\n> So, now that vbsuite is more stable, and collecting that data is much\n> faster\n> due to the new build cache and perf tweaks to test_perf, I've set up a job\n> to\n> gradually build sample the commit history perf profile.\n> Even with the faster iterations, It'll still take a few days to collect\n> the data\n> (I'm going back to 0.9.0), but here are some results from 300 uniform\n> sample\n> points. (This all ad-hoc an might be all wrong, I'm working on some new\n> tools to make this easier).\n> \n> Jeff, this one should be familiar :) :\n> \n> [image: perf]https://f.cloud.github.com/assets/1820866/346747/a061c45a-9e5c-11e2-8ce0-1b09c98fa4a1.png\n> \n> There are also several regression,again, it'll take a few days to collect\n> the full dta and then bisect to the changepoint commit.\n> \n> Here are are all vbenches at least 20% slower today, compared to\n> 0.9.0:\n> \n> reindex_fillna_backfill                 1.208748\n> write_store_table                       1.209075\n> frame_drop_dup_na_inplace               1.209770\n> replace_fillna                          1.221003\n> replace_replacena                       1.244413\n> stat_ops_level_frame_sum_multiple       1.248258\n> misc_cache_readonly                     1.250000\n> stat_ops_level_series_sum_multiple      1.269106\n> write_store_table_panel                 1.298524\n> groupby_apply_dict_return               1.304015\n> read_store_table_mixed                  1.348121\n> series_constructor_ndarray              1.359551\n> append_frame_single_mixed               1.370398\n> frame_multi_and_no_ne                   1.372070\n> write_store_table_wide                  1.461807\n> reindex_frame_level_reindex             1.532964\n> reindex_frame_level_align               1.537642\n> stat_ops_series_std                     1.566043\n> series_getitem_scalar                   1.800000\n> ctor_index_array_string                 1.873016\n> write_store_table_dc                    8.468982\n> dti_reset_index_tz                    102.331762\n> \n> some graphs:\n> \n> [image: ctor_index_array_string]https://f.cloud.github.com/assets/1820866/346758/7d47b338-9e5e-11e2-9021-b4edef55ff01.png\n> \n> [image: write_store_table_dc]https://f.cloud.github.com/assets/1820866/346759/81232a00-9e5e-11e2-82b0-f35f68f9996f.png\n> \n> [image: frame_multi_no_ne]https://f.cloud.github.com/assets/1820866/346760/88be7bfc-9e5e-11e2-83f4-8ea206dfe6fd.png\n> \n> collect.sh\n> \n> #!/bin/bash\n> function gho\n> {\n>     git show-ref --heads --abbrev=8 $1 | head -n 1\n> }\n> \n> function gch {\n>     gho $(git rev-parse --abbrev-ref HEAD) | cut -d ' ' -f 1 # show curerent branch head\n> }\n> git fetch upstream\n> git reset --hard upstream/master\n> \n> gch > .head;\n> ./hash_stab.py | while read N; do\n>    git reset --hard $N\n>    FNAME=\"vbench_results/$N.pickle\"\n> \n>    if [  -e  $FNAME ]; then\n>         echo skipping $N\n>    else\n>    ./sane.sh\n>    python ./setup.py develop;\n>         time ./test_perf.sh -H -c 1 -d $FNAME;\n>    fi;\n> done\n> \n> hash_stab.py\n> \n> #!/usr/bin/env python\n> import sh\n> r=sh.git('log --format=\"%h\" v0.9.0.. --'.split(\" \"),_tty_out=False).replace('\"',\"\").split(\"\\n\")[:-1]\n> print(\"%d commits\" % len(r))\n> l = [r[0],r[-1]]\n> segsize = len(r)\n> \n> while len(l) < len(r):\n>     cands = range(0+segsize/2,len(r),segsize)\n>     cands = [r[i] for i in cands if r[i] and r[i] not in l]\n>     segsize/=2\n>     if len(cands) == 0:\n>         l.extend([x for x in r if x not in l])\n>         break\n>     l.extend(cands)\n> \n> for h in l:\n>     print h\n> \n> analyze results:\n> \n> h=sh.git('log --date-order --format=\"%h###%ci\" --no-merges'.split(\" \")).replace('\"',\"\").split(\"\\n\")[:-1]h=map(lambda x:x.split(\"###\"),h)from dateutil import parserh=dict(map(lambda x: (x[0],parser.parse(x[1])),h))fs = [x for x in os.listdir('.') if x.split('.')[0] in h]fs.sort(key=lambda x: h[x.split('.')[0]])results = list()for o in fs:\n>     s = Series(pd.load(o).icol(0),name=o.split(\".\")[0])\n>     results.append(s)df=pd.DataFrame(results).Tf=df.icol(-1)/df.icol(0)f=f[f> 1.2]def show(n):\n>     if isinstance(n,basestring):\n>         s=df.ix[n]\n>     else:\n>         s=df.ix[f.index[n]]\n>     name = s.name\n>     s=mom.rolling_mean(s,5,center=True).dropna()\n>     s.name=name\n>     plt.title(s.name)\n>     plt.ylim(0,s.max())\n>     s.plot()\n>     s=s.dropna()\n>     return name\n> show(3)# plot hereshow('dti_reset_index_tz')# plot here\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/pydata/pandas/issues/3261\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15991537",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3261#issuecomment-15991537",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3261",
    "id": 15991537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTkxNTM3",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-06T06:11:36Z",
    "updated_at": "2013-04-06T06:11:36Z",
    "author_association": "NONE",
    "body": "Jeff, test_perf puts nans where vbenches raise exceptions, and I dropna in the code above.\nStephen, not sure I understood correctly, but if you mean what the unstable results look like,\nI'll have to do that once I'm done with the rest of the ~1200 commits that need to be benchmarked...\n\nWill try to sample more intelligently around changepoints, to speed things up.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15991741",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3261#issuecomment-15991741",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3261",
    "id": 15991741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTkxNzQx",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-06T06:35:34Z",
    "updated_at": "2013-04-06T06:35:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "I mean the improved results :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15994309",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3261#issuecomment-15994309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3261",
    "id": 15994309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTk0MzA5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-06T10:53:20Z",
    "updated_at": "2013-04-06T10:53:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@y-p no I meant this\n\nthe data_column argument was an API change and in prior versions would just write a regular table, so the bench is a little misleading. if I fix the start_date of that particular vbench u will simply not test it before commits on that date?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15994819",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3261#issuecomment-15994819",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3261",
    "id": 15994819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTk0ODE5",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-06T11:42:54Z",
    "updated_at": "2013-04-06T11:43:02Z",
    "author_association": "NONE",
    "body": "Oh, no I'm not doing that right now. Easy enough though I'll do it later on, \nthanks for the reminder.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16347764",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3261#issuecomment-16347764",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3261",
    "id": 16347764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzQ3NzY0",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-14T08:30:22Z",
    "updated_at": "2013-04-14T08:30:29Z",
    "author_association": "NONE",
    "body": "Working on automating all of this.\n"
  }
]
