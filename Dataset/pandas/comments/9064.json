[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/69521126",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9064#issuecomment-69521126",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9064",
    "id": 69521126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTIxMTI2",
    "user": {
      "login": "tvyomkesh",
      "id": 911431,
      "node_id": "MDQ6VXNlcjkxMTQzMQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/911431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tvyomkesh",
      "html_url": "https://github.com/tvyomkesh",
      "followers_url": "https://api.github.com/users/tvyomkesh/followers",
      "following_url": "https://api.github.com/users/tvyomkesh/following{/other_user}",
      "gists_url": "https://api.github.com/users/tvyomkesh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tvyomkesh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tvyomkesh/subscriptions",
      "organizations_url": "https://api.github.com/users/tvyomkesh/orgs",
      "repos_url": "https://api.github.com/users/tvyomkesh/repos",
      "events_url": "https://api.github.com/users/tvyomkesh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tvyomkesh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-12T01:07:34Z",
    "updated_at": "2015-01-12T01:07:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Does this look like an acceptable ENH (as suggested in SO) or is it expected to introduce a to_offset() method in timedelta which returns offsets.Second? \n\n<pre>\ndiff --git a/pandas/tseries/frequencies.py b/pandas/tseries/frequencies.py\nindex 54b29b1..8694436 100644\n--- a/pandas/tseries/frequencies.py\n+++ b/pandas/tseries/frequencies.py\n@@ -1,4 +1,4 @@\n-from datetime import datetime\n+from datetime import datetime,timedelta\n from pandas.compat import range, long, zip\n from pandas import compat\n import re\n@@ -298,6 +298,10 @@ def to_offset(freqstr):\n             name, stride = stride, name\n         name, _ = _base_and_stride(name)\n         delta = get_offset(name) * stride\n+\n+    elif isinstance(freqstr, timedelta):\n+        delta = offsets.Second(freqstr.total_seconds())\n+\n     else:\n         delta = None\n         stride_sign = None\n</pre>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/69521667",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9064#issuecomment-69521667",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9064",
    "id": 69521667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTIxNjY3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-12T01:20:53Z",
    "updated_at": "2015-01-12T01:20:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "create a test that fails w/o the fix and passes with \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/69527306",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9064#issuecomment-69527306",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9064",
    "id": 69527306,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTI3MzA2",
    "user": {
      "login": "tvyomkesh",
      "id": 911431,
      "node_id": "MDQ6VXNlcjkxMTQzMQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/911431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tvyomkesh",
      "html_url": "https://github.com/tvyomkesh",
      "followers_url": "https://api.github.com/users/tvyomkesh/followers",
      "following_url": "https://api.github.com/users/tvyomkesh/following{/other_user}",
      "gists_url": "https://api.github.com/users/tvyomkesh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tvyomkesh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tvyomkesh/subscriptions",
      "organizations_url": "https://api.github.com/users/tvyomkesh/orgs",
      "repos_url": "https://api.github.com/users/tvyomkesh/repos",
      "events_url": "https://api.github.com/users/tvyomkesh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tvyomkesh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-12T03:40:20Z",
    "updated_at": "2015-01-12T03:40:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Done. Created pull request https://github.com/pydata/pandas/pull/9226. Thanks.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/69530448",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9064#issuecomment-69530448",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9064",
    "id": 69530448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTMwNDQ4",
    "user": {
      "login": "tvyomkesh",
      "id": 911431,
      "node_id": "MDQ6VXNlcjkxMTQzMQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/911431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tvyomkesh",
      "html_url": "https://github.com/tvyomkesh",
      "followers_url": "https://api.github.com/users/tvyomkesh/followers",
      "following_url": "https://api.github.com/users/tvyomkesh/following{/other_user}",
      "gists_url": "https://api.github.com/users/tvyomkesh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tvyomkesh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tvyomkesh/subscriptions",
      "organizations_url": "https://api.github.com/users/tvyomkesh/orgs",
      "repos_url": "https://api.github.com/users/tvyomkesh/repos",
      "events_url": "https://api.github.com/users/tvyomkesh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tvyomkesh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-12T05:06:19Z",
    "updated_at": "2015-01-12T05:06:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "# CI build failed. \n\n## ERROR: pandas.tseries.tests.test_frequencies.test_to_offset_timedelta\n\nTraceback (most recent call last):\n  File \"/home/travis/miniconda/envs/pandas/lib/python2.6/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/home/travis/build/pydata/pandas/pandas/tseries/tests/test_frequencies.py\", line 86, in test_to_offset_timedelta\n    result = frequencies.to_offset(td)\n  File \"/home/travis/build/pydata/pandas/pandas/tseries/frequencies.py\", line 303, in to_offset\n    delta = offsets.Second(freqstr.total_seconds())\n\n## AttributeError: 'datetime.timedelta' object has no attribute 'total_seconds'\n\nI will need to revisit and add existence check for method etc.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/69569922",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9064#issuecomment-69569922",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9064",
    "id": 69569922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTY5OTIy",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-12T13:34:04Z",
    "updated_at": "2015-01-12T13:34:04Z",
    "author_association": "MEMBER",
    "body": "@tvyomkesh the reason is that `total_seconds` was only added in python 2.7/3.2 (it only fails the tests for 2.6) \nBut we better continue the discussion on the PR\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/69606094",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9064#issuecomment-69606094",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9064",
    "id": 69606094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjA2MDk0",
    "user": {
      "login": "tvyomkesh",
      "id": 911431,
      "node_id": "MDQ6VXNlcjkxMTQzMQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/911431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tvyomkesh",
      "html_url": "https://github.com/tvyomkesh",
      "followers_url": "https://api.github.com/users/tvyomkesh/followers",
      "following_url": "https://api.github.com/users/tvyomkesh/following{/other_user}",
      "gists_url": "https://api.github.com/users/tvyomkesh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tvyomkesh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tvyomkesh/subscriptions",
      "organizations_url": "https://api.github.com/users/tvyomkesh/orgs",
      "repos_url": "https://api.github.com/users/tvyomkesh/repos",
      "events_url": "https://api.github.com/users/tvyomkesh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tvyomkesh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-12T17:13:21Z",
    "updated_at": "2015-01-12T17:13:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche for now I have fixed this by introducing a check if the method is available or not (https://github.com/pydata/pandas/pull/9226/files). For older versions which do not have the method, it will use the equivalent calculation mentioned in the Python 2.7 docs (https://docs.python.org/2/library/datetime.html#datetime.timedelta.total_seconds). \nWondering if it would be a good idea to also wrap it up with try/catch. Happy to discuss more.\n"
  }
]
