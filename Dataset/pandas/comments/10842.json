[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132165509",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-132165509",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 132165509,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjE2NTUwOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T10:41:10Z",
    "updated_at": "2015-08-18T10:41:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is the behavior of `as_index=False` by -definition. You normally won't want to to pass this, it drops the groups relatiionships.\n\n```\nIn [22]: X.groupby(['g']).quantile(0.5)\nOut[22]: \n     a\ng     \na  0.5\nb  3.0\n\nIn [23]: X.groupby(['g'])['a'].quantile(0.5)\nOut[23]: \ng\na    0.5\nb    3.0\nName: a, dtype: float64\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132174358",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-132174358",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 132174358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjE3NDM1OA==",
    "user": {
      "login": "pekaalto",
      "id": 13544755,
      "node_id": "MDQ6VXNlcjEzNTQ0NzU1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/13544755?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pekaalto",
      "html_url": "https://github.com/pekaalto",
      "followers_url": "https://api.github.com/users/pekaalto/followers",
      "following_url": "https://api.github.com/users/pekaalto/following{/other_user}",
      "gists_url": "https://api.github.com/users/pekaalto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pekaalto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pekaalto/subscriptions",
      "organizations_url": "https://api.github.com/users/pekaalto/orgs",
      "repos_url": "https://api.github.com/users/pekaalto/repos",
      "events_url": "https://api.github.com/users/pekaalto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pekaalto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T11:14:26Z",
    "updated_at": "2015-08-18T11:14:26Z",
    "author_association": "NONE",
    "body": "@jreback \nBut why `quantile` is different from other aggregates like `.sum()` and `.mean()` ?\n\nSee these:\n\n```\nX.groupby(['g'],as_index=False).mean()\nX.groupby(['g'],as_index=False).sum()\n```\n\nNow I get 'g' as column.  \n\nHowever, when I do \n\n```\nX.groupby(['g'],as_index=False).quantile()\n```\n\nThe `'g'` has disappeared.  \n\nWhy the difference in behaviour?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132182634",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-132182634",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 132182634,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjE4MjYzNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T11:38:55Z",
    "updated_at": "2015-08-18T11:38:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "see #5755 their is some inconsitencies here. requires a bit of an effort to fix.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132184655",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-132184655",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 132184655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjE4NDY1NQ==",
    "user": {
      "login": "pekaalto",
      "id": 13544755,
      "node_id": "MDQ6VXNlcjEzNTQ0NzU1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/13544755?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pekaalto",
      "html_url": "https://github.com/pekaalto",
      "followers_url": "https://api.github.com/users/pekaalto/followers",
      "following_url": "https://api.github.com/users/pekaalto/following{/other_user}",
      "gists_url": "https://api.github.com/users/pekaalto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pekaalto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pekaalto/subscriptions",
      "organizations_url": "https://api.github.com/users/pekaalto/orgs",
      "repos_url": "https://api.github.com/users/pekaalto/repos",
      "events_url": "https://api.github.com/users/pekaalto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pekaalto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T11:47:13Z",
    "updated_at": "2015-08-18T11:47:13Z",
    "author_association": "NONE",
    "body": "Oh ok thanks. Didn't find that issue by myself. Seems to be similar case.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/306482177",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-306482177",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 306482177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjQ4MjE3Nw==",
    "user": {
      "login": "pierre-haessig",
      "id": 1010404,
      "node_id": "MDQ6VXNlcjEwMTA0MDQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1010404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pierre-haessig",
      "html_url": "https://github.com/pierre-haessig",
      "followers_url": "https://api.github.com/users/pierre-haessig/followers",
      "following_url": "https://api.github.com/users/pierre-haessig/following{/other_user}",
      "gists_url": "https://api.github.com/users/pierre-haessig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pierre-haessig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pierre-haessig/subscriptions",
      "organizations_url": "https://api.github.com/users/pierre-haessig/orgs",
      "repos_url": "https://api.github.com/users/pierre-haessig/repos",
      "events_url": "https://api.github.com/users/pierre-haessig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pierre-haessig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-06T13:14:29Z",
    "updated_at": "2017-06-06T13:14:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've also got bitten by the inconsistency of `quantile` vs. `min/max/mean` in the context of time series resampling: it makes it more difficult (one needs to use `apply(...)`) to compute the quantile over each period. Here is an example:\r\n\r\n```\r\n>>> rng = pd.date_range('1/1/2011', periods=72, freq='H')\r\n>>> ts = pd.Series(np.random.randn(len(rng)), index=rng)\r\n>>> ts.resample('1D').max() # easy\r\n\r\n2011-01-01    2.544352\r\n2011-01-02    1.594400\r\n2011-01-03    1.395219\r\nFreq: D, dtype: float64\r\n\r\n>>> ts.resample('1D').quantile(0.999) # doesn't work as expected, like max()\r\n/home/pierre/Programmes/anaconda3/lib/python3.6/site-packages/ipykernel_launcher.py:1: FutureWarning: \r\n.resample() is now a deferred operation\r\nYou called quantile(...) on this deferred object which materialized it into a series\r\nby implicitly taking the mean.  Use .resample(...).mean() instead\r\n  \"\"\"Entry point for launching an IPython kernel.\r\n\r\n0.1853409719492341\r\n\r\n>>> ts.resample('1D').apply(lambda x: x.quantile(0.999)) # works, but more typing\r\n\r\n2011-01-01    2.530162\r\n2011-01-02    1.588451\r\n2011-01-03    1.388551\r\nFreq: D, dtype: float64\r\n```\r\n\r\nI'm using pandas 0.20.2.\r\n\r\nIs this related to the `as_index` parameter mentioned in #5755 or is it something else? Should I file a separate issue?\r\n\r\nAlso, as a side note, the example in the API reference http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.DataFrameGroupBy.quantile.html doesn't use `groupy`..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/306485276",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-306485276",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 306485276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjQ4NTI3Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-06T13:25:56Z",
    "updated_at": "2017-06-06T13:25:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Also, as a side note, the example in the API reference http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.DataFrameGroupBy.quantile.html doesn't use groupy...\r\n\r\ndocs are mostly just references to the Series methods themselves. certainly would take a PR with a better example."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/306485719",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-306485719",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 306485719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjQ4NTcxOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-06T13:27:34Z",
    "updated_at": "2017-06-06T13:27:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@pekaalto your other issue is this: https://github.com/pandas-dev/pandas/issues/15023\r\n\r\nPR's welcome on that as well! (its easy!)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/306709138",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10842#issuecomment-306709138",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10842",
    "id": 306709138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjcwOTEzOA==",
    "user": {
      "login": "pierre-haessig",
      "id": 1010404,
      "node_id": "MDQ6VXNlcjEwMTA0MDQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1010404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pierre-haessig",
      "html_url": "https://github.com/pierre-haessig",
      "followers_url": "https://api.github.com/users/pierre-haessig/followers",
      "following_url": "https://api.github.com/users/pierre-haessig/following{/other_user}",
      "gists_url": "https://api.github.com/users/pierre-haessig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pierre-haessig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pierre-haessig/subscriptions",
      "organizations_url": "https://api.github.com/users/pierre-haessig/orgs",
      "repos_url": "https://api.github.com/users/pierre-haessig/repos",
      "events_url": "https://api.github.com/users/pierre-haessig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pierre-haessig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-07T07:19:54Z",
    "updated_at": "2017-06-07T07:19:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @jreback for the pointer! For now I'll stick with the `apply()` work around."
  }
]
