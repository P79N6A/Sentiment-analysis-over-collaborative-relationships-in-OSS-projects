[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238349482",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13939#issuecomment-238349482",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13939",
    "id": 238349482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM0OTQ4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T19:30:18Z",
    "updated_at": "2016-08-08T19:30:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "actually this should already work, have you tried it?\n\nthis goes thru the same filepath as is used by read_csv\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238352528",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13939#issuecomment-238352528",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13939",
    "id": 238352528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM1MjUyOA==",
    "user": {
      "login": "ankitdhingra",
      "id": 676522,
      "node_id": "MDQ6VXNlcjY3NjUyMg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/676522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ankitdhingra",
      "html_url": "https://github.com/ankitdhingra",
      "followers_url": "https://api.github.com/users/ankitdhingra/followers",
      "following_url": "https://api.github.com/users/ankitdhingra/following{/other_user}",
      "gists_url": "https://api.github.com/users/ankitdhingra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ankitdhingra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ankitdhingra/subscriptions",
      "organizations_url": "https://api.github.com/users/ankitdhingra/orgs",
      "repos_url": "https://api.github.com/users/ankitdhingra/repos",
      "events_url": "https://api.github.com/users/ankitdhingra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ankitdhingra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T19:42:19Z",
    "updated_at": "2016-08-08T19:44:09Z",
    "author_association": "NONE",
    "body": "I have tried it, but unfortunately it doesn't work. I get the following error:\n\n```\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-3-009ad5a2cf9f> in <module>()\n      2 pd.show_versions()\n      3 \n----> 4 pd.read_sas(\"s3:/bucket-url/temp.sas7bdat\")\n\n/home/anaconda2/lib/python2.7/site-packages/pandas/io/sas/sasreader.py in read_sas(filepath_or_buffer, format, index, encoding, chunksize, iterator)\n     52         reader = SAS7BDATReader(filepath_or_buffer, index=index,\n     53                                 encoding=encoding,\n---> 54                                 chunksize=chunksize)\n     55     else:\n     56         raise ValueError('unknown SAS format')\n\n/home/anaconda2/lib/python2.7/site-packages/pandas/io/sas/sas7bdat.py in __init__(self, path_or_buf, index, convert_dates, blank_missing, chunksize, encoding, convert_text, convert_header_text)\n     94             self._path_or_buf = open(self._path_or_buf, 'rb')\n     95 \n---> 96         self._get_properties()\n     97         self._parse_metadata()\n     98 \n\n/home/anaconda2/lib/python2.7/site-packages/pandas/io/sas/sas7bdat.py in _get_properties(self)\n    100 \n    101         # Check magic number\n--> 102         self._path_or_buf.seek(0)\n    103         self._cached_page = self._path_or_buf.read(288)\n    104         if self._cached_page[0:len(const.magic)] != const.magic:\n\nAttributeError: 'BotoFileLikeReader' object has no attribute 'seek'\n```\n\nThe documentation doesn't mention the ability to read from S3 as well [Pandas.read_sas](http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sas.html)\n\nOutput from pd.show_versions():\n\n```\nINSTALLED VERSIONS\n------------------\ncommit: None\npython: 2.7.12.final.0\npython-bits: 64\nOS: Linux\nOS-release: 4.1.13-18.26.amzn1.x86_64\nmachine: x86_64\nprocessor: x86_64\nbyteorder: little\nLC_ALL: None\nLANG: en_US.UTF-8\n\npandas: 0.18.1\nnose: 1.3.7\npip: 8.1.2\nsetuptools: 23.0.0\nCython: 0.24\nnumpy: 1.11.1\nscipy: 0.17.1\nstatsmodels: 0.6.1\nxarray: None\nIPython: 4.2.0\nsphinx: 1.4.1\npatsy: 0.4.1\ndateutil: 2.5.3\npytz: 2016.4\nblosc: None\nbottleneck: 1.1.0\ntables: 3.2.2\nnumexpr: 2.6.0\nmatplotlib: 1.5.1\nopenpyxl: 2.3.2\nxlrd: 1.0.0\nxlwt: 1.1.2\nxlsxwriter: 0.9.2\nlxml: 3.6.0\nbs4: 4.4.1\nhtml5lib: None\nhttplib2: None\napiclient: None\nsqlalchemy: 1.0.13\npymysql: None\npsycopg2: None\njinja2: 2.8\nboto: 2.40.0\npandas_datareader: None\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238353313",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13939#issuecomment-238353313",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13939",
    "id": 238353313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM1MzMxMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T19:45:15Z",
    "updated_at": "2016-08-08T19:45:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, this may require something more then.\n\ncc @kshedden \ncc @TomAugspurger; xref https://github.com/pydata/pandas/pull/13137\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238378324",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13939#issuecomment-238378324",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13939",
    "id": 238378324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM3ODMyNA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T21:09:40Z",
    "updated_at": "2016-08-08T21:09:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "switching over to s3fs should handle this, as it does implement `seek`.\n\nAlthough I thing there's a second bug in `read_sas` only accepting filepaths, and not buffers.\n\n``` python\nIn [31]: with open('test1.sas7bdat', 'rb') as f:\n    ...:     pd.read_sas(f)\n    ...:\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-31-85bbca72eb65> in <module>()\n      1 with open('test1.sas7bdat') as f:\n----> 2     pd.read_sas(f)\n      3\n\n/Users/tom.augspurger/Envs/surveyer/lib/python3.5/site-packages/pandas/io/sas/sasreader.py in read_sas(filepath_or_buffer, format, index, encoding, chunksize, iterator)\n     43             pass\n     44\n---> 45     if format.lower() == 'xport':\n     46         from pandas.io.sas.sas_xport import XportReader\n     47         reader = XportReader(filepath_or_buffer, index=index,\n\nAttributeError: 'NoneType' object has no attribute 'lower'\n```\n\nwill make an issue later.\n\nWorking around that, and reading from s3,\n\n``` python\nIn [33]: from pandas.io.sas.sas7bdat import SAS7BDATReader\nIn [34]: fs = s3fs.S3FileSystem(anon=False)\n\nIn [35]: f = fs.open('s3://<bucket>/test.sas7bdat')\n\nIn [36]: SAS7BDATReader(f).read()\nOut[36]:\n   Column1       Column2  Column3    Column4  Column5       Column6  Column7  \\\n0    0.636       b'pear'     84.0 1965-12-10    0.103      b'apple'     20.0\n1    0.283        b'dog'     49.0 1977-03-07    0.398       b'pear'     50.0\n2    0.452       b'pear'     35.0 1983-08-15    0.117       b'pear'     70.0\n3    0.557        b'dog'     29.0 1974-06-28    0.640       b'pear'     34.0\n4    0.138           NaN     55.0 1965-03-18    0.583  b'crocodile'     34.0\n5    0.948        b'dog'     33.0 1984-07-15    0.691       b'pear'      NaN\n6    0.162  b'crocodile'     17.0 1982-06-03    0.002       b'pear'     30.0\n7    0.148  b'crocodile'     37.0 1964-10-06    0.411      b'apple'     23.0\n8      NaN       b'pear'     15.0 1970-01-27    0.102       b'pear'      1.0\n9    0.663       b'pear'      NaN 1981-03-06    0.086      b'apple'     80.0\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238382094",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13939#issuecomment-238382094",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13939",
    "id": 238382094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM4MjA5NA==",
    "user": {
      "login": "ankitdhingra",
      "id": 676522,
      "node_id": "MDQ6VXNlcjY3NjUyMg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/676522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ankitdhingra",
      "html_url": "https://github.com/ankitdhingra",
      "followers_url": "https://api.github.com/users/ankitdhingra/followers",
      "following_url": "https://api.github.com/users/ankitdhingra/following{/other_user}",
      "gists_url": "https://api.github.com/users/ankitdhingra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ankitdhingra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ankitdhingra/subscriptions",
      "organizations_url": "https://api.github.com/users/ankitdhingra/orgs",
      "repos_url": "https://api.github.com/users/ankitdhingra/repos",
      "events_url": "https://api.github.com/users/ankitdhingra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ankitdhingra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T21:23:30Z",
    "updated_at": "2016-08-08T21:23:30Z",
    "author_association": "NONE",
    "body": "@TomAugspurger Are you talking about this [s3fs](http://s3fs.readthedocs.io/en/latest/).\nThis is based on boto3 whereas pandas is based on boto2. Will that be fine?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238389276",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13939#issuecomment-238389276",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13939",
    "id": 238389276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM4OTI3Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T21:52:11Z",
    "updated_at": "2016-08-08T21:52:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ankitdhingra yeah, sorry. See https://github.com/pydata/pandas/issues/11915 for context. We were having issues with boto2 and are probably going to depend on s3fs for S3-related stuff in the future. That'll make supporting things like this (and writing s3 files) easier. I jsut haven't had time to finish that pull-request.\n\nIn the meantime, getting a filebuffer object from `s3fs.open(s3://bucket/key)` and passing that to any of the `read_*` methods _should_ work (once we fix that other bug I mentioned).\n"
  }
]
