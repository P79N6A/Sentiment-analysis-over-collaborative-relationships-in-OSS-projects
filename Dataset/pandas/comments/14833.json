[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/265821616",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-265821616",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 265821616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTgyMTYxNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-08T18:51:02Z",
    "updated_at": "2016-12-08T18:51:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "I suppose could just disable this. numpy doesn't undertsand object array searchsorted generally\r\n\r\n```\r\nIn [4]: pandas.MultiIndex([[0],[\"a\"]], [[0],[0]]).values.searchsorted((1,\"b\"))\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-4-b9352c7b8bea> in <module>()\r\n----> 1 pandas.MultiIndex([[0],[\"a\"]], [[0],[0]]).values.searchsorted((1,\"b\"))\r\n\r\nTypeError: unorderable types: tuple() > str()\r\n```\r\n\r\nmaybe just raise a ``NotImplementedError``. This is pretty much a useless operation anyhow, you always to search by levels via indexing"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/276717655",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-276717655",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 276717655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjcxNzY1NQ==",
    "user": {
      "login": "ritwickdsouza",
      "id": 9320326,
      "node_id": "MDQ6VXNlcjkzMjAzMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9320326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ritwickdsouza",
      "html_url": "https://github.com/ritwickdsouza",
      "followers_url": "https://api.github.com/users/ritwickdsouza/followers",
      "following_url": "https://api.github.com/users/ritwickdsouza/following{/other_user}",
      "gists_url": "https://api.github.com/users/ritwickdsouza/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ritwickdsouza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ritwickdsouza/subscriptions",
      "organizations_url": "https://api.github.com/users/ritwickdsouza/orgs",
      "repos_url": "https://api.github.com/users/ritwickdsouza/repos",
      "events_url": "https://api.github.com/users/ritwickdsouza/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ritwickdsouza/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T17:10:02Z",
    "updated_at": "2017-02-01T17:10:02Z",
    "author_association": "NONE",
    "body": "Is this issue still available to fix ?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/276719307",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-276719307",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 276719307,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjcxOTMwNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T17:15:54Z",
    "updated_at": "2017-02-01T17:15:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes,\r\n\r\nnote that we should simply define ``.searchsorted`` in ``pandas/indexes/multi.py`` and use the direct indexers, ``.get_indexer``, which is way more efficient (as its hashtable based)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/277227447",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-277227447",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 277227447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzIyNzQ0Nw==",
    "user": {
      "login": "ritwickdsouza",
      "id": 9320326,
      "node_id": "MDQ6VXNlcjkzMjAzMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9320326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ritwickdsouza",
      "html_url": "https://github.com/ritwickdsouza",
      "followers_url": "https://api.github.com/users/ritwickdsouza/followers",
      "following_url": "https://api.github.com/users/ritwickdsouza/following{/other_user}",
      "gists_url": "https://api.github.com/users/ritwickdsouza/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ritwickdsouza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ritwickdsouza/subscriptions",
      "organizations_url": "https://api.github.com/users/ritwickdsouza/orgs",
      "repos_url": "https://api.github.com/users/ritwickdsouza/repos",
      "events_url": "https://api.github.com/users/ritwickdsouza/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ritwickdsouza/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-03T11:37:31Z",
    "updated_at": "2017-02-03T11:37:31Z",
    "author_association": "NONE",
    "body": "@jreback I am new to pandas, could you throw some light on how i can use `.get_indexer` to implement `.searchsorted` ?\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/277248454",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-277248454",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 277248454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzI0ODQ1NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-03T13:38:56Z",
    "updated_at": "2017-02-03T13:38:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "\r\n``.get_indexer`` returns the *indexer* , IOW the location of the point. -1 marks not found items. This works on *any* multi-index. Note these don't even have to be sorted (but is more efficient if they are).\r\n```\r\nIn [2]: i = pd.MultiIndex.from_tuples([(0, 'a'), (0, 'b'), (1, 'a')])\r\n\r\nIn [3]: i\r\nOut[3]: \r\nMultiIndex(levels=[[0, 1], ['a', 'b']],\r\n           labels=[[0, 0, 1], [0, 1, 0]])\r\n\r\nIn [4]: i.values\r\nOut[4]: array([(0, 'a'), (0, 'b'), (1, 'a')], dtype=object)\r\n\r\nIn [5]: i.get_indexer([(0,'b'), (1, 'a'), (2, 'c')])\r\nOut[5]: array([ 1,  2, -1])\r\n```\r\n\r\nHere's what searchsorted does; I am using an interger array because numpy doesn't play nice with tuples. It returns the *indexer* of the match (IOW where it is in the array). Note if something is not found it returns the last index before that (which is really unintuitve!)\r\n```\r\nIn [6]: np.array([1, 2, 3]).searchsorted([2, 3])\r\nOut[6]: array([1, 2])\r\n\r\nIn [7]: np.array([1, 2, 3]).searchsorted([2, 3, 5])\r\nOut[7]: array([1, 2, 3])\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/369810862",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-369810862",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 369810862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTgxMDg2Mg==",
    "user": {
      "login": "bhavybarca",
      "id": 33397732,
      "node_id": "MDQ6VXNlcjMzMzk3NzMy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/33397732?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bhavybarca",
      "html_url": "https://github.com/bhavybarca",
      "followers_url": "https://api.github.com/users/bhavybarca/followers",
      "following_url": "https://api.github.com/users/bhavybarca/following{/other_user}",
      "gists_url": "https://api.github.com/users/bhavybarca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bhavybarca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bhavybarca/subscriptions",
      "organizations_url": "https://api.github.com/users/bhavybarca/orgs",
      "repos_url": "https://api.github.com/users/bhavybarca/repos",
      "events_url": "https://api.github.com/users/bhavybarca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bhavybarca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-02T03:39:48Z",
    "updated_at": "2018-03-02T03:39:48Z",
    "author_association": "NONE",
    "body": "@jreback this issue still open ?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/369812590",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-369812590",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 369812590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTgxMjU5MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-02T03:53:36Z",
    "updated_at": "2018-03-02T03:53:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/370163876",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-370163876",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 370163876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDE2Mzg3Ng==",
    "user": {
      "login": "bhavybarca",
      "id": 33397732,
      "node_id": "MDQ6VXNlcjMzMzk3NzMy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/33397732?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bhavybarca",
      "html_url": "https://github.com/bhavybarca",
      "followers_url": "https://api.github.com/users/bhavybarca/followers",
      "following_url": "https://api.github.com/users/bhavybarca/following{/other_user}",
      "gists_url": "https://api.github.com/users/bhavybarca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bhavybarca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bhavybarca/subscriptions",
      "organizations_url": "https://api.github.com/users/bhavybarca/orgs",
      "repos_url": "https://api.github.com/users/bhavybarca/repos",
      "events_url": "https://api.github.com/users/bhavybarca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bhavybarca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-03T17:14:58Z",
    "updated_at": "2018-03-03T17:14:58Z",
    "author_association": "NONE",
    "body": "@TomAugspurger @jreback  i am a little bit confused to what should i do exactly, i mean should i simply raise a NotImplementedError as said by @jreback ? or should i replace the searchsorted by get_indexer and somehow get a value for even tuples as said is issue example "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/373693815",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-373693815",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 373693815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzY5MzgxNQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-16T12:05:56Z",
    "updated_at": "2018-03-16T12:05:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "If supporting `searchsorted` is an option that makes sense. https://github.com/pandas-dev/pandas/issues/14833#issuecomment-276719307 indicates that that can be done using `get_indexer`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/430431631",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-430431631",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 430431631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDQzMTYzMQ==",
    "user": {
      "login": "btel",
      "id": 41565,
      "node_id": "MDQ6VXNlcjQxNTY1",
      "avatar_url": "https://avatars2.githubusercontent.com/u/41565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btel",
      "html_url": "https://github.com/btel",
      "followers_url": "https://api.github.com/users/btel/followers",
      "following_url": "https://api.github.com/users/btel/following{/other_user}",
      "gists_url": "https://api.github.com/users/btel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btel/subscriptions",
      "organizations_url": "https://api.github.com/users/btel/orgs",
      "repos_url": "https://api.github.com/users/btel/repos",
      "events_url": "https://api.github.com/users/btel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-16T23:05:08Z",
    "updated_at": "2018-10-16T23:05:08Z",
    "author_association": "NONE",
    "body": "Since there was no activity since March, I would be interested in working on this issue. It might be nice to implement searchsorted as suggested by @jreback, but the issue I see is that numpy's searchsorted can give the location of an element in a sorted array that would keep the sort order even if the element does not exist. Here is an example:\r\n\r\n```\r\n>>> np.searchsorted([1, 3, 5], [2])\r\narray([1])\r\n```\r\nFrom what I understand `.get_indexer` will simply return -1 (element not found). Naive implementation of numpy's behaviour might use `bisect` module from Python's standard library for the not-found elements, but it would be rather inefficient.\r\n\r\nInterestingly, numpy's searchsorted can also work with tuples if we define an appropriate dtype:\r\n\r\n```\r\n>>> dtype = [(\"int\", 'i8'), (\"str\", \"U1\" )]\r\n>>> arr = np.array([(0, 'a'), (0, 'b'), (1, 'c')], dtype=dtype)\r\n>>> arr.searchsorted(np.array([(1, 'a')], dtype=dtype))\r\narray([2])\r\n```\r\n\r\nA possible implementation of searchsorted would then coerce the multiindex to an ndarray with adapted dtype, and use the numpy's builtin searchsorted. What do you think?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/430434668",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14833#issuecomment-430434668",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14833",
    "id": 430434668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDQzNDY2OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-16T23:19:45Z",
    "updated_at": "2018-10-16T23:19:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "so this might be easier now as the implementation of MI was recently refactored to directly keep the underlying codes in the cython table"
  }
]
