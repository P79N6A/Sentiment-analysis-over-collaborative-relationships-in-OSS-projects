[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269638646",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15008#issuecomment-269638646",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15008",
    "id": 269638646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTYzODY0Ng==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-29T14:36:13Z",
    "updated_at": "2016-12-29T15:46:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here are my thoughts on the API.\r\n\r\n+ Read methods should support the following compression methods: `None, 'infer', 'gzip', 'bz2', 'xz', 'zip'`. Xref https://github.com/pandas-dev/pandas/issues/11666\r\n\r\n+ Write methods should support the following compression methods: `None, 'infer', 'gzip', 'bz2', 'xz'` (no zip since it's perhaps bad practice).\r\n\r\n+ We may want to support both long and short compression names. Currently, you specify `gzip` not `gz`, but `bz2` not `bzip2`.\r\n\r\n+ Read methods should support reading from a path, buffer, or URL.\r\n\r\n+ Write methods should support writing to a path or buffer.\r\n\r\n+ Textual payloads should support the encoding argument\r\n\r\nRegarding the consolidated codebase:\r\n\r\n+ I'd favor greater separation of the code for 2 and 3. This way when pandas becomes 3-only, the entire 2 sections can be deleted.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269646490",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15008#issuecomment-269646490",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15008",
    "id": 269646490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTY0NjQ5MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-29T15:32:36Z",
    "updated_at": "2016-12-29T15:32:36Z",
    "author_association": "MEMBER",
    "body": "That sounds great! \r\nIf you would like to work towards this, that would be very welcome.\r\n\r\nRegarding the py2/py3 separation, I think we should just do what is most practical here (having a certain separation makes the code more clear, too much separation can make it more complex again. In any case, having a few but scattered `if PY2` statements are also rather easy to delete). But if all related code is contained in io/common.py, it should not be too difficult to find a good balance in that one file here.\r\n\r\nOne more consolidation that would be possible for `read_csv` is between the python and c engine. I *think* the c engine still has its own logic for handling compression, while I do not think this is needed to be in the cython/c code (I don't think this is the performance sensitive part?)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269648633",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15008#issuecomment-269648633",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15008",
    "id": 269648633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTY0ODYzMw==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-29T15:46:39Z",
    "updated_at": "2016-12-29T15:46:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "> If you would like to work towards this, that would be very welcome.\r\n\r\nLet's wait for #13317 and any other IO PRs that I don't know about to be merged. I'm hesitant to commit since I know it will cut into my other obligations. But if no one else is interested in implementing, I'll consider.\r\n\r\n> I think we should just do what is most practical here\r\n\r\nTotally agree. There are still a few things I need to understand before I can make that call. One issue is `mode` in `_get_handle`, which currently is poorly documented. Presumably this could include `t` for text or `b` for bytes, which will have some interactions with Py 2 or 3.\r\n\r\n> I think the c engine still has its own logic for handling compression, while I do not think this is needed to be in the cython/c code\r\n\r\nAgree the `c` engine implementation should be consolidated, unless there is a major performance issue. But the duplicated [functionality with `_get_handle`](https://github.com/pandas-dev/pandas/blob/e27b29697f0dcf9359f01a19edb2f20c6d728b6c/pandas/parser.pyx#L604-L694) appears not to be c optimized (I'm not sure as I don't know cython)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269665233",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15008#issuecomment-269665233",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15008",
    "id": 269665233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTY2NTIzMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-29T17:38:59Z",
    "updated_at": "2016-12-29T17:38:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dhimmel can you annotate the above (or maybe make it a table)\r\n\r\nadd an x/check if supports pathlib like things / compression / url"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269736422",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15008#issuecomment-269736422",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15008",
    "id": 269736422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTczNjQyMg==",
    "user": {
      "login": "goldenbull",
      "id": 9129006,
      "node_id": "MDQ6VXNlcjkxMjkwMDY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9129006?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goldenbull",
      "html_url": "https://github.com/goldenbull",
      "followers_url": "https://api.github.com/users/goldenbull/followers",
      "following_url": "https://api.github.com/users/goldenbull/following{/other_user}",
      "gists_url": "https://api.github.com/users/goldenbull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goldenbull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goldenbull/subscriptions",
      "organizations_url": "https://api.github.com/users/goldenbull/orgs",
      "repos_url": "https://api.github.com/users/goldenbull/repos",
      "events_url": "https://api.github.com/users/goldenbull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goldenbull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T06:13:22Z",
    "updated_at": "2016-12-30T06:13:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "agree! üëç \r\nI'm now working on #13317 and found `_get_handle` a bit complex to understand.\r\n`_get_handle` needs to deal with varies situations:\r\n\r\n- py2 or py3\r\n- binary (pickle, msgpack) or text (csv)\r\n- if text, what's the encoding\r\n- compression\r\n- memory map\r\n- open for read or write\r\n\r\nIt seems to be better to spilt _get_handle into two or more functions to make each single function simpler\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403286508",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15008#issuecomment-403286508",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15008",
    "id": 403286508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI4NjUwOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-08T13:05:38Z",
    "updated_at": "2018-07-08T13:05:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gfyoung can you evaluate this issue, e.g. close, tick boxes, etc."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403315094",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15008#issuecomment-403315094",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15008",
    "id": 403315094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzMxNTA5NA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-08T20:36:34Z",
    "updated_at": "2018-07-08T20:36:34Z",
    "author_association": "MEMBER",
    "body": "@jreback : This looks to be a much more substantial refactoring at the moment.  The checkboxes were more of an enumeration of methods instead of actual tasks AFAICT."
  }
]
