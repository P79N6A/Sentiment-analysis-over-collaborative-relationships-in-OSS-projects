[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424838775",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-424838775",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 424838775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDgzODc3NQ==",
    "user": {
      "login": "pep8speaks",
      "id": 24736507,
      "node_id": "MDQ6VXNlcjI0NzM2NTA3",
      "avatar_url": "https://avatars1.githubusercontent.com/u/24736507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pep8speaks",
      "html_url": "https://github.com/pep8speaks",
      "followers_url": "https://api.github.com/users/pep8speaks/followers",
      "following_url": "https://api.github.com/users/pep8speaks/following{/other_user}",
      "gists_url": "https://api.github.com/users/pep8speaks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pep8speaks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pep8speaks/subscriptions",
      "organizations_url": "https://api.github.com/users/pep8speaks/orgs",
      "repos_url": "https://api.github.com/users/pep8speaks/repos",
      "events_url": "https://api.github.com/users/pep8speaks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pep8speaks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T19:22:05Z",
    "updated_at": "2018-09-26T19:22:05Z",
    "author_association": "NONE",
    "body": "Hello @dsaxton! Thanks for submitting the PR.\n\n - There are no PEP8 issues in the file [`pandas/core/frame.py`](https://github.com/dsaxton/pandas/blob/9a95e8c1c26193398ad534540770eb89b5d85e7b/pandas/core/frame.py) !\n\n - There are no PEP8 issues in the file [`pandas/tests/frame/test_analytics.py`](https://github.com/dsaxton/pandas/blob/9a95e8c1c26193398ad534540770eb89b5d85e7b/pandas/tests/frame/test_analytics.py) !\n\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424844444",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-424844444",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 424844444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDg0NDQ0NA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T19:41:59Z",
    "updated_at": "2018-09-26T19:41:59Z",
    "author_association": "MEMBER",
    "body": "Some general comments:\r\n\r\n1. If we were to include a `tri` argument, I would prefer a `tri=None(default)/'upper'/'lower'` instead of `tri=True/False` for just the lower triangular so users can have the option of the upper triangular.\r\n2. In your implementation, it appears fill value would be `NaN` as opposed to numpy (triu/trul) which the fill value is 0. I am not sure what the preferred fill value should be, but in general we try to stay consistent with numpy conventions. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424845895",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-424845895",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 424845895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDg0NTg5NQ==",
    "user": {
      "login": "dsaxton",
      "id": 2658661,
      "node_id": "MDQ6VXNlcjI2NTg2NjE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2658661?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsaxton",
      "html_url": "https://github.com/dsaxton",
      "followers_url": "https://api.github.com/users/dsaxton/followers",
      "following_url": "https://api.github.com/users/dsaxton/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsaxton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsaxton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsaxton/subscriptions",
      "organizations_url": "https://api.github.com/users/dsaxton/orgs",
      "repos_url": "https://api.github.com/users/dsaxton/repos",
      "events_url": "https://api.github.com/users/dsaxton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsaxton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-26T19:46:53Z",
    "updated_at": "2018-09-26T19:46:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mroeschke Good points, I can change the argument to \"upper\", \"lower\" or None rather than True or False.  It's interesting that `numpy` uses zeros for omitted entries, would be curious to hear how others feel."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/424874451",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-424874451",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 424874451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDg3NDQ1MQ==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-09-26T21:23:11Z",
    "updated_at": "2018-09-28T00:56:00Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/22842?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@a03d953`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `90%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/22842/graphs/tree.svg?width=650&token=eZ4WkYLtcO&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/22842?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master   #22842   +/-   ##\n=========================================\n  Coverage          ?   90.61%           \n=========================================\n  Files             ?      169           \n  Lines             ?    50835           \n  Branches          ?        0           \n=========================================\n  Hits              ?    46062           \n  Misses            ?     4773           \n  Partials          ?        0\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.61% <90%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/22842?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/frame.py](https://codecov.io/gh/pandas-dev/pandas/pull/22842/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZnJhbWUucHk=) | `97.16% <90%> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/22842?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/22842?src=pr&el=footer). Last update [a03d953...9df2bcb](https://codecov.io/gh/pandas-dev/pandas/pull/22842?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425096224",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425096224",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425096224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTA5NjIyNA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-27T13:39:26Z",
    "updated_at": "2018-09-27T13:39:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes.\n\nOn Thu, Sep 27, 2018 at 8:37 AM Daniel Saxton <notifications@github.com>\nwrote:\n\n> *@dsaxton* commented on this pull request.\n> ------------------------------\n>\n> In pandas/core/frame.py\n> <https://github.com/pandas-dev/pandas/pull/22842#discussion_r220925527>:\n>\n> > @@ -6686,6 +6686,12 @@ def corr(self, method='pearson', min_periods=1):\n>              to have a valid result. Currently only available for pearson\n>              and spearman correlation\n>\n> +        tri : {'upper', 'lower'} or None, default : None\n> +            Whether or not to return the upper / lower triangular\n> +            correlation matrix\n>\n> Sure, you mean within the docstring itself right?\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/pull/22842#discussion_r220925527>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIk8oEsMuV4-Al9Lqc3WGAyFg3c1jks5ufNSSgaJpZM4W7Um_>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425267758",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425267758",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425267758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTI2Nzc1OA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-27T22:54:19Z",
    "updated_at": "2018-09-27T22:54:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "> 2\\. In your implementation, it appears fill value would be `NaN` as opposed to numpy (triu/trul) which the fill value is 0. I am not sure what the preferred fill value should be, but in general we try to stay consistent with numpy conventions.\r\n\r\nNumPy's tril/u are standard matrix algebra ops.  In the use case argued for this api change, the reason is to have simple ops on the correlation to find certain features.  Presumably you want to not double count.\r\n\r\nI don't really see why a masked triangular is the right approach to the stated problem.  For example, if I wanted to find the variable with the highest correlation, I would be just as happy to have all elements except the diagonal.  If I want to find the variable with the highest average correlation to the others, I need a full matrix except the diagonal to make it easy to call sum()\r\n\r\n`tri` is probably the wrong description.  `mask` with choices {lower,upper, diag} seems like it would be more general."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425283255",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425283255",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425283255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTI4MzI1NQ==",
    "user": {
      "login": "dsaxton",
      "id": 2658661,
      "node_id": "MDQ6VXNlcjI2NTg2NjE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2658661?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsaxton",
      "html_url": "https://github.com/dsaxton",
      "followers_url": "https://api.github.com/users/dsaxton/followers",
      "following_url": "https://api.github.com/users/dsaxton/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsaxton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsaxton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsaxton/subscriptions",
      "organizations_url": "https://api.github.com/users/dsaxton/orgs",
      "repos_url": "https://api.github.com/users/dsaxton/repos",
      "events_url": "https://api.github.com/users/dsaxton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsaxton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-28T00:29:31Z",
    "updated_at": "2018-09-28T00:29:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@bashtage It allows for simple one-liners like `corr_mat.where(corr_mat.abs() > 0.9).dropna(how=\"all\", axis=1).columns` to extract the names of single columns from highly correlated pairs as mentioned in #22840.  This doesn't work with the full correlation matrix, or the matrix with only the diagonal removed."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425308337",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425308337",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425308337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTMwODMzNw==",
    "user": {
      "login": "dsaxton",
      "id": 2658661,
      "node_id": "MDQ6VXNlcjI2NTg2NjE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2658661?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsaxton",
      "html_url": "https://github.com/dsaxton",
      "followers_url": "https://api.github.com/users/dsaxton/followers",
      "following_url": "https://api.github.com/users/dsaxton/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsaxton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsaxton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsaxton/subscriptions",
      "organizations_url": "https://api.github.com/users/dsaxton/orgs",
      "repos_url": "https://api.github.com/users/dsaxton/repos",
      "events_url": "https://api.github.com/users/dsaxton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsaxton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-28T03:17:30Z",
    "updated_at": "2018-09-28T03:17:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger Regarding the docstring example, should it be something as in the most recent commit, or perhaps just the full lower triangular form itself?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425344192",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425344192",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425344192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTM0NDE5Mg==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-28T07:13:21Z",
    "updated_at": "2018-09-28T07:13:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "`corr_mat.where(corr_mat.abs() > 0.9).dropna(how=\"all\", axis=1).columns` is a strnage operation since it is order dependent while a correlation matrix is not.  In particular, this method favors dropping early columns, and so the utility of the method depends on users knowing that order matters.  I would say this is why masking the diagonal is a more natural method.  \r\n\r\n```python\r\nnp.random.seed(1)\r\nx = np.random.standard_normal((20,5))+3*np.random.standard_normal((20,1))\r\ndf = pd.DataFrame(x,columns = ['c{0}'.format(i) for i in range(5)])\r\ncorr_mat = df.corr()\r\nmask = ~np.triu(np.ones((5,5),dtype=np.bool))\r\nc2 = corr_mat.where(mask)\r\nc2\r\n```\r\n\r\n```\r\nOut[40]: \r\n          c0        c1        c2        c3  c4\r\nc0       NaN       NaN       NaN       NaN NaN\r\nc1  0.828210       NaN       NaN       NaN NaN\r\nc2  0.852960  0.938965       NaN       NaN NaN\r\nc3  0.831917  0.919567  0.921551       NaN NaN\r\nc4  0.917205  0.899102  0.916828  0.881752 NaN\r\n```\r\n\r\n```python\r\nc2.where(c2.abs() > 0.9).dropna(how=\"all\", axis=1).columns \r\n```\r\n\r\nshows\r\n```\r\nOut[41]: Index(['c0', 'c1', 'c2'], dtype='object')\r\n```\r\n\r\nBut c4 has a correlation > 0.9, as does c3.\r\n\r\nMasking the diagonal\r\n\r\n```python\r\nmask = np.eye(5, dtype=np.bool)\r\nc3 = corr_mat.where(mask)\r\nc3.where(c3.abs() > 0.9).dropna(how=\"all\", axis=1).columns \r\n```\r\n\r\nreturns the list of variables that have any correlation > 0.9 without inducing an order dependnce\r\n\r\n```\r\nOut[45]: Index(['c0', 'c1', 'c2', 'c3', 'c4'], dtype='object')\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425413647",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425413647",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425413647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTQxMzY0Nw==",
    "user": {
      "login": "dsaxton",
      "id": 2658661,
      "node_id": "MDQ6VXNlcjI2NTg2NjE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2658661?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsaxton",
      "html_url": "https://github.com/dsaxton",
      "followers_url": "https://api.github.com/users/dsaxton/followers",
      "following_url": "https://api.github.com/users/dsaxton/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsaxton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsaxton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsaxton/subscriptions",
      "organizations_url": "https://api.github.com/users/dsaxton/orgs",
      "repos_url": "https://api.github.com/users/dsaxton/repos",
      "events_url": "https://api.github.com/users/dsaxton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsaxton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-28T12:01:45Z",
    "updated_at": "2018-09-28T12:01:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@bashtage The reason for `corr_mat.where(corr_mat.abs() > 0.9).dropna(how=\"all\", axis=1).columns` is to (arbitrarily, so we don't care if the choice is affected by the order of columns) select _one_ column from each correlated pair (we don't want to select every column).\r\n\r\nIn your example we would select all but `c3` and `c4` because these do not have a correlation of at least 0.9 with each other.  The point is to select a minimal set of columns we'd need to remove to get rid of the high correlations."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425416359",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425416359",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425416359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTQxNjM1OQ==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-28T12:13:42Z",
    "updated_at": "2018-09-28T12:13:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here is a better example of why this mask can be very misleading.  Suppose the correlation matrix is\r\n```\r\n1.000 0.880 0.880 0.914\r\n0.880 1.000 0.880 0.914\r\n0.880 0.880 1.000 0.914\r\n0.914 0.914 0.914 1.000\r\n```\r\n\r\nLooking at a triangular view (lower) would delete all but the last. \r\n\r\nPivoting this column to be in the middle makes the selection used either triangular method even more problematic.  \r\n\r\nMy main point is that this seems to be a non-general mask that is not even well suited to removing variables that are highly correlated . One algorithm used in some LASSO estimators does thie following -- ding the pair with the highest correlation and then remove the the element that has the highest correaltion with the remaining -- this isn't easy to implement with a lower triangular masked view."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425417564",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425417564",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425417564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTQxNzU2NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-28T12:19:00Z",
    "updated_at": "2018-09-28T12:19:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am not really in love with this option. I would prefer this simply be a cookbook example."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425418835",
    "html_url": "https://github.com/pandas-dev/pandas/pull/22842#issuecomment-425418835",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22842",
    "id": 425418835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTQxODgzNQ==",
    "user": {
      "login": "dsaxton",
      "id": 2658661,
      "node_id": "MDQ6VXNlcjI2NTg2NjE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2658661?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsaxton",
      "html_url": "https://github.com/dsaxton",
      "followers_url": "https://api.github.com/users/dsaxton/followers",
      "following_url": "https://api.github.com/users/dsaxton/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsaxton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsaxton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsaxton/subscriptions",
      "organizations_url": "https://api.github.com/users/dsaxton/orgs",
      "repos_url": "https://api.github.com/users/dsaxton/repos",
      "events_url": "https://api.github.com/users/dsaxton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsaxton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-28T12:24:21Z",
    "updated_at": "2018-09-28T12:24:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Ok, I will close the PR and do that instead."
  }
]
