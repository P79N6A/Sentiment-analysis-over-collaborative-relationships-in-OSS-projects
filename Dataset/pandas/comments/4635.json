[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23079023",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4635#issuecomment-23079023",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4635",
    "id": 23079023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDc5MDIz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-22T09:47:30Z",
    "updated_at": "2013-08-22T09:47:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "what version pandas?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23086146",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4635#issuecomment-23086146",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4635",
    "id": 23086146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDg2MTQ2",
    "user": {
      "login": "smartexpert",
      "id": 1627433,
      "node_id": "MDQ6VXNlcjE2Mjc0MzM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1627433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartexpert",
      "html_url": "https://github.com/smartexpert",
      "followers_url": "https://api.github.com/users/smartexpert/followers",
      "following_url": "https://api.github.com/users/smartexpert/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartexpert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartexpert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartexpert/subscriptions",
      "organizations_url": "https://api.github.com/users/smartexpert/orgs",
      "repos_url": "https://api.github.com/users/smartexpert/repos",
      "events_url": "https://api.github.com/users/smartexpert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartexpert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-22T12:26:59Z",
    "updated_at": "2013-08-22T12:26:59Z",
    "author_association": "NONE",
    "body": "pandas==0.12.0\n\nI also tried to write to pytables directly by writing output of to_records with my specific dtypes to a pytable table. I am experiencing the same kind of issues and this appears to be an issue with pytables itself. Checkout http://stackoverflow.com/questions/18380139/pytables-valueerror-rows-parameter-cannot-be-converted-into-a-recarray-object-c\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23086646",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4635#issuecomment-23086646",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4635",
    "id": 23086646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDg2NjQ2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-22T12:36:26Z",
    "updated_at": "2013-08-22T12:36:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "I changed the way things are done in master, its a small code change (and doesn't involve cython), so you could do it 'manually' on windows (builds are not available on master yet), maybe that would fix it.\n\nreplace the following 2 function in\npandas/io/pytables.py\n\nIn AppendableTable\n\n```\n    def write_data(self, chunksize):\n        \"\"\" we form the data into a 2-d including indexes,values,mask\n            write chunk-by-chunk \"\"\"\n\n        names = self.dtype.names\n        nrows = self.nrows_expected\n\n        # create the masks & values\n        masks = []\n        for a in self.values_axes:\n\n            # figure the mask: only do if we can successfully process this\n            # column, otherwise ignore the mask\n            mask = com.isnull(a.data).all(axis=0)\n            masks.append(mask.astype('u1'))\n\n        # consolidate masks\n        mask = masks[0]\n        for m in masks[1:]:\n            mask = mask & m\n        mask = mask.ravel()\n\n        # broadcast the indexes if needed\n        indexes = [ a.cvalues for a in self.index_axes ]\n        nindexes = len(indexes)\n        bindexes = []\n        for i, idx in enumerate(indexes):\n\n            # broadcast to all other indexes except myself\n            if i > 0 and i < nindexes:\n                repeater = np.prod([indexes[bi].shape[0] for bi in range(0,i)])\n                idx = np.tile(idx,repeater)\n\n            if i < nindexes-1:\n                repeater = np.prod([indexes[bi].shape[0] for bi in range(i+1,nindexes)])\n                idx = np.repeat(idx,repeater)\n\n            bindexes.append(idx)\n\n        # transpose the values so first dimension is last\n        # reshape the values if needed\n        values = [ a.take_data() for a in self.values_axes]\n        values = [ v.transpose(np.roll(np.arange(v.ndim),v.ndim-1)) for v in values ]\n        bvalues = []\n        for i, v in enumerate(values):\n            new_shape = (nrows,) + self.dtype[names[nindexes + i]].shape\n            bvalues.append(values[i].ravel().reshape(new_shape))\n\n        # write the chunks\n        if chunksize is None:\n            chunksize = 100000\n\n        chunks = int(nrows / chunksize) + 1\n        for i in range(chunks):\n            start_i = i * chunksize\n            end_i = min((i + 1) * chunksize, nrows)\n            if start_i >= end_i:\n                break\n\n            self.write_data_chunk(\n                indexes=[a[start_i:end_i] for a in bindexes],\n                mask=mask[start_i:end_i],\n                values=[v[start_i:end_i] for v in bvalues])\n\n    def write_data_chunk(self, indexes, mask, values):\n\n        # 0 len\n        for v in values:\n            if not np.prod(v.shape):\n                return\n\n        try:\n            nrows = indexes[0].shape[0]\n            rows = np.empty(nrows,dtype=self.dtype)\n            names = self.dtype.names\n            nindexes = len(indexes)\n\n            # indexes\n            for i, idx in enumerate(indexes):\n                rows[names[i]] = idx\n\n            # values\n            for i, v in enumerate(values):\n                rows[names[i+nindexes]] = v\n\n            # mask\n            rows = rows[~mask.ravel().astype(bool)]\n\n        except Exception as detail:\n            raise Exception(\"cannot create row-data -> %s\" % str(detail))\n\n        try:\n            if len(rows):\n                self.table.append(rows)\n                self.table.flush()\n        except Exception as detail:\n            raise Exception(\"tables cannot write this data -> %s\" % str(detail))\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23086689",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4635#issuecomment-23086689",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4635",
    "id": 23086689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDg2Njg5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-22T12:37:03Z",
    "updated_at": "2013-08-22T12:37:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I suspect this might be a 32-bit issue, can you try on 64-bit windows?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23208682",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4635#issuecomment-23208682",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4635",
    "id": 23208682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjA4Njgy",
    "user": {
      "login": "smartexpert",
      "id": 1627433,
      "node_id": "MDQ6VXNlcjE2Mjc0MzM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1627433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartexpert",
      "html_url": "https://github.com/smartexpert",
      "followers_url": "https://api.github.com/users/smartexpert/followers",
      "following_url": "https://api.github.com/users/smartexpert/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartexpert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartexpert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartexpert/subscriptions",
      "organizations_url": "https://api.github.com/users/smartexpert/orgs",
      "repos_url": "https://api.github.com/users/smartexpert/repos",
      "events_url": "https://api.github.com/users/smartexpert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartexpert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-24T13:24:07Z",
    "updated_at": "2013-08-24T13:24:07Z",
    "author_association": "NONE",
    "body": "@jreback \n\nI made the manual code change, still encountering an error when I set chunksize=200000, works fine with chunksize=100000.I tried this on Win7 64-bit but with Python 2.7 32-bit.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23208980",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4635#issuecomment-23208980",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4635",
    "id": 23208980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjA4OTgw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-24T13:45:05Z",
    "updated_at": "2013-08-24T13:45:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "usiins 32--bit  python is the problem/bug. You can try with 64-bit python (works fine for me). \n\nIf it works with 100k rows then go with that. It will make almost no difference in speed. There might be a memory issue somewhere (as python 32 bit is quite limited and possibly could be havnig an uncaught error when it cannot allocate enough contiguous memory). Just speculation though.\n\nFYI if you have a 64 bit machine, you should for sure use 64-bit python, must more stable.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/24826500",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4635#issuecomment-24826500",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4635",
    "id": 24826500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODI2NTAw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-20T17:24:17Z",
    "updated_at": "2013-09-20T17:24:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@smartexpert closing this issue, pls open a new one (or reopen this one) if you are still experiencing issues\n"
  }
]
