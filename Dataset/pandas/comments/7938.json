[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51189657",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51189657",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51189657,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTg5NjU3",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:20:01Z",
    "updated_at": "2014-08-05T12:39:40Z",
    "author_association": "MEMBER",
    "body": "This is a limitation of MySQL (see http://dev.mysql.com/doc/refman/5.0/en/datetime.html). \n\nI personally think we should not do anything about this (users of MySQL should be aware of that / live with the limitation or circumvent it themselves if needed). But we can certainly add a warning to the docs. \n\nAnd maybe it would be possible to add a UserWarning when there are sub-second data that will be discarded? (or maybe that would be too costly to check?)\n\n@danielballan @mangecoeur @hayd @jreback  What do you think?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51189691",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51189691",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51189691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTg5Njkx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:20:24Z",
    "updated_at": "2014-08-05T12:20:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "silly question, is this a printing issue with the db? (e.g. can you have the db dump the actual values)?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51189772",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51189772",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51189772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTg5Nzcy",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:21:34Z",
    "updated_at": "2014-08-05T12:21:34Z",
    "author_association": "MEMBER",
    "body": "No, quote from the link of mysql docs:\n\n> A DATETIME or TIMESTAMP value can include a trailing fractional seconds part in up to microseconds (6 digits) precision. Although this fractional part is recognized, it is discarded from values stored into DATETIME or TIMESTAMP columns\n\nSo the information is lost when the values are _stored_ in the database.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51190193",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51190193",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51190193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTkwMTkz",
    "user": {
      "login": "femtotrader",
      "id": 5049737,
      "node_id": "MDQ6VXNlcjUwNDk3Mzc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5049737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/femtotrader",
      "html_url": "https://github.com/femtotrader",
      "followers_url": "https://api.github.com/users/femtotrader/followers",
      "following_url": "https://api.github.com/users/femtotrader/following{/other_user}",
      "gists_url": "https://api.github.com/users/femtotrader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/femtotrader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/femtotrader/subscriptions",
      "organizations_url": "https://api.github.com/users/femtotrader/orgs",
      "repos_url": "https://api.github.com/users/femtotrader/repos",
      "events_url": "https://api.github.com/users/femtotrader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/femtotrader/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:26:20Z",
    "updated_at": "2014-08-05T12:50:21Z",
    "author_association": "NONE",
    "body": "see also http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html microseconds seems to be supported by MySQL (but not nanoseconds). Do you really think that datetime64 shouldn't be stored as integer ? if you consider this is a bad idea why not using `DATETIME(6)` instead of `DATETIME` ?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51191379",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51191379",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51191379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTkxMzc5",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:39:05Z",
    "updated_at": "2014-08-05T12:39:05Z",
    "author_association": "MEMBER",
    "body": "Yes, I don't think that is a good idea (but try to convince me otherwise!) My reasoning:\n- In a lot of (most?) applications, sub-second data will not be used, and in those cases, the `datetime` type of mysql is perfectly fine. So I think that we should, certainly by default, use the `datetime` type of mysql, as this exists.\n- I agree that in some cases (eg this loss of precision) another represention can be better, eg ints. And can also be more general (works for all types of precision). But in the case above, this would also be a lot less convenient than to store it as a `datetime`, so I wouldn't do it by default.\n- The question then is, do we provide it as an option? Or leave it to the user to do the conversion? The problem here is that multiple conversions would be possible. You could eg also argue for a string representation (better interpretable as the integer value)? You could do the conversion to ints with different timebases? So, I personally think (for now) it is better to leave this to the user to do this explicit.\n- If data would be lost due to this precision limitation, a warning would indeed be ideal. We should investigate if this is easily possible.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51191614",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51191614",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51191614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTkxNjE0",
    "user": {
      "login": "danielballan",
      "id": 2279598,
      "node_id": "MDQ6VXNlcjIyNzk1OTg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2279598?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielballan",
      "html_url": "https://github.com/danielballan",
      "followers_url": "https://api.github.com/users/danielballan/followers",
      "following_url": "https://api.github.com/users/danielballan/following{/other_user}",
      "gists_url": "https://api.github.com/users/danielballan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danielballan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danielballan/subscriptions",
      "organizations_url": "https://api.github.com/users/danielballan/orgs",
      "repos_url": "https://api.github.com/users/danielballan/repos",
      "events_url": "https://api.github.com/users/danielballan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danielballan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:41:32Z",
    "updated_at": "2014-08-05T12:41:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "For compatibility with other systems, I don't think datetime64 should be stored as integers. MySQL users would expect dates to be dates. Pandas users can convert their datetime64 columns to ints or strings before writing to the db. As @jorisvandenbossche says, there are too many reasonable ways to do this: we don't want to guess.\n\nI think there's a case for making pandas warn. The performance cost is a concern. Not sure how I feel about this.\n\nFYI, I remember seeing 2-3 years ago that the feature request page for robust support of fractional seconds in MySQL is more than 10 years old.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51192364",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51192364",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51192364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTkyMzY0",
    "user": {
      "login": "femtotrader",
      "id": 5049737,
      "node_id": "MDQ6VXNlcjUwNDk3Mzc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5049737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/femtotrader",
      "html_url": "https://github.com/femtotrader",
      "followers_url": "https://api.github.com/users/femtotrader/followers",
      "following_url": "https://api.github.com/users/femtotrader/following{/other_user}",
      "gists_url": "https://api.github.com/users/femtotrader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/femtotrader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/femtotrader/subscriptions",
      "organizations_url": "https://api.github.com/users/femtotrader/orgs",
      "repos_url": "https://api.github.com/users/femtotrader/repos",
      "events_url": "https://api.github.com/users/femtotrader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/femtotrader/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:49:13Z",
    "updated_at": "2014-08-05T12:52:41Z",
    "author_association": "NONE",
    "body": "I understand that UserWarnings come with a computational time cost... so I can live without that.\n\nI would like to keep dataframe with datetime64 but I would like to be able to \"tell\" to SQLAlchemy how to manage them with database storage. Is there an API for that (a kind of converter to overload and to pass to `engine`)  ? something like `conn.set_converter_class(Datetime64Converter)` (see https://github.com/pydata/pandas/issues/7936 ) but which handle not only value but also type to use in DB.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51193233",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51193233",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51193233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTkzMjMz",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T12:57:27Z",
    "updated_at": "2014-08-05T12:57:27Z",
    "author_association": "MEMBER",
    "body": "@femtotrader I think that should be possible, take a look here: http://docs.sqlalchemy.org/en/rel_0_9/core/types.html#custom-types, you can overwrite existing or define new types in the way they are handled by sqlalchemy.\n\nThat is maybe also a way to solve the datetime problem with mysql-connector and pymysql. If you get it to work, can you post it here? We maybe can add it as an example to the docs.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/51213422",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-51213422",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 51213422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjEzNDIy",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T15:25:47Z",
    "updated_at": "2014-08-05T15:25:47Z",
    "author_association": "MEMBER",
    "body": "A possible way to check:\n\n```\nIn [34]: def check_subsecond(s):\n   ....:     return np.any(s.astype('i8') % 1000000000)\n   ....:\n\nIn [36]: s = pd.date_range('2012-01-01', freq='s', periods=100000)\n\nIn [38]: check_subsecond(s)\nOut[38]: False\n\nIn [39]: %timeit check_subsecond(s[[0]])\n10000 loops, best of 3: 45.1 Âµs per loop\n\nIn [40]: %timeit check_subsecond(s)\n1000 loops, best of 3: 1.36 ms per loop\n\nIn [43]: s = pd.date_range('2012-01-01', freq='us', periods=100000)\n\nIn [45]: check_subsecond(s)\nOut[45]: True\n\nIn [46]: %timeit check_subsecond(s)\n1000 loops, best of 3: 1.35 ms per loop\n```\n\nWould this be acceptable as a performance loss? \nWe should actually also something similar for postgresql then, as this has a precision up to microsecond, not nanosecond ..\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/149721382",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7938#issuecomment-149721382",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7938",
    "id": 149721382,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTcyMTM4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-20T22:30:40Z",
    "updated_at": "2015-10-20T22:30:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche still relevant? (if so pls assign to milestone), otherwise close\n"
  }
]
