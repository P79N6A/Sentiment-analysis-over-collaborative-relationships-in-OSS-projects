[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/3467045",
    "html_url": "https://github.com/pandas-dev/pandas/issues/618#issuecomment-3467045",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/618",
    "id": 3467045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjcwNDU=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-12T17:36:50Z",
    "updated_at": "2012-01-12T17:36:50Z",
    "author_association": "MEMBER",
    "body": "could you give me a self-contained test case? \n\nrelated to #443\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/3467336",
    "html_url": "https://github.com/pandas-dev/pandas/issues/618#issuecomment-3467336",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/618",
    "id": 3467336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjczMzY=",
    "user": {
      "login": "yarikoptic",
      "id": 39889,
      "node_id": "MDQ6VXNlcjM5ODg5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yarikoptic",
      "html_url": "https://github.com/yarikoptic",
      "followers_url": "https://api.github.com/users/yarikoptic/followers",
      "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}",
      "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions",
      "organizations_url": "https://api.github.com/users/yarikoptic/orgs",
      "repos_url": "https://api.github.com/users/yarikoptic/repos",
      "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yarikoptic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-12T17:52:06Z",
    "updated_at": "2012-01-12T17:52:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "pity, but I fail to come up with a minimal example -- indeed it just inserts NAs for those, so may be it is a different scenario... I will keep it in mind - may be I would come up with one eventually ;)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/3531165",
    "html_url": "https://github.com/pandas-dev/pandas/issues/618#issuecomment-3531165",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/618",
    "id": 3531165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzExNjU=",
    "user": {
      "login": "yarikoptic",
      "id": 39889,
      "node_id": "MDQ6VXNlcjM5ODg5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yarikoptic",
      "html_url": "https://github.com/yarikoptic",
      "followers_url": "https://api.github.com/users/yarikoptic/followers",
      "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}",
      "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions",
      "organizations_url": "https://api.github.com/users/yarikoptic/orgs",
      "repos_url": "https://api.github.com/users/yarikoptic/repos",
      "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yarikoptic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-17T16:57:04Z",
    "updated_at": "2012-01-17T16:57:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok -- here is a non-minimalistic example.  seems to boil down to me somewhat abusing index (I have 'subject' column which is also used as a part of MultiIndex for rows).  But here is a sample data (just gunzip it):\nhttp://www.onerussian.com/tmp/data4wes.hdf5.gz  and this is a snippet to demonstrate the problem:\n\n``` python\n\nfrom pandas import *\nstore_ = HDFStore('/tmp/data4wes.hdf5')\npivot_table(store_['d'], 'RT', rows=['subject'], cols=['condition', 'pgender', 'gaze'], margins=True)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/3533266",
    "html_url": "https://github.com/pandas-dev/pandas/issues/618#issuecomment-3533266",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/618",
    "id": 3533266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzMyNjY=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-17T18:45:57Z",
    "updated_at": "2012-01-17T18:45:57Z",
    "author_association": "MEMBER",
    "body": "@yarikoptic there are actually a couple of bugs here. Note this works fine:\n\n```\n\nIn [8]: d = store['d']\n\nIn [9]: d.groupby(['condition', 'pgender', 'gaze', 'subject'])['RT'].mean()\nOut[9]: \ncondition   pgender  gaze  subject  \nfull_ag     f        a     01jul10sc    2.312\nfull_ag     m        a     01jul10sc    2.507\nfull_dg     f        d     01jul10sc    1.905\nfull_dg     m        d     01jul10sc    2.137\nprofile_ag  f        a     01jul10sc    1.698\nprofile_ag  m        a     01jul10sc    2.408\nprofile_dg  f        d     01jul10sc    2.481\nprofile_dg  m        d     01jul10sc    2.912\n```\n\nbut this does not:\n\n```\n\nIn [10]: d.groupby(['condition', 'pgender', 'gaze', 'subject'])['RT'].agg(np.mean)\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n/home/wesm/Downloads/<ipython-input-10-976e1dfbc45e> in <module>()\n----> 1 d.groupby(['condition', 'pgender', 'gaze', 'subject'])['RT'].agg(np.mean)\n\n/home/wesm/code/pandas/pandas/core/groupby.pyc in agg(self, func, *args, **kwargs)\n    283         See docstring for aggregate\n    284         \"\"\"\n--> 285         return self.aggregate(func, *args, **kwargs)\n    286 \n    287     def _iterate_slices(self):\n\n/home/wesm/code/pandas/pandas/core/groupby.pyc in aggregate(self, func_or_funcs, *args, **kwargs)\n    779         else:\n    780             if len(self.groupings) > 1:\n--> 781                 return self._python_agg_general(func_or_funcs, *args, **kwargs)\n    782 \n    783             try:\n\n/home/wesm/code/pandas/pandas/core/groupby.pyc in _python_agg_general(self, func, *args, **kwargs)\n    394             try:\n    395                 result, counts = self._aggregate_series(obj, agg_func,\n--> 396                                                         comp_ids, max_group)\n    397                 output[name] = result                                                                                                                                                                      \n    398             except TypeError:\n\n/home/wesm/code/pandas/pandas/core/groupby.pyc in _aggregate_series(self, obj, func, group_index, ngroups)\n    412             return _aggregate_series_fast(obj, func, group_index, ngroups)\n    413         except Exception:\n--> 414             return self._aggregate_series_pure_python(obj, func, ngroups)\n    415 \n    416     def _aggregate_series_pure_python(self, obj, func, ngroups):\n\n/home/wesm/code/pandas/pandas/core/groupby.pyc in _aggregate_series_pure_python(self, obj, func, ngroups)\n    432                     raise ValueError('function does not reduce')\n    433 \n--> 434             counts[label] = group.shape[0]\n    435             result[label] = res\n    436 \n\nIndexError: index out of bounds\n```\n\nthanks for reproducing! This is a blocker for 0.7.0 so I will fix asap...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/3533868",
    "html_url": "https://github.com/pandas-dev/pandas/issues/618#issuecomment-3533868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/618",
    "id": 3533868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzM4Njg=",
    "user": {
      "login": "yarikoptic",
      "id": 39889,
      "node_id": "MDQ6VXNlcjM5ODg5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/39889?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yarikoptic",
      "html_url": "https://github.com/yarikoptic",
      "followers_url": "https://api.github.com/users/yarikoptic/followers",
      "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}",
      "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions",
      "organizations_url": "https://api.github.com/users/yarikoptic/orgs",
      "repos_url": "https://api.github.com/users/yarikoptic/repos",
      "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yarikoptic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-17T19:21:36Z",
    "updated_at": "2012-01-17T19:21:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @yarikoptic there are actually a couple of bugs here. Note this works fine:\n> ...\n> thanks for reproducing!\n\nGlad to be of \"help\" ;-)\n\n> This is a blocker for 0.7.0 so I will fix asap...\n\nCool -- thanks in advance\n\n## \n\n=------------------------------------------------------------------=\nKeep in touch                                     www.onerussian.com\nYaroslav Halchenko                 www.ohloh.net/accounts/yarikoptic\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/3535217",
    "html_url": "https://github.com/pandas-dev/pandas/issues/618#issuecomment-3535217",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/618",
    "id": 3535217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzUyMTc=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-17T20:34:00Z",
    "updated_at": "2012-01-17T20:34:00Z",
    "author_association": "MEMBER",
    "body": "Alright, this is all set and fixed in master\n"
  }
]
