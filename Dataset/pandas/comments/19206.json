[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/357241420",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19206#issuecomment-357241420",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19206",
    "id": 357241420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzI0MTQyMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T13:42:46Z",
    "updated_at": "2018-01-12T13:42:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, must be an error in the offset computation we are essentially doing\r\n\r\n```\r\nIn [1]: from pandas.tseries.frequencies import to_offset\r\n\r\nIn [2]: divisor = to_offset('1s').nanos\r\n\r\nIn [4]: pd.Timestamp(np.floor(divisor * pd.Timestamp('1823-01-01 00:00:01').value / divisor))\r\nOut[4]: Timestamp('1823-01-01 00:00:00.999999488')\r\n```\r\nWe have some compensation for nanos freq, but I think that needs to be bigger as we are losing precision"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/357241515",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19206#issuecomment-357241515",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19206",
    "id": 357241515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzI0MTUxNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T13:43:12Z",
    "updated_at": "2018-01-12T13:43:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "PR welcome!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/357555413",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19206#issuecomment-357555413",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19206",
    "id": 357555413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzU1NTQxMw==",
    "user": {
      "login": "cbertinato",
      "id": 20772838,
      "node_id": "MDQ6VXNlcjIwNzcyODM4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/20772838?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cbertinato",
      "html_url": "https://github.com/cbertinato",
      "followers_url": "https://api.github.com/users/cbertinato/followers",
      "following_url": "https://api.github.com/users/cbertinato/following{/other_user}",
      "gists_url": "https://api.github.com/users/cbertinato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cbertinato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cbertinato/subscriptions",
      "organizations_url": "https://api.github.com/users/cbertinato/orgs",
      "repos_url": "https://api.github.com/users/cbertinato/repos",
      "events_url": "https://api.github.com/users/cbertinato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cbertinato/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-15T00:19:24Z",
    "updated_at": "2018-01-15T00:19:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Definitely a round-off issue with large numbers. Some curious behavior of true division in Python 3. I would have thought that `int / float(int)` would be equivalent to `int / int`.  It is when numbers are not large, but in this case:\r\n```\r\n>>> value = pd.Timestamp('1823-01-01 00:00:01').value\r\n>>> value\r\n-4638902399000000000\r\n>>> unit = to_offset('1s')\r\n>>> unit\r\n1000000000\r\n>>> value / unit\r\n-4638902399.0\r\n>>> value / float(unit)\r\n-4638902399.000001\r\n```\r\nChanging the division in the offset calculation from `int / float(int)` to `int / int` solves the problem, but raises issues for Python 2, which `__future__` division did appear to fix, even though it works in the terminal."
  }
]
