[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362719219",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362719219",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362719219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcxOTIxOQ==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T21:56:01Z",
    "updated_at": "2018-02-02T21:56:01Z",
    "author_association": "MEMBER",
    "body": "@jorisvandenbossche Not quite, because in Python 2 you can't call `str` successfully on arbitrary Unicode strings:\r\n\r\n```\r\ns = u'あ'\r\nstr(s)  # raises UnicodeDecodeError on Python 2\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362719607",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362719607",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362719607,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcxOTYwNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T21:57:51Z",
    "updated_at": "2018-02-02T21:57:51Z",
    "author_association": "MEMBER",
    "body": "That's the bug in the reading part? (I meant that now strings are already written as unicode to the parquet file, hence giving an error in python 2 on reading with str() ?)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362720166",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362720166",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362720166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyMDE2Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:00:15Z",
    "updated_at": "2018-02-02T22:00:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "What specifically is the proposal here, is the restriction on writing or reading? I think we should be restricting what is written.\r\n\r\nAnd can we go further and require a specific encoding (utf-8)? Or is that too onerous for some applications?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362720570",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362720570",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362720570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyMDU3MA==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:02:10Z",
    "updated_at": "2018-02-02T22:02:10Z",
    "author_association": "MEMBER",
    "body": "@jorisvandenbossche \r\n\r\nNo, you cannot convert them to `arrow.Table` objects:\r\n\r\n```python\r\ndf = pd.DataFrame({u'あ': [u'い']}, index=[u'う'])\r\npa.Table.from_pandas(df)  # raises an error\r\n```\r\n\r\nbecause we're calling `str` on `field_name`"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362721458",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362721458",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362721458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyMTQ1OA==",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:06:07Z",
    "updated_at": "2018-02-02T22:06:07Z",
    "author_association": "MEMBER",
    "body": "In `pa.Table.from_pandas` any unicode field names should be converted to UTF-8 bytes, where is the problem occurring?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362722105",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362722105",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362722105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyMjEwNQ==",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:08:49Z",
    "updated_at": "2018-02-02T22:08:49Z",
    "author_association": "MEMBER",
    "body": "In `pa.Table.from_pandas` any unicode field names should be converted to UTF-8 bytes, where is the problem occurring?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362722583",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362722583",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362722583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyMjU4Mw==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:10:43Z",
    "updated_at": "2018-02-02T22:10:43Z",
    "author_association": "MEMBER",
    "body": "> What specifically is the proposal here, is the restriction on writing or reading? I think we should be restrict what is written.\r\n\r\n@TomAugspurger \r\n\r\n> Column names will be serialized using whatever type ``six.text_type`` corresponds to.\r\n\r\nThis is a little ambiguous :) This proposal is to restrict writing.\r\n\r\n@wesm \r\n\r\n1. https://github.com/apache/arrow/blob/master/python/pyarrow/pandas_compat.py#L288\r\n2. https://github.com/apache/arrow/blob/master/python/pyarrow/pandas_compat.py#L175\r\n3. Potentially here: https://github.com/apache/arrow/blob/master/python/pyarrow/pandas_compat.py#L236"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362723194",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362723194",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362723194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyMzE5NA==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:13:15Z",
    "updated_at": "2018-02-02T22:13:15Z",
    "author_association": "MEMBER",
    "body": "Here as well: https://github.com/apache/arrow/blob/master/python/pyarrow/pandas_compat.py#L330\r\n\r\nsince that will skip over `unicode` instances"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362723962",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362723962",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362723962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyMzk2Mg==",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:16:09Z",
    "updated_at": "2018-02-02T22:16:09Z",
    "author_association": "MEMBER",
    "body": "I'm on bad internet so I'll have to look at the code later. At a glance it sounds like we just have bugs in pandas_compat.py that need fixing, e.g. it's unclear why calling `str` on the field names is a requirement and why it's causing problems"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362729905",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362729905",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362729905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcyOTkwNQ==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T22:42:47Z",
    "updated_at": "2018-02-02T22:42:47Z",
    "author_association": "MEMBER",
    "body": "@jorisvandenbossche @TomAugspurger @wesm \r\n\r\n@wesm is right, there are actually just bugs in `pandas_compat.py`\r\nI'm going to close this PR."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362798143",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362798143",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362798143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mjc5ODE0Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-03T11:02:12Z",
    "updated_at": "2018-02-03T11:02:12Z",
    "author_association": "MEMBER",
    "body": "> [about unicode column names] No, you cannot convert them to arrow.Table objects:\r\n\r\nOK, was only trying on python 3, and there that works perfectly (at least with pyarrow 0.8)\r\n\r\nI agree that it not working in python 2 were just bugs in arrow, but I think it is still worth including some language about this here (the fact that column names are converted to unicode on writing). Because it would be nice that other implementation write column names in the same way to the metadata.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362803387",
    "html_url": "https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362803387",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19519",
    "id": 362803387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjgwMzM4Nw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-03T12:40:30Z",
    "updated_at": "2018-02-03T12:40:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "+1. I would say \"String column names should be UTF-8 encoded.\"\n\nOn Sat, Feb 3, 2018 at 11:02 AM, Joris Van den Bossche <\nnotifications@github.com> wrote:\n\n> [about unicode column names] No, you cannot convert them to arrow.Table\n> objects:\n>\n> OK, was only trying on python 3, and there that works perfectly (at least\n> with pyarrow 0.8)\n>\n> I agree that it not working in python 2 were just bugs in arrow, but I\n> think it is still worth including some language about this here (the fact\n> that column names are converted to unicode on writing). Because it would be\n> nice that other implementation write column names in the same way to the\n> metadata.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/pull/19519#issuecomment-362798143>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIlES6b1R4HAM8MIyV8518i0l1WxBks5tRDy3gaJpZM4R3y7e>\n> .\n>\n"
  }
]
