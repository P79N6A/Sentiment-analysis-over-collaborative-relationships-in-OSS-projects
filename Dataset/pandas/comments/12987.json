[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/214753702",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12987#issuecomment-214753702",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12987",
    "id": 214753702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDc1MzcwMg==",
    "user": {
      "login": "ajenkins-cargometrics",
      "id": 11721361,
      "node_id": "MDQ6VXNlcjExNzIxMzYx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11721361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajenkins-cargometrics",
      "html_url": "https://github.com/ajenkins-cargometrics",
      "followers_url": "https://api.github.com/users/ajenkins-cargometrics/followers",
      "following_url": "https://api.github.com/users/ajenkins-cargometrics/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajenkins-cargometrics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajenkins-cargometrics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajenkins-cargometrics/subscriptions",
      "organizations_url": "https://api.github.com/users/ajenkins-cargometrics/orgs",
      "repos_url": "https://api.github.com/users/ajenkins-cargometrics/repos",
      "events_url": "https://api.github.com/users/ajenkins-cargometrics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajenkins-cargometrics/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-26T13:57:45Z",
    "updated_at": "2016-04-26T13:58:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was able to get past the \"too many indices for array\" problem mentioned above and get the example program to work with this patch:\n\n```\ndiff --git a/pandas/core/internals.py b/pandas/core/internals.py\nindex abfc5c9..520affc 100644\n--- a/pandas/core/internals.py\n+++ b/pandas/core/internals.py\n@@ -237,7 +237,11 @@ class Block(PandasObject):\n         return a new block that is transformed to a nd block\n         \"\"\"\n\n-        return _block2d_to_blocknd(values=self.get_values().T,\n+        values = self.get_values()\n+        if is_datetimetz(values) and self.ndim != 1:\n+            values = np.array(list(values)).reshape(self.shape)\n+\n+        return _block2d_to_blocknd(values=values.T,\n                                    placement=self.mgr_locs, shape=shape,\n                                    labels=labels, ref_items=ref_items)\n```\n\nI'm not sure this is the best fix though.  It might be better to add a method to the Block class, called something like `get_shaped_values`, which is the same as `get_values` except it guarantees its result will have the same shape as the Block.  The DatetimeTZBlock class can override `get_shaped_values` to  perform the reshape if necessary.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/214756244",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12987#issuecomment-214756244",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12987",
    "id": 214756244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDc1NjI0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-26T14:05:21Z",
    "updated_at": "2016-04-26T14:05:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't know if its possible to support these 1-d block types (e.g. catogical/datetime with tz) with an inherent 2-d repr under the hood (e.g. blocks of 2-d structrues). Further we are deprecating Panel in the next version anythow. More interesting would be to have upgraded support for these (already there is some) in `xarray`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/314394908",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12987#issuecomment-314394908",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12987",
    "id": 314394908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDM5NDkwOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-11T09:55:27Z",
    "updated_at": "2017-07-11T09:55:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as Panel deprecated"
  }
]
