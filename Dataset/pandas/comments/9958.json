[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/146504391",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-146504391",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 146504391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NjUwNDM5MQ==",
    "user": {
      "login": "midnightradio",
      "id": 149314,
      "node_id": "MDQ6VXNlcjE0OTMxNA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/149314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/midnightradio",
      "html_url": "https://github.com/midnightradio",
      "followers_url": "https://api.github.com/users/midnightradio/followers",
      "following_url": "https://api.github.com/users/midnightradio/following{/other_user}",
      "gists_url": "https://api.github.com/users/midnightradio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/midnightradio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/midnightradio/subscriptions",
      "organizations_url": "https://api.github.com/users/midnightradio/orgs",
      "repos_url": "https://api.github.com/users/midnightradio/repos",
      "events_url": "https://api.github.com/users/midnightradio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/midnightradio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-08T10:58:32Z",
    "updated_at": "2015-10-08T10:58:32Z",
    "author_association": "NONE",
    "body": "I just met exactly the same problem with having casted float64 after left joining with two int64 fields which one of them is an index of left dataframe.\n\nAnd here's output from show_versions.\n\n## INSTALLED VERSIONS\n\ncommit: None\npython: 2.7.9.final.0\npython-bits: 64\nOS: Linux\nOS-release: 3.16.0-49-generic\nmachine: x86_64\nprocessor: x86_64\nbyteorder: little\nLC_ALL: None\nLANG: en_US.UTF-8\n\npandas: 0.16.2\nnose: 1.3.6\nCython: 0.22\nnumpy: 1.9.2\nscipy: 0.15.1\nstatsmodels: None\nIPython: 3.1.0\nsphinx: 1.3.1\npatsy: None\ndateutil: 2.4.2\npytz: 2015.2\nbottleneck: None\ntables: None\nnumexpr: None\nmatplotlib: 1.4.3\nopenpyxl: None\nxlrd: None\nxlwt: None\nxlsxwriter: None\nlxml: None\nbs4: 4.3.2\nhtml5lib: None\nhttplib2: 0.9.1\napiclient: 1.4.0\nsqlalchemy: 1.0.8\npymysql: None\npsycopg2: None\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/214969059",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-214969059",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 214969059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDk2OTA1OQ==",
    "user": {
      "login": "jiamo",
      "id": 732751,
      "node_id": "MDQ6VXNlcjczMjc1MQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/732751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jiamo",
      "html_url": "https://github.com/jiamo",
      "followers_url": "https://api.github.com/users/jiamo/followers",
      "following_url": "https://api.github.com/users/jiamo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jiamo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jiamo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jiamo/subscriptions",
      "organizations_url": "https://api.github.com/users/jiamo/orgs",
      "repos_url": "https://api.github.com/users/jiamo/repos",
      "events_url": "https://api.github.com/users/jiamo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jiamo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-27T04:48:55Z",
    "updated_at": "2016-04-27T04:48:55Z",
    "author_association": "NONE",
    "body": "merge has the same error:\n\n``` python\ntestb = pd.DataFrame([{\"a\":2,\"c\":2}])\ntesta = pd.DataFrame([{\"a\":1,\"b\":2}])\nresult = pd.merge(testa, testb, on=[\"a\"], how=\"outer\")\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/220412877",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-220412877",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 220412877,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDQxMjg3Nw==",
    "user": {
      "login": "wendykan",
      "id": 912546,
      "node_id": "MDQ6VXNlcjkxMjU0Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/912546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wendykan",
      "html_url": "https://github.com/wendykan",
      "followers_url": "https://api.github.com/users/wendykan/followers",
      "following_url": "https://api.github.com/users/wendykan/following{/other_user}",
      "gists_url": "https://api.github.com/users/wendykan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wendykan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wendykan/subscriptions",
      "organizations_url": "https://api.github.com/users/wendykan/orgs",
      "repos_url": "https://api.github.com/users/wendykan/repos",
      "events_url": "https://api.github.com/users/wendykan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wendykan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-19T18:31:58Z",
    "updated_at": "2016-05-19T18:31:58Z",
    "author_association": "NONE",
    "body": "Just hit the same problem. However, if `how='inner`, it's not an issue. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225459553",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-225459553",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 225459553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTQ1OTU1Mw==",
    "user": {
      "login": "PedroMDuarte",
      "id": 921258,
      "node_id": "MDQ6VXNlcjkyMTI1OA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/921258?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PedroMDuarte",
      "html_url": "https://github.com/PedroMDuarte",
      "followers_url": "https://api.github.com/users/PedroMDuarte/followers",
      "following_url": "https://api.github.com/users/PedroMDuarte/following{/other_user}",
      "gists_url": "https://api.github.com/users/PedroMDuarte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PedroMDuarte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PedroMDuarte/subscriptions",
      "organizations_url": "https://api.github.com/users/PedroMDuarte/orgs",
      "repos_url": "https://api.github.com/users/PedroMDuarte/repos",
      "events_url": "https://api.github.com/users/PedroMDuarte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PedroMDuarte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-12T20:50:38Z",
    "updated_at": "2016-06-12T20:50:38Z",
    "author_association": "NONE",
    "body": "Just encountered the same issue.  Here is how I fixed it\n\n``` python\n# old code - casts 'eCountryID' to float64\nmerged = pd.merge(\n    analyzed, ecountry_data[['CountryCode', 'eCountryID']],\n    how='left', on=['CountryCode'])\n\n\n# new code\nmerged_country_id = pd.merge(\n    analyzed, ecountry_data[['CountryCode', 'eCountryID']],\n    how='inner', on=['CountryCode']).astype(object)\n\nno_country_id = analyzed[pd.isnull(analyzed['CountryCode'])]\n\nmerged = pd.concat([merged_country_id, no_country_id])\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225460281",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-225460281",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 225460281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTQ2MDI4MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-12T21:04:40Z",
    "updated_at": "2016-06-13T02:06:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is a dupe of #8596, closed by #13170 which will be in 0.18.2\n\nsee http://pandas-docs.github.io/pandas-docs-travis/whatsnew.html#merging-changes\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303167167",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-303167167",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 303167167,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzE2NzE2Nw==",
    "user": {
      "login": "flipdazed",
      "id": 8991915,
      "node_id": "MDQ6VXNlcjg5OTE5MTU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8991915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flipdazed",
      "html_url": "https://github.com/flipdazed",
      "followers_url": "https://api.github.com/users/flipdazed/followers",
      "following_url": "https://api.github.com/users/flipdazed/following{/other_user}",
      "gists_url": "https://api.github.com/users/flipdazed/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flipdazed/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flipdazed/subscriptions",
      "organizations_url": "https://api.github.com/users/flipdazed/orgs",
      "repos_url": "https://api.github.com/users/flipdazed/repos",
      "events_url": "https://api.github.com/users/flipdazed/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flipdazed/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T17:29:58Z",
    "updated_at": "2017-05-22T17:29:58Z",
    "author_association": "NONE",
    "body": "Should a new issue be opened for the `outer` join issue highlighted by @jiamo ?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/305643402",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-305643402",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 305643402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTY0MzQwMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-01T22:57:35Z",
    "updated_at": "2017-06-01T22:57:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@flipdazed this looks ok\r\n\r\n```\r\nIn [1]: testb = pd.DataFrame([{\"a\":2,\"c\":2}])\r\n   ...: testa = pd.DataFrame([{\"a\":1,\"b\":2}])\r\n   ...: result = pd.merge(testa, testb, on=[\"a\"], how=\"outer\")\r\n   ...: \r\n\r\nIn [2]: testa\r\nOut[2]: \r\n   a  b\r\n0  1  2\r\n\r\nIn [3]: testb\r\nOut[3]: \r\n   a  c\r\n0  2  2\r\n\r\nIn [4]: result\r\nOut[4]: \r\n   a    b    c\r\n0  1  2.0  NaN\r\n1  2  NaN  2.0\r\n\r\nIn [5]: result.dtypes\r\nOut[5]: \r\na      int64\r\nb    float64\r\nc    float64\r\ndtype: object\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/317370970",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-317370970",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 317370970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzM3MDk3MA==",
    "user": {
      "login": "verahan",
      "id": 12129705,
      "node_id": "MDQ6VXNlcjEyMTI5NzA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12129705?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/verahan",
      "html_url": "https://github.com/verahan",
      "followers_url": "https://api.github.com/users/verahan/followers",
      "following_url": "https://api.github.com/users/verahan/following{/other_user}",
      "gists_url": "https://api.github.com/users/verahan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/verahan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/verahan/subscriptions",
      "organizations_url": "https://api.github.com/users/verahan/orgs",
      "repos_url": "https://api.github.com/users/verahan/repos",
      "events_url": "https://api.github.com/users/verahan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/verahan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-24T09:38:43Z",
    "updated_at": "2017-07-24T09:39:08Z",
    "author_association": "NONE",
    "body": " How to compare result['a'][1] and result['c'][1] after outer merge? they should be equal.\r\n    \r\n    In [1]: testb = pd.DataFrame([{\"a\":2,\"c\":2}])\r\n     ...: testa = pd.DataFrame([{\"a\":1,\"b\":2}])\r\n     ...: result = pd.merge(testa, testb, on=[\"a\"], how=\"outer\")\r\n     ...: \r\n\r\n    In [2]: testa\r\n    Out[2]: \r\n       a  b\r\n    0  1  2\r\n\r\n    In [3]: testb\r\n    Out[3]: \r\n       a  c\r\n    0  2  2\r\n\r\n    In [4]: result\r\n    Out[4]: \r\n       a    b    c\r\n    0  1  2.0  NaN\r\n    1  2  NaN  2.0"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403226908",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-403226908",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 403226908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzIyNjkwOA==",
    "user": {
      "login": "teoguso",
      "id": 18264084,
      "node_id": "MDQ6VXNlcjE4MjY0MDg0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18264084?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/teoguso",
      "html_url": "https://github.com/teoguso",
      "followers_url": "https://api.github.com/users/teoguso/followers",
      "following_url": "https://api.github.com/users/teoguso/following{/other_user}",
      "gists_url": "https://api.github.com/users/teoguso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/teoguso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/teoguso/subscriptions",
      "organizations_url": "https://api.github.com/users/teoguso/orgs",
      "repos_url": "https://api.github.com/users/teoguso/repos",
      "events_url": "https://api.github.com/users/teoguso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/teoguso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-07T16:27:23Z",
    "updated_at": "2018-07-20T11:01:34Z",
    "author_association": "NONE",
    "body": "**Edit:** What I see happening is actually a join casting ints to floats if the result of the join contains NaN. I'm not 100% sure, but I think this is the expected behavior. Sorry for the confusion.\n\n\nI see this still happening in 0.23.2. Did it sneak in again? (Left join with int index as described above)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/406563617",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-406563617",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 406563617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjU2MzYxNw==",
    "user": {
      "login": "Muff2n",
      "id": 24585670,
      "node_id": "MDQ6VXNlcjI0NTg1Njcw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/24585670?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Muff2n",
      "html_url": "https://github.com/Muff2n",
      "followers_url": "https://api.github.com/users/Muff2n/followers",
      "following_url": "https://api.github.com/users/Muff2n/following{/other_user}",
      "gists_url": "https://api.github.com/users/Muff2n/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Muff2n/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Muff2n/subscriptions",
      "organizations_url": "https://api.github.com/users/Muff2n/orgs",
      "repos_url": "https://api.github.com/users/Muff2n/repos",
      "events_url": "https://api.github.com/users/Muff2n/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Muff2n/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-20T10:42:36Z",
    "updated_at": "2018-07-20T12:43:02Z",
    "author_association": "NONE",
    "body": "It is happening for me in version 0.23.3, using outer join.\r\n\r\nEdit: I agree with teoguso's edit, the casting only occurs if the join subsequently contains NaNs. That explains the casting then.\r\n\r\nEdit2: https://pandas.pydata.org/pandas-docs/stable/missing_data.html explains the casting rules for anyone (such as myself) who was unaware of them."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/406568092",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9958#issuecomment-406568092",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9958",
    "id": 406568092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjU2ODA5Mg==",
    "user": {
      "login": "teoguso",
      "id": 18264084,
      "node_id": "MDQ6VXNlcjE4MjY0MDg0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18264084?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/teoguso",
      "html_url": "https://github.com/teoguso",
      "followers_url": "https://api.github.com/users/teoguso/followers",
      "following_url": "https://api.github.com/users/teoguso/following{/other_user}",
      "gists_url": "https://api.github.com/users/teoguso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/teoguso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/teoguso/subscriptions",
      "organizations_url": "https://api.github.com/users/teoguso/orgs",
      "repos_url": "https://api.github.com/users/teoguso/repos",
      "events_url": "https://api.github.com/users/teoguso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/teoguso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-20T11:02:33Z",
    "updated_at": "2018-07-20T11:02:33Z",
    "author_association": "NONE",
    "body": "@Muff2n please see my edit above."
  }
]
