[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46572159",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7509#issuecomment-46572159",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7509",
    "id": 46572159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTcyMTU5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T15:04:14Z",
    "updated_at": "2014-06-19T15:04:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you ref the issues?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46573427",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7509#issuecomment-46573427",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7509",
    "id": 46573427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTczNDI3",
    "user": {
      "login": "altaurog",
      "id": 426636,
      "node_id": "MDQ6VXNlcjQyNjYzNg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/426636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/altaurog",
      "html_url": "https://github.com/altaurog",
      "followers_url": "https://api.github.com/users/altaurog/followers",
      "following_url": "https://api.github.com/users/altaurog/following{/other_user}",
      "gists_url": "https://api.github.com/users/altaurog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/altaurog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/altaurog/subscriptions",
      "organizations_url": "https://api.github.com/users/altaurog/orgs",
      "repos_url": "https://api.github.com/users/altaurog/repos",
      "events_url": "https://api.github.com/users/altaurog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/altaurog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T15:13:37Z",
    "updated_at": "2014-06-19T15:13:37Z",
    "author_association": "NONE",
    "body": "My search turned up issues #3041, #3043, #3552, and #3555\n\n(whoa, github's auto-complete on those issue numbers seems totally unrelated...)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46573789",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7509#issuecomment-46573789",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7509",
    "id": 46573789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTczNzg5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T15:16:01Z",
    "updated_at": "2014-06-19T15:16:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "none of those address empty types (and thus their are prob no tests).\n\ncare to do a pull-request to put in tests/fix?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46574526",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7509#issuecomment-46574526",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7509",
    "id": 46574526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTc0NTI2",
    "user": {
      "login": "altaurog",
      "id": 426636,
      "node_id": "MDQ6VXNlcjQyNjYzNg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/426636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/altaurog",
      "html_url": "https://github.com/altaurog",
      "followers_url": "https://api.github.com/users/altaurog/followers",
      "following_url": "https://api.github.com/users/altaurog/following{/other_user}",
      "gists_url": "https://api.github.com/users/altaurog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/altaurog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/altaurog/subscriptions",
      "organizations_url": "https://api.github.com/users/altaurog/orgs",
      "repos_url": "https://api.github.com/users/altaurog/repos",
      "events_url": "https://api.github.com/users/altaurog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/altaurog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T15:21:16Z",
    "updated_at": "2014-06-19T15:21:16Z",
    "author_association": "NONE",
    "body": "I haven't looked under the hood; I've no clue how to go about fixing this.  Also, there seem to be two separate problems here (perhaps I should have opened two issues):\n1. Specifically when the two DataFrames are both NOT empty, it changes int64 to float64.\n2. When the one with the datetime column IS empty, the datetime dtype is not preserved.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46575286",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7509#issuecomment-46575286",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7509",
    "id": 46575286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTc1Mjg2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T15:27:02Z",
    "updated_at": "2014-06-19T15:27:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "the first is not feasible to fix, since `int` CANNOT hold `nan`. It is very tricky to convert this to float, then convert back if necessary (and hits perf).\n\nThe 2nd could be fixed (as `datetime64[ns]` CAN hold na (via `NaT`))\n\nwhy don't you write up some tests then....get's you started :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46601460",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7509#issuecomment-46601460",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7509",
    "id": 46601460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjAxNDYw",
    "user": {
      "login": "altaurog",
      "id": 426636,
      "node_id": "MDQ6VXNlcjQyNjYzNg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/426636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/altaurog",
      "html_url": "https://github.com/altaurog",
      "followers_url": "https://api.github.com/users/altaurog/followers",
      "following_url": "https://api.github.com/users/altaurog/following{/other_user}",
      "gists_url": "https://api.github.com/users/altaurog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/altaurog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/altaurog/subscriptions",
      "organizations_url": "https://api.github.com/users/altaurog/orgs",
      "repos_url": "https://api.github.com/users/altaurog/repos",
      "events_url": "https://api.github.com/users/altaurog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/altaurog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T18:51:48Z",
    "updated_at": "2014-06-19T18:51:48Z",
    "author_association": "NONE",
    "body": "Oh, of course.  The `float64` is needed for the `nan`.  But if `nan` does not result, the `int64` is retained:\n\n``` python\nIn [3]: dfa = pd.DataFrame([[datetime.now(), 2]], columns=['a','b'])\nIn [4]: dfb = pd.DataFrame([[4]], columns=['b'])\nIn [5]: dfa.combine_first(dfb).dtypes\nOut[5]: \na    datetime64[ns]\nb             int64\ndtype: object\n```\n\nI should have thought of that.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/188740262",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7509#issuecomment-188740262",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7509",
    "id": 188740262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODc0MDI2Mg==",
    "user": {
      "login": "VelizarVESSELINOV",
      "id": 8209940,
      "node_id": "MDQ6VXNlcjgyMDk5NDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8209940?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VelizarVESSELINOV",
      "html_url": "https://github.com/VelizarVESSELINOV",
      "followers_url": "https://api.github.com/users/VelizarVESSELINOV/followers",
      "following_url": "https://api.github.com/users/VelizarVESSELINOV/following{/other_user}",
      "gists_url": "https://api.github.com/users/VelizarVESSELINOV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VelizarVESSELINOV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VelizarVESSELINOV/subscriptions",
      "organizations_url": "https://api.github.com/users/VelizarVESSELINOV/orgs",
      "repos_url": "https://api.github.com/users/VelizarVESSELINOV/repos",
      "events_url": "https://api.github.com/users/VelizarVESSELINOV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VelizarVESSELINOV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-25T11:27:05Z",
    "updated_at": "2016-02-25T11:27:05Z",
    "author_association": "NONE",
    "body": "When you combine_first the original float32 column is transformed to float64:\n\n``` python\n\"\"\"Example of Pandas bug.\"\"\"\nfrom pandas import DataFrame\nfrom numpy import float32\n\nprint('-' * 15)\nd1 = DataFrame(index=[0])\nd1['A'] = [3.5]\nd1['A'] = d1['A'].astype(float32)\nprint(d1.dtypes)\nprint('-' * 15)\nd2 = DataFrame(index=[0])\nd2['B'] = [35]  # if uncomment this line the result is correct, nonsense for me\nd2 = d2.combine_first(d1)\nprint(d2.dtypes)\n```\n\nCurrent output:\n\n```\n---------------\nA    float32\ndtype: object\n---------------\nA    float64\nB      int64\ndtype: object\n```\n\nExpected output:\n\n```\n---------------\nA    float32\ndtype: object\n---------------\nA    float32\nB      int64\ndtype: object\n```\n"
  }
]
