[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64992673",
    "html_url": "https://github.com/pandas-dev/pandas/pull/8855#issuecomment-64992673",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8855",
    "id": 64992673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTkyNjcz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-30T17:36:21Z",
    "updated_at": "2014-11-30T17:36:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "this looks fine\n\ncc @rockg\n\n@seth-p want to do a quick speed test (maybe even add a vbench?)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64993621",
    "html_url": "https://github.com/pandas-dev/pandas/pull/8855#issuecomment-64993621",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8855",
    "id": 64993621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTkzNjIx",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-30T18:05:24Z",
    "updated_at": "2014-11-30T18:05:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Afraid I'm not set up to run vbench (on windows). Can do simple speed tests Monday or Tuesday.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64993696",
    "html_url": "https://github.com/pandas-dev/pandas/pull/8855#issuecomment-64993696",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8855",
    "id": 64993696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTkzNjk2",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-30T18:08:07Z",
    "updated_at": "2014-11-30T18:08:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Any comments on my question at https://github.com/pydata/pandas/issues/8844#issuecomment-63724427?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/64994237",
    "html_url": "https://github.com/pandas-dev/pandas/pull/8855#issuecomment-64994237",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8855",
    "id": 64994237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTk0MjM3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-30T18:23:48Z",
    "updated_at": "2014-11-30T18:23:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "You are stacking in the SAME order as presented yes (so if it happens to be sorted as is most of the time), then the output columns will be in that order, otherwise they will be in the indicated order, yes?\n\nI think that is correct and fine. Granted you almost always have a sorted MultiIndex, but it shouldn't prevent it from working. I would guarantee that input order -> output order, and not required sortedness.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/65004793",
    "html_url": "https://github.com/pandas-dev/pandas/pull/8855#issuecomment-65004793",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8855",
    "id": 65004793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDA0Nzkz",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-30T23:05:59Z",
    "updated_at": "2014-11-30T23:05:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I am keeping them in the same order they appear in the MultiIndex.levels -- which is not necessarily the order in which they appear in the MultiIndex.labels. This reproduces the existing behavior when all levels are used.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/65182238",
    "html_url": "https://github.com/pandas-dev/pandas/pull/8855#issuecomment-65182238",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8855",
    "id": 65182238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTgyMjM4",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-02T04:34:15Z",
    "updated_at": "2014-12-02T04:35:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "The proposed change has no effect for a super-long `DataFrame` (as suggested in https://github.com/pydata/pandas/issues/8844#issuecomment-63553382):\nExisting code:\n\n```\nIn [12]: df1 = pd.DataFrame(np.arange(500000*10).reshape(500000,10),\n                            columns=pd.MultiIndex.from_tuples([(100*x, -y) for x in range(5)\n                                                                           for y in range(2)],\n                                                              names=['X', 'Y']))\n\nIn [13]: %timeit df1.stack()\n10 loops, best of 3: 156 ms per loop\n\nIn [14]: %timeit df1.stack(level=0)\n1 loops, best of 3: 254 ms per loop\n\nIn [15]: %timeit df1.stack(level=1)\n10 loops, best of 3: 156 ms per loop\n\nIn [17]: %timeit df1.stack(level=[0,1])\n1 loops, best of 3: 382 ms per loop\n```\n\nWith this PR:\n\n```\nIn [12]: %timeit df1.stack()\n10 loops, best of 3: 156 ms per loop\n\nIn [13]: %timeit df1.stack(level=0)\n1 loops, best of 3: 252 ms per loop\n\nIn [14]: %timeit df1.stack(level=1)\n10 loops, best of 3: 156 ms per loop\n\nIn [15]: %timeit df1.stack(level=[0,1])\n1 loops, best of 3: 381 ms per loop\n```\n\nFor a super-wide `DataFrame`, the new code is a tad slower, but I think tolerably so:\nExisting code:\n\n```\nIn [3]: df = pd.DataFrame(np.arange(5*500000).reshape(5,500000), index=list('abcde'),\n                          columns=pd.MultiIndex.from_tuples([(100*x, -y) for x in range(500)\n                                                                         for y in range(1000)],\n                                                            names=['X', 'Y']))\n\nIn [4]: %timeit df.stack()\n1 loops, best of 3: 782 ms per loop\n\nIn [6]: %timeit df.stack(level=0)\n1 loops, best of 3: 1.43 s per loop\n\nIn [8]: %timeit df.stack(level=1)\n1 loops, best of 3: 758 ms per loop\n\nIn [18]: %timeit df.stack(level=[0,1])\n1 loops, best of 3: 1.51 s per loop\n```\n\nWith this PR:\n\n```\nIn [4]: %timeit df.stack()\n1 loops, best of 3: 862 ms per loop\n\nIn [6]: %timeit df.stack(level=0)\n1 loops, best of 3: 1.53 s per loop\n\nIn [8]: %timeit df.stack(level=1)\n1 loops, best of 3: 867 ms per loop\n\nIn [16]: %timeit df.stack(level=[0,1])\n1 loops, best of 3: 1.62 s per loop\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/65215523",
    "html_url": "https://github.com/pandas-dev/pandas/pull/8855#issuecomment-65215523",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/8855",
    "id": 65215523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MjE1NTIz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-02T11:14:53Z",
    "updated_at": "2014-12-02T11:14:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks!\n"
  }
]
