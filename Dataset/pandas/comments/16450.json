[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303381971",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303381971",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 303381971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzM4MTk3MQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T12:27:40Z",
    "updated_at": "2017-05-23T12:27:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @bashtage does this sound right to you?\r\n\r\n@raffamaiden I'm not very familar with stata's file format. Is it possible that the file-format is limited to 244 characters, while Stata itself can handle datasets with names > 244 characters in memory?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303393120",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303393120",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 303393120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzM5MzEyMA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T13:12:22Z",
    "updated_at": "2017-05-23T13:12:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "That is correct.  There is no support for the writing the variable length strings that was added in recent Stata versions, and so writing stata is limited to 244 ascii-like (latin-1, 8 byte fixed) characters.  Longer strings were added in Stata 13 and there were further changes to written strings in Stata 14 (unicode only).   \r\n\r\nReading longer strings works fine thanks to @kshedden .\r\n\r\nLittle reason to support these IMO since reading is more important than writing."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303393931",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303393931",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 303393931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzM5MzkzMQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T13:15:21Z",
    "updated_at": "2017-05-23T13:15:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks.\r\n\r\n@raffamaiden do you have a need for this? If you're willing to implement the code to support writing longer strings, I'm sure it'd be accepted, but as @bashtage says it'll be pretty low priority on our end."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303395079",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303395079",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 303395079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzM5NTA3OQ==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T13:19:35Z",
    "updated_at": "2017-05-23T13:19:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Accepting this would mean users of older versions of STATA could not read\nexported files.\nOn Tue, 23 May 2017 at 14:15, Tom Augspurger <notifications@github.com>\nwrote:\n\n> Thanks.\n>\n> @raffamaiden <https://github.com/raffamaiden> do you have a need for\n> this? If you're willing to implement the code to support writing longer\n> strings, I'm sure it'd be accepted, but as @bashtage\n> <https://github.com/bashtage> says it'll be pretty low priority on our\n> end.\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303393931>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AFU5RRuX6SMB59HGuHhbUs35_nEQ-W-eks5r8tv0gaJpZM4NjU4U>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303398840",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303398840",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 303398840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzM5ODg0MA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T13:32:50Z",
    "updated_at": "2017-05-23T13:32:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, yeah didn't think about that.\r\n\r\nI'm going to close this for now then. We can revisit it in the future once compat with older versions of Stata is less important."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303409655",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303409655",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 303409655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQwOTY1NQ==",
    "user": {
      "login": "raffam",
      "id": 1469713,
      "node_id": "MDQ6VXNlcjE0Njk3MTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1469713?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raffam",
      "html_url": "https://github.com/raffam",
      "followers_url": "https://api.github.com/users/raffam/followers",
      "following_url": "https://api.github.com/users/raffam/following{/other_user}",
      "gists_url": "https://api.github.com/users/raffam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raffam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raffam/subscriptions",
      "organizations_url": "https://api.github.com/users/raffam/orgs",
      "repos_url": "https://api.github.com/users/raffam/repos",
      "events_url": "https://api.github.com/users/raffam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raffam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T14:07:54Z",
    "updated_at": "2017-05-23T14:07:54Z",
    "author_association": "NONE",
    "body": "Well I can save the file in Excel format and have STATA convert it to dta by running a STATA script in batch mode\r\n\r\nI still think it would be a nice feature to have\r\n\r\nYou may add an argument to the to_stata() function asking the file format version you want to save into. \r\n\r\nMaybe have the lowest possible file format version set by default, and change the error message to something like \"This file version doesn't support strings longer than 244 characters. Save in a more recent file format version, thus breaking compatibility with older versions of STATA\"\r\n\r\nAs to implement it by myself, i'm quite new with pandas and have no idea of the internal file structure of stata file.\r\n\r\nMaybe I can give it a try in the summer if I can ask support to pandas developers"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303411191",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-303411191",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 303411191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQxMTE5MQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T14:13:10Z",
    "updated_at": "2017-05-23T14:13:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok. Most of that would start [here](https://github.com/pandas-dev/pandas/blob/6614e266bca32771c761e904367eff10dd4c8979/pandas/io/stata.py#L1856)\r\n\r\nFeel free to post here if / when you want to take it up."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/382956316",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-382956316",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 382956316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mjk1NjMxNg==",
    "user": {
      "login": "adamrossnelson",
      "id": 10912940,
      "node_id": "MDQ6VXNlcjEwOTEyOTQw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10912940?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamrossnelson",
      "html_url": "https://github.com/adamrossnelson",
      "followers_url": "https://api.github.com/users/adamrossnelson/followers",
      "following_url": "https://api.github.com/users/adamrossnelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamrossnelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamrossnelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamrossnelson/subscriptions",
      "organizations_url": "https://api.github.com/users/adamrossnelson/orgs",
      "repos_url": "https://api.github.com/users/adamrossnelson/repos",
      "events_url": "https://api.github.com/users/adamrossnelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamrossnelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T03:04:13Z",
    "updated_at": "2018-04-20T03:04:13Z",
    "author_association": "NONE",
    "body": "Giving this item a bump. Stata 15 has been out a while now.\r\nAlso since Stata 13 there has be a supported \"strL\" data type.\r\nThis data type can accommodate 2,000,000,000 characters of text or binary data.\r\n\r\nMore information here : https://www.youtube.com/watch?time_continue=89&v=y6KZvm1oXAk\r\n\r\nStata data type specs here: https://www.stata.com/help.cgi?data+types\r\n\r\nI'm a fan of the ideas from @raffam\r\n\r\nWould be a helpful feature for those that use both pandas and Stata.\r\nCount me in as a collaborator when it is time to make this improvement."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/382957195",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-382957195",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 382957195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mjk1NzE5NQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T03:08:33Z",
    "updated_at": "2018-04-20T03:08:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for bumping. Let's re-open it.\r\n\r\nAre there numbers on which versions of Stata are actually used? Should we care at all about anything older than Stata 15?\r\n\r\n> You may add an argument to the to_stata() function asking the file format version you want to save into.\r\n\r\nThis also seems sensible. If it isn't too much additional effort to implement and maintain, then that's best. Otherwise, it's best to just make a clean break."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/382975989",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-382975989",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 382975989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mjk3NTk4OQ==",
    "user": {
      "login": "adamrossnelson",
      "id": 10912940,
      "node_id": "MDQ6VXNlcjEwOTEyOTQw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10912940?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamrossnelson",
      "html_url": "https://github.com/adamrossnelson",
      "followers_url": "https://api.github.com/users/adamrossnelson/followers",
      "following_url": "https://api.github.com/users/adamrossnelson/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamrossnelson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamrossnelson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamrossnelson/subscriptions",
      "organizations_url": "https://api.github.com/users/adamrossnelson/orgs",
      "repos_url": "https://api.github.com/users/adamrossnelson/repos",
      "events_url": "https://api.github.com/users/adamrossnelson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamrossnelson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T04:55:01Z",
    "updated_at": "2018-04-20T04:55:01Z",
    "author_association": "NONE",
    "body": "My thought is that we should look at being compatible with Stata 14 and onward. Many still use 14. I believe there are a handful of folks using 13.\r\n\r\nThough it might not be necessary to forgo reverse compatibility. Without having given this a deep dive I would suspect that since the \"strL\" data type with 2billion characters has been around since Stata 13, it might be a possible to adjust the crosswalk at about [line 1781 here](https://github.com/pandas-dev/pandas/blob/6614e266bca32771c761e904367eff10dd4c8979/pandas/io/stata.py#L1781) without losing Stata 13 reverse compatibility.\r\n\r\nAlso, perhaps the solution would be to modify `def _cast_to_stata_types(data):` [line 491 here](https://github.com/pandas-dev/pandas/blob/6614e266bca32771c761e904367eff10dd4c8979/pandas/io/stata.py#L491) so that it will explicitly cast string data types?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/382999866",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-382999866",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 382999866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mjk5OTg2Ng==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T06:57:19Z",
    "updated_at": "2018-04-20T06:57:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reading support for these is already in. As the saying goes, PRs are welcome for writing. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/383001085",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-383001085",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 383001085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzAwMTA4NQ==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T07:02:21Z",
    "updated_at": "2018-04-20T07:02:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "The solution is more complicated than a cast. strL are stored in a different place in a lookup table. This is efficient but makes encoding them more complex than just changing a column type. Essentially one has to build up a strL dictionary and then write it at the end of the dta file in a particular (and idiosyncratic) format.\r\n\r\nWriting Stata is probably lower priority than reading Stata since CSV is an easy method to move data to Stata. Reading is useful since there are many published dta files on the web, and without a reader these are inaccessible. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/383128858",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-383128858",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 383128858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzEyODg1OA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T15:14:42Z",
    "updated_at": "2018-04-20T15:14:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "I took a further look at this and encoding strl's isn't that hard. The harder part of implementing this is that the current version supported in 114/115.  The minimum for strl is 117. \r\n\r\n117 makes a lot of changes the file format. The biggest change is the addition of tags surrounding regions. For example the header in 117 looks like\r\n\r\n```\r\n         <header>\r\n                <release>117</release>\r\n                <byteorder>MSF</byteorder>\r\n                <K>0002</K>\r\n                <N>00000001</N>\r\n                <label>00</label>\r\n                <timestamp>1110 Jul 2013 14:23</timestamp>\r\n            </header>\r\n```\r\n\r\nwhile the header in 114 is a 109 byte blob described as:\r\n```\r\n        Contents            Length    Format    Comments\r\n        -----------------------------------------------------------------------\r\n        ds_format                1    byte      contains 114 = 0x72\r\n        byteorder                1    byte      0x01 -> HILO, 0x02 -> LOHI\r\n        filetype                 1    byte      0x01\r\n        unused                   1    byte      0x00\r\n        nvar (number of vars)    2    int       encoded per byteorder\r\n        nobs (number of obs)     4    int       encoded per byteorder\r\n        data_label              81    char      dataset label, \\0 terminated\r\n        time_stamp              18    char      date/time saved, \\0 terminated\r\n        -----------------------------------------------------------------------\r\n        Total                  109\r\n```\r\n\r\nAdding StrL's requires a substantial rewrite of StataWriter, especially \r\n\r\n```\r\n_write_header\r\n_write_descriptors\r\n_write_variable_labels\r\n_write_value_labels\r\n```\r\n\r\nSee:\r\n\r\nhttps://www.stata.com/help.cgi?dta_114\r\nhttps://www.stata.com/help.cgi?dta_117\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/384544765",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16450#issuecomment-384544765",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16450",
    "id": 384544765,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDU0NDc2NQ==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-26T07:41:33Z",
    "updated_at": "2018-04-26T07:41:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "A mostly working implementation is here:\r\n\r\nhttps://github.com/pandas-dev/pandas/compare/master...bashtage:strl-support\r\n\r\nI noticed one larger potential advantage of this -- when writing largish data files with strings > 8 characters StrLs can reduce file size significantly if there are many repeated values.  They can also reduce files size when writing sparse strings again as long as the maximum string length is > 8 characters (this happens since blank strings are replaced with an 8 bute uinteger)."
  }
]
