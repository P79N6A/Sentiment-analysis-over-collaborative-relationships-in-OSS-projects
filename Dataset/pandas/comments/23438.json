[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434897675",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434897675",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434897675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDg5NzY3NQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T01:07:42Z",
    "updated_at": "2018-11-01T01:07:42Z",
    "author_association": "MEMBER",
    "body": "@thequackdaddy : Thanks for reporting this!  Can you tell us which version it this last worked?\r\n\r\ncc @jreback @mroeschke "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434898056",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434898056",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434898056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDg5ODA1Ng==",
    "user": {
      "login": "thequackdaddy",
      "id": 8186432,
      "node_id": "MDQ6VXNlcjgxODY0MzI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8186432?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thequackdaddy",
      "html_url": "https://github.com/thequackdaddy",
      "followers_url": "https://api.github.com/users/thequackdaddy/followers",
      "following_url": "https://api.github.com/users/thequackdaddy/following{/other_user}",
      "gists_url": "https://api.github.com/users/thequackdaddy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thequackdaddy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thequackdaddy/subscriptions",
      "organizations_url": "https://api.github.com/users/thequackdaddy/orgs",
      "repos_url": "https://api.github.com/users/thequackdaddy/repos",
      "events_url": "https://api.github.com/users/thequackdaddy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thequackdaddy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T01:10:22Z",
    "updated_at": "2018-11-01T01:10:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "It works in 0.23.4"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434904019",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434904019",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434904019,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDkwNDAxOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T01:48:20Z",
    "updated_at": "2018-11-01T01:48:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @jbrockmendel "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434918639",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434918639",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434918639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDkxODYzOQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T03:24:25Z",
    "updated_at": "2018-11-01T03:26:31Z",
    "author_association": "MEMBER",
    "body": "cc @TomAugspurger \r\n\r\n#22862 introduced the error messages that are breaking in the code sample, but it's likely not the breaking commit since this is an error path..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434918814",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434918814",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434918814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDkxODgxNA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T03:25:47Z",
    "updated_at": "2018-11-01T03:25:47Z",
    "author_association": "MEMBER",
    "body": "Marking this for `0.24.0` because it seems this \"regression\" has been introduced in development.  I can confirm that the code sample was working in `0.23.4`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434944912",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434944912",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434944912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDk0NDkxMg==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T06:30:00Z",
    "updated_at": "2018-11-01T06:30:00Z",
    "author_association": "MEMBER",
    "body": "Your `to_period` example doesn't work for me in 0.23.4 (and don't think should have ever worked?)\r\n\r\n```\r\nIn [6]: pd.__version__\r\nOut[6]: '0.23.4'\r\n\r\nIn [7]: dates = pd.Series(pd.date_range('2014-01-01', '2017-01-01', freq='MS'))\r\n\r\nIn [8]: dates.to_period('M')\r\nAttributeError: 'RangeIndex' object has no attribute 'to_period'\r\n\r\n# Did you mean this?\r\nIn [11]: dates.dt.to_period('M').head()\r\nOut[11]:\r\n0   2014-01\r\n1   2014-02\r\n2   2014-03\r\n3   2014-04\r\n4   2014-05\r\ndtype: object\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434946507",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434946507",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434946507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDk0NjUwNw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T06:38:03Z",
    "updated_at": "2018-11-01T07:19:53Z",
    "author_association": "MEMBER",
    "body": "<strike>@mroeschke : As I mentioned [above](https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434918814), I can run through the example code from @thequackdaddy perfectly when using `0.23.4`.\r\n\r\nAlso, that error looks really weird because `Series` definitely has a `to_period` method (unless you're hiding some other part of the stacktrace).</strike>\r\n\r\nSee [below](https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434954389)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434953071",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434953071",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434953071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDk1MzA3MQ==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T07:12:26Z",
    "updated_at": "2018-11-01T07:12:26Z",
    "author_association": "MEMBER",
    "body": "@gfyoung : I get the same error as @mroeschke when trying to use the `to_period` method without the `.dt` accessor on both 0.23.4 and master.  Using the `.dt` accessor works fine for me on both 0.23.4 and master.\r\n\r\nI think raising an error is the correct behavior based on the docs for [`Series.to_period`](https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.Series.to_period.html); the `Series.to_period` method is meant to operate on the _index_ whereas as `Series.dt.to_period` is meant to operate on the _values_.  Perhaps this could use a better error message though (have `Series.to_period` check if it has the right type of index before `new_index = self.index.to_period(freq=freq)`).\r\n\r\nI can replicate the `PeriodIndex` code example and agree that it's a regression.\r\n\r\nOn 0.23.4:\r\n\r\n```python\r\nIn [1]: import pandas as pd; pd.__version__\r\nOut[1]: '0.23.4'\r\n\r\nIn [2]: dates = pd.Series(pd.date_range('2014-01-01', '2017-01-01', freq='MS'))\r\n\r\nIn [3]: dates.to_period('M').head()\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-3-2563b9c17104> in <module>()\r\n----> 1 dates.to_period('M').head()\r\n\r\n~/anaconda3/lib/python3.6/site-packages/pandas/core/series.py in to_period(self, freq, copy)\r\n   3958             new_values = new_values.copy()\r\n   3959 \r\n-> 3960         new_index = self.index.to_period(freq=freq)\r\n   3961         return self._constructor(new_values,\r\n   3962                                  index=new_index).__finalize__(self)\r\n\r\nAttributeError: 'RangeIndex' object has no attribute 'to_period'\r\n\r\nIn [4]: \r\n\r\nIn [4]: dates.dt.to_period('M').head()\r\nOut[4]: \r\n0   2014-01\r\n1   2014-02\r\n2   2014-03\r\n3   2014-04\r\n4   2014-05\r\ndtype: object\r\n```\r\n\r\nOn master:\r\n```python\r\nIn [1]: import pandas as pd; pd.__version__\r\nOut[1]: '0.24.0.dev0+879.g9019582'\r\n\r\nIn [2]: dates = pd.Series(pd.date_range('2014-01-01', '2017-01-01', freq='MS'))\r\n\r\nIn [3]: dates.to_period('M')\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-3-944b687ce2da> in <module>()\r\n----> 1 dates.to_period('M')\r\n\r\n~/code/pandas/pandas/core/series.py in to_period(self, freq, copy)\r\n   4108             new_values = new_values.copy()\r\n   4109 \r\n-> 4110         new_index = self.index.to_period(freq=freq)\r\n   4111         return self._constructor(new_values,\r\n   4112                                  index=new_index).__finalize__(self)\r\n\r\nAttributeError: 'RangeIndex' object has no attribute 'to_period'\r\n\r\nIn [4]: dates.dt.to_period('M').head()\r\nOut[4]: \r\n0    2014-01\r\n1    2014-02\r\n2    2014-03\r\n3    2014-04\r\n4    2014-05\r\ndtype: period[M]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434954389",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434954389",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434954389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDk1NDM4OQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T07:18:58Z",
    "updated_at": "2018-11-01T07:20:14Z",
    "author_association": "MEMBER",
    "body": "@mroeschke @jschendel : Ah, so I see where we're getting confused.\r\n\r\nThere are two lines of code that are breaking:\r\n\r\n* `pd.PeriodIndex(dates, freq='M')`\r\n* `dates.to_period('M')`\r\n\r\nI agree that `dates.to_period('M')` does not look like correct usage (I apologize, I overlooked this one myself),  but what about the first one (neither of you addressed that one)?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/434955931",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23438#issuecomment-434955931",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23438",
    "id": 434955931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDk1NTkzMQ==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T07:26:59Z",
    "updated_at": "2018-11-01T07:26:59Z",
    "author_association": "MEMBER",
    "body": "I think `pd.PeriodIndex(dates, freq='M')` should work; note that `pd.PeriodIndex(list(dates), freq='M')` works for me on both 0.23.4 and master.  I don't see a reason why it shouldn't work for a `Series` if it works for a `list`."
  }
]
