[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/234638360",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13758#issuecomment-234638360",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13758",
    "id": 234638360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDYzODM2MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T19:46:12Z",
    "updated_at": "2016-07-22T19:46:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "you are expecting the sum of objects and floats to actually work, but it doesn't; pandas catches the error and ignores the column. So these results are all as expected\n\nyou are simply getting back the `Two` column.\n\n```\nIn [32]: df\nOut[32]: \n   One  Two\n0    A  1.4\n1  1.2  3.2\n2  NaN  4.5\n\nIn [37]: df.dtypes\nOut[37]: \nOne     object\nTwo    float64\ndtype: object\n\nIn [33]: df.sum(axis=1)\nOut[33]: \n0    1.4\n1    3.2\n2    4.5\ndtype: float64\n```\n\noperations between `object` and float columns don't work\n\n```\nIn [43]: df['One'].values\nOut[43]: array(['A', 1.2, nan], dtype=object)\n\nIn [44]: df['Two'].values\nOut[44]: array([ 1.4,  3.2,  4.5])\n\nIn [45]: df['One'].values + df['Two'].values\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-45-391c55893f92> in <module>()\n----> 1 df['One'].values + df['Two'].values\n\nTypeError: cannot concatenate 'str' and 'float' objects\n```\n\nyou probably want o use `pd.to_numeric` to make the invalid values nan.\n\n```\nIn [53]: df2 = df.apply(lambda x: pd.to_numeric(x, errors='coerce'))\n\nIn [54]: df2\nOut[54]: \n   One  Two\n0  NaN  1.4\n1  1.2  3.2\n2  NaN  4.5\n\nIn [55]: df2.dtypes\nOut[55]: \nOne    float64\nTwo    float64\ndtype: object\n\nIn [56]: df2.sum(axis=1)\nOut[56]: \n0    1.4\n1    4.4\n2    4.5\ndtype: float64\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/234644949",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13758#issuecomment-234644949",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13758",
    "id": 234644949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDY0NDk0OQ==",
    "user": {
      "login": "mmcky",
      "id": 8263752,
      "node_id": "MDQ6VXNlcjgyNjM3NTI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8263752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mmcky",
      "html_url": "https://github.com/mmcky",
      "followers_url": "https://api.github.com/users/mmcky/followers",
      "following_url": "https://api.github.com/users/mmcky/following{/other_user}",
      "gists_url": "https://api.github.com/users/mmcky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mmcky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mmcky/subscriptions",
      "organizations_url": "https://api.github.com/users/mmcky/orgs",
      "repos_url": "https://api.github.com/users/mmcky/repos",
      "events_url": "https://api.github.com/users/mmcky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mmcky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T20:15:25Z",
    "updated_at": "2016-07-22T20:18:18Z",
    "author_association": "NONE",
    "body": "Thanks for your response @jreback. I see your reasoning with .to_numeric() -- good call.\n\nBut focusing on the main case. \n\nUsing the first example\n\n``` python\nimport pandas as pd\nimport numpy as np\ndata = {\n    'One' : pd.Series(['A', 1.2, np.nan]),\n    'Two' : pd.Series([1.4, 3.2, 4.5])\n}\ndf = pd.DataFrame(data)\n```\n\nIf a column meets the condition above then it get's replaced with a column of 0's removing valid data and turning it to a numeric.\n\n``` python\ndf[['One']].sum(axis=1)\n```\n\nwill produce a column of `0` values replacing both `np.nan` values and all other valid data. This is very hard to detect because it replaces the entire column with 0 and changes it to `dtype=float64`. I think this is dangerous default behavior. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/234646880",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13758#issuecomment-234646880",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13758",
    "id": 234646880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDY0Njg4MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T20:24:02Z",
    "updated_at": "2016-07-22T20:24:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "not sure where that's coming from, I think something (bottleneck, numpy) is trying to be helpful here.\n\nok i'll reopen, but pls edit down the top just to include that example. It is too much otherwise.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/234647039",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13758#issuecomment-234647039",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13758",
    "id": 234647039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDY0NzAzOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T20:24:47Z",
    "updated_at": "2016-07-22T20:24:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "and pls don't include images at all, just copy-paste text (format using markdown). the more helpful to readers (and the shorter), the more likely someone will look at this.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/234647898",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13758#issuecomment-234647898",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13758",
    "id": 234647898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDY0Nzg5OA==",
    "user": {
      "login": "mmcky",
      "id": 8263752,
      "node_id": "MDQ6VXNlcjgyNjM3NTI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8263752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mmcky",
      "html_url": "https://github.com/mmcky",
      "followers_url": "https://api.github.com/users/mmcky/followers",
      "following_url": "https://api.github.com/users/mmcky/following{/other_user}",
      "gists_url": "https://api.github.com/users/mmcky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mmcky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mmcky/subscriptions",
      "organizations_url": "https://api.github.com/users/mmcky/orgs",
      "repos_url": "https://api.github.com/users/mmcky/repos",
      "events_url": "https://api.github.com/users/mmcky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mmcky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T20:28:33Z",
    "updated_at": "2016-07-22T20:32:44Z",
    "author_association": "NONE",
    "body": "Thanks @jreback. Pandas is great! Original question has been edited. \n"
  }
]
