[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/88883521",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-88883521",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 88883521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4ODgzNTIx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-02T12:29:29Z",
    "updated_at": "2015-04-02T12:29:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "You are doing an inner merge, which doesn't match. Not sure if we could reliably detect this, as it involves a computation to figure out that you have strings that looks like numbers.\n\n```\nIn [8]: >>> pd.merge(df1, df2, on=[\"A\"],how='outer')\nOut[8]: \n   A\n0  0\n1  0\n\nIn [9]: >>> pd.merge(df1, df2, on=[\"A\"],how='outer').dtypes\nOut[9]: \nA    float64\ndtype: object\n```\n\nyou can also do\n\n`df.convert_objects(convert_numeric=True)` to force the objects to become numbers\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/89393712",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-89393712",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 89393712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MzkzNzEy",
    "user": {
      "login": "inodb",
      "id": 1334004,
      "node_id": "MDQ6VXNlcjEzMzQwMDQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1334004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/inodb",
      "html_url": "https://github.com/inodb",
      "followers_url": "https://api.github.com/users/inodb/followers",
      "following_url": "https://api.github.com/users/inodb/following{/other_user}",
      "gists_url": "https://api.github.com/users/inodb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/inodb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/inodb/subscriptions",
      "organizations_url": "https://api.github.com/users/inodb/orgs",
      "repos_url": "https://api.github.com/users/inodb/repos",
      "events_url": "https://api.github.com/users/inodb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/inodb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-03T19:11:16Z",
    "updated_at": "2015-04-06T21:24:43Z",
    "author_association": "NONE",
    "body": "Thanks for your reply and the quick fix. I actually don't think that one should check whether the string represents numbers or not. I think it is more about whether the dtypes of the columns with the same name match. If you do an inner merge on DataFrames with no matching columns you get a MergeError. I think it would make sense to also throw one if there are matching columns but their dtypes can't be silently cast to match. Especially if one specifically sets the option `on=[\"A\"]`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246909286",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-246909286",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 246909286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjkwOTI4Ng==",
    "user": {
      "login": "sudk1896",
      "id": 6025419,
      "node_id": "MDQ6VXNlcjYwMjU0MTk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6025419?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sudk1896",
      "html_url": "https://github.com/sudk1896",
      "followers_url": "https://api.github.com/users/sudk1896/followers",
      "following_url": "https://api.github.com/users/sudk1896/following{/other_user}",
      "gists_url": "https://api.github.com/users/sudk1896/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sudk1896/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sudk1896/subscriptions",
      "organizations_url": "https://api.github.com/users/sudk1896/orgs",
      "repos_url": "https://api.github.com/users/sudk1896/repos",
      "events_url": "https://api.github.com/users/sudk1896/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sudk1896/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T05:20:42Z",
    "updated_at": "2016-09-14T05:20:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@inodb @jreback: I would like to take a stab at this. From what I can understand, I need to check the datatypes of the columns that are to be merged, and if they're unequal then throw an error. Could you tell me what type of error ? Thanks.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246966727",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-246966727",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 246966727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njk2NjcyNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T10:10:21Z",
    "updated_at": "2016-09-14T10:10:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "this should raise a `ValueError` if the dtypes for the on columns don't match\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246967203",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-246967203",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 246967203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njk2NzIwMw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T10:12:27Z",
    "updated_at": "2016-09-14T10:12:27Z",
    "author_association": "MEMBER",
    "body": "Suppose the case of an int and float column. I don't think it should raise if you want to merge on those columns? (can eg already typically occur when having NaNs in one of both)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246967835",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-246967835",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 246967835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njk2NzgzNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T10:15:20Z",
    "updated_at": "2016-09-14T10:15:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "right we care about 'obvious' mismatches here that by-definition cannot match. so `object` vs `int/float` (or datetimelike vs `int/float/object`). We will need to `lib.infer_dtype` to make this more specific (e.g. `string/unicode` cannot match `int`)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247013104",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-247013104",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 247013104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzAxMzEwNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T13:30:49Z",
    "updated_at": "2016-09-14T13:31:00Z",
    "author_association": "MEMBER",
    "body": "Personally, I would leave this as a responsibility of the user. \nAlthough I understand that the example above can be confusing at first, trying to guess when the user passed wrong dtypes by accident instead of on purpose seems like adding complexity that is not really worth it (but it's a trade-off of course) \n\nSomething else, currently, as @jreback shows above (https://github.com/pydata/pandas/issues/9780#issuecomment-88883521), the strings of `df2` get coerced to numeric values on merging:\n\n```\nIn [57]: pd.merge(df1, df2, on=[\"A\"],how='outer').dtypes\nOut[57]: \nA    int64\ndtype: object\n```\n\nI suppose this happens on purpose? IMO it should return object array and keep the original values (like `pd.concat` does)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247016056",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-247016056",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 247016056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzAxNjA1Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T13:40:59Z",
    "updated_at": "2016-09-14T13:41:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche yes, we should certainly not coerce on mixed types in merging, unless they are losslessly convertible (e.g. int & float), so maybe make a separate issue.\n\nBut I think we should raise on str/numeric, and datetimelike/(str or numeric), it is simply not possible (and if the user _really_ wants that, then its just a concat).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247020186",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-247020186",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 247020186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzAyMDE4Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T13:54:32Z",
    "updated_at": "2016-09-14T13:54:32Z",
    "author_association": "MEMBER",
    "body": "> and if the user really wants that, then its just a concat\n\nThat's a good point :-)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247036528",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-247036528",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 247036528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzAzNjUyOA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T14:44:35Z",
    "updated_at": "2016-09-14T14:44:35Z",
    "author_association": "MEMBER",
    "body": "> yes, we should certainly not coerce on mixed types in merging, unless they are losslessly convertible (e.g. int & float), so maybe make a separate issue.\n\nOn a second thought, if we disallow merging on str/numeric (the case of the initial example), I don't think are cases left that we would allow but  where no coercing should happen? (for which I wanted to open an new issue)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247044778",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-247044778",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 247044778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzA0NDc3OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T15:08:17Z",
    "updated_at": "2016-09-14T15:08:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche can you show example / elaborate on your last?\n\n> On a second thought, if we disallow merging on str/numeric (the case of the initial example), I don't think are cases left that we would allow but where no coercing should happen? (for which I wanted to open an new issue)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247046017",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-247046017",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 247046017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzA0NjAxNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T15:11:39Z",
    "updated_at": "2016-09-14T15:11:39Z",
    "author_association": "MEMBER",
    "body": "Well, the original example above has a dataframe with integers in the key column, and another dataframe with strings in the key column. They are now coerced to integers, something I think should not happen:\n\n```\nIn [62]: df1 = pd.DataFrame({\"A\":[0], \"B\":[1]})\n\nIn [63]: df2 = pd.DataFrame({\"A\":[\"0\"], \"B\":[2]})\n\nIn [64]: pd.merge(df1, df2, on=[\"A\"],how='outer')\nOut[64]: \n   A  B_x  B_y\n0  0  1.0  NaN\n1  0  NaN  2.0\n\nIn [65]: pd.merge(df1, df2, on=[\"A\"],how='outer').A.dtype\nOut[65]: dtype('int64')\n\nIn [66]: pd.merge(df1, df2, on=[\"A\"],how='outer').A.values\nOut[66]: array([0, 0])\n```\n\nAnd I wanted to open an new issue for this. But, this is also an example where we would want to raise an error about \"incompatible columns to merge on\". \nSo would there still be cases where we would not raise such an error, but still happens unwanted coercing?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247048387",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-247048387",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 247048387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzA0ODM4Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T15:18:16Z",
    "updated_at": "2016-09-14T15:18:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "ah I c. I think this should raise a nice errors message (maybe saying that you might want to use `pd.concat`), which will simply work.\n\nconcat\n\n```\nIn [16]: pd.concat([df1,df2])\nOut[16]:\n   A\n0  0\n0  0\n\nIn [17]: pd.concat([df1,df2]).dtypes\nOut[17]:\nA    object\ndtype: object\n\nIn [18]: pd.concat([df1,df2]).values\nOut[18]:\narray([[0],\n       ['0']], dtype=object)\n```\n\nmerge\n\n```\nIn [19]: pd.merge(df1, df2, on ='A')\nOut[19]:\nEmpty DataFrame\nColumns: [A]\nIndex: []\n\nIn [20]: pd.merge(df1, df2, on ='A', how='outer')\nOut[20]:\n   A\n0  0\n1  0\n\nIn [21]: pd.merge(df1, df2, on ='A', how='outer').dtypes\nOut[21]:\nA    int64\ndtype: object\n```\n\nso [20,21] are wrong (this should be `object`).\n\nBut I would actually simply raise `ValueError` on the merge. Its a mistake on the users part.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/374374905",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-374374905",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 374374905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDM3NDkwNQ==",
    "user": {
      "login": "kylebarron",
      "id": 15164633,
      "node_id": "MDQ6VXNlcjE1MTY0NjMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/15164633?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kylebarron",
      "html_url": "https://github.com/kylebarron",
      "followers_url": "https://api.github.com/users/kylebarron/followers",
      "following_url": "https://api.github.com/users/kylebarron/following{/other_user}",
      "gists_url": "https://api.github.com/users/kylebarron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kylebarron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kylebarron/subscriptions",
      "organizations_url": "https://api.github.com/users/kylebarron/orgs",
      "repos_url": "https://api.github.com/users/kylebarron/repos",
      "events_url": "https://api.github.com/users/kylebarron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kylebarron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-19T21:00:35Z",
    "updated_at": "2018-03-19T21:00:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Was #18764 included in the Pandas 0.22.0 release? It looks like @jreback added that to the 0.22.0 milestone on Dec 7, 2017, and it was merged to master 19 days before 0.22.0 was released, but the initial example still fails for me on 0.22.0:\r\n\r\n>    ```py\r\n>    >>> import pandas as pd\r\n>    >>> df1 = pd.DataFrame({\"A\": [0]})\r\n>    >>> df2 = pd.DataFrame({\"A\": [\"0\"]})\r\n>    >>> pd.merge(df1, df2, on=[\"A\"])\r\n>    Empty DataFrame\r\n>    Columns: [A]\r\n>    Index: []\r\n>    ``` \r\n\r\n```py\r\n>>> pd.show_versions()\r\n\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.4.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.13.0-37-generic\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_US.UTF-8\r\nLOCALE: en_US.UTF-8\r\n\r\npandas: 0.22.0\r\npytest: 3.4.0\r\npip: 9.0.1\r\nsetuptools: 38.5.1\r\nCython: 0.27.3\r\nnumpy: 1.14.1\r\nscipy: 1.0.0\r\npyarrow: 0.8.0\r\nxarray: None\r\nIPython: 6.2.1\r\nsphinx: 1.7.1\r\npatsy: 0.5.0\r\ndateutil: 2.6.1\r\npytz: 2018.3\r\nblosc: None\r\nbottleneck: 1.2.1\r\ntables: 3.4.2\r\nnumexpr: 2.6.4\r\nfeather: 0.4.0\r\nmatplotlib: 2.1.2\r\nopenpyxl: 2.5.0\r\nxlrd: 1.1.0\r\nxlwt: 1.3.0\r\nxlsxwriter: 1.0.2\r\nlxml: 4.1.1\r\nbs4: 4.6.0\r\nhtml5lib: 1.0.1\r\nsqlalchemy: 1.2.3\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.10\r\ns3fs: None\r\nfastparquet: 0.1.4\r\npandas_gbq: None\r\npandas_datareader: None\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/374391152",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9780#issuecomment-374391152",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9780",
    "id": 374391152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDM5MTE1Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-19T21:45:09Z",
    "updated_at": "2018-03-19T21:45:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/pandas-dev/pandas/pull/18674 will be in the 0.23 release.\r\n\r\nThe 0.22 release just had one change. You can always view the release notes for a version at http://pandas.pydata.org/pandas-docs/stable/whatsnew.html."
  }
]
