[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/288037830",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15754#issuecomment-288037830",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15754",
    "id": 288037830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODAzNzgzMA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-21T10:34:02Z",
    "updated_at": "2017-03-21T10:34:02Z",
    "author_association": "MEMBER",
    "body": "@dadkins Thanks for the report!\r\n\r\nIt seems it is an issue with the label formatter, as the actual plotted data itself is the same in both cases:\r\n\r\n```\r\nIn [3]: ax1 = data_utc.plot(title='UTC'); plt.close()\r\n\r\nIn [4]: ax2 = data_eastern.plot(title='US/Eastern')\r\n\r\nIn [5]: ax1.get_lines()[0].get_xydata()\r\nOut[5]: \r\narray([[  7.34411375e+05,  -2.60000000e-01],\r\n       [  7.36238375e+05,  -1.00000000e-02]])\r\n\r\nIn [6]: ax2.get_lines()[0].get_xydata()\r\nOut[6]: \r\narray([[  7.34411375e+05,  -2.60000000e-01],\r\n       [  7.36238375e+05,  -1.00000000e-02]])\r\n\r\nIn [7]: ax1.xaxis.get_data_interval()\r\nOut[7]: array([ 734411.375,  736238.375])\r\n\r\nIn [8]: ax2.xaxis.get_data_interval()\r\nOut[8]: array([ 734411.375,  736238.375])\r\n```\r\n\r\nLooking at the xticks:\r\n```\r\nIn [9]: ax1.xaxis.get_ticklocs()\r\nOut[9]: array([ 734503.,  734869.,  735234.,  735599.,  735964.])\r\n\r\nIn [10]: ax2.xaxis.get_ticklocs()\r\nOut[10]: \r\narray([ 734503.16666667,  734869.16666667,  735234.16666667,\r\n        735599.16666667,  735964.16666667])\r\n```\r\n\r\nHere is a small difference (not sure if this is correct), but it is the `PandasAutoDateFormatter` that converts those values differently for both plots (this seems the bug):\r\n\r\n```\r\nIn [15]: f1 = ax1.xaxis.get_major_formatter()\r\n\r\nIn [17]: f1.format_data(734503.)\r\nOut[17]: '2012'\r\n\r\nIn [18]: f1.format_data(734503.1666666)\r\nOut[18]: '2012'\r\n\r\nIn [19]: f2 = ax2.xaxis.get_major_formatter()\r\n\r\nIn [20]: f2.format_data(734503.)\r\nOut[20]: '2011'\r\n\r\nIn [21]: f2.format_data(734503.1666666)\r\nOut[21]: '2011'\r\n\r\nIn [22]: f1\r\nOut[22]: <pandas.tseries.converter.PandasAutoDateFormatter at 0x7f44fdf68358>\r\n\r\nIn [23]: f2\r\nOut[23]: <pandas.tseries.converter.PandasAutoDateFormatter at 0x7f44fdfdaf28>\r\n```\r\n\r\nVery welcome to further dig in!\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/288142752",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15754#issuecomment-288142752",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15754",
    "id": 288142752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODE0Mjc1Mg==",
    "user": {
      "login": "dadkins",
      "id": 507004,
      "node_id": "MDQ6VXNlcjUwNzAwNA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/507004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dadkins",
      "html_url": "https://github.com/dadkins",
      "followers_url": "https://api.github.com/users/dadkins/followers",
      "following_url": "https://api.github.com/users/dadkins/following{/other_user}",
      "gists_url": "https://api.github.com/users/dadkins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dadkins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dadkins/subscriptions",
      "organizations_url": "https://api.github.com/users/dadkins/orgs",
      "repos_url": "https://api.github.com/users/dadkins/repos",
      "events_url": "https://api.github.com/users/dadkins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dadkins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-21T16:50:08Z",
    "updated_at": "2017-03-21T16:50:08Z",
    "author_association": "NONE",
    "body": "These are wrong. They're off by an hour if they're supposed to represent midnight, January 1, US/Eastern time.\r\n\r\n```\r\nIn [10]: ax2.xaxis.get_ticklocs()\r\nOut[10]: array([ 734503.16666667,  734869.16666667,  735234.16666667,\r\n        735599.16666667,  735964.16666667])\r\n```\r\n\r\nThe following values were passed to matplotlib.dates._to_ordinalf\r\n```\r\n[datetime.datetime(2012, 1, 1, 0, 0, tzinfo=<DstTzInfo 'US/Eastern' EDT-1 day, 20:00:00 DST>),\r\n datetime.datetime(2013, 1, 1, 0, 0, tzinfo=<DstTzInfo 'US/Eastern' EDT-1 day, 20:00:00 DST>),\r\n datetime.datetime(2014, 1, 1, 0, 0, tzinfo=<DstTzInfo 'US/Eastern' EDT-1 day, 20:00:00 DST>),\r\n datetime.datetime(2015, 1, 1, 0, 0, tzinfo=<DstTzInfo 'US/Eastern' EDT-1 day, 20:00:00 DST>),\r\n datetime.datetime(2016, 1, 1, 0, 0, tzinfo=<DstTzInfo 'US/Eastern' EDT-1 day, 20:00:00 DST>),\r\n]\r\n```\r\n\r\nThe problem is that EDT refers to daylight savings time which is not in effect on January 1. Later, when the pandas date formatter is called, it uses the correct tz of US/Eastern, which is EST -05:00 at that time of year instead of EDT -04:00. That off-by-one-hour error causes us to view those dates as one-hour before midnight the year before, and that's what shows up on the xaxis labels.\r\n\r\nI'm not familiar enough with pandas and matplotlib internals to understand how the timezones are supposed to flow through, but it appears that somewhere along the line a US/Eastern time zone, which can represent different offsets at different times of the year, was replaced by a EDT -04:00 fixed offset time zone."
  }
]
