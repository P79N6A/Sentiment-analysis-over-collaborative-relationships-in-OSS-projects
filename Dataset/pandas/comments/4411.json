[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21834140",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4411#issuecomment-21834140",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4411",
    "id": 21834140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODM0MTQw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T01:04:40Z",
    "updated_at": "2013-07-31T01:55:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "pls show you created this panel\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21856671",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4411#issuecomment-21856671",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4411",
    "id": 21856671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODU2Njcx",
    "user": {
      "login": "rbakhru",
      "id": 2974689,
      "node_id": "MDQ6VXNlcjI5NzQ2ODk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2974689?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rbakhru",
      "html_url": "https://github.com/rbakhru",
      "followers_url": "https://api.github.com/users/rbakhru/followers",
      "following_url": "https://api.github.com/users/rbakhru/following{/other_user}",
      "gists_url": "https://api.github.com/users/rbakhru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rbakhru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rbakhru/subscriptions",
      "organizations_url": "https://api.github.com/users/rbakhru/orgs",
      "repos_url": "https://api.github.com/users/rbakhru/repos",
      "events_url": "https://api.github.com/users/rbakhru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rbakhru/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T11:57:56Z",
    "updated_at": "2013-07-31T12:00:25Z",
    "author_association": "NONE",
    "body": "Here's sample code that generates a panel that demonstrates this.  It seems to have something to do w/ the .apply?\n\n``` python\npanel = pandas.Panel(data=[[['a', 'b']],[['c', 'd']]], items=['ticker1', 'ticker2'], major_axis=[datetime(2013,7,29)], minor_axis=['value1','value2'])\n\n\nIn [144]: print panel\n<class 'pandas.core.panel.Panel'>\nDimensions: 2 (items) x 1 (major_axis) x 2 (minor_axis)\nItems axis: ticker1 to ticker2\nMajor_axis axis: 2013-07-29 00:00:00 to 2013-07-29 00:00:00\nMinor_axis axis: value1 to value2\n\n\nIn [145]: print panel['ticker1']\n           value1 value2\n2013-07-29      a      b\n\nIn [146]: print panel['ticker2']\n           value1 value2\n2013-07-29      c      d\n\n\nIn [147]: panel = panel.reindex(minor=list(panel.minor_axis) + ['exp_date'])\n\n\nIn [151]: expDateDict = {'a': datetime(2013,1,1), 'b': datetime(2013,1,2), 'c': datetime(2013,1,3), 'd': datetime(2013,1,4)\n\n\n\nIn [152]: panel['ticker1']['exp_date'] = panel['ticker1']['value1'].apply(lambda x: expDateDict[x])\n\nIn [153]: print panel['ticker1']\n           value1 value2            exp_date\n2013-07-29      a      b 2013-01-01 00:00:00\n\nIn [154]: panel.values\nOut[154]:\narray([[['a', 'b', nan]],\n\n       [['c', 'd', nan]]], dtype=object)\n\nIn [155]: print panel['ticker1']\n           value1 value2 exp_date\n2013-07-29      a      b      NaN\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21863745",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4411#issuecomment-21863745",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4411",
    "id": 21863745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODYzNzQ1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T13:50:03Z",
    "updated_at": "2013-07-31T13:50:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "you have a couple of issues here\n\n`panel['ticker1']['exp_date']` is operating on a copy of a copy, so assignment may happen to work,but is not expected to. use the explicit indexers, `.iloc/.loc`, see: http://pandas.pydata.org/pandas-docs/dev/indexing.html\n(and thus what you are reporting is not a bug)\n\nwhen assigning to a Panel, you should assign an entire DataFrame to an item; other types of assignments are not implemented with the exception of scalars\n\nYou may find a multi-index dataframe more intuitive for what you are doing here\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21865467",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4411#issuecomment-21865467",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4411",
    "id": 21865467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODY1NDY3",
    "user": {
      "login": "rbakhru",
      "id": 2974689,
      "node_id": "MDQ6VXNlcjI5NzQ2ODk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2974689?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rbakhru",
      "html_url": "https://github.com/rbakhru",
      "followers_url": "https://api.github.com/users/rbakhru/followers",
      "following_url": "https://api.github.com/users/rbakhru/following{/other_user}",
      "gists_url": "https://api.github.com/users/rbakhru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rbakhru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rbakhru/subscriptions",
      "organizations_url": "https://api.github.com/users/rbakhru/orgs",
      "repos_url": "https://api.github.com/users/rbakhru/repos",
      "events_url": "https://api.github.com/users/rbakhru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rbakhru/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T14:13:11Z",
    "updated_at": "2013-07-31T14:13:11Z",
    "author_association": "NONE",
    "body": "Got it, thanks a lot for the feedback & help.  We've corrected our code accordingly.  Obviously don't know the difficulty or complexity involved, but it would be more user-friendly if the results showed consistently (so in this case, show the NaN initially when printing panel['ticker1'] after the apply).  Or even better, either throwing an error on the assignment itself or logging a warn message would be ideal, especially given these calls worked in older pandas versions and its tough to track down lost data without any errors or warnings.\nThanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21865654",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4411#issuecomment-21865654",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4411",
    "id": 21865654,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODY1NjU0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-31T14:15:56Z",
    "updated_at": "2013-07-31T14:15:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "panel does need some more TLC, esp on the assignment from; 0.12 is better than 0.11 fyi.\n\nalso, from my experience (if you do want to use Panels). This seems to 'work' better IMHO\n\nitems = values.\nmajor_axis = dates\nminor_axis = tickers\n\nthis is also how the natural storage works in HDFStore\n"
  }
]
