[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/377445135",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20539#issuecomment-377445135",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20539",
    "id": 377445135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzQ0NTEzNQ==",
    "user": {
      "login": "javadnoorb",
      "id": 26352146,
      "node_id": "MDQ6VXNlcjI2MzUyMTQ2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/26352146?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javadnoorb",
      "html_url": "https://github.com/javadnoorb",
      "followers_url": "https://api.github.com/users/javadnoorb/followers",
      "following_url": "https://api.github.com/users/javadnoorb/following{/other_user}",
      "gists_url": "https://api.github.com/users/javadnoorb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javadnoorb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javadnoorb/subscriptions",
      "organizations_url": "https://api.github.com/users/javadnoorb/orgs",
      "repos_url": "https://api.github.com/users/javadnoorb/repos",
      "events_url": "https://api.github.com/users/javadnoorb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javadnoorb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T04:56:41Z",
    "updated_at": "2018-03-30T05:11:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just in case it is of any help, this seems to be true for a lot of functions (e.g. cumprod, mean, cummin, cummax, etc.).\r\n\r\nSeems to me that if `is_numeric_dtype` returns False in the following line, the function after groupby will be skipped and an exception raised:\r\nhttps://github.com/pandas-dev/pandas/blob/c4b4a81f56205082ec7f12bf77766e3b74d27c37/pandas/core/groupby.py#L985\r\n\r\nWith objects like the one you have defined, the function `is_numeric_dtype` returns False as can be seen from the following test:\r\n \r\n```python\r\nimport pandas as pd\r\nfrom pandas.core.dtypes.common import is_numeric_dtype\r\nfrom decimal import Decimal\r\n\r\ndf = pd.DataFrame({'x': ['a', 'b', 'a', 'b', 'a', 'b'], 'y': [10, 5, 20, 6, 30, 7]})         \r\nprint(df['y'].dtype, is_numeric_dtype(df['y']))\r\ndf['y'] = [Decimal(str(v)) for v in df['y'].tolist()]  \r\nprint(df['y'].dtype, is_numeric_dtype(df['y']))\r\n```\r\nwhich returns:\r\n```\r\nint64 True\r\nobject False\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/377448635",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20539#issuecomment-377448635",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20539",
    "id": 377448635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzQ0ODYzNQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T05:26:10Z",
    "updated_at": "2018-03-30T05:26:44Z",
    "author_association": "MEMBER",
    "body": "I don't think numpy supports Decimal as a type, representing it instead as an object, hence it's not considered a numeric type and why your aggregations fail.\r\n\r\nWhy are you even using Decimal in your example? All of the values are just as well represented as an int. If you need decimal places are there specific precision issues with float64 that you are encountering?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/377604919",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20539#issuecomment-377604919",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20539",
    "id": 377604919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzYwNDkxOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T19:37:42Z",
    "updated_at": "2018-03-30T19:37:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is not likely to be supported as decimal is not a first class type in pandas. maybe after ``DecimalArray`` (via EA) this might be possible."
  }
]
