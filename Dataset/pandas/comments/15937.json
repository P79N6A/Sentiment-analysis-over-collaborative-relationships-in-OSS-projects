[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/292535656",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-292535656",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 292535656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjUzNTY1Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-07T13:26:40Z",
    "updated_at": "2017-04-07T13:26:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "``HDFStore`` is based on ``PyTables``, see the docs: http://pandas.pydata.org/pandas-docs/stable/io.html#io-hdf5\r\n\r\nYou are trying to read essentially an incompat format. ``HDFStore`` *can* read a plain ``PyTables`` format table (IOW w/o any meta-data taht HDFStore uses). but ``h5py`` is not supported."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/292541520",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-292541520",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 292541520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjU0MTUyMA==",
    "user": {
      "login": "mchwalisz",
      "id": 2182186,
      "node_id": "MDQ6VXNlcjIxODIxODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2182186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mchwalisz",
      "html_url": "https://github.com/mchwalisz",
      "followers_url": "https://api.github.com/users/mchwalisz/followers",
      "following_url": "https://api.github.com/users/mchwalisz/following{/other_user}",
      "gists_url": "https://api.github.com/users/mchwalisz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mchwalisz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mchwalisz/subscriptions",
      "organizations_url": "https://api.github.com/users/mchwalisz/orgs",
      "repos_url": "https://api.github.com/users/mchwalisz/repos",
      "events_url": "https://api.github.com/users/mchwalisz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mchwalisz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-07T13:49:51Z",
    "updated_at": "2017-04-07T13:49:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Wait. I'm not using `h5py` at all. I'm also able to import without problems datasets created with exactly the same method using `pd.read_hdf()` with limitation that all has to fit into memory.\r\n\r\nI run into problems as soon as either data doesn't fit in memory (see #11188 ) or even index (this bug) doesn't fit.\r\n\r\nDo you have any guidelines what should I change in my process to make it work then?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/292543482",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-292543482",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 292543482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjU0MzQ4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-07T13:57:19Z",
    "updated_at": "2017-04-07T13:57:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "sorry, I looked quick.\r\n\r\nyes, create things using ``HDFStore`` and then it will work. Directly creating in ``PyTables`` is barely supported (with will likely not be)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/297635679",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-297635679",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 297635679,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzYzNTY3OQ==",
    "user": {
      "login": "mchwalisz",
      "id": 2182186,
      "node_id": "MDQ6VXNlcjIxODIxODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2182186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mchwalisz",
      "html_url": "https://github.com/mchwalisz",
      "followers_url": "https://api.github.com/users/mchwalisz/followers",
      "following_url": "https://api.github.com/users/mchwalisz/following{/other_user}",
      "gists_url": "https://api.github.com/users/mchwalisz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mchwalisz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mchwalisz/subscriptions",
      "organizations_url": "https://api.github.com/users/mchwalisz/orgs",
      "repos_url": "https://api.github.com/users/mchwalisz/repos",
      "events_url": "https://api.github.com/users/mchwalisz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mchwalisz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-27T07:35:35Z",
    "updated_at": "2017-04-27T07:35:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "I still have that problem using pure pandas. Created example file using:\r\n\r\n```python\r\nimport os\r\nimport pandas as pd\r\nimport numpy as np\r\nimport tqdm\r\n\r\n\r\ndef sizeof_fmt(num, suffix='B'):\r\n    for unit in ['', 'Ki', 'Mi', 'Gi', 'Ti', 'Pi', 'Ei', 'Zi']:\r\n        if abs(num) < 1024.0:\r\n            return \"%3.1f%s%s\" % (num, unit, suffix)\r\n        num /= 1024.0\r\n    return \"%.1f%s%s\" % (num, 'Yi', suffix)\r\n\r\n\r\npath = 'test.h5'\r\nset_size = 10**6\r\nif os.path.exists(path):\r\n    print('Old size: {}'.format(sizeof_fmt(os.stat(path).st_size)))\r\n    os.remove(path)\r\n\r\nwith pd.get_store(path) as store:\r\n    for _ in tqdm.trange(10**3 * 1):\r\n        df = pd.DataFrame(np.random.randn(set_size, 3), columns=list('ABC'))\r\n        try:\r\n            nrows = store.get_storer('foo').nrows\r\n        except AttributeError:\r\n            nrows = 0\r\n\r\n        df.index = pd.Series(df.index) + nrows\r\n        store.put('/foo', df, format='table', append=True, complib='blosc')\r\n\r\nprint(sizeof_fmt(os.stat(path).st_size))\r\n```\r\n\r\nwhich produces a 24GB test file. Then trying to read it with:\r\n\r\n```python\r\nimport pandas as pd\r\nfrom tqdm import tqdm\r\n\r\npath = 'test.h5'\r\nexperiment = '/foo'\r\n\r\ni = 0\r\nwith pd.get_store(path) as store:\r\n    for df in tqdm(store.select(experiment, chunksize=100)):\r\n        i += 1\r\n    print(i)\r\n```\r\n\r\nI have:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/chwalisz/Code/temp/memerror.py\", line 9, in <module>\r\n    for df in tqdm(store.select(experiment, chunksize=100)):\r\n  File \"/home/chwalisz/Code/miniconda3/envs/wishful/lib/python3.6/site-packages/pandas/io/pytables.py\", line 724, in select\r\n    return it.get_result()\r\n  File \"/home/chwalisz/Code/miniconda3/envs/wishful/lib/python3.6/site-packages/pandas/io/pytables.py\", line 1412, in get_result\r\n    self.coordinates = self.s.read_coordinates(where=self.where)\r\n  File \"/home/chwalisz/Code/miniconda3/envs/wishful/lib/python3.6/site-packages/pandas/io/pytables.py\", line 3643, in read_coordinates\r\n    coords = self.selection.select_coords()\r\n  File \"/home/chwalisz/Code/miniconda3/envs/wishful/lib/python3.6/site-packages/pandas/io/pytables.py\", line 4709, in select_coords\r\n    return np.arange(start, stop)\r\nValueError: array is too big; `arr.size * arr.dtype.itemsize` is larger than the maximum possible size.\r\n```\r\n\r\n<details>\r\n>>> pd.show_versions()\r\n\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.1.final.0\r\npython-bits: 32\r\nOS: Linux\r\nOS-release: 4.4.0-71-generic\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_EN.utf8\r\nLOCALE: None.None\r\n\r\npandas: 0.19.2\r\nnose: None\r\npip: 9.0.1\r\nsetuptools: 27.2.0\r\nCython: None\r\nnumpy: 1.12.1\r\nscipy: None\r\nstatsmodels: None\r\nxarray: None\r\nIPython: None\r\nsphinx: None\r\npatsy: None\r\ndateutil: 2.6.0\r\npytz: 2017.2\r\nblosc: None\r\nbottleneck: None\r\ntables: 3.3.0\r\nnumexpr: 2.6.2\r\nmatplotlib: None\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: None\r\nhttplib2: None\r\napiclient: None\r\nsqlalchemy: None\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.9.5\r\nboto: None\r\npandas_datareader: None\r\n\r\n</details>"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/297648770",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-297648770",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 297648770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzY0ODc3MA==",
    "user": {
      "login": "mchwalisz",
      "id": 2182186,
      "node_id": "MDQ6VXNlcjIxODIxODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2182186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mchwalisz",
      "html_url": "https://github.com/mchwalisz",
      "followers_url": "https://api.github.com/users/mchwalisz/followers",
      "following_url": "https://api.github.com/users/mchwalisz/following{/other_user}",
      "gists_url": "https://api.github.com/users/mchwalisz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mchwalisz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mchwalisz/subscriptions",
      "organizations_url": "https://api.github.com/users/mchwalisz/orgs",
      "repos_url": "https://api.github.com/users/mchwalisz/repos",
      "events_url": "https://api.github.com/users/mchwalisz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mchwalisz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-27T08:30:31Z",
    "updated_at": "2017-04-27T08:30:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "should I put it as new issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/297765183",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-297765183",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 297765183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Nzc2NTE4Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-27T16:18:19Z",
    "updated_at": "2017-04-27T16:18:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "yep that looks odd"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299392846",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299392846",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299392846,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTM5Mjg0Ng==",
    "user": {
      "login": "mchwalisz",
      "id": 2182186,
      "node_id": "MDQ6VXNlcjIxODIxODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2182186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mchwalisz",
      "html_url": "https://github.com/mchwalisz",
      "followers_url": "https://api.github.com/users/mchwalisz/followers",
      "following_url": "https://api.github.com/users/mchwalisz/following{/other_user}",
      "gists_url": "https://api.github.com/users/mchwalisz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mchwalisz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mchwalisz/subscriptions",
      "organizations_url": "https://api.github.com/users/mchwalisz/orgs",
      "repos_url": "https://api.github.com/users/mchwalisz/repos",
      "events_url": "https://api.github.com/users/mchwalisz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mchwalisz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T06:32:04Z",
    "updated_at": "2017-05-05T06:32:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Shouldn't the issue be reopened? What are the next steps?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299435385",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299435385",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299435385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTQzNTM4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T10:49:32Z",
    "updated_at": "2017-05-05T10:49:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "u can open a new issue\r\npls pls show a very minimal example"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299637416",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299637416",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299637416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTYzNzQxNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-06T12:42:50Z",
    "updated_at": "2017-05-06T12:42:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mchwalisz would be helpful to have a complete (but simple) copy-pastable example, IOW generate the data, the repro the error w/o anything external. (you create the file above), but need to have as minimal example (w/o tqdm), and just a simple repro."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299713881",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299713881",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299713881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcxMzg4MQ==",
    "user": {
      "login": "p-himik",
      "id": 4410314,
      "node_id": "MDQ6VXNlcjQ0MTAzMTQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4410314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/p-himik",
      "html_url": "https://github.com/p-himik",
      "followers_url": "https://api.github.com/users/p-himik/followers",
      "following_url": "https://api.github.com/users/p-himik/following{/other_user}",
      "gists_url": "https://api.github.com/users/p-himik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/p-himik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/p-himik/subscriptions",
      "organizations_url": "https://api.github.com/users/p-himik/orgs",
      "repos_url": "https://api.github.com/users/p-himik/repos",
      "events_url": "https://api.github.com/users/p-himik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/p-himik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T15:32:21Z",
    "updated_at": "2017-05-07T15:32:21Z",
    "author_association": "NONE",
    "body": "I've encountered a similar problem, only when using `where` similar to `'index in 200_items_list'` and not `chunksize`. As far as I can see, when `where` is not a list of row indices and its condition consists of more than 31 items (see `computation.pytables.BinOp._max_selectors`), the whole data is read into memory.\r\n\r\nI have no idea where this limitation of 31 items comes from, but I think that it would make sense to (maybe only when some flag is set) read and filter data in chunks or if filter involves only the index, extract the needed row numbers, and only then select the data.\r\n\r\nDoes is make sense?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299716092",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299716092",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299716092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcxNjA5Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T16:07:26Z",
    "updated_at": "2017-05-07T16:07:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "the 31 limit is because of ``numexpr``. You wouldn't normally hit this if you follow: http://pandas.pydata.org/pandas-docs/stable/io.html#advanced-queries"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299717392",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299717392",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299717392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcxNzM5Mg==",
    "user": {
      "login": "p-himik",
      "id": 4410314,
      "node_id": "MDQ6VXNlcjQ0MTAzMTQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4410314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/p-himik",
      "html_url": "https://github.com/p-himik",
      "followers_url": "https://api.github.com/users/p-himik/followers",
      "following_url": "https://api.github.com/users/p-himik/following{/other_user}",
      "gists_url": "https://api.github.com/users/p-himik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/p-himik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/p-himik/subscriptions",
      "organizations_url": "https://api.github.com/users/p-himik/orgs",
      "repos_url": "https://api.github.com/users/p-himik/repos",
      "events_url": "https://api.github.com/users/p-himik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/p-himik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T16:26:48Z",
    "updated_at": "2017-05-07T16:26:48Z",
    "author_association": "NONE",
    "body": "Ah, thanks for pointing me to the `select_as_coordinates` method! I couldn't find a way to extract only the index, but it does what I need.\r\n\r\nI just tried to use it and found that if a user needs to extract rows from some window (set of indices that don't span over the whole data, just over some part of it), no matter continuous or not, using `store.select(path, ['index >= window.min()', 'index <= window.max()', 'index in window'])` may be orders of magnitude faster than using `select_as_coordinates`. Would it make sense to include `>=` and `<=` conditions automatically based on the values provided with `in`?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299720459",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299720459",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299720459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcyMDQ1OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T17:17:05Z",
    "updated_at": "2017-05-07T17:17:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes selecting a contiguous slice, then doing an in memory subselectiok is way more performant. in combination with chunking this handles most out of core cases (though does need some intelligence because you can end up selecting a huge range)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299841644",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299841644",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299841644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTg0MTY0NA==",
    "user": {
      "login": "mchwalisz",
      "id": 2182186,
      "node_id": "MDQ6VXNlcjIxODIxODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2182186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mchwalisz",
      "html_url": "https://github.com/mchwalisz",
      "followers_url": "https://api.github.com/users/mchwalisz/followers",
      "following_url": "https://api.github.com/users/mchwalisz/following{/other_user}",
      "gists_url": "https://api.github.com/users/mchwalisz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mchwalisz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mchwalisz/subscriptions",
      "organizations_url": "https://api.github.com/users/mchwalisz/orgs",
      "repos_url": "https://api.github.com/users/mchwalisz/repos",
      "events_url": "https://api.github.com/users/mchwalisz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mchwalisz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-08T11:24:56Z",
    "updated_at": "2017-05-08T11:24:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here is short example of the bug I'm encountering:\r\n\r\n```python\r\nimport pandas as pd\r\nimport numpy as np\r\n\r\npath = 'test.h5'\r\nset_size = 10**5\r\n\r\nwith pd.HDFStore(path) as store:\r\n    for _ in range(10**5):\r\n        df = pd.DataFrame(np.random.randn(set_size, 3), columns=list('ABC'))\r\n        try:\r\n            nrows = store.get_storer('foo').nrows\r\n        except AttributeError:\r\n            nrows = 0\r\n\r\n        df.index = pd.Series(df.index) + nrows\r\n        store.put('/foo', df, format='table', append=True, complib='blosc')\r\nprint('Finished creating file')\r\n\r\ni = 0\r\nwith pd.HDFStore(path, mode='r') as store:\r\n    for df in store.select('/foo', chunksize=1000):\r\n        i = i + 1\r\nprint('finished, {}'.format(i))\r\n```\r\n\r\nTraceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"/home/chwalisz/.miniconda3/envs/pandas-dev/lib/python3.6/site-packages/pandas/io/pytables.py\", line 724, in select\r\n    return it.get_result()\r\n  File \"/home/chwalisz/.miniconda3/envs/pandas-dev/lib/python3.6/site-packages/pandas/io/pytables.py\", line 1412, in get_result\r\n    self.coordinates = self.s.read_coordinates(where=self.where)\r\n  File \"/home/chwalisz/.miniconda3/envs/pandas-dev/lib/python3.6/site-packages/pandas/io/pytables.py\", line 3643, in read_coordinates\r\n    coords = self.selection.select_coords()\r\n  File \"/home/chwalisz/.miniconda3/envs/pandas-dev/lib/python3.6/site-packages/pandas/io/pytables.py\", line 4709, in select_coords\r\n    return np.arange(start, stop)\r\nMemoryError\r\n```\r\n\r\n<details>\r\npd.show_versions()\r\n\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.1.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.4.0-77-generic\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_EN.utf8\r\nLOCALE: None.None\r\n\r\npandas: 0.19.2\r\nnose: None\r\npip: 9.0.1\r\nsetuptools: 27.2.0\r\nCython: None\r\nnumpy: 1.12.1\r\nscipy: None\r\nstatsmodels: None\r\nxarray: None\r\nIPython: None\r\nsphinx: None\r\npatsy: None\r\ndateutil: 2.6.0\r\npytz: 2017.2\r\nblosc: None\r\nbottleneck: None\r\ntables: 3.3.0\r\nnumexpr: 2.6.2\r\nmatplotlib: None\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: None\r\nhttplib2: None\r\napiclient: None\r\nsqlalchemy: None\r\npymysql: None\r\npsycopg2: None\r\njinja2: None\r\nboto: None\r\npandas_datareader: None\r\n</details>"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299847080",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299847080",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299847080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTg0NzA4MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-08T11:54:46Z",
    "updated_at": "2017-05-08T11:54:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "so you have 10B rows?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299852548",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-299852548",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 299852548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTg1MjU0OA==",
    "user": {
      "login": "mchwalisz",
      "id": 2182186,
      "node_id": "MDQ6VXNlcjIxODIxODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2182186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mchwalisz",
      "html_url": "https://github.com/mchwalisz",
      "followers_url": "https://api.github.com/users/mchwalisz/followers",
      "following_url": "https://api.github.com/users/mchwalisz/following{/other_user}",
      "gists_url": "https://api.github.com/users/mchwalisz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mchwalisz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mchwalisz/subscriptions",
      "organizations_url": "https://api.github.com/users/mchwalisz/orgs",
      "repos_url": "https://api.github.com/users/mchwalisz/repos",
      "events_url": "https://api.github.com/users/mchwalisz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mchwalisz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-08T12:24:43Z",
    "updated_at": "2017-05-08T12:24:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "In this example yes. I expect it will be dependent on the amount of RAM.\r\n\r\nIn this case it will fail if number of rows * 8bytes per row (`np.arange`) is greater than systems RAM."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/450709742",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15937#issuecomment-450709742",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15937",
    "id": 450709742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDcwOTc0Mg==",
    "user": {
      "login": "sajaddarabi",
      "id": 13500435,
      "node_id": "MDQ6VXNlcjEzNTAwNDM1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13500435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sajaddarabi",
      "html_url": "https://github.com/sajaddarabi",
      "followers_url": "https://api.github.com/users/sajaddarabi/followers",
      "following_url": "https://api.github.com/users/sajaddarabi/following{/other_user}",
      "gists_url": "https://api.github.com/users/sajaddarabi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sajaddarabi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sajaddarabi/subscriptions",
      "organizations_url": "https://api.github.com/users/sajaddarabi/orgs",
      "repos_url": "https://api.github.com/users/sajaddarabi/repos",
      "events_url": "https://api.github.com/users/sajaddarabi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sajaddarabi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-01T04:51:30Z",
    "updated_at": "2019-01-01T04:51:30Z",
    "author_association": "NONE",
    "body": "Are there any solutions to this?"
  }
]
