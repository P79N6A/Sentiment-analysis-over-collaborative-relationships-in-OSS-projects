[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/160578868",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-160578868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 160578868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDU3ODg2OA==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-30T09:51:19Z",
    "updated_at": "2015-11-30T12:58:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I go back here because I've spotted something really, _really_ wrong, and I don't want my comment to disappear when the commit gets outdated.\n\nFor the completeness of the discussion, I'll recall you just defined two dataframes\n\n```\nIn [39]: df1 = DataFrame([[1,3,4]],columns=pd.MultiIndex.from_tuples([('a',''),('b1','c1'),('b2','c2')],names=['b','c']))\nIn [41]: df2 = pd.DataFrame([[1,2,3,4]],columns=pd.MultiIndex.from_tuples([('a','a1'),('a','a2'),('b1','c1'),('b2','c2')],names=['b','c'])) \n```\n\nThis `df1` is meant to be identical to the dataframe `dg` I introduced in my first message. \n\nExcept that it is not.\n\n## Issue 1: `df1` is not the same as `dg`!\n\n**On master**, both `df1.drop('a', axis=1)` and `df2.drop('a', axis=1)` work. So does `df1.groupby('a')`, but not `df2.groupby('a')` since it is not 1-dimensional.\n\nOn the other hand, neither work for my weird dataframe `dg` obtained with `.pivot_table` and `.reset`.\n\nIndependently from what the API should or should not allow, there seems to be another bug: how is it possible that my `dg` and your `df1` look the same, but do not behave the same?\n\n## Issue 2: what the API should or should not allow\n\nAs for the API, I'm not sure I understand what it should be. \n\nWhat should, or should not, work, in the two following cases?\n- `df1.groupby('a')` and `dg.groupby('a')`  (assuming `df1` and `dg` are the same)\n- `df1.drop('a', axis=1)` and `dg.drop('a', axis=1)`\n\nI don't think either would make the API more confusing: \n- it would seem natural to me that `df1.drop('a', axis=1)` work the same as `df1.drop('a', axis=1, level=0)`\n- it would also seem natural to me that `df1.groupby('a')` work if and only if `df1.groupby(df1['a'])` work\n\nIn short, I'm in favor of just solving the first issue, that is of making `dg` work exactly as `df1` work now.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/160608137",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-160608137",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 160608137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDYwODEzNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-30T11:46:55Z",
    "updated_at": "2015-11-30T11:46:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nbonnotte you are making this discussion about too many things. \n`df1.drop('a',axis=1)` the same as `df1.drop('a',axis=1,level=0)` is a much larger discussion and will not be handled here. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/160608407",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-160608407",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 160608407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDYwODQwNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-30T11:48:48Z",
    "updated_at": "2015-11-30T11:48:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "show a very specific copy-pastable example of where the constructed `dg` and `df1` are not the same (not they are NOT exactly the same as the levels of the columns are different; this is expected).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/160649339",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-160649339",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 160649339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDY0OTMzOQ==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-30T14:43:15Z",
    "updated_at": "2015-11-30T14:43:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\ndg = pd.DataFrame(columns=['a','b','c','d'], data=[[1,'b1','c1',3], [1,'b2','c2',4]]).pivot_table(index='a', columns=['b','c'], values='d').reset_index()\ndf1 = pd.DataFrame([[1,3,4]],columns=pd.MultiIndex.from_tuples([('a',''),('b1','c1'),('b2','c2')],names=['b','c']))\n```\n\nIf this discussion goes in too many directions, it's because I'm a bit confused about the direction to take. \n\nWhat exactly should be the result of this pull request?\n\n1) It can solve a little bug in `pandas/core/index.py`, with the consequence that `dg` will behave the same regarding to `.drop` and `.groupby` as how `df1` already behaves today. This is what the PR in its present state does. The resulting API may be confusing, but it will not be more confusing that what it is today.\n\n2) An exception with a clear message can be raised for `dg.drop('a', axis=1)` and `dg.groupby('a')`. It will allow nothing new compared with today, but the error message will be more explicit. But then, `dg` and `df1`, which are not the same but still for all intents and purpose are the same, will keep not behaving the same.\n\n3) An exception can be raised both for `df1` and `dg`. Then, some code that currently work for `dg` will not work any more. This is problematic, and I just mention this possibility to list all alternatives.\n\nShould I go for 2) then?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/160831369",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-160831369",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 160831369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDgzMTM2OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T02:45:01Z",
    "updated_at": "2015-12-01T02:45:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "So this is a bit more complicated. I believe the difference is because of the lex sorting depth\n\n```\nIn [1]: df1 = pd.DataFrame([[1,3,4]],columns=pd.MultiIndex.from_tuples([('a',''),('b1','c1'),('b2','c2')],names=['b','c']))\n\nIn [4]: result = pd.DataFrame(columns=['a','b','c','d'], data=[[1,'b1','c1',3], [1,'b2','c2',4]]).pivot_table(index='a', columns=['b','c'], values='d').reset_index()\n\nIn [5]: result.columns.lexsort_depth\nOut[5]: 0\n\nIn [7]: df1.columns.lexsort_depth\nOut[7]: 2\nIn [16]: pd.MultiIndex.from_tuples(result.columns.values)\nOut[16]: \nMultiIndex(levels=[[u'a', u'b1', u'b2'], [u'', u'c1', u'c2']],\n           labels=[[0, 1, 2], [0, 1, 2]])\n```\n\nIf the index is rebuilt it is the same.\n\n```\nIn [17]: pd.MultiIndex.from_tuples(result.columns.values).lexsort_depth\nOut[17]: 2\n```\n\nOf this said, I don't actually think what I am saying here is a bug. These are both equally valid indexes. \n\nSo I have to think about this some more.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172171530",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172171530",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172171530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjE3MTUzMA==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-16T08:18:27Z",
    "updated_at": "2016-01-16T08:18:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback have you had the time to think about this?\n\nIf there are doubts, I'd suggest going for my option 2, which is conservative:\n\n> 2) An exception with a clear message can be raised for dg.drop('a', axis=1) and dg.groupby('a'). It will allow nothing new compared with today, but the error message will be more explicit. But then, dg and df1, which are not the same but still for all intents and purpose are the same, will keep not behaving the same.\n\nso that we have a nice error message. Then we can create another issue about the (already existing) lack of consistency in the API.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172308022",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172308022",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172308022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjMwODAyMg==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T10:05:56Z",
    "updated_at": "2016-01-17T10:05:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I've rewritten the tests in such a way as to make the changes somewhat more compelling\n\nI hope you'll be convinced this does not make the API more confusing.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172366525",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172366525",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172366525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2NjUyNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T19:06:48Z",
    "updated_at": "2016-01-17T19:07:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nbonnotte my point is this is not a bug\n\n```\nIn [30]: df = pd.DataFrame(columns=['a', 'b', 'c', 'd'],data=[[1, 'b1', 'c1', 3],[1, 'b2', 'c2', 4]])\n\nIn [31]: df\nOut[31]: \n   a   b   c  d\n0  1  b1  c1  3\n1  1  b2  c2  4\n\nIn [32]: df2 = df.pivot_table(index='a', columns=['b', 'c'], values='d')\n\nIn [33]: df2\nOut[33]: \nb b1 b2\nc c1 c2\na      \n1  3  4\n\n# this is exactly what it should do, 'a' is NOT in the index\nIn [34]: df2.groupby('a').mean()\nKeyError: 'a'\n\nIn [35]: df2.groupby('a',level=0).mean()\nOut[35]: \nb b1 b2\nc c1 c2\na      \n1  3  4\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172367196",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172367196",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172367196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2NzE5Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T19:09:11Z",
    "updated_at": "2016-01-17T19:09:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\nIn [36]: df = pd.DataFrame(columns=['a','b','c','d'], data=[[1,'b1','c1',3], [1,'b2','c2',4]])\n\nIn [37]: \n\nIn [37]: In [3]: df = df.pivot_table(index='a', columns=['b','c'], values='d').reset_index()\n\nIn [39]: df.groupby('a').mean()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-39-a830c6135818> in <module>()\n----> 1 df.groupby('a').mean()\n\n/Users/jreback/pandas/pandas/core/groupby.pyc in mean(self)\n    908             self._set_selection_from_grouper()\n    909             f = lambda x: x.mean(axis=self.axis)\n--> 910             return self._python_agg_general(f)\n    911 \n    912     @Substitution(name='groupby')\n\n/Users/jreback/pandas/pandas/core/groupby.pyc in _python_agg_general(self, func, *args, **kwargs)\n    751                 output[name] = self._try_cast(values[mask], result)\n    752 \n--> 753         return self._wrap_aggregated_output(output)\n    754 \n    755     def _wrap_applied_output(self, *args, **kwargs):\n\n/Users/jreback/pandas/pandas/core/groupby.pyc in _wrap_aggregated_output(self, output, names)\n   3511     def _wrap_aggregated_output(self, output, names=None):\n   3512         agg_axis = 0 if self.axis == 1 else 1\n-> 3513         agg_labels = self._obj_with_exclusions._get_axis(agg_axis)\n   3514 \n   3515         output_keys = self._decide_output_index(output, agg_labels)\n\n/Users/jreback/pandas/pandas/core/groupby.pyc in __getattr__(self, attr)\n    457 \n    458         raise AttributeError(\"%r object has no attribute %r\" %\n--> 459                              (type(self).__name__, attr))\n    460 \n    461     plot = property(GroupByPlot)\n\nAttributeError: 'DataFrameGroupBy' object has no attribute '_obj_with_exclusions'\n\nIn [40]: df.groupby('a',level=0).mean()\nOut[40]: \nb  a b1 b2\nc    c1 c2\n0  1  3  4\n```\n\nfrom your original issue `[39]` should simply give a more informative errors message (and raise a `KeyError`), not actually try to fix the issue when the level is not specified, which would be a major API change.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172368795",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172368795",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172368795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2ODc5NQ==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T19:21:17Z",
    "updated_at": "2016-01-17T19:21:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback my point is that, in the tests I wrote, `df` and `reference` are the same, in the sense of `assert_frame_equal(df, reference)`, and yet today the same procedure raises an error for `df` and not for `reference`.\n\nI'd be very happy to replace that error with a more explicit one, and start a new issue about the lack of consistency of the API. But first I just wanted to be sure things were clear enough ^^\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172369789",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172369789",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172369789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2OTc4OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T19:36:17Z",
    "updated_at": "2016-01-17T19:36:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "you cannot change index code like that\n\njust address the incorrect error message in the original issue\n\none issue per pr\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172384541",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172384541",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172384541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM4NDU0MQ==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T21:23:33Z",
    "updated_at": "2016-01-17T21:23:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here we go.\n\nI don't know if I've chosen the best place to raise a meaningful error, but like this it should at least be conservative (that is, not break nor enable new things).\n\nLikewise, I'll be glad to have any feedback on the comments. I hope they're clear enough.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172385215",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172385215",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172385215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM4NTIxNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T21:29:04Z",
    "updated_at": "2016-01-17T21:29:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "no, don't try to fix anything in indexing. This is purely a groupby issue. You are still trying to make something that is an API change work.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172385225",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172385225",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172385225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM4NTIyNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T21:29:15Z",
    "updated_at": "2016-01-17T21:29:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "remove all of the indexing code that you added.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172390138",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172390138",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172390138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM5MDEzOA==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T22:14:27Z",
    "updated_at": "2016-01-17T22:14:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm not changing anything about the API. The result is just a better error message.\n\nIf I remove my changes in the indexing code, with some `.groupby` and `.drop` operations the method `.get_loc()` returns a boolean mask, which is not handled. So we get an `AttributeError`, which (when it is a `.groupby`) is caught and then stuff happen that should not, resulting in another obscur error.\n\nSo do you want me to instead catch that last obscur error at the top level, and replace it with a nice message? \n\nThen I can create two other issues: one for `.drop`, and one for the inconsistency of the API.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172390923",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172390923",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172390923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM5MDkyMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-17T22:25:23Z",
    "updated_at": "2016-01-17T22:25:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is a much simpler change\n\njust step thru and catch it where it happens \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172510709",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172510709",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172510709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjUxMDcwOQ==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-18T12:03:52Z",
    "updated_at": "2016-01-18T12:03:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok.\n\nBut I would feel more comfortable working on this issue once the `.drop` problem has been fixed, so I'll start directly a new issue for that.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172512336",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172512336",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172512336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjUxMjMzNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-18T12:13:31Z",
    "updated_at": "2016-01-18T12:13:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "the 'drop' issue is an API change that would need much more testing and review\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172513338",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-172513338",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 172513338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjUxMzMzOA==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-18T12:18:58Z",
    "updated_at": "2016-01-18T12:18:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I understand. I'm just talking about the obscur error message that happens in some cases when dropping, see #12078 \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176726874",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-176726874",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 176726874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjcyNjg3NA==",
    "user": {
      "login": "nbonnotte",
      "id": 9929982,
      "node_id": "MDQ6VXNlcjk5Mjk5ODI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9929982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbonnotte",
      "html_url": "https://github.com/nbonnotte",
      "followers_url": "https://api.github.com/users/nbonnotte/followers",
      "following_url": "https://api.github.com/users/nbonnotte/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbonnotte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbonnotte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbonnotte/subscriptions",
      "organizations_url": "https://api.github.com/users/nbonnotte/orgs",
      "repos_url": "https://api.github.com/users/nbonnotte/repos",
      "events_url": "https://api.github.com/users/nbonnotte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbonnotte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T12:17:49Z",
    "updated_at": "2016-01-29T12:17:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Following PR #12158, the bug has disappeared. \n\nThis pull request now only contains tests.\n\nIf there are problems with the API, I'd be happy to throw errors where need be. But maybe that should be for another issue?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176787581",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11717#issuecomment-176787581",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11717",
    "id": 176787581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc4NzU4MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T14:41:09Z",
    "updated_at": "2016-01-29T14:41:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nbonnotte thanks!\n"
  }
]
