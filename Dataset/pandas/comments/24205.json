[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445867598",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445867598",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445867598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg2NzU5OA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T16:00:09Z",
    "updated_at": "2018-12-10T16:00:09Z",
    "author_association": "MEMBER",
    "body": "Can you create a *minimal* sample to recreate the issue? This is a rather large one so harder to reason about than it needs to be"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445870771",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445870771",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445870771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg3MDc3MQ==",
    "user": {
      "login": "scootty1",
      "id": 38665102,
      "node_id": "MDQ6VXNlcjM4NjY1MTAy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/38665102?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scootty1",
      "html_url": "https://github.com/scootty1",
      "followers_url": "https://api.github.com/users/scootty1/followers",
      "following_url": "https://api.github.com/users/scootty1/following{/other_user}",
      "gists_url": "https://api.github.com/users/scootty1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scootty1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scootty1/subscriptions",
      "organizations_url": "https://api.github.com/users/scootty1/orgs",
      "repos_url": "https://api.github.com/users/scootty1/repos",
      "events_url": "https://api.github.com/users/scootty1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scootty1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T16:08:22Z",
    "updated_at": "2018-12-10T16:42:28Z",
    "author_association": "NONE",
    "body": "Yep, reduced it a bit:\r\n```\r\nnp.random.seed(123)\r\n\r\ndf = pd.DataFrame({'temp_a': np.random.rand(15) * 50 + 20,\r\n                   'eta': 1 - np.random.rand(15) / 5},\r\n                  index=pd.date_range(start='20181201', freq='T', periods=15))\r\n\r\ndf_grpd = df.groupby(\r\n    [pd.cut(df.temp_a, np.arange(20, 70 + 1, 25)),  # categorical for temp_a\r\n    ])\r\n\r\ndf_grpd.nth(0)\r\ndf_grpd.nth(1)\r\ndf_grpd.nth(2)  # And so on...\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445879851",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445879851",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445879851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg3OTg1MQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T16:32:16Z",
    "updated_at": "2018-12-10T16:32:16Z",
    "author_association": "MEMBER",
    "body": "@scootty1 your last example code produces a lot of NaNs in the intervals, though\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445883162",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445883162",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445883162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg4MzE2Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T16:41:15Z",
    "updated_at": "2018-12-10T16:41:15Z",
    "author_association": "MEMBER",
    "body": "Aha, and that actually also seems to be the problem. So based on that, creating a smaller example:\r\n\r\n```\r\nIn [147]: idx = pd.MultiIndex([pd.CategoricalIndex([pd.Interval(0, 1), pd.Interval(1, 2)]), pd.CategoricalIndex([pd.Interval(0, 10), pd.Interval(10, 20)])], [[0, 0, 0, 1, 1], [0, 1, 1, 0, -1]])                   \r\n\r\nIn [148]: df = pd.DataFrame({'col': range(len(idx))}, index=idx)                                                                                                                                                    \r\n\r\nIn [149]: df                                                                                                                                                                                                        \r\nOut[149]: \r\n                 col\r\n(0, 1] (0, 10]     0\r\n       (10, 20]    1\r\n       (10, 20]    2\r\n(1, 2] (0, 10]     3\r\n       NaN         4\r\n\r\nIn [150]: df.groupby(level=[0, 1]).nth(0)                                                                                                                                                                           \r\nOut[150]: \r\n                 col\r\n(0, 1] (0, 10]     0\r\n       (10, 20]    1\r\n(1, 2] (0, 10]     3\r\n       (0, 10]     4\r\n```\r\n\r\nSo the result is kind of correct, apart from the fact that the NaN in the index gets filled with the previous category. \r\n\r\nI have a vague recollection we had an issue about this before."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445884195",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445884195",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445884195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg4NDE5NQ==",
    "user": {
      "login": "scootty1",
      "id": 38665102,
      "node_id": "MDQ6VXNlcjM4NjY1MTAy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/38665102?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scootty1",
      "html_url": "https://github.com/scootty1",
      "followers_url": "https://api.github.com/users/scootty1/followers",
      "following_url": "https://api.github.com/users/scootty1/following{/other_user}",
      "gists_url": "https://api.github.com/users/scootty1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scootty1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scootty1/subscriptions",
      "organizations_url": "https://api.github.com/users/scootty1/orgs",
      "repos_url": "https://api.github.com/users/scootty1/repos",
      "events_url": "https://api.github.com/users/scootty1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scootty1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T16:44:02Z",
    "updated_at": "2018-12-10T16:44:42Z",
    "author_association": "NONE",
    "body": "Interestingly it is not showing the NaNs in my case... But I extended the bins to not produce any NaNs."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445886053",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445886053",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445886053,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg4NjA1Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T16:48:52Z",
    "updated_at": "2018-12-10T16:48:52Z",
    "author_association": "MEMBER",
    "body": ">  But I extended the bins to not produce any NaNs.\r\n\r\nBut do you still see the bug now? (I don't with your updated example from https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445870771)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445889428",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445889428",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445889428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg4OTQyOA==",
    "user": {
      "login": "scootty1",
      "id": 38665102,
      "node_id": "MDQ6VXNlcjM4NjY1MTAy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/38665102?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scootty1",
      "html_url": "https://github.com/scootty1",
      "followers_url": "https://api.github.com/users/scootty1/followers",
      "following_url": "https://api.github.com/users/scootty1/following{/other_user}",
      "gists_url": "https://api.github.com/users/scootty1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scootty1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scootty1/subscriptions",
      "organizations_url": "https://api.github.com/users/scootty1/orgs",
      "repos_url": "https://api.github.com/users/scootty1/repos",
      "events_url": "https://api.github.com/users/scootty1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scootty1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T16:57:56Z",
    "updated_at": "2018-12-10T16:57:56Z",
    "author_association": "NONE",
    "body": "Nope, seems to be gone. Didn't check that thoroughly enough. But still strange that I don't see any NaNs, even when I reproduce joris' example."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445891762",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445891762",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445891762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg5MTc2Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T17:04:23Z",
    "updated_at": "2018-12-10T17:04:23Z",
    "author_association": "MEMBER",
    "body": "> But still strange that I don't see any NaNs, even when I reproduce joris' example.\r\n\r\nCan you print the full code and output of what you did?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/445893586",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24205#issuecomment-445893586",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24205",
    "id": 445893586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg5MzU4Ng==",
    "user": {
      "login": "scootty1",
      "id": 38665102,
      "node_id": "MDQ6VXNlcjM4NjY1MTAy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/38665102?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scootty1",
      "html_url": "https://github.com/scootty1",
      "followers_url": "https://api.github.com/users/scootty1/followers",
      "following_url": "https://api.github.com/users/scootty1/following{/other_user}",
      "gists_url": "https://api.github.com/users/scootty1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scootty1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scootty1/subscriptions",
      "organizations_url": "https://api.github.com/users/scootty1/orgs",
      "repos_url": "https://api.github.com/users/scootty1/repos",
      "events_url": "https://api.github.com/users/scootty1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scootty1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-10T17:09:25Z",
    "updated_at": "2018-12-10T17:09:25Z",
    "author_association": "NONE",
    "body": "No, unluckily not. After a restart of the console my output is the same as in your example. Should have restarted right away... But before the restart I had just copied your example to the IPython Console."
  }
]
