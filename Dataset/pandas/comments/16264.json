[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299631357",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16264#issuecomment-299631357",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16264",
    "id": 299631357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTYzMTM1Nw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-06T10:45:03Z",
    "updated_at": "2017-05-06T10:45:03Z",
    "author_association": "MEMBER",
    "body": "\r\n\r\nSimpler reproducible example:\r\n\r\n0.19.2:\r\n```\r\nIn [36]: import datetime\r\n\r\nIn [37]: pd.DatetimeIndex(['2012-01-01']).astype(datetime.datetime)\r\nOut[37]: Index([2012-01-01 00:00:00], dtype='object')\r\n```\r\n\r\n0.20.1:\r\n```\r\nIn [34]: pd.DatetimeIndex(['2012-01-01']).astype(datetime.datetime)\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-34-dd83d3b47780> in <module>()\r\n----> 1 pd.DatetimeIndex(['2012-01-01']).astype(datetime.datetime)\r\n\r\n/home/joris/scipy/pandas/pandas/core/indexes/datetimes.py in astype(self, dtype, copy)\r\n    846     @Appender(_index_shared_docs['astype'])\r\n    847     def astype(self, dtype, copy=True):\r\n--> 848         dtype = pandas_dtype(dtype)\r\n    849         if is_object_dtype(dtype):\r\n    850             return self.asobject\r\n\r\n/home/joris/scipy/pandas/pandas/core/dtypes/common.py in pandas_dtype(dtype)\r\n   1907         return npdtype\r\n   1908     elif npdtype.kind == 'O':\r\n-> 1909         raise TypeError('dtype {0} not understood'.format(dtype))\r\n   1910 \r\n   1911     return npdtype\r\n\r\nTypeError: dtype <class 'datetime.datetime'> not understood\r\n```\r\n\r\nMatplotlib can use `pd.DatetimeIndex(['2012-01-01']).to_pydatetime()` to fix there test in the meantime (or just leave out the `astype`, that should work as well I think).\r\n\r\nThis is clearly a regression between 0.19 and 0.20, although I am not sure it is something we *want* to fix.\r\n\r\n "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299631763",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16264#issuecomment-299631763",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16264",
    "id": 299631763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTYzMTc2Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-06T10:53:13Z",
    "updated_at": "2017-05-06T10:53:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "not a regression at all\r\ndatetime.datetime is not a valid dtype\r\nthis is the correct behavior"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299633069",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16264#issuecomment-299633069",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16264",
    "id": 299633069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTYzMzA2OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-06T11:17:20Z",
    "updated_at": "2017-05-06T11:17:20Z",
    "author_association": "MEMBER",
    "body": "Ah, I somehow assumed it did convert it to datetime.datetime objects, but it just converted to object dtype with timestamps. \r\n@QuLogic As you can see in the commit you linked to, the whatsnew message was \"Bug in ``pandas_dtype`` where passing invalid dtype didn't raise an error.\" (not the most clear, as it should not mention the internal pandas_dtype) as a bug fix. The bug was that `astype(datetime.datetime)` was not doing what you would expect it to be doing, converting to datetime.datetime objects. Previously, when passing something something to `astype`, everything that was not a proper dtype was regarded as 'object' dtype (as you would do `astype(object)`), now it raises an informative error."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299681826",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16264#issuecomment-299681826",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16264",
    "id": 299681826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTY4MTgyNg==",
    "user": {
      "login": "QuLogic",
      "id": 302469,
      "node_id": "MDQ6VXNlcjMwMjQ2OQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/302469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/QuLogic",
      "html_url": "https://github.com/QuLogic",
      "followers_url": "https://api.github.com/users/QuLogic/followers",
      "following_url": "https://api.github.com/users/QuLogic/following{/other_user}",
      "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions",
      "organizations_url": "https://api.github.com/users/QuLogic/orgs",
      "repos_url": "https://api.github.com/users/QuLogic/repos",
      "events_url": "https://api.github.com/users/QuLogic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/QuLogic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T04:31:39Z",
    "updated_at": "2017-05-07T04:31:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, I did not write the test and didn't realize it was not doing what was expected there."
  }
]
