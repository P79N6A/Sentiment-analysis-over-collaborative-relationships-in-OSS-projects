[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13227547",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13227547",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13227547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjI3NTQ3",
    "user": {
      "login": "meteore",
      "id": 807608,
      "node_id": "MDQ6VXNlcjgwNzYwOA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/807608?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meteore",
      "html_url": "https://github.com/meteore",
      "followers_url": "https://api.github.com/users/meteore/followers",
      "following_url": "https://api.github.com/users/meteore/following{/other_user}",
      "gists_url": "https://api.github.com/users/meteore/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meteore/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meteore/subscriptions",
      "organizations_url": "https://api.github.com/users/meteore/orgs",
      "repos_url": "https://api.github.com/users/meteore/repos",
      "events_url": "https://api.github.com/users/meteore/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meteore/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-07T09:15:29Z",
    "updated_at": "2013-02-07T09:32:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I read about the facility to map object->(e.g.)int16 in io.rst.\n\nWill this happen through a dtype header argument to HDFStore.put/append? \n\nThis is crucial for my project where I have incoming data rates of ~12Gb/hr at 2 bytes per data point. Storing these integers using 8 bytes (int64) is the greatest barrier for me using HDFStore instead of a custom-made interface to PyTables. \n\nEDIT: I see now that this note is in reference to separate PR #2708. Thanks\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13231392",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13231392",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13231392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjMxMzky",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-07T11:13:53Z",
    "updated_at": "2013-02-07T11:34:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "if you install PR #2708, then PyTables WILL support int16 (it will store whatever dtypes are passed in). Keep in mind that certain operations on ints may upcast (see Issue #2794). I did a pseudo-example in #2759. Can you give a mini-example of your workflow?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13233786",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13233786",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13233786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjMzNzg2",
    "user": {
      "login": "meteore",
      "id": 807608,
      "node_id": "MDQ6VXNlcjgwNzYwOA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/807608?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meteore",
      "html_url": "https://github.com/meteore",
      "followers_url": "https://api.github.com/users/meteore/followers",
      "following_url": "https://api.github.com/users/meteore/following{/other_user}",
      "gists_url": "https://api.github.com/users/meteore/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meteore/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meteore/subscriptions",
      "organizations_url": "https://api.github.com/users/meteore/orgs",
      "repos_url": "https://api.github.com/users/meteore/repos",
      "events_url": "https://api.github.com/users/meteore/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meteore/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-07T12:29:13Z",
    "updated_at": "2013-02-07T12:29:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @jreback\nI am currently checking PR #2708. Where would I have to look to help improve support of int16 re. upcasting?\n\nMy workflow: \n\n## the heavy (raw or preprocessed) data\n- I am ingesting (hopefully via HDFStore) up to daily ~70Gb of binary interleaved 20 or 30kHz 64-channel electrophysiology data in a HDF5 file (flat group structure). These voltages are int16.\n- the \"primary key\" to these time series is a time column spanning up to a day with 20 or 30kHz resolution.\n- some of the channels can be meaningfully grouped in fours, but only rarely will operations occur on rows across four columns (median/avg); most of the processing is on a single time series, the whole column.\n- the most frequent operation is to obtain ranges of channel data as defined by the time column (which is for now just int64, but should eventually become integer-based datetime64's with microsecond resolution). Better yet if this time index, which is regularly spaced, could be stored generatively (and serialized as a leaf attribute instead of a whole column; this is something the indirection through HDFStore could support).\n- I got the impression that append_to|select_as_multiple could help in this scenario: all channels referenced to a single index.\n- A fairly frequent operation is to run a multithreaded (via FFTW) FFTs or FFT-based convolution, and cache it in another HDF5 file for future use\n  - at the time each channel is a carray and operations are on a single chunk, which taxes memory too much (also casts occur in FFTW or when calling numexpr).\n  - blosc compression attains factor 1.8, does not improve going from complevel 5 to complevel 9. Blosc is way faster than anything else and speed is more important here than compression.\n- values are all sacrosanct, i.e. because experimental, once written they should not be modified. In a sense what I need is a column database.\n- another operation is downsampling by factor 4.\n- most useful operations on this raw-data: thresholding, chunk-wise averages/SDs.\n\n## the metadata and computed tables\n- need to store far more (relationally, dtype-wise) complex tables that are either metadata or computation results, but these can go elsewhere, even to SQL stores if needed. The 'typical worst' of these tables may have about 1E7 rows and 2-5 columns.\n- but these tables are constantly supplemented with synchronized computed columns, so again I think the right approach is to add these computed columns referenced to the original table as selector.\n\nFor computed tables, I have a derived class of HDFStore that catches a failed **getitem** and looks up the appropriate compute function. This way you can empty your 'cache' and have the results reconstructed. Ideally these functions should report the git SHA1 of the repo they live in along with parameters used somewhere (not implemented).\n\n## the resources\n\nSingle machine with 12 cores, 32GB of ram, data on SATA3-connected spinning disks.\n\nAs to how I can help: solo developer for this application (scientific, not compsci background :/), grok python, functional bias, willing to contribute to pandas on HDFStore, relational extensions, interval algebra and spectral tools and currently working out how the  git workflow.\n\n## what next?\n\nSorry for the long post. I contemplated enhancing HDFStore in Q3 2012 and am extremely happy to see your progress (and grateful for this work!). Please tell me if you'd like to move some of these points for private / pydata list discussion.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13234847",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13234847",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13234847,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjM0ODQ3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-07T13:03:39Z",
    "updated_at": "2013-02-07T13:03:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "sounds interesting....prob should move this discussion off-list....contact me jeff@reback.net\n\nhere's some thoughts about data organization which is of course the key thing in PyTables:\n\nyour 'channels' are an index with a small number of columns. this makes sense to group each \nin a single node. that way its easy to select by time range or read in all.\n\nI have found that have very 'wide' tables, meaning number of columns reduces performance; \nthat is the reason for append_to_multiple/select_from_multiple - to essentially have a 'sharded'\nsetup\n\ntry out with the dtypes PR; I think you should be able to read in and store your tables in \nint16.\n\nWhat I mean about manipulations is essentially this: if you do an operation which (possibily) introduces\na nan, then there will be upcasting (because pandas doesn't currently have interger NaN, and must\ncast to float for various things). I have tried to mitigate this, but depending on exactly what you are\ndoing you still may get upcasting. That said, there are various ways to deal with this. Best to \ntake a smallish set of data and try out your workflow, checking at each step.\n\nI believe blosc only actually has either an on/off mode. It doesn't actually do variable compression (I read\nthis somewhere on pytables website - don't really remember); but it is a great compressor (of\ncourse the underlying data really determines how it much it helps).\n\nAlways glad to have help on expanding HDFStore; I use it on a daily basis, but I don't really\ndo out-of-core type computations (nor do I use integer types), so all feedback/changes are welcomed.\n\nJeff\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13257961",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13257961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13257961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjU3OTYx",
    "user": {
      "login": "scottkidder",
      "id": 136984,
      "node_id": "MDQ6VXNlcjEzNjk4NA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/136984?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottkidder",
      "html_url": "https://github.com/scottkidder",
      "followers_url": "https://api.github.com/users/scottkidder/followers",
      "following_url": "https://api.github.com/users/scottkidder/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottkidder/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottkidder/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottkidder/subscriptions",
      "organizations_url": "https://api.github.com/users/scottkidder/orgs",
      "repos_url": "https://api.github.com/users/scottkidder/repos",
      "events_url": "https://api.github.com/users/scottkidder/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottkidder/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-07T20:32:46Z",
    "updated_at": "2013-02-07T20:32:46Z",
    "author_association": "NONE",
    "body": "**Please do not move** this conversation to a private location. I would like to be involved and have a somewhat similar workflow to meteore and am continuing to hammer on pandas pytables interface.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13258609",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13258609",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13258609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjU4NjA5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-07T20:45:26Z",
    "updated_at": "2013-02-07T20:45:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "you are right!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13361521",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13361521",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13361521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzYxNTIx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-10T21:28:37Z",
    "updated_at": "2013-02-10T21:28:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wesm I think you can merge this PR then cherry pick meteore changes from #2824 after\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13362433",
    "html_url": "https://github.com/pandas-dev/pandas/pull/2755#issuecomment-13362433",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2755",
    "id": 13362433,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzYyNDMz",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-10T22:11:11Z",
    "updated_at": "2013-02-10T22:11:11Z",
    "author_association": "MEMBER",
    "body": "merged, thank you sirs\n"
  }
]
