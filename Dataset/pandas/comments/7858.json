[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50347728",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50347728",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50347728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzQ3NzI4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T14:45:00Z",
    "updated_at": "2014-07-28T14:45:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @bashtage\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50347760",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50347760",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50347760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzQ3NzYw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T14:45:16Z",
    "updated_at": "2014-07-28T14:45:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cpbl can you post a self-contained example\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50352276",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50352276",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50352276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzUyMjc2",
    "user": {
      "login": "cpbl",
      "id": 3696165,
      "node_id": "MDQ6VXNlcjM2OTYxNjU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3696165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpbl",
      "html_url": "https://github.com/cpbl",
      "followers_url": "https://api.github.com/users/cpbl/followers",
      "following_url": "https://api.github.com/users/cpbl/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpbl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpbl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpbl/subscriptions",
      "organizations_url": "https://api.github.com/users/cpbl/orgs",
      "repos_url": "https://api.github.com/users/cpbl/repos",
      "events_url": "https://api.github.com/users/cpbl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpbl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:17:36Z",
    "updated_at": "2014-07-28T15:17:36Z",
    "author_association": "NONE",
    "body": " Here's the code:\n\n```\n#!/usr/bin/python\n\nfout=open('tmp.tsv','wt')\nfout.write(\"\"\"A B   C\ndummy   32.470986000    -86.487033000\n01001   32.470986000    -86.487033000\n01001   32.466056000    -86.472934000\n01001   32.474035000    -86.457764000\n01001   32.466794000    -86.445569000\n01001   32.454933000    -86.425025000\n01001   32.439950000    -86.478442000\n01001   32.438025000    -86.443068000\n\"\"\")\nfout.close()\nimport pandas as pd\ndf=pd.read_table('tmp.tsv')\ndf.to_stata('tmp.dta')\nfout=open('tmp.do','wt')\nfout.write(\"\"\"\nlog using tmp.log, text\nuse tmp\ncodebook\nlog close\n\"\"\")\n```\n\nAnd an excerpt from the output in stata (\"tmp.log\")\n\n```\n------------------------------------------------------------------------------------------\nA                                                                              (unlabeled)\n------------------------------------------------------------------------------------------\n\n                  type:  string (str244), but longest is str5\n\n         unique values:  2                        missing \"\":  0/8\n\n            tabulation:  Freq.  Value\n                             7  \"01001\"\n                             1  \"dummy\"\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50352636",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50352636",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50352636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzUyNjM2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:19:58Z",
    "updated_at": "2014-07-28T15:19:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you put the stata version up as well\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50352787",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50352787",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50352787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzUyNzg3",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:21:13Z",
    "updated_at": "2014-07-28T15:21:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "This seems to be something related to how pandas stores strings now.\n\nConsider this simple example\n\n``` python\n>>> data = pd.DataFrame(np.array(['a','b','c']))\n>>> data.dtypes[0].type\nnumpy.object_\n```\n\n`StataWriter` assumes all `numpy.object_` are 244 character strings since there isn't an easy way to tell its size.  Note that htis is different from how numpy stores the same array\n\n``` python\n>>>arr = np.array(['a','b','c'])\n>>> arr.dtype\ndtype('S1')\n```\n\nwhich is a string with a fixed size.\n\nMaybe @jreback can comment on how to force pandas to store fixed width strings as `Sxx` where `xx` is the width?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50353471",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50353471",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50353471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzUzNDcx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:25:47Z",
    "updated_at": "2014-07-28T15:25:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "@bashtage \n\nin pandas you _cannot_ store anything string-like that is not `object` dtype. iow all strings are variable-width.\n\nHowever, you _could_ on storage, convert to a numpy str of fixed width. (This is done in pytables as the underlying storage mechanism ONLY stores fixed-width). \n\nIf you are writing in one go (e.g. no chunking), then this is pretty easy to do (e.g. `lib.max_len_string_array(....)`). With chunking pytables has a `min_itemsize` to make sure that the table is a minimum width.\n\nIf stata supports a fixed-width character size you could store like that.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50354633",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50354633",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50354633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU0NjMz",
    "user": {
      "login": "cpbl",
      "id": 3696165,
      "node_id": "MDQ6VXNlcjM2OTYxNjU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3696165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpbl",
      "html_url": "https://github.com/cpbl",
      "followers_url": "https://api.github.com/users/cpbl/followers",
      "following_url": "https://api.github.com/users/cpbl/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpbl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpbl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpbl/subscriptions",
      "organizations_url": "https://api.github.com/users/cpbl/orgs",
      "repos_url": "https://api.github.com/users/cpbl/repos",
      "events_url": "https://api.github.com/users/cpbl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpbl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:33:35Z",
    "updated_at": "2014-07-28T15:33:35Z",
    "author_association": "NONE",
    "body": "@jreback said \"can you put the stata version up as well\". Was that to me? \nstata version is 12.1 for Unix (Linux 64-bit x86-64\nRevision 23 Jan 2014\n\nIf you mean to include the stata file... I don't see how to attach files.\nAnd this discussion is already way over my head.\nThanks.\nc\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50354851",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50354851",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50354851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU0ODUx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:35:05Z",
    "updated_at": "2014-07-28T15:35:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cpbl yes that was to you as stata has many different formats for the files, some newer than others.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50355055",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50355055",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50355055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU1MDU1",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:36:36Z",
    "updated_at": "2014-07-28T15:36:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Dont' need a stata file - this issue is how the string dimension is determined in `StataWriter` which uses only the `DataFrams.dtypes` and not the actual data.  Can probably change, although this isn't so much a bug as an omitted optimization.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50355517",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50355517",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50355517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU1NTE3",
    "user": {
      "login": "cpbl",
      "id": 3696165,
      "node_id": "MDQ6VXNlcjM2OTYxNjU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3696165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpbl",
      "html_url": "https://github.com/cpbl",
      "followers_url": "https://api.github.com/users/cpbl/followers",
      "following_url": "https://api.github.com/users/cpbl/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpbl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpbl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpbl/subscriptions",
      "organizations_url": "https://api.github.com/users/cpbl/orgs",
      "repos_url": "https://api.github.com/users/cpbl/repos",
      "events_url": "https://api.github.com/users/cpbl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpbl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:39:45Z",
    "updated_at": "2014-07-28T15:39:45Z",
    "author_association": "NONE",
    "body": "@jreback  So did you want a file or the version? Still unsure. File is here (today): http://barringtonleigh.net/tmp.dta\n\n@bashtage Not a bug: Oh, maybe. I was interpreting my resultant inability to merge as a result of the strlen in the dta, but I guess I had a more fundamental error.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50355683",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50355683",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50355683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU1Njgz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:41:00Z",
    "updated_at": "2014-07-28T15:41:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@bashtage yep. I'll mark as an enhancement. To add fixed-width strings in addition/in lieu of variable-wdith. You make the call if you should simply switch this totally / or make it optional. I don't now how this would affect the stata side (I don't think a round-trip would be affected on the pandas side at all).\n\nThough dealing with unicode could be a bit of an issue (you need to astype to `U123` rather than `S123`)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50356213",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50356213",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50356213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU2MjEz",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:44:41Z",
    "updated_at": "2014-07-28T15:44:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think Stata handles unicode anyway - just different encodings of 1 byte strings (e.g. Latin1)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50356415",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50356415",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50356415,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU2NDE1",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:46:10Z",
    "updated_at": "2014-07-28T15:46:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cpbl You probably need to tell stata to treat it is a len 5 string, and then you can do things in Stata - or get Stata 13 which supports variable length strings (although `StataWriter` does not)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50356476",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50356476",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50356476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU2NDc2",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:46:39Z",
    "updated_at": "2014-07-28T15:46:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback It is probably useful, so will see what I can work in.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50356789",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50356789",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50356789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU2Nzg5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T15:48:58Z",
    "updated_at": "2014-07-28T15:48:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@bashtage gr8!\n\nthinking further I think you might want to make an option to turn this on (could be default or not, that's a separate question). maybe `strings='fixed|variable'`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50359691",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50359691",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50359691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU5Njkx",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T16:10:39Z",
    "updated_at": "2014-07-28T16:10:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I wouldn't want to use the expression `variable` since this has a very different meaning in Stata 13 - it would be more correct to describe the difference as `optimal` (adaptive to string being written, writing the minimum).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50359987",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50359987",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50359987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU5OTg3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T16:12:46Z",
    "updated_at": "2014-07-28T16:12:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, so stata has notions of `fixed_width` and `variable_width` ? or more possibliites?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50360115",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50360115",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50360115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzYwMTE1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-28T16:13:38Z",
    "updated_at": "2014-07-28T16:13:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "side issue. since the `Categorical` type has been in master a bit. I am not sure this is mapped correctly to stata (it is tested, but not sure).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50883553",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-50883553",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 50883553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODgzNTUz",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-01T13:28:26Z",
    "updated_at": "2014-08-01T13:28:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Ready I think\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/65249919",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-65249919",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 65249919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MjQ5OTE5",
    "user": {
      "login": "dmsul",
      "id": 7398331,
      "node_id": "MDQ6VXNlcjczOTgzMzE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7398331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dmsul",
      "html_url": "https://github.com/dmsul",
      "followers_url": "https://api.github.com/users/dmsul/followers",
      "following_url": "https://api.github.com/users/dmsul/following{/other_user}",
      "gists_url": "https://api.github.com/users/dmsul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dmsul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dmsul/subscriptions",
      "organizations_url": "https://api.github.com/users/dmsul/orgs",
      "repos_url": "https://api.github.com/users/dmsul/repos",
      "events_url": "https://api.github.com/users/dmsul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dmsul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-02T15:40:52Z",
    "updated_at": "2014-12-02T15:40:52Z",
    "author_association": "NONE",
    "body": "I am still getting this bug (pandas 0.15.1, numpy 1.9.1, Stata 13.1 on Windows 7). The written DTA file still stores the strings as str244 even though the strings themselves have length 1. This also means that when they're read back into pandas the DataFrame looks the same. I think the only way to detect it from within Pandas is to look at the size of the DTA file itself.\n\n``` python\ndf = pd.DataFrame(['a', 'b', 'c'], columns=['alpha'])\ndf.to_stata('test.dta')\ndf2 = pd.read_stata('test.dta')\nassert (df['alpha'] == df2['alpha']).min()\n```\n\nBut when loading in Stata:\n\n``` stata\n. use test\n. describe\n\nContains data from D:\\data\\Pollution\\test.dta\n  obs:             3                          \n vars:             2                          02 Dec 2014 10:30\n size:           744                          \n--------------------------------------------------------------------------------------------\n              storage   display    value\nvariable name   type    format     label      variable label\n--------------------------------------------------------------------------------------------\nindex           long    %12.0g                \nalpha           str244  %1s                   \n--------------------------------------------------------------------------------------------\nSorted by:  \n\n. compress\n  index was long now byte\n  alpha was str244 now str1\n  (738 bytes saved)\n\n. describe\n\nContains data from D:\\data\\Pollution\\test.dta\n  obs:             3                          \n vars:             2                          02 Dec 2014 10:30\n size:             6                          \n--------------------------------------------------------------------------------------------\n              storage   display    value\nvariable name   type    format     label      variable label\n--------------------------------------------------------------------------------------------\nindex           byte    %12.0g                \nalpha           str1    %9s                   \n--------------------------------------------------------------------------------------------\nSorted by:  \n\n```\n\nI don't know how critical this is since there are workarounds. You can either use `compress; save, replace` in Stata after every use of pandas or, if the 244 problem makes the DTA exceed your memory limit (which causes quite the system error lightshow as I just experienced), you could pass it through a CSV first.\n\nIt's just a matter of convenience.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/65254260",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-65254260",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 65254260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MjU0MjYw",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-02T16:04:21Z",
    "updated_at": "2014-12-02T16:04:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm, I thought this was fixed.  I suppose this is the peril of using fully automated testing based on read/write without manually checking in Stata.   Should be an easy fix to get the minimum size and use that instead.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/65257544",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-65257544",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 65257544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MjU3NTQ0",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-02T16:22:33Z",
    "updated_at": "2014-12-02T16:22:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dmsul This appears to be a new issue since it is about `StataWriter` not `StataReader`.  Could you open a new one to make tracking easier?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/65258656",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7858#issuecomment-65258656",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7858",
    "id": 65258656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MjU4NjU2",
    "user": {
      "login": "dmsul",
      "id": 7398331,
      "node_id": "MDQ6VXNlcjczOTgzMzE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7398331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dmsul",
      "html_url": "https://github.com/dmsul",
      "followers_url": "https://api.github.com/users/dmsul/followers",
      "following_url": "https://api.github.com/users/dmsul/following{/other_user}",
      "gists_url": "https://api.github.com/users/dmsul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dmsul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dmsul/subscriptions",
      "organizations_url": "https://api.github.com/users/dmsul/orgs",
      "repos_url": "https://api.github.com/users/dmsul/repos",
      "events_url": "https://api.github.com/users/dmsul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dmsul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-02T16:29:03Z",
    "updated_at": "2014-12-02T16:29:03Z",
    "author_association": "NONE",
    "body": "Done. Thanks, @bashtage. I would love to help with this if at all possible, though I'm under the gun for the next while (ASSA).\n"
  }
]
