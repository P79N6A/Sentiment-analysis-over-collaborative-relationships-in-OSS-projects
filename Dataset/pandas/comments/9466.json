[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/73886892",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9466#issuecomment-73886892",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9466",
    "id": 73886892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODg2ODky",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T14:15:18Z",
    "updated_at": "2015-02-11T14:15:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "these take a slightly different path is the reason. A list of labels is not fast-pathed IIRC. Just a matter working on it. Feel free to submit a pull-request.\n\ncc @shoyer \ncc @immerrr\n\nsortedness assures that these are indexable by faster methods\n\n```\nIn [25]: df2 = df.copy()\n\nIn [26]: df2 = df.sort_index()\n\nIn [27]: df2.index.is_monotonic_increasing\nOut[27]: True\n\nIn [28]: df.index.is_monotonic_increasing\nOut[28]: False\n```\n\nNot that `df.loc[[....]]` will always return a `DataFrame`, while `df.loc[indexer]` will return a DataFrame ONLY if you have duplicates. Generally having duplicates makes things more difficult. You are better off using a multi-level index to avoid this condition.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/73900028",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9466#issuecomment-73900028",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9466",
    "id": 73900028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTAwMDI4",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T15:29:21Z",
    "updated_at": "2015-02-11T15:30:13Z",
    "author_association": "MEMBER",
    "body": "Thanks for the clarification. Indeed, I wouldn't have expected even such a stupid multi-level index...\n\n```\nIn  [13]: df3 = df.reset_index().reset_index().set_index([\"level_0\", \"index\"])\n```\n\nto be substantially faster than a non-unique one!\n\n```\nIn  [14]: %timeit df3.loc[[55555]]\nOut [14]: 100 loops, best of 3: 3.23 ms per loop\n```\n\n(although still orders of magnitude slower than df.loc[df.index == 55555])\n\nBy the way: I know df.loc[indexer] will return a DataFrame if you have duplicates. But I would find it more elegant/useful if the distinction was made at the DataFrame level (i.e. if not self.index.is_unique, then a DataFrame is returned even for non-duplicated labels). I may certainly be overlooking tons of feasibility/backward compatibility issues however.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/73903178",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9466#issuecomment-73903178",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9466",
    "id": 73903178,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTAzMTc4",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T15:45:47Z",
    "updated_at": "2015-02-11T15:45:47Z",
    "author_association": "MEMBER",
    "body": "(sorry, should have been \n\n```\nIn  [13]: df3 = df.reset_index().reset_index().set_index([\"level_0\", \"index\"]).swaplevel(0,1)\n```\n\nabove, not that  it changes anything)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/73930558",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9466#issuecomment-73930558",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9466",
    "id": 73930558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTMwNTU4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-11T18:02:26Z",
    "updated_at": "2015-02-11T18:02:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "a multi-index is like an index of indexes, so if each is unique it uses the optimized lookups. FYI, the difference between 1ms and 100us is just a few function calls (e.g. the MI has to do more inference on what exactly you are looking)\n\n```\nIn [20]: %timeit df3.loc[[(55555,99999)]]\n1000 loops, best of 3: 417 us per loop\n\nIn [21]: %timeit df3.loc[[(55555,99999),(99998,99998)]]\n1000 loops, best of 3: 432 us per loop\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/74048386",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9466#issuecomment-74048386",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9466",
    "id": 74048386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDQ4Mzg2",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-12T10:24:29Z",
    "updated_at": "2015-02-12T10:24:29Z",
    "author_association": "MEMBER",
    "body": "Il giorno mer, 11/02/2015 alle 10.02 -0800, jreback ha scritto:\n\n> a multi-index is like an index of indexes, so if each is unique it\n> uses the optimized lookups.\n\nYes... but the funny thing to me is that having a multi-index made of\n_non_ unique indices still yields a ~5x speedup! (possibly a futile\nremark, though)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/76531391",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9466#issuecomment-76531391",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9466",
    "id": 76531391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTMxMzkx",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-28T15:52:40Z",
    "updated_at": "2015-02-28T15:52:40Z",
    "author_association": "MEMBER",
    "body": "Just for the records: this applies both to the case (reported above) of a non-unique index, and to the case of unique index but non-unique list being searched.\n"
  }
]
