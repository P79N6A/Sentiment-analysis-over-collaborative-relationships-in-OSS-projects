[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/290701692",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15853#issuecomment-290701692",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15853",
    "id": 290701692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDcwMTY5Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-31T12:42:56Z",
    "updated_at": "2017-03-31T12:42:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "xref to #15785 this is the same causation (and lack of complete testing). pull-requests are welcome."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/290931830",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15853#issuecomment-290931830",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15853",
    "id": 290931830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDkzMTgzMA==",
    "user": {
      "login": "mrpoor",
      "id": 2932225,
      "node_id": "MDQ6VXNlcjI5MzIyMjU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2932225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrpoor",
      "html_url": "https://github.com/mrpoor",
      "followers_url": "https://api.github.com/users/mrpoor/followers",
      "following_url": "https://api.github.com/users/mrpoor/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrpoor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrpoor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrpoor/subscriptions",
      "organizations_url": "https://api.github.com/users/mrpoor/orgs",
      "repos_url": "https://api.github.com/users/mrpoor/repos",
      "events_url": "https://api.github.com/users/mrpoor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrpoor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-01T16:45:33Z",
    "updated_at": "2017-04-01T16:45:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback \r\n\r\nI want to try my hand at this bug, it looks like when np.tile is called the categorical dtype is lost:\r\n```\r\nmdata[col] = np.tile(frame.pop(col).values, K)\r\n```\r\nI can check what the type of the col is and if it's categorical I can just cast it back. Do you think that's a valid solution?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/290933973",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15853#issuecomment-290933973",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15853",
    "id": 290933973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDkzMzk3Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-01T17:17:40Z",
    "updated_at": "2017-04-01T17:20:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "so you have this\r\n```\r\nIn [12]: s = Series(list('aabca'), dtype='category')\r\n\r\nIn [13]: s\r\nOut[13]: \r\n0    a\r\n1    a\r\n2    b\r\n3    c\r\n4    a\r\ndtype: category\r\nCategories (3, object): [a, b, c]\r\n```\r\n\r\nand this is whats produced\r\n```\r\nIn [14]: np.tile(s.values, 3)\r\nOut[14]: \r\narray(['a', 'a', 'b', 'c', 'a', 'a', 'a', 'b', 'c', 'a', 'a', 'a', 'b',\r\n       'c', 'a'], dtype=object)\r\n```\r\n\r\nFYI when you fix this bug it will also fix #15785 \r\n\r\nhowever, I think we should actually define ``Series.tile`` (very similar to ``Series.repeats``). & define this on ``Categorical`` (which we will simply call), *and* in Categorical.tile do this.\r\n```\r\nIn [19]: pd.Categorical.from_codes(np.tile(c.codes, 3), categories=c.categories, ordered=c.ordered)\r\nOut[19]: \r\n[a, a, b, c, a, ..., a, a, b, c, a]\r\nLength: 15\r\nCategories (3, object): [a, b, c]\r\n\r\nIn [20]: Series(pd.Categorical.from_codes(np.tile(c.codes, 3), categories=c.categories, ordered=c.ordered))\r\nOut[20]: \r\n0     a\r\n1     a\r\n2     b\r\n3     c\r\n4     a\r\n5     a\r\n6     a\r\n7     b\r\n8     c\r\n9     a\r\n10    a\r\n11    a\r\n12    b\r\n13    c\r\n14    a\r\ndtype: category\r\nCategories (3, object): [a, b, c]\r\n```\r\n\r\nlmk when you need more guidance. This is sort of 'trivial' to fix, but the right way of doing this is as I outlined above. Its a bit more code, but puts things in the correct places. And need tests for this (the new ``.tile``, for ``Series`` and ``Catgorical`` :>"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/438088244",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15853#issuecomment-438088244",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15853",
    "id": 438088244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODA4ODI0NA==",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-13T01:01:35Z",
    "updated_at": "2018-11-13T01:01:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback: is that the sort of thing you had in mind, before I go writing any tests?  It doesn't seem to affect #15785, though, which seems to not-crash for me already."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/438097144",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15853#issuecomment-438097144",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15853",
    "id": 438097144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODA5NzE0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-13T01:39:14Z",
    "updated_at": "2018-11-13T01:39:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "it might be much better / fixed as categorical has seen much work recently\r\n\r\nif fixed just some tests would be great (otherwise fix great too)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/438356940",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15853#issuecomment-438356940",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15853",
    "id": 438356940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODM1Njk0MA==",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-13T17:20:26Z",
    "updated_at": "2018-11-13T17:20:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, I'll put up a PR for this one and leave #15785 alone for now."
  }
]
