[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/352662480",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18828#issuecomment-352662480",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18828",
    "id": 352662480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjY2MjQ4MA==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T07:32:59Z",
    "updated_at": "2017-12-19T07:32:59Z",
    "author_association": "MEMBER",
    "body": "This is the expected behavior for the code you posted.  You're passing the callable `str` as the function to be applied the index, meaning all index values will be converted to strings.  `RangeIndex` only supports integer valued indexes, so the type of index must change to something that can support `object` dtype, which is the base `Index` class.\r\n\r\nIf you only want to rename columns, and leave the index unchanged, don't pass anything to the `index` parameter: `df2 = df.rename(columns={1:'col1', 2:'col2'})`.\r\n\r\n```python\r\nIn [2]: df = pd.DataFrame({1:['a','b','c'], 2:['d','e','f']})\r\n\r\nIn [3]: df.index\r\nOut[3]: RangeIndex(start=0, stop=3, step=1)\r\n\r\nIn [4]: df2 = df.rename(columns={1:'col1', 2:'col2'})\r\n\r\nIn [5]: df2.index\r\nOut[5]: RangeIndex(start=0, stop=3, step=1)\r\n\r\nIn [6]: df2\r\nOut[6]:\r\n  col1 col2\r\n0    a    d\r\n1    b    e\r\n2    c    f\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/439941551",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18828#issuecomment-439941551",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18828",
    "id": 439941551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk0MTU1MQ==",
    "user": {
      "login": "m3h0w",
      "id": 25684390,
      "node_id": "MDQ6VXNlcjI1Njg0Mzkw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/25684390?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/m3h0w",
      "html_url": "https://github.com/m3h0w",
      "followers_url": "https://api.github.com/users/m3h0w/followers",
      "following_url": "https://api.github.com/users/m3h0w/following{/other_user}",
      "gists_url": "https://api.github.com/users/m3h0w/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/m3h0w/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/m3h0w/subscriptions",
      "organizations_url": "https://api.github.com/users/m3h0w/orgs",
      "repos_url": "https://api.github.com/users/m3h0w/repos",
      "events_url": "https://api.github.com/users/m3h0w/events{/privacy}",
      "received_events_url": "https://api.github.com/users/m3h0w/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-19T15:53:34Z",
    "updated_at": "2018-11-19T15:55:26Z",
    "author_association": "NONE",
    "body": "It's worth looking into if maybe the documentation on this should be modified, because it includes a misleading example that led the OP and me to struggle with this.\r\n\r\nhttps://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rename.html\r\n\r\nThe example:\r\n```\r\ndf = pd.DataFrame({\"A\": [1, 2, 3], \"B\": [4, 5, 6]})\r\ndf.rename(index=str, columns={\"A\": \"a\", \"B\": \"c\"})\r\n   a  c\r\n0  1  4\r\n1  2  5\r\n2  3  6\r\n```\r\n\r\nThe result of using argument 'str' for index is not noticeable, thus misleading."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/450420873",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18828#issuecomment-450420873",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18828",
    "id": 450420873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDQyMDg3Mw==",
    "user": {
      "login": "seanlseymour",
      "id": 12618361,
      "node_id": "MDQ6VXNlcjEyNjE4MzYx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12618361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanlseymour",
      "html_url": "https://github.com/seanlseymour",
      "followers_url": "https://api.github.com/users/seanlseymour/followers",
      "following_url": "https://api.github.com/users/seanlseymour/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanlseymour/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanlseymour/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanlseymour/subscriptions",
      "organizations_url": "https://api.github.com/users/seanlseymour/orgs",
      "repos_url": "https://api.github.com/users/seanlseymour/repos",
      "events_url": "https://api.github.com/users/seanlseymour/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanlseymour/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-28T20:18:40Z",
    "updated_at": "2018-12-28T20:18:40Z",
    "author_association": "NONE",
    "body": "After wasting the last three hours because of this 'disconnect', I agree strongly that the documentation needs to be modified here. I read it at least 10x, and it was not clear that the index type was being modified. As m3h0w points out, it's not clear from the output example that this is happening, and frankly, I don't think most people will want to do this! I just wanted to change column header names. This was painfully difficult to troubleshoot. Please change the docs to be clearer."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/450422015",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18828#issuecomment-450422015",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18828",
    "id": 450422015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDQyMjAxNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-28T20:27:07Z",
    "updated_at": "2018-12-28T20:27:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@seanlseymour you are welcome to submit a PR to modify the documentation; this is open source "
  }
]
