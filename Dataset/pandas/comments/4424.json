[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21910473",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4424#issuecomment-21910473",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4424",
    "id": 21910473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTEwNDcz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T02:36:57Z",
    "updated_at": "2013-08-01T02:36:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "try create_table_index\ndone as a separate method\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21911247",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4424#issuecomment-21911247",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4424",
    "id": 21911247,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTExMjQ3",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T02:53:07Z",
    "updated_at": "2013-08-01T02:53:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "ah yes, I could just do that after every append. _doh_\nSo the exact replacement would actually be:\n\n``` python\nstore.append(..., index=False)\nstore.create_table_index('df',kind='full')\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21911542",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4424#issuecomment-21911542",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4424",
    "id": 21911542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTExNTQy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T03:01:58Z",
    "updated_at": "2013-08-01T03:01:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes\nbut u prob want to do it after many appends\nI'll look at your pr about passing the args in\n\nsince u can append in a different order than a csi\n(as u r doing) - u would not normally create a csi on the fly; rather do it at the end (though u would prob be a better judge if this ) - I don't have data that says its more efficient just my interpretation I how it works - \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21911758",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4424#issuecomment-21911758",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4424",
    "id": 21911758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTExNzU4",
    "user": {
      "login": "michaelaye",
      "id": 69774,
      "node_id": "MDQ6VXNlcjY5Nzc0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/69774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelaye",
      "html_url": "https://github.com/michaelaye",
      "followers_url": "https://api.github.com/users/michaelaye/followers",
      "following_url": "https://api.github.com/users/michaelaye/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelaye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelaye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelaye/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelaye/orgs",
      "repos_url": "https://api.github.com/users/michaelaye/repos",
      "events_url": "https://api.github.com/users/michaelaye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelaye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T03:09:32Z",
    "updated_at": "2013-08-01T03:09:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't understand though what I have when I create an index with the default index=True, but with CSI=False? This is what I always get after my thousands of default append operations.\nAnd I wasn't aware that index=True just means a call to create_index for the whole table. I thought there was some magic of HDF / pytables going on that would keep the overhead minimal, but even with only 2 appends, doing the indexing afterwards saves a lot of time, in the order of 25%. (for 2 million rows). Therefore I have decided that index=None and a later call to create_index_table is the best for me. Just the required ptrepack with sortby takes quite some time for 84 GB. I am at 3h20 run-time and only about 50% done (judging from the size of the sorted HDF file.)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21912104",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4424#issuecomment-21912104",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4424",
    "id": 21912104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTEyMTA0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T03:22:18Z",
    "updated_at": "2013-08-01T03:25:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "a CSI essentially rewrites the table in the order of the sorted column\nthis is very different then an index, which is basically a table of pointers to where the rows start for a set of rows (and the higher the index level the smaller the block size is)\n\nso definitely more efficient to not create an index upfront if all you are doing is going to create a csi after\n\nOTOH, if you could somehow write it in order of your CSI in the first place would be fastest (not clear if that is possible)\n\nhere is an idea:\n\nI believe you could somewhat parallelize this if u were to split up the sorting\n- create your appended file\n- partitioning your appendended file into pieces\n- sort the pieces (using different output files) \n- append the pieces together\n- doing a final sort\n\n(remember you can't write to a file at the same time by multiple processes)\n\nthis is essentially how merge sort works FYI\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21960880",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4424#issuecomment-21960880",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4424",
    "id": 21960880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTYwODgw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-01T18:52:50Z",
    "updated_at": "2013-08-01T18:52:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing\n"
  }
]
