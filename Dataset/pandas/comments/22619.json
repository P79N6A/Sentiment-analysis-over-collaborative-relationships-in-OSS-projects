[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/419071260",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22619#issuecomment-419071260",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22619",
    "id": 419071260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTA3MTI2MA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-06T12:13:38Z",
    "updated_at": "2018-09-06T12:13:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you fill out the issue template, including a reproducible example and the output of `pd.show_versions`?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/419347266",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22619#issuecomment-419347266",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22619",
    "id": 419347266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTM0NzI2Ng==",
    "user": {
      "login": "Nemecsek",
      "id": 25978536,
      "node_id": "MDQ6VXNlcjI1OTc4NTM2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/25978536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nemecsek",
      "html_url": "https://github.com/Nemecsek",
      "followers_url": "https://api.github.com/users/Nemecsek/followers",
      "following_url": "https://api.github.com/users/Nemecsek/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nemecsek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nemecsek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nemecsek/subscriptions",
      "organizations_url": "https://api.github.com/users/Nemecsek/orgs",
      "repos_url": "https://api.github.com/users/Nemecsek/repos",
      "events_url": "https://api.github.com/users/Nemecsek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nemecsek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-07T07:20:44Z",
    "updated_at": "2018-09-07T07:20:44Z",
    "author_association": "NONE",
    "body": "I didn't fill the form because I cannot make a reproducible example. \r\n\r\nAny demo set works, but real data don't. At the moment I am trying to isolate the DataFrame rows causing the issue. I will let you know as soon as possible when I am successful in this.\r\n\r\nI am working with an old Debian jessie that cannot be updated, and Python 2.7. \r\n\r\n(I didn't know about pandas.show_versions(), really handy indeed)\r\n\r\n```\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 2.7.9.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 3.16.0-6-amd64\r\nmachine: x86_64\r\nprocessor: \r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: de_DE.UTF-8\r\nLOCALE: None.None\r\n\r\npandas: 0.23.4\r\npytest: None\r\npip: 18.0\r\nsetuptools: 5.5.1\r\nCython: None\r\nnumpy: 1.15.1\r\nscipy: None\r\npyarrow: None\r\nxarray: None\r\nIPython: None\r\nsphinx: None\r\npatsy: None\r\ndateutil: 2.7.3\r\npytz: 2018.5\r\nblosc: None\r\nbottleneck: None\r\ntables: None\r\nnumexpr: None\r\nfeather: None\r\nmatplotlib: None\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: None\r\nsqlalchemy: 1.2.11\r\npymysql: None\r\npsycopg2: None\r\njinja2: None\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\nNone\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/419377804",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22619#issuecomment-419377804",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22619",
    "id": 419377804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTM3NzgwNA==",
    "user": {
      "login": "Nemecsek",
      "id": 25978536,
      "node_id": "MDQ6VXNlcjI1OTc4NTM2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/25978536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nemecsek",
      "html_url": "https://github.com/Nemecsek",
      "followers_url": "https://api.github.com/users/Nemecsek/followers",
      "following_url": "https://api.github.com/users/Nemecsek/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nemecsek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nemecsek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nemecsek/subscriptions",
      "organizations_url": "https://api.github.com/users/Nemecsek/orgs",
      "repos_url": "https://api.github.com/users/Nemecsek/repos",
      "events_url": "https://api.github.com/users/Nemecsek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nemecsek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-07T09:18:12Z",
    "updated_at": "2018-09-07T11:33:02Z",
    "author_association": "NONE",
    "body": "Got it: it has to do with time localization of df's datetimeindex.\r\n\r\nTo group my data I need first to convert the index from UTC to local time.\r\nThis sample code crashes when data are grouped by week AND datetime is localized.\r\nIf you localize to UTC or use a grouping period different from W it works:\r\n\r\n```\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom datetime import datetime\r\n\r\ndt = pd.date_range(start=datetime(2016,3,28,0,0,0), periods=20, freq='15min')\r\nnp.random.seed(seed=1111)\r\ndata = np.random.randint(1, high=100, size=len(dt))\r\n\r\ndf = pd.DataFrame({'DTIME': dt, 'VALUE': data})\r\ndf = df.set_index('DTIME').tz_localize(\"Europe/Berlin\")   # <==== ok with \"UTC\"\r\n\r\ngrouped = df.groupby(pd.Grouper(freq=\"W\"))   # <==== ok with \"H\", \"D\", \"M\", \"Y\"\r\nfor g in grouped:\r\n    print(g)\r\n```\r\n\r\nThis instead works without any problem: datetimeindex is first localized to UTC, then to local:\r\n\r\n```\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom datetime import datetime\r\n\r\ndt = pd.date_range(start=datetime(2016,3,28,0,0,0), periods=20, freq='15min')\r\nnp.random.seed(seed=1111)\r\ndata = np.random.randint(1, high=100, size=len(dt))\r\n\r\ndf = pd.DataFrame({'DTIME': dt, 'VALUE': data})\r\ndf = df.set_index('DTIME').tz_localize(\"UTC\")\r\ndf = df.tz_convert(\"Europe/Berlin\")\r\n\r\ngrouped = df.groupby(pd.Grouper(freq=\"W\"))\r\nfor g in grouped:\r\n    print(g)\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/419558592",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22619#issuecomment-419558592",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22619",
    "id": 419558592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTU1ODU5Mg==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-07T20:36:01Z",
    "updated_at": "2018-09-07T20:36:01Z",
    "author_association": "MEMBER",
    "body": "Thanks for the report; this looks like a duplicate of #9119 (`df.groupby(pd.Grouper(freq=\"W\"))` is the same as `df.resample('W')`)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/419610446",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22619#issuecomment-419610446",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22619",
    "id": 419610446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTYxMDQ0Ng==",
    "user": {
      "login": "Nemecsek",
      "id": 25978536,
      "node_id": "MDQ6VXNlcjI1OTc4NTM2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/25978536?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nemecsek",
      "html_url": "https://github.com/Nemecsek",
      "followers_url": "https://api.github.com/users/Nemecsek/followers",
      "following_url": "https://api.github.com/users/Nemecsek/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nemecsek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nemecsek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nemecsek/subscriptions",
      "organizations_url": "https://api.github.com/users/Nemecsek/orgs",
      "repos_url": "https://api.github.com/users/Nemecsek/repos",
      "events_url": "https://api.github.com/users/Nemecsek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nemecsek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-08T03:56:12Z",
    "updated_at": "2018-09-08T03:57:18Z",
    "author_association": "NONE",
    "body": "I completely missed the previous issue. It has been opened for 4 years!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/419613435",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22619#issuecomment-419613435",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22619",
    "id": 419613435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTYxMzQzNQ==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-08T05:05:03Z",
    "updated_at": "2018-09-08T05:05:03Z",
    "author_association": "MEMBER",
    "body": "Hoping to get to it soon; it's tricky since the resampling code has been there for a while. Extra eyes are always appreciated!"
  }
]
