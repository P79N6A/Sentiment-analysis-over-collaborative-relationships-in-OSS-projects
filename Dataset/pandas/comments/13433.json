[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225562309",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13433#issuecomment-225562309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13433",
    "id": 225562309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTU2MjMwOQ==",
    "user": {
      "login": "languitar",
      "id": 1336287,
      "node_id": "MDQ6VXNlcjEzMzYyODc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1336287?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/languitar",
      "html_url": "https://github.com/languitar",
      "followers_url": "https://api.github.com/users/languitar/followers",
      "following_url": "https://api.github.com/users/languitar/following{/other_user}",
      "gists_url": "https://api.github.com/users/languitar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/languitar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/languitar/subscriptions",
      "organizations_url": "https://api.github.com/users/languitar/orgs",
      "repos_url": "https://api.github.com/users/languitar/repos",
      "events_url": "https://api.github.com/users/languitar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/languitar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-13T12:05:01Z",
    "updated_at": "2016-06-13T12:05:01Z",
    "author_association": "NONE",
    "body": "This does not happen if the columns are assigned individually:\n\n```\ndf[('parameters', 'scanFrequency')] = df['parameters']['scanFrequency']\n```\n\nThis preserves float64\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225565265",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13433#issuecomment-225565265",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13433",
    "id": 225565265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTU2NTI2NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-13T12:20:04Z",
    "updated_at": "2016-06-13T12:20:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is not reproducible. You need to show start frame, what you are doing and ending frame that can be copy/pasted. Starting from a file is not helpful. reduce to a small example.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225566542",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13433#issuecomment-225566542",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13433",
    "id": 225566542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTU2NjU0Mg==",
    "user": {
      "login": "languitar",
      "id": 1336287,
      "node_id": "MDQ6VXNlcjEzMzYyODc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1336287?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/languitar",
      "html_url": "https://github.com/languitar",
      "followers_url": "https://api.github.com/users/languitar/followers",
      "following_url": "https://api.github.com/users/languitar/following{/other_user}",
      "gists_url": "https://api.github.com/users/languitar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/languitar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/languitar/subscriptions",
      "organizations_url": "https://api.github.com/users/languitar/orgs",
      "repos_url": "https://api.github.com/users/languitar/repos",
      "events_url": "https://api.github.com/users/languitar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/languitar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-13T12:26:29Z",
    "updated_at": "2016-06-13T12:26:29Z",
    "author_association": "NONE",
    "body": "I am unable to generate a minimal example with artificial data. Why is it not reproducible from the provided data file?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225567848",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13433#issuecomment-225567848",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13433",
    "id": 225567848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTU2Nzg0OA==",
    "user": {
      "login": "languitar",
      "id": 1336287,
      "node_id": "MDQ6VXNlcjEzMzYyODc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1336287?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/languitar",
      "html_url": "https://github.com/languitar",
      "followers_url": "https://api.github.com/users/languitar/followers",
      "following_url": "https://api.github.com/users/languitar/following{/other_user}",
      "gists_url": "https://api.github.com/users/languitar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/languitar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/languitar/subscriptions",
      "organizations_url": "https://api.github.com/users/languitar/orgs",
      "repos_url": "https://api.github.com/users/languitar/repos",
      "events_url": "https://api.github.com/users/languitar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/languitar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-13T12:32:55Z",
    "updated_at": "2016-06-13T12:32:55Z",
    "author_association": "NONE",
    "body": "Ok, now I succeeded. The important aspect seems to be that within the group of columns that you are assigning there are multiple columns with diverging dtypes. It seems the operation reduces all columns to the common dtype.\n\n```\ndf = pd.DataFrame({('test', 'it'): [23.0, 24.0], ('test', 'not'): ['a', 'a']})\ndf['test'] = df['test']\nprint df.dtypes\ntest  it     object\n      not    object\ndtype: object\n```\n\nWhereas:\n\n```\ndf = pd.DataFrame({('test', 'it'): [23.0, 24.0], ('test', 'not'): [5, 5]})\ndf['test'] = df['test']\nprint df.dtypes:\ntest  it     float64\n      not    float64\ndtype: object\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225590850",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13433#issuecomment-225590850",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13433",
    "id": 225590850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTU5MDg1MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-13T14:05:51Z",
    "updated_at": "2016-06-13T14:05:51Z",
    "author_association": "MEMBER",
    "body": "So the issue is that when assigning multiple columns at once, upcasting occurs. Question if if this is expected. In principle, using [](getitem) to assign a single column does not upcast, but the difference here is of course that you have a multi-index and [] is assigning multiple columns at once.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225596896",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13433#issuecomment-225596896",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13433",
    "id": 225596896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTU5Njg5Ng==",
    "user": {
      "login": "languitar",
      "id": 1336287,
      "node_id": "MDQ6VXNlcjEzMzYyODc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1336287?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/languitar",
      "html_url": "https://github.com/languitar",
      "followers_url": "https://api.github.com/users/languitar/followers",
      "following_url": "https://api.github.com/users/languitar/following{/other_user}",
      "gists_url": "https://api.github.com/users/languitar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/languitar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/languitar/subscriptions",
      "organizations_url": "https://api.github.com/users/languitar/orgs",
      "repos_url": "https://api.github.com/users/languitar/repos",
      "events_url": "https://api.github.com/users/languitar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/languitar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-13T14:26:11Z",
    "updated_at": "2016-06-13T14:26:11Z",
    "author_association": "NONE",
    "body": "Having this change the data type looks very unexpected to me, from a usage perspective.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/225875582",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13433#issuecomment-225875582",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13433",
    "id": 225875582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTg3NTU4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-14T13:09:23Z",
    "updated_at": "2016-06-14T13:09:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is as expected, you are assinging a conglomeration of columns, so this is as if they are upcast to a common dtype. \n\nSo this is a correct unpacked assignment.\n\n```\nIn [9]: df[[('test','it'),('test','not')]] = df['test']\n\nIn [10]: df\nOut[10]: \n   test    \n     it not\n0  23.0   a\n1  24.0   a\n\nIn [11]: df.dtypes\nOut[11]: \ntest  it     float64\n      not     object\ndtype: object\n```\n\nI suppose the multi-assignment could be made to work, but its not generally supported and would take some work. If you want to submit a PR great.\n"
  }
]
