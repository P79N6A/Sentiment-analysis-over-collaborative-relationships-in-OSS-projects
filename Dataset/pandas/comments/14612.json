[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259073326",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14612#issuecomment-259073326",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14612",
    "id": 259073326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA3MzMyNg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T08:18:22Z",
    "updated_at": "2016-11-08T08:18:22Z",
    "author_association": "MEMBER",
    "body": "Please provide a reproducible example with runnable code.\n\nBut the error message indicates that you don't have a column named 'C' in `dfMod`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259075611",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14612#issuecomment-259075611",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14612",
    "id": 259075611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA3NTYxMQ==",
    "user": {
      "login": "sudarshan1989",
      "id": 9282691,
      "node_id": "MDQ6VXNlcjkyODI2OTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9282691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sudarshan1989",
      "html_url": "https://github.com/sudarshan1989",
      "followers_url": "https://api.github.com/users/sudarshan1989/followers",
      "following_url": "https://api.github.com/users/sudarshan1989/following{/other_user}",
      "gists_url": "https://api.github.com/users/sudarshan1989/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sudarshan1989/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sudarshan1989/subscriptions",
      "organizations_url": "https://api.github.com/users/sudarshan1989/orgs",
      "repos_url": "https://api.github.com/users/sudarshan1989/repos",
      "events_url": "https://api.github.com/users/sudarshan1989/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sudarshan1989/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T08:30:49Z",
    "updated_at": "2016-11-08T08:30:49Z",
    "author_association": "NONE",
    "body": "import csv\nimport numpy as np\nimport pandas as pd\nimport timeit\nfrom   sklearn import preprocessing\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.cross_validation import train_test_split\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.metrics import classification_report,roc_auc_score\nfrom sklearn.externals import joblib\nfrom sklearn.metrics import (precision_score, recall_score,f1_score)\nfrom sklearn.metrics import confusion_matrix\nimport os\nimport psutil\nfrom sklearn.preprocessing import Imputer\n\nstart_time = timeit.default_timer()\nnp.set_printoptions(suppress=True)\n\ndf=pd.read_csv('/Users/sudarshan/Desktop/masterproject/SampleDatasets/dataset3.csv')\nprint (df.isnull().any())\ndf.dropna(inplace=True)\nprint (df.isnull().any())\n#df= df.fillna(lambda x: x.median())\njust_dummies = df['Flags'].str.get_dummies(sep='|')\n\ndfMod = pd.concat([df, just_dummies], axis=1) \nprint dfMod.head()\nprint(dfMod.columns.tolist())\ndfMod['A'] = dfMod['A'].astype(float)\n#dfMod['C'] = dfMod['C'].astype(float)\ndfMod['E'] = dfMod['E'].astype(float)\ndfMod['F'] = dfMod['F'].astype(float)\ndfMod['P'] = dfMod['P'].astype(float)\ndfMod['R'] = dfMod['R'].astype(float)\ndfMod['S'] = dfMod['S'].astype(float)\n\nprint(dfMod.columns.tolist())\n#print (df.head())\n#le = preprocessing.LabelEncoder()\n#le.fit(df['Flags'])\n#print le.classes_\n#df['Flags']=le.transform(df['Flags'])\n#print (df.head())\nX = df.as_matrix(columns=['Packets','Bytes','Duration','A','C','E','F','P','R','S'])\nX[ ~np.isfinite(X) ] = 0\nprint \"converted into matrix\"\nprint X[0:5,:]\nprint (np.any(np.isnan(X)))\n\ny = df['Type']\n\nscaler = preprocessing.StandardScaler().fit(X)\nstandardized_X= Imputer().fit_transform(X)\nprint standardized_X\n\nX_train, X_test, y_train, y_test = train_test_split(standardized_X, y, test_size=0.25,random_state=1)\nclf = RandomForestClassifier(n_estimators=50, criterion='gini', max_depth=None, min_samples_split=2, min_samples_leaf=1, min_weight_fraction_leaf=0.0, max_features=\"auto\", max_leaf_nodes=None, min_impurity_split=1e-07, bootstrap=True, oob_score=True, n_jobs=-1, random_state=None, verbose=0, warm_start=False, class_weight=None)\nclf = clf.fit(X_train, y_train)\nprint(RandomForestClassifier.score(clf,X_train, y_train))\ny_prediction = clf.predict(X_test)\nprint (accuracy_score(y_test, y_prediction))\nprint (\"finished\")\nreport = classification_report(y_test, y_prediction)\nprint (report)\n#plt.plot(y_test, y_prediction)\n#plt.xlabel('features')\n#plt.ylabel('class_features')\n#plt.title('Report')\n#plt.show()\nX_tt = np.array([5.0,520,520.000, 1.0, 1.0, 1.0,1.0,1.0,1.0,0.0])\n\n#X_tt = np.array([3,724,0.574,32])\nresult = clf.predict(X_tt)\n#print (\"test result\")\nprint(result)\n#plt.plot(X_tt)\n#plt.show()\n\nprint(\"\\tPrecision: %1.3f\" % precision_score(y_test,y_prediction))\nprint(\"\\tRecall: %1.3f\" % recall_score(y_test,y_prediction))\nprint(\"\\tF1: %1.3f\\n\" % f1_score(y_test, y_prediction))\nprint(confusion_matrix(y_test, y_prediction))\nprint(roc_auc_score(y_test, y_prediction))\n\nrunningtime = timeit.default_timer() - start_time\n\nprint(runningtime)\n\nprocess = psutil.Process(os.getpid())\n\nprint(process.memory_info().rss)\n\n#joblib.dump(le, 'savedresult.pkl')\n\npython randomforest5changingflags.py\n/Users/sudarshan/anaconda3/lib/python2.7/site-packages/sklearn/cross_validation.py:44: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.\n  \"This module will be removed in 0.20.\", DeprecationWarning)\nType           False\nSource         False\nDestination    False\nSport          False\nDport          False\nStime          False\nEtime          False\nFlags           True\nPackets        False\nBytes          False\nDuration       False\ndtype: bool\nType           False\nSource         False\nDestination    False\nSport          False\nDport          False\nStime          False\nEtime          False\nFlags          False\nPackets        False\nBytes          False\nDuration       False\ndtype: bool\n   Type          Source    Destination  Sport  Dport                    Stime  \\\n0     1  215.94.251.130  71.126.222.64  54638  50330  2007-08-04 21:52:02.034  \n1     1  199.219.164.26  71.126.222.64  51571  60552  2007-08-04 21:52:02.044  \n2     1  192.153.200.55  71.126.222.64  55753  45498  2007-08-04 21:52:02.044  \n3     1   229.51.190.15  71.126.222.64  28860  22196  2007-08-04 21:52:02.044  \n4     1   38.174.166.55  71.126.222.64  58062   8970  2007-08-04 21:50:09.433   \n\n```\n                 Etime Flags  Packets  Bytes  ...   RP  RPA  S  SA  SEC  \\\n```\n\n0  2007-08-04 21:52:02.044     S        2     96  ...    0    0  1   0    0  \n1  2007-08-04 21:52:02.044     S        1     48  ...    0    0  1   0    0  \n2  2007-08-04 21:52:02.044     S        1     48  ...    0    0  1   0    0  \n3  2007-08-04 21:52:02.044     S        1     48  ...    0    0  1   0    0  \n4  2007-08-04 21:52:02.044     S        2     96  ...    0    0  1   0    0   \n\n   SPA  SPAC  SR  SRA  SRPA  \n0    0     0   0    0     0  \n1    0     0   0    0     0  \n2    0     0   0    0     0  \n3    0     0   0    0     0  \n4    0     0   0    0     0  \n\n[5 rows x 48 columns]\n['Type', 'Source', 'Destination', 'Sport', 'Dport', 'Stime', 'Etime', 'Flags', 'Packets', 'Bytes', 'Duration', 'A', 'AC', 'F', 'FA', 'FPA', 'FPAC', 'FR', 'FRA', 'FRPA', 'FRPAC', 'FS', 'FSA', 'FSPA', 'FSPAC', 'FSPAE', 'FSPAEC', 'FSRA', 'FSRAEC', 'FSRPA', 'FSRPAC', 'PA', 'PAC', 'R', 'RA', 'RAC', 'RC', 'RE', 'RP', 'RPA', 'S', 'SA', 'SEC', 'SPA', 'SPAC', 'SR', 'SRA', 'SRPA']\nTraceback (most recent call last):\n  File \"randomforest5changingflags.py\", line 37, in <module>\n    dfMod['E'] = dfMod['E'].astype(float)\n  File \"/Users/sudarshan/anaconda3/lib/python2.7/site-packages/pandas/core/frame.py\", line 2056, in **getitem**\n    return self._getitem_column(key)\n  File \"/Users/sudarshan/anaconda3/lib/python2.7/site-packages/pandas/core/frame.py\", line 2063, in _getitem_column\n    return self._get_item_cache(key)\n  File \"/Users/sudarshan/anaconda3/lib/python2.7/site-packages/pandas/core/generic.py\", line 1385, in _get_item_cache\n    values = self._data.get(item)\n  File \"/Users/sudarshan/anaconda3/lib/python2.7/site-packages/pandas/core/internals.py\", line 3515, in get\n    loc = self.items.get_loc(item)\n  File \"/Users/sudarshan/anaconda3/lib/python2.7/site-packages/pandas/indexes/base.py\", line 2091, in get_loc\n    return self._engine.get_loc(self._maybe_cast_indexer(key))\n  File \"pandas/index.pyx\", line 138, in pandas.index.IndexEngine.get_loc (pandas/index.c:4149)\n  File \"pandas/index.pyx\", line 160, in pandas.index.IndexEngine.get_loc (pandas/index.c:4013)\n  File \"pandas/src/hashtable_class_helper.pxi\", line 732, in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:13161)\n  File \"pandas/src/hashtable_class_helper.pxi\", line 740, in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:13115)\nKeyError: 'E'\n\nThis is my algorithm code,if you happend see my .csv fro which I am extracting the values it is having flags columns with values A,C,E,F,R,P,S...I am trying to splitup the column into subcolumn as a easy input into the machine learning algorithm\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259076362",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14612#issuecomment-259076362",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14612",
    "id": 259076362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA3NjM2Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T08:34:51Z",
    "updated_at": "2016-11-08T08:34:51Z",
    "author_association": "MEMBER",
    "body": "@sudarshan1989 You are printing the columns, which gives:\n\n```\n['Type', 'Source', 'Destination', 'Sport', 'Dport', 'Stime', 'Etime', 'Flags', 'Packets', 'Bytes', 'Duration', 'A', 'AC', 'F', 'FA', 'FPA', 'FPAC', 'FR', 'FRA', 'FRPA', 'FRPAC', 'FS', 'FSA', 'FSPA', 'FSPAC', 'FSPAE', 'FSPAEC', 'FSRA', 'FSRAEC', 'FSRPA', 'FSRPAC', 'PA', 'PAC', 'R', 'RA', 'RAC', 'RC', 'RE', 'RP', 'RPA', 'S', 'SA', 'SEC', 'SPA', 'SPAC', 'SR', 'SRA', 'SRPA']\n```\n\n(copied from above)\n\nI don't see a 'C' or 'E' column in this. So the KeyError is very logical I think.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259076839",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14612#issuecomment-259076839",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14612",
    "id": 259076839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA3NjgzOQ==",
    "user": {
      "login": "sudarshan1989",
      "id": 9282691,
      "node_id": "MDQ6VXNlcjkyODI2OTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9282691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sudarshan1989",
      "html_url": "https://github.com/sudarshan1989",
      "followers_url": "https://api.github.com/users/sudarshan1989/followers",
      "following_url": "https://api.github.com/users/sudarshan1989/following{/other_user}",
      "gists_url": "https://api.github.com/users/sudarshan1989/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sudarshan1989/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sudarshan1989/subscriptions",
      "organizations_url": "https://api.github.com/users/sudarshan1989/orgs",
      "repos_url": "https://api.github.com/users/sudarshan1989/repos",
      "events_url": "https://api.github.com/users/sudarshan1989/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sudarshan1989/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T08:37:15Z",
    "updated_at": "2016-11-08T08:37:15Z",
    "author_association": "NONE",
    "body": "No,as you can see my code in the flag column I am trying to split the flag values,into unique columns in the df Mod code....\n\n'A', 'AC', 'F', 'FA', 'FPA', 'FPAC', 'FR', 'FRA', 'FRPA', 'FRPAC', 'FS', 'FSA', 'FSPA', 'FSPAC', 'FSPAE', 'FSPAEC', 'FSRA', 'FSRAEC', 'FSRPA', 'FSRPAC', 'PA', 'PAC', 'R', 'RA', 'RAC', 'RC', 'RE', 'RP', 'RPA', 'S', 'SA', 'SEC', 'SPA', 'SPAC', 'SR', 'SRA', 'SRPA']\n\nSo i need to splitup as 'A','C','E','F','P','R','S' to convert as matrix value and feed into machine learning algorithm\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259077152",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14612#issuecomment-259077152",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14612",
    "id": 259077152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA3NzE1Mg==",
    "user": {
      "login": "sudarshan1989",
      "id": 9282691,
      "node_id": "MDQ6VXNlcjkyODI2OTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9282691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sudarshan1989",
      "html_url": "https://github.com/sudarshan1989",
      "followers_url": "https://api.github.com/users/sudarshan1989/followers",
      "following_url": "https://api.github.com/users/sudarshan1989/following{/other_user}",
      "gists_url": "https://api.github.com/users/sudarshan1989/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sudarshan1989/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sudarshan1989/subscriptions",
      "organizations_url": "https://api.github.com/users/sudarshan1989/orgs",
      "repos_url": "https://api.github.com/users/sudarshan1989/repos",
      "events_url": "https://api.github.com/users/sudarshan1989/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sudarshan1989/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T08:38:42Z",
    "updated_at": "2016-11-08T08:38:42Z",
    "author_association": "NONE",
    "body": "If it should throw error,it must do it for A right...It didn't For me C,E,P are the issue in dfMod\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259080918",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14612#issuecomment-259080918",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14612",
    "id": 259080918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA4MDkxOA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T08:57:51Z",
    "updated_at": "2016-11-08T08:57:51Z",
    "author_association": "MEMBER",
    "body": "> If it should throw error,it must do it for A right.\n\nNo, because there is an 'A' column in the printed column names.\n\nIf you want help on your actual problem, I recommend to ask a question on something like StackOverflow (but also there, you will have to be much more explicit in what is the problem exactly and try to trim down the example code)\n"
  }
]
