[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398104919",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398104919",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398104919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODEwNDkxOQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T15:59:01Z",
    "updated_at": "2018-06-18T15:59:01Z",
    "author_association": "MEMBER",
    "body": "I was unable to reproduce this on master - can you check there and see if that resolves your issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398125620",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398125620",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398125620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODEyNTYyMA==",
    "user": {
      "login": "Liam3851",
      "id": 546210,
      "node_id": "MDQ6VXNlcjU0NjIxMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/546210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liam3851",
      "html_url": "https://github.com/Liam3851",
      "followers_url": "https://api.github.com/users/Liam3851/followers",
      "following_url": "https://api.github.com/users/Liam3851/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liam3851/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liam3851/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liam3851/subscriptions",
      "organizations_url": "https://api.github.com/users/Liam3851/orgs",
      "repos_url": "https://api.github.com/users/Liam3851/repos",
      "events_url": "https://api.github.com/users/Liam3851/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liam3851/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T17:05:01Z",
    "updated_at": "2018-06-18T17:05:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@WillAyd Master works for me on Python 3.6 but I can reproduce issue under Python 2.7.15 (OP is using 2.7.12)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398136863",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398136863",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398136863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODEzNjg2Mw==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T17:41:56Z",
    "updated_at": "2018-06-18T17:41:56Z",
    "author_association": "MEMBER",
    "body": "Thanks @Liam3851 . Well in that case this is a recursive function call and I think the compatibility difference is that `sys.getrecursionlimit()` is at 3000 for Python3 and only 1000 for Python2. Tracing this call with this size DataFrame requires 2,223 recursive calls on my end, hence the failure.\r\n\r\nCan you see if increasing that limit in Python2 resolves the issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398143079",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398143079",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398143079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODE0MzA3OQ==",
    "user": {
      "login": "Liam3851",
      "id": 546210,
      "node_id": "MDQ6VXNlcjU0NjIxMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/546210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Liam3851",
      "html_url": "https://github.com/Liam3851",
      "followers_url": "https://api.github.com/users/Liam3851/followers",
      "following_url": "https://api.github.com/users/Liam3851/following{/other_user}",
      "gists_url": "https://api.github.com/users/Liam3851/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Liam3851/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Liam3851/subscriptions",
      "organizations_url": "https://api.github.com/users/Liam3851/orgs",
      "repos_url": "https://api.github.com/users/Liam3851/repos",
      "events_url": "https://api.github.com/users/Liam3851/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Liam3851/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T18:02:45Z",
    "updated_at": "2018-06-18T18:03:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@WillAyd OP's test case works on Python 2 with the system recursion limit increased to 3,000 as written. \r\n\r\nIf I increase the number of columns in OP's test case from 20,000 to 30,000, that re-breaks Python 2 with the maximum recursion depth (perhaps as expected).\r\n\r\nHowever, at least on my box (Win7, 40 GB RAM free for process) increasing the number of columns from 20,000 to 30,000 causes Python 3 to crash completely (I think this was not expected, or at least I didn't expect it)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398149404",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398149404",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398149404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODE0OTQwNA==",
    "user": {
      "login": "Templarrr",
      "id": 3714987,
      "node_id": "MDQ6VXNlcjM3MTQ5ODc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3714987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Templarrr",
      "html_url": "https://github.com/Templarrr",
      "followers_url": "https://api.github.com/users/Templarrr/followers",
      "following_url": "https://api.github.com/users/Templarrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/Templarrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Templarrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Templarrr/subscriptions",
      "organizations_url": "https://api.github.com/users/Templarrr/orgs",
      "repos_url": "https://api.github.com/users/Templarrr/repos",
      "events_url": "https://api.github.com/users/Templarrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Templarrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T18:23:52Z",
    "updated_at": "2018-06-18T18:24:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Mostly I was wandering why it's written in this way? Tail recursion is a beautiful thing, but in a language without tail recursion optimization it can (imho, should...) be replaced with simple loop. That will be just as fast, consume less resources and will not depend on the recursion limit."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398149856",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398149856",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398149856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODE0OTg1Ng==",
    "user": {
      "login": "Templarrr",
      "id": 3714987,
      "node_id": "MDQ6VXNlcjM3MTQ5ODc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3714987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Templarrr",
      "html_url": "https://github.com/Templarrr",
      "followers_url": "https://api.github.com/users/Templarrr/followers",
      "following_url": "https://api.github.com/users/Templarrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/Templarrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Templarrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Templarrr/subscriptions",
      "organizations_url": "https://api.github.com/users/Templarrr/orgs",
      "repos_url": "https://api.github.com/users/Templarrr/repos",
      "events_url": "https://api.github.com/users/Templarrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Templarrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T18:25:25Z",
    "updated_at": "2018-06-18T18:25:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry for multiple edits of my previous comment, phone autocorrect decided he knows best what I'm trying to say :)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398151768",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398151768",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398151768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODE1MTc2OA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T18:31:42Z",
    "updated_at": "2018-06-18T18:31:49Z",
    "author_association": "MEMBER",
    "body": "I can't speak to the history of that code but if you have a way to optimize it to perform better, use less resources, avoid the recursion limit, etc... then PRs are always welcome!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398315160",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398315160",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398315160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODMxNTE2MA==",
    "user": {
      "login": "Templarrr",
      "id": 3714987,
      "node_id": "MDQ6VXNlcjM3MTQ5ODc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3714987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Templarrr",
      "html_url": "https://github.com/Templarrr",
      "followers_url": "https://api.github.com/users/Templarrr/followers",
      "following_url": "https://api.github.com/users/Templarrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/Templarrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Templarrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Templarrr/subscriptions",
      "organizations_url": "https://api.github.com/users/Templarrr/orgs",
      "repos_url": "https://api.github.com/users/Templarrr/repos",
      "events_url": "https://api.github.com/users/Templarrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Templarrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-19T08:17:27Z",
    "updated_at": "2018-06-19T08:17:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "@WillAyd Well, I've never did any PR to pandas before (and only one one-liner to numpy...) so I've thought someone with more pandas-specific experience will be better here :) but I can certainly try"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/398335666",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21524#issuecomment-398335666",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21524",
    "id": 398335666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODMzNTY2Ng==",
    "user": {
      "login": "Templarrr",
      "id": 3714987,
      "node_id": "MDQ6VXNlcjM3MTQ5ODc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3714987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Templarrr",
      "html_url": "https://github.com/Templarrr",
      "followers_url": "https://api.github.com/users/Templarrr/followers",
      "following_url": "https://api.github.com/users/Templarrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/Templarrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Templarrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Templarrr/subscriptions",
      "organizations_url": "https://api.github.com/users/Templarrr/orgs",
      "repos_url": "https://api.github.com/users/Templarrr/repos",
      "events_url": "https://api.github.com/users/Templarrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Templarrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-19T09:27:46Z",
    "updated_at": "2018-06-19T09:27:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, I've opened a PR, not sure it's 100% follows best pandas practices, but I've tried"
  }
]
