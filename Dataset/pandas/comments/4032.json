[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20007293",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4032#issuecomment-20007293",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4032",
    "id": 20007293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDA3Mjkz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-25T21:05:14Z",
    "updated_at": "2013-06-25T21:05:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "the 2nd rename should not be allowed and is prob causing an issue (eg state gets messed up)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20009512",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4032#issuecomment-20009512",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4032",
    "id": 20009512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDA5NTEy",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-25T21:39:35Z",
    "updated_at": "2013-06-25T21:39:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think `rename({})` should be allowed, as it could be you use  a generated dictionary (which could be empty) to rename with. But agree that's probably where the issue lies.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20026737",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4032#issuecomment-20026737",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4032",
    "id": 20026737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDI2NzM3",
    "user": {
      "login": "miketkelly",
      "id": 2701643,
      "node_id": "MDQ6VXNlcjI3MDE2NDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2701643?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miketkelly",
      "html_url": "https://github.com/miketkelly",
      "followers_url": "https://api.github.com/users/miketkelly/followers",
      "following_url": "https://api.github.com/users/miketkelly/following{/other_user}",
      "gists_url": "https://api.github.com/users/miketkelly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miketkelly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miketkelly/subscriptions",
      "organizations_url": "https://api.github.com/users/miketkelly/orgs",
      "repos_url": "https://api.github.com/users/miketkelly/repos",
      "events_url": "https://api.github.com/users/miketkelly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miketkelly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-26T04:36:16Z",
    "updated_at": "2013-06-26T04:36:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here's a simpler snippet that reproduces the problem:\n\n```\nimport pandas as pd\ndf = pd.DataFrame({'b': [1.1, 2.2]})\ndf = df.rename(columns={})\ndf.insert(0, 'a', [1, 2])\ndf = df.rename(columns={})\nprint df.values\n```\n\nTo be clear, this has nothing to do with passing an empty dict to rename. I know a little about the internals now, but not enough fix this one. I believe the bug is in insert. The first rename just happens to cause ref_locs to be calculated on the blocks. The insert method fails to update these ref_locs when a new columns is inserted (block.ref_items is updated but block.ref_locs is not). The second rename then causes block.items to be calculated with incorrect ref_locs. Things go downhill from there.\n\nThis is a regression from 11.0.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20045292",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4032#issuecomment-20045292",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4032",
    "id": 20045292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDQ1Mjky",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-26T13:05:21Z",
    "updated_at": "2013-06-26T13:05:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "pretty straightforward, was not clearing the `_ref_locs` (which is the indexer named `ref_locs`) on a unique-index (non-unique is handled separately from this); so an insert not at the end was failing\n"
  }
]
