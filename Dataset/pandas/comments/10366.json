[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112558897",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-112558897",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 112558897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjU1ODg5Nw==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-16T20:27:15Z",
    "updated_at": "2015-06-16T20:28:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "On Linux/Python 2.7/pandas: 0.16.2-9-g7636c2c (master) I get\n\n```\n0: pass ['E\\xc3\\x89, 17', '', 'a', 'b', 'c']    \n1: pass ['E\\xc3\\x89, 17', 'a', 'b', 'c']    \n2: pass ['', 'a', 'b', 'c'] \n3: pass ['EE, 17', '', 'a', 'b', 'c']   \n4: pass ['\\xc3\\xb8\\xc3\\xbc', 'a', 'b', 'c'] \n5: pass ['A\\xc3\\xb8\\xc3\\xbc', '', 'a', 'b', 'c']    \n6: pass ['E\\xc3\\x89, 17', '\\xc3\\xb8\\xc3\\xbc', 'a', 'b', 'c']    \n```\n\nWhat does `pd.show_versions()` output?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112728991",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-112728991",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 112728991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjcyODk5MQ==",
    "user": {
      "login": "cottrell",
      "id": 223276,
      "node_id": "MDQ6VXNlcjIyMzI3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/223276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cottrell",
      "html_url": "https://github.com/cottrell",
      "followers_url": "https://api.github.com/users/cottrell/followers",
      "following_url": "https://api.github.com/users/cottrell/following{/other_user}",
      "gists_url": "https://api.github.com/users/cottrell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cottrell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cottrell/subscriptions",
      "organizations_url": "https://api.github.com/users/cottrell/orgs",
      "repos_url": "https://api.github.com/users/cottrell/repos",
      "events_url": "https://api.github.com/users/cottrell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cottrell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-17T09:05:15Z",
    "updated_at": "2015-06-17T09:05:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@bashtage Sorry I forgot to mention any version platform information. I am on OSX and am getting the errors only in python3 (python2 behaves differently). I was on master but turned back to the latest release.\n\nNotice the \"-_coding_-\" EDIT in the example I gave above. It changes the look of the output slightly.\n\nHere is what I just tested now:\n\n```\n    $ python --version\n    Python 3.4.3 :: Anaconda 2.2.0 (x86_64)\n\n    $ python -c 'import pandas; pandas.show_versions()'\n\n    INSTALLED VERSIONS\n    ------------------\n    commit: None\n    python: 3.4.3.final.0\n    python-bits: 64\n    OS: Darwin\n    OS-release: 14.3.0\n    machine: x86_64\n    processor: i386\n    byteorder: little\n    LC_ALL: None\n    LANG: en_CA.UTF-8\n\n    pandas: 0.16.2\n    nose: None\n    Cython: 0.22\n    numpy: 1.9.2\n    scipy: 0.15.1\n    statsmodels: None\n    IPython: 3.1.0\n    sphinx: 1.2.3\n    patsy: 0.3.0\n    dateutil: 2.4.2\n    pytz: 2015.4\n    bottleneck: None\n    tables: 3.1.1\n    numexpr: 2.3.1\n    matplotlib: 1.4.3\n    openpyxl: 1.8.5\n    xlrd: 0.9.3\n    xlwt: None\n    xlsxwriter: 0.6.7\n    lxml: 3.4.2\n    bs4: 4.3.2\n    html5lib: 0.999\n    httplib2: None\n    apiclient: None\n    sqlalchemy: 0.9.9\n    pymysql: None\n    psycopg2: None\n\n    $ python debug.py\n    0: fail ['EÃ\\x89, 17', '', 'a', 'b', 'c']  Categorical categories must be unique\n    1: pass ['EÃ\\x89, 17', 'a', 'b', 'c']\n    2: pass ['', 'a', 'b', 'c']\n    3: pass ['EE, 17', '', 'a', 'b', 'c']\n    4: pass ['Ã¸Ã¼', 'a', 'b', 'c']\n    5: fail ['AÃ¸Ã¼', '', 'a', 'b', 'c']    Categorical categories must be unique\n    6: fail ['EÃ\\x89, 17', 'Ã¸Ã¼', 'a', 'b', 'c']  'utf-8' codec can't decode byte 0xc2 in position 6: unexpected end of data\n\n    $ python --version\n    Python 2.7.10 :: Continuum Analytics, Inc.\n\n    $ python -c 'import pandas; pandas.show_versions()'\n\n    INSTALLED VERSIONS\n    ------------------\n    commit: None\n    python: 2.7.10.final.0\n    python-bits: 64\n    OS: Darwin\n    OS-release: 14.3.0\n    machine: x86_64\n    processor: i386\n    byteorder: little\n    LC_ALL: None\n    LANG: en_CA.UTF-8\n\n    pandas: 0.16.2\n    nose: 1.3.4\n    Cython: 0.21.1\n    numpy: 1.9.2\n    scipy: 0.15.1\n    statsmodels: 0.6.1\n    IPython: 2.3.1\n    sphinx: 1.2.3\n    patsy: 0.3.0\n    dateutil: 2.4.2\n    pytz: 2015.4\n    bottleneck: None\n    tables: 3.1.1\n    numexpr: 2.3.1\n    matplotlib: 1.4.3\n    openpyxl: 2.0.2\n    xlrd: 0.9.3\n    xlwt: None\n    xlsxwriter: 0.6.4\n    lxml: 3.4.1\n    bs4: 4.3.2\n    html5lib: None\n    httplib2: 0.8\n    apiclient: None\n    sqlalchemy: 0.9.8\n    pymysql: None\n    psycopg2: None\n\n    $ python debug.py\n    0: pass ['E\\xc3\\x89, 17', '', 'a', 'b', 'c']\n    1: pass ['E\\xc3\\x89, 17', 'a', 'b', 'c']\n    2: pass ['', 'a', 'b', 'c']\n    3: pass ['EE, 17', '', 'a', 'b', 'c']\n    4: pass ['\\xc3\\xb8\\xc3\\xbc', 'a', 'b', 'c']\n    5: pass ['A\\xc3\\xb8\\xc3\\xbc', '', 'a', 'b', 'c']\n    6: pass ['E\\xc3\\x89, 17', '\\xc3\\xb8\\xc3\\xbc', 'a', 'b', 'c']\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/112749259",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-112749259",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 112749259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjc0OTI1OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-17T10:35:39Z",
    "updated_at": "2015-06-17T10:35:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "So this is a bug [here](https://github.com/pydata/pandas/blob/master/pandas/io/pytables.py#L3024).\nThe `Categoricals` are written as a separate table in a sub-node of the main table. The `encoding` and `nan_rep` are known on the table at this point, and should be passed thru. Since you already have a test you have the hardest part already done. pls submit a pull-request to fix!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/113746799",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-113746799",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 113746799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMzc0Njc5OQ==",
    "user": {
      "login": "cottrell",
      "id": 223276,
      "node_id": "MDQ6VXNlcjIyMzI3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/223276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cottrell",
      "html_url": "https://github.com/cottrell",
      "followers_url": "https://api.github.com/users/cottrell/followers",
      "following_url": "https://api.github.com/users/cottrell/following{/other_user}",
      "gists_url": "https://api.github.com/users/cottrell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cottrell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cottrell/subscriptions",
      "organizations_url": "https://api.github.com/users/cottrell/orgs",
      "repos_url": "https://api.github.com/users/cottrell/repos",
      "events_url": "https://api.github.com/users/cottrell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cottrell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-20T11:15:23Z",
    "updated_at": "2015-06-20T11:15:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Thanks. I think I can get to this in a week or so.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/113747463",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-113747463",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 113747463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMzc0NzQ2Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-20T11:17:29Z",
    "updated_at": "2015-06-20T11:17:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cottrell gr8!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/115704729",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-115704729",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 115704729,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTcwNDcyOQ==",
    "user": {
      "login": "cottrell",
      "id": 223276,
      "node_id": "MDQ6VXNlcjIyMzI3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/223276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cottrell",
      "html_url": "https://github.com/cottrell",
      "followers_url": "https://api.github.com/users/cottrell/followers",
      "following_url": "https://api.github.com/users/cottrell/following{/other_user}",
      "gists_url": "https://api.github.com/users/cottrell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cottrell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cottrell/subscriptions",
      "organizations_url": "https://api.github.com/users/cottrell/orgs",
      "repos_url": "https://api.github.com/users/cottrell/repos",
      "events_url": "https://api.github.com/users/cottrell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cottrell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-26T14:21:17Z",
    "updated_at": "2015-06-26T14:21:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seems feeding the encoding and nan_rep through only fixed some of the errors. Basically, it looks like the categorical metadata is being mapped to \"nan\" for anything with non-standard encodings. Any suggestions on how to check whether the problem is with the writing or the reading of the hdf store? I can open the hdf store using pytables directly and I think the relevant node is '/data/meta/values/meta' where \"data\" is my top level key. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/115708259",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-115708259",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 115708259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTcwODI1OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-26T14:28:12Z",
    "updated_at": "2015-06-26T14:28:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm you will need to encode to nan string as well \nin the writing\n\nwhen reading everything needs to be decoded then the categorical created \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116050113",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10366#issuecomment-116050113",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10366",
    "id": 116050113,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjA1MDExMw==",
    "user": {
      "login": "cottrell",
      "id": 223276,
      "node_id": "MDQ6VXNlcjIyMzI3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/223276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cottrell",
      "html_url": "https://github.com/cottrell",
      "followers_url": "https://api.github.com/users/cottrell/followers",
      "following_url": "https://api.github.com/users/cottrell/following{/other_user}",
      "gists_url": "https://api.github.com/users/cottrell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cottrell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cottrell/subscriptions",
      "organizations_url": "https://api.github.com/users/cottrell/orgs",
      "repos_url": "https://api.github.com/users/cottrell/repos",
      "events_url": "https://api.github.com/users/cottrell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cottrell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-27T13:46:48Z",
    "updated_at": "2015-06-27T13:46:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Posting some notes here as I go.\n\nhttps://github.com/pydata/pandas/blob/master/pandas/io/pytables.py#L4408 seems to be turning different encodings to nan. Commenting it out resolves the uniqueness exceptions but encodings are still not quite right.\n\nSo it looks to me like the writing (to_hdf) is possible ok:\n\n``` python\nIn [94]: import tables\nIn [95]: f = tables.open_file('testhdf.h5', 'r')\nIn [96]: for r in f.root.data.meta.values.meta.table:\n    print(r['index'], r['values'])\n   ....:\n0 b''\n1 b'E\\xc3\\x89, 17'\n2 b'a'\n3 b'b'\n4 b'c'\n```\n"
  }
]
