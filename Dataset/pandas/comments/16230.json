[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299154245",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16230#issuecomment-299154245",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16230",
    "id": 299154245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE1NDI0NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T10:59:46Z",
    "updated_at": "2017-05-04T10:59:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "your example is not copy-pastable.\r\n\r\n``ldn.localize(datetime(2017,5,4, 11, 18))`` ldn is not defined."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299160962",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16230#issuecomment-299160962",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16230",
    "id": 299160962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE2MDk2Mg==",
    "user": {
      "login": "watercrossing",
      "id": 5656196,
      "node_id": "MDQ6VXNlcjU2NTYxOTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5656196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/watercrossing",
      "html_url": "https://github.com/watercrossing",
      "followers_url": "https://api.github.com/users/watercrossing/followers",
      "following_url": "https://api.github.com/users/watercrossing/following{/other_user}",
      "gists_url": "https://api.github.com/users/watercrossing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/watercrossing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/watercrossing/subscriptions",
      "organizations_url": "https://api.github.com/users/watercrossing/orgs",
      "repos_url": "https://api.github.com/users/watercrossing/repos",
      "events_url": "https://api.github.com/users/watercrossing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/watercrossing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T11:36:58Z",
    "updated_at": "2017-05-04T11:36:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry, I forgot to paste one line. Now it should be copyable."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299161948",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16230#issuecomment-299161948",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16230",
    "id": 299161948,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE2MTk0OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T11:42:20Z",
    "updated_at": "2017-05-04T11:42:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "what exactly are you trying to do ?\r\n\r\nusing groupby in this way is very very odd"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299167283",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16230#issuecomment-299167283",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16230",
    "id": 299167283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE2NzI4Mw==",
    "user": {
      "login": "watercrossing",
      "id": 5656196,
      "node_id": "MDQ6VXNlcjU2NTYxOTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5656196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/watercrossing",
      "html_url": "https://github.com/watercrossing",
      "followers_url": "https://api.github.com/users/watercrossing/followers",
      "following_url": "https://api.github.com/users/watercrossing/following{/other_user}",
      "gists_url": "https://api.github.com/users/watercrossing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/watercrossing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/watercrossing/subscriptions",
      "organizations_url": "https://api.github.com/users/watercrossing/orgs",
      "repos_url": "https://api.github.com/users/watercrossing/repos",
      "events_url": "https://api.github.com/users/watercrossing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/watercrossing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T12:10:53Z",
    "updated_at": "2017-05-04T12:12:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well this is just a reduced minimal example. \r\nI am analysing some web log files, with each line having a userID as one of the columns. For each user, I want to extract set of sessions, i.e. from event login to event logout. So I group by userid, and then apply to each group the method that finds starts and end times, and returns a dataframe of them. \r\n\r\nThe method works fine unless there is a user without any complete session, i.e. the apply method returns a column with None's only. Actually this example is even more compact:\r\n\r\n```python\r\nimport pandas as pd\r\nimport pytz\r\nfrom datetime import datetime\r\nldn = pytz.timezone(\"Europe/London\")\r\ndf = pd.DataFrame(data={\"times\" : [ldn.localize(datetime(2017, 5, 4, 11, 18)), \r\n                                   ldn.localize(datetime(2017, 5, 4, 13, 20)),\r\n                                   ldn.localize(datetime(2017, 3, 4, 11, 18))],\r\n                       \"userID\" : [1, 1, 2]})\r\n\r\ndef timeoffset(df):\r\n    col = df.times\r\n    forward = [None if i == len(col) -1 else col[i+1] for i in range(len(col))] # This is a simplification\r\n    return pd.DataFrame(data={\"forward\" : forward})\r\n\r\ngb = df.groupby(\"userID\")\r\ngb.apply(timeoffset)\r\n```\r\n\r\nIt seems to me quite a natural way - group by, apply to each group, get a dataframe back for each group that gets combined into one big list of sessions ?\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/299168358",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16230#issuecomment-299168358",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16230",
    "id": 299168358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE2ODM1OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T12:16:26Z",
    "updated_at": "2017-05-04T12:16:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\npd.concat([pd.DataFrame({'A': [pd.Timestamp('2017-05-04 13:20:00+01:00')]}), \r\n                       pd.DataFrame({'A': [None]})])\r\n```\r\n(also with ``pd.NaT``) raises\r\n\r\nthis repros.\r\nand some more cases:\r\n\r\n```\r\nIn [11]: pd.concat([Series([pd.Timestamp('2017-05-04 13:20:00+01:00')]), pd.Series([None])])\r\nOut[11]: \r\n0    2017-05-04 13:20:00+01:00\r\n0                         None\r\ndtype: object\r\n\r\nIn [12]: pd.concat([Series([pd.Timestamp('2017-05-04 13:20:00+01:00')]), pd.Series([pd.NaT])])\r\nOut[12]: \r\n0    2017-05-04 13:20:00+01:00\r\n0                          NaT\r\ndtype: object\r\n```\r\nlooks like these are some untested cases.\r\n\r\na pull-request to fix welcome!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/346948672",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16230#issuecomment-346948672",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16230",
    "id": 346948672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Njk0ODY3Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-25T15:51:29Z",
    "updated_at": "2017-11-25T15:51:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "dupe of #12396 "
  }
]
