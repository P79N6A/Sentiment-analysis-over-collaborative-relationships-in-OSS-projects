[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21047193",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21047193",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21047193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ3MTkz",
    "user": {
      "login": "hadim",
      "id": 528003,
      "node_id": "MDQ6VXNlcjUyODAwMw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/528003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hadim",
      "html_url": "https://github.com/hadim",
      "followers_url": "https://api.github.com/users/hadim/followers",
      "following_url": "https://api.github.com/users/hadim/following{/other_user}",
      "gists_url": "https://api.github.com/users/hadim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hadim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hadim/subscriptions",
      "organizations_url": "https://api.github.com/users/hadim/orgs",
      "repos_url": "https://api.github.com/users/hadim/repos",
      "events_url": "https://api.github.com/users/hadim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hadim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T14:51:40Z",
    "updated_at": "2013-07-16T14:51:40Z",
    "author_association": "NONE",
    "body": "You can find files here:\n- created by Python 2: https://github.com/hadim/various/blob/master/simu_created_by_python_2.h5\n- created by Python 3: https://github.com/hadim/various/blob/master/simu_created_by_python_3.h5\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21047857",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21047857",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21047857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ3ODU3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:00:06Z",
    "updated_at": "2013-07-16T15:00:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "try storing as `tables` rather than `storer` http://pandas.pydata.org/pandas-docs/dev/io.html#storer-format\n(eg use `append`). cross version pickles generally don't work that well, and that's how pytables stores certain data types; `tables` stores everything as basic types (e.g. floats/unicode....)\n\nhere's an example of using 3.3 reading a 2.7 file (storing as a table)::\n\n```\nPython 3.3.0 (default, Feb  1 2013, 08:25:35) \n\nIn [2]: pd.HDFStore('../../test.h5')\nOut[2]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: ../../test.h5\n/df            frame_table  (typ->appendable_multi,nrows->100000,ncols->5,indexers->[index],dc->[two,one])\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21047967",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21047967",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21047967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ3OTY3",
    "user": {
      "login": "hadim",
      "id": 528003,
      "node_id": "MDQ6VXNlcjUyODAwMw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/528003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hadim",
      "html_url": "https://github.com/hadim",
      "followers_url": "https://api.github.com/users/hadim/followers",
      "following_url": "https://api.github.com/users/hadim/following{/other_user}",
      "gists_url": "https://api.github.com/users/hadim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hadim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hadim/subscriptions",
      "organizations_url": "https://api.github.com/users/hadim/orgs",
      "repos_url": "https://api.github.com/users/hadim/repos",
      "events_url": "https://api.github.com/users/hadim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hadim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:01:35Z",
    "updated_at": "2013-07-16T15:01:35Z",
    "author_association": "NONE",
    "body": "I find out half the issue :-)\n\nWhen I load an h5 file from python 3 created by python 2, string type problems can happen because python 3 and python 2 does not use the same string type. So h5 file keeps current string type.\n\nBy adding `from __future__ import unicode_literals`, python 3 can now load h5 file created by python 2 code.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21048129",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21048129",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21048129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ4MTI5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:03:39Z",
    "updated_at": "2013-07-16T15:03:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmmm good to know about py2.....let me see if I can reproduce that\n\nfyi...here's py3 reading your py2 files....seems ok to me\n\n```\nIn [8]: pd.HDFStore('../../simu_created_by_python_2.h5')\nOut[8]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: ../../simu_created_by_python_2.h5\n/kts                   frame        (shape->[1200,1])\n/measures              frame        (shape->[1,7])   \n/params                frame        (shape->[1,7])   \n/plug_sites            frame        (shape->[3600,2])\n/spbs                  frame        (shape->[400,1]) \n\nIn [9]: pd.HDFStore('../../simu_created_by_python_3.h5')\nOut[9]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: ../../simu_created_by_python_3.h5\n/kts                   frame        (shape->[1200,1])\n/measures              frame        (shape->[1,7])   \n/params                frame        (shape->[1,7])   \n/plug_sites            frame        (shape->[3600,2])\n/spbs                  frame        (shape->[400,1]) \n\nIn [10]: pd.HDFStore('../../simu_created_by_python_3.h5').select('kts')\nOut[10]: \n<class 'pandas.core.frame.DataFrame'>\nMultiIndex: 1200 entries, (0, 0, kt, A) to (1990, 2, kt, B)\nData columns (total 1 columns):\nx    1200  non-null values\ndtypes: float64(1)\n\nIn [11]: pd.HDFStore('../../simu_created_by_python_2.h5').select('kts')\nOut[11]: \n<class 'pandas.core.frame.DataFrame'>\nMultiIndex: 1200 entries, (0, 0, kt, A) to (1990, 2, kt, B)\nData columns (total 1 columns):\nx    1200  non-null values\ndtypes: float64(1)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21048273",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21048273",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21048273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ4Mjcz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:05:53Z",
    "updated_at": "2013-07-16T15:05:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "reading in python 2.7.3 works ok as well\n\n```\nIn [7]: pd.HDFStore('simu_created_by_python_3.h5').select('kts')\nOut[7]: \n<class 'pandas.core.frame.DataFrame'>\nMultiIndex: 1200 entries, (0, 0, kt, A) to (1990, 2, kt, B)\nData columns (total 1 columns):\nx    1200  non-null values\ndtypes: float64(1)\n\nIn [8]: pd.HDFStore('simu_created_by_python_2.h5').select('kts')\nOut[8]: \n<class 'pandas.core.frame.DataFrame'>\nMultiIndex: 1200 entries, (0, 0, kt, A) to (1990, 2, kt, B)\nData columns (total 1 columns):\nx    1200  non-null values\ndtypes: float64(1)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21048464",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21048464",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21048464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ4NDY0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:08:34Z",
    "updated_at": "2013-07-16T15:08:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "fyi...your first error seems unrelated to reading anything\n\nand here's my 2c....you said you are transitioning from 2 to 3...great.....I would just do a switch and not try to interoperate with the data files, this can be very tricky (as you can see)..\n\nmaybe you can structure such that writing is only done with say 2.7 for shared files, while reads can be done with both versions\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21048528",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21048528",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21048528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ4NTI4",
    "user": {
      "login": "hadim",
      "id": 528003,
      "node_id": "MDQ6VXNlcjUyODAwMw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/528003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hadim",
      "html_url": "https://github.com/hadim",
      "followers_url": "https://api.github.com/users/hadim/followers",
      "following_url": "https://api.github.com/users/hadim/following{/other_user}",
      "gists_url": "https://api.github.com/users/hadim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hadim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hadim/subscriptions",
      "organizations_url": "https://api.github.com/users/hadim/orgs",
      "repos_url": "https://api.github.com/users/hadim/repos",
      "events_url": "https://api.github.com/users/hadim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hadim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:09:34Z",
    "updated_at": "2013-07-16T15:09:34Z",
    "author_association": "NONE",
    "body": "Can you try:\n\n``` python\npd.HDFStore('simu_created_by_python_3.h5')['params']\n```\n\n`params` contains unicode so it's again related to string :-)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21048798",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21048798",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21048798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ4Nzk4",
    "user": {
      "login": "hadim",
      "id": 528003,
      "node_id": "MDQ6VXNlcjUyODAwMw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/528003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hadim",
      "html_url": "https://github.com/hadim",
      "followers_url": "https://api.github.com/users/hadim/followers",
      "following_url": "https://api.github.com/users/hadim/following{/other_user}",
      "gists_url": "https://api.github.com/users/hadim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hadim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hadim/subscriptions",
      "organizations_url": "https://api.github.com/users/hadim/orgs",
      "repos_url": "https://api.github.com/users/hadim/repos",
      "events_url": "https://api.github.com/users/hadim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hadim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:13:30Z",
    "updated_at": "2013-07-16T15:13:30Z",
    "author_association": "NONE",
    "body": "Thank you for your advice. Anyway I will try to have something that can interoperate, it shouldn't be so difficult. \n\nNow it does not seems to be pandas or pytables issues so thank you for your time and your help !\n\nBye\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21048995",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21048995",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21048995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ4OTk1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T15:16:10Z",
    "updated_at": "2013-07-16T15:16:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "as I said, try using a `table`, the problem is that certain of your dtypes are pickled; pickle from 3->2 doesn't work in my experience.\n\nWhat you are attempting is _non-trivial_; maybe best to write out csv's during your transition period\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/21054339",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4260#issuecomment-21054339",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4260",
    "id": 21054339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDU0MzM5",
    "user": {
      "login": "hadim",
      "id": 528003,
      "node_id": "MDQ6VXNlcjUyODAwMw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/528003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hadim",
      "html_url": "https://github.com/hadim",
      "followers_url": "https://api.github.com/users/hadim/followers",
      "following_url": "https://api.github.com/users/hadim/following{/other_user}",
      "gists_url": "https://api.github.com/users/hadim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hadim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hadim/subscriptions",
      "organizations_url": "https://api.github.com/users/hadim/orgs",
      "repos_url": "https://api.github.com/users/hadim/repos",
      "events_url": "https://api.github.com/users/hadim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hadim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-16T16:27:25Z",
    "updated_at": "2013-07-16T16:27:25Z",
    "author_association": "NONE",
    "body": "Ok thank you. I think my code can survive if reading from py3 to py2 does not work :-)\n"
  }
]
