[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269531822",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269531822",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269531822,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTUzMTgyMg==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-28T19:57:09Z",
    "updated_at": "2016-12-28T19:57:09Z",
    "author_association": "MEMBER",
    "body": "Sadly, this function gets even more complex because of all the different ways in which you can hit those two behavior cases I mentioned.  In addition, you have to check those cases in so many different places (hence my decision to write two inner functions to avoid duplicate code).  If there are ways in which the logic can be simplified without sacrificing robustness, that would be great!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269547646",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269547646",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269547646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTU0NzY0Ng==",
    "user": {
      "login": "codecov-io",
      "id": 8655789,
      "node_id": "MDQ6VXNlcjg2NTU3ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8655789?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov-io",
      "html_url": "https://github.com/codecov-io",
      "followers_url": "https://api.github.com/users/codecov-io/followers",
      "following_url": "https://api.github.com/users/codecov-io/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov-io/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov-io/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov-io/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov-io/orgs",
      "repos_url": "https://api.github.com/users/codecov-io/repos",
      "events_url": "https://api.github.com/users/codecov-io/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov-io/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-28T21:58:34Z",
    "updated_at": "2016-12-30T01:15:45Z",
    "author_association": "NONE",
    "body": "## [Current coverage](https://codecov.io/gh/pandas-dev/pandas/pull/15005?src=pr) is 84.78% (diff: 100%)\n> Merging [#15005](https://codecov.io/gh/pandas-dev/pandas/pull/15005?src=pr) into [master](https://codecov.io/gh/pandas-dev/pandas/branch/master?src=pr) will not change coverage\n\n```diff\n@@             master     #15005   diff @@\n==========================================\n  Files           145        145          \n  Lines         51090      51090          \n  Methods           0          0          \n  Messages          0          0          \n  Branches          0          0          \n==========================================\n  Hits          43315      43315          \n  Misses         7775       7775          \n  Partials          0          0          \n```\n\n> Powered by [Codecov](https://codecov.io?src=pr). Last update [0d3ecfa...c3bd28a](https://codecov.io/gh/pandas-dev/pandas/compare/0d3ecfa8ba3930b688a6781c7f84138bc80da41a...c3bd28ae0ad89b75a702920f76dfe8b9dd1931ac?src=pr)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269614192",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269614192",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269614192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTYxNDE5Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-29T11:00:13Z",
    "updated_at": "2016-12-29T11:00:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "try this (you can't do this directly on inference.pyx because its only *part* of a file (IOW it doesn't have all of the proper declarations), but lib.pyx does (which is the congolomeration).\r\n```\r\n(pandas) bash-3.2$ cython -a pandas/lib.pyx -I pandas/src\r\n(pandas) bash-3.2$ git st\r\nOn branch weightby\r\nYour branch is ahead of 'agg2' by 2 commits.\r\n  (use \"git push\" to publish your local commits)\r\nUntracked files:\r\n  (use \"git add <file>...\" to include in what will be committed)\r\n\r\n        pandas/inference.html\r\n        pandas/lib.html\r\n        pandas/properties.html\r\n        pandas/reduce.html\r\n\r\nnothing added to commit but untracked files present (use \"git add\" to track)\r\n```\r\n\r\nat the top of lib.pyx, you can recompile with this = True, then %prun works nicely\r\n```\r\n# cython: profile=False\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269678617",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269678617",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269678617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTY3ODYxNw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-29T19:15:21Z",
    "updated_at": "2016-12-29T19:16:15Z",
    "author_association": "MEMBER",
    "body": "@jreback : Ran `cython -a` as requested, and no hotspots to report.  Your `cdef inline bint` suggestion really made a difference as you already said. :smile:\r\n\r\nSome timing info (note I setup the array so that we hit as many of the potential pain points as possible):\r\n~~~python\r\nIn [1]: from pandas import lib, np\r\nIn [2]: n = 1000000\r\nIn [3]:\r\nIn [4]: arr = np.repeat([2**63], n)\r\nIn [5]: arr = arr + np.arange(1000000).astype('uint64')\r\nIn [6]: arr = np.array([arr[i] if i%2 == 0 else str(arr[i]) for i in range(n)],\r\n                        dtype=object)\r\nIn [7]:\r\nIn [8]: arr[-1] = -1\r\nIn [9]: %timeit -n 100 lib.maybe_convert_objects(arr, set())\r\n100 loops, best of 3: 44 Âµs per loop\r\n~~~"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269703750",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269703750",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269703750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTcwMzc1MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-29T22:31:23Z",
    "updated_at": "2016-12-29T22:31:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u add an asv to that effect?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269750513",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269750513",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269750513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTc1MDUxMw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T09:29:24Z",
    "updated_at": "2016-12-30T09:29:24Z",
    "author_association": "MEMBER",
    "body": "@jreback : Added `asv` test.  Ready to merge if there are no other concerns."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269756522",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269756522",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269756522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTc1NjUyMg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T10:36:37Z",
    "updated_at": "2016-12-30T10:36:37Z",
    "author_association": "MEMBER",
    "body": "@gfyoung You updated `maybe_convert_numeric` to work with uints, but `maybe_convert_numeric` is used in `to_numeric`, so the result is also that `to_numeric` now can handle those? \r\nIf so, can you add tests for this as well? (as this is the API for users) \r\n\r\nCan you also show the results of the asv tests for `to_numeric` before/after to check the perf impact.\r\n\r\nI was wondering, regarding your question on code complexity, you now call the `_check_uint64_nan` and `_check_uint64_int64_conflict` in many places throughout the for loop. But could it also be a choice to only call those *after* the for loop? This would give worse performance for cases with conflicts (as the original values are not returned / error raised on first occurence of a conflict, but only after parsing all values), but would improve code complexity slightly and give possibly slightly better performance for cases without conflicts (for arrays that actually get converted)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269757505",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269757505",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269757505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTc1NzUwNQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T10:47:49Z",
    "updated_at": "2016-12-30T10:50:03Z",
    "author_association": "MEMBER",
    "body": "@jorisvandenbossche : To address your points:\r\n1) `to_numeric` : Yes!  It can handle `uint64` now.  I will add test cases.\r\n2) Checking at the end certainly is plausible.  Given how fast it is, it couldn't hurt.\r\n3) Benchmarks for `to_numeric` can be provided once (1) and (2) have been resolved.\r\n\r\nFor (2) and (3), I don't expect perf to be impacted too much, but we'll see."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269758294",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269758294",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269758294,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTc1ODI5NA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T10:55:00Z",
    "updated_at": "2016-12-30T10:55:00Z",
    "author_association": "MEMBER",
    "body": "@jorisvandenbossche : I just checked (1), and it appears more work will be needed (xref #14901).  Could we put that off as a follow-up?  I can tackle (2) and (3) for this PR."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269808196",
    "html_url": "https://github.com/pandas-dev/pandas/pull/15005#issuecomment-269808196",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15005",
    "id": 269808196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTgwODE5Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T18:54:11Z",
    "updated_at": "2016-12-30T18:54:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks!\r\n\r\nso if you follow up with fixes for ``.to_numeric`` and change this to a state machine (e.g. really a class with methods), then this would be great."
  }
]
