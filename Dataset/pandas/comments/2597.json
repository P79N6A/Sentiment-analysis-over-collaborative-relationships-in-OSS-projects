[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/11679343",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2597#issuecomment-11679343",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2597",
    "id": 11679343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjc5MzQz",
    "user": {
      "login": "changhiskhan",
      "id": 759245,
      "node_id": "MDQ6VXNlcjc1OTI0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/759245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changhiskhan",
      "html_url": "https://github.com/changhiskhan",
      "followers_url": "https://api.github.com/users/changhiskhan/followers",
      "following_url": "https://api.github.com/users/changhiskhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/changhiskhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changhiskhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changhiskhan/subscriptions",
      "organizations_url": "https://api.github.com/users/changhiskhan/orgs",
      "repos_url": "https://api.github.com/users/changhiskhan/repos",
      "events_url": "https://api.github.com/users/changhiskhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changhiskhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-12-26T00:59:30Z",
    "updated_at": "2012-12-26T00:59:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "when you say they're nearly identical, do you mean that the variables 'df' and 'DF' point to the same DataFrame object? If so updating one will update \"the other\".\nLet me know if I've misunderstood the question (if you can post a repro in that case it would be great)\nTHanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/11679474",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2597#issuecomment-11679474",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2597",
    "id": 11679474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjc5NDc0",
    "user": {
      "login": "smithjev",
      "id": 3123687,
      "node_id": "MDQ6VXNlcjMxMjM2ODc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3123687?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smithjev",
      "html_url": "https://github.com/smithjev",
      "followers_url": "https://api.github.com/users/smithjev/followers",
      "following_url": "https://api.github.com/users/smithjev/following{/other_user}",
      "gists_url": "https://api.github.com/users/smithjev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smithjev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smithjev/subscriptions",
      "organizations_url": "https://api.github.com/users/smithjev/orgs",
      "repos_url": "https://api.github.com/users/smithjev/repos",
      "events_url": "https://api.github.com/users/smithjev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smithjev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-12-26T01:22:51Z",
    "updated_at": "2012-12-26T01:26:22Z",
    "author_association": "NONE",
    "body": "To clarify a bit more, I have distilled out hopefully enough of my code to demonstrate what is happening.\nLower case df is a subset of DF that I copy over as a temporary DataFrame I am using to smooth stock data using a moving window cubic spline, with variable parameters determined by market conditions. Upper case DF is updated at each tick with the last smoothed value from the temporary DataFrame. \n\nHowever, when I get to the second to last line in this sample (df.intd = d['rollspline']), both df and DF are updated identical values, where I expected each to be updated independently.\n\n```\n### Boiler Plate, in case you wanna see how pieces fits together in my case...###\n# Moving Window Cubic Spline to remove lookahead bias\ndef interpNow(data):\n        ii = np.array(range(1,len(data)+1))\n        univariate = UnivariateSpline(ii, data, k=3, s=20)\n        return Decimal(str(univariate(ii[-1])))\n\ncsfit = lambda x: interpNow(x)\n\ndef new_cols(x):\n        cols = ['intd', 'dpdt', 'ddpdt', 'dddpdt', 'dpdt_sm', 'ddpdt_sm', 'dddpdt_sm', 'STD', 'pos_std', 'neg_std']\n        for col in cols:\n                x[col] = np.nan\n        return x\n### End Boiler Plate ###\n\n\nDF = get_data(ticker, minDateTime, maxDateTime)\nDF = DF.groupby('price').apply(new_cols)\n\nfor tick in DF.index:\n        df = DF[:tick]\n        rollSpline = pd.rolling_apply(df.price, Indicator_Tail, csfit)\n        d={'rollspline':rollSpline}\n        df.intd = d['rollspline']\n        DF.intd[tick] = df.intd[-1]\n```\n\nHope this was more informative. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/11679572",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2597#issuecomment-11679572",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2597",
    "id": 11679572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjc5NTcy",
    "user": {
      "login": "changhiskhan",
      "id": 759245,
      "node_id": "MDQ6VXNlcjc1OTI0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/759245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changhiskhan",
      "html_url": "https://github.com/changhiskhan",
      "followers_url": "https://api.github.com/users/changhiskhan/followers",
      "following_url": "https://api.github.com/users/changhiskhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/changhiskhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changhiskhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changhiskhan/subscriptions",
      "organizations_url": "https://api.github.com/users/changhiskhan/orgs",
      "repos_url": "https://api.github.com/users/changhiskhan/repos",
      "events_url": "https://api.github.com/users/changhiskhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changhiskhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-12-26T01:38:46Z",
    "updated_at": "2012-12-26T01:38:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "The issue is here: `df = DF[:tick]` as this gives you a view of the underlying data rather than a new copy.\n\nYou can do `df = DF[:tick].copy()`, or `DF.intd[tick] = d['rollspline'][-1]` so you don't have to copy data unnecessarily.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/11679617",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2597#issuecomment-11679617",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2597",
    "id": 11679617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjc5NjE3",
    "user": {
      "login": "smithjev",
      "id": 3123687,
      "node_id": "MDQ6VXNlcjMxMjM2ODc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3123687?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smithjev",
      "html_url": "https://github.com/smithjev",
      "followers_url": "https://api.github.com/users/smithjev/followers",
      "following_url": "https://api.github.com/users/smithjev/following{/other_user}",
      "gists_url": "https://api.github.com/users/smithjev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smithjev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smithjev/subscriptions",
      "organizations_url": "https://api.github.com/users/smithjev/orgs",
      "repos_url": "https://api.github.com/users/smithjev/repos",
      "events_url": "https://api.github.com/users/smithjev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smithjev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-12-26T01:44:51Z",
    "updated_at": "2012-12-26T01:44:51Z",
    "author_association": "NONE",
    "body": "Thanks Changhiskhan. That makes it clear why this is happening. I will try another approach as you recommended. :) \n"
  }
]
