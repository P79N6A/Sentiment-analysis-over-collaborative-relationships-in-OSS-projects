[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/261695826",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14693#issuecomment-261695826",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14693",
    "id": 261695826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTY5NTgyNg==",
    "user": {
      "login": "codecov-io",
      "id": 8655789,
      "node_id": "MDQ6VXNlcjg2NTU3ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8655789?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov-io",
      "html_url": "https://github.com/codecov-io",
      "followers_url": "https://api.github.com/users/codecov-io/followers",
      "following_url": "https://api.github.com/users/codecov-io/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov-io/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov-io/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov-io/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov-io/orgs",
      "repos_url": "https://api.github.com/users/codecov-io/repos",
      "events_url": "https://api.github.com/users/codecov-io/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov-io/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-19T05:58:57Z",
    "updated_at": "2016-11-21T03:03:17Z",
    "author_association": "NONE",
    "body": "## [Current coverage](https://codecov.io/gh/pandas-dev/pandas/pull/14693?src=pr) is 85.20% (diff: 100%)\n> Merging [#14693](https://codecov.io/gh/pandas-dev/pandas/pull/14693?src=pr) into [master](https://codecov.io/gh/pandas-dev/pandas/branch/master?src=pr) will increase coverage by **<.01%**\n\n```diff\n@@             master     #14693   diff @@\n==========================================\n  Files           143        143          \n  Lines         50787      50787          \n  Methods           0          0          \n  Messages          0          0          \n  Branches          0          0          \n==========================================\n+ Hits          43273      43274     +1   \n+ Misses         7514       7513     -1   \n  Partials          0          0          \n```\n\n> Powered by [Codecov](https://codecov.io?src=pr). Last update [f26b049...9908a7c](https://codecov.io/gh/pandas-dev/pandas/compare/f26b049786624ed983f2718687c23e3f1adbb670...9908a7c1ecbf0329f54025a200ca1c74fc88d62c?src=pr)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/261997783",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14693#issuecomment-261997783",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14693",
    "id": 261997783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTk5Nzc4Mw==",
    "user": {
      "login": "joshowen",
      "id": 135613,
      "node_id": "MDQ6VXNlcjEzNTYxMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/135613?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshowen",
      "html_url": "https://github.com/joshowen",
      "followers_url": "https://api.github.com/users/joshowen/followers",
      "following_url": "https://api.github.com/users/joshowen/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshowen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshowen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshowen/subscriptions",
      "organizations_url": "https://api.github.com/users/joshowen/orgs",
      "repos_url": "https://api.github.com/users/joshowen/repos",
      "events_url": "https://api.github.com/users/joshowen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshowen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T16:56:27Z",
    "updated_at": "2016-11-21T16:56:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "This fixed an edge case, but ultimately there are a bunch more.  I'm moving away from using this to the following code:\r\n```\r\n        from io import StringIO\r\n        import jsonlines\r\n        with StringIO() as buf:\r\n            writer = jsonlines.Writer(buf)\r\n            writer.write_all(ujson.loads(s))\r\n            writer.close()\r\n            buf.seek(0)\r\n            return buf.read()\r\n```\r\n\r\nTheir solution is fairly simple, but I'm not comfortable enough to update the vendored ujson package.\r\nhttps://github.com/wbolster/jsonlines/blob/master/jsonlines/jsonlines.py\r\n\r\nI've added the following PR to speed it up a bit:\r\nhttps://github.com/wbolster/jsonlines/pull/24"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262001686",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14693#issuecomment-262001686",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14693",
    "id": 262001686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjAwMTY4Ng==",
    "user": {
      "login": "joshowen",
      "id": 135613,
      "node_id": "MDQ6VXNlcjEzNTYxMw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/135613?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshowen",
      "html_url": "https://github.com/joshowen",
      "followers_url": "https://api.github.com/users/joshowen/followers",
      "following_url": "https://api.github.com/users/joshowen/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshowen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshowen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshowen/subscriptions",
      "organizations_url": "https://api.github.com/users/joshowen/orgs",
      "repos_url": "https://api.github.com/users/joshowen/repos",
      "events_url": "https://api.github.com/users/joshowen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshowen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T17:09:06Z",
    "updated_at": "2016-11-21T17:09:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I think the right way to do this is to use jsonlines or to build its functionality into ujson rather than trying to transform the json formatted output.  What do you think?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262034443",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14693#issuecomment-262034443",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14693",
    "id": 262034443,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjAzNDQ0Mw==",
    "user": {
      "login": "wbolster",
      "id": 748944,
      "node_id": "MDQ6VXNlcjc0ODk0NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/748944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbolster",
      "html_url": "https://github.com/wbolster",
      "followers_url": "https://api.github.com/users/wbolster/followers",
      "following_url": "https://api.github.com/users/wbolster/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbolster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbolster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbolster/subscriptions",
      "organizations_url": "https://api.github.com/users/wbolster/orgs",
      "repos_url": "https://api.github.com/users/wbolster/repos",
      "events_url": "https://api.github.com/users/wbolster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbolster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T19:04:21Z",
    "updated_at": "2016-11-21T19:04:21Z",
    "author_association": "NONE",
    "body": "jfyi, `StringIO.getvalue()` is typically used to obtain the value as a a string, instead of `.seek(0)` and `.read()`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262195122",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14693#issuecomment-262195122",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14693",
    "id": 262195122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjE5NTEyMg==",
    "user": {
      "login": "wbolster",
      "id": 748944,
      "node_id": "MDQ6VXNlcjc0ODk0NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/748944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbolster",
      "html_url": "https://github.com/wbolster",
      "followers_url": "https://api.github.com/users/wbolster/followers",
      "following_url": "https://api.github.com/users/wbolster/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbolster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbolster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbolster/subscriptions",
      "organizations_url": "https://api.github.com/users/wbolster/orgs",
      "repos_url": "https://api.github.com/users/wbolster/repos",
      "events_url": "https://api.github.com/users/wbolster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbolster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-22T09:51:17Z",
    "updated_at": "2016-11-22T09:51:17Z",
    "author_association": "NONE",
    "body": "also, there is no need to use `StringIO` as a context manager, while it does make sense to use `jsonlines.Writer` as a context manager:\r\n\r\n``` python\r\nimport io\r\nimport jsonlines\r\n\r\nbuf = io.StringIO()\r\nwith jsonlines.Writer(buf) as writer:\r\n    writer.write_all(ujson.loads(s))\r\nreturn buf.getvalue()\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262220082",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14693#issuecomment-262220082",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14693",
    "id": 262220082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjIyMDA4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-22T11:43:16Z",
    "updated_at": "2016-11-22T11:43:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@joshowen \r\n\r\n> @jreback I think the right way to do this is to use jsonlines or to build its functionality into ujson rather than trying to transform the json formatted output. What do you think?\r\n\r\nIIRC from the original issue, @aterrel and I had discussed this. Though its pretty performant now, the correct approach is to put it in the custom ujson code that pandas uses. That is somewhat more involved (though probably pretty straightforward)."
  }
]
