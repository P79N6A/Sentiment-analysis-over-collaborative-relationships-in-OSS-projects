[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/462026169",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-462026169",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 462026169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjAyNjE2OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T08:43:08Z",
    "updated_at": "2019-02-09T08:43:08Z",
    "author_association": "MEMBER",
    "body": "@tikael1011 Can you please provide a reproducible example? So some code that creates the `df` and `df_full` dataframes. Otherwise it is impossible to know what is going on. \r\n(see eg http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports for more explanation)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/462027160",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-462027160",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 462027160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjAyNzE2MA==",
    "user": {
      "login": "tikael1011",
      "id": 11649522,
      "node_id": "MDQ6VXNlcjExNjQ5NTIy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11649522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tikael1011",
      "html_url": "https://github.com/tikael1011",
      "followers_url": "https://api.github.com/users/tikael1011/followers",
      "following_url": "https://api.github.com/users/tikael1011/following{/other_user}",
      "gists_url": "https://api.github.com/users/tikael1011/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tikael1011/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tikael1011/subscriptions",
      "organizations_url": "https://api.github.com/users/tikael1011/orgs",
      "repos_url": "https://api.github.com/users/tikael1011/repos",
      "events_url": "https://api.github.com/users/tikael1011/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tikael1011/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T09:00:16Z",
    "updated_at": "2019-02-09T09:05:04Z",
    "author_association": "NONE",
    "body": "```python\r\ncdb = importlib.import_module('xxx.xxxx.models')\r\ndef get_full():\r\n\r\n    full_obj = getattr(cdb, 'table_name')\r\n    full_query = Session.query(full_obj).filter(\r\n        full_obj.accountId == obj.accountId)\r\n    if not full_query.first():\r\n        return pd.DataFrame(), None\r\n    latest_date = Session.query(full_obj).filter(\r\n        full_obj.accountId == obj.accountId\r\n    ).order_by(full_obj.date.desc()).first().date\r\n\r\n    df = pd_read_sql(full_query.statement, con=Session.bind)\r\n    idx = ['str1', 'str2', 'str3']\r\n    df = df.sort_values('date').groupby(idx).tail(1)\r\n    df = df.where(pd.notnull(df), None)\r\n    df.set_index(idx, drop=False, inplace=True)\r\n    return df, latest_date\r\n\r\n## this following part of code works both 0.23.4 and 0.24.1\r\ndef get_df(df_shadow, df_diff, idx):\r\n    for i, rc in df_diff.iterrows():\r\n        df = df.append(df_shadow.loc[tuple(rc[e] for e in idx)])\r\n    return df\r\n\r\n'''\r\nexample of df_diff\r\n\r\nstr1, str2, str3, str4\r\n123, 456, 789, 8\r\n234, 345, 567, 7\r\n345, 567, 890, 6\r\n\r\nexample of df_shadow:\r\n\r\nstr1, str2, str3, str4\r\n123, 456, 789, 10\r\n122, 467, 234, 8\r\n234, 345, 567, 5\r\n344, 890, 345, 1\r\n345, 567, 890, 2\r\n\r\nexample of expected df\r\nstr1, str2, str3, prev_str4, str4\r\n123, 456, 789, 10, 8\r\n234, 345, 567, 5, 7\r\n345, 567, 890, 2, 6\r\n'''\r\n```\r\n\r\nHopefully these snippet is adequate."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/462027450",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-462027450",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 462027450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjAyNzQ1MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T09:04:24Z",
    "updated_at": "2019-02-09T09:04:24Z",
    "author_association": "MEMBER",
    "body": "Please provide *runnable* code. Something we can copy paste in a python session and execute. The above makes use of unknown variables. \r\nIf the example dataframes you show are sufficient to reproduce the issue, you could adapt the code to create and use those."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/462027721",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-462027721",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 462027721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjAyNzcyMQ==",
    "user": {
      "login": "tikael1011",
      "id": 11649522,
      "node_id": "MDQ6VXNlcjExNjQ5NTIy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11649522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tikael1011",
      "html_url": "https://github.com/tikael1011",
      "followers_url": "https://api.github.com/users/tikael1011/followers",
      "following_url": "https://api.github.com/users/tikael1011/following{/other_user}",
      "gists_url": "https://api.github.com/users/tikael1011/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tikael1011/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tikael1011/subscriptions",
      "organizations_url": "https://api.github.com/users/tikael1011/orgs",
      "repos_url": "https://api.github.com/users/tikael1011/repos",
      "events_url": "https://api.github.com/users/tikael1011/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tikael1011/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T09:09:02Z",
    "updated_at": "2019-02-09T09:09:02Z",
    "author_association": "NONE",
    "body": "it is 4 am here...I will provide runnable code with some real data asap"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/462027808",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-462027808",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 462027808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjAyNzgwOA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T09:10:40Z",
    "updated_at": "2019-02-09T09:10:40Z",
    "author_association": "MEMBER",
    "body": "No hurry! \r\nAnd to be clear: the reason we ask this is because we get a *lot* of bug reports, and it is *very* helpful if bug reports provide a clear, minimal reproducible example. Otherwise the chance is high it will not get much attention."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/462465490",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-462465490",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 462465490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjQ2NTQ5MA==",
    "user": {
      "login": "tikael1011",
      "id": 11649522,
      "node_id": "MDQ6VXNlcjExNjQ5NTIy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11649522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tikael1011",
      "html_url": "https://github.com/tikael1011",
      "followers_url": "https://api.github.com/users/tikael1011/followers",
      "following_url": "https://api.github.com/users/tikael1011/following{/other_user}",
      "gists_url": "https://api.github.com/users/tikael1011/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tikael1011/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tikael1011/subscriptions",
      "organizations_url": "https://api.github.com/users/tikael1011/orgs",
      "repos_url": "https://api.github.com/users/tikael1011/repos",
      "events_url": "https://api.github.com/users/tikael1011/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tikael1011/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T19:40:32Z",
    "updated_at": "2019-02-11T19:40:32Z",
    "author_association": "NONE",
    "body": "```\r\nimport pandas as pd\r\n\r\ndf1 = pd.DataFrame([{'id': 6.0, 'b': 102556776032464.0, 'value': 0.79, 'c': 46127581169045.0, 'a': 1070770444536.0, 'prev_value': None}])\r\n\r\ndf2 = pd.DataFrame([{'id': 6, 'c': 117747917820594, 'b': 166082626904243, 'a': 161128393449045, 'value': 0.65}])\r\n\r\nidx = ['a', 'b', 'c']\r\n\r\ndf2.set_index(idx, drop=False, inplace=True)\r\n\r\nfor i, rc in df1.iterrows():\r\n\tdf1.at[i, 'prev_value'] = df2.loc[tuple(rc[e] for e in idx)]['value']\r\n\t\r\n```\r\nthe result of the above varies using different pandas version. For 0.23.4 I got KeyError [label not in index] yet for 0.24.1 I got pandas.core.indexing.IndexingError: Too many indexers"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463251397",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-463251397",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 463251397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzI1MTM5Nw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T15:50:35Z",
    "updated_at": "2019-02-13T15:51:20Z",
    "author_association": "MEMBER",
    "body": "@tikael1011 Thanks for the reproducible example. \r\n\r\nSimplified it a little bit further:\r\n\r\n```\r\nIn [21]: df = pd.DataFrame([[1, 2, 3, 4]], columns=['a', 'b', 'c', 'd']) \r\n\r\nIn [22]: df = df.set_index(['a', 'b', 'c'])\r\n\r\nIn [23]: df\r\nOut[23]: \r\n       d\r\na b c   \r\n1 2 3  4\r\n\r\nIn [24]: df.loc[(1, 2, 3)]\r\nOut[24]: \r\nd    4\r\nName: (1, 2, 3), dtype: int64\r\n\r\nIn [27]: df.loc[(2., 2., 3.)] \r\n...\r\nIndexingError: Too many indexers\r\n```\r\n\r\nIn 0.23.4 this gave correctly a KeyError.\r\n\r\n\r\n\r\nAbove, you said that it was working in pandas 0.23.4, but failing on 0.24. But it's only the error that changed?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463316049",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-463316049",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 463316049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzMxNjA0OQ==",
    "user": {
      "login": "tikael1011",
      "id": 11649522,
      "node_id": "MDQ6VXNlcjExNjQ5NTIy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11649522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tikael1011",
      "html_url": "https://github.com/tikael1011",
      "followers_url": "https://api.github.com/users/tikael1011/followers",
      "following_url": "https://api.github.com/users/tikael1011/following{/other_user}",
      "gists_url": "https://api.github.com/users/tikael1011/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tikael1011/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tikael1011/subscriptions",
      "organizations_url": "https://api.github.com/users/tikael1011/orgs",
      "repos_url": "https://api.github.com/users/tikael1011/repos",
      "events_url": "https://api.github.com/users/tikael1011/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tikael1011/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T18:40:10Z",
    "updated_at": "2019-02-13T18:40:10Z",
    "author_association": "NONE",
    "body": "yes, in 0.23.4, it throws 'KeyError', which is correct/expected since not all entries can be found in df, yet in 0.24.1 it throws too many indexers error. An easy go-around would be to catch new exception as well (my code already deal with KeyError) yet the real problem is why the error path changed?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463396443",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-463396443",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 463396443,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzM5NjQ0Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T22:11:48Z",
    "updated_at": "2019-02-13T22:11:48Z",
    "author_association": "MEMBER",
    "body": "OK, just wanted to make sure I fully understand the issue. \r\n\r\n>  the real problem is why the error path changed?\r\n\r\nThat was certainly not on purpose I think, that is a bug."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463397183",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-463397183",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 463397183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzM5NzE4Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T22:14:12Z",
    "updated_at": "2019-02-13T22:14:12Z",
    "author_association": "MEMBER",
    "body": "cc @toobaz in case you might have an idea from the top of your head what we might have changed."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463397783",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25236#issuecomment-463397783",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25236",
    "id": 463397783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzM5Nzc4Mw==",
    "user": {
      "login": "tikael1011",
      "id": 11649522,
      "node_id": "MDQ6VXNlcjExNjQ5NTIy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11649522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tikael1011",
      "html_url": "https://github.com/tikael1011",
      "followers_url": "https://api.github.com/users/tikael1011/followers",
      "following_url": "https://api.github.com/users/tikael1011/following{/other_user}",
      "gists_url": "https://api.github.com/users/tikael1011/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tikael1011/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tikael1011/subscriptions",
      "organizations_url": "https://api.github.com/users/tikael1011/orgs",
      "repos_url": "https://api.github.com/users/tikael1011/repos",
      "events_url": "https://api.github.com/users/tikael1011/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tikael1011/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T22:16:10Z",
    "updated_at": "2019-02-13T22:16:10Z",
    "author_association": "NONE",
    "body": "The error path certainly changed in my script, yet I can't tell it is the error path itself or something else. (Btw, iirc, I tested loc/iloc, at/iat yet all of them have the 'error path changed' problem.)"
  }
]
