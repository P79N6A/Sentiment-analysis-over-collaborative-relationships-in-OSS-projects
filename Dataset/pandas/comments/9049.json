[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/66365908",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9049#issuecomment-66365908",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9049",
    "id": 66365908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzY1OTA4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-09T21:58:34Z",
    "updated_at": "2014-12-09T21:58:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "so, these are 'exactly' the same, except for a final step that happens in the `.sum(level=....)` case.\n\nTheir is a reindex that happens to expand the multi-output groupby space (e.g. A and B) in this case. This was necessary for some categorical groupings. I don't think this should be needed in this case (as the reindex ends up doing nothing here, but _constructing_ the MultiIndex actually takes some time, as its independently constructed.)\n\nSo this is a bug/perf issue.\n\nWelcome for you to have a look. look at `core/groupby/DataFrameGroupBy/_reindex_output`. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/66396275",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9049#issuecomment-66396275",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9049",
    "id": 66396275,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk2Mjc1",
    "user": {
      "login": "xdliao",
      "id": 5827110,
      "node_id": "MDQ6VXNlcjU4MjcxMTA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5827110?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xdliao",
      "html_url": "https://github.com/xdliao",
      "followers_url": "https://api.github.com/users/xdliao/followers",
      "following_url": "https://api.github.com/users/xdliao/following{/other_user}",
      "gists_url": "https://api.github.com/users/xdliao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xdliao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xdliao/subscriptions",
      "organizations_url": "https://api.github.com/users/xdliao/orgs",
      "repos_url": "https://api.github.com/users/xdliao/repos",
      "events_url": "https://api.github.com/users/xdliao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xdliao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-10T02:43:10Z",
    "updated_at": "2014-12-10T03:58:57Z",
    "author_association": "NONE",
    "body": "I did confirm that returning the result immediately in the _reindex_output solved the problem for this case (as a hack). I printed out the value of \"[ping._was_factor for ping in groupings]\".\nIt seems that in the sim(level=) call, \"ping._was_factor \" were True for all groupings,\nin the regular d.groupby().sum() call, _reindex_output() is also called but \"ping._was_factor \" were False.\nWhy the same grouping are treated differently?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/66437858",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9049#issuecomment-66437858",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9049",
    "id": 66437858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDM3ODU4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-10T11:20:25Z",
    "updated_at": "2014-12-10T11:20:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeh, I think something is wrong. This should _only_ be ncessary for a Categorical type of grouping (where you want group expansion). Not 100% sure why it hits this path. \n\nI would put a halt at the end of _reindex_outpout (e.g. after all the ifs) and see where it hits in the test suite. Then for the case above see whats same/different.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68451469",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9049#issuecomment-68451469",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9049",
    "id": 68451469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDUxNDY5",
    "user": {
      "login": "ledmonster",
      "id": 975452,
      "node_id": "MDQ6VXNlcjk3NTQ1Mg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/975452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ledmonster",
      "html_url": "https://github.com/ledmonster",
      "followers_url": "https://api.github.com/users/ledmonster/followers",
      "following_url": "https://api.github.com/users/ledmonster/following{/other_user}",
      "gists_url": "https://api.github.com/users/ledmonster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ledmonster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ledmonster/subscriptions",
      "organizations_url": "https://api.github.com/users/ledmonster/orgs",
      "repos_url": "https://api.github.com/users/ledmonster/repos",
      "events_url": "https://api.github.com/users/ledmonster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ledmonster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-31T16:17:43Z",
    "updated_at": "2014-12-31T16:17:43Z",
    "author_association": "NONE",
    "body": "I also got same issue, and made a pull request. Please check it out.\n"
  }
]
