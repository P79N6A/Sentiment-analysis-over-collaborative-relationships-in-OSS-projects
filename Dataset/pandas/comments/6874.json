[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40266647",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40266647",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40266647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY2NjQ3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T00:26:35Z",
    "updated_at": "2014-04-12T00:26:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "seems ok to me\n\n```\nIn [7]: x = Series(np.random.randn(100))\n\nIn [8]: pd.ols(y=x,x=x)\nOut[8]: \n\n-------------------------Summary of Regression Analysis-------------------------\n\nFormula: Y ~ <x> + <intercept>\n\nNumber of Observations:         100\nNumber of Degrees of Freedom:   2\n\nR-squared:         1.0000\nAdj R-squared:     1.0000\n\nRmse:              0.0000\n\nF-stat (1, 98):        inf, p-value:     0.0000\n\nDegrees of Freedom: model 1, resid 98\n\n-----------------------Summary of Estimated Coefficients------------------------\n      Variable       Coef    Std Err     t-stat    p-value    CI 2.5%   CI 97.5%\n--------------------------------------------------------------------------------\n             x     1.0000     0.0000 45335499035463352.00     0.0000     1.0000     1.0000\n     intercept     0.0000     0.0000       0.65     0.5184    -0.0000     0.0000\n---------------------------------End of Summary---------------------------------\n\nIn [9]: pd.ols(y=x,x=x).beta\nOut[9]: \nx            1.000000e+00\nintercept    1.277919e-17\ndtype: float64\n```\n\n```\nIn [12]: sm.ols(formula=\"x ~ x\", data=x).fit().params\nOut[12]: \nIntercept    3.237783e-17\nx            1.000000e+00\ndtype: float64\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40267689",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40267689",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40267689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY3Njg5",
    "user": {
      "login": "edwinhu",
      "id": 174409,
      "node_id": "MDQ6VXNlcjE3NDQwOQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/174409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edwinhu",
      "html_url": "https://github.com/edwinhu",
      "followers_url": "https://api.github.com/users/edwinhu/followers",
      "following_url": "https://api.github.com/users/edwinhu/following{/other_user}",
      "gists_url": "https://api.github.com/users/edwinhu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edwinhu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edwinhu/subscriptions",
      "organizations_url": "https://api.github.com/users/edwinhu/orgs",
      "repos_url": "https://api.github.com/users/edwinhu/repos",
      "events_url": "https://api.github.com/users/edwinhu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edwinhu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T01:03:31Z",
    "updated_at": "2014-04-12T01:03:31Z",
    "author_association": "NONE",
    "body": "I see the same thing using your example. However it seems the issue occurs when there are row labels. \n\nIs this the expected behavior?\n\n```\nIn [1]: a = pd.Series(np.random.randn(5),index=['a','a','a','a','a'])\nOut [1]: \n\n-------------------------Summary of Regression Analysis-------------------------\n\nFormula: Y ~ <x> + <intercept>\n\nNumber of Observations:         25\nNumber of Degrees of Freedom:   2\n\nR-squared:        -0.0000\nAdj R-squared:    -0.0435\n\nRmse:              0.5372\n\nF-stat (1, 23):    -0.0000, p-value:     1.0000\n\nDegrees of Freedom: model 1, resid 23\n\n-----------------------Summary of Estimated Coefficients------------------------\n      Variable       Coef    Std Err     t-stat    p-value    CI 2.5%   CI 97.5%\n--------------------------------------------------------------------------------\n             x     0.0000     0.2085       0.00     1.0000    -0.4087     0.4087\n     intercept     0.0832     0.1088       0.76     0.4523    -0.1301     0.2965\n---------------------------------End of Summary---------------------------------\n\nIn [2]: b = a.reset_index()\n\nIn [3]: pd.ols(y=b[0],x=b[0])\nOut [3]: \n\n-------------------------Summary of Regression Analysis-------------------------\n\nFormula: Y ~ <x> + <intercept>\n\nNumber of Observations:         5\nNumber of Degrees of Freedom:   2\n\nR-squared:         1.0000\nAdj R-squared:     1.0000\n\nRmse:              0.0000\n\nF-stat (1, 3):        inf, p-value:     0.0000\n\nDegrees of Freedom: model 1, resid 3\n\n-----------------------Summary of Estimated Coefficients------------------------\n      Variable       Coef    Std Err     t-stat    p-value    CI 2.5%   CI 97.5%\n--------------------------------------------------------------------------------\n             x     1.0000     0.0000 11982830741228190.00     0.0000     1.0000     1.0000\n     intercept     0.0000     0.0000       0.64     0.5693    -0.0000     0.0000\n---------------------------------End of Summary---------------------------------\n\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40267889",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40267889",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40267889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY3ODg5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T01:11:55Z",
    "updated_at": "2014-04-12T01:11:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "have duplicate labels rarely makes sense\nhow would expect it to align the data?\n\nshould prob raise an error with a duplicate index\n\nI don't know what statsmodels does in this case\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40267914",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40267914",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40267914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY3OTE0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T01:12:43Z",
    "updated_at": "2014-04-12T01:12:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jseabold does patsy/sm align on the index?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40268074",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40268074",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40268074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY4MDc0",
    "user": {
      "login": "edwinhu",
      "id": 174409,
      "node_id": "MDQ6VXNlcjE3NDQwOQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/174409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edwinhu",
      "html_url": "https://github.com/edwinhu",
      "followers_url": "https://api.github.com/users/edwinhu/followers",
      "following_url": "https://api.github.com/users/edwinhu/following{/other_user}",
      "gists_url": "https://api.github.com/users/edwinhu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edwinhu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edwinhu/subscriptions",
      "organizations_url": "https://api.github.com/users/edwinhu/orgs",
      "repos_url": "https://api.github.com/users/edwinhu/repos",
      "events_url": "https://api.github.com/users/edwinhu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edwinhu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T01:19:51Z",
    "updated_at": "2014-04-12T01:20:28Z",
    "author_association": "NONE",
    "body": "I noticed this issue when using groupby and ols with an indexed DataFrame.\n\nGroupBy splits have \"duplicate\" row labels. I noticed this issue when\napplying pd.ols to a GroupBy object.\n\nIt seems that sm correctly ignores the duplicate row labels.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40268309",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40268309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40268309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY4MzA5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T01:29:44Z",
    "updated_at": "2014-04-12T01:29:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "would be helpful to show some code\ngroupby in general won't produce a duplicate indexed frame \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40268721",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40268721",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40268721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY4NzIx",
    "user": {
      "login": "jseabold",
      "id": 296164,
      "node_id": "MDQ6VXNlcjI5NjE2NA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/296164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jseabold",
      "html_url": "https://github.com/jseabold",
      "followers_url": "https://api.github.com/users/jseabold/followers",
      "following_url": "https://api.github.com/users/jseabold/following{/other_user}",
      "gists_url": "https://api.github.com/users/jseabold/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jseabold/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jseabold/subscriptions",
      "organizations_url": "https://api.github.com/users/jseabold/orgs",
      "repos_url": "https://api.github.com/users/jseabold/repos",
      "events_url": "https://api.github.com/users/jseabold/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jseabold/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T01:47:24Z",
    "updated_at": "2014-04-12T01:47:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "We check for alignment. \n\nhttps://github.com/statsmodels/statsmodels/blob/master/statsmodels/base/data.py#L308\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/40268815",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-40268815",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 40268815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY4ODE1",
    "user": {
      "login": "edwinhu",
      "id": 174409,
      "node_id": "MDQ6VXNlcjE3NDQwOQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/174409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edwinhu",
      "html_url": "https://github.com/edwinhu",
      "followers_url": "https://api.github.com/users/edwinhu/followers",
      "following_url": "https://api.github.com/users/edwinhu/following{/other_user}",
      "gists_url": "https://api.github.com/users/edwinhu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edwinhu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edwinhu/subscriptions",
      "organizations_url": "https://api.github.com/users/edwinhu/orgs",
      "repos_url": "https://api.github.com/users/edwinhu/repos",
      "events_url": "https://api.github.com/users/edwinhu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edwinhu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-04-12T01:51:07Z",
    "updated_at": "2014-04-12T01:51:07Z",
    "author_association": "NONE",
    "body": "Sure. My data is organized by id and date. I have the dataframe indexed by id. It looks something like this (without the date column):\n\n```\na = pd.Series(np.random.randn(5),index=['a','a','a','a','a'])\nb = pd.Series(np.random.randn(5),index=['b','b','b','b','b'])\n\nx = a.append(b)\n\ngrp = x.groupby(level=0)\n\ngrp.apply(lambda x: pd.ols(y=x,x=x).beta)\n\na  x            0.000000e+00\n   intercept    9.327435e-02\nb  x           -8.673617e-17\n   intercept    3.037757e-01\ndtype: float64\n\nsm.ols(formula=\"x ~ x\",data=x).fit().params\n\nIntercept    6.245005e-17\nx            1.000000e+00\ndtype: float64\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/77760469",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-77760469",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 77760469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzYwNDY5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-08T16:47:48Z",
    "updated_at": "2015-03-08T16:47:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "refering to statsmodels as this functionaility is not supported (not deprecated either as of yet).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/183258401",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-183258401",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 183258401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzI1ODQwMQ==",
    "user": {
      "login": "rsdenijs",
      "id": 3237939,
      "node_id": "MDQ6VXNlcjMyMzc5Mzk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3237939?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rsdenijs",
      "html_url": "https://github.com/rsdenijs",
      "followers_url": "https://api.github.com/users/rsdenijs/followers",
      "following_url": "https://api.github.com/users/rsdenijs/following{/other_user}",
      "gists_url": "https://api.github.com/users/rsdenijs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rsdenijs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rsdenijs/subscriptions",
      "organizations_url": "https://api.github.com/users/rsdenijs/orgs",
      "repos_url": "https://api.github.com/users/rsdenijs/repos",
      "events_url": "https://api.github.com/users/rsdenijs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rsdenijs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-12T10:02:17Z",
    "updated_at": "2016-02-12T10:02:17Z",
    "author_association": "NONE",
    "body": "What is the status of this issue? \nDuplicate indices silently mess up the number of observations resulting model. I guess a check for df.index.is_unique would solve this?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/183286353",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6874#issuecomment-183286353",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6874",
    "id": 183286353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzI4NjM1Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-12T11:28:44Z",
    "updated_at": "2016-02-12T11:28:44Z",
    "author_association": "MEMBER",
    "body": "@rsdenijs As @jreback pointed out in his last comment, this is not supported anymore in pandas (they will also be effectively deprecated in the coming release, see https://github.com/pydata/pandas/pull/11898). So the status of this issue is that we do not plan to take any action on this.\n\nCan you use statsmodels for your use case? (for OLS everything should be in statsmodels, for the other functions in pandas there are still some things missing in statsmodels: https://github.com/statsmodels/statsmodels/issues/2745)\n"
  }
]
