[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/38456612",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6698#issuecomment-38456612",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6698",
    "id": 38456612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDU2NjEy",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T15:17:30Z",
    "updated_at": "2014-03-24T15:17:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just for the record: using this code works in both 0.11 and 0.13:\n\n```\ndef _top10cites2(s):\n        m = s.quantile(q=0.9)\n        return (s >= m).astype(int)\n\ndf[[\"a\",\"c\",\"group\"]].groupby(\"group\").transform(_top10cites2)[\"a\"]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/38457295",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6698#issuecomment-38457295",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6698",
    "id": 38457295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDU3Mjk1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T15:22:42Z",
    "updated_at": "2014-03-24T15:22:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "You can get what you want by just stacking and resetting.\n\nI think 0.11 was not correct.\n\n```\nIn [16]: df[[\"a\",\"c\",\"group\"]].groupby(\"group\").apply(_top10cites).stack().reset_index()\nOut[16]: \n   group   a  0\n0      a   0  1\n1      a   4  0\n2      a   8  0\n3      a  12  0\n4      a  16  0\n5      b   0  0\n6      b   4  0\n7      b   8  0\n8      b  12  1\n9      b  16  0\n10     c   0  0\n11     c   4  0\n12     c   8  0\n13     c  12  0\n14     c  16  1\n15     d   0  0\n16     d   4  0\n17     d   8  0\n18     d  12  0\n19     d  16  1\n\n[20 rows x 3 columns]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/38478164",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6698#issuecomment-38478164",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6698",
    "id": 38478164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDc4MTY0",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T17:57:56Z",
    "updated_at": "2014-03-24T17:58:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "If that was an accident, that I got the right result in 0.11, then please close. I also think that the \"transform\" looks much cleaner (I actually had problems to understand the black magic why it worked...).\n\nThe above is not right, as I want to merge this into the existing dataframe, so the index has to be preserved (which it did in 0.11). So the complete code reads something like `df[\"newcol\"] = df[\"a\", \"group\"].groupby(\"group\")....`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/38478783",
    "html_url": "https://github.com/pandas-dev/pandas/issues/6698#issuecomment-38478783",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6698",
    "id": 38478783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDc4Nzgz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-24T18:02:54Z",
    "updated_at": "2014-03-24T18:02:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "you can use `filter` for much of this as well.\n"
  }
]
