[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353181130",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-353181130",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 353181130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzE4MTEzMA==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-20T21:00:36Z",
    "updated_at": "2017-12-20T21:00:36Z",
    "author_association": "MEMBER",
    "body": "+1 on the idea. Some cases to think about: pd.NaT, np.nan, anything else where x != x"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353277171",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-353277171",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 353277171,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzI3NzE3MQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-21T07:21:38Z",
    "updated_at": "2017-12-21T08:44:11Z",
    "author_association": "MEMBER",
    "body": "> anything else where x != x\r\n\r\nI see only three options:\r\n1. we don't do anything: the user just knows that passing ``np.nan`` as level name is stupid because ``np.nan != np.nan``\r\n2. we build (and keep updated) an ``Index`` out of level names, and use it to access levels with the same rules with which you access items in a ``Series``\r\n3. just like ``None``, ``np.nan`` and friends _can_ be used as level names and _can_ be duplicated but _cannot_ be used to refer to the levels (e.g. ``get_level_values(np.nan)`` will immediately raise). We describe this behavior in the docstring of ``get_level_values()`` and in all other methods which accept a level name, we state \"see ``get_level_values()``\"\r\n\r\nThe current PR does 1., I would be OK with 3., while I'm skeptical that 2. is worth the effort.\r\n\r\n(If we go for 3, I would leave it to a separate PR)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353620713",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-353620713",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 353620713,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzYyMDcxMw==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2017-12-22T15:34:57Z",
    "updated_at": "2017-12-29T10:40:25Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18882?src=pr&el=h1) Report\n> Merging [#18882](https://codecov.io/gh/pandas-dev/pandas/pull/18882?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/4883a432a21e65d998a57708e20196627f7c60d7?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/18882/graphs/tree.svg?src=pr&token=eZ4WkYLtcO&height=150&width=650)](https://codecov.io/gh/pandas-dev/pandas/pull/18882?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #18882      +/-   ##\n==========================================\n+ Coverage   91.58%   91.58%   +<.01%     \n==========================================\n  Files         150      150              \n  Lines       48967    48962       -5     \n==========================================\n- Hits        44846    44842       -4     \n+ Misses       4121     4120       -1\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `89.94% <100%> (ø)` | :arrow_up: |\n| #single | `41.73% <60%> (ø)` | :arrow_up: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/18882?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/reshape/reshape.py](https://codecov.io/gh/pandas-dev/pandas/pull/18882/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvcmVzaGFwZS9yZXNoYXBlLnB5) | `100% <ø> (ø)` | :arrow_up: |\n| [pandas/core/indexes/multi.py](https://codecov.io/gh/pandas-dev/pandas/pull/18882/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9tdWx0aS5weQ==) | `96.22% <100%> (-0.08%)` | :arrow_down: |\n| [pandas/util/testing.py](https://codecov.io/gh/pandas-dev/pandas/pull/18882/diff?src=pr&el=tree#diff-cGFuZGFzL3V0aWwvdGVzdGluZy5weQ==) | `84.9% <0%> (+0.21%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18882?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18882?src=pr&el=footer). Last update [4883a43...53cb26c](https://codecov.io/gh/pandas-dev/pandas/pull/18882?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353624500",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-353624500",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 353624500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzYyNDUwMA==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T15:54:45Z",
    "updated_at": "2017-12-22T15:54:45Z",
    "author_association": "MEMBER",
    "body": "rebased, ping"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353753870",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-353753870",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 353753870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc1Mzg3MA==",
    "user": {
      "login": "pep8speaks",
      "id": 24736507,
      "node_id": "MDQ6VXNlcjI0NzM2NTA3",
      "avatar_url": "https://avatars1.githubusercontent.com/u/24736507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pep8speaks",
      "html_url": "https://github.com/pep8speaks",
      "followers_url": "https://api.github.com/users/pep8speaks/followers",
      "following_url": "https://api.github.com/users/pep8speaks/following{/other_user}",
      "gists_url": "https://api.github.com/users/pep8speaks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pep8speaks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pep8speaks/subscriptions",
      "organizations_url": "https://api.github.com/users/pep8speaks/orgs",
      "repos_url": "https://api.github.com/users/pep8speaks/repos",
      "events_url": "https://api.github.com/users/pep8speaks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pep8speaks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T23:23:24Z",
    "updated_at": "2017-12-29T09:15:51Z",
    "author_association": "NONE",
    "body": "Hello @toobaz! Thanks for updating the PR.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCheers ! There are no PEP8 issues in this Pull Request. :beers: \n\n##### Comment last updated on December 29, 2017 at 09:15 Hours UTC"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354431381",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-354431381",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 354431381,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQzMTM4MQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T10:59:38Z",
    "updated_at": "2017-12-29T10:59:38Z",
    "author_association": "MEMBER",
    "body": "@jreback ping"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354453389",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-354453389",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 354453389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ1MzM4OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T14:34:20Z",
    "updated_at": "2017-12-29T14:34:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354665480",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18882#issuecomment-354665480",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18882",
    "id": 354665480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY2NTQ4MA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-01T17:37:29Z",
    "updated_at": "2018-01-01T17:47:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "FYI, this is causing failures on dask due to operations like:\r\n\r\n```python\r\nIn [1]: import dask.dataframe as dd\r\n\r\nIn [2]: import pandas as pd\r\n\r\nIn [3]:     pdf = pd.DataFrame({'a': [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n   ...:                         'b': [4, 5, 6, 3, 2, 1, 0, 0, 0]},\r\n   ...:                        index=[0, 1, 3, 5, 6, 8, 9, 9, 9]).set_index(\"a\")\r\n   ...:\r\n   ...:\r\n\r\nIn [4]: pdf.groupby(pdf.index).apply(lambda x: x.b)\r\nOut[4]:\r\na  a\r\n1  1    4\r\n2  2    5\r\n3  3    6\r\n4  4    3\r\n5  5    2\r\n6  6    1\r\n7  7    0\r\n8  8    0\r\n9  9    0\r\nName: b, dtype: int64\r\n```\r\n\r\nessentially, grouping by an index and doing a `.apply` that returns a `Series` whose index is the same as the original (at least the same name). This seems like a fairly common use-case.\r\n\r\nI think we should make this a warning for now and and raise later."
  }
]
