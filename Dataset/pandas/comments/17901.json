[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/337318560",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-337318560",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 337318560,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzMxODU2MA==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-17T18:09:03Z",
    "updated_at": "2017-10-17T18:09:03Z",
    "author_association": "MEMBER",
    "body": "A bit obscure, but `collections.deque` has the same behavior as `range` in this case:\r\n\r\n```python\r\nIn [3]: df + collections.deque([0, 1])\r\nOut[3]:\r\n     A    B\r\n0  1.0  1.0\r\n1  2.0  2.0\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/337531118",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-337531118",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 337531118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzUzMTExOA==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T09:51:44Z",
    "updated_at": "2017-10-18T09:51:44Z",
    "author_association": "MEMBER",
    "body": "Yeah, I bet this happens with anything which is (conceptually) 1-d but not recognized as list-like by pandas."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/337544885",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-337544885",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 337544885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzU0NDg4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T10:33:40Z",
    "updated_at": "2017-10-18T10:33:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "must be a too specific path somewhere, these are both considered list-like (ala ``is_list_like``)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/337618593",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-337618593",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 337618593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzYxODU5Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T14:54:01Z",
    "updated_at": "2017-10-18T14:54:01Z",
    "author_association": "MEMBER",
    "body": "`is_list_like` indeed considers them as list-like (not saying that the actual code path is using `is_list_like`):\r\n\r\n```\r\nIn [38]: pd.api.types.is_list_like(range(3))\r\nOut[38]: True\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/337735255",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-337735255",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 337735255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzczNTI1NQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T21:36:37Z",
    "updated_at": "2017-10-18T21:36:37Z",
    "author_association": "MEMBER",
    "body": "OK, bet lost :-)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/337964021",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-337964021",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 337964021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzk2NDAyMQ==",
    "user": {
      "login": "elsander",
      "id": 11319980,
      "node_id": "MDQ6VXNlcjExMzE5OTgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11319980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsander",
      "html_url": "https://github.com/elsander",
      "followers_url": "https://api.github.com/users/elsander/followers",
      "following_url": "https://api.github.com/users/elsander/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsander/subscriptions",
      "organizations_url": "https://api.github.com/users/elsander/orgs",
      "repos_url": "https://api.github.com/users/elsander/repos",
      "events_url": "https://api.github.com/users/elsander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsander/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T16:31:51Z",
    "updated_at": "2017-10-19T16:31:51Z",
    "author_association": "NONE",
    "body": "I'm interested in working on this bug, but I'm struggling to figure out where the relevant code is. There's no `__add__` method given for the `pd.DataFrame` or `NDFrame` classes, so I suppose it's inherited?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/337983531",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-337983531",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 337983531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzk4MzUzMQ==",
    "user": {
      "login": "elsander",
      "id": 11319980,
      "node_id": "MDQ6VXNlcjExMzE5OTgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11319980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsander",
      "html_url": "https://github.com/elsander",
      "followers_url": "https://api.github.com/users/elsander/followers",
      "following_url": "https://api.github.com/users/elsander/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsander/subscriptions",
      "organizations_url": "https://api.github.com/users/elsander/orgs",
      "repos_url": "https://api.github.com/users/elsander/repos",
      "events_url": "https://api.github.com/users/elsander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsander/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T17:43:37Z",
    "updated_at": "2017-10-19T17:43:37Z",
    "author_association": "NONE",
    "body": "Ah-- looks like the factory is in `core/ops.py`. I'll take a look at this."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338005207",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-338005207",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 338005207,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODAwNTIwNw==",
    "user": {
      "login": "elsander",
      "id": 11319980,
      "node_id": "MDQ6VXNlcjExMzE5OTgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11319980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsander",
      "html_url": "https://github.com/elsander",
      "followers_url": "https://api.github.com/users/elsander/followers",
      "following_url": "https://api.github.com/users/elsander/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsander/subscriptions",
      "organizations_url": "https://api.github.com/users/elsander/orgs",
      "repos_url": "https://api.github.com/users/elsander/repos",
      "events_url": "https://api.github.com/users/elsander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsander/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T19:00:59Z",
    "updated_at": "2017-10-19T19:00:59Z",
    "author_association": "NONE",
    "body": "Looks like the issue is that a list has an `ndim` attribute, but a range doesn't, which means that they are handled differently in this block from `core.internals.Block.eval()`:\r\n\r\n```\r\n        is_transposed = False\r\n        if hasattr(other, 'ndim') and hasattr(values, 'ndim'):\r\n            if values.ndim != other.ndim:\r\n                is_transposed = True\r\n            else:\r\n                if values.shape == other.shape[::-1]:\r\n                    is_transposed = True\r\n                elif values.shape[0] == other.shape[-1]:\r\n                    is_transposed = True\r\n```\r\n\r\nOne approach might be something like this:\r\n\r\n```\r\nimport collections\r\nif isinstance(other, collections.Iterable) and not hasattr(other, 'ndim'):\r\n    other = list(other)\r\n```\r\n\r\nBut I imagine this could introduce other gotchas and possibly hurt performance."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338017407",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-338017407",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 338017407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODAxNzQwNw==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T19:50:01Z",
    "updated_at": "2017-10-19T19:54:18Z",
    "author_association": "MEMBER",
    "body": "@elsander : I've got a fix for this that I'm in the process of finalizing, but if you'd rather work on it I'd be fine with that.  From what I can tell, the root cause appears to be pandas' alignment process prior to when addition/multiplication/etc occurs:\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/a2e54006218c824d562e43ac5092e30600f6e863/pandas/core/ops.py#L1150-L1151\r\n\r\nSpecifically, the check here is a bit too narrow:\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/a2e54006218c824d562e43ac5092e30600f6e863/pandas/core/ops.py#L1168-L1169\r\n\r\nBasically I swapped this with `is_list_like(right)` and excluded `DataFrame`/`Series` (since `is_list_like` catches them, but we don't care about casting those).  Also moved the check against `ndarray` to be before the `is_list_like` check since `is_list_like` catches `ndarray` but there's slightly different logic for `ndarray` (and nested the ndim == 0 case inside the `ndarray` check so it didn't hit the subsequent `is_list_like` check) .  \r\n\r\nCould be other workarounds though, so not trying to suggest what I did is the \"best\" approach."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338024384",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-338024384",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 338024384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODAyNDM4NA==",
    "user": {
      "login": "elsander",
      "id": 11319980,
      "node_id": "MDQ6VXNlcjExMzE5OTgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11319980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsander",
      "html_url": "https://github.com/elsander",
      "followers_url": "https://api.github.com/users/elsander/followers",
      "following_url": "https://api.github.com/users/elsander/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsander/subscriptions",
      "organizations_url": "https://api.github.com/users/elsander/orgs",
      "repos_url": "https://api.github.com/users/elsander/repos",
      "events_url": "https://api.github.com/users/elsander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsander/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T20:13:46Z",
    "updated_at": "2017-10-19T20:13:46Z",
    "author_association": "NONE",
    "body": "@jschendel if you have a fix in progress, go for it! I didn't have a good workaround in mind."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/338056862",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17901#issuecomment-338056862",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17901",
    "id": 338056862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODA1Njg2Mg==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T22:34:56Z",
    "updated_at": "2017-10-19T22:34:56Z",
    "author_association": "MEMBER",
    "body": "@elsander : Thanks!  Didn't mean to jump in and steal away the issue.  I'd be happy to provide input or do code review for any other issues you want to work on (and not steal away the issue!).   "
  }
]
