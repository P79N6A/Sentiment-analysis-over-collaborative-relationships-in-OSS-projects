[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/438501001",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23680#issuecomment-438501001",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23680",
    "id": 438501001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODUwMTAwMQ==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-14T01:17:01Z",
    "updated_at": "2018-11-14T01:17:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually, I was only grepping into the `tests`, but that may have been not creative enough...\r\n\r\nFound the following in `pandas/core/frame.py`:\r\n```\r\n        Examples\r\n        --------\r\n        >>> df = pd.DataFrame(data={'col1': [1, 2], 'col2': [3, 4]})\r\n        >>> df.to_parquet('df.parquet.gzip', compression='gzip')\r\n        >>> pd.read_parquet('df.parquet.gzip')\r\n           col1  col2\r\n        0     1     3\r\n        1     2     4\r\n```\r\n\r\n@datapythonista Could it be that the ResourceWarning is coming form the doctests? This would make sense to me, because it always, *always* happens only in the travis-36 lint build."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/438588326",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23680#issuecomment-438588326",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23680",
    "id": 438588326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODU4ODMyNg==",
    "user": {
      "login": "datapythonista",
      "id": 10058240,
      "node_id": "MDQ6VXNlcjEwMDU4MjQw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10058240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/datapythonista",
      "html_url": "https://github.com/datapythonista",
      "followers_url": "https://api.github.com/users/datapythonista/followers",
      "following_url": "https://api.github.com/users/datapythonista/following{/other_user}",
      "gists_url": "https://api.github.com/users/datapythonista/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/datapythonista/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/datapythonista/subscriptions",
      "organizations_url": "https://api.github.com/users/datapythonista/orgs",
      "repos_url": "https://api.github.com/users/datapythonista/repos",
      "events_url": "https://api.github.com/users/datapythonista/events{/privacy}",
      "received_events_url": "https://api.github.com/users/datapythonista/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-14T09:04:08Z",
    "updated_at": "2018-11-14T09:04:08Z",
    "author_association": "MEMBER",
    "body": "@h-vetinari I'm not sure where that error comes from.\r\n\r\nIn #22854 I'm moving the doctests to azure, and after that I should be clear if the warning is generated in the doctests, as the logs for them will be displayed separate from the rest.\r\n\r\nIf the problem is in the code you show, that should be fixed in #23201, as we should skip those lines from doctests."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/438815586",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23680#issuecomment-438815586",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23680",
    "id": 438815586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODgxNTU4Ng==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-14T20:57:13Z",
    "updated_at": "2018-11-14T20:57:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@datapythonista \r\nI verified that there's at least three-four individual issues:\r\n* the ResourceWarnings from `sys:1` with the open sockets (one of them should be from the parquet-s3 tests)\r\n* the ResourceWarning about `'df.parquet.gzip'`, which definitely comes from the doc test (disappeared when commenting out that example). The larger point is that this might be a resource leak in the parquet reader/writer, which isn't being caught anywhere else (and won't be solved by `# doctest: +SKIP`).\r\n* the warning bubbling into the test-output, which is solved by #23706\r\n\r\nGenerally speaking, I don't understand why ResourceWarnings are only caught with `PANDAS_TESTING_MODE=\"deprecate\"` -- I get that DeprecationWarnings can normally be avoided, but ResourceWarnings shouldn't be filtered out by default, IMO."
  }
]
