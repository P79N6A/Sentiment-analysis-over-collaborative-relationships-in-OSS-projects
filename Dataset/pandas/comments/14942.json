[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/268577196",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-268577196",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 268577196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODU3NzE5Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T17:04:35Z",
    "updated_at": "2016-12-21T17:04:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is a bug  in the internals.. happens with a much lower value than the size of the frame (e.g. 10000)  is enough to trigger. welcome to have you step thru and see where."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269883869",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-269883869",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 269883869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTg4Mzg2OQ==",
    "user": {
      "login": "clham",
      "id": 4166648,
      "node_id": "MDQ6VXNlcjQxNjY2NDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4166648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clham",
      "html_url": "https://github.com/clham",
      "followers_url": "https://api.github.com/users/clham/followers",
      "following_url": "https://api.github.com/users/clham/following{/other_user}",
      "gists_url": "https://api.github.com/users/clham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clham/subscriptions",
      "organizations_url": "https://api.github.com/users/clham/orgs",
      "repos_url": "https://api.github.com/users/clham/repos",
      "events_url": "https://api.github.com/users/clham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-31T22:19:06Z",
    "updated_at": "2017-01-01T17:32:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I've run this down to something that seems intentional [here](https://github.com/pandas-dev/pandas/blob/master/pandas/core/groupby.py#L3817) When we `groupby` using categoricals, we intentionally add back in unused bins.  The result is that the bucket count explodes (Cartesian product of ALL categories, plus other used indices).  I'm unclear from an API perspective why this is either useful or desired.  Happy to try to clean this up, either as a code fix, or as a documentation fix -- just need some background on the intent."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269912309",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-269912309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 269912309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTkxMjMwOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-01T17:48:48Z",
    "updated_at": "2017-01-01T17:48:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/pandas-dev/pandas/commit/ea0a13c172761348d08285a19ebf731cdabb2db3 was the original change.\r\n\r\nIIRC the logic was something like this.\r\n\r\nWe are grouping on (1 or more columns / groupands). Some of these could be categorical. We get a result set. Now we need to construct the result index that is a MultiIndex (if we have multiple groupands).\r\n\r\nI think the issue was that we needed to make sure that we have the original categories in the output (for each level that of the MultiIndex that was a categorical to start).\r\n\r\nI don't really remember why we did a cartesian product on this. I don't think this is necessary. We can just use the categories (levels) or the orginal groupand. I suspect if you change this something will break and you can then dig in an see why.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269999183",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-269999183",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 269999183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTk5OTE4Mw==",
    "user": {
      "login": "clham",
      "id": 4166648,
      "node_id": "MDQ6VXNlcjQxNjY2NDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4166648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clham",
      "html_url": "https://github.com/clham",
      "followers_url": "https://api.github.com/users/clham/followers",
      "following_url": "https://api.github.com/users/clham/following{/other_user}",
      "gists_url": "https://api.github.com/users/clham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clham/subscriptions",
      "organizations_url": "https://api.github.com/users/clham/orgs",
      "repos_url": "https://api.github.com/users/clham/repos",
      "events_url": "https://api.github.com/users/clham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-02T17:24:45Z",
    "updated_at": "2017-01-02T17:24:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Current tests are explicitly set to expect the product -- this is different behavior than non-categorical groupbys.  Are you comfortable with the API change (to make categorical groupbys smell the same as non-cats?), or is this better left alone and documented as a gotcha?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/269999514",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-269999514",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 269999514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTk5OTUxNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-02T17:27:52Z",
    "updated_at": "2017-01-02T17:27:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you point to tests that we would need to change?\r\n\r\neven though I put up an expl above. I am not sure this is actually necessary (to reindex to the cartesian product).\r\n\r\n@janschulz any thoughts here"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270001056",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-270001056",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 270001056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDAwMTA1Ng==",
    "user": {
      "login": "clham",
      "id": 4166648,
      "node_id": "MDQ6VXNlcjQxNjY2NDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4166648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clham",
      "html_url": "https://github.com/clham",
      "followers_url": "https://api.github.com/users/clham/followers",
      "following_url": "https://api.github.com/users/clham/following{/other_user}",
      "gists_url": "https://api.github.com/users/clham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clham/subscriptions",
      "organizations_url": "https://api.github.com/users/clham/orgs",
      "repos_url": "https://api.github.com/users/clham/repos",
      "events_url": "https://api.github.com/users/clham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-02T17:42:58Z",
    "updated_at": "2017-01-02T17:43:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here is where the test is expecting it: [test_categorical.py:L316-L325](https://github.com/pandas-dev/pandas/blob/master/pandas/tests/groupby/test_categorical.py#L316-L325)\r\n\r\nsome level of reindexing seems needed,(#13204), but perhaps something more like [this fix](https://github.com/pandas-dev/pandas/blob/master/pandas/core/groupby.py#L3843-L3868)\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270001297",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-270001297",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 270001297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDAwMTI5Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-02T17:45:07Z",
    "updated_at": "2017-01-02T17:45:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah this seems that we should simply reindex each level as needed (if needed). give it a try."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270005805",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-270005805",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 270005805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDAwNTgwNQ==",
    "user": {
      "login": "clham",
      "id": 4166648,
      "node_id": "MDQ6VXNlcjQxNjY2NDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4166648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clham",
      "html_url": "https://github.com/clham",
      "followers_url": "https://api.github.com/users/clham/followers",
      "following_url": "https://api.github.com/users/clham/following{/other_user}",
      "gists_url": "https://api.github.com/users/clham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clham/subscriptions",
      "organizations_url": "https://api.github.com/users/clham/orgs",
      "repos_url": "https://api.github.com/users/clham/repos",
      "events_url": "https://api.github.com/users/clham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-02T18:28:56Z",
    "updated_at": "2017-01-02T18:28:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "xref: #10484 and\r\n[groupby docs:NaN handling](http://pandas.pydata.org/pandas-docs/stable/groupby.html#na-and-nat-group-handling)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/271105347",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14942#issuecomment-271105347",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14942",
    "id": 271105347,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEwNTM0Nw==",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T19:44:00Z",
    "updated_at": "2017-01-07T19:44:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "sorry, no idea :-/"
  }
]
