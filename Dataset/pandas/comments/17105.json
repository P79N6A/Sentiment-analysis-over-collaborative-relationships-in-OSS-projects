[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/318678028",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17105#issuecomment-318678028",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17105",
    "id": 318678028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODY3ODAyOA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-28T15:08:09Z",
    "updated_at": "2017-07-28T15:08:09Z",
    "author_association": "MEMBER",
    "body": "> I am not sure if the code is legal with duplicates (I will filter duplicates in my code now). Nonetheless, I think a decent error message should be raised in such a case.\r\n\r\nWe generally would discourage against having duplicates, regardless if in the `index` or in `columns`.  That being said, I don't know exactly where we stand in terms of supporting duplicates like this.  So either we would have to support them better OR raise with a better error message as you said.\r\n\r\ncc @jreback @jorisvandenbossche "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/318683746",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17105#issuecomment-318683746",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17105",
    "id": 318683746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODY4Mzc0Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-28T15:26:39Z",
    "updated_at": "2017-07-28T15:26:39Z",
    "author_association": "MEMBER",
    "body": "I don't think there is a reason that this shouldn't work. Duplicate indices for certain operations are not supported (eg reindexing) and are often not advisable, but for basic indexing certainly supported. \r\nBTW, the *gettting* also works fine:\r\n\r\n```\r\nIn [139]: df.loc[trange[bool_idx], \"A\"]\r\nOut[139]: \r\n2017-01-01    0\r\n2017-01-05    0\r\n2017-01-05    0\r\nName: A, dtype: int64\r\n```\r\n\r\nso only when setting the value it fails.\r\n\r\nFurther, the equivalent example using an integer index also seems to work correctly:\r\n\r\n```\r\nIn [146]: df = pd.DataFrame(0, index=[1,2,3,4,5,5], columns=['A', 'B'])\r\n\r\nIn [147]: df\r\nOut[147]: \r\n   A  B\r\n1  0  0\r\n2  0  0\r\n3  0  0\r\n4  0  0\r\n5  0  0\r\n5  0  0\r\n\r\nIn [148]: df.loc[[1, 5], 'A'] += 1\r\n\r\nIn [149]: df\r\nOut[149]: \r\n   A  B\r\n1  1  0\r\n2  0  0\r\n3  0  0\r\n4  0  0\r\n5  1  0\r\n5  1  0\r\n```"
  }
]
