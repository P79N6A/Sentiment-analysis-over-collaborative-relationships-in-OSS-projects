[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479018624",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479018624",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479018624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTAxODYyNA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T14:20:15Z",
    "updated_at": "2019-04-02T14:20:15Z",
    "author_association": "MEMBER",
    "body": "You could probably also leverage `self._encoding` in the class since I see that used elsewhere. PRs welcome"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479030564",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479030564",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479030564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTAzMDU2NA==",
    "user": {
      "login": "hudcap",
      "id": 4990645,
      "node_id": "MDQ6VXNlcjQ5OTA2NDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4990645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hudcap",
      "html_url": "https://github.com/hudcap",
      "followers_url": "https://api.github.com/users/hudcap/followers",
      "following_url": "https://api.github.com/users/hudcap/following{/other_user}",
      "gists_url": "https://api.github.com/users/hudcap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hudcap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hudcap/subscriptions",
      "organizations_url": "https://api.github.com/users/hudcap/orgs",
      "repos_url": "https://api.github.com/users/hudcap/repos",
      "events_url": "https://api.github.com/users/hudcap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hudcap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T14:44:51Z",
    "updated_at": "2019-04-02T14:44:51Z",
    "author_association": "NONE",
    "body": "```python\r\ndef _set_encoding(self):\r\n    \"\"\"\r\n    Set string encoding which depends on file version\r\n    \"\"\"\r\n    if self.format_version < 118:\r\n        self._encoding = 'latin-1'\r\n    else:\r\n        self._encoding = 'utf-8'\r\n```\r\n@WillAyd from the above method, it seems that `self._encoding` is `'utf-8'` for version 118 files (like mine), so I don't think that will help.\r\nThere seems to be some conflict about which encoding these files use (see #21246), and I don't really understand what's going on..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479036421",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479036421",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479036421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTAzNjQyMQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T14:58:17Z",
    "updated_at": "2019-04-02T14:58:17Z",
    "author_association": "MEMBER",
    "body": "Not familiar enough with stata to guess, but from reading through linked PR it looks like this was intentional to make the encoding strict based off version\r\n\r\n@bashtage might have thoughts"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479051067",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479051067",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479051067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA1MTA2Nw==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:27:43Z",
    "updated_at": "2019-04-02T15:27:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "According to Stata these should be UTF-8.\r\n\r\n```\r\n    The value-label names associated with each variable are recorded as\r\n\r\n\r\n              <value_label_names>lbllist</value_label_names>\r\n\r\n\r\n    where lbllist is a sequence (array) of K 129-byte, \\0-terminated, UTF-8\r\n    label names.  Each name may be up to 32-characters in length.\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479051688",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479051688",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479051688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA1MTY4OA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:29:00Z",
    "updated_at": "2019-04-02T15:29:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "This file is a [118 format file](https://www.stata.com/help.cgi?dta#labelnames)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479056233",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479056233",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479056233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA1NjIzMw==",
    "user": {
      "login": "hudcap",
      "id": 4990645,
      "node_id": "MDQ6VXNlcjQ5OTA2NDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4990645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hudcap",
      "html_url": "https://github.com/hudcap",
      "followers_url": "https://api.github.com/users/hudcap/followers",
      "following_url": "https://api.github.com/users/hudcap/following{/other_user}",
      "gists_url": "https://api.github.com/users/hudcap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hudcap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hudcap/subscriptions",
      "organizations_url": "https://api.github.com/users/hudcap/orgs",
      "repos_url": "https://api.github.com/users/hudcap/repos",
      "events_url": "https://api.github.com/users/hudcap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hudcap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:37:34Z",
    "updated_at": "2019-04-02T15:37:34Z",
    "author_association": "NONE",
    "body": "This character is actually in the `value_label_table` as described [here](https://www.stata.com/help.cgi?dta#value_labels)\r\nThe byte in question maps to `'CURRENCY SIGN' (U+00A4)` (according to [fileformat.info](https://www.fileformat.info/info/unicode/char/00a4/index.htm)). I'm not sure why it's not considered valid Unicode. I've been trying to educate myself over the past hour, but this is a really confusing topic.\r\nI don't understand why\r\n\r\n```python\r\nb'\\xa4'.decode('utf-8')\r\n```\r\n\r\ndoes not work if it maps to `'CURRENCY SIGN' (U+00A4)`\r\nPlease forgive my ignorance."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479058138",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479058138",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479058138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA1ODEzOA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:41:22Z",
    "updated_at": "2019-04-02T15:41:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "It is a 2-byte encoding in utf-8.\r\n\r\nThe correctly formatted string should be \r\n\r\n`R.C.R.A. (42 U.S.C. \\xc2\\xa4 1978)`\r\n\r\nor just \r\n\r\n```\r\n'¤'.encode('utf-8')\r\nb'\\xc2\\xa4'\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479060350",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479060350",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479060350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA2MDM1MA==",
    "user": {
      "login": "hudcap",
      "id": 4990645,
      "node_id": "MDQ6VXNlcjQ5OTA2NDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4990645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hudcap",
      "html_url": "https://github.com/hudcap",
      "followers_url": "https://api.github.com/users/hudcap/followers",
      "following_url": "https://api.github.com/users/hudcap/following{/other_user}",
      "gists_url": "https://api.github.com/users/hudcap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hudcap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hudcap/subscriptions",
      "organizations_url": "https://api.github.com/users/hudcap/orgs",
      "repos_url": "https://api.github.com/users/hudcap/repos",
      "events_url": "https://api.github.com/users/hudcap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hudcap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:46:05Z",
    "updated_at": "2019-04-02T15:46:05Z",
    "author_association": "NONE",
    "body": "Thank you.\r\nSo does this mean that Stata messed it up?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479063204",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479063204",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479063204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA2MzIwNA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:51:49Z",
    "updated_at": "2019-04-02T15:51:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "It is not obvious to me. Stata does some undocumented things w.r.t. latin-1 encodings.\r\n\r\nThis block would make it work.\r\n```\r\n        try:\r\n            return s.decode('utf-8')\r\n        except UnicodeDecodeError:\r\n            return s.decode('unicode_escape')\r\n```\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479065492",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479065492",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479065492,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA2NTQ5Mg==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:56:34Z",
    "updated_at": "2019-04-02T15:56:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Further looking says yes, this is invalid unicode.  In particular, 0xA4 is an invalud Unicode encoding, so this qualifies as an undocumented Stata \"feature\""
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479067161",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479067161",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479067161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA2NzE2MQ==",
    "user": {
      "login": "hudcap",
      "id": 4990645,
      "node_id": "MDQ6VXNlcjQ5OTA2NDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4990645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hudcap",
      "html_url": "https://github.com/hudcap",
      "followers_url": "https://api.github.com/users/hudcap/followers",
      "following_url": "https://api.github.com/users/hudcap/following{/other_user}",
      "gists_url": "https://api.github.com/users/hudcap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hudcap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hudcap/subscriptions",
      "organizations_url": "https://api.github.com/users/hudcap/orgs",
      "repos_url": "https://api.github.com/users/hudcap/repos",
      "events_url": "https://api.github.com/users/hudcap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hudcap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T15:59:57Z",
    "updated_at": "2019-04-02T15:59:57Z",
    "author_association": "NONE",
    "body": "> It is not obvious to me. Stata does some undocumented things w.r.t. latin-1 encodings.\r\n> \r\n> This block would make it work.\r\n> \r\n> ```\r\n>         try:\r\n>             return s.decode('utf-8')\r\n>         except UnicodeDecodeError:\r\n>             return s.decode('unicode_escape')\r\n> ```\r\n\r\nI can confirm that this works on my end too.\r\nThank you.\r\n\r\nI think I'm starting to get a little more understanding of this.\r\nIn UTF-8, anything over 127 should  jump to 2+ bytes, because the one-byte UTF-8 characters can't start with a binary 1. Did I get that right?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479067493",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479067493",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479067493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA2NzQ5Mw==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T16:00:42Z",
    "updated_at": "2019-04-02T16:00:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "I fully thing happens for these values:\r\n\r\nCorrect unicode\r\n`11000010 10100100`\r\n\r\nThis is read as `000010100100` (since the leading 11 is discarded to incidate a multibyte encoding, and the leading 10 in the second byte is dropped) which is `10100100`.   `0xA4` is also `10100100`."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479068360",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479068360",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479068360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA2ODM2MA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T16:02:29Z",
    "updated_at": "2019-04-02T16:02:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@hudcap That is correct.  When a byte leads with 1 the first buyte must be `11xxxxxx` followed by a sequence of `10yyyyyy` bytes. The next byte that has the form `0zzzzzzz` (ascii point) or `11xxxxxx` (new unicode point) ends the varible encoding. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479091500",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479091500",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479091500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA5MTUwMA==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T16:52:27Z",
    "updated_at": "2019-04-02T16:52:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would support a patch used a try/except as above since this seems like a real Stata issue. I resaved the file using Stata 14.2 and got the same incorrect format. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479116816",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479116816",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479116816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTExNjgxNg==",
    "user": {
      "login": "hudcap",
      "id": 4990645,
      "node_id": "MDQ6VXNlcjQ5OTA2NDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4990645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hudcap",
      "html_url": "https://github.com/hudcap",
      "followers_url": "https://api.github.com/users/hudcap/followers",
      "following_url": "https://api.github.com/users/hudcap/following{/other_user}",
      "gists_url": "https://api.github.com/users/hudcap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hudcap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hudcap/subscriptions",
      "organizations_url": "https://api.github.com/users/hudcap/orgs",
      "repos_url": "https://api.github.com/users/hudcap/repos",
      "events_url": "https://api.github.com/users/hudcap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hudcap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T17:48:08Z",
    "updated_at": "2019-04-02T17:48:08Z",
    "author_association": "NONE",
    "body": "> It is not obvious to me. Stata does some undocumented things w.r.t. latin-1 encodings.\r\n> \r\n> This block would make it work.\r\n> \r\n> ```\r\n>         try:\r\n>             return s.decode('utf-8')\r\n>         except UnicodeDecodeError:\r\n>             return s.decode('unicode_escape')\r\n> ```\r\n\r\nWhat if a string has these invalid Unicode encodings as well as valid UTF-8?\r\nIs there any way to handle that?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479149895",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479149895",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479149895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTE0OTg5NQ==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T19:02:08Z",
    "updated_at": "2019-04-02T19:02:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "If they are not latin1 or ubicode then it will error, which is the right\ndecision since we don't know what the right value is.\n\nOn Tue, Apr 2, 2019, 18:48 Yehuda Davis <notifications@github.com> wrote:\n\n> It is not obvious to me. Stata does some undocumented things w.r.t.\n> latin-1 encodings.\n>\n> This block would make it work.\n>\n>         try:\n>             return s.decode('utf-8')\n>         except UnicodeDecodeError:\n>             return s.decode('unicode_escape')\n>\n> What if a string has these invalid Unicode encodings as well as valid\n> UTF-8?\n> Is there any way to handle that?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479116816>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AFU5Rcw5m_E_Lv-04JMeGBcJRuWjxjqSks5vc5fwgaJpZM4cYGcN>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479176895",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479176895",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479176895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTE3Njg5NQ==",
    "user": {
      "login": "hudcap",
      "id": 4990645,
      "node_id": "MDQ6VXNlcjQ5OTA2NDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4990645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hudcap",
      "html_url": "https://github.com/hudcap",
      "followers_url": "https://api.github.com/users/hudcap/followers",
      "following_url": "https://api.github.com/users/hudcap/following{/other_user}",
      "gists_url": "https://api.github.com/users/hudcap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hudcap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hudcap/subscriptions",
      "organizations_url": "https://api.github.com/users/hudcap/orgs",
      "repos_url": "https://api.github.com/users/hudcap/repos",
      "events_url": "https://api.github.com/users/hudcap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hudcap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T20:06:23Z",
    "updated_at": "2019-04-02T20:06:23Z",
    "author_association": "NONE",
    "body": "> I would support a patch used a try/except as above since this seems like a real Stata issue. I resaved the file using Stata 14.2 and got the same incorrect format.\r\n\r\nShould I make a PR?\r\nI'm fine with that, but it's your fix, and I don't want to step on your toes :)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479206009",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479206009",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479206009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTIwNjAwOQ==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T21:15:32Z",
    "updated_at": "2019-04-02T21:15:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "When you open this file in Stata, the bad character shows up as � (U+FFFD), so Stata also doesn't correctly read it (although it does read it).  I also cannot create a file that uses Latin-1 -- Stata correctly always writes unicode C2 A4 for the offending character, and pandas reads it correctly.  I wonder if this dataset was dumped using some other program.\r\n\r\nIt seems that this file is not a valid Stata file.\r\n\r\nUltimately it probably doesn't make sense to provide ad hoc paths that might support damaged files when the current implementation seems to do a good job with correctly formatted Stata files. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479216456",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479216456",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479216456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTIxNjQ1Ng==",
    "user": {
      "login": "hudcap",
      "id": 4990645,
      "node_id": "MDQ6VXNlcjQ5OTA2NDU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4990645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hudcap",
      "html_url": "https://github.com/hudcap",
      "followers_url": "https://api.github.com/users/hudcap/followers",
      "following_url": "https://api.github.com/users/hudcap/following{/other_user}",
      "gists_url": "https://api.github.com/users/hudcap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hudcap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hudcap/subscriptions",
      "organizations_url": "https://api.github.com/users/hudcap/orgs",
      "repos_url": "https://api.github.com/users/hudcap/repos",
      "events_url": "https://api.github.com/users/hudcap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hudcap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T21:42:27Z",
    "updated_at": "2019-04-02T21:42:27Z",
    "author_association": "NONE",
    "body": "Good point -- I completely agree. Given that the file is offered in many different formats, it's reasonable to assume that some other program created it.\r\nIn fact, I think that the character is supposed to be C2 A7 (section sign).\r\n\r\nI'll correct the file before importing it.\r\nIs there an intelligent way to do this?\r\nI can't simply replace all A4 with C2 A7, because there is at least one other instance of that byte code that is not meant to be Unicode, but rather part of a number."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/479241333",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25960#issuecomment-479241333",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25960",
    "id": 479241333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTI0MTMzMw==",
    "user": {
      "login": "bashtage",
      "id": 5585221,
      "node_id": "MDQ6VXNlcjU1ODUyMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5585221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bashtage",
      "html_url": "https://github.com/bashtage",
      "followers_url": "https://api.github.com/users/bashtage/followers",
      "following_url": "https://api.github.com/users/bashtage/following{/other_user}",
      "gists_url": "https://api.github.com/users/bashtage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bashtage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bashtage/subscriptions",
      "organizations_url": "https://api.github.com/users/bashtage/orgs",
      "repos_url": "https://api.github.com/users/bashtage/repos",
      "events_url": "https://api.github.com/users/bashtage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bashtage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T22:51:42Z",
    "updated_at": "2019-04-02T22:51:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Stata can produce these files, even though it is probably a big.  You can reproduce by opening a 117 file with latin-1 characters (ord>127), and then save as 118.  This is how the file above was produced.  The original large dataset is 117 and can be read file.  I made an example file in Stata and have added a fix in #25967"
  }
]
