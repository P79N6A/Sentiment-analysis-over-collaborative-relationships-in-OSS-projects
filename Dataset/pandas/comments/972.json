[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/4716127",
    "html_url": "https://github.com/pandas-dev/pandas/issues/972#issuecomment-4716127",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/972",
    "id": 4716127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTYxMjc=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-27T13:28:07Z",
    "updated_at": "2012-03-27T13:28:07Z",
    "author_association": "MEMBER",
    "body": "The problem is the semantics of integer indexes with pandas objects . Either pass `b.values` to scoreatpercentile or use `b.quantile(0.2)`. I think scipy.stats should be calling `np.asarray` on the input, you could raise an issue with them about it\n\nhttp://pandas.pydata.org/pandas-docs/stable/indexing.html#advanced-indexing-with-integer-labels\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/4716357",
    "html_url": "https://github.com/pandas-dev/pandas/issues/972#issuecomment-4716357",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/972",
    "id": 4716357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTYzNTc=",
    "user": {
      "login": "lodagro",
      "id": 1094464,
      "node_id": "MDQ6VXNlcjEwOTQ0NjQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1094464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lodagro",
      "html_url": "https://github.com/lodagro",
      "followers_url": "https://api.github.com/users/lodagro/followers",
      "following_url": "https://api.github.com/users/lodagro/following{/other_user}",
      "gists_url": "https://api.github.com/users/lodagro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lodagro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lodagro/subscriptions",
      "organizations_url": "https://api.github.com/users/lodagro/orgs",
      "repos_url": "https://api.github.com/users/lodagro/repos",
      "events_url": "https://api.github.com/users/lodagro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lodagro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-27T13:38:57Z",
    "updated_at": "2012-03-27T13:38:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you look at the scoreatpercentile code, issue can be spotted quickly.\nA sort is done and afterwards indexed. Since b has a int index, the issue here is label <> positional indexing on the Series.\n\n``` python\ndef scoreatpercentile(a, per, limit=()):\n    values = np.sort(a,axis=0)\n    if limit:\n        values = values[(limit[0] <= values) & (values <= limit[1])]\n\n    idx = per /100. * (values.shape[0] - 1)\n    if (idx % 1 == 0):\n        return values[idx]\n    else:\n        return _interpolate(values[int(idx)], values[int(idx) + 1], idx % 1)\n```\n\nIf you give b a non integer index, the issue does not show up.\n\n``` python\nIn [54]: b.index = pandas.util.testing.makeStringIndex(100)\n\nIn [55]: stats.scoreatpercentile(b, 1)\nOut[55]: 0.063875501677037982\n\nIn [56]: stats.scoreatpercentile(a, 1)\nOut[56]: 0.063875501677037982\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/4716452",
    "html_url": "https://github.com/pandas-dev/pandas/issues/972#issuecomment-4716452",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/972",
    "id": 4716452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTY0NTI=",
    "user": {
      "login": "isofer",
      "id": 368583,
      "node_id": "MDQ6VXNlcjM2ODU4Mw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/368583?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isofer",
      "html_url": "https://github.com/isofer",
      "followers_url": "https://api.github.com/users/isofer/followers",
      "following_url": "https://api.github.com/users/isofer/following{/other_user}",
      "gists_url": "https://api.github.com/users/isofer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isofer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isofer/subscriptions",
      "organizations_url": "https://api.github.com/users/isofer/orgs",
      "repos_url": "https://api.github.com/users/isofer/repos",
      "events_url": "https://api.github.com/users/isofer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isofer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-27T13:42:50Z",
    "updated_at": "2012-03-27T13:42:50Z",
    "author_association": "NONE",
    "body": "thanks.\nI'll raise the issue in scipy\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/4720630",
    "html_url": "https://github.com/pandas-dev/pandas/issues/972#issuecomment-4720630",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/972",
    "id": 4720630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjA2MzA=",
    "user": {
      "login": "jseabold",
      "id": 296164,
      "node_id": "MDQ6VXNlcjI5NjE2NA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/296164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jseabold",
      "html_url": "https://github.com/jseabold",
      "followers_url": "https://api.github.com/users/jseabold/followers",
      "following_url": "https://api.github.com/users/jseabold/following{/other_user}",
      "gists_url": "https://api.github.com/users/jseabold/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jseabold/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jseabold/subscriptions",
      "organizations_url": "https://api.github.com/users/jseabold/orgs",
      "repos_url": "https://api.github.com/users/jseabold/repos",
      "events_url": "https://api.github.com/users/jseabold/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jseabold/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-27T16:35:40Z",
    "updated_at": "2012-03-27T16:35:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is another instance of Series not quite being array-like. scoreatpercentile can't call asarray because it has to deal with array-like matrices and masked arrays. Maybe in the future if these go away (matrix likely isn't). Just thinking out loud, but it might be worth thinking if you really want to preserve the new sorted index for the default integer index in a Series/DataFrame. The again, it might not.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/4721762",
    "html_url": "https://github.com/pandas-dev/pandas/issues/972#issuecomment-4721762",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/972",
    "id": 4721762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjE3NjI=",
    "user": {
      "login": "isofer",
      "id": 368583,
      "node_id": "MDQ6VXNlcjM2ODU4Mw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/368583?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isofer",
      "html_url": "https://github.com/isofer",
      "followers_url": "https://api.github.com/users/isofer/followers",
      "following_url": "https://api.github.com/users/isofer/following{/other_user}",
      "gists_url": "https://api.github.com/users/isofer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isofer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isofer/subscriptions",
      "organizations_url": "https://api.github.com/users/isofer/orgs",
      "repos_url": "https://api.github.com/users/isofer/repos",
      "events_url": "https://api.github.com/users/isofer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isofer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-03-27T17:26:30Z",
    "updated_at": "2012-03-27T17:26:30Z",
    "author_association": "NONE",
    "body": "the reply of a scipy developer to this issue:\nhttp://projects.scipy.org/scipy/ticket/1634\n"
  }
]
