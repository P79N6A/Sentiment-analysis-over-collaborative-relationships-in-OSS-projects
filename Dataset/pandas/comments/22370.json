[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413277517",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22370#issuecomment-413277517",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22370",
    "id": 413277517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzI3NzUxNw==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T17:45:12Z",
    "updated_at": "2018-08-15T17:45:12Z",
    "author_association": "MEMBER",
    "body": "Could you post a minimally reproducible example?\r\n\r\nhttp://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413538736",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22370#issuecomment-413538736",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22370",
    "id": 413538736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzUzODczNg==",
    "user": {
      "login": "nbecker",
      "id": 117456,
      "node_id": "MDQ6VXNlcjExNzQ1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/117456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nbecker",
      "html_url": "https://github.com/nbecker",
      "followers_url": "https://api.github.com/users/nbecker/followers",
      "following_url": "https://api.github.com/users/nbecker/following{/other_user}",
      "gists_url": "https://api.github.com/users/nbecker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nbecker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nbecker/subscriptions",
      "organizations_url": "https://api.github.com/users/nbecker/orgs",
      "repos_url": "https://api.github.com/users/nbecker/repos",
      "events_url": "https://api.github.com/users/nbecker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nbecker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T13:06:35Z",
    "updated_at": "2018-08-16T13:06:35Z",
    "author_association": "NONE",
    "body": "```\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom math import log10\r\ncsv = '''n_streams,stream_pwr_offset\r\n1,2\r\n2,3.0\r\n'''\r\nimport io\r\ndf = pd.read_csv(io.StringIO(csv))\r\n\r\ndef find_pwr_offsets (n_streams, stream_pwr_offset):\r\n    if n_streams%2==0:\r\n        stream_pwr_offsets = [float((i//2)*2+1)/2 * (-1)**i * stream_pwr_offset for i in range (n_streams)]\r\n    else:\r\n        stream_pwr_offsets = [float(((i+1)//2)*2)/2 * (-1)**i * stream_pwr_offset for i in range (n_streams)]\r\n    return stream_pwr_offsets\r\n# Your code here\r\ndef pwr_offset (n_streams, delta):\r\n    print ('n_streams:', n_streams, 'delta:', delta)\r\n    return 10 * log10 (np.sum (10**(-0.1*e) for e in find_pwr_offsets (n_streams, delta)))\r\n\r\ndf['esno_correction2'] = df[['n_streams', 'stream_pwr_offset']].apply(lambda x: pwr_offset (x[0], x[1]), axis=1)\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413543668",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22370#issuecomment-413543668",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22370",
    "id": 413543668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzU0MzY2OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T13:22:57Z",
    "updated_at": "2018-08-16T13:22:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "When you apply your `lambda` to each row you get a `Series`. The common dtype for int and float is float, which is why you get floats.\r\n\r\nYou could cast to object prior to applying, or just avoid using `apply`. At a glance, it looks like all your code is vectorizable."
  }
]
