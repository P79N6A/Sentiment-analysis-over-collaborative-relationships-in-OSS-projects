[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/258237395",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-258237395",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 258237395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODIzNzM5NQ==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-03T18:44:40Z",
    "updated_at": "2016-11-03T18:44:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Can you add tests for the new features you added? (the compressed sources from urls)\n\n@jorisvandenbossche, do you want me to add xz/zip/bz2 compressed versions of `salary.table.csv` to [`pandas/io/tests/parser/data`](https://github.com/pandas-dev/pandas/tree/e1cdc4b83d7e970e9683056be722d5fa2a00fa70/pandas/io/tests/parser/data)? Also should I add my tests to [`pandas/io/tests/parser/test_network.py#L17-L35`](https://github.com/pandas-dev/pandas/blob/e1cdc4b83d7e970e9683056be722d5fa2a00fa70/pandas/io/tests/parser/test_network.py#L17-L35)?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/258252868",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-258252868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 258252868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODI1Mjg2OA==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-03T19:44:34Z",
    "updated_at": "2016-11-03T19:44:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Are we also going to have to do something to [`common.py#L239-L244`](https://github.com/pandas-dev/pandas/blob/e1cdc4b83d7e970e9683056be722d5fa2a00fa70/pandas/io/common.py#L239-L244)?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/258296577",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-258296577",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 258296577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODI5NjU3Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-03T22:45:25Z",
    "updated_at": "2016-11-03T22:45:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dhimmel yes that should be more general\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259839819",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-259839819",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 259839819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTgzOTgxOQ==",
    "user": {
      "login": "codecov-io",
      "id": 8655789,
      "node_id": "MDQ6VXNlcjg2NTU3ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8655789?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov-io",
      "html_url": "https://github.com/codecov-io",
      "followers_url": "https://api.github.com/users/codecov-io/followers",
      "following_url": "https://api.github.com/users/codecov-io/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov-io/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov-io/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov-io/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov-io/orgs",
      "repos_url": "https://api.github.com/users/codecov-io/repos",
      "events_url": "https://api.github.com/users/codecov-io/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov-io/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-10T23:35:16Z",
    "updated_at": "2016-12-13T20:29:00Z",
    "author_association": "NONE",
    "body": "## [Current coverage](https://codecov.io/gh/pandas-dev/pandas/pull/14576?src=pr) is 85.29% (diff: 88.40%)\n> Merging [#14576](https://codecov.io/gh/pandas-dev/pandas/pull/14576?src=pr) into [master](https://codecov.io/gh/pandas-dev/pandas/branch/master?src=pr) will increase coverage by **0.02%**\n\n```diff\n@@             master     #14576   diff @@\n==========================================\n  Files           144        144          \n  Lines         50980      50943    -37   \n  Methods           0          0          \n  Messages          0          0          \n  Branches          0          0          \n==========================================\n- Hits          43470      43453    -17   \n+ Misses         7510       7490    -20   \n  Partials          0          0          \n```\n\n> Powered by [Codecov](https://codecov.io?src=pr). Last update [14e4815...b33a500](https://codecov.io/gh/pandas-dev/pandas/compare/14e4815391dcd8c9fe91479fed629410bf63ca33...b33a500120b63836d64f50c5f4e4504099160585?src=pr)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/260131100",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-260131100",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 260131100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDEzMTEwMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-12T16:14:26Z",
    "updated_at": "2016-11-12T16:14:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "ideally if you can use some of this code in the parser routines would be great (may not be completely possible, but want to consolidate some of that duplication)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/261825427",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-261825427",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 261825427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTgyNTQyNw==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T02:02:18Z",
    "updated_at": "2016-11-21T02:02:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Regarding [`common.py#L239-L244`](https://github.com/pandas-dev/pandas/blob/e1cdc4b83d7e970e9683056be722d5fa2a00fa70/pandas/io/common.py#L239-L244), I think there's a problem. Currently, when `compression=\"infer\"` and the `path_or_buff` is a URL, `get_filepath_or_buffer` is using the [Content-Encoding](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding) header of the request to infer the compression type. However, I don't actually think compressed files on the network will provide a Content-Encoding header of their compression type. Instead I think we want to infer the compression of a URL from it's name, just as we do with paths.\r\n\r\nFor example, `https://raw.githubusercontent.com/pandas-dev/pandas/master/pandas/io/tests/parser/data/salaries.csv.bz2` would infer `bz2` compression because it ends with `.bz2`. @jreback and @jorisvandenbossche, agree?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/261826469",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-261826469",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 261826469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTgyNjQ2OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T02:13:06Z",
    "updated_at": "2016-11-21T02:13:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "i think inferring based on the file name is usually enough - but u can also use the Content if it's available"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/264674910",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-264674910",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 264674910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDY3NDkxMA==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-04T00:16:21Z",
    "updated_at": "2016-12-04T17:01:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm getting [failing builds in AppVeyor](https://ci.appveyor.com/project/jreback/pandas-465/build/1.0.2307/job/1f7g05x811genspf) in Python 2 due to `ImportError: No module named backports`. This occurs in `compat/__init__.py` at:\r\n\r\n```python\r\n    def import_lzma():\r\n        \"\"\" import the backported lzma library\r\n        or raise ImportError if not available \"\"\"\r\n        from backports import lzma\r\n        return lzma\r\n```\r\n\r\nAny idea why `backports` is not available? How should I proceed?\r\n\r\n**Update**: I think I resolved this in https://github.com/pandas-dev/pandas/pull/14576/commits/af3c2bc051d7c7178c617c211bf1fe0e14c5b5bd."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/264963575",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-264963575",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 264963575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDk2MzU3NQ==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-05T20:12:54Z",
    "updated_at": "2016-12-05T20:12:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche, I added the `c` engine tests in https://github.com/pandas-dev/pandas/pull/14576/commits/e78d022949cd610276d83a820c45768840c25d0a. But we're gettings errors in the following [tests](https://travis-ci.org/pandas-dev/pandas/jobs/181193644):\r\n\r\n```\r\nERROR: Test reading bz2-compressed tables from URL: compression=\"bz2\", engine=\"c\"\r\nERROR: Test reading bz2-compressed tables from URL: compression=\"infer\", engine=\"c\"\r\n```\r\n\r\ndue to `ValueError: Python 2 cannot read bz2 from open file handle`. This error is coming from [`parser.pyx#L615-L621`](https://github.com/pandas-dev/pandas/blob/b3dd9bafbfcbac1a2b6ab756e588d6e167f90439/pandas/parser.pyx#L615-L621). This code looks to duplicate functionality of `_get_handle`, but is maybe Cython code? Anyways, I've never worked with `.pyx` code. Suggestions? Should we save `c` engine for a future PR?\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/265019562",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-265019562",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 265019562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTAxOTU2Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-06T00:07:27Z",
    "updated_at": "2016-12-06T00:07:27Z",
    "author_association": "MEMBER",
    "body": "Yes, let's leave issues with the C engine for another PR (also the pathlib stuff, there is an issue for it), and lets try to finish this PR. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/265232160",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-265232160",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 265232160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTIzMjE2MA==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-06T18:32:36Z",
    "updated_at": "2016-12-06T18:33:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Still haven't migrated the handle tracking logic to `_infer_compression` as @jorisvandenbossche suggested. The main thing holding me up is that I don't know exactly what should be considered a handle. Is this a prerequisite to merging this PR, or should we address later? \r\n\r\n> Yes, let's leave issues with the C engine for another PR\r\n\r\nOkay c engine tests removed in https://github.com/pandas-dev/pandas/pull/14576/commits/bc9304389996496d92a72789c86b95b328e7925b. Prior to removing, the c-engine [tests](https://travis-ci.org/pandas-dev/pandas/builds/181502054) were all passing in 3. In 2.7 with the c-engine, the `bz2` reading from URL fails, but the other compression methods work.\r\n\r\nI'd consider future work to add more S3 tests for all compression types. Also consolidating the [c-engine code](https://github.com/pandas-dev/pandas/blob/b3dd9bafbfcbac1a2b6ab756e588d6e167f90439/pandas/parser.pyx#L615-L621) that's making bz2 fail in 2.\r\n\r\nWhen this PR is merged, it's important to me to have my authorship preserved in the commit history. I bring this up, since the first commit in this PR is from @lababidi -- I'm assuming he/she also cares that his/her authorship is preserved. So just let me know if you'd like me to squash this thing in a certain way / how we should proceed.\r\n\r\nThanks for seeing this through. Can't wait to use the feature going forward and happy to keep working on these issues as needed."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/265283737",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-265283737",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 265283737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTI4MzczNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-06T21:50:19Z",
    "updated_at": "2016-12-06T21:50:19Z",
    "author_association": "MEMBER",
    "body": "> The main thing holding me up is that I don't know exactly what should be considered a handle.\r\n\r\nThe handles we need to track, are all the handles (open files or file like objects) that pandas opens *itself* (not file handles provided by the user). You can check from the current `add_handle` boolean expression which ones it should be (those checks correspond to parts in the code of `_get_handle`. Tracking those opened handles inside `_get_handle` will make it a lot clearer what is going on.\r\n\r\nI would like to see this fixed before merging\r\n\r\n> I'd consider future work to add more S3 tests for all compression types. Also consolidating the c-engine code that's making bz2 fail in 2.\r\n\r\nCan you open issues for those to keep track of them.\r\n\r\n> When this PR is merged, it's important to me to have my authorship preserved in the commit history.\r\n\r\nThat's not problem, for sure! We can just squash your additional commits into one commit, and then commit those two commits of two authors to master."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/265893413",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-265893413",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 265893413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTg5MzQxMw==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-09T00:02:52Z",
    "updated_at": "2016-12-09T00:02:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Will get around to finishing this early next week. Currently traveling."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266216277",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266216277",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266216277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjIxNjI3Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-10T15:33:09Z",
    "updated_at": "2016-12-10T15:33:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you rebase, problem with appeveyor which i just fixed"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266782901",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266782901",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266782901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Njc4MjkwMQ==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T16:16:27Z",
    "updated_at": "2016-12-13T16:16:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Assuming the tests pass for https://github.com/pandas-dev/pandas/pull/14576/commits/640dc1b0ed88bfdb9164083077d17af6a87ba826, I don't think there are any more unaddressed comments.\r\n\r\n> can you rebase, problem with appeveyor which i just fixed\r\n\r\n@jreback rebased with appveyor now passing.\r\n\r\n> Can you open issues for those to keep track of them.\r\n\r\n@jorisvandenbossche: I created #14874 and #14875.\r\n\r\n> We can just squash your additional commits into one commit, and then commit those two commits of two authors to master.\r\n\r\n@jorisvandenbossche do you want me to squash all of my commits? If so, what should go in the commit message? Should I add the [issues we're closing](https://github.com/pandas-dev/pandas/pull/14576#issue-187096549) to the commit message?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266800759",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266800759",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266800759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjgwMDc1OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T17:16:10Z",
    "updated_at": "2016-12-13T17:16:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dhimmel you can squash or it will get squashed on the merge. in this case if you'd leave the original commit, and squash all of our subsequent ones to a single (or possibly) multiple, logically oriented commits would be great. We could in this case cherry-pick them (rather than completely squashing), to preserver authoriship (as I think when we squash ALL then authoriship is the last one). if we only have 2 commits a merge is easy."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266817615",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266817615",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266817615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjgxNzYxNQ==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T18:17:49Z",
    "updated_at": "2016-12-13T18:17:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "> in this case if you'd leave the original commit, and squash all of our subsequent ones to a single (or possibly) multiple, logically oriented commits would be great. \r\n\r\nI'm going to squash all of my commits. Grouping them will be pretty burdensome and the intermediate commits were often not functional. I [created a branch](https://github.com/dhimmel/pandas/commits/compression-unsquashed) on `dhimmel/pandas` to preserve the individual commits for reference. \r\n\r\nJust to list things here, `git log master.. --oneline` gives the following:\r\n\r\n640dc1b Simplify TextIOWrapper usage\r\n4774b75 Use list to store new handles\r\n94aa0cb Track new handles in _get_handle https://github.com/pandas-dev/pandas/pull/14576#issuecomment-265283737 https://github.com/pandas-dev/pandas/pull/14576#discussion_r91988117\r\n376dce3 Close bz2 file object in Python 2\r\nb88d1b8 Remove compressed URL c-engine tests\r\nb34c2f6 Move _infer_compression to io/common.py\r\nd27e57d Fix \"ImportError: No module named backports\"\r\n97a1c25 Test compressed URLs using c engine\r\necee74f Revert to old error msg. Remove unused line\r\n7c9fe8b Skip xz test if no lzma\r\n492e615 Remove unused imports\r\nbf9fe97 Add invalid compression test\r\n7940ab7 Fix PEP8 errors\r\n05332fd Update S3 get_filepath_or_buffer compression\r\n24ea605 Fix get_filepath_or_buffer and _get_handle\r\n2dc1f2f Clean up docstring\r\n10652a0 Move compression inference to io/parsers\r\n8d24bcf Delete unused function _wrap_compressed\r\n83b2bc5 Infer compression from URL extension\r\nc2e6e5b Improve error message, fix partial scope\r\n9977da2 Fix nose test generator bug. Better error messages\r\n7ff1247 Inheret from object for TestCompressedUrl\r\n30e1caf Fix local salaries.csv path\r\n6230dfb Update salaries.csv URL post #14587\r\n6530f46 Enable nose execution of test generators\r\na441448 Broken: use method generators to DRY tests\r\n25114c3 Tests for bz2, xz & zip URLs\r\n89e45f4 Revert changes to zip error messages\r\n29b7f74 Change error message in test_zip\r\n3aba6cb Replicate original handles appending\r\n101a344 Impove _get_handle docstring\r\n58ffbce Rename source to path_or_buf and flake8\r\nf0901fb Remove ZipFile support for Python 2.6\r\n2c78178 Improve readability\r\n592cf92 Fix ZipFile bug in Python 3.6+\r\n74caf72 combine compression code into one\r\n\r\n36 commits total in this PR. Wow!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266823712",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266823712",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266823712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjgyMzcxMg==",
    "user": {
      "login": "dhimmel",
      "id": 1117703,
      "node_id": "MDQ6VXNlcjExMTc3MDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1117703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhimmel",
      "html_url": "https://github.com/dhimmel",
      "followers_url": "https://api.github.com/users/dhimmel/followers",
      "following_url": "https://api.github.com/users/dhimmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhimmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhimmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhimmel/subscriptions",
      "organizations_url": "https://api.github.com/users/dhimmel/orgs",
      "repos_url": "https://api.github.com/users/dhimmel/repos",
      "events_url": "https://api.github.com/users/dhimmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhimmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T18:40:24Z",
    "updated_at": "2016-12-13T18:40:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "> if we only have 2 commits a merge is easy.\r\n\r\nGreat we're now at 2 commits. I think merge makes sense, because it is nice to see the diff of both commits combined. Alone the changesets will be incomplete.\r\n\r\nLet me know if there's anything more for me to do."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266852384",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266852384",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266852384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Njg1MjM4NA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T20:28:22Z",
    "updated_at": "2016-12-13T20:28:22Z",
    "author_association": "MEMBER",
    "body": "@jreback You can use the github interface as well to \"rebase and merge\" instead of squashing, which will just apply the commits in this PR to master. And so the two commits now in the PR are perfect!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266876890",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266876890",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266876890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Njg3Njg5MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T22:05:45Z",
    "updated_at": "2016-12-13T22:05:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche right, but this is the exception to the rule.  I will have a look in a bit. \r\n\r\n@dhimmel going to merge, and can followup on comments / issues in another PR."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/266892144",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-266892144",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 266892144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Njg5MjE0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T23:11:59Z",
    "updated_at": "2016-12-13T23:11:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @dhimmel very nice!\r\n\r\nin your xref PR, pls add whatsnew that cover all of the issues that were closed (for 0.20.0)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/267005333",
    "html_url": "https://github.com/pandas-dev/pandas/pull/14576#issuecomment-267005333",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14576",
    "id": 267005333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzAwNTMzMw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-14T10:58:02Z",
    "updated_at": "2016-12-14T10:58:02Z",
    "author_association": "MEMBER",
    "body": "@dhimmel thanks a lot!"
  }
]
