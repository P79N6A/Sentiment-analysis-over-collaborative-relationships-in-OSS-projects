[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329907041",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329907041",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329907041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTkwNzA0MQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-15T21:20:42Z",
    "updated_at": "2017-09-15T21:20:42Z",
    "author_association": "MEMBER",
    "body": "@zoof : Thanks for reporting this.  Strange that it's in this order and not vice-versa (support for unicode is much better in Python 3.x than in Python 2.x).\r\n\r\nI see that you are using `0.20.1`.  Just for reference, can you try upgrading and see if that changes anything?\r\n\r\n@jreback : I seem to be recalling a previous issue similar to this.  Am I right about that or not?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329925428",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329925428",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329925428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTkyNTQyOA==",
    "user": {
      "login": "zoof",
      "id": 1737483,
      "node_id": "MDQ6VXNlcjE3Mzc0ODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1737483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoof",
      "html_url": "https://github.com/zoof",
      "followers_url": "https://api.github.com/users/zoof/followers",
      "following_url": "https://api.github.com/users/zoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoof/subscriptions",
      "organizations_url": "https://api.github.com/users/zoof/orgs",
      "repos_url": "https://api.github.com/users/zoof/repos",
      "events_url": "https://api.github.com/users/zoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-15T23:23:36Z",
    "updated_at": "2017-09-15T23:23:36Z",
    "author_association": "NONE",
    "body": "Updated to 0.20.3:\r\n\r\n```\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.1.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.9.0-3-amd64\r\nmachine: x86_64\r\nprocessor: \r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_US.UTF-8\r\nLOCALE: en_US.UTF-8\r\n\r\npandas: 0.20.3\r\npytest: 3.0.7\r\npip: 9.0.1\r\nsetuptools: 27.2.0\r\nCython: 0.25.2\r\nnumpy: 1.12.1\r\nscipy: 0.19.0\r\nxarray: None\r\nIPython: 5.3.0\r\nsphinx: 1.5.6\r\npatsy: 0.4.1\r\ndateutil: 2.6.0\r\npytz: 2017.2\r\nblosc: None\r\nbottleneck: 1.2.1\r\ntables: 3.3.0\r\nnumexpr: 2.6.2\r\nfeather: None\r\nmatplotlib: 2.0.2\r\nopenpyxl: 2.4.7\r\nxlrd: 1.0.0\r\nxlwt: 1.2.0\r\nxlsxwriter: 0.9.6\r\nlxml: 3.7.3\r\nbs4: 4.6.0\r\nhtml5lib: 0.999\r\nsqlalchemy: 1.1.9\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.9.6\r\ns3fs: None\r\npandas_gbq: None\r\npandas_datareader: None\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329928010",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329928010",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329928010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTkyODAxMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-15T23:46:07Z",
    "updated_at": "2017-09-15T23:46:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "show what u wrote and how"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329934126",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329934126",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329934126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTkzNDEyNg==",
    "user": {
      "login": "zoof",
      "id": 1737483,
      "node_id": "MDQ6VXNlcjE3Mzc0ODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1737483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoof",
      "html_url": "https://github.com/zoof",
      "followers_url": "https://api.github.com/users/zoof/followers",
      "following_url": "https://api.github.com/users/zoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoof/subscriptions",
      "organizations_url": "https://api.github.com/users/zoof/orgs",
      "repos_url": "https://api.github.com/users/zoof/repos",
      "events_url": "https://api.github.com/users/zoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-16T00:56:37Z",
    "updated_at": "2017-09-16T00:56:37Z",
    "author_association": "NONE",
    "body": "Sorry, basically the same as before:\r\n\r\n```\r\nIn [1]: import pandas as pd\r\n\r\nIn [2]: pd.read_hdf('data.h5')\r\n---------------------------------------------------------------------------\r\nUnicodeDecodeError                        Traceback (most recent call last)\r\n<ipython-input-2-21d8820a6af9> in <module>()\r\n----> 1 pd.read_hdf('data.h5')\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read_hdf(path_or_buf, key, mode, **kwargs)\r\n    370                                      'contains multiple datasets.')\r\n    371             key = candidate_only_group._v_pathname\r\n--> 372         return store.select(key, auto_close=auto_close, **kwargs)\r\n    373     except:\r\n    374         # if there is an error, close the store\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in select(self, key, where, start, stop, columns, iterator, chunksize, auto_close, **kwargs)\r\n    740                            chunksize=chunksize, auto_close=auto_close)\r\n    741 \r\n--> 742         return it.get_result()\r\n    743 \r\n    744     def select_as_coordinates(\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in get_result(self, coordinates)\r\n   1447 \r\n   1448         # directly return the result\r\n-> 1449         results = self.func(self.start, self.stop, where)\r\n   1450         self.close()\r\n   1451         return results\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in func(_start, _stop, _where)\r\n    733             return s.read(start=_start, stop=_stop,\r\n    734                           where=_where,\r\n--> 735                           columns=columns, **kwargs)\r\n    736 \r\n    737         # create the iterator\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read(self, start, stop, **kwargs)\r\n   2885             blk_items = self.read_index('block%d_items' % i)\r\n   2886             values = self.read_array('block%d_values' % i,\r\n-> 2887                                      start=_start, stop=_stop)\r\n   2888             blk = make_block(values,\r\n   2889                              placement=items.get_indexer(blk_items))\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read_array(self, key, start, stop)\r\n   2434         import tables\r\n   2435         node = getattr(self.group, key)\r\n-> 2436         data = node[start:stop]\r\n   2437         attrs = node._v_attrs\r\n   2438 \r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in __getitem__(self, key)\r\n    673             start, stop, step = self._process_range(\r\n    674                 key.start, key.stop, key.step)\r\n--> 675             return self.read(start, stop, step)\r\n    676         # Try with a boolean or point selection\r\n    677         elif type(key) in (list, tuple) or isinstance(key, numpy.ndarray):\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in read(self, start, stop, step)\r\n    813         atom = self.atom\r\n    814         if not hasattr(atom, 'size'):  # it is a pseudo-atom\r\n--> 815             outlistarr = [atom.fromarray(arr) for arr in listarr]\r\n    816         else:\r\n    817             # Convert the list to the right flavor\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in <listcomp>(.0)\r\n    813         atom = self.atom\r\n    814         if not hasattr(atom, 'size'):  # it is a pseudo-atom\r\n--> 815             outlistarr = [atom.fromarray(arr) for arr in listarr]\r\n    816         else:\r\n    817             # Convert the list to the right flavor\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/atom.py in fromarray(self, array)\r\n   1226         if array.size == 0:\r\n   1227             return None\r\n-> 1228         return six.moves.cPickle.loads(array.tostring())\r\n\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 23: ordinal not in range(128)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329936621",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329936621",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329936621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTkzNjYyMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-16T01:38:05Z",
    "updated_at": "2017-09-16T01:38:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "you are not answering the question; show an example of WRITING"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329975048",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329975048",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329975048,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTk3NTA0OA==",
    "user": {
      "login": "zoof",
      "id": 1737483,
      "node_id": "MDQ6VXNlcjE3Mzc0ODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1737483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoof",
      "html_url": "https://github.com/zoof",
      "followers_url": "https://api.github.com/users/zoof/followers",
      "following_url": "https://api.github.com/users/zoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoof/subscriptions",
      "organizations_url": "https://api.github.com/users/zoof/orgs",
      "repos_url": "https://api.github.com/users/zoof/repos",
      "events_url": "https://api.github.com/users/zoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-16T15:23:44Z",
    "updated_at": "2017-09-16T15:23:44Z",
    "author_association": "NONE",
    "body": "I guess you want a sample dataset?  I extracted a small sample from the troublesome series in the large HDF file: https://ufile.io/l94bf.  This file too works with Python 2.7 but fails with Python 3.x."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329977460",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329977460",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329977460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTk3NzQ2MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-16T16:04:23Z",
    "updated_at": "2017-09-16T16:04:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "you need to show a complete example that includes writing and reading"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/329978261",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-329978261",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 329978261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTk3ODI2MQ==",
    "user": {
      "login": "zoof",
      "id": 1737483,
      "node_id": "MDQ6VXNlcjE3Mzc0ODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1737483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoof",
      "html_url": "https://github.com/zoof",
      "followers_url": "https://api.github.com/users/zoof/followers",
      "following_url": "https://api.github.com/users/zoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoof/subscriptions",
      "organizations_url": "https://api.github.com/users/zoof/orgs",
      "repos_url": "https://api.github.com/users/zoof/repos",
      "events_url": "https://api.github.com/users/zoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-16T16:17:39Z",
    "updated_at": "2017-09-16T16:21:28Z",
    "author_association": "NONE",
    "body": "Like this? The data in each instance is the same, just different sources.\r\n\r\n<details>\r\n\r\n```\r\nIn [3]: pd.DataFrame(['Executive Director of HR',\r\n 'Assistant Director of HR',\r\n 'Instructor Chair of Paramedics',\r\n 'Proctor Testing Center \\xe2\\x80\\x93 PT',\r\n 'Instructor \\xe2\\x80\\x93 Welding (Automotive)',\r\n 'Lab Tech \\xe2\\x80\\x93 Automotive \\xe2\\x80\\x93 PT',\r\n 'Lab Tech Technology \\xe2\\x80\\x93 PT',\r\n 'Maintenance Tech',\r\n 'Business Services Coordinator',\r\n 'Scheduler']).to_hdf('data.h5','data')\r\n\r\nIn [4]: pd.read_hdf('data.h5')\r\nOut[4]: \r\n                                     0\r\n0             Executive Director of HR\r\n1             Assistant Director of HR\r\n2       Instructor Chair of Paramedics\r\n3        Proctor Testing Center â PT\r\n4  Instructor â Welding (Automotive)\r\n5       Lab Tech â Automotive â PT\r\n6           Lab Tech Technology â PT\r\n7                     Maintenance Tech\r\n8        Business Services Coordinator\r\n9                            Scheduler\r\n\r\nIn [5]: pd.read_hdf('data16.h5')\r\n---------------------------------------------------------------------------\r\nUnicodeDecodeError                        Traceback (most recent call last)\r\n<ipython-input-5-2a895d140f15> in <module>()\r\n----> 1 pd.read_hdf('data16.h5')\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read_hdf(path_or_buf, key, mode, **kwargs)\r\n    370                                      'contains multiple datasets.')\r\n    371             key = candidate_only_group._v_pathname\r\n--> 372         return store.select(key, auto_close=auto_close, **kwargs)\r\n    373     except:\r\n    374         # if there is an error, close the store\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in select(self, key, where, start, stop, columns, iterator, chunksize, auto_close, **kwargs)\r\n    740                            chunksize=chunksize, auto_close=auto_close)\r\n    741 \r\n--> 742         return it.get_result()\r\n    743 \r\n    744     def select_as_coordinates(\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in get_result(self, coordinates)\r\n   1447 \r\n   1448         # directly return the result\r\n-> 1449         results = self.func(self.start, self.stop, where)\r\n   1450         self.close()\r\n   1451         return results\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in func(_start, _stop, _where)\r\n    733             return s.read(start=_start, stop=_stop,\r\n    734                           where=_where,\r\n--> 735                           columns=columns, **kwargs)\r\n    736 \r\n    737         # create the iterator\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read(self, **kwargs)\r\n   2751         kwargs = self.validate_read(kwargs)\r\n   2752         index = self.read_index('index', **kwargs)\r\n-> 2753         values = self.read_array('values', **kwargs)\r\n   2754         return Series(values, index=index, name=self.name)\r\n   2755 \r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read_array(self, key, start, stop)\r\n   2434         import tables\r\n   2435         node = getattr(self.group, key)\r\n-> 2436         data = node[start:stop]\r\n   2437         attrs = node._v_attrs\r\n   2438 \r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in __getitem__(self, key)\r\n    673             start, stop, step = self._process_range(\r\n    674                 key.start, key.stop, key.step)\r\n--> 675             return self.read(start, stop, step)\r\n    676         # Try with a boolean or point selection\r\n    677         elif type(key) in (list, tuple) or isinstance(key, numpy.ndarray):\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in read(self, start, stop, step)\r\n    813         atom = self.atom\r\n    814         if not hasattr(atom, 'size'):  # it is a pseudo-atom\r\n--> 815             outlistarr = [atom.fromarray(arr) for arr in listarr]\r\n    816         else:\r\n    817             # Convert the list to the right flavor\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in <listcomp>(.0)\r\n    813         atom = self.atom\r\n    814         if not hasattr(atom, 'size'):  # it is a pseudo-atom\r\n--> 815             outlistarr = [atom.fromarray(arr) for arr in listarr]\r\n    816         else:\r\n    817             # Convert the list to the right flavor\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/atom.py in fromarray(self, array)\r\n   1226         if array.size == 0:\r\n   1227             return None\r\n-> 1228         return six.moves.cPickle.loads(array.tostring())\r\n\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 23: ordinal not in range(128)\r\n```\r\n</details>\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330386111",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-330386111",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 330386111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDM4NjExMQ==",
    "user": {
      "login": "zoof",
      "id": 1737483,
      "node_id": "MDQ6VXNlcjE3Mzc0ODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1737483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoof",
      "html_url": "https://github.com/zoof",
      "followers_url": "https://api.github.com/users/zoof/followers",
      "following_url": "https://api.github.com/users/zoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoof/subscriptions",
      "organizations_url": "https://api.github.com/users/zoof/orgs",
      "repos_url": "https://api.github.com/users/zoof/repos",
      "events_url": "https://api.github.com/users/zoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T23:38:29Z",
    "updated_at": "2017-09-18T23:38:29Z",
    "author_association": "NONE",
    "body": "Use 2.7\r\n\r\n```\r\npd.DataFrame(['Executive Director of HR',\r\n 'Assistant Director of HR',\r\n 'Instructor Chair of Paramedics',\r\n 'Proctor Testing Center \\xe2\\x80\\x93 PT',\r\n 'Instructor \\xe2\\x80\\x93 Welding (Automotive)',\r\n 'Lab Tech \\xe2\\x80\\x93 Automotive \\xe2\\x80\\x93 PT',\r\n 'Lab Tech Technology \\xe2\\x80\\x93 PT',\r\n 'Maintenance Tech',\r\n 'Business Services Coordinator',\r\n 'Scheduler']).to_hdf('data.h5','data')\r\n```\r\n\r\nTry to read in 3.6\r\n\r\n```\r\npd.read_hdf('data.h5')\r\n---------------------------------------------------------------------------\r\nUnicodeDecodeError                        Traceback (most recent call last)\r\n<ipython-input-2-8ce48fe594b7> in <module>()\r\n----> 1 pd.read_hdf('data.h5')\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read_hdf(path_or_buf, key, mode, **kwargs)\r\n    370                                      'contains multiple datasets.')\r\n    371             key = candidate_only_group._v_pathname\r\n--> 372         return store.select(key, auto_close=auto_close, **kwargs)\r\n    373     except:\r\n    374         # if there is an error, close the store\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in select(self, key, where, start, stop, columns, iterator, chunksize, auto_close, **kwargs)\r\n    740                            chunksize=chunksize, auto_close=auto_close)\r\n    741 \r\n--> 742         return it.get_result()\r\n    743 \r\n    744     def select_as_coordinates(\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in get_result(self, coordinates)\r\n   1447 \r\n   1448         # directly return the result\r\n-> 1449         results = self.func(self.start, self.stop, where)\r\n   1450         self.close()\r\n   1451         return results\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in func(_start, _stop, _where)\r\n    733             return s.read(start=_start, stop=_stop,\r\n    734                           where=_where,\r\n--> 735                           columns=columns, **kwargs)\r\n    736 \r\n    737         # create the iterator\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read(self, start, stop, **kwargs)\r\n   2885             blk_items = self.read_index('block%d_items' % i)\r\n   2886             values = self.read_array('block%d_values' % i,\r\n-> 2887                                      start=_start, stop=_stop)\r\n   2888             blk = make_block(values,\r\n   2889                              placement=items.get_indexer(blk_items))\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/pandas/io/pytables.py in read_array(self, key, start, stop)\r\n   2434         import tables\r\n   2435         node = getattr(self.group, key)\r\n-> 2436         data = node[start:stop]\r\n   2437         attrs = node._v_attrs\r\n   2438 \r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in __getitem__(self, key)\r\n    673             start, stop, step = self._process_range(\r\n    674                 key.start, key.stop, key.step)\r\n--> 675             return self.read(start, stop, step)\r\n    676         # Try with a boolean or point selection\r\n    677         elif type(key) in (list, tuple) or isinstance(key, numpy.ndarray):\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in read(self, start, stop, step)\r\n    813         atom = self.atom\r\n    814         if not hasattr(atom, 'size'):  # it is a pseudo-atom\r\n--> 815             outlistarr = [atom.fromarray(arr) for arr in listarr]\r\n    816         else:\r\n    817             # Convert the list to the right flavor\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/vlarray.py in <listcomp>(.0)\r\n    813         atom = self.atom\r\n    814         if not hasattr(atom, 'size'):  # it is a pseudo-atom\r\n--> 815             outlistarr = [atom.fromarray(arr) for arr in listarr]\r\n    816         else:\r\n    817             # Convert the list to the right flavor\r\n\r\n/home/tct/anaconda2/envs/py36/lib/python3.6/site-packages/tables/atom.py in fromarray(self, array)\r\n   1226         if array.size == 0:\r\n   1227             return None\r\n-> 1228         return six.moves.cPickle.loads(array.tostring())\r\n\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 23: ordinal not in range(128)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330509895",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-330509895",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 330509895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDUwOTg5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T11:25:49Z",
    "updated_at": "2017-09-19T11:25:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is not supported for fixed stores, try using ``format='table'`` when you save in 2.7"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330510549",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-330510549",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 330510549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDUxMDU0OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T11:28:51Z",
    "updated_at": "2017-09-19T11:28:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "you can also see https://github.com/pandas-dev/pandas/issues/11126, and try passing ``encoding='utf-8'`` in 2.7. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330522967",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-330522967",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 330522967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDUyMjk2Nw==",
    "user": {
      "login": "zoof",
      "id": 1737483,
      "node_id": "MDQ6VXNlcjE3Mzc0ODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1737483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoof",
      "html_url": "https://github.com/zoof",
      "followers_url": "https://api.github.com/users/zoof/followers",
      "following_url": "https://api.github.com/users/zoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoof/subscriptions",
      "organizations_url": "https://api.github.com/users/zoof/orgs",
      "repos_url": "https://api.github.com/users/zoof/repos",
      "events_url": "https://api.github.com/users/zoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T12:27:13Z",
    "updated_at": "2017-09-19T12:27:13Z",
    "author_association": "NONE",
    "body": "The former works but the latter does not. I don't see why this is not a bug though since 2.7 can read the file produced without `format='table'` but 3.x cannot."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330523452",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-330523452",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 330523452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDUyMzQ1Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T12:29:16Z",
    "updated_at": "2017-09-19T12:29:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "it is simply not supported but the underllhing infrastructure (e.g. in PyTables)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/330652378",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17540#issuecomment-330652378",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17540",
    "id": 330652378,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDY1MjM3OA==",
    "user": {
      "login": "zoof",
      "id": 1737483,
      "node_id": "MDQ6VXNlcjE3Mzc0ODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1737483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoof",
      "html_url": "https://github.com/zoof",
      "followers_url": "https://api.github.com/users/zoof/followers",
      "following_url": "https://api.github.com/users/zoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoof/subscriptions",
      "organizations_url": "https://api.github.com/users/zoof/orgs",
      "repos_url": "https://api.github.com/users/zoof/repos",
      "events_url": "https://api.github.com/users/zoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T19:45:12Z",
    "updated_at": "2017-09-19T19:45:12Z",
    "author_association": "NONE",
    "body": "Just a postscript.  `format='table'` only works for a single column of data. When trying to save the entire dataset in Python 2.7, \r\n\r\n```\r\nTypeError: Cannot serialize the column [task_list] because\r\nits data contents are [unicode] object dtype\r\n```\r\n\r\nwhen saving using `encoding='utf-8'` the file is saved but again cannot be read in 3.x. `TypeError: lookup() argument must be str, not numpy.bytes_`"
  }
]
