[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171941569",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12044#issuecomment-171941569",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12044",
    "id": 171941569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTk0MTU2OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T11:47:01Z",
    "updated_at": "2016-01-15T11:47:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u show the creation of tmp\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171941641",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12044#issuecomment-171941641",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12044",
    "id": 171941641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTk0MTY0MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T11:47:32Z",
    "updated_at": "2016-01-15T11:47:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "and to\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171951090",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12044#issuecomment-171951090",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12044",
    "id": 171951090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTk1MTA5MA==",
    "user": {
      "login": "Winand",
      "id": 53390,
      "node_id": "MDQ6VXNlcjUzMzkw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/53390?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Winand",
      "html_url": "https://github.com/Winand",
      "followers_url": "https://api.github.com/users/Winand/followers",
      "following_url": "https://api.github.com/users/Winand/following{/other_user}",
      "gists_url": "https://api.github.com/users/Winand/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Winand/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Winand/subscriptions",
      "organizations_url": "https://api.github.com/users/Winand/orgs",
      "repos_url": "https://api.github.com/users/Winand/repos",
      "events_url": "https://api.github.com/users/Winand/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Winand/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T12:43:12Z",
    "updated_at": "2016-01-15T12:44:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've tried to implement this with string data and `difference` performed better. But `setdiff1d` is much better with `datetime64[ns]`\n\n```\nimport pandas as pd, time\n\nto=pd.Series(pd.DatetimeIndex(range(1000000))).astype('category')#pd.Series((\"hello%d\"%i for i in range(1000000))).astype('category')\ncats = to.cat.categorical._categories.values\ntmp=pd.Series(pd.DatetimeIndex(range(1000000, 1200000)))#pd.Series((\"bye%d\"%i for i in range(200000)))\n\ntmp_unique = tmp.unique()\ntmp_unique = tmp_unique[~pd.isnull(tmp_unique)]\n\n_=time.clock()\nnew_cats = pd.Index(tmp_unique).difference(cats)\nprint(\"Index.difference: %.3fs\"%(time.clock()-_))\n\n_=time.clock()\nnew_cats = pd.Index(pd.np.setdiff1d(tmp_unique, cats))\nprint(\"np.setdiff1d: %.3fs\"%(time.clock()-_))\n\n-----\n>>>Index.difference: 1.976s\n>>>np.setdiff1d: 0.104s\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171964246",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12044#issuecomment-171964246",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12044",
    "id": 171964246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTk2NDI0Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T13:42:18Z",
    "updated_at": "2016-01-15T13:42:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "interesting, the is the first numpy setop that actually is fast. \n\nok, sure pull-requests are welcome (including an asv benchmark).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171964675",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12044#issuecomment-171964675",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12044",
    "id": 171964675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTk2NDY3NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T13:44:50Z",
    "updated_at": "2016-01-15T13:44:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "xref https://github.com/pydata/pandas/pull/11279\n\nnote that you would have to use base forms for some of the index types (e.g. `.values`)\n\nso might need to upgrade tests for this (in fact should consolidate all of the `test_difference*` tests in `test_index.py`) and move them to `Base` for generic testing.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/172015990",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12044#issuecomment-172015990",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12044",
    "id": 172015990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjAxNTk5MA==",
    "user": {
      "login": "max-sixty",
      "id": 5635139,
      "node_id": "MDQ6VXNlcjU2MzUxMzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/max-sixty",
      "html_url": "https://github.com/max-sixty",
      "followers_url": "https://api.github.com/users/max-sixty/followers",
      "following_url": "https://api.github.com/users/max-sixty/following{/other_user}",
      "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions",
      "organizations_url": "https://api.github.com/users/max-sixty/orgs",
      "repos_url": "https://api.github.com/users/max-sixty/repos",
      "events_url": "https://api.github.com/users/max-sixty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/max-sixty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-15T17:00:23Z",
    "updated_at": "2016-01-15T17:00:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Winand I had a go at speeding this up, in the issue @jreback referenced. I didn't get it over the finish line, please do take the torch!\n\nMy understanding is that `set` is actually very fast. The slow part of the current implementation is the boxing & unboxing of values, for indexes that need to do conversions for each element for `list(self)`. So if you can delegated to `.values`, then `set` should be reasonable. numpy may still be faster - worth comparing apples to apples\n"
  }
]
