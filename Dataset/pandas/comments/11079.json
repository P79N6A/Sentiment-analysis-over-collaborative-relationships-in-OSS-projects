[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139817758",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139817758",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139817758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTgxNzc1OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-12T20:25:41Z",
    "updated_at": "2015-09-12T20:25:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @behzadnouri \n\nor you want to use do a factorize?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139821205",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139821205",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139821205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTgyMTIwNQ==",
    "user": {
      "login": "behzadnouri",
      "id": 1288998,
      "node_id": "MDQ6VXNlcjEyODg5OTg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1288998?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/behzadnouri",
      "html_url": "https://github.com/behzadnouri",
      "followers_url": "https://api.github.com/users/behzadnouri/followers",
      "following_url": "https://api.github.com/users/behzadnouri/following{/other_user}",
      "gists_url": "https://api.github.com/users/behzadnouri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/behzadnouri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/behzadnouri/subscriptions",
      "organizations_url": "https://api.github.com/users/behzadnouri/orgs",
      "repos_url": "https://api.github.com/users/behzadnouri/repos",
      "events_url": "https://api.github.com/users/behzadnouri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/behzadnouri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-12T21:37:11Z",
    "updated_at": "2015-09-12T21:37:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "``` diff\ndiff --git a/pandas/core/groupby.py b/pandas/core/groupby.py\nindex f34fd6e..39be706 100644\n--- a/pandas/core/groupby.py\n+++ b/pandas/core/groupby.py\n@@ -2565,13 +2565,21 @@ class SeriesGroupBy(GroupBy):\n         ids, _, _ = self.grouper.group_info\n         val = self.obj.get_values()\n\n-        sorter = np.lexsort((val, ids))\n+        try:\n+            sorter = np.lexsort((val, ids))\n+        except TypeError:\n+            val, _ = algos.factorize(val, sort=False)\n+            sorter = np.lexsort((val, ids))\n+            isnull = lambda a: a == -1\n+        else:\n+            isnull = com.isnull\n+\n         ids, val = ids[sorter], val[sorter]\n\n         # group boundries are where group ids change\n         # unique observations are where sorted values change\n-        idx = com._ensure_int64(np.r_[0, 1 + np.nonzero(ids[1:] != ids[:-1])[0]])\n-        inc = com._ensure_int64(np.r_[1, val[1:] != val[:-1]])\n+        idx = np.r_[0, 1 + np.nonzero(ids[1:] != ids[:-1])[0]]\n+        inc = np.r_[1, val[1:] != val[:-1]]\n\n         # 1st item of each group is a new unique observation\n         mask = isnull(val)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139821564",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139821564",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139821564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTgyMTU2NA==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-12T21:41:22Z",
    "updated_at": "2015-09-12T21:41:22Z",
    "author_association": "MEMBER",
    "body": "@behzadnouri If you submit that as a PR to my fork, I'll happily merge it in\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139821667",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139821667",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139821667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTgyMTY2Nw==",
    "user": {
      "login": "behzadnouri",
      "id": 1288998,
      "node_id": "MDQ6VXNlcjEyODg5OTg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1288998?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/behzadnouri",
      "html_url": "https://github.com/behzadnouri",
      "followers_url": "https://api.github.com/users/behzadnouri/followers",
      "following_url": "https://api.github.com/users/behzadnouri/following{/other_user}",
      "gists_url": "https://api.github.com/users/behzadnouri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/behzadnouri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/behzadnouri/subscriptions",
      "organizations_url": "https://api.github.com/users/behzadnouri/orgs",
      "repos_url": "https://api.github.com/users/behzadnouri/repos",
      "events_url": "https://api.github.com/users/behzadnouri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/behzadnouri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-12T21:44:02Z",
    "updated_at": "2015-09-12T21:44:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "the error says `TypeError: merge sort not available for item 0` even though numpy _does_ have merge sort for objects (both `np.argsort` and `np.sort`). so it may be a bug on numpy side. so, it is better to implement try catch in case future numpy releases do implement lexsort for this case\n\nonce, values are factorized, original values are not needed and it is more efficient to work with integer factors, as long as `isnull` function is adjusted accordingly. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139830849",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139830849",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139830849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTgzMDg0OQ==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-13T00:18:27Z",
    "updated_at": "2015-09-13T00:18:27Z",
    "author_association": "MEMBER",
    "body": "@jreback getting a somewhat strange travis failure here that seems unrelated to my change: https://travis-ci.org/cpcloud/pandas/jobs/80036566\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139830856",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139830856",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139830856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTgzMDg1Ng==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-13T00:18:36Z",
    "updated_at": "2015-09-13T00:18:36Z",
    "author_association": "MEMBER",
    "body": "any ideas what that might be?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139831088",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139831088",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139831088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTgzMTA4OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-13T00:24:56Z",
    "updated_at": "2015-09-13T00:24:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm someone else reported that as well\ntry restarting it and see\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139899089",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139899089",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139899089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTg5OTA4OQ==",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-13T17:45:10Z",
    "updated_at": "2015-09-13T17:45:10Z",
    "author_association": "MEMBER",
    "body": "this is passing on my travis ci fork\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/139899573",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-139899573",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 139899573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTg5OTU3Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-13T17:55:57Z",
    "updated_at": "2015-09-13T17:55:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "couple comments, squash and merge ok\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/140188376",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-140188376",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 140188376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDE4ODM3Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-14T19:51:50Z",
    "updated_at": "2015-09-14T19:51:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cpcloud can you update (e.g. revert those 2 lines). ok to merge on green after that.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/140219570",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11079#issuecomment-140219570",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11079",
    "id": 140219570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDIxOTU3MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-14T22:11:28Z",
    "updated_at": "2015-09-14T22:11:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "ty sir!\n"
  }
]
