[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/417892866",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22558#issuecomment-417892866",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22558",
    "id": 417892866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzg5Mjg2Ng==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-01T22:54:38Z",
    "updated_at": "2018-09-01T22:54:38Z",
    "author_association": "MEMBER",
    "body": "How weird!  I would have expected a `Series` of lists for both as you said.  Investigation and PR are welcome!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/418606008",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22558#issuecomment-418606008",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22558",
    "id": 418606008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODYwNjAwOA==",
    "user": {
      "login": "alanbato",
      "id": 11902612,
      "node_id": "MDQ6VXNlcjExOTAyNjEy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11902612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alanbato",
      "html_url": "https://github.com/alanbato",
      "followers_url": "https://api.github.com/users/alanbato/followers",
      "following_url": "https://api.github.com/users/alanbato/following{/other_user}",
      "gists_url": "https://api.github.com/users/alanbato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alanbato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alanbato/subscriptions",
      "organizations_url": "https://api.github.com/users/alanbato/orgs",
      "repos_url": "https://api.github.com/users/alanbato/repos",
      "events_url": "https://api.github.com/users/alanbato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alanbato/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T05:42:09Z",
    "updated_at": "2018-09-05T05:42:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "After doing some digging I was able to find the cause for the mismatch in behavior.\r\nhttps://github.com/pandas-dev/pandas/blob/a5fe9cf56c6552e34e3d3a933dcdb0ee4e485bf7/pandas/core/base.py#L538-L544\r\nAfter getting the `result` of the 'unique' aggregation as an `OrderedDict`,\r\n`OrderedDict([('a', array([1, 2, 3])), ('b', array([1]))]` and \r\n`OrderedDict([('a', array([2])), ('b', array([1]))]`\r\nthe code I'm linking tries to cast it to a `Dataframe`, and return a `Series` of lists if the casting fails. In other words, when the lengths of the lists in the values of `result` are equal a `DataFrame` is returned, and a `Series` otherwise.\r\n\r\nI've confirmed that we can get the desired behavior if we don't try to cast to a `DataFrame` at all.\r\n\r\nThoughts?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/418608189",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22558#issuecomment-418608189",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22558",
    "id": 418608189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODYwODE4OQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T05:55:49Z",
    "updated_at": "2018-09-05T05:55:49Z",
    "author_association": "MEMBER",
    "body": "I said give it a try, run tests, and see what happens!"
  }
]
