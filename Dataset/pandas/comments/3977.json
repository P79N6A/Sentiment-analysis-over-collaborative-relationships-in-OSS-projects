[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19793300",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-19793300",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 19793300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NzkzMzAw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-21T01:01:19Z",
    "updated_at": "2013-06-21T01:01:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wesm this was pretty tricky....not 100% sure I am right, what do you think?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19793380",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-19793380",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 19793380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NzkzMzgw",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-21T01:04:31Z",
    "updated_at": "2013-06-21T01:04:31Z",
    "author_association": "MEMBER",
    "body": "Where precisely was the type conversion happening before that was leading to a stale cached Series in `_item_cache`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19793663",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-19793663",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 19793663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NzkzNjYz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-21T01:14:48Z",
    "updated_at": "2013-06-21T01:15:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think was any type conversion. As near as I can tell its somhow the `take`, doesn't make sense\nIf I test for a view e.g. ((`id(df['bb'].values.base) == id(df._data.blocks[0].values)`)  before and after this line:\n`df_tmp = df.iloc[[True]*len(df)]`, its True before, and False afterwards...\n\neven though I know we are not touching the memory on `df` at all (though it IS passed to a cython function for taking), so maybe it assumes we are touching it somehow?\n\nFYI - there is a method on BlockManager to do this in this PR, `is_view`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19881733",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-19881733",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 19881733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODgxNzMz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-23T21:18:21Z",
    "updated_at": "2013-06-23T21:18:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wesm any thoughts on this?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20078516",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20078516",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20078516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDc4NTE2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-26T20:44:01Z",
    "updated_at": "2013-06-26T20:44:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wesm \nanother thought here....\n\n`df['bb'].iloc[0] = 0.15` is the fundamental issue here\nthe Frame has no idea that the object is being altered (which if it knew could invalidate its cache and solve the problem)\n\nThis is effectively copy-on-write, but in order to actually implement this a series would have to know that its being cached (trivial) - but the invalidation needs to occur whenever you are changing something in a series, but without storing a reference to the cacher (the dataframe), this is very hard I think\n\nso just need to think about cases when you need to invalidate the cache in the frames\n\nThis PR solves the current issues, but not sure if there are other related issues lurking\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20114744",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20114744",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20114744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTE0NzQ0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-27T12:27:46Z",
    "updated_at": "2013-06-27T12:27:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wesm ok..this solves the problem...keeping a weak ref to the cacher in the series (and invalidting when writing)...but take a took in any event\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20127965",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20127965",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20127965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTI3OTY1",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-27T15:25:11Z",
    "updated_at": "2013-06-27T15:25:11Z",
    "author_association": "MEMBER",
    "body": "Can you please wait to merge this until I have time to look a bit closer? Will try to look today or tomorrow\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20132117",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20132117",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20132117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTMyMTE3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-27T15:55:45Z",
    "updated_at": "2013-06-27T15:55:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "np\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20199330",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20199330",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20199330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTk5MzMw",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-28T16:36:34Z",
    "updated_at": "2013-06-28T16:36:34Z",
    "author_association": "MEMBER",
    "body": "This is more pernicious than I thought:\n\non master:\n\n```\nIn [1]: paste\ndf = DataFrame({ \"aa\":range(5), \"bb\":[2.2]*5})\ndf[\"cc\"] = 0.0\nck = [True]*len(df)\ndf[\"bb\"].loc[0] = .13 # works\n## -- End pasted text --\n\nIn [2]: df\nOut[2]:\n   aa    bb  cc\n0   0  0.13   0\n1   1  2.20   0\n2   2  2.20   0\n3   3  2.20   0\n4   4  2.20   0\n\nIn [3]: df['bb'].iloc[0] = 0.17\n\nIn [4]: df\nOut[4]:\n   aa    bb  cc\n0   0  0.13   0\n1   1  2.20   0\n2   2  2.20   0\n3   3  2.20   0\n4   4  2.20   0\n```\n\ngoing to dig in and figure out what in the hell is going on for my own sake\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20200556",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20200556",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20200556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjAwNTU2",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-28T16:57:27Z",
    "updated_at": "2013-06-28T16:57:27Z",
    "author_association": "MEMBER",
    "body": "Block consolidation is not invalidating the cache:\n\n```\nIn [19]: paste\ndf = DataFrame({ \"aa\":range(5), \"bb\":[2.2]*5})\ndf[\"cc\"] = 0.0\nck = [True]*len(df)\nprint df._data\ndf[\"bb\"].loc[0] = .13 # works\n## -- End pasted text --\nBlockManager\nItems: Index([u'aa', u'bb', u'cc'], dtype=object)\nAxis 1: Int64Index([0, 1, 2, 3, 4], dtype=int64)\nFloatBlock: [bb], 1 x 5, dtype float64\nIntBlock: [aa], 1 x 5, dtype int64\nFloatBlock: [cc], 1 x 5, dtype float64\n\nIn [20]: df\nOut[20]:\n   aa    bb  cc\n0   0  0.13   0\n1   1  2.20   0\n2   2  2.20   0\n3   3  2.20   0\n4   4  2.20   0\n\nIn [21]: df[\"bb\"].iloc[0] = .17\n\nIn [22]: df\nOut[22]:\n   aa    bb  cc\n0   0  0.13   0\n1   1  2.20   0\n2   2  2.20   0\n3   3  2.20   0\n4   4  2.20   0\n\nIn [23]: df._data\nOut[23]:\nBlockManager\nItems: Index([u'aa', u'bb', u'cc'], dtype=object)\nAxis 1: Int64Index([0, 1, 2, 3, 4], dtype=int64)\nFloatBlock: [bb, cc], 2 x 5, dtype float64\nIntBlock: [aa], 1 x 5, dtype int64\n```\n\nFix coming shortly\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20202378",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20202378",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20202378,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjAyMzc4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-28T17:31:22Z",
    "updated_at": "2013-06-28T17:31:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "yep looks right....\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20203978",
    "html_url": "https://github.com/pandas-dev/pandas/pull/3977#issuecomment-20203978",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3977",
    "id": 20203978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjAzOTc4",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-28T17:58:04Z",
    "updated_at": "2013-06-28T17:58:04Z",
    "author_association": "MEMBER",
    "body": "closing in favor of #4077\n"
  }
]
