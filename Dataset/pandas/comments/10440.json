[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/115368024",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10440#issuecomment-115368024",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10440",
    "id": 115368024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTM2ODAyNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T19:17:07Z",
    "updated_at": "2015-06-25T19:18:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "see docs [here](http://pandas.pydata.org/pandas-docs/stable/advanced.html#using-slicers)\n\n```\nIn [17]: idx = pd.IndexSlice\n\n# this is multi-index slicing\n# this will *always* work\nIn [18]: df.loc[idx['2014-01-01',:], 'Col1'] += 1\n\nIn [19]: df\nOut[19]: \n               Col1 Col2\nts         cat          \n2014-01-01 A      6    1\n           B      6    2\n           C      6    3\n           D      6    4\n2014-02-01 A    NaN  NaN\n           B    NaN  NaN\n           C    NaN  NaN\n           D    NaN  NaN\n\n# pandas automatically aligns the labels for you, so you need to tell it to just shove these values in (as the ``.values`` makes it a numpy array w/o the labels)\nIn [22]: df.loc[idx['2014-02-01',:], 'Col2'] = df.loc[idx['2014-01-01',:], 'Col2'].values\n\nIn [23]: df\nOut[23]: \n               Col1  Col2\nts         cat           \n2014-01-01 A      6     1\n           B      6     2\n           C      6     3\n           D      6     4\n2014-02-01 A    NaN     1\n           B    NaN     2\n           C    NaN     3\n           D    NaN     4\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/115368394",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10440#issuecomment-115368394",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10440",
    "id": 115368394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTM2ODM5NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T19:19:05Z",
    "updated_at": "2015-06-25T19:19:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'll mark this as a api-issue. I think that the 'shortcuts' about prob could work, they just may not be hooked up exactly right.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/115402695",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10440#issuecomment-115402695",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10440",
    "id": 115402695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTQwMjY5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T21:23:00Z",
    "updated_at": "2015-06-25T21:23:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "a possibility here would be to allow this:\n\n`df.loc(align=False)[idx['2014-02-01',:], 'Col2'] = df.loc[idx['2014-01-01',:], 'Col2']`\n\nIOW a keyword that would essentially do `.values` on the rhs and forgo alignment\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/115672227",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10440#issuecomment-115672227",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10440",
    "id": 115672227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTY3MjIyNw==",
    "user": {
      "login": "jim22k",
      "id": 2807270,
      "node_id": "MDQ6VXNlcjI4MDcyNzA=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2807270?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jim22k",
      "html_url": "https://github.com/jim22k",
      "followers_url": "https://api.github.com/users/jim22k/followers",
      "following_url": "https://api.github.com/users/jim22k/following{/other_user}",
      "gists_url": "https://api.github.com/users/jim22k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jim22k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jim22k/subscriptions",
      "organizations_url": "https://api.github.com/users/jim22k/orgs",
      "repos_url": "https://api.github.com/users/jim22k/repos",
      "events_url": "https://api.github.com/users/jim22k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jim22k/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-26T13:01:16Z",
    "updated_at": "2015-06-26T13:01:16Z",
    "author_association": "NONE",
    "body": "`df.loc(align=False)[]` looks really strange to me. Using `.values` on the rhs works fine. \n\nIf I want to avoid dropping into implicit alignment via numpy arrays, I found a way.\n\n``` python\nrhs = df.loc[idx['2014-01-01', :], 'Col2']\nrhs.index.set_levels([pd.Timestamp('2014-02-01')], level=0, inplace=True)\ndf.loc[idx['2014-02-01', :], 'Col2'] = rhs\n```\n\nIt's a little verbose, but functional. Between that and `.values`, I have two working solutions.\n\nThanks for the tip about `idx = pd.IndexSlice`. That makes working with multi-indexes much nicer.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/199301891",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10440#issuecomment-199301891",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10440",
    "id": 199301891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5OTMwMTg5MQ==",
    "user": {
      "login": "yosuah",
      "id": 5107186,
      "node_id": "MDQ6VXNlcjUxMDcxODY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5107186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yosuah",
      "html_url": "https://github.com/yosuah",
      "followers_url": "https://api.github.com/users/yosuah/followers",
      "following_url": "https://api.github.com/users/yosuah/following{/other_user}",
      "gists_url": "https://api.github.com/users/yosuah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yosuah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yosuah/subscriptions",
      "organizations_url": "https://api.github.com/users/yosuah/orgs",
      "repos_url": "https://api.github.com/users/yosuah/repos",
      "events_url": "https://api.github.com/users/yosuah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yosuah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-21T14:11:38Z",
    "updated_at": "2016-03-21T14:11:38Z",
    "author_association": "NONE",
    "body": "I just ran into the same issue and was about to report it when I found it has already been reported. I think this is a bug and very inconsistent, I see no reason why some of the assignments below should result in NaNs.\n\n``` python\ndf = pd.DataFrame([('a', 0, 1), ('a', 1, 2),\n                   ('b', 0, 1), ('b', 1, 2)], \n                  columns=['c1', 'c2', 'c3'])\ndf = df.set_index(['c1', 'c2'])\ndf = df.sortlevel(0)\nprint(df)\n\n           c3\n    c1 c2    \n    a  0    1\n       1    2\n    b  0    1\n       1    2\n```\n\n``` python\ndf.loc['a'] = 1\nprint(df.loc['a'])\n\n        c3\n    c2    \n    0    1\n    1    1\n```\n\n``` python\ndf.loc['b'] -= 1\nprint(df.loc['b'])\n\n        c3\n    c2    \n    0  NaN\n    1  NaN\n```\n\n``` python\ndf.loc['a'] = df.loc['b'].values\nprint(df.loc['a'])\n\n        c3\n    c2    \n    0    1\n    1    2\n```\n\n``` python\ndf.loc['a'] = df.loc['b']\nprint(df.loc['a'])\n\n        c3\n    c2    \n    0  NaN\n    1  NaN\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/199308623",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10440#issuecomment-199308623",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10440",
    "id": 199308623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5OTMwODYyMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-21T14:21:18Z",
    "updated_at": "2016-03-21T14:21:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yosuah you realize this _shouldn't_ work, right. the point of pandas is to ALIGN data. This is correct as these are different columns, they _don't_ align.\n\nthe only issue here is the inplace arithmetic.\n\n```\ndf.loc['a'] = df.loc['b']\nprint(df.loc['a'])\n\n        c3\n    c2    \n    0  NaN\n    1  NaN\n```\n"
  }
]
