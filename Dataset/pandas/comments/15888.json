[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/291506259",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15888#issuecomment-291506259",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15888",
    "id": 291506259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTUwNjI1OQ==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T13:52:22Z",
    "updated_at": "2017-04-04T13:52:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nice idea, xref #15751 - I was sort of backing into the same concept"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/291506479",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15888#issuecomment-291506479",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15888",
    "id": 291506479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTUwNjQ3OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T13:53:07Z",
    "updated_at": "2017-04-04T13:53:07Z",
    "author_association": "MEMBER",
    "body": "Not sure that will work with boolean indexing"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/291508823",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15888#issuecomment-291508823",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15888",
    "id": 291508823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTUwODgyMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T14:00:14Z",
    "updated_at": "2017-04-04T14:00:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "It *works*, but would need some internal modifications to make this compat\r\n```\r\nIn [9]: df = pd.DataFrame({'A':[1,2,3],'B':pd.Categorical([True, None, False])})\r\n\r\nIn [10]: df\r\nOut[10]: \r\n   A      B\r\n0  1   True\r\n1  2    NaN\r\n2  3  False\r\n\r\nIn [11]: df[np.array(df.B.fillna(False))]\r\nOut[11]: \r\n   A     B\r\n0  1  True\r\n\r\nIn [12]: df[df.B]\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-12-1757d22fed69> in <module>()\r\n----> 1 df[df.B]\r\n\r\n/Users/jreback/pandas/pandas/core/frame.py in __getitem__(self, key)\r\n   2061         if isinstance(key, (Series, np.ndarray, Index, list)):\r\n   2062             # either boolean or fancy integer index\r\n-> 2063             return self._getitem_array(key)\r\n   2064         elif isinstance(key, DataFrame):\r\n   2065             return self._getitem_frame(key)\r\n\r\n/Users/jreback/pandas/pandas/core/frame.py in _getitem_array(self, key)\r\n   2105             return self.take(indexer, axis=0, convert=False)\r\n   2106         else:\r\n-> 2107             indexer = self.loc._convert_to_indexer(key, axis=1)\r\n   2108             return self.take(indexer, axis=1, convert=True)\r\n   2109 \r\n\r\n/Users/jreback/pandas/pandas/core/indexing.py in _convert_to_indexer(self, obj, axis, is_setter)\r\n   1228                 mask = check == -1\r\n   1229                 if mask.any():\r\n-> 1230                     raise KeyError('%s not in index' % objarr[mask])\r\n   1231 \r\n   1232                 return _values_from_object(indexer)\r\n\r\nKeyError: '[True nan False] not in index'\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/291510292",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15888#issuecomment-291510292",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15888",
    "id": 291510292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTUxMDI5Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T14:05:24Z",
    "updated_at": "2017-04-04T14:05:24Z",
    "author_association": "MEMBER",
    "body": "I think you are using the wrong indexer (`df[df.B]` tries to select columns). Eg\r\n\r\n```\r\nIn [26]: df = pd.DataFrame({'A':[1,2,3],'B':pd.Categorical([True, None, False])})\r\n\r\nIn [27]: df.A[df.B]\r\nOut[27]: \r\nB\r\nTrue     2.0\r\nNaN      NaN\r\nFalse    1.0\r\nName: A, dtype: float64\r\n```\r\n\r\ndoes not work as you want (this should actually raise I think because you shouldn't do boolean indexing with NaN values)\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/291511782",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15888#issuecomment-291511782",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15888",
    "id": 291511782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTUxMTc4Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T14:10:23Z",
    "updated_at": "2017-04-04T14:10:23Z",
    "author_association": "MEMBER",
    "body": "Sorry, I was confused myself, of course something like `df[df.B]` should do boolean indexing if column B is of bool dtype. But the example above is still something that does not work (but can be solved in our indexing code of course). \r\nBut a problem is eg that (currently at least) `np.asarray(boolean_cat)` gives you an object array instead of boolean array, and numpy complains about that in certain cases."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/291511896",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15888#issuecomment-291511896",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15888",
    "id": 291511896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTUxMTg5Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T14:10:43Z",
    "updated_at": "2017-04-04T14:10:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche yeah not saying this *should* work when there are NaN's embedded anyhow :)\r\n\r\nbut yes this works now\r\n```\r\nIn [17]: df = pd.DataFrame({'A':[1,2],'B':pd.Categorical([True, False])})\r\n\r\nIn [18]: df\r\nOut[18]: \r\n   A      B\r\n0  1   True\r\n1  2  False\r\n\r\nIn [19]: df.loc[df.B]\r\nOut[19]: \r\n       A      B\r\nTrue   2  False\r\nFalse  1   True\r\n\r\nIn [20]: df.A[df.B]\r\nOut[20]: \r\nB\r\nTrue     2\r\nFalse    1\r\nName: A, dtype: int64\r\n```\r\n\r\nThough I think we should actualy have a ``BooleanIndex`` first :>\r\n```\r\nIn [30]: df.B.cat.categories\r\nOut[30]: Index([False, True], dtype='object')\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/291512091",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15888#issuecomment-291512091",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15888",
    "id": 291512091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTUxMjA5MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T14:11:22Z",
    "updated_at": "2017-04-04T14:11:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "> But a problem is eg that (currently at least) np.asarray(boolean_cat) gives you an object array instead of boolean array, and numpy complains about that in certain cases.\r\n\r\nThis is related to the not having ``BooleanIndex``"
  }
]
