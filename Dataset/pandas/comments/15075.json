[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270903979",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15075#issuecomment-270903979",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15075",
    "id": 270903979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkwMzk3OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-06T13:33:31Z",
    "updated_at": "2017-01-06T13:33:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "xref https://github.com/pandas-dev/pandas/issues/3341\r\n\r\nyou need to be explicit. with ambiguous dayfirst dates.\r\n\r\n```\r\nIn [19]: series_1 = pd.Series(['13/03/2000', '01/03/2000', '02/03/2000'])  # dates in European format\r\n    ...: series_2 = pd.Series(['01/03/2000', '13/03/2000', '02/03/2000'])  # same dates, reordered\r\n    ...:\r\n    ...: converted_1 = pd.to_datetime(series_1, dayfirst=True)\r\n    ...: converted_2 = pd.to_datetime(series_2, dayfirst=True)\r\n    ...:\r\n    ...:\r\n\r\nIn [20]: converted_1\r\nOut[20]:\r\n0   2000-03-13\r\n1   2000-03-01\r\n2   2000-03-02\r\ndtype: datetime64[ns]\r\n\r\nIn [21]: converted_2\r\nOut[21]:\r\n0   2000-03-01\r\n1   2000-03-13\r\n2   2000-03-02\r\ndtype: datetime64[ns]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270915794",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15075#issuecomment-270915794",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15075",
    "id": 270915794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkxNTc5NA==",
    "user": {
      "login": "abiteboul",
      "id": 19323160,
      "node_id": "MDQ6VXNlcjE5MzIzMTYw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/19323160?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abiteboul",
      "html_url": "https://github.com/abiteboul",
      "followers_url": "https://api.github.com/users/abiteboul/followers",
      "following_url": "https://api.github.com/users/abiteboul/following{/other_user}",
      "gists_url": "https://api.github.com/users/abiteboul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abiteboul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abiteboul/subscriptions",
      "organizations_url": "https://api.github.com/users/abiteboul/orgs",
      "repos_url": "https://api.github.com/users/abiteboul/repos",
      "events_url": "https://api.github.com/users/abiteboul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abiteboul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-06T14:39:08Z",
    "updated_at": "2017-01-06T14:39:08Z",
    "author_association": "NONE",
    "body": "I understand that `dayfirst=True` solves my issue ... if I already know whether my dates are in European format.\r\nThe point of this feature request was not to report a bug but, more generally, whether we would be able to determine this automatically based on the input Series: the dates individually are ambiguous, but the Series as a whole is not.\r\nPerhaps this is not feasible within reasonable computation cost, but as far as I am concerned it would be a big improvement."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270916770",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15075#issuecomment-270916770",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15075",
    "id": 270916770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkxNjc3MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-06T14:43:38Z",
    "updated_at": "2017-01-06T14:43:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "see this issue: https://github.com/pandas-dev/pandas/issues/12585\r\n\r\nwe have explicity discussed this. its is just waiting for someone to come along and do it. its not very difficult actually, pull -requests are welcome."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270919246",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15075#issuecomment-270919246",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15075",
    "id": 270919246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkxOTI0Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-06T14:54:26Z",
    "updated_at": "2017-01-06T14:54:26Z",
    "author_association": "MEMBER",
    "body": "@jreback It is not *completely* related to issue #12585. \r\nI suspect that in `pd.to_datetime(series_2, infer_datetime_format=True)`, the inferring of the format fails (or at least, you get an error with the inferred format based on the first date), and as a result it falls back to default `pd.to_datetime(series_2)` parsing with dateutil, and this has indeed the known inconsistent parsing -> #12585\r\n\r\nBut here, there are also other issues:\r\n\r\n* what @abiteboul asks: can the inferring of the datetime be based on more than the first value? (so the format inference would not fail in this case). Should look it up in the original issues/PRs discussing this feature, but probably performance is a good reason to not do this.\r\n* The failure to infer the datetime format is silent in this case, and for this reason the inconsistent parsing is maybe even more suprising, because the user thinks a format has been inferred."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270923514",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15075#issuecomment-270923514",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15075",
    "id": 270923514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkyMzUxNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-06T15:12:17Z",
    "updated_at": "2017-01-06T15:12:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah I suppose the format could be guess better here, but (maybe take up to three elements) and see if they match. BUT you still can contrive an example where this fails, so I would not be in favor of changing this, rather having the parser raise if the day/year first are violated, which is #12585 "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/270923825",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15075#issuecomment-270923825",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15075",
    "id": 270923825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkyMzgyNQ==",
    "user": {
      "login": "abiteboul",
      "id": 19323160,
      "node_id": "MDQ6VXNlcjE5MzIzMTYw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/19323160?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abiteboul",
      "html_url": "https://github.com/abiteboul",
      "followers_url": "https://api.github.com/users/abiteboul/followers",
      "following_url": "https://api.github.com/users/abiteboul/following{/other_user}",
      "gists_url": "https://api.github.com/users/abiteboul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abiteboul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abiteboul/subscriptions",
      "organizations_url": "https://api.github.com/users/abiteboul/orgs",
      "repos_url": "https://api.github.com/users/abiteboul/repos",
      "events_url": "https://api.github.com/users/abiteboul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abiteboul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-06T15:13:24Z",
    "updated_at": "2017-01-06T15:13:24Z",
    "author_association": "NONE",
    "body": "> I suspect that in pd.to_datetime(series_2, infer_datetime_format=True), the inferring of the format fails (or at least, you get an error with the inferred format based on the first date), and as a result it falls back to default pd.to_datetime(series_2) parsing with dateutil, and this has indeed the known inconsistent parsing -> #12585\r\n\r\nThat is correct, I tried checking with `timeit` and it does seem that with the second series the inferring fails (on bigger series than in my example, setting `infer_datetime_format=True` leads to a ~50x speedup for the first series, and no speedup for the second).\r\nSince this option is mainly there for speedup, it probably makes sense not to infer from more than the first value, and maybe some kind of warning would be appropriate when the inferring fails.\r\n\r\nIf we agree on this point, then I guess my issue is indeed basically the same as #12585. Sorry for mixing up two different problems, and thanks for your comments."
  }
]
