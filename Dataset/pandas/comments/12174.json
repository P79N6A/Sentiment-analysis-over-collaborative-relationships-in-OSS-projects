[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176761200",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-176761200",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 176761200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc2MTIwMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T13:46:24Z",
    "updated_at": "2016-01-29T13:46:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "dupe of #10536 \n\nwhen making a report, ideally would have a simple copy-pastable example as well as `pd.show_versions()`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176762901",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-176762901",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 176762901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc2MjkwMQ==",
    "user": {
      "login": "JeanLescut",
      "id": 15925379,
      "node_id": "MDQ6VXNlcjE1OTI1Mzc5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15925379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeanLescut",
      "html_url": "https://github.com/JeanLescut",
      "followers_url": "https://api.github.com/users/JeanLescut/followers",
      "following_url": "https://api.github.com/users/JeanLescut/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeanLescut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeanLescut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeanLescut/subscriptions",
      "organizations_url": "https://api.github.com/users/JeanLescut/orgs",
      "repos_url": "https://api.github.com/users/JeanLescut/repos",
      "events_url": "https://api.github.com/users/JeanLescut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeanLescut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T13:51:53Z",
    "updated_at": "2016-01-29T13:52:07Z",
    "author_association": "NONE",
    "body": "Hi,\n\nI don't understand, the issue https://github.com/pydata/pandas/issues/10536 says that :\n\n> The [code] above does work correctly for SparseDataFrames.\n\nMore over, `pd.show_versions()` get me :\n\n```\nINSTALLED VERSIONS\n------------------\ncommit: None\npython: 3.5.0.final.0\npython-bits: 64\nOS: Linux\nOS-release: 3.10.0-229.el7.x86_64\nmachine: x86_64\nprocessor: x86_64\nbyteorder: little\nLC_ALL: None\nLANG: en_US.UTF-8\n\npandas: 0.17.0\nnose: 1.3.7\npip: 8.0.2\nsetuptools: 18.4\nCython: 0.23.4\nnumpy: 1.10.1\nscipy: 0.16.0\nstatsmodels: 0.6.1\nIPython: 4.0.1\nsphinx: 1.3.1\npatsy: 0.4.0\ndateutil: 2.4.2\npytz: 2015.6\nblosc: None\nbottleneck: None\ntables: 3.2.2\nnumexpr: 2.4.4\nmatplotlib: 1.4.3\nopenpyxl: 2.2.6\nxlrd: 0.9.4\nxlwt: 1.0.0\nxlsxwriter: 0.7.7\nlxml: 3.4.4\nbs4: 4.4.1\nhtml5lib: None\nhttplib2: None\napiclient: None\nsqlalchemy: 1.0.9\npymysql: None\npsycopg2: None\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176763544",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-176763544",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 176763544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc2MzU0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T13:54:22Z",
    "updated_at": "2016-01-29T13:54:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "well, then pls show an example\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176764368",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-176764368",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 176764368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc2NDM2OA==",
    "user": {
      "login": "JeanLescut",
      "id": 15925379,
      "node_id": "MDQ6VXNlcjE1OTI1Mzc5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15925379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeanLescut",
      "html_url": "https://github.com/JeanLescut",
      "followers_url": "https://api.github.com/users/JeanLescut/followers",
      "following_url": "https://api.github.com/users/JeanLescut/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeanLescut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeanLescut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeanLescut/subscriptions",
      "organizations_url": "https://api.github.com/users/JeanLescut/orgs",
      "repos_url": "https://api.github.com/users/JeanLescut/repos",
      "events_url": "https://api.github.com/users/JeanLescut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeanLescut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T13:56:15Z",
    "updated_at": "2016-01-29T13:56:15Z",
    "author_association": "NONE",
    "body": "This is a pretty long example, sorry about it :\nMaybe it's not a bug, and I don't get something. (?)\n\n```\nimport pandas as pd\n\ndf1 = pd.DataFrame({'A': [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n              'B': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n              'C': [0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0],\n              'D': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n              'E': [0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0]},\n            index=['a','b','c','d','e','f','g','h','i','j','k','l']).to_sparse(fill_value=0)\n\ndf2 = pd.DataFrame({'F': [0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0],\n              'G': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0],\n              'H': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n              'I': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n              'J': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6]},\n            index=['a','b','c','d','e','f','g','h','i','j','k','l']).to_sparse(fill_value=0)\n\nprint(\"df1 sparse size =\", df1.memory_usage().sum(),\"Bytes, density =\", df1.density)\nprint(type(df1))\nprint('default_fill_value =', df1.default_fill_value)\nprint(df1.values)\n\nprint(\"df2 sparse size =\", df2.memory_usage().sum(),\"Bytes, density =\", df2.density)\nprint(type(df2))\nprint('default_fill_value =', df2.default_fill_value)\nprint(df2.values)\n\nresult = pd.concat([df1,df2], axis=1)\n\nprint(type(result)) # Seems alright\nprint('default_fill_value =', result.default_fill_value) # The default fill value is not 0 ???\nprint(result.values) # What's that \"nan\" blocks ?\n# result.density # Throw an error\n# result.memory_usage # Throw an error\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176774441",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-176774441",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 176774441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc3NDQ0MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T14:11:38Z",
    "updated_at": "2016-01-29T14:11:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "its the same issue as I pointed\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176775701",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-176775701",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 176775701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc3NTcwMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T14:14:34Z",
    "updated_at": "2016-01-29T14:14:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "added to the master issue. Sparse have not gotten a lot of TLC; need someone to step up and give them some :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/176775995",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-176775995",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 176775995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc3NTk5NQ==",
    "user": {
      "login": "JeanLescut",
      "id": 15925379,
      "node_id": "MDQ6VXNlcjE1OTI1Mzc5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/15925379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeanLescut",
      "html_url": "https://github.com/JeanLescut",
      "followers_url": "https://api.github.com/users/JeanLescut/followers",
      "following_url": "https://api.github.com/users/JeanLescut/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeanLescut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeanLescut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeanLescut/subscriptions",
      "organizations_url": "https://api.github.com/users/JeanLescut/orgs",
      "repos_url": "https://api.github.com/users/JeanLescut/repos",
      "events_url": "https://api.github.com/users/JeanLescut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeanLescut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-29T14:15:10Z",
    "updated_at": "2016-01-29T14:15:10Z",
    "author_association": "NONE",
    "body": "Yes https://github.com/pydata/pandas/issues/10627 is certainly root cause\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284358152",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-284358152",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 284358152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDM1ODE1Mg==",
    "user": {
      "login": "yonatanp",
      "id": 3472343,
      "node_id": "MDQ6VXNlcjM0NzIzNDM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3472343?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yonatanp",
      "html_url": "https://github.com/yonatanp",
      "followers_url": "https://api.github.com/users/yonatanp/followers",
      "following_url": "https://api.github.com/users/yonatanp/following{/other_user}",
      "gists_url": "https://api.github.com/users/yonatanp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yonatanp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yonatanp/subscriptions",
      "organizations_url": "https://api.github.com/users/yonatanp/orgs",
      "repos_url": "https://api.github.com/users/yonatanp/repos",
      "events_url": "https://api.github.com/users/yonatanp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yonatanp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T10:25:54Z",
    "updated_at": "2017-03-06T10:25:54Z",
    "author_association": "NONE",
    "body": "In case this ever helps someone, here is my favorite workaround for fixing semi-sparse dataframes:\r\n```\r\ndef fix_broken_semi_sparse_columns_inplace(df, fill_value=0):\r\n        \"\"\"\r\n        Things happen in a DataFrame's life that gets some of its columns to be \"semi-sparse\".\r\n        The tell-tale of this illness is when a column is of type `SparseSeries` but has no `sp_values` member.\r\n        This function takes `df` and identifies its broken columns; and then cuts-fixes-reinserts them in same order.\r\n        Hopefully this is more efficient than just calling df.to_sparse(fill_value=fill_value).\r\n        \"\"\"\r\n        # TODO: what should we do if `df` is not a SparseDataFrame?\r\n        #       right now we raise to make sure we notice if it happens.\r\n        if not isinstance(df, pd.SparseDataFrame):\r\n            raise Exception(\"df is not a SparseDataFrame (while not necessarily bad, it's unexpected and wasn't tested\")\r\n        columns = df.columns.tolist()\r\n        for (index, column) in enumerate(columns):\r\n            # we only want SparseSeries\r\n            if not isinstance(df[column], pd.SparseSeries):\r\n                continue\r\n            # we only want broken ones\r\n            if hasattr(df[column], \"sp_values\"):\r\n                continue\r\n            # cut-fix-insert\r\n            df_of_col = df[[column]]\r\n            df_of_col_fixed = df_of_col.to_sparse(fill_value=fill_value)\r\n            col_fixed = df_of_col_fixed[column]\r\n            del df[column]\r\n            df.insert(index, column, col_fixed)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284413214",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-284413214",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 284413214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDQxMzIxNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T14:37:06Z",
    "updated_at": "2017-03-06T14:37:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yonatanp not sure what you are showing here. This issue was fixed in 0.18.1"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/287594124",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12174#issuecomment-287594124",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12174",
    "id": 287594124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzU5NDEyNA==",
    "user": {
      "login": "mdgoldberg",
      "id": 6426942,
      "node_id": "MDQ6VXNlcjY0MjY5NDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6426942?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdgoldberg",
      "html_url": "https://github.com/mdgoldberg",
      "followers_url": "https://api.github.com/users/mdgoldberg/followers",
      "following_url": "https://api.github.com/users/mdgoldberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdgoldberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdgoldberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdgoldberg/subscriptions",
      "organizations_url": "https://api.github.com/users/mdgoldberg/orgs",
      "repos_url": "https://api.github.com/users/mdgoldberg/repos",
      "events_url": "https://api.github.com/users/mdgoldberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdgoldberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-19T04:43:40Z",
    "updated_at": "2017-03-19T04:43:40Z",
    "author_association": "NONE",
    "body": "I still have this issue, when using pd.concat(..., axis=1) on SparseDataFrames with the same fill value:\r\n\r\n```\r\nimport pandas as pd, numpy as np\r\ndf = pd.SparseDataFrame(np.random.choice([0., 1.], size=(5,5)), default_fill_value=0.)\r\ndf.density, df.default_fill_value\r\n# results in density around 0.5, default_fill_value = 0\r\nconcatted = pd.concat((df, df), axis=1)\r\nconcatted.density, concatted.default_fill_value\r\n# results in same density around 0.5, default_fill_value = nan\r\n```"
  }
]
