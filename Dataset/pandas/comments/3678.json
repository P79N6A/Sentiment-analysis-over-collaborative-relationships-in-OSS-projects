[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18247651",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-18247651",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 18247651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQ3NjUx",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-21T23:08:53Z",
    "updated_at": "2013-05-21T23:16:28Z",
    "author_association": "MEMBER",
    "body": "their labels become `-1`...maybe it's being used as a sentinel here. i vote for `nan` levels, but i don't really use this much\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18248835",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-18248835",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 18248835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQ4ODM1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-21T23:41:25Z",
    "updated_at": "2013-05-21T23:41:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes\nthe -1 means it was not found so u could then do something with it/ignore whatever \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49127662",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-49127662",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 49127662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTI3NjYy",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T06:19:36Z",
    "updated_at": "2014-07-16T06:19:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "right now, you can use `np.nan` as a level: `pd.Categorical(values, levels=[1,2,3,np.nan])`. Per default,  NaN is not used as a level but as NaN (-1). AFAIK there is no way to \"rename\" NaN other than first addin np.nan to the levels and then doing a reassign (`cat[isnull(cat)] = np.nan`).\n\n@jseabold is that enough? Or do you need an explicit \"use NaN as a level\" keyword?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49154584",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-49154584",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 49154584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTU0NTg0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T11:50:26Z",
    "updated_at": "2014-07-16T11:50:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JanSchulz I think this is a bug actually. When you construct this `categorical`, the levels are float64; like `np.nan` is being intermixed somehow. When it should be specially treated. What should this looks like? (I think the `describe` part is a sympton not the problem).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49209366",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-49209366",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 49209366,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjA5MzY2",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T18:47:09Z",
    "updated_at": "2014-07-16T18:47:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have a fix in #7768, but this doesn't work yet:\n\n```\ncat = pd.Categorical([1,2,3, np.nan], levels=[1,2,3])\ncat.levels = [1,2,3,np.nan]\ncat[pd.isnull(cat)] = np.nan\nTraceback (most recent call last):\n  File \"C:\\portabel\\miniconda\\envs\\pandas_dev\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2883, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-33-e0614b20be67>\", line 1, in <module>\n    cat[pd.isnull(cat)] = np.nan\n  File \"c:\\data\\external\\pandas\\pandas\\core\\categorical.py\", line 771, in __setitem__\n    # require identical level set\nValueError: cannot setitem on a Categorical with a new level, set the levels first\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49209578",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-49209578",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 49209578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjA5NTc4",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T18:48:49Z",
    "updated_at": "2014-07-16T18:48:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "The describe call also still fails... I investigate...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49219938",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-49219938",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 49219938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjE5OTM4",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T20:11:14Z",
    "updated_at": "2014-07-16T20:11:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "describe is fixed as well: https://github.com/JanSchulz/pandas/commit/1334684e1ad6015e652a71b41d2b5e2d226ce9be\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/49223062",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3678#issuecomment-49223062",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3678",
    "id": 49223062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjIzMDYy",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T20:36:13Z",
    "updated_at": "2014-07-16T21:45:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "all three issues should be done in #7768 . If one wants to have np.nan in levels, one would have to specify the levels: `Categorical(values, levels=[1,2,3,np.nan])`.\n"
  }
]
