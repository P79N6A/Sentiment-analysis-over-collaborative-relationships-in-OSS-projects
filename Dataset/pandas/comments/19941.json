[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/369402633",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-369402633",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 369402633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTQwMjYzMw==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T22:17:06Z",
    "updated_at": "2018-02-28T22:17:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was able to repro the original SO question, but not your example, for what that's worth - only difference seems to be I'm on win64.\r\n```python\r\nprint('before:', process.memory_info().rss // 1e6, 'MB')\r\nlist(e.map(pd.read_csv, ['large_random.csv'] * 8))\r\ntime.sleep(1)  # let things settle\r\nprint('after:', process.memory_info().rss // 1e6, 'MB')\r\nbefore: 125.0 MB\r\nafter: 129.0 MB\r\n```\r\n\r\n`pd.show_versions()`\r\n<details>\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.1.final.0\r\npython-bits: 64\r\nOS: Windows\r\nOS-release: 7\r\nmachine: AMD64\r\nprocessor: Intel64 Family 6 Model 78 Stepping 3, GenuineIntel\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: None\r\nLOCALE: None.None\r\n\r\npandas: 0.22.0\r\npytest: 3.2.1\r\npip: 9.0.1\r\nsetuptools: 38.5.1\r\nCython: 0.25.2\r\nnumpy: 1.14.0\r\nscipy: 1.0.0\r\npyarrow: 0.7.1\r\nxarray: 0.9.6\r\nIPython: 6.1.0\r\nsphinx: 1.6.3\r\npatsy: 0.5.0\r\ndateutil: 2.6.1\r\npytz: 2017.3\r\nblosc: None\r\nbottleneck: 1.2.1\r\ntables: 3.4.2\r\nnumexpr: 2.6.2\r\nfeather: None\r\nmatplotlib: 2.1.2\r\nopenpyxl: 2.4.10\r\nxlrd: 1.0.0\r\nxlwt: None\r\nxlsxwriter: 0.9.6\r\nlxml: 3.8.0\r\nbs4: 4.6.0\r\nhtml5lib: 0.999\r\nsqlalchemy: 1.1.11\r\npymysql: None\r\npsycopg2: 2.7.1 (dt dec pq3 ext lo64)\r\njinja2: 2.9.6\r\ns3fs: 0.1.1\r\nfastparquet: 0.1.0\r\npandas_gbq: None\r\npandas_datareader: 0.5.0\r\n</details>\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/369610624",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-369610624",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 369610624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTYxMDYyNA==",
    "user": {
      "login": "jeremycg",
      "id": 3003997,
      "node_id": "MDQ6VXNlcjMwMDM5OTc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3003997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeremycg",
      "html_url": "https://github.com/jeremycg",
      "followers_url": "https://api.github.com/users/jeremycg/followers",
      "following_url": "https://api.github.com/users/jeremycg/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeremycg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeremycg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeremycg/subscriptions",
      "organizations_url": "https://api.github.com/users/jeremycg/orgs",
      "repos_url": "https://api.github.com/users/jeremycg/repos",
      "events_url": "https://api.github.com/users/jeremycg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeremycg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T14:35:13Z",
    "updated_at": "2018-03-01T14:35:13Z",
    "author_association": "NONE",
    "body": "Thanks a million for tracking this down (I was the asker of the original SO question)!\r\n\r\nI can repeat this on my setup:\r\nbefore: 67.0 MB\r\nafter: 66.0 MB\r\nbefore: 66.0 MB\r\nafter: 297.0 MB\r\n\r\nBut, it looks like this is not the problem in the original question - using this modification on my real data, it fixes the problem with dask:\r\n\r\ninitial memory: 68.98046875\r\ndata in memory: 11390.87109375\r\ndata frame usage: 11079.813480377197\r\nAfter function call: 11649.90234375\r\n\r\nI'll make a reproducible example, and file this against dask\r\n\r\n`pd.show_versions()`\r\n\r\n<details>\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.5.3.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.9.77-31.58.amzn1.x86_64\r\nmachine: x86_64\r\nprocessor: x86_64\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_US.UTF-8\r\nLOCALE: en_US.UTF-8\r\n\r\npandas: 0.20.1\r\npytest: None\r\npip: 9.0.1\r\nsetuptools: 27.2.0\r\nCython: 0.26\r\nnumpy: 1.12.1\r\nscipy: 0.19.0\r\nxarray: None\r\nIPython: 6.1.0\r\nsphinx: None\r\npatsy: None\r\ndateutil: 2.6.0\r\npytz: 2017.2\r\nblosc: None\r\nbottleneck: None\r\ntables: 3.3.0\r\nnumexpr: 2.6.2\r\nfeather: 0.4.0\r\nmatplotlib: None\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: 0.9999999\r\nsqlalchemy: 1.1.9\r\npymysql: None\r\npsycopg2: 2.7.1 (dt dec pq3 ext lo64)\r\njinja2: 2.9.6\r\ns3fs: 0.1.2\r\npandas_gbq: None\r\npandas_datareader: None\r\n\r\n</details>\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/371932035",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-371932035",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 371932035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTkzMjAzNQ==",
    "user": {
      "login": "birdsarah",
      "id": 1796208,
      "node_id": "MDQ6VXNlcjE3OTYyMDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1796208?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/birdsarah",
      "html_url": "https://github.com/birdsarah",
      "followers_url": "https://api.github.com/users/birdsarah/followers",
      "following_url": "https://api.github.com/users/birdsarah/following{/other_user}",
      "gists_url": "https://api.github.com/users/birdsarah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/birdsarah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/birdsarah/subscriptions",
      "organizations_url": "https://api.github.com/users/birdsarah/orgs",
      "repos_url": "https://api.github.com/users/birdsarah/repos",
      "events_url": "https://api.github.com/users/birdsarah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/birdsarah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T20:11:03Z",
    "updated_at": "2018-03-09T20:11:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am using read_parquet (via dask) and also have things lurking around in memory."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/371960712",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-371960712",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 371960712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk2MDcxMg==",
    "user": {
      "login": "mrocklin",
      "id": 306380,
      "node_id": "MDQ6VXNlcjMwNjM4MA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/306380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrocklin",
      "html_url": "https://github.com/mrocklin",
      "followers_url": "https://api.github.com/users/mrocklin/followers",
      "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
      "organizations_url": "https://api.github.com/users/mrocklin/orgs",
      "repos_url": "https://api.github.com/users/mrocklin/repos",
      "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrocklin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T22:15:46Z",
    "updated_at": "2018-03-09T22:15:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@birdsarah it would be useful to isolate this problem to either dask or pandas by running your computation under both the single-threaded scheduler and the multi-threaded scheduler\r\n\r\n    dask.set_options(get=dask.local.get_sync)\r\n    dask.set_options(get=dask.threaded.get)\r\n\r\nAnd then measure the amount of memory that your process is taking up\r\n\r\n```python\r\nimport psutil\r\npsutil.Process().memory_info().rss\r\n```\r\n\r\nIf it takes up a fair amount of memory when using the threaded scheduler but not when using the single threaded scheduler then I think it would be likely that we could isolate this to Pandas memory management."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/371960776",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-371960776",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 371960776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk2MDc3Ng==",
    "user": {
      "login": "mrocklin",
      "id": 306380,
      "node_id": "MDQ6VXNlcjMwNjM4MA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/306380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrocklin",
      "html_url": "https://github.com/mrocklin",
      "followers_url": "https://api.github.com/users/mrocklin/followers",
      "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
      "organizations_url": "https://api.github.com/users/mrocklin/orgs",
      "repos_url": "https://api.github.com/users/mrocklin/repos",
      "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrocklin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T22:16:06Z",
    "updated_at": "2018-03-09T22:16:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Assuming you have time of course, which I realize may be a large assumption."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/371976304",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-371976304",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 371976304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk3NjMwNA==",
    "user": {
      "login": "birdsarah",
      "id": 1796208,
      "node_id": "MDQ6VXNlcjE3OTYyMDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1796208?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/birdsarah",
      "html_url": "https://github.com/birdsarah",
      "followers_url": "https://api.github.com/users/birdsarah/followers",
      "following_url": "https://api.github.com/users/birdsarah/following{/other_user}",
      "gists_url": "https://api.github.com/users/birdsarah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/birdsarah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/birdsarah/subscriptions",
      "organizations_url": "https://api.github.com/users/birdsarah/orgs",
      "repos_url": "https://api.github.com/users/birdsarah/repos",
      "events_url": "https://api.github.com/users/birdsarah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/birdsarah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T23:39:35Z",
    "updated_at": "2018-03-09T23:39:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Think this worked. Here's a gist. Threaded seems to take up more memory. https://gist.github.com/birdsarah/ea0b4978f25f0bb1e2389cd04b4bf287"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392735735",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-392735735",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 392735735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjczNTczNQ==",
    "user": {
      "login": "kuraga",
      "id": 1063219,
      "node_id": "MDQ6VXNlcjEwNjMyMTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1063219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kuraga",
      "html_url": "https://github.com/kuraga",
      "followers_url": "https://api.github.com/users/kuraga/followers",
      "following_url": "https://api.github.com/users/kuraga/following{/other_user}",
      "gists_url": "https://api.github.com/users/kuraga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kuraga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kuraga/subscriptions",
      "organizations_url": "https://api.github.com/users/kuraga/orgs",
      "repos_url": "https://api.github.com/users/kuraga/repos",
      "events_url": "https://api.github.com/users/kuraga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kuraga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T10:55:16Z",
    "updated_at": "2018-05-29T11:21:06Z",
    "author_association": "NONE",
    "body": "I don't know if it's the same but:\r\n\r\n```python3\r\n# 400 MB RAM usage (in htop, all the system)\r\nimport pandas as pd\r\nimport gc\r\ndf = pd.read_csv('df.csv')\r\n# 2 GB\r\ndel df\r\ngc.collect()\r\n# 1.15 GB\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392818085",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-392818085",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 392818085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjgxODA4NQ==",
    "user": {
      "login": "mrocklin",
      "id": 306380,
      "node_id": "MDQ6VXNlcjMwNjM4MA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/306380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrocklin",
      "html_url": "https://github.com/mrocklin",
      "followers_url": "https://api.github.com/users/mrocklin/followers",
      "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
      "organizations_url": "https://api.github.com/users/mrocklin/orgs",
      "repos_url": "https://api.github.com/users/mrocklin/repos",
      "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrocklin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T15:23:26Z",
    "updated_at": "2018-05-29T15:23:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @kuraga .  This example would be more useful if people here could reproduce it easily, ideally without downloading a particular file.  Are you able to create a self-contained example, similar to the example given in the original post that demonstrates this issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/392848566",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-392848566",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 392848566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjg0ODU2Ng==",
    "user": {
      "login": "kuraga",
      "id": 1063219,
      "node_id": "MDQ6VXNlcjEwNjMyMTk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1063219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kuraga",
      "html_url": "https://github.com/kuraga",
      "followers_url": "https://api.github.com/users/kuraga/followers",
      "following_url": "https://api.github.com/users/kuraga/following{/other_user}",
      "gists_url": "https://api.github.com/users/kuraga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kuraga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kuraga/subscriptions",
      "organizations_url": "https://api.github.com/users/kuraga/orgs",
      "repos_url": "https://api.github.com/users/kuraga/repos",
      "events_url": "https://api.github.com/users/kuraga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kuraga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T16:48:57Z",
    "updated_at": "2018-05-29T16:54:48Z",
    "author_association": "NONE",
    "body": "@mrocklin Hm... Seems like I've found a magic line...\r\n\r\n```python3\r\nwith open('df.csv', 'wt') as f:\r\n    f.write('item_id,user_id,region,city,parent_category_name,category_name,param_1,param_2,param_3,title,description,price,item_seq_number,activation_date,user_type,image,image_top_1,deal_probability')\r\n    for n in range(4000):\r\n        f.write(\"\"\"ba83aefab5dc,91e2f88dd6e3,Ростовская область,Ростов-на-Дону,Бытовая электроника,Аудио и видео,\"Видео, DVD и Blu-ray плееры\",,,Philips bluray,\"В хорошем состоянии, домашний кинотеатр с blu ray, USB. Если настроить, то работает смарт тв /\r\nТорг\",4000.0,9,2017-03-20,Private,b7f250ee3f39e1fedd77c141f273703f4a9be59db4b48a8713f112c67e29bb42,3032.0,0.43177\"\"\")\r\n```\r\n\r\n```python3\r\nimport pandas as pd\r\ndf = pd.read_csv('df.csv')\r\n\r\nimport gc\r\ndel df\r\ngc.collect()\r\n```\r\n\r\nAnd reading is slow...\r\n\r\n<details>\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.3.final.0\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 4.14.19-calculate\r\nmachine: x86_64\r\nprocessor: Intel(R) Core(TM) i7-4770 CPU @ 3.40GHz\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: ru_RU.utf8\r\nLOCALE: ru_RU.UTF-8\r\n\r\npandas: 0.23.0\r\npytest: None\r\npip: 10.0.1\r\nsetuptools: 39.1.0\r\nCython: None\r\nnumpy: 1.14.3\r\nscipy: 1.1.0\r\npyarrow: None\r\nxarray: None\r\nIPython: 6.4.0\r\nsphinx: None\r\npatsy: 0.5.0\r\ndateutil: 2.7.3\r\npytz: 2018.4\r\nblosc: None\r\nbottleneck: None\r\ntables: None\r\nnumexpr: None\r\nfeather: None\r\nmatplotlib: 2.2.2\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: 0.9999999\r\nsqlalchemy: None\r\npymysql: None\r\npsycopg2: None\r\njinja2: 2.10\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\n</details>"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/402329040",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-402329040",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 402329040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjMyOTA0MA==",
    "user": {
      "login": "little-eyes",
      "id": 1495542,
      "node_id": "MDQ6VXNlcjE0OTU1NDI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1495542?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/little-eyes",
      "html_url": "https://github.com/little-eyes",
      "followers_url": "https://api.github.com/users/little-eyes/followers",
      "following_url": "https://api.github.com/users/little-eyes/following{/other_user}",
      "gists_url": "https://api.github.com/users/little-eyes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/little-eyes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/little-eyes/subscriptions",
      "organizations_url": "https://api.github.com/users/little-eyes/orgs",
      "repos_url": "https://api.github.com/users/little-eyes/repos",
      "events_url": "https://api.github.com/users/little-eyes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/little-eyes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-04T00:34:12Z",
    "updated_at": "2018-07-04T00:34:12Z",
    "author_association": "NONE",
    "body": "same problem running in a docker container to load 14gb data, however, it exceeds my 64gb memory limit very quickly.."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/404154180",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-404154180",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 404154180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDE1NDE4MA==",
    "user": {
      "login": "vanerpool",
      "id": 15270348,
      "node_id": "MDQ6VXNlcjE1MjcwMzQ4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/15270348?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vanerpool",
      "html_url": "https://github.com/vanerpool",
      "followers_url": "https://api.github.com/users/vanerpool/followers",
      "following_url": "https://api.github.com/users/vanerpool/following{/other_user}",
      "gists_url": "https://api.github.com/users/vanerpool/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vanerpool/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vanerpool/subscriptions",
      "organizations_url": "https://api.github.com/users/vanerpool/orgs",
      "repos_url": "https://api.github.com/users/vanerpool/repos",
      "events_url": "https://api.github.com/users/vanerpool/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vanerpool/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T12:39:19Z",
    "updated_at": "2018-07-11T12:42:23Z",
    "author_association": "NONE",
    "body": "also have same problem as @little-eyes \r\nDocker + 12GB data\r\n\r\n```\r\n# 80 MB RAM usage\r\nimport pandas as pd\r\nimport gc\r\ndf = pd.read_csv('df.csv')\r\n# 12.6 GB\r\ndel df\r\ngc.collect()\r\n# 6.1 GB\r\n```\r\n\r\npandas: 0.23.1, docker: 17.12.1-ce"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/408824435",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-408824435",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 408824435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODgyNDQzNQ==",
    "user": {
      "login": "birdsarah",
      "id": 1796208,
      "node_id": "MDQ6VXNlcjE3OTYyMDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1796208?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/birdsarah",
      "html_url": "https://github.com/birdsarah",
      "followers_url": "https://api.github.com/users/birdsarah/followers",
      "following_url": "https://api.github.com/users/birdsarah/following{/other_user}",
      "gists_url": "https://api.github.com/users/birdsarah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/birdsarah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/birdsarah/subscriptions",
      "organizations_url": "https://api.github.com/users/birdsarah/orgs",
      "repos_url": "https://api.github.com/users/birdsarah/repos",
      "events_url": "https://api.github.com/users/birdsarah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/birdsarah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-30T10:52:18Z",
    "updated_at": "2018-07-30T11:22:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mrocklin, I was playing with this to see if I could track anything further down.\r\n\r\nI noticed that if I run without multithreading, I still appear to get a memory leak:\r\n\r\n```python\r\n    process = psutil.Process()\r\n    print('before:', process.memory_info().rss // 1e6, 'MB')\r\n    for i in range(8):\r\n        pd.read_csv(test_data, engine='python')\r\n    time.sleep(2)\r\n    print('after:', process.memory_info().rss // 1e6, 'MB')\r\n```\r\n\r\n(test_data is the csv written to disk by your original code)\r\n\r\nResult 1 - `engine='python'`:\r\n```\r\nbefore: 71.0 MB\r\nafter: 113.0 MB\r\n```\r\n\r\nResult 2 - `engine='c'`:\r\n```\r\nbefore: 72.0 MB\r\nafter: 119.0 MB\r\n```\r\n\r\nThis is on Linux (Fedora)\r\n\r\n```\r\n$ conda list pandas\r\n\r\n# Name                    Version                   Build  Channel\r\npandas                    0.23.2           py36h04863e7_0 \r\n```\r\n\r\n\r\nEdit: This may be nothing. If I wait longer and garbage collect it seems to clear up."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413072282",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19941#issuecomment-413072282",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19941",
    "id": 413072282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzA3MjI4Mg==",
    "user": {
      "login": "birdsarah",
      "id": 1796208,
      "node_id": "MDQ6VXNlcjE3OTYyMDg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1796208?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/birdsarah",
      "html_url": "https://github.com/birdsarah",
      "followers_url": "https://api.github.com/users/birdsarah/followers",
      "following_url": "https://api.github.com/users/birdsarah/following{/other_user}",
      "gists_url": "https://api.github.com/users/birdsarah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/birdsarah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/birdsarah/subscriptions",
      "organizations_url": "https://api.github.com/users/birdsarah/orgs",
      "repos_url": "https://api.github.com/users/birdsarah/repos",
      "events_url": "https://api.github.com/users/birdsarah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/birdsarah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T02:08:01Z",
    "updated_at": "2018-08-15T03:09:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Relevant discussion: https://github.com/dask/dask/issues/3530\r\n\r\nsetting `MALLOC_MMAP_THRESHOLD_=16384` results in a significant improvement using the original code that @mrocklin posted."
  }
]
