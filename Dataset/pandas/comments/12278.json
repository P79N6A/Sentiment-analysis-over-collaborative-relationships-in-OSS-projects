[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182339095",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-182339095",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 182339095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjMzOTA5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T12:12:49Z",
    "updated_at": "2016-02-10T12:12:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "pls pd.show_versions()\nand an example \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182422484",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-182422484",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 182422484,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQyMjQ4NA==",
    "user": {
      "login": "joshlk",
      "id": 5648645,
      "node_id": "MDQ6VXNlcjU2NDg2NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5648645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlk",
      "html_url": "https://github.com/joshlk",
      "followers_url": "https://api.github.com/users/joshlk/followers",
      "following_url": "https://api.github.com/users/joshlk/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlk/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlk/orgs",
      "repos_url": "https://api.github.com/users/joshlk/repos",
      "events_url": "https://api.github.com/users/joshlk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T15:21:24Z",
    "updated_at": "2016-02-10T15:21:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry @jreback more details have been added above\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182426808",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-182426808",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 182426808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQyNjgwOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T15:29:17Z",
    "updated_at": "2016-02-10T15:29:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "so, `.unique` on a categorical has a couple of guarantees, namely that it is in the order of appearance, and it only includes values that are actually present, e.g.\n\n```\nIn [3]: s = Series(list('babc')).astype('category',categories=list('abcd'))\n\nIn [4]: s.unique()\nOut[4]: \n[b, a, c]\nCategories (3, object): [b, a, c]\n\nIn [6]: s.cat.categories\nOut[6]: Index([u'a', u'b', u'c', u'd'], dtype='object')\n```\n\nso if you want `.categories`, then just use that. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182427866",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-182427866",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 182427866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQyNzg2Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T15:30:46Z",
    "updated_at": "2016-02-10T15:30:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "I suppose it is possible to add an option (to all `.unique`), not just this one, to do some sort of `quick` uniqueness like this, but not sure of the utility beyond categoricals.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182428649",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-182428649",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 182428649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQyODY0OQ==",
    "user": {
      "login": "joshlk",
      "id": 5648645,
      "node_id": "MDQ6VXNlcjU2NDg2NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5648645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlk",
      "html_url": "https://github.com/joshlk",
      "followers_url": "https://api.github.com/users/joshlk/followers",
      "following_url": "https://api.github.com/users/joshlk/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlk/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlk/orgs",
      "repos_url": "https://api.github.com/users/joshlk/repos",
      "events_url": "https://api.github.com/users/joshlk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T15:31:48Z",
    "updated_at": "2016-02-10T15:31:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I didn't realise that, I thought they were equivalent. Thanks\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182445522",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-182445522",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 182445522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQ0NTUyMg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T16:00:07Z",
    "updated_at": "2016-02-10T16:00:07Z",
    "author_association": "MEMBER",
    "body": "It would be good to clarify this in the docs I think:\n- [ ] add a note to the docstring of `categories` that this includes all categories and not only those present in the data\n- [ ] add the above example (https://github.com/pydata/pandas/issues/12278#issuecomment-182426808) to the tutorial docs `categorical.rst`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182446244",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-182446244",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 182446244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQ0NjI0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T16:02:13Z",
    "updated_at": "2016-02-10T16:02:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok, let's repurpose this then. @joshlk want to do a PR?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/187014167",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-187014167",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 187014167,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzAxNDE2Nw==",
    "user": {
      "login": "Dorozhko-Anton",
      "id": 6677779,
      "node_id": "MDQ6VXNlcjY2Nzc3Nzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6677779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dorozhko-Anton",
      "html_url": "https://github.com/Dorozhko-Anton",
      "followers_url": "https://api.github.com/users/Dorozhko-Anton/followers",
      "following_url": "https://api.github.com/users/Dorozhko-Anton/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dorozhko-Anton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dorozhko-Anton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dorozhko-Anton/subscriptions",
      "organizations_url": "https://api.github.com/users/Dorozhko-Anton/orgs",
      "repos_url": "https://api.github.com/users/Dorozhko-Anton/repos",
      "events_url": "https://api.github.com/users/Dorozhko-Anton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dorozhko-Anton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-22T05:03:34Z",
    "updated_at": "2016-02-22T05:03:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can I get this one?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/187016147",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-187016147",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 187016147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzAxNjE0Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-22T05:06:27Z",
    "updated_at": "2016-02-22T05:06:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "sure\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/187748271",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-187748271",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 187748271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Nzc0ODI3MQ==",
    "user": {
      "login": "joshlk",
      "id": 5648645,
      "node_id": "MDQ6VXNlcjU2NDg2NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5648645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlk",
      "html_url": "https://github.com/joshlk",
      "followers_url": "https://api.github.com/users/joshlk/followers",
      "following_url": "https://api.github.com/users/joshlk/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlk/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlk/orgs",
      "repos_url": "https://api.github.com/users/joshlk/repos",
      "events_url": "https://api.github.com/users/joshlk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-23T15:34:58Z",
    "updated_at": "2016-02-23T15:34:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for adding the clarity to the docs\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348289020",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-348289020",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 348289020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODI4OTAyMA==",
    "user": {
      "login": "kodonnell",
      "id": 8204904,
      "node_id": "MDQ6VXNlcjgyMDQ5MDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8204904?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kodonnell",
      "html_url": "https://github.com/kodonnell",
      "followers_url": "https://api.github.com/users/kodonnell/followers",
      "following_url": "https://api.github.com/users/kodonnell/following{/other_user}",
      "gists_url": "https://api.github.com/users/kodonnell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kodonnell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kodonnell/subscriptions",
      "organizations_url": "https://api.github.com/users/kodonnell/orgs",
      "repos_url": "https://api.github.com/users/kodonnell/repos",
      "events_url": "https://api.github.com/users/kodonnell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kodonnell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T19:08:22Z",
    "updated_at": "2017-11-30T19:08:22Z",
    "author_association": "NONE",
    "body": "I just came across this, and my example also showed 2-3 orders of magnitude performance increase, which:\r\n\r\n- is pretty sweet for the user, and\r\n- probably could be extended beyond `unique` (e.g. in grouping etc.)\r\n\r\n> I suppose it is possible to add an option (to all .unique), not just this one, to do some sort of quick uniqueness like this, but not sure of the utility beyond categoricals.\r\n\r\nI'd take a somewhat different approach so that no API changes are required, and the win is 'free' in the 'standard' use cases (i.e. something like `df['col1'] = df.col1.astype('category')`, i.e. without manually specifying unused categories). That is, my naive gut feeling is that it shouldn't be too hard to add a flag to a categorical column for whether or not it's `amenable to quick uniqing`. Then all that's required is changing `unique` to detect 'if column is categorical and is` amenable to quick uniquing`, then use the quick method'. No change that I can see for the user (in API or the result) except much better performance. Thoughts @jreback ?\r\n\r\nNote:\r\n\r\n- would need to check for `np.nan` - could use `.cat.codes` for that as opposed to `pd.isnull(...).any()` or similar.\r\n- (reiterating) the `amenable to quicking uniquing` flag may be useful in other functions for performance gains e.g. grouping. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348320842",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-348320842",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 348320842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODMyMDg0Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T21:06:46Z",
    "updated_at": "2017-11-30T21:06:46Z",
    "author_association": "MEMBER",
    "body": "@joshlk such a 'flag' would need to check both that all categories are used, that there are no missing values, that it is sorted (so also quite costly to compute), and would be have to be invalidated in many operations (eg that do sorting, selecting data, etc). So I don't think something like this would be worth it (certainly from a code maintenance perspective)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/348366118",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12278#issuecomment-348366118",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12278",
    "id": 348366118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODM2NjExOA==",
    "user": {
      "login": "kodonnell",
      "id": 8204904,
      "node_id": "MDQ6VXNlcjgyMDQ5MDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8204904?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kodonnell",
      "html_url": "https://github.com/kodonnell",
      "followers_url": "https://api.github.com/users/kodonnell/followers",
      "following_url": "https://api.github.com/users/kodonnell/following{/other_user}",
      "gists_url": "https://api.github.com/users/kodonnell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kodonnell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kodonnell/subscriptions",
      "organizations_url": "https://api.github.com/users/kodonnell/orgs",
      "repos_url": "https://api.github.com/users/kodonnell/repos",
      "events_url": "https://api.github.com/users/kodonnell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kodonnell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-01T00:34:55Z",
    "updated_at": "2017-12-01T00:34:55Z",
    "author_association": "NONE",
    "body": "I was thinking that the only way to change categories was with a few function calls, and hence it could be easy with e.g. a decorator - but you're right, subsetting data with a select would also cause problems. If there are too many more possibilities, then it wouldn't be worth it.\r\n\r\n> check ... that all categories are used\r\n\r\nI don't see why you need to check. E.g. if categories are created from \"astype('category')\" then they're all used. Any action which could change the categories used would flip the flag, so you wouldn't use the 'quick' method anyway.\r\n\r\n> check ... that there are no missing values\r\n\r\nDo you mean `np.nan`? As above, isn't that an easy fix?\r\n\r\n> check ... that it is sorted\r\n\r\nAre the results of `unique` required to be sorted? If so, couldn't you sort them afterward (i.e. quite quickly)?\r\n\r\n> So I don't think something like this would be worth it (certainly from a code maintenance perspective).\r\n\r\nIf it's going to be too painful, then no, it's probably not worth it. Then again, if it's not too painful, it offers some pretty worthwhile performance gains in a large proportion of uses."
  }
]
