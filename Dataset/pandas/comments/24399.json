[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/449607200",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24399#issuecomment-449607200",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24399",
    "id": 449607200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTYwNzIwMA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-23T01:03:49Z",
    "updated_at": "2018-12-23T01:03:49Z",
    "author_association": "MEMBER",
    "body": "Could you demonstrate your proposal with a small toy example? \r\n\r\nAs stated, it sounds like you could create another column with distances and use `merge_asof` on that column? "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/449613011",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24399#issuecomment-449613011",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24399",
    "id": 449613011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTYxMzAxMQ==",
    "user": {
      "login": "ProxyCasual",
      "id": 40151648,
      "node_id": "MDQ6VXNlcjQwMTUxNjQ4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/40151648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ProxyCasual",
      "html_url": "https://github.com/ProxyCasual",
      "followers_url": "https://api.github.com/users/ProxyCasual/followers",
      "following_url": "https://api.github.com/users/ProxyCasual/following{/other_user}",
      "gists_url": "https://api.github.com/users/ProxyCasual/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ProxyCasual/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ProxyCasual/subscriptions",
      "organizations_url": "https://api.github.com/users/ProxyCasual/orgs",
      "repos_url": "https://api.github.com/users/ProxyCasual/repos",
      "events_url": "https://api.github.com/users/ProxyCasual/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ProxyCasual/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-23T04:08:49Z",
    "updated_at": "2018-12-23T04:09:43Z",
    "author_association": "NONE",
    "body": "Dataset A\r\n```\r\n               ID       Date   Latitude  Longitude\r\n0        10000092 2015-03-18  41.891399 -87.744385\r\n4        10000097 2015-03-18  41.878065 -87.743354\r\n12       10000109 2015-03-18  41.738563 -87.552679\r\n24       10000123 2015-03-18  41.880934 -87.764879\r\n29       10000130 2015-03-18  41.737129 -87.649728\r\n48       10000159 2015-03-18  41.986392 -87.656701\r\n72       10000197 2015-03-18  41.810671 -87.621248\r\n170      10000620 2015-03-18  41.916994 -87.756245\r\n863      10002132 2015-03-18  41.964745 -87.714849\r\n87584    10000043 2015-03-18  41.748223 -87.653678\r\n87595    10000055 2015-03-18  41.657912 -87.603407\r\n87596    10000056 2015-03-18  41.897922 -87.737011\r\n87605    10000069 2015-03-18  41.748089 -87.650033\r\n87607    10000072 2015-03-18  41.851645 -87.716575\r\n733795    9999383 2015-03-18  41.780144 -87.684886\r\n1794523  10000037 2015-03-18  41.681269 -87.642024\r\n1794550  10000132 2015-03-18  41.871038 -87.735139\r\n3816482   9998641 2015-03-18  42.005648 -87.673190\r\n3816655   9999262 2015-03-18  41.795449 -87.660979\r\n3816731   9999389 2015-03-18  41.675289 -87.626187\r\n3816860   9999683 2015-03-18  41.880102 -87.773762\r\n3816999   9999862 2015-03-18  41.878463 -87.755787\r\n3817032   9999905 2015-03-18  41.886976 -87.711185\r\n3817039   9999914 2015-03-18  41.691295 -87.655119\r\n3817062   9999941 2015-03-18  41.964797 -87.649998\r\n3817070   9999949 2015-03-18  41.768885 -87.620200\r\n3817074   9999953 2015-03-18  41.756697 -87.563901\r\n3817099   9999986 2015-03-18  41.878797 -87.731600\r\n3817104   9999992 2015-03-18  41.790614 -87.622362\r\n```\r\n\r\nDataset B\r\n```\r\n       incident_id        date  latitude  longitude\r\n61471       309335  2015-03-18   41.9858   -87.6571\r\n61476       309205  2015-03-18   41.6925   -87.6547\r\n61498       309327  2015-03-18   41.7471   -87.6367\r\n61513       309241  2015-03-18   41.9640   -87.6503\r\n61517       309214  2015-03-18   41.7792   -87.6849\r\n61526       309221  2015-03-18   41.8917   -87.7436\r\n61528       309227  2015-03-18   41.8773   -87.7109\r\n61529       309229  2015-03-18   41.7908   -87.6228\r\n61566       309348  2015-03-18   41.8979   -87.7360\r\n61568       309343  2015-03-18   41.8109   -87.6217\r\n61573       309346  2015-03-18   41.7377   -87.6501\r\n```\r\n\r\nI thought about just creating another column with distances but that would require iterating through all the rows of B for each row in A\r\n\r\nI made an algorithm that does this to return the minimum of distances between each tuple pair of coordinates, the results of which you can see below.\r\nHowever, this has to be done for all dates (notice that the data all comes from one date) and I believe there must be a more efficient way to do this with pandas.\r\n\r\n`[[9999914, 309205, 0.0012757383610987416],\r\n [9999383, 309214, 0.0009441380113328591],\r\n [10000092, 309221, 0.0008403749608524236],\r\n [9999905, 309227, 0.009679920072949632],\r\n [9999992, 309229, 0.000476269822717683],\r\n [9999941, 309241, 0.0008523078755048443],\r\n [10000109, 309327, 0.08445394759315526],\r\n [10000159, 309335, 0.0007144599351652924],\r\n [10000197, 309343, 0.0005064995323302126],\r\n [10000130, 309346, 0.0006815301691388357],\r\n [10000056, 309348, 0.0010117006889607903]]`"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/449761708",
    "html_url": "https://github.com/pandas-dev/pandas/issues/24399#issuecomment-449761708",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24399",
    "id": 449761708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTc2MTcwOA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-24T18:27:10Z",
    "updated_at": "2018-12-24T18:27:10Z",
    "author_association": "MEMBER",
    "body": "Well in your example the direction would still be `'nearest'`, but the comparison would be a function; the ask would be akin to adding a `'how'` argument of sorts.\r\n\r\nProbably warrants more discussion from other core devs, but I feel its a bit of a niche use case for this function."
  }
]
