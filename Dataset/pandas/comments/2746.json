[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13587454",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2746#issuecomment-13587454",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2746",
    "id": 13587454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTg3NDU0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-15T00:32:29Z",
    "updated_at": "2013-02-15T00:32:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@stephenwlin we didn't close this for some reason....any thoughts?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13633952",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2746#issuecomment-13633952",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2746",
    "id": 13633952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjMzOTUy",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-15T23:37:40Z",
    "updated_at": "2013-02-15T23:37:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok i can take a look\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13757067",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2746#issuecomment-13757067",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2746",
    "id": 13757067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzU3MDY3",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-19T04:59:01Z",
    "updated_at": "2013-02-19T05:01:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I thought about this and there's probably a one or two line fix that can handle this particular case...but I think the most general solution here might be to implement a function called `_maybe_unify` which takes a list (or tuple, maybe...maybe either or) of dtypes and returns the most general dtype that can hold all of them.\n\nThis would probably be useful in a lot of other places where similar unifications are required, like joins or sets (I think a lot of this logic is duplicated in different places right now and not complete either, mostly only handling ints and floats cases). For example, I'm fairly sure that right now, `__setitem__` on DataFrame (either directly or through the `ix` property) either doesn't even allow assigning values that don't fit in the existing column types, or downcasts them implicit to the existing types, rather than upcasting appropriately to fit them which is probably the right thing to do instead: implementing such upcasts would be a lot easier with such a utility function.\n\n(Possibly `_maybe_promote` could even be rewritten to be in terms of `_maybe_unify`, since most of what the former is doing is basically a restricted form of the latter...however, there's also some extra work in computing/modifying a `fill_value` so it might take some thought to keep it clean and while preserving that.)\n\nThe one thing I can think of that might be kind of tricky would be the case of datetime64[ns]: right now, they don't upcast correctly to objects, so you can't unify them with other types: instead, you want to allow other objects (like dates, string, etc.) to implicit cast to datetime64[ns] on assignment, if possible, as well as convert NaN to NaT. This is currently handled as a special case in `__setitem__` I think...maybe it can be done with a more general solution that doesn't introduce local hacks.\n\nWhat do you think? Overkill?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/13757465",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2746#issuecomment-13757465",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2746",
    "id": 13757465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzU3NDY1",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-19T05:20:06Z",
    "updated_at": "2013-02-19T05:20:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "(On second thought, might not be worth it to handle the >2 dtypes case...I don't think it happens anywhere practically)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14082862",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2746#issuecomment-14082862",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2746",
    "id": 14082862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDgyODYy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-25T23:22:19Z",
    "updated_at": "2013-02-25T23:22:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this is related:\n\nhttp://stackoverflow.com/questions/15077885/typeerror-when-changing-an-integer-data-series-in-pandas/15078445#15078445\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14251813",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2746#issuecomment-14251813",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2746",
    "id": 14251813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjUxODEz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-28T19:21:43Z",
    "updated_at": "2013-02-28T19:21:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "I tried to fix this, and my solution would work, but have to change the data and dtype of a series inplace is currently not possible, in np 1.7 would work though http://docs.scipy.org/doc/numpy/reference/generated/numpy.copyto.html#numpy.copyto\n\n(once series is refactored to have a _data as its internals, then this is easy)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14252331",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2746#issuecomment-14252331",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2746",
    "id": 14252331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjUyMzMx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-28T19:30:27Z",
    "updated_at": "2013-02-28T19:30:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "got it....in place updating\n\n`\nser.dtype = result.dtype\nser[:] = result\n`\n"
  }
]
