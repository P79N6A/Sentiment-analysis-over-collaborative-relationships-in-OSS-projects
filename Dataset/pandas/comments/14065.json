[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241553797",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14065#issuecomment-241553797",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14065",
    "id": 241553797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTU1Mzc5Nw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-22T21:18:24Z",
    "updated_at": "2016-08-22T21:18:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Copy-pastable example (python3)\n\n```\nimport pandas as pd\nfrom io import StringIO\ns = \"a§b\\n1§2\\n3§4\"\n\npd.read_csv(StringIO(s), sep='§')\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241554327",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14065#issuecomment-241554327",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14065",
    "id": 241554327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTU1NDMyNw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-22T21:20:22Z",
    "updated_at": "2016-08-22T21:20:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "By the way, for you first example, I think you want `delimiter='\\u00A7'` (you had an extra backslash).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241599889",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14065#issuecomment-241599889",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14065",
    "id": 241599889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTU5OTg4OQ==",
    "user": {
      "login": "schodge",
      "id": 4616123,
      "node_id": "MDQ6VXNlcjQ2MTYxMjM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4616123?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schodge",
      "html_url": "https://github.com/schodge",
      "followers_url": "https://api.github.com/users/schodge/followers",
      "following_url": "https://api.github.com/users/schodge/following{/other_user}",
      "gists_url": "https://api.github.com/users/schodge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schodge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schodge/subscriptions",
      "organizations_url": "https://api.github.com/users/schodge/orgs",
      "repos_url": "https://api.github.com/users/schodge/repos",
      "events_url": "https://api.github.com/users/schodge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schodge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-23T01:21:17Z",
    "updated_at": "2016-08-23T01:21:17Z",
    "author_association": "NONE",
    "body": "Apologies for not including a cut and paste example.\n\nActually, I do need the delimiter with two backslashes. In fact, your copy-and-paste example doesn't work for me as written:\n\n```\nimport pandas as pd\nfrom io import StringIO\ns = \"a§b\\n1§2\\n3§4\"\n\npd.read_csv(StringIO(s), sep='§')\n\n---------------------------------------------------------------------------\nUnicodeDecodeError                        Traceback (most recent call last)\n<ipython-input-1-43a4e6b0419c> in <module>()\n      3 s = \"a§b\\n1§2\\n3§4\"\n      4 \n----> 5 pd.read_csv(StringIO(s), sep='§')\n      6 \n\n<cutting>\n\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xc2 in position 1: unexpected end of data\n```\n\nWith the doubled form:\n\n```\nimport pandas as pd\nfrom io import StringIO\ns = \"a§b\\n1§2\\n3§4\"\n\npd.read_csv(StringIO(s), sep='\\\\u00A7')\n\nC:\\Anaconda3\\lib\\site-packages\\ipykernel\\__main__.py:5: ParserWarning: Falling back to the 'python' engine because the 'c' engine does not support regex separators (separators > 1 char and different from '\\s+' are interpreted as regex); you can avoid this warning by specifying engine='python'.\nOut[2]: \n   a  b\n0  1  2\n1  3  4\n\nimport pandas as pd\nfrom io import StringIO\ns = \"a§b\\n1§2\\n3§4\"\n```\n\nAnd with single form:\n\n```\npd.read_csv(StringIO(s), sep='\\u00A7')\n\n---------------------------------------------------------------------------\nUnicodeDecodeError                        Traceback (most recent call last)\n<ipython-input-3-e789e47e41b2> in <module>()\n      3 s = \"a§b\\n1§2\\n3§4\"\n      4 \n----> 5 pd.read_csv(StringIO(s), sep='\\u00A7')\n      6 \n\n<cutting>\n\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xc2 in position 1: unexpected end of data\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241600542",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14065#issuecomment-241600542",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14065",
    "id": 241600542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTYwMDU0Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-23T01:26:03Z",
    "updated_at": "2016-08-23T01:26:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's odd, I wonder if we escape something improperly... Compare these two:\n\n``` python\nIn [22]: '\\u00A7'\nOut[22]: '§'\n\nIn [24]: '\\\\u00A7'\nOut[24]: '\\\\u00A7'\n```\n\nWhen you have the double `\\`, the first backslash escapes the second,  so `Out[24]` is the literal string `\\u00A7`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241607172",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14065#issuecomment-241607172",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14065",
    "id": 241607172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTYwNzE3Mg==",
    "user": {
      "login": "schodge",
      "id": 4616123,
      "node_id": "MDQ6VXNlcjQ2MTYxMjM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4616123?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schodge",
      "html_url": "https://github.com/schodge",
      "followers_url": "https://api.github.com/users/schodge/followers",
      "following_url": "https://api.github.com/users/schodge/following{/other_user}",
      "gists_url": "https://api.github.com/users/schodge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schodge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schodge/subscriptions",
      "organizations_url": "https://api.github.com/users/schodge/orgs",
      "repos_url": "https://api.github.com/users/schodge/repos",
      "events_url": "https://api.github.com/users/schodge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schodge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-23T02:12:22Z",
    "updated_at": "2016-08-23T02:12:22Z",
    "author_association": "NONE",
    "body": "So those work:\n\n```\n'\\u00A7'\nOut[2]: '§'\n\n'\\\\u00A7'\nOut[3]: '\\\\u00A7'\n```\n\nRight - I don't think I've seen this behavior with unicode outside of pandas, but I rarely venture into unicode.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/243032617",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14065#issuecomment-243032617",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14065",
    "id": 243032617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzAzMjYxNw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-29T05:03:07Z",
    "updated_at": "2016-08-29T05:04:28Z",
    "author_association": "MEMBER",
    "body": "The reason for the error is that the data is getting encoded as `utf-8` (see <a href=\"https://github.com/pydata/pandas/blob/be61825986ba565bc038beb2f5df2750fc1aca30/pandas/parser.pyx#L647\">here</a>), which \"destroys\" the delimiter in the data:\n\n``` python\n>>> data = \"a§b\\n1§2\\n3§4\"\n>>> data.encode('utf-8')\nb'a\\xc2\\xa7b\\n1\\xc2\\xa72\\n3\\xc2\\xa74'\n```\n\nHowever, `ord(§) == 167`, which is `\\xa7`.  This causes the data to split improperly with the first element of the header being `a\\xc2`, which leads to the error that you're seeing.\n\nNow technically, we should be splittng by `\\xc2\\xa7`, but the C engine doesn't support splitting of that kind (we only support single character splitting for now).\n\nIn the long run, the solution would be to somehow support multi-char delimiters (tricky since we parse byte by byte with the C engine).  In the short-term, I think we should check the separator to see if it would be a multi-char when encoded, and if so, raise an error.\n\nThoughts?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/243107149",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14065#issuecomment-243107149",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14065",
    "id": 243107149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzEwNzE0OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-29T12:14:14Z",
    "updated_at": "2016-08-29T12:14:14Z",
    "author_association": "MEMBER",
    "body": "Trying to detect such separators and raising an informative message sounds fine IMO\n"
  }
]
