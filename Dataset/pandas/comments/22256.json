[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/411881250",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22256#issuecomment-411881250",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22256",
    "id": 411881250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTg4MTI1MA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-09T20:09:11Z",
    "updated_at": "2018-08-09T20:09:11Z",
    "author_association": "MEMBER",
    "body": "I agree with your first impression.  Patch and PR are welcome!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/411884692",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22256#issuecomment-411884692",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22256",
    "id": 411884692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTg4NDY5Mg==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-09T20:21:55Z",
    "updated_at": "2018-08-09T20:21:55Z",
    "author_association": "MEMBER",
    "body": "Can you try this on master?  @mroeschke had a PR recently that I think should have fixed this."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/412006634",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22256#issuecomment-412006634",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22256",
    "id": 412006634,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjAwNjYzNA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T07:56:49Z",
    "updated_at": "2018-08-10T07:57:28Z",
    "author_association": "MEMBER",
    "body": "@jbrockmendel : Unfortunately, no luck.  I can reproduce this on `master` (475e391e)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/412145611",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22256#issuecomment-412145611",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22256",
    "id": 412145611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjE0NTYxMQ==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T17:07:43Z",
    "updated_at": "2018-08-10T17:07:43Z",
    "author_association": "MEMBER",
    "body": "On master, if `date_parser=pd.to_datetime` is specifically passed, then the dates are not automatically converted to UTC:\r\n\r\n```\r\nIn [6]: s = StringIO(\"\"\"dt,val\r\n   ...: 2018-01-04 09:01:00+09:00,23350\r\n   ...: 2018-01-04 09:02:00+09:00,23400\r\n   ...: 2018-01-04 09:03:00+09:00,23400\r\n   ...: 2018-01-04 09:04:00+09:00,23400\r\n   ...: 2018-01-04 09:05:00+09:00,23400\"\"\")\r\n\r\nIn [7]: df = pd.read_csv(s, parse_dates=['dt'], date_parser=pd.to_datetime)\r\n\r\nIn [8]: df\r\nOut[8]:\r\n                         dt    val\r\n0 2018-01-04 09:01:00+09:00  23350\r\n1 2018-01-04 09:02:00+09:00  23400\r\n2 2018-01-04 09:03:00+09:00  23400\r\n3 2018-01-04 09:04:00+09:00  23400\r\n4 2018-01-04 09:05:00+09:00  23400\r\n\r\nIn [10]: df['dt']\r\nOut[10]:\r\n0   2018-01-04 09:01:00+09:00\r\n1   2018-01-04 09:02:00+09:00\r\n2   2018-01-04 09:03:00+09:00\r\n3   2018-01-04 09:04:00+09:00\r\n4   2018-01-04 09:05:00+09:00\r\nName: dt, dtype: datetime64[ns, pytz.FixedOffset(540)]\r\n```\r\n\r\nI think we use `to_datetime` under the hood of `read_csv` to parse dates, so there may be a keyword argument or extra function that is coercing to UTC without timezone.\r\n\r\nOn that note, what should be the expected behavior?\r\n\r\n```\r\nIn [7]: df = pd.read_csv(s, parse_dates=['dt'], date_parser=pd.to_datetime)\r\n\r\n# Keep the offsets (as FixedOffset)\r\nIn [8]: df\r\nOut[8]:\r\n                         dt    val\r\n0 2018-01-04 09:01:00+09:00  23350\r\n1 2018-01-04 09:02:00+09:00  23400\r\n2 2018-01-04 09:03:00+09:00  23400\r\n3 2018-01-04 09:04:00+09:00  23400\r\n4 2018-01-04 09:05:00+09:00  23400\r\n\r\nIn [14]: df = pd.read_csv(s, parse_dates=['dt'], date_parser=partial(pd.to_datetime, utc=True))\r\n\r\n# More in line with the previous behavior but correctly keeps the UTC timezone\r\nIn [15]: df\r\nOut[15]:\r\n                         dt    val\r\n0 2018-01-04 00:01:00+00:00  23350\r\n1 2018-01-04 00:02:00+00:00  23400\r\n2 2018-01-04 00:03:00+00:00  23400\r\n3 2018-01-04 00:04:00+00:00  23400\r\n4 2018-01-04 00:05:00+00:00  23400\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/412248214",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22256#issuecomment-412248214",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22256",
    "id": 412248214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjI0ODIxNA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-11T03:43:27Z",
    "updated_at": "2018-08-11T03:43:27Z",
    "author_association": "MEMBER",
    "body": "This change fixed this issue specifically but not sure how it will affect other tests.\r\n\r\n```\r\ndiff --git a/pandas/io/parsers.py b/pandas/io/parsers.py\r\nindex 4b3fa08e5..86f3b6812 100755\r\n--- a/pandas/io/parsers.py\r\n+++ b/pandas/io/parsers.py\r\n@@ -3033,7 +3033,7 @@ def _make_date_converter(date_parser=None, dayfirst=False,\r\n                 return tools.to_datetime(\r\n                     ensure_object(strs),\r\n                     utc=None,\r\n-                    box=False,\r\n+                    box=True,\r\n                     dayfirst=dayfirst,\r\n                     errors='ignore',\r\n                     infer_datetime_format=infer_datetime_format\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/412333547",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22256#issuecomment-412333547",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22256",
    "id": 412333547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjMzMzU0Nw==",
    "user": {
      "login": "swyoon",
      "id": 10072033,
      "node_id": "MDQ6VXNlcjEwMDcyMDMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/10072033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/swyoon",
      "html_url": "https://github.com/swyoon",
      "followers_url": "https://api.github.com/users/swyoon/followers",
      "following_url": "https://api.github.com/users/swyoon/following{/other_user}",
      "gists_url": "https://api.github.com/users/swyoon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/swyoon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/swyoon/subscriptions",
      "organizations_url": "https://api.github.com/users/swyoon/orgs",
      "repos_url": "https://api.github.com/users/swyoon/repos",
      "events_url": "https://api.github.com/users/swyoon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/swyoon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-12T10:31:13Z",
    "updated_at": "2018-08-12T10:31:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mroeschke Thanks for pointing `box` out. Well, this breaks quite a lot of unit tests.\r\nMy first attempt was to keep `box=False`, and update `pandas/core/tools/datetime.py:_convert_listlike_datetimes`.\r\nHowever, I realized that we can't fix this issue with `box=False`, because what is returned is a Numpy array of datetime64, and it cannot contain the timezone information.\r\nhttps://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.datetime.html#changes-with-numpy-1-11\r\nSo, I will try to fix the errors caused by setting `box=True`.\r\n@gfyoung  There is a Pandas sprint at PYCON KR in Seoul, the Republic of Korea on Aug 15th, and I am participating. (It is organized by @scari )\r\nI will continue to work on this issue at the sprint."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/412404683",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22256#issuecomment-412404683",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22256",
    "id": 412404683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjQwNDY4Mw==",
    "user": {
      "login": "scari",
      "id": 964251,
      "node_id": "MDQ6VXNlcjk2NDI1MQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/964251?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scari",
      "html_url": "https://github.com/scari",
      "followers_url": "https://api.github.com/users/scari/followers",
      "following_url": "https://api.github.com/users/scari/following{/other_user}",
      "gists_url": "https://api.github.com/users/scari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scari/subscriptions",
      "organizations_url": "https://api.github.com/users/scari/orgs",
      "repos_url": "https://api.github.com/users/scari/repos",
      "events_url": "https://api.github.com/users/scari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-13T04:18:51Z",
    "updated_at": "2018-08-13T04:18:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@swyoon I look forward to seeing you! ;)"
  }
]
