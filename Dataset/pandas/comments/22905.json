[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425704943",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22905#issuecomment-425704943",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22905",
    "id": 425704943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTcwNDk0Mw==",
    "user": {
      "login": "brute4s99",
      "id": 22996531,
      "node_id": "MDQ6VXNlcjIyOTk2NTMx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22996531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brute4s99",
      "html_url": "https://github.com/brute4s99",
      "followers_url": "https://api.github.com/users/brute4s99/followers",
      "following_url": "https://api.github.com/users/brute4s99/following{/other_user}",
      "gists_url": "https://api.github.com/users/brute4s99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brute4s99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brute4s99/subscriptions",
      "organizations_url": "https://api.github.com/users/brute4s99/orgs",
      "repos_url": "https://api.github.com/users/brute4s99/repos",
      "events_url": "https://api.github.com/users/brute4s99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brute4s99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-30T08:42:30Z",
    "updated_at": "2018-09-30T08:42:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "looking into this"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425705832",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22905#issuecomment-425705832",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22905",
    "id": 425705832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTcwNTgzMg==",
    "user": {
      "login": "brute4s99",
      "id": 22996531,
      "node_id": "MDQ6VXNlcjIyOTk2NTMx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22996531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brute4s99",
      "html_url": "https://github.com/brute4s99",
      "followers_url": "https://api.github.com/users/brute4s99/followers",
      "following_url": "https://api.github.com/users/brute4s99/following{/other_user}",
      "gists_url": "https://api.github.com/users/brute4s99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brute4s99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brute4s99/subscriptions",
      "organizations_url": "https://api.github.com/users/brute4s99/orgs",
      "repos_url": "https://api.github.com/users/brute4s99/repos",
      "events_url": "https://api.github.com/users/brute4s99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brute4s99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-30T08:58:46Z",
    "updated_at": "2018-09-30T09:14:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@miccoli , please read more about pandas.date_range() [here](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.date_range.html)\r\nAs you can see, \r\nsince you did not specify any 'clock time' , the default value will be taken as 00:00.\r\nFrom [documentation](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.date_range.html) ,\r\n\r\n> \r\n> \"tz : str or tzinfo, optional\r\n>     Time zone name for returning localized DatetimeIndex, ...\"\r\n\r\nputting `tz=GMT-1` will cause backwards shift by 1 hour.\r\nTo understand more clearly, see this :- \r\n`>>> ts = pd.date_range('1/1/2000 1:00', '2/1/2000 1:00', tz='Etc/GMT-1')`\r\n^ Added \"clock time\" as 1:00 AM, since this will be used to compensate for GMT-1, because outputs will show LOCALIZED time\r\n`>>> ts.to_period()[0] == ts[0].to_period()`\r\n`True`\r\n`>>> ts.to_period()[0], ts[0].to_period()`\r\n`(Period('2000-01-01', 'D'), Period('2000-01-01', 'D'))`"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425719962",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22905#issuecomment-425719962",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22905",
    "id": 425719962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTcxOTk2Mg==",
    "user": {
      "login": "miccoli",
      "id": 6403904,
      "node_id": "MDQ6VXNlcjY0MDM5MDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6403904?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miccoli",
      "html_url": "https://github.com/miccoli",
      "followers_url": "https://api.github.com/users/miccoli/followers",
      "following_url": "https://api.github.com/users/miccoli/following{/other_user}",
      "gists_url": "https://api.github.com/users/miccoli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miccoli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miccoli/subscriptions",
      "organizations_url": "https://api.github.com/users/miccoli/orgs",
      "repos_url": "https://api.github.com/users/miccoli/repos",
      "events_url": "https://api.github.com/users/miccoli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miccoli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-30T13:09:12Z",
    "updated_at": "2018-09-30T16:18:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@brute4s99 \r\n<https://github.com/pandas-dev/pandas/blob/14598c6f82973b33d8b55e1e493f6103f9e16a62/pandas/tests/indexes/datetimes/test_astype.py#L266-L285>\r\nI just reproduced the situation in the test above, which fails east of greenwich.\r\n\r\nLet me explain this better:\r\n```\r\n>>> ts = pd.date_range('1/1/2000', '2/1/2000', tz='Etc/GMT-1')\r\n>>>\r\n>>> ts[0]\r\nTimestamp('2000-01-01 00:00:00+0100', tz='Etc/GMT-1', freq='D')\r\n>>> ts[0].to_period()\r\nPeriod('2000-01-01', 'D')\r\n>>> \r\n>>> ts[:1]\r\nDatetimeIndex(['2000-01-01 00:00:00+01:00'], dtype='datetime64[ns, Etc/GMT-1]', freq='D')\r\n>>> ts[:1].to_period()\r\nPeriodIndex(['1999-12-31'], dtype='period[D]', freq='D')\r\n```\r\n\r\n- `ts[0]` is a `Timestamp` and its `to_period` method drops tzinfo without taking into account its value.\r\n\r\n- `ts[:1]` is a length 1 `DatetimeIndex` and its `to_period` method first converts to UTC and then drops tzinfo.\r\n\r\nI'm not sure if it's a bug or a feature, but I feel more natural to assume that `ts.to_period()[0] == ts[0].to_period()` is an invariant that should hold regardless of tzinfo. A different question is to decide which one, `Timestamp.to_period` or `DatetimeIndex.to_period` is correct.\r\n\r\nFinally if positively `Timestamp.to_period` and `DatetimeIndex.to_period` should have different semantics, then the tests are wrong."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425754503",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22905#issuecomment-425754503",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22905",
    "id": 425754503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTc1NDUwMw==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-30T21:44:08Z",
    "updated_at": "2018-09-30T21:44:08Z",
    "author_association": "MEMBER",
    "body": "Nice catch @miccoli! Agreed `to_period` should behave similarly between `Timestamp` and `DatetimeIndex`.\r\n\r\nI don't work with `Period`s much so I welcome others' opinions, but it would think the `DatetimeIndex.to_period` behavior is incorrect; I don't think I would want the `1999` result.\r\n\r\nThe UTC conversion happens here in `self.values`:\r\nhttps://github.com/pandas-dev/pandas/blob/2f1b842119bc4d5242b587b62bde71d8f7ef19f8/pandas/core/indexes/datetimes.py#L746"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425804345",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22905#issuecomment-425804345",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22905",
    "id": 425804345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTgwNDM0NQ==",
    "user": {
      "login": "brute4s99",
      "id": 22996531,
      "node_id": "MDQ6VXNlcjIyOTk2NTMx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22996531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brute4s99",
      "html_url": "https://github.com/brute4s99",
      "followers_url": "https://api.github.com/users/brute4s99/followers",
      "following_url": "https://api.github.com/users/brute4s99/following{/other_user}",
      "gists_url": "https://api.github.com/users/brute4s99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brute4s99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brute4s99/subscriptions",
      "organizations_url": "https://api.github.com/users/brute4s99/orgs",
      "repos_url": "https://api.github.com/users/brute4s99/repos",
      "events_url": "https://api.github.com/users/brute4s99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brute4s99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-01T06:41:53Z",
    "updated_at": "2018-10-01T06:41:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can I work this bug, please ?\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/425976880",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22905#issuecomment-425976880",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22905",
    "id": 425976880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTk3Njg4MA==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-01T16:41:05Z",
    "updated_at": "2018-10-01T16:41:05Z",
    "author_association": "MEMBER",
    "body": "Go for it @brute4s99. Open up the pull request when you are ready for a review. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/451368571",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22905#issuecomment-451368571",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22905",
    "id": 451368571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTM2ODU3MQ==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-04T07:16:23Z",
    "updated_at": "2019-01-04T07:16:23Z",
    "author_association": "MEMBER",
    "body": "This looks to be fixed on master now. Could use a test."
  }
]
