[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208452268",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12866#issuecomment-208452268",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12866",
    "id": 208452268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODQ1MjI2OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-11T17:08:26Z",
    "updated_at": "2016-04-11T17:08:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "both other orients recover this, I don't know why `orient='index'` (the default does not).\ncc @Komnomnomnom\n\n```\nIn [7]: pd.read_json(s.to_json(orient='split'),typ='series',orient='split')\nOut[7]: \n0    11\n1    12\n2    13\ndtype: int64\n\nIn [9]: pd.read_json(s.to_json(orient='records'),typ='series',orient='records')\nOut[9]: \n0    11\n1    12\n2    13\ndtype: int64\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208858708",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12866#issuecomment-208858708",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12866",
    "id": 208858708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODg1ODcwOA==",
    "user": {
      "login": "stellasia",
      "id": 10356618,
      "node_id": "MDQ6VXNlcjEwMzU2NjE4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10356618?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stellasia",
      "html_url": "https://github.com/stellasia",
      "followers_url": "https://api.github.com/users/stellasia/followers",
      "following_url": "https://api.github.com/users/stellasia/following{/other_user}",
      "gists_url": "https://api.github.com/users/stellasia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stellasia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stellasia/subscriptions",
      "organizations_url": "https://api.github.com/users/stellasia/orgs",
      "repos_url": "https://api.github.com/users/stellasia/repos",
      "events_url": "https://api.github.com/users/stellasia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stellasia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T11:38:56Z",
    "updated_at": "2016-04-12T11:38:56Z",
    "author_association": "NONE",
    "body": "Indeed, `orient='split'` is working fine (even better for my needs). Thanks.\n\nI would be interested in understanding the reason of the different behaviour for `orient='index'` if it is known.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208895774",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12866#issuecomment-208895774",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12866",
    "id": 208895774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODg5NTc3NA==",
    "user": {
      "login": "Komnomnomnom",
      "id": 107748,
      "node_id": "MDQ6VXNlcjEwNzc0OA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/107748?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Komnomnomnom",
      "html_url": "https://github.com/Komnomnomnom",
      "followers_url": "https://api.github.com/users/Komnomnomnom/followers",
      "following_url": "https://api.github.com/users/Komnomnomnom/following{/other_user}",
      "gists_url": "https://api.github.com/users/Komnomnomnom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Komnomnomnom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Komnomnomnom/subscriptions",
      "organizations_url": "https://api.github.com/users/Komnomnomnom/orgs",
      "repos_url": "https://api.github.com/users/Komnomnomnom/repos",
      "events_url": "https://api.github.com/users/Komnomnomnom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Komnomnomnom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T13:07:10Z",
    "updated_at": "2016-04-12T13:07:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "The default `orient='index'` converts the pandas object to a JSON object which must have string keys. Therefore when decoded the index values are all strings. They are then (by default) promoted to a float dtype [here](https://github.com/pydata/pandas/blob/master/pandas/io/json.py#L334)\n\n`orient='records'` doesn't apply here as it doesn't serialise the `index` and `orient='split'` serialises the `index`, `columns` and `values` into separate arrays so the `index` values are not encoded to JSON strings and their type is preserved.\n\nSo this is as expected unless the default of converting object types to float when deserialising is changed. Could attempt `int` first and then `float`? (esp for index)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208901064",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12866#issuecomment-208901064",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12866",
    "id": 208901064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODkwMTA2NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T13:19:27Z",
    "updated_at": "2016-04-12T13:19:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Komnomnomnom right, do we know its an part of an index at that point? (I don't remember).\n\nactually `pd.to_numeric(data)` will do the right thing here (e.g. convert to int if possible, then float otherwise), and raise if not convertible.\n\n```\nIn [64]: pd.to_numeric(['a','1',2])\nValueError: Unable to parse string\n\nIn [65]: pd.to_numeric(['0','1',2])\nOut[65]: array([0, 1, 2])\n\nIn [66]: pd.to_numeric(['0','1',2.0])\nOut[66]: array([ 0.,  1.,  2.])\n\nIn [67]: pd.to_numeric(['0','1.5',2.0])\nOut[67]: array([ 0. ,  1.5,  2. ])\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208916214",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12866#issuecomment-208916214",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12866",
    "id": 208916214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODkxNjIxNA==",
    "user": {
      "login": "Komnomnomnom",
      "id": 107748,
      "node_id": "MDQ6VXNlcjEwNzc0OA==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/107748?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Komnomnomnom",
      "html_url": "https://github.com/Komnomnomnom",
      "followers_url": "https://api.github.com/users/Komnomnomnom/followers",
      "following_url": "https://api.github.com/users/Komnomnomnom/following{/other_user}",
      "gists_url": "https://api.github.com/users/Komnomnomnom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Komnomnomnom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Komnomnomnom/subscriptions",
      "organizations_url": "https://api.github.com/users/Komnomnomnom/orgs",
      "repos_url": "https://api.github.com/users/Komnomnomnom/repos",
      "events_url": "https://api.github.com/users/Komnomnomnom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Komnomnomnom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T13:50:45Z",
    "updated_at": "2016-04-12T13:50:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes it is happening after deserialisation (the c code) has finished.\n\nIt actually does try to convert to `int` further along but it runs into `TypeError: Setting <class 'pandas.core.index.Float64Index'> dtype to anything other than float64 or object is not supported`\n\n``` python\nIn [61]: from pandas import Index\n\nIn [62]: data = Index([u'0', u'1', u'2'], dtype='object')\n\nIn [63]: data.astype('float64').astype('int64')\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-63-7bbb22a22b83> in <module>()\n----> 1 data.astype('float64').astype('int64')\n\n/home/kieran/.virtualenvs/py27/lib/python2.7/site-packages/pandas/core/index.pyc in astype(self, dtype)\n   3828             raise TypeError('Setting %s dtype to anything other than '\n   3829                             'float64 or object is not supported' %\n-> 3830                             self.__class__)\n   3831         return Index(self._values, name=self.name, dtype=dtype)\n   3832 \n\nTypeError: Setting <class 'pandas.core.index.Float64Index'> dtype to anything other than float64 or object is not supported\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/208918049",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12866#issuecomment-208918049",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12866",
    "id": 208918049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODkxODA0OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T13:55:04Z",
    "updated_at": "2016-04-12T13:55:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Komnomnomnom sorry, that is a bug. let me create another issue for that.\n"
  }
]
