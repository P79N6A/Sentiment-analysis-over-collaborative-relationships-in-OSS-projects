[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457374838",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-457374838",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 457374838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzM3NDgzOA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-01-24T22:02:56Z",
    "updated_at": "2019-01-24T22:02:56Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=h1) Report\n> Merging [#24916](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/5761e359b65631db491349a65fc21d0da51dcc0f?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/24916/graphs/tree.svg?width=650&token=eZ4WkYLtcO&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #24916      +/-   ##\n==========================================\n+ Coverage   92.38%   92.38%   +<.01%     \n==========================================\n  Files         166      166              \n  Lines       52404    52415      +11     \n==========================================\n+ Hits        48413    48424      +11     \n  Misses       3991     3991\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.8% <100%> (ø)` | :arrow_up: |\n| #single | `42.89% <7.69%> (-0.01%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/reshape/merge.py](https://codecov.io/gh/pandas-dev/pandas/pull/24916/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvcmVzaGFwZS9tZXJnZS5weQ==) | `94.49% <100%> (+0.08%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=footer). Last update [5761e35...1287758](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457374874",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-457374874",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 457374874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzM3NDg3NA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-01-24T22:03:01Z",
    "updated_at": "2019-01-24T22:48:23Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=h1) Report\n> Merging [#24916](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/5761e359b65631db491349a65fc21d0da51dcc0f?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/24916/graphs/tree.svg?width=650&token=eZ4WkYLtcO&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #24916      +/-   ##\n==========================================\n+ Coverage   92.38%   92.38%   +<.01%     \n==========================================\n  Files         166      166              \n  Lines       52404    52414      +10     \n==========================================\n+ Hits        48413    48423      +10     \n  Misses       3991     3991\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.8% <100%> (ø)` | :arrow_up: |\n| #single | `42.89% <8.33%> (-0.01%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/reshape/merge.py](https://codecov.io/gh/pandas-dev/pandas/pull/24916/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvcmVzaGFwZS9tZXJnZS5weQ==) | `94.48% <100%> (+0.07%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=footer). Last update [5761e35...bdce7ac](https://codecov.io/gh/pandas-dev/pandas/pull/24916?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457433887",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-457433887",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 457433887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzQzMzg4Nw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-25T02:33:34Z",
    "updated_at": "2019-01-25T02:33:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Feel free to add sections.\n\nOn Thu, Jan 24, 2019 at 8:32 PM Justin Zheng <notifications@github.com>\nwrote:\n\n> *@JustinZhengBC* commented on this pull request.\n> ------------------------------\n>\n> In doc/source/whatsnew/v0.24.1.rst\n> <https://github.com/pandas-dev/pandas/pull/24916#discussion_r250849509>:\n>\n> > @@ -63,6 +63,9 @@ Bug Fixes\n>  -\n>  -\n>\n> +**Reshaping**\n> +\n> +- Bug in :func:`merge` when merging by index name would sometimes result in an incorrectly numbered index (:issue:`24212`)\n>\n> There's a reshaping section in the 0.24.0 one. If not under reshaping,\n> would it be correct to put this under indexing?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/pull/24916#discussion_r250849509>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIm3oaDMcWzWrhdAjGdxCjUp895WMks5vGmzMgaJpZM4aRvs7>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457837612",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-457837612",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 457837612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzgzNzYxMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T14:58:11Z",
    "updated_at": "2019-01-26T14:58:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @JustinZhengBC "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457837974",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-457837974",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 457837974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzgzNzk3NA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T15:02:43Z",
    "updated_at": "2019-01-26T15:02:43Z",
    "author_association": "MEMBER",
    "body": "Given that this fix has given problem before, let's leave this one for 0.25 ? "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/457841687",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-457841687",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 457841687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg0MTY4Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T15:50:16Z",
    "updated_at": "2019-01-26T15:50:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "maybe thought this was a bug fix"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/458147848",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-458147848",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 458147848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODE0Nzg0OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-28T14:16:40Z",
    "updated_at": "2019-01-28T14:16:40Z",
    "author_association": "MEMBER",
    "body": "I changed this from 0.24.1 to 0.25.0.\r\n\r\nOne specific case that seems to be broken by this that I found, is using a categorical as the merge key:\r\n\r\n```\r\nIn [15]: left = pd.DataFrame({'a': [1, 2, 3], 'key': pd.Categorical(['a', 'a', 'b'], categories=['a', 'b', 'c'])}) \r\n    ...: right = pd.DataFrame({'b': [1, 2, 3]}, index=pd.Categorical(['a', 'b', 'c']))                                                                                                                              \r\n\r\nIn [16]: left.merge(right,  left_on='key', right_index=True, how='right')                                                                                                                                           \r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-16-e08f8fc28c75> in <module>\r\n----> 1 left.merge(right,  left_on='key', right_index=True, how='right')\r\n\r\n~/scipy/pandas/pandas/core/frame.py in merge(self, right, how, on, left_on, right_on, left_index, right_index, sort, suffixes, copy, indicator, validate)\r\n   6875                      right_on=right_on, left_index=left_index,\r\n   6876                      right_index=right_index, sort=sort, suffixes=suffixes,\r\n-> 6877                      copy=copy, indicator=indicator, validate=validate)\r\n   6878 \r\n   6879     def round(self, decimals=0, *args, **kwargs):\r\n\r\n~/scipy/pandas/pandas/core/reshape/merge.py in merge(left, right, how, on, left_on, right_on, left_index, right_index, sort, suffixes, copy, indicator, validate)\r\n     46                          copy=copy, indicator=indicator,\r\n     47                          validate=validate)\r\n---> 48     return op.get_result()\r\n     49 \r\n     50 \r\n\r\n~/scipy/pandas/pandas/core/reshape/merge.py in get_result(self)\r\n    544                 self.left, self.right)\r\n    545 \r\n--> 546         join_index, left_indexer, right_indexer = self._get_join_info()\r\n    547 \r\n    548         ldata, rdata = self.left._data, self.right._data\r\n\r\n~/scipy/pandas/pandas/core/reshape/merge.py in _get_join_info(self)\r\n    762                     join_index = self.right.index.take(right_indexer)\r\n    763                     left_indexer = np.array([-1] * len(join_index))\r\n--> 764             elif self.left_index:\r\n    765                 if len(self.right) > 0:\r\n    766                     join_index = self.right.index.take(right_indexer)\r\n\r\n~/scipy/pandas/pandas/core/reshape/merge.py in _create_join_index(self, index, other_index, indexer, other_indexer, how)\r\n    811 \r\n    812         # ugh, spaghetti re #733\r\n--> 813         if _any(self.left_on) and _any(self.right_on):\r\n    814             for lk, rk in zip(self.left_on, self.right_on):\r\n    815                 if is_lkey(lk):\r\n\r\nValueError: invalid literal for int() with base 10: 'c'\r\n```\r\n\r\nThe above is failing on master now, but works on 0.23.4 / 0.24.0."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/458544886",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-458544886",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 458544886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODU0NDg4Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T13:45:45Z",
    "updated_at": "2019-01-29T13:45:45Z",
    "author_association": "MEMBER",
    "body": "@JustinZhengBC can you have a look at my comments above?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/458683780",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-458683780",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 458683780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODY4Mzc4MA==",
    "user": {
      "login": "JustinZhengBC",
      "id": 29615021,
      "node_id": "MDQ6VXNlcjI5NjE1MDIx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/29615021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JustinZhengBC",
      "html_url": "https://github.com/JustinZhengBC",
      "followers_url": "https://api.github.com/users/JustinZhengBC/followers",
      "following_url": "https://api.github.com/users/JustinZhengBC/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustinZhengBC/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JustinZhengBC/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustinZhengBC/subscriptions",
      "organizations_url": "https://api.github.com/users/JustinZhengBC/orgs",
      "repos_url": "https://api.github.com/users/JustinZhengBC/repos",
      "events_url": "https://api.github.com/users/JustinZhengBC/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JustinZhengBC/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T19:54:40Z",
    "updated_at": "2019-01-29T19:54:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche sorry for not responding earlier. I looked into it and I believe the main issue is not caused by the fact that the breaking example uses a categorical, but that the other index uses a different dtype, so there is no trivial way to choose how to take values (`other_index` adds a new value for the column being joined on, but there's no corresponding value for the index). I made a new PR where the new value is assumed to be the row number of the missing value in `other_index` linked above, but this has the disadvantage that if the original index has a non-numerical dtype that is different from the dtype of the value being joined on, then the index of the resulting `DataFrame` will have mixed dtypes, so I'd appreciate any other suggestions."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/458864721",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-458864721",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 458864721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODg2NDcyMQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T09:00:19Z",
    "updated_at": "2019-01-30T09:00:19Z",
    "author_association": "MEMBER",
    "body": "@JustinZhengBC no problem! and thanks for looking into it\r\n\r\nFor my understanding, can you try to explain why the new `_create_join_index` was needed originally?\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/459022414",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24916#issuecomment-459022414",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24916",
    "id": 459022414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTAyMjQxNA==",
    "user": {
      "login": "JustinZhengBC",
      "id": 29615021,
      "node_id": "MDQ6VXNlcjI5NjE1MDIx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/29615021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JustinZhengBC",
      "html_url": "https://github.com/JustinZhengBC",
      "followers_url": "https://api.github.com/users/JustinZhengBC/followers",
      "following_url": "https://api.github.com/users/JustinZhengBC/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustinZhengBC/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JustinZhengBC/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustinZhengBC/subscriptions",
      "organizations_url": "https://api.github.com/users/JustinZhengBC/orgs",
      "repos_url": "https://api.github.com/users/JustinZhengBC/repos",
      "events_url": "https://api.github.com/users/JustinZhengBC/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JustinZhengBC/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T16:58:45Z",
    "updated_at": "2019-01-30T16:58:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sure. Suppose we were merging these two `DataFrame`s using the 'key' column in the first and the index of the second:\r\n```\r\n>>> df1\r\n   a  key\r\n0  1    0\r\n1  2    2\r\n2  3    2\r\n>>> df2\r\n   b\r\n0  1\r\n1  2\r\n2  3\r\n3  4\r\n4  5\r\n```\r\nOriginally, `Index.take` would compute a `left_indexer` of [0, 1, 2, -1, -1, -1] to indicate that the resulting frame will have values from `df1` in order for the first three rows, but the rest of the rows will have missing values in columns from `df1`. The problem is that to compute the index, it used to call `self.left.take(left_indexer)` which would result in the positions with -1 taking on the value of the last element in `df1['key']`, resulting in an incorrect index of [0, 1, 2, 2, 2, 2]. The intended result is that the rows that were not in `df1` should be indexed according to their index in `df2`. In this example, that would be [0, 1, 2, 1, 3, 4]. Since we had to pull multiple different values from `df2` to fill in the -1's, we could not use the `fill_value` parameter in `Index.take`."
  }
]
