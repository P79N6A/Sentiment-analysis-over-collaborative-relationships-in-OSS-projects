[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/217054499",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13086#issuecomment-217054499",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13086",
    "id": 217054499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzA1NDQ5OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T01:26:31Z",
    "updated_at": "2016-05-05T01:26:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "what exactly is the problem? you are showing lots of code which makes this very hard to grok\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/217055572",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13086#issuecomment-217055572",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13086",
    "id": 217055572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzA1NTU3Mg==",
    "user": {
      "login": "medullaskyline",
      "id": 3899812,
      "node_id": "MDQ6VXNlcjM4OTk4MTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3899812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/medullaskyline",
      "html_url": "https://github.com/medullaskyline",
      "followers_url": "https://api.github.com/users/medullaskyline/followers",
      "following_url": "https://api.github.com/users/medullaskyline/following{/other_user}",
      "gists_url": "https://api.github.com/users/medullaskyline/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/medullaskyline/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/medullaskyline/subscriptions",
      "organizations_url": "https://api.github.com/users/medullaskyline/orgs",
      "repos_url": "https://api.github.com/users/medullaskyline/repos",
      "events_url": "https://api.github.com/users/medullaskyline/events{/privacy}",
      "received_events_url": "https://api.github.com/users/medullaskyline/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T01:38:13Z",
    "updated_at": "2016-05-05T01:38:13Z",
    "author_association": "NONE",
    "body": "Yeah, just trying to adhere to the contributing guidelines. Sorry if it's unclear!\n\nBasically I'd like verify_schema [code](https://github.com/pydata/pandas/blob/master/pandas/io/gbq.py#L476) to change. Currently it takes the schema of a BigQuery table, which will usually have name, type, mode, and possibly a description.\n\nThe _generate_bq_schema [code](https://github.com/pydata/pandas/blob/master/pandas/io/gbq.py#L735) takes a pandas dataframe and creates a BigQuery-like schema that only has name and type (not mode or description).\n\nI think that verify_schema should only compare the BigQuery table's schema fields name and type to the dataframe's \"schema\". \n\nI just submitted my pull request [here](https://github.com/pydata/pandas/pull/13087) although I haven't completed all the checkboxes. That might explain it better.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/217319009",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13086#issuecomment-217319009",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13086",
    "id": 217319009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzMxOTAwOQ==",
    "user": {
      "login": "medullaskyline",
      "id": 3899812,
      "node_id": "MDQ6VXNlcjM4OTk4MTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3899812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/medullaskyline",
      "html_url": "https://github.com/medullaskyline",
      "followers_url": "https://api.github.com/users/medullaskyline/followers",
      "following_url": "https://api.github.com/users/medullaskyline/following{/other_user}",
      "gists_url": "https://api.github.com/users/medullaskyline/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/medullaskyline/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/medullaskyline/subscriptions",
      "organizations_url": "https://api.github.com/users/medullaskyline/orgs",
      "repos_url": "https://api.github.com/users/medullaskyline/repos",
      "events_url": "https://api.github.com/users/medullaskyline/events{/privacy}",
      "received_events_url": "https://api.github.com/users/medullaskyline/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-06T00:40:56Z",
    "updated_at": "2016-05-06T17:54:24Z",
    "author_association": "NONE",
    "body": "Appending dataframes to existing BigQuery tables (that weren't created by the `to_gbq` method) unnecessarily raises the `InvalidSchema` PandasError due to a bug in the `GbqConnector.verify_schema` method.\n\nCreating a dataframe will result in the following generated_schema:\n\n```\ndf = pandas.DataFrame({'word': '', 'word_count': [1], 'corpus': '', 'corpus_date': [1]},\n            columns=['word', 'word_count', 'corpus', 'corpus_date'])\ngenerated_schema = pandas.io.gbq.generate_bq_schema(df)\ngenerated_schema\n{'fields': [{'name': 'word', 'type': 'STRING'},\n            {'name': 'word_count', 'type': 'INTEGER'},\n            {'name': 'corpus', 'type': 'STRING'},\n            {'name': 'corpus_date', 'type': 'INTEGER'}]}\n```\n\nThis generated_schema will fail the verify_schema function since the schema from the BigQuery table contains `mode` for each field and sometimes `description`.\n\n```\n{u'fields': [{u'description': u'A single unique word (where whitespace is the delimiter) extracted from a corpus.',\n              u'mode': u'REQUIRED',\n              u'name': u'word',\n              u'type': u'STRING'},\n             {u'description': u'The number of times this word appears in this corpus.',\n              u'mode': u'REQUIRED',\n              u'name': u'word_count',\n              u'type': u'INTEGER'},\n             {u'description': u'The work from which this word was extracted.',\n              u'mode': u'REQUIRED',\n              u'name': u'corpus',\n              u'type': u'STRING'},\n             {u'description': u'The year in which this corpus was published.',\n              u'mode': u'REQUIRED',\n              u'name': u'corpus_date',\n              u'type': u'INTEGER'}]}\n```\n\nThe solution is to modify `verify_schema` to strip the BigQuery table's schema of its `mode` and `description` entries.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/230924550",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13086#issuecomment-230924550",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13086",
    "id": 230924550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDkyNDU1MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-06T22:19:51Z",
    "updated_at": "2016-07-06T22:19:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you rebase / update and show tests results.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/263661591",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13086#issuecomment-263661591",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13086",
    "id": 263661591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzY2MTU5MQ==",
    "user": {
      "login": "Etiennepi",
      "id": 7561353,
      "node_id": "MDQ6VXNlcjc1NjEzNTM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7561353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Etiennepi",
      "html_url": "https://github.com/Etiennepi",
      "followers_url": "https://api.github.com/users/Etiennepi/followers",
      "following_url": "https://api.github.com/users/Etiennepi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Etiennepi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Etiennepi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Etiennepi/subscriptions",
      "organizations_url": "https://api.github.com/users/Etiennepi/orgs",
      "repos_url": "https://api.github.com/users/Etiennepi/repos",
      "events_url": "https://api.github.com/users/Etiennepi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Etiennepi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-29T18:50:10Z",
    "updated_at": "2016-11-29T18:50:10Z",
    "author_association": "NONE",
    "body": "Hi, any ETA on this? I'm currently running into this exact issue."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/282583505",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13086#issuecomment-282583505",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13086",
    "id": 282583505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjU4MzUwNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-26T20:12:43Z",
    "updated_at": "2017-02-26T20:12:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "duplicate / migrated to pydata/pandas-gbq#13"
  }
]
