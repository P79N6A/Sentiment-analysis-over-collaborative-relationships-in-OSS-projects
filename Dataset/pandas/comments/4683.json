[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23377999",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4683#issuecomment-23377999",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4683",
    "id": 23377999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzc3OTk5",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-27T22:55:48Z",
    "updated_at": "2013-08-27T22:55:48Z",
    "author_association": "MEMBER",
    "body": "what sort of API would you want for this?\n\nThis is an example of a horribly designed and written table that uses style attributes in almost every tag. `read_html` does not and should not try to deal with such idiosyncrasies of HTML tables. However, this type of operation might be useful in the general case.\n\nSomething like: `pd.read_html(collapse={'A': [0, 1, 2], 'B': [3, 4]})`. This would join columns 0, 1, and 2 and form a new column `A` and join 3 and 4 to form `B`. This would be a sort of generalization of the `parse_dates` keyword argument in `read_csv` and friends.\n\nOne issue is coming up with a way to specify the `dtype`. I suppose you could use a nested `dict`, but that seems like too much.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23378869",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4683#issuecomment-23378869",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4683",
    "id": 23378869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzc4ODY5",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-27T23:14:39Z",
    "updated_at": "2013-08-27T23:14:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "At a certain point you can just do that sort of thing yourself and keep\nread_html simple. Did we figure out whether read_html handles MultiIndex or\nhierarchical columns?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23378890",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4683#issuecomment-23378890",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4683",
    "id": 23378890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzc4ODkw",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-27T23:15:10Z",
    "updated_at": "2013-08-27T23:15:10Z",
    "author_association": "MEMBER",
    "body": "It does. See #4679. I gave an example.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23383727",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4683#issuecomment-23383727",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4683",
    "id": 23383727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzgzNzI3",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-28T01:20:26Z",
    "updated_at": "2013-08-28T01:20:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "So then I'm not clear on what the value is here. Edge cases where this\nwould avoid having an intermediate dtype?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23383861",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4683#issuecomment-23383861",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4683",
    "id": 23383861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzgzODYx",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-28T01:24:42Z",
    "updated_at": "2013-08-28T01:24:42Z",
    "author_association": "MEMBER",
    "body": "Maybe. I think this should be left to the user.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23387155",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4683#issuecomment-23387155",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4683",
    "id": 23387155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzg3MTU1",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-28T03:15:23Z",
    "updated_at": "2013-08-28T04:33:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am not worried about `dtype` here. The number of rows is small enough that even if the initial type is string (aka object), the value can always be cast to float after appropriate cleaning is performed (removing thousands separators, changing parenthesis to negatives, stripping dollar sign).\n\nMy biggest concern is how the reader would express this data to the user:\n\n```\n|3 months|6months            |\n|A    |B     |A          |B  |\n|$|3  |$|(3|)|($2,000|)|$|12 |\n```\n\nIn this case the natural results would be a a `MultiIndex` with \"3 months\" and \"6 months\" at the top level and then \"A\" and \"B\" at next level. This would mean four distinct columns. However, given the odd layout off the actual data columns, there would be 9 columns in the data section. As long as the anonymous columns are loaded correctly, I could certainly do the merging after the parse.\n\n@cpcloud While I agree that this is in fact a \"horribly designed and written table that uses style attributes in almost every tag\", most SEC filings that I have seen share similar layout characteristics (I would be happy to provide more examples). I would say that having the ability to load tables from SEC filings to worthwhile even if they make use cringe. I did fine one example so far of a a ragged table (ick): http://www.sec.gov/Archives/edgar/data/1108524/000119312511075314/d10k.htm#tx138159_26\n\nSo, I am all for keeping `read_html` as simple as possible as long as enough of the structure is maintained such that user can clean the data.\n\nI agree that it does seem like a generalization of the `parse_dates` argument.\n"
  }
]
