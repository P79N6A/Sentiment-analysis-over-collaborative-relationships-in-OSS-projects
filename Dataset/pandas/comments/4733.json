[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/23655252",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4733#issuecomment-23655252",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4733",
    "id": 23655252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjU1MjUy",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-02T11:38:18Z",
    "updated_at": "2013-09-02T11:50:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for reporting this!\n\n_I seem to remember that the issue was something like the aggfunc didn't have access to unused columns, but as I think I recall getting some strange errors about SNDArrays -can't recall what debugging I did exactly to see them..._\n\nSimple example, perhaps needs a better one:\n\n```\ndf = pd.DataFrame([[1] * 5], columns=['Konskund_MEAB','ProdID', 'Year', 'snittpris', 'Antal_forsandelser'])\nrows = ['Konskund_MEAB','ProdID']\ncols = ['Year']\naggfunc = lambda x: np.average(x['snittpris'], weights=x['Antal_forsandelser'])\n\ndf.pivot_table(rows=rows, cols=cols, aggfunc=aggfunc)\n# KeyError: 'snittpris'\n```\n\nExpected result:\n\n```\nIn [11]: g = df.groupby(rows + cols).apply(aggfunc).unstack(cols)\nOut[11]:\nYear                  1\nKonskund_MEAB ProdID\n1             1       1\n```\n\n(Edit: oop, this may be an agg rather than an apply.)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/24384965",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4733#issuecomment-24384965",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4733",
    "id": 24384965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Mzg0OTY1",
    "user": {
      "login": "wabee",
      "id": 3326681,
      "node_id": "MDQ6VXNlcjMzMjY2ODE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3326681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wabee",
      "html_url": "https://github.com/wabee",
      "followers_url": "https://api.github.com/users/wabee/followers",
      "following_url": "https://api.github.com/users/wabee/following{/other_user}",
      "gists_url": "https://api.github.com/users/wabee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wabee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wabee/subscriptions",
      "organizations_url": "https://api.github.com/users/wabee/orgs",
      "repos_url": "https://api.github.com/users/wabee/repos",
      "events_url": "https://api.github.com/users/wabee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wabee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-13T10:09:28Z",
    "updated_at": "2013-09-13T10:09:28Z",
    "author_association": "NONE",
    "body": "Cannot figure out how to tag this issue properly so the developers get a proper heads-up\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/24385421",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4733#issuecomment-24385421",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4733",
    "id": 24385421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Mzg1NDIx",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-13T10:19:15Z",
    "updated_at": "2013-09-13T10:19:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "(I wasn't sure if this is bug/enhancement, but tagged as a bug... @wabee reporting here is sufficient, just needs someone to find time to explore a fix :) )\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403158281",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4733#issuecomment-403158281",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4733",
    "id": 403158281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzE1ODI4MQ==",
    "user": {
      "login": "jbrockmendel",
      "id": 8078968,
      "node_id": "MDQ6VXNlcjgwNzg5Njg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8078968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbrockmendel",
      "html_url": "https://github.com/jbrockmendel",
      "followers_url": "https://api.github.com/users/jbrockmendel/followers",
      "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
      "repos_url": "https://api.github.com/users/jbrockmendel/repos",
      "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-06T22:05:05Z",
    "updated_at": "2018-07-06T22:05:05Z",
    "author_association": "MEMBER",
    "body": "This is difficult to reproduce without having `df` available.  Can you post a [MCVE](https://stackoverflow.com/help/mcve)?"
  }
]
