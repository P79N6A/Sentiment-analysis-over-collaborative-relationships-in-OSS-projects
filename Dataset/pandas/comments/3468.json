[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17101372",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-17101372",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 17101372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTAxMzcy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-26T21:34:48Z",
    "updated_at": "2013-04-26T21:34:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "1) is completely fixed in master (that is round trip to csv works; you will get a renamed column on readback, that is a feature)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17118496",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-17118496",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 17118496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTE4NDk2",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-27T16:03:15Z",
    "updated_at": "2013-04-27T16:12:13Z",
    "author_association": "NONE",
    "body": "@jreback actually brought this up a few days ago, and I talked him down because \nI didn't think the mangling mattered to anyone.\n\n##### Name mangling\n\n`to_csv` was broken for dupe columns, and it was only fixed in 0.11+ master, though\nthe name mangling is still there right now (done on read)\n\nMy guess is that the column name mangling was put there **before** dupe columns\nsupport to allow people to more easily import 3rd party data that had them. I imaging\nediting the column names of a 30MB csv file manually created some issues for\nmore casual users. Under those assumptions, I feel that was a good compromise.\n\nAs it turns out It's very easy to undo this behavior and it only breaks one test, the one \nwhich specifically tested for it. I think that _can_ go away soon, unless\nother issues are raised. (breaking existing code for one). maybe we can set a\n`mode.read_mangle_dupe_cols` or some such to handle that, defaulting\nto old behavior.\n\n##### Merge behavior\n\nThe merge behavior is naturally more subtle. Though the error message is unclear\nfrom a user's pov, it's actually very poignant if you realize why it's happening. reindexing is crucial\nto pandas's good perf re auto-alignment, but it's semantics break down when there are dupe columns,\nat least currently. I'm not sure it's worth the effort to fix generally or even if it's possible to do\ncleanly. Note that there is a significant subset of pandas that works fine for dupe cols,\nso that can be useful.\n\nWhat I will concede, is that:\n\n```\nIn [1]: df = pandas.DataFrame([[1,2]], columns=['a','a'])\n\nIn [2]: df\nOut[2]: \n   a  a\n0  1  2\n\nIn [3]: df.columns=['a','a.1']\n---------------------------------------------------------------------------\nException                                 Traceback (most recent call last)\n<ipython-input-3-d9fa6a61a781> in <module>()\n----> 1 df.columns=['a','a.1']\n\nException: Reindexing only valid with uniquely valued Index objects\n```\n\nIs really terrible usability, because once a frame with dupe cols is created the user can't \nmanually override to put the frame into working order for the rest of pandas. \n\nIf we can fix that somehow, I think that should be a reasonable compromise.\n\n@jreback , what do you think?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17122057",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-17122057",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 17122057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTIyMDU3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-27T19:41:55Z",
    "updated_at": "2013-04-27T19:41:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "1) I think adding an option in read_csv to pass thru dup columns (rather than mangle) is doable and prob should be the default (API change); maybe make a separate issue for this\n2) assigning a new index to a dup index should work as well; lets make an issue about this as well\n(not too hard to fix either)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17122450",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-17122450",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 17122450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTIyNDUw",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-27T20:03:54Z",
    "updated_at": "2013-04-27T20:03:54Z",
    "author_association": "NONE",
    "body": "The mangling code sits in a place that's reused by several io paths,\nnot sure if read_csv option is better fit then config option. but either is fine.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17177114",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-17177114",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 17177114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTc3MTE0",
    "user": {
      "login": "darindillon",
      "id": 2766856,
      "node_id": "MDQ6VXNlcjI3NjY4NTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2766856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darindillon",
      "html_url": "https://github.com/darindillon",
      "followers_url": "https://api.github.com/users/darindillon/followers",
      "following_url": "https://api.github.com/users/darindillon/following{/other_user}",
      "gists_url": "https://api.github.com/users/darindillon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darindillon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darindillon/subscriptions",
      "organizations_url": "https://api.github.com/users/darindillon/orgs",
      "repos_url": "https://api.github.com/users/darindillon/repos",
      "events_url": "https://api.github.com/users/darindillon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darindillon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-29T16:19:38Z",
    "updated_at": "2013-04-29T16:19:38Z",
    "author_association": "NONE",
    "body": "Do we really need an option to make read_csv name-mangle the columns? Yeah, we want to be backwards compatible and all, but really, is there even one person in the world who has a CSV that has duplicate columns and does NOT want pandas to create a dataframe with the exact same column names as in the file? \n  If pandas can handle the duplicate columns, and if the CSV has duplicate columns, then why would anyone NOT want to just load the column names as-is without mangling? I don't see the use case for who would want the name-mangling (and if you did really need it, it's easy to just rename the column yourself). \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17178186",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-17178186",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 17178186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTc4MTg2",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-29T16:38:09Z",
    "updated_at": "2013-04-29T16:38:23Z",
    "author_association": "NONE",
    "body": "Some users will have existing code that depends on this behavior, when users\nupgrade pandas and their scripts no longer work, they are reasonably upset.\nIf it's possible to address legacy issues  without breaking existing code, that's what we do.\n\nWhat the default behavior should be (opt-in to new, or activate \"legacy\" mode) is a bike shed topic\nwe all can argue from both sides.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17449014",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-17449014",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 17449014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NDQ5MDE0",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-05T09:14:49Z",
    "updated_at": "2013-05-05T09:14:49Z",
    "author_association": "NONE",
    "body": "#3511 merged, unmangled will become the default in 0.12.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20742794",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-20742794",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 20742794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzQyNzk0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T13:45:29Z",
    "updated_at": "2013-07-10T13:45:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@y-p I think this an be closed? (or wait to revers mangle default in 0.13?)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20743319",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3468#issuecomment-20743319",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3468",
    "id": 20743319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzQzMzE5",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T13:53:19Z",
    "updated_at": "2013-07-10T13:53:19Z",
    "author_association": "NONE",
    "body": "definitely, you nailed this one long ago.\n"
  }
]
