[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303477917",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303477917",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303477917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ3NzkxNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T17:42:46Z",
    "updated_at": "2017-05-23T17:42:46Z",
    "author_association": "MEMBER",
    "body": "```\r\nIn [3]: pd.__version__\r\nOut[3]: '0.19.2'\r\n\r\nIn [4]: pd.cut(np.array([.2, 1.4, 2.5, 6.2, 9.7, 2.1]), 3, labels=[\"good\",\"medium\",\"bad\"])\r\nOut[4]: \r\n[good, good, good, medium, bad, good]\r\nCategories (3, object): [good < medium < bad]\r\n```\r\n\r\n```\r\nIn [12]: pd.__version__\r\nOut[12]: '0.21.0.dev+68.gcc734ba'\r\n\r\nIn [13]: pd.cut(np.array([.2, 1.4, 2.5, 6.2, 9.7, 2.1]), 3, labels=[\"good\",\"medium\",\"bad\"])\r\nOut[13]: \r\n[good, good, good, medium, bad, good]\r\nCategories (3, object): [bad < good < medium]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303484843",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303484843",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303484843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ4NDg0Mw==",
    "user": {
      "login": "economy",
      "id": 2678172,
      "node_id": "MDQ6VXNlcjI2NzgxNzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2678172?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/economy",
      "html_url": "https://github.com/economy",
      "followers_url": "https://api.github.com/users/economy/followers",
      "following_url": "https://api.github.com/users/economy/following{/other_user}",
      "gists_url": "https://api.github.com/users/economy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/economy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/economy/subscriptions",
      "organizations_url": "https://api.github.com/users/economy/orgs",
      "repos_url": "https://api.github.com/users/economy/repos",
      "events_url": "https://api.github.com/users/economy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/economy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T18:07:43Z",
    "updated_at": "2017-05-23T18:09:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm looking into this. \r\n\r\n`core/reshape/tile.py` line 255: looks like `pd.Categorical(ordered=True)` orders the labels alphabetically regardless of how they're passed in.\r\n\r\n```\r\nIn [14]: labels = ['okay', 'good', 'bad']\r\nIn [15]: pd.Categorical(labels, ordered=True)\r\n\r\nOut [15]: [okay, good, bad]\r\nCategories (3, object): [bad < good < okay]\r\n``` \r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303495803",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303495803",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303495803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ5NTgwMw==",
    "user": {
      "login": "economy",
      "id": 2678172,
      "node_id": "MDQ6VXNlcjI2NzgxNzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2678172?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/economy",
      "html_url": "https://github.com/economy",
      "followers_url": "https://api.github.com/users/economy/followers",
      "following_url": "https://api.github.com/users/economy/following{/other_user}",
      "gists_url": "https://api.github.com/users/economy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/economy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/economy/subscriptions",
      "organizations_url": "https://api.github.com/users/economy/orgs",
      "repos_url": "https://api.github.com/users/economy/repos",
      "events_url": "https://api.github.com/users/economy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/economy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T18:48:18Z",
    "updated_at": "2017-05-23T18:48:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "If I have a categorical, and I want it to be ordered, and I pass a list of strings as labels, it doesn't seem like I'd ever want the _sorted_ version of those labels to be my rank ordering. Is there a case where I'd actually want to sort those strings alphabetically?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303501036",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303501036",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303501036,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUwMTAzNg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T19:07:44Z",
    "updated_at": "2017-05-23T19:07:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "@economy `pd.Categorical(labels, categories=labels, ordered=True)`. I thought it respected the observed order with `ordered=True` when `categories=None`, but I guess not."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303502570",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303502570",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303502570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUwMjU3MA==",
    "user": {
      "login": "economy",
      "id": 2678172,
      "node_id": "MDQ6VXNlcjI2NzgxNzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2678172?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/economy",
      "html_url": "https://github.com/economy",
      "followers_url": "https://api.github.com/users/economy/followers",
      "following_url": "https://api.github.com/users/economy/following{/other_user}",
      "gists_url": "https://api.github.com/users/economy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/economy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/economy/subscriptions",
      "organizations_url": "https://api.github.com/users/economy/orgs",
      "repos_url": "https://api.github.com/users/economy/repos",
      "events_url": "https://api.github.com/users/economy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/economy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T19:13:45Z",
    "updated_at": "2017-05-23T19:13:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, if I'm reading this correctly, updating the test to explicitly set `categories` fixes the issue and follows the appropriate way to use `pd.Categorical`"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303503447",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303503447",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303503447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUwMzQ0Nw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T19:17:12Z",
    "updated_at": "2017-05-23T19:17:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think we need a new test in `test_tile.py` You can just copy the example https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303477917 and assert that it matches the output from 0.19.2 (with the order \"good\" < \"medium\" < \"bad\".\r\n\r\nIdeally you would \r\n\r\n1. checkout a new branch\r\n2. write the test\r\n3. verify that the test fails\r\n4. write the fix (by passing `categories=labels`\r\n5. document the change"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303510088",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303510088",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303510088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUxMDA4OA==",
    "user": {
      "login": "economy",
      "id": 2678172,
      "node_id": "MDQ6VXNlcjI2NzgxNzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2678172?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/economy",
      "html_url": "https://github.com/economy",
      "followers_url": "https://api.github.com/users/economy/followers",
      "following_url": "https://api.github.com/users/economy/following{/other_user}",
      "gists_url": "https://api.github.com/users/economy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/economy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/economy/subscriptions",
      "organizations_url": "https://api.github.com/users/economy/orgs",
      "repos_url": "https://api.github.com/users/economy/repos",
      "events_url": "https://api.github.com/users/economy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/economy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T19:42:01Z",
    "updated_at": "2017-05-23T19:43:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger, I can create a new test for this, but `pd.cut()` still doesn't act as expected. \r\n\r\nIf I update `core/reshape/tile.py` line 255 to call `pd.Categorical` using the `categories` attribute correctly, the original test passes and output for `pd.cut()` is as described (expected) above. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303512129",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16459#issuecomment-303512129",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16459",
    "id": 303512129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUxMjEyOQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T19:49:51Z",
    "updated_at": "2017-05-23T19:49:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "> the original test passes and output for pd.cut() is as described (expected) above.\r\n\r\nDo you mean the one reported by @ProsperousHeart? That is a doctest, which aren't setup to run automatically (yet, @ProsperousHeart is getting them fixed up so that we can do that). In the meantime we need a regular unit test to verify that the fix works.\r\n\r\n"
  }
]
