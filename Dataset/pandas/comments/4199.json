[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20794458",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4199#issuecomment-20794458",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4199",
    "id": 20794458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzk0NDU4",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-11T07:22:01Z",
    "updated_at": "2013-07-11T07:22:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as duplicate of #2754.\n\nThink current workaround is to first use `df[pd.isnull(df)] = None` (rather than fillna).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20795543",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4199#issuecomment-20795543",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4199",
    "id": 20795543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzk1NTQz",
    "user": {
      "login": "simomo",
      "id": 1251601,
      "node_id": "MDQ6VXNlcjEyNTE2MDE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1251601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simomo",
      "html_url": "https://github.com/simomo",
      "followers_url": "https://api.github.com/users/simomo/followers",
      "following_url": "https://api.github.com/users/simomo/following{/other_user}",
      "gists_url": "https://api.github.com/users/simomo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simomo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simomo/subscriptions",
      "organizations_url": "https://api.github.com/users/simomo/orgs",
      "repos_url": "https://api.github.com/users/simomo/repos",
      "events_url": "https://api.github.com/users/simomo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simomo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-11T07:45:03Z",
    "updated_at": "2013-07-11T07:45:03Z",
    "author_association": "NONE",
    "body": "I tried this, and got an error:\n\n``` python\ndf = DataFrame({'a': [1, 2, 3], 'b': ['1', '2', '3'], 'c': [nan, 2.0, 3.0]})\ndf[pd.isnull(df)] = None\n\n\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n/home/duozhang/python-workspace/notebook/l-demo/<ipython-input-182-db74023de5e1> in <module>()\n----> 1 df[pd.isnull(df)] = None\n\n/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in __setitem__(self, key, value)\n   2033             self._setitem_array(key, value)\n   2034         elif isinstance(key, DataFrame):\n-> 2035             self._setitem_frame(key, value)\n   2036         else:\n   2037             # set column\n\n\n/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in _setitem_frame(self, key, value)\n   2068         if self._is_mixed_type:\n   2069             if not self._is_numeric_mixed_type:\n-> 2070                 raise ValueError('Cannot do boolean setting on mixed-type frame')\n   2071 \n   2072         self.where(-key, value, inplace=True)\n\nValueError: Cannot do boolean setting on mixed-type frame\n```\n\nAnd I found the solution in #1972 .\n\n``` python\nIn [10]: df.where(pd.notnull(df), None)\nOut[10]: \n   a     m     p     x\n0  1  None     0  None\n1  2    10  None  None\n2  3    11    20  None\n3  4    12    21  None\n```\n\nThis code works good. \nBut I think this transaction should be built in the write_frame function. Pandas shouldn't let user search on google for hours to solve such a common issue.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/20796061",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4199#issuecomment-20796061",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4199",
    "id": 20796061,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzk2MDYx",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-11T07:57:23Z",
    "updated_at": "2013-07-11T07:57:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "You're right, this should \"just work\" from read_sql, and I think it'll be fixed in 0.13 (probably in dev quite soon).\n\nTeam are currently working on better sql support, see #4163.\n\nThanks for reporting this and if you find any other bugs please let us know!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/402013813",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4199#issuecomment-402013813",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4199",
    "id": 402013813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjAxMzgxMw==",
    "user": {
      "login": "Lwa3000",
      "id": 14209464,
      "node_id": "MDQ6VXNlcjE0MjA5NDY0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/14209464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Lwa3000",
      "html_url": "https://github.com/Lwa3000",
      "followers_url": "https://api.github.com/users/Lwa3000/followers",
      "following_url": "https://api.github.com/users/Lwa3000/following{/other_user}",
      "gists_url": "https://api.github.com/users/Lwa3000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Lwa3000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Lwa3000/subscriptions",
      "organizations_url": "https://api.github.com/users/Lwa3000/orgs",
      "repos_url": "https://api.github.com/users/Lwa3000/repos",
      "events_url": "https://api.github.com/users/Lwa3000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Lwa3000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T05:02:17Z",
    "updated_at": "2018-07-03T05:02:17Z",
    "author_association": "NONE",
    "body": "Hi, Although this tissue is closed, I'm still getting the error:OperationalError: (1054, \"Unknown column 'nan' in 'field list'\").\r\nThe following works for me:\r\ndf.where(pd.notnull(df), None)\r\n\r\nThe following does not work: \r\ndf[pd.isnull(df)] = None\r\n\r\nmy pandas version is higher than 0.13:\r\n\r\n'0.22.0'\r\n\r\nmy other versions:\r\npymysql: '0.8.0'\r\nsqlalchemy: '1.2.5'\r\nPython 3.6.4"
  }
]
