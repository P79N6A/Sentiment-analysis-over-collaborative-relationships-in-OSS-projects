[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/466082257",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25393#issuecomment-466082257",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25393",
    "id": 466082257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjA4MjI1Nw==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-21T17:07:35Z",
    "updated_at": "2019-02-21T17:07:35Z",
    "author_association": "MEMBER",
    "body": "How do you know what the garbage collector is doing here? Isn't this going to be an implementation detail of CPython? Not sure this is really an issue with pandas as much as the way you have constructed your class"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/466257303",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25393#issuecomment-466257303",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25393",
    "id": 466257303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjI1NzMwMw==",
    "user": {
      "login": "nmusolino",
      "id": 3150861,
      "node_id": "MDQ6VXNlcjMxNTA4NjE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3150861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nmusolino",
      "html_url": "https://github.com/nmusolino",
      "followers_url": "https://api.github.com/users/nmusolino/followers",
      "following_url": "https://api.github.com/users/nmusolino/following{/other_user}",
      "gists_url": "https://api.github.com/users/nmusolino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nmusolino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nmusolino/subscriptions",
      "organizations_url": "https://api.github.com/users/nmusolino/orgs",
      "repos_url": "https://api.github.com/users/nmusolino/repos",
      "events_url": "https://api.github.com/users/nmusolino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nmusolino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-22T03:07:49Z",
    "updated_at": "2019-02-22T03:07:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here's a simpler reproduction:\r\n```python\r\nimport pandas\r\n\r\nclass C():\r\n    def __init__(self):\r\n        self.df = pandas.DataFrame()\r\n\r\n    def __del__(self):\r\n        self.df.to_csv('test.csv')\r\n\r\nif __name__ == '__main__':\r\n    c = C()\r\n```\r\n\r\nThe traceback doesn't show the import statement, but presumably this was causing the exception:\r\nhttps://github.com/pandas-dev/pandas/blob/9c0f6a8d703b6bee48918f2c5d16418a7ff736e3/pandas/core/generic.py#L3005-L3006\r\n\r\nThis is not really a pandas bug.  A similar case is discussed on the Python tracker in [Python issue 26637](https://bugs.python.org/issue26637).  To be clear, in that case, the goal was to improve the exception that Python raises; the behavior was not considered a bug.\r\n\r\nIn this case, pandas is simply trying to import something in a function.  The cause is that the `DataFrame.to_csv()` method is called at Python interpreter shutdown, when Python is not able to perform the import.\r\n\r\nA better approach is to change your class/program to not do this work in `__del__`.  As a temporary hack, you could try deleting all the references to your `PatternManager` object (i.e. add `del pm` in your script) and hope that the object will get GCed before interpreter shutdown.\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/466439108",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25393#issuecomment-466439108",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25393",
    "id": 466439108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQzOTEwOA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-22T15:37:35Z",
    "updated_at": "2019-02-22T15:37:35Z",
    "author_association": "MEMBER",
    "body": "Thanks for the research @nmusolino ! Closing as not a pandas bug"
  }
]
