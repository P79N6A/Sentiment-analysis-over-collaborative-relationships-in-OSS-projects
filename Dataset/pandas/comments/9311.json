[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70811726",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70811726",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70811726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODExNzI2",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T10:00:55Z",
    "updated_at": "2015-01-21T10:00:55Z",
    "author_association": "MEMBER",
    "body": "This looks like a bug to me.\n\nI can reproduce this on master.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70834230",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70834230",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70834230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODM0MjMw",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T13:14:09Z",
    "updated_at": "2015-01-21T13:14:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have isolated it to this line.\n\nhttps://github.com/pydata/pandas/blob/master/pandas/core/internals.py#L1818\n\nI'm going to see if I can determine if this is a numpy bug or if we just need to pass some additional parameters to [numpy.ndarray.astype](http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.astype.html).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70868529",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70868529",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70868529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODY4NTI5",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T16:25:49Z",
    "updated_at": "2015-01-21T16:25:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Interesting...\n\nnumpy casting defaults to \"unsafe\" for backward compatibility reasons. When I pass in \"safe\":\n\n``` python\nresult = result.astype('M8[ns]', casting='safe')\n\nTypeError: Cannot cast array from dtype('float64') to dtype('<M8[ns]') according to the rule 'safe'\n```\n\nSo numpy is even aware that this can't be done safely.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70874082",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70874082",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70874082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODc0MDgy",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T16:51:51Z",
    "updated_at": "2015-01-21T16:51:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "If I leave casting=\"safe\", then all is well, as it raises an error and fails over safely:\n\n``` python\ndef _groupby_function(name, alias, npfunc, numeric_only=True,\n                      _convert=False):\n    def f(self):\n        self._set_selection_from_grouper()\n        try:\n            return self._cython_agg_general(alias, numeric_only=numeric_only)\n        except AssertionError as e:\n            raise SpecificationError(str(e))\n        except Exception:\n            result = self.aggregate(lambda x: npfunc(x, axis=self.axis))\n            if _convert:\n                result = result.convert_objects()\n            return result\n\n    f.__doc__ = \"Compute %s of group values\" % name\n    f.__name__ = name\n\n    return f\n```\n\nResult:\n\n``` python\n   a                dateCreated\n0  1 2011-01-20 12:50:28.593448\n1  1 2011-01-15 12:50:28.502376\n2  1 2011-01-15 12:50:28.472790\n3  1 2011-01-15 12:50:28.445286\n\n\n                 dateCreated\na\n1 2011-01-20 12:50:28.593448\n```\n\nI'll work up a PR and a test... and see if I break all the things.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70901345",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70901345",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70901345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTAxMzQ1",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T19:12:27Z",
    "updated_at": "2015-01-21T19:12:27Z",
    "author_association": "MEMBER",
    "body": "The real question is why this is being cast to float64 in the first place. We might need to duplicate an internal cython routine so that there is an int64 version that we can safely use without needing any casting.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70903247",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70903247",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70903247,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTAzMjQ3",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T19:22:17Z",
    "updated_at": "2015-01-21T19:22:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@shoyer I'll take a peek at when that gets converted to float64. I didn't catch that at all, but you're right. It should be able to safely convert an int64.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70906538",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70906538",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70906538,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTA2NTM4",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T19:39:15Z",
    "updated_at": "2015-01-21T19:39:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "It runs an ensure_float on this line: https://github.com/pydata/pandas/blob/master/pandas/core/groupby.py#L1508\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70927467",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70927467",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70927467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTI3NDY3",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T21:42:20Z",
    "updated_at": "2015-01-21T21:42:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Alright, looks like the cython in generated.pyx needs to have functions for group_nth_ for int8, int16, int32, and int64.\n\nSound right to you @shoyer?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70932208",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70932208",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70932208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTMyMjA4",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T22:11:20Z",
    "updated_at": "2015-01-21T22:11:20Z",
    "author_association": "MEMBER",
    "body": "@iwschris That file is generated from `pandas/src/generate_code.py`, and it looks like integers were explicitly excluded, probably because something did not think they were necessary for groupby functions: https://github.com/pydata/pandas/blob/master/pandas/src/generate_code.py#L2407\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70939078",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70939078",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70939078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTM5MDc4",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-21T22:55:24Z",
    "updated_at": "2015-01-21T22:55:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Cool. I have a branch started that should fix this, and I'll enable integers for now, and see how things go from there.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/70960419",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-70960419",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 70960419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTYwNDE5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-22T02:12:34Z",
    "updated_at": "2015-01-22T02:12:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@iwschris this would be a nice fix\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71016434",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71016434",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71016434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDE2NDM0",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-22T12:58:18Z",
    "updated_at": "2015-01-22T12:58:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "#### First Attempt: Don't convert Integers To Floats in Cython\n\nSo, this is tightly wound around the idea that [there is no integer nan](http://pandas.pydata.org/pandas-docs/stable/gotchas.html#support-for-integer-na). Once I enabled integers in generate_code.py, the resulting generated.pyx simply converted integers to float64, which is precisely the thing we're trying to solve here.\n\nI modified the cython templates so that integers could remain integers, but obviously the problem of how to represent integer nan still remained. Just to see if it solved the problem at hand, on the integer groupby templates, I used 0 for nan, and the immediate problem was solved. Using 0 for nan is not an acceptable solution though, and I broke about 20 tests, where the integer to float64 conversion has already been assumed.\n\n#### Suggested Solution: Coerce safely with a fall-back\n\nThis prioritizes data safety over performance, but only in a very narrow band where we know that there is an issue. I'm proposing that we change [this line in core/internals.py](https://github.com/pydata/pandas/blob/master/pandas/core/internals.py#L1818) to this:\n\n``` python\nresult = result.astype('M8[ns]', casting='safe')\n```\n\nAll the fallback code already exists, and the change breaks no tests.\n\nThoughts?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71070888",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71070888",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71070888,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDcwODg4",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-22T18:25:05Z",
    "updated_at": "2015-01-22T18:25:05Z",
    "author_association": "MEMBER",
    "body": "@iwschris What does the fallback code look like? I'm guessing that skips Cython entirely?\n\nI would rather be correct than fast, so that would probably be OK, but we should know what the performance impact is first. Are there any major regressions in the vbench performance suite? (see [here](https://github.com/pydata/pandas/wiki/Performance-Testing) for instructions)\n\nOur usual approach to handling missing values for datetime64 is to check for values equal to `iNaT`. For example, take a look at the `group_count` functions in generate_code.py. This would be the preferred solution.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71074532",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71074532",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71074532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDc0NTMy",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-22T18:45:06Z",
    "updated_at": "2015-01-22T18:45:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@shoyer that's right, it skips Cython.\n\nI'll do the vbench stuff and post the results here.\n\nAs far as iNaT goes, the issue here is that by the time we get into those Cython functions the datetime64 has already been converted to an Integer.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71076332",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71076332",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71076332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDc2MzMy",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-22T18:54:41Z",
    "updated_at": "2015-01-22T18:54:41Z",
    "author_association": "MEMBER",
    "body": "@iwschris it's actually probably fine to do `iNaT` comparisons even for non-datetime types. You'll notice some of the existing code does exactly that. iNaT is the smallest int64 number:\n\n```\nIn [2]: pd.tslib.iNaT\nOut[2]: -9223372036854775808\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71077289",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71077289",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71077289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDc3Mjg5",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-22T19:00:10Z",
    "updated_at": "2015-01-22T19:00:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Excellent. I'll check it out then. Thanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71123243",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71123243",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71123243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTIzMjQz",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-22T23:48:05Z",
    "updated_at": "2015-01-22T23:48:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hah... the relevant part is here:\n\n```\ntimeseries_custom_bday_cal_decr              |   0.0296 |   0.0197 |   1.5040 |\nstat_ops_series_std                          |   0.6110 |   0.3927 |   1.5560 |\nstrings_title                                |  10.8200 |   6.6644 |   1.6236 |\ngroupby_last_float64                         |   6.6760 |   2.6947 |   2.4775 |\ngroupby_multi_count                          | 978.3040 |   5.6086 | 174.4281 |\ngroupby_last_datetimes                       | 2054.3030 |   9.3013 | 220.8609 |\ngroupby_first_datetimes                      | 2042.0907 |   8.5020 | 240.1893 |\n-------------------------------------------------------------------------------\nTest name                                    | head[ms] | base[ms] |  ratio   |\n-------------------------------------------------------------------------------\n```\n\n...point taken. I'll keep working on the Cython :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71218805",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71218805",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71218805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjE4ODA1",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-23T16:22:31Z",
    "updated_at": "2015-01-23T16:22:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Cython is fixed, all tests passing, vbench is looking good as well. I'll have the PR in today.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/71221511",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9311#issuecomment-71221511",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9311",
    "id": 71221511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjIxNTEx",
    "user": {
      "login": "iwschris",
      "id": 226109,
      "node_id": "MDQ6VXNlcjIyNjEwOQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/226109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iwschris",
      "html_url": "https://github.com/iwschris",
      "followers_url": "https://api.github.com/users/iwschris/followers",
      "following_url": "https://api.github.com/users/iwschris/following{/other_user}",
      "gists_url": "https://api.github.com/users/iwschris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iwschris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iwschris/subscriptions",
      "organizations_url": "https://api.github.com/users/iwschris/orgs",
      "repos_url": "https://api.github.com/users/iwschris/repos",
      "events_url": "https://api.github.com/users/iwschris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iwschris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-23T16:36:29Z",
    "updated_at": "2015-01-23T16:36:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here it is: https://github.com/pydata/pandas/pull/9345\n"
  }
]
