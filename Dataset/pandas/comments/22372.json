[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413284855",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22372#issuecomment-413284855",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22372",
    "id": 413284855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzI4NDg1NQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T18:08:45Z",
    "updated_at": "2018-08-15T18:08:45Z",
    "author_association": "MEMBER",
    "body": "Quite a few things being thrown out there but unfortunately it's not explicit enough as to what issue(s) you are trying to address. Also the expectation that `test[['cost']]` and `test.cost` are the same is incorrect, as the former returns a frame whereas the latter returns a series\r\n\r\nPlease refer to the contributing guide on how to open bug reports. The biggest thing here is to post a _minimally_ reproducible example:\r\n\r\nhttps://pandas.pydata.org/pandas-docs/stable/contributing.html#bug-reports-and-enhancement-requests\r\n\r\nIf you can provide the minimally reproducible example and clarify what the issue is exactly feel free to reopen"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413287881",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22372#issuecomment-413287881",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22372",
    "id": 413287881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzI4Nzg4MQ==",
    "user": {
      "login": "liesb",
      "id": 5881847,
      "node_id": "MDQ6VXNlcjU4ODE4NDc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5881847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liesb",
      "html_url": "https://github.com/liesb",
      "followers_url": "https://api.github.com/users/liesb/followers",
      "following_url": "https://api.github.com/users/liesb/following{/other_user}",
      "gists_url": "https://api.github.com/users/liesb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liesb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liesb/subscriptions",
      "organizations_url": "https://api.github.com/users/liesb/orgs",
      "repos_url": "https://api.github.com/users/liesb/repos",
      "events_url": "https://api.github.com/users/liesb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liesb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T18:18:14Z",
    "updated_at": "2018-08-15T18:22:29Z",
    "author_association": "NONE",
    "body": "I'm sorry, did you even run the code?\r\n\r\nWhile I understand that `test[['cost']]` and test.cost are different\r\nobjects, they still should contain _the same values_. They don't.\r\n\r\nI'll work on a more minimal example.\r\n\r\n\r\n\r\nOn Wed, Aug 15, 2018 at 7:09 PM, William Ayd <notifications@github.com>\r\nwrote:\r\n\r\n> Quite a few things being thrown out there but unfortunately it's not\r\n> explicit enough as to what issue(s) you are trying to address. Also the\r\n> expectation that test[['cost']] and test.cost are the same is incorrect,\r\n> as the former returns a frame whereas the latter returns a series\r\n>\r\n> Please refer to the contributing guide on how to open bug reports. The\r\n> biggest thing here is to post a *minimally* reproducible example:\r\n>\r\n> https://pandas.pydata.org/pandas-docs/stable/\r\n> contributing.html#bug-reports-and-enhancement-requests\r\n>\r\n> If you can provide the minimally reproducible example and clarify what the\r\n> issue is exactly feel free to reopen\r\n>\r\n> —\r\n> You are receiving this because you authored the thread.\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/pandas-dev/pandas/issues/22372#issuecomment-413284855>,\r\n> or mute the thread\r\n> <https://github.com/notifications/unsubscribe-auth/AFm_93fsRy4LoVNICqzkz1nC-pSs1d3wks5uRGPmgaJpZM4V-hG4>\r\n> .\r\n>\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413289385",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22372#issuecomment-413289385",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22372",
    "id": 413289385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzI4OTM4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T18:23:09Z",
    "updated_at": "2018-08-15T18:23:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@liesb pls post a minimal example - you have lots of things going on which are unrelated\r\nit’s actually very very hard to tell if anything is amiss\r\n\r\n\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413301788",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22372#issuecomment-413301788",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22372",
    "id": 413301788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzMwMTc4OA==",
    "user": {
      "login": "liesb",
      "id": 5881847,
      "node_id": "MDQ6VXNlcjU4ODE4NDc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5881847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liesb",
      "html_url": "https://github.com/liesb",
      "followers_url": "https://api.github.com/users/liesb/followers",
      "following_url": "https://api.github.com/users/liesb/following{/other_user}",
      "gists_url": "https://api.github.com/users/liesb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liesb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liesb/subscriptions",
      "organizations_url": "https://api.github.com/users/liesb/orgs",
      "repos_url": "https://api.github.com/users/liesb/repos",
      "events_url": "https://api.github.com/users/liesb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liesb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T19:05:09Z",
    "updated_at": "2018-08-15T19:05:09Z",
    "author_association": "NONE",
    "body": "Minimal example: I'm changing the value in the `cost` column of `df` from 2 to 789. However, I don't see this when I use `df`, `df[['cost']]` or `df.iloc[0]`; it is visible when using `df.cost`.\r\n\r\n```\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame(index=[0])\r\ndf['x'] = 1\r\ndf['cost'] = 2\r\nprint(df)\r\nidx = np.argmax(df.cost.values)\r\ncentroid = df.loc[[0]]\r\nnew_param = 4\r\ndf.at[idx, 'x'] = new_param\r\ndf.at[idx, 'cost'] = 789\r\nprint(df)\r\ndf.cost \r\ndf[['cost']]\r\ndf.iloc[0]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413304323",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22372#issuecomment-413304323",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22372",
    "id": 413304323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzMwNDMyMw==",
    "user": {
      "login": "liesb",
      "id": 5881847,
      "node_id": "MDQ6VXNlcjU4ODE4NDc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5881847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liesb",
      "html_url": "https://github.com/liesb",
      "followers_url": "https://api.github.com/users/liesb/followers",
      "following_url": "https://api.github.com/users/liesb/following{/other_user}",
      "gists_url": "https://api.github.com/users/liesb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liesb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liesb/subscriptions",
      "organizations_url": "https://api.github.com/users/liesb/orgs",
      "repos_url": "https://api.github.com/users/liesb/repos",
      "events_url": "https://api.github.com/users/liesb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liesb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T19:13:57Z",
    "updated_at": "2018-08-15T19:13:57Z",
    "author_association": "NONE",
    "body": "I'm adding the `pd.showversions()` output again as I used a different machine:\r\n\r\n<details>\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.6.final.0\r\npython-bits: 64\r\nOS: Darwin\r\nOS-release: 17.7.0\r\nmachine: x86_64\r\nprocessor: i386\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_GB.UTF-8\r\nLOCALE: en_GB.UTF-8\r\n\r\npandas: 0.23.4\r\npytest: None\r\npip: 18.0\r\nsetuptools: 40.0.0\r\nCython: None\r\nnumpy: 1.15.0\r\nscipy: None\r\npyarrow: None\r\nxarray: None\r\nIPython: None\r\nsphinx: None\r\npatsy: None\r\ndateutil: 2.7.3\r\npytz: 2018.5\r\nblosc: None\r\nbottleneck: None\r\ntables: None\r\nnumexpr: None\r\nfeather: None\r\nmatplotlib: None\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml: None\r\nbs4: None\r\nhtml5lib: None\r\nsqlalchemy: None\r\npymysql: None\r\npsycopg2: None\r\njinja2: None\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\n\r\n</details>"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/413345309",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22372#issuecomment-413345309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22372",
    "id": 413345309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzM0NTMwOQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-15T21:35:09Z",
    "updated_at": "2018-08-15T21:35:09Z",
    "author_association": "MEMBER",
    "body": "OK thanks for the example. Just to remove unnecessary prints and make it more concise:\r\n\r\n```python\r\ndf = pd.DataFrame(index=[0])\r\ndf['x'] = 1\r\ndf['cost'] = 2\r\nidx = np.argmax(df.cost.values)\r\ncentroid = df.loc[[0]]\r\nnew_param = 4\r\ndf.at[idx, 'x'] = new_param\r\ndf.at[idx, 'cost'] = 789\r\n\r\nprint(df['cost'])  # Print 789\r\nprint(df[['cost']])  # Prints 2\r\n```\r\n\r\nIt is strange that the frame shows the original value before the .at assignment. \r\n\r\nNote that almost any change to this to make it idiomatic in construction or remove elements is fine, for example even doing:\r\n\r\n```python\r\ndf = pd.DataFrame([[1, 2]], columns=['x', 'cost'], index=[0])\r\nidx = np.argmax(df.cost.values)\r\ncentroid = df.loc[[0]]\r\nnew_param = 4\r\ndf.at[idx, 'x'] = new_param\r\ndf.at[idx, 'cost'] = 789\r\n\r\nprint(df['cost'])  # Print 789\r\nprint(df[['cost']])  # Prints 789\r\n```\r\n\r\nMy guess is there is some wonky state management going on. Investigation and PRs are always welcome"
  }
]
