[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280090727",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15413#issuecomment-280090727",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15413",
    "id": 280090727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDA5MDcyNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-15T18:10:07Z",
    "updated_at": "2017-02-15T18:10:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "you will need to show a copy-pastable example."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280674717",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15413#issuecomment-280674717",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15413",
    "id": 280674717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDY3NDcxNw==",
    "user": {
      "login": "fduxiao",
      "id": 9294979,
      "node_id": "MDQ6VXNlcjkyOTQ5Nzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9294979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fduxiao",
      "html_url": "https://github.com/fduxiao",
      "followers_url": "https://api.github.com/users/fduxiao/followers",
      "following_url": "https://api.github.com/users/fduxiao/following{/other_user}",
      "gists_url": "https://api.github.com/users/fduxiao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fduxiao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fduxiao/subscriptions",
      "organizations_url": "https://api.github.com/users/fduxiao/orgs",
      "repos_url": "https://api.github.com/users/fduxiao/repos",
      "events_url": "https://api.github.com/users/fduxiao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fduxiao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T15:08:16Z",
    "updated_at": "2017-02-17T15:08:16Z",
    "author_association": "NONE",
    "body": "Sorry for replying so slowly. My codes are pretty long. Unzip the attachment, cd into the directory and run ./process.py (with python3). The problem happens in line 194 of backtesting.py when the parameter n_days is 5 in line 34 of process.py. That is what I've shown above.\r\n[mycode.zip](https://github.com/pandas-dev/pandas/files/783487/mycode.zip)\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280675565",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15413#issuecomment-280675565",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15413",
    "id": 280675565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDY3NTU2NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T15:11:33Z",
    "updated_at": "2017-02-17T15:11:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fduxiao that's not acceptable. Please show a copy-pastable example. If you think this is a bug, then it will need to be narrowed down to a tests case."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280826818",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15413#issuecomment-280826818",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15413",
    "id": 280826818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDgyNjgxOA==",
    "user": {
      "login": "fduxiao",
      "id": 9294979,
      "node_id": "MDQ6VXNlcjkyOTQ5Nzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9294979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fduxiao",
      "html_url": "https://github.com/fduxiao",
      "followers_url": "https://api.github.com/users/fduxiao/followers",
      "following_url": "https://api.github.com/users/fduxiao/following{/other_user}",
      "gists_url": "https://api.github.com/users/fduxiao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fduxiao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fduxiao/subscriptions",
      "organizations_url": "https://api.github.com/users/fduxiao/orgs",
      "repos_url": "https://api.github.com/users/fduxiao/repos",
      "events_url": "https://api.github.com/users/fduxiao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fduxiao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-18T06:48:27Z",
    "updated_at": "2017-02-18T06:48:27Z",
    "author_association": "NONE",
    "body": "When I tried to simplify the code I found the reason that I'd added a float to an element of an Series with dtype int64 and the result had been an int64, which caused this situation. Sorry for such a mistake and is there any good way to avoid it, since it's easy for one to forget a `.` after a number.  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280840045",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15413#issuecomment-280840045",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15413",
    "id": 280840045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDg0MDA0NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-18T11:37:42Z",
    "updated_at": "2017-02-18T11:38:23Z",
    "author_association": "MEMBER",
    "body": "@fduxiao Based on what you describe of \"added a float to an element of an Series with dtype int64 and the result had been an int64\", I tried the following as a simple example:\r\n\r\n```\r\nIn [28]: s = pd.Series([1,2,3])\r\n\r\nIn [29]: s[s==2] += 0.5\r\n\r\nIn [30]: s\r\nOut[30]: \r\n0    1.0\r\n1    2.5\r\n2    3.0\r\ndtype: float64\r\n\r\nIn [31]: s = pd.Series([1,2,3])\r\n\r\nIn [32]: s[1] += 0.5\r\n\r\nIn [33]: s\r\nOut[33]: \r\n0    1\r\n1    2\r\n2    3\r\ndtype: int64\r\n\r\nIn [36]: s = pd.Series([1,2,3])\r\n\r\nIn [37]: s.loc[1] += 0.5\r\n\r\nIn [38]: s\r\nOut[38]: \r\n0    1.0\r\n1    2.5\r\n2    3.0\r\ndtype: float64\r\n\r\nIn [39]: s = pd.Series([1,2,3])\r\n\r\nIn [40]: s.iloc[1] += 0.5\r\n\r\nIn [41]: s\r\nOut[41]: \r\n0    1.0\r\n1    2.5\r\n2    3.0\r\ndtype: float64\r\n```\r\n\r\nSo indeed, scalar indexing with `__getitem__` (`[]`) seems to be the exception compared to boolean getitem indexing and loc/iloc. That certainly looks like a bug to me, or at least a very confusing inconsistency."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280840382",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15413#issuecomment-280840382",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15413",
    "id": 280840382,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDg0MDM4Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-18T11:44:48Z",
    "updated_at": "2017-02-18T11:44:48Z",
    "author_association": "MEMBER",
    "body": "This probably has some roots in numpy behaviour:\r\n\r\n```\r\nIn [43]: a = np.array([1,2,3])\r\n\r\nIn [44]: a[1] += 0.5\r\n\r\nIn [45]: a\r\nOut[45]: array([1, 2, 3])\r\n\r\nIn [46]: a = np.array([1,2,3])\r\n\r\nIn [47]: a[a==2] += 0.5\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-47-b1927385ce52> in <module>()\r\n----> 1 a[a==2] += 0.5\r\n\r\nTypeError: Cannot cast ufunc add output from dtype('float64') to dtype('int64') with casting rule 'same_kind'\r\n\r\nIn [48]: a += 0.5\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-48-633f1f7b6cb9> in <module>()\r\n----> 1 a += 0.5\r\n\r\nTypeError: Cannot cast ufunc add output from dtype('float64') to dtype('int64') with casting rule 'same_kind'\r\n```\r\nNumpy takes the route of \"inplace operation should not alter dtype\" (which is certainly also sensible), but seems to cast the right hand side for scalar indexing, but raises an error in the other cases. \r\nPandas seems to take the other route changing the dtype if necessary in general (for most examples above), but not consistent."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/442862700",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15413#issuecomment-442862700",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15413",
    "id": 442862700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0Mjg2MjcwMA==",
    "user": {
      "login": "OmerJog",
      "id": 44576851,
      "node_id": "MDQ6VXNlcjQ0NTc2ODUx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/44576851?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OmerJog",
      "html_url": "https://github.com/OmerJog",
      "followers_url": "https://api.github.com/users/OmerJog/followers",
      "following_url": "https://api.github.com/users/OmerJog/following{/other_user}",
      "gists_url": "https://api.github.com/users/OmerJog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OmerJog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OmerJog/subscriptions",
      "organizations_url": "https://api.github.com/users/OmerJog/orgs",
      "repos_url": "https://api.github.com/users/OmerJog/repos",
      "events_url": "https://api.github.com/users/OmerJog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OmerJog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-29T14:56:09Z",
    "updated_at": "2018-11-29T14:56:09Z",
    "author_association": "NONE",
    "body": "are there any plans to fix this?"
  }
]
