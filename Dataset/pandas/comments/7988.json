[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52664026",
    "html_url": "https://github.com/pandas-dev/pandas/pull/7988#issuecomment-52664026",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7988",
    "id": 52664026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjY0MDI2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-19T16:54:37Z",
    "updated_at": "2014-08-19T16:54:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "this seems fine\n\ncc @rockg ?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52685577",
    "html_url": "https://github.com/pandas-dev/pandas/pull/7988#issuecomment-52685577",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7988",
    "id": 52685577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjg1NTc3",
    "user": {
      "login": "jonblunt",
      "id": 3467317,
      "node_id": "MDQ6VXNlcjM0NjczMTc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3467317?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonblunt",
      "html_url": "https://github.com/jonblunt",
      "followers_url": "https://api.github.com/users/jonblunt/followers",
      "following_url": "https://api.github.com/users/jonblunt/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonblunt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonblunt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonblunt/subscriptions",
      "organizations_url": "https://api.github.com/users/jonblunt/orgs",
      "repos_url": "https://api.github.com/users/jonblunt/repos",
      "events_url": "https://api.github.com/users/jonblunt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonblunt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-19T19:25:00Z",
    "updated_at": "2014-08-19T19:25:00Z",
    "author_association": "NONE",
    "body": "Bit late to the party but I was extending Holiday last week  to handle this issue and related.\n\nMy requirement is a flexible calendar that include some of the official holidays plus other days where the  business process is significantly different.  Examples are:\n-- Fixed days e.g. Halloween\n-- Events that do not happen every year e.g. Federal Election Day \n-- Related dates  e.g Easter determines Good Friday and Ash Wednesday ( I found the current implementation does not allow a simple \n    offset = Easter()  - Day(2)\n\nMy simple approach  was to subclass Holiday and to add new observance function of skip_odd_years.\n\n```\nclass MyHoliday(Holiday):\n    def __init__(self, name, year=None, month=None, day=None, offset=None, observance=None, start_date=None, end_date=None, subhols =  None):\n        super(MyHoliday, self).__init__( name, year=year, month=month, day=day, offset=offset, observance=observance, start_date=start_date, end_date=end_date,)\n        self.subhols = subhols\n        return \n\n    def _apply_rule(self, dates):\n        \"\"\"\n        Apply the given offset/observance to an\n    iterable of dates.\n\n        Parameters\n        ----------\n        dates : array-like\n            Dates to apply the given offset/observance rule\n\n        Returns\n        -------\n        Dates with rules applied\n        \"\"\"\n        if self.observance is not None:\n            return filter(lambda x: x is not None, map(lambda d: self.observance(d), dates))\n\n        # added for fixed holiday\n        if not self.offset:\n            return dates\n        if not isinstance(self.offset, list):\n            offsets =   [self.offset]\n        else:\n            offsets =   self.offset\n\n        for offset in offsets:\n            dates = map(lambda d: d + offset, dates)\n\n        return dates\n\n    def dates(self, start_date, end_date, return_name =  False):\n\n        # subhols are other dates, a fixed offset to the main holiday\n\n        res = Holiday.dates(self, start_date, end_date, return_name)\n        if not self.subhols:\n            return res\n        if return_name:\n            dts = res.index.copy()\n        else:\n            dts =  res.copy()\n\n        # build the list of other holidays\n        extras = [( dt + Day(offset), name)  for name, offset in self.subhols for dt in dts]\n\n        if return_name:\n\n            return res.append( pd.Series(data = [e[1] for e in extras], index = [e[0] for e in extras])).sort_index()\n        else:\n            return res.append(pd.DatetimeIndex(data = [e[0] for e in extras])).sort()\n\n# new function for observance -- Election Day ?\ndef skip_odd_years(dt):\n    if dt.year % 2 ==1:\n        return None\n    else:\n        return dt \n```\n\nThis works but I would prefer a more robust fix for complex offsets in Holiday.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52686511",
    "html_url": "https://github.com/pandas-dev/pandas/pull/7988#issuecomment-52686511",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7988",
    "id": 52686511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjg2NTEx",
    "user": {
      "login": "MichaelWS",
      "id": 1874691,
      "node_id": "MDQ6VXNlcjE4NzQ2OTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1874691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MichaelWS",
      "html_url": "https://github.com/MichaelWS",
      "followers_url": "https://api.github.com/users/MichaelWS/followers",
      "following_url": "https://api.github.com/users/MichaelWS/following{/other_user}",
      "gists_url": "https://api.github.com/users/MichaelWS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MichaelWS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MichaelWS/subscriptions",
      "organizations_url": "https://api.github.com/users/MichaelWS/orgs",
      "repos_url": "https://api.github.com/users/MichaelWS/repos",
      "events_url": "https://api.github.com/users/MichaelWS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MichaelWS/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-19T19:31:57Z",
    "updated_at": "2014-08-19T19:31:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "you can just supply a  function for how to compute observance and have it return None on \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52686625",
    "html_url": "https://github.com/pandas-dev/pandas/pull/7988#issuecomment-52686625",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7988",
    "id": 52686625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjg2NjI1",
    "user": {
      "login": "MichaelWS",
      "id": 1874691,
      "node_id": "MDQ6VXNlcjE4NzQ2OTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1874691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MichaelWS",
      "html_url": "https://github.com/MichaelWS",
      "followers_url": "https://api.github.com/users/MichaelWS/followers",
      "following_url": "https://api.github.com/users/MichaelWS/following{/other_user}",
      "gists_url": "https://api.github.com/users/MichaelWS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MichaelWS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MichaelWS/subscriptions",
      "organizations_url": "https://api.github.com/users/MichaelWS/orgs",
      "repos_url": "https://api.github.com/users/MichaelWS/repos",
      "events_url": "https://api.github.com/users/MichaelWS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MichaelWS/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-19T19:32:57Z",
    "updated_at": "2014-08-19T19:32:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "jon, this was fixed in the pr.\n\nGoodFriday = Holiday(\"Good Friday\", month=1, day=1, offset=[Easter(), Day(-2)])\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/52686639",
    "html_url": "https://github.com/pandas-dev/pandas/pull/7988#issuecomment-52686639",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7988",
    "id": 52686639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjg2NjM5",
    "user": {
      "login": "rockg",
      "id": 3195015,
      "node_id": "MDQ6VXNlcjMxOTUwMTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3195015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rockg",
      "html_url": "https://github.com/rockg",
      "followers_url": "https://api.github.com/users/rockg/followers",
      "following_url": "https://api.github.com/users/rockg/following{/other_user}",
      "gists_url": "https://api.github.com/users/rockg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rockg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rockg/subscriptions",
      "organizations_url": "https://api.github.com/users/rockg/orgs",
      "repos_url": "https://api.github.com/users/rockg/repos",
      "events_url": "https://api.github.com/users/rockg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rockg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-19T19:33:03Z",
    "updated_at": "2014-08-19T19:33:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "You can support multiple offsets in a rule (need to pass it as an array of offsets).  There was a bug in python 3 that prevented this from working, but it was recently fixed [see here](https://github.com/pydata/pandas/pull/7913).  @MichaelWS added tests for Good Friday.\n"
  }
]
