[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/312164824",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16802#issuecomment-312164824",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16802",
    "id": 312164824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjE2NDgyNA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-30T03:23:09Z",
    "updated_at": "2017-06-30T03:23:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "What's `my_df.info()`, and can you post the schema for the table you created directly?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/312206358",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16802#issuecomment-312206358",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16802",
    "id": 312206358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjIwNjM1OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-30T08:19:40Z",
    "updated_at": "2017-06-30T08:19:40Z",
    "author_association": "MEMBER",
    "body": "Further question: does it work if you write it to a new table ? (so don't create it in advance: `my_df.to_sql('table_name_other', con=hanaeng, index=False)`)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/312335787",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16802#issuecomment-312335787",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16802",
    "id": 312335787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjMzNTc4Nw==",
    "user": {
      "login": "niravchit",
      "id": 11172868,
      "node_id": "MDQ6VXNlcjExMTcyODY4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11172868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niravchit",
      "html_url": "https://github.com/niravchit",
      "followers_url": "https://api.github.com/users/niravchit/followers",
      "following_url": "https://api.github.com/users/niravchit/following{/other_user}",
      "gists_url": "https://api.github.com/users/niravchit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niravchit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niravchit/subscriptions",
      "organizations_url": "https://api.github.com/users/niravchit/orgs",
      "repos_url": "https://api.github.com/users/niravchit/repos",
      "events_url": "https://api.github.com/users/niravchit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niravchit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-30T18:06:36Z",
    "updated_at": "2017-06-30T18:06:36Z",
    "author_association": "NONE",
    "body": "@TomAugspurger \r\nthe print out from my_df.info() is the following: \r\nRangeIndex: 94460 entries, 0 to 94459\r\nData columns (total 15 columns):\r\nSighting_placename      94460 non-null object\r\nfirstname               94460 non-null object\r\nSight_Place_ID          94460 non-null object\r\nuserdevice_id           94460 non-null object\r\nlastname                94460 non-null object\r\ncreated_AT              94460 non-null object\r\nSighting_Longitude      94460 non-null float64\r\nSighting_Device_Name    94460 non-null object\r\nSighting_batter         94460 non-null int64\r\nSighting_Latitude       94460 non-null float64\r\nSighting_RSSI           94460 non-null int64\r\nSighted_Device_ID       94460 non-null object\r\nUser_Dev_TYP            94460 non-null object\r\nSighting_Temperature    94460 non-null int64\r\nOwner_ID                94460 non-null object\r\ndtypes: float64(2), int64(3), object(10)\r\nmemory usage: 7.2+ MB\r\n\r\nThe schema of the table is the following: ED (host) --> NC (my user db) --> table1, table2, etc.\r\n\r\n@jorisvandenbossche it does work when I create a new table - is this unusual or a undocumented aspect of using to_sql? I figured that the \"if_exists\" arg would just append since the table exists in the DB. \r\n\r\nThis script will be running on a daily basis with the query changing on which dates will be selected. HANA tools don't work with the DB where we're storing the data, hence the need for this script. The other option I was considering was brute force iterating through each row in the df and calling an \"INSERT\" sql statement using the connection object. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/314891163",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16802#issuecomment-314891163",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16802",
    "id": 314891163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDg5MTE2Mw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-12T20:44:15Z",
    "updated_at": "2017-07-12T20:44:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@niravchit could you post the full traceback? That may give a hint as to what's going on. It's possible that a name is mangled somewhere between us and sqlalchemy."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315199963",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16802#issuecomment-315199963",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16802",
    "id": 315199963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE5OTk2Mw==",
    "user": {
      "login": "niravchit",
      "id": 11172868,
      "node_id": "MDQ6VXNlcjExMTcyODY4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11172868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niravchit",
      "html_url": "https://github.com/niravchit",
      "followers_url": "https://api.github.com/users/niravchit/followers",
      "following_url": "https://api.github.com/users/niravchit/following{/other_user}",
      "gists_url": "https://api.github.com/users/niravchit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niravchit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niravchit/subscriptions",
      "organizations_url": "https://api.github.com/users/niravchit/orgs",
      "repos_url": "https://api.github.com/users/niravchit/repos",
      "events_url": "https://api.github.com/users/niravchit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niravchit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T20:56:54Z",
    "updated_at": "2017-07-13T20:56:54Z",
    "author_association": "NONE",
    "body": "hey @TomAugspurger  thank you for your follow up. i have devised a workaround since per @jorisvandenbossche the \"to_sql\" function works with the hana sql alchemy engine when creating a new table in the schema. so i went ahead and decided to use a temp table with \"if_exists\" set to replace instead of append. its probably not the best solution but it works for now. would you be able to help me on another issue? i am trying to specify the datatypes that to_sql creates in hana. for most of the columns i don't mind \"clob\" being the type created but i'm trying to specify datetime for one of my fields so i can order the entries based on that. it is returning that field as a clob type and the entries are not in the same order when i view it in hana compared to how they are the dataframe/mysql. here's the code:\r\n`import sqlalchemy as sa\r\nmsql_df.to_sql('motion_data_temp', \r\n                            con = hanaengine, \r\n                            index = False, \r\n                            if_exists='replace',\r\n                            dtype= {'sighting_placename': sa.types.CLOB(50),\r\n                                    'firstname': sa.types.CLOB(50),\r\n                                    'sight_place_id': sa.types.CLOB(50),\r\n                                    'userdevice_id': sa.types.CLOB(50),\r\n                                    'lastname': sa.types.CLOB(50),\r\n                                    'created_at': sa.types.DATETIME(),\r\n                                    'sighting_longitude': sa.types.Float,\r\n                                    'sighting_device_name': sa.types.CLOB(50),\r\n                                    'sighting_battery': sa.types.BIGINT,\r\n                                    'sighting_latitude': sa.types.Float,\r\n                                    'sighting_rssi': sa.types.BIGINT,\r\n                                    'sighted_device_id': sa.types.CLOB(50),\r\n                                    'user_device_typ': sa.types.CLOB(50),\r\n                                    'sighting_temperature': sa.types.BIGINT,\r\n                                    'owner_id': sa.types.CLOB(50)\r\n                                    })`\r\n\r\nfor the purpose of exploration i'm attaching a text file with the traceback call. the first one is specific to my initial question of an 'invalid column name' error and the second one is another one i saw when running my code on another occasion. \r\n[traceback log.txt](https://github.com/pandas-dev/pandas/files/1146642/traceback.log.txt)\r\n"
  }
]
