[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/355948511",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19133#issuecomment-355948511",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19133",
    "id": 355948511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTk0ODUxMQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T12:00:38Z",
    "updated_at": "2018-01-08T12:00:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you post the timings you get? And can you try both with / without bottleneck? `mean` should use it, but `sum` won't IIRC.\r\n\r\nIf that doesn't explain the difference, then when you get a chance, could you upgrade to pandas master and maybe profile https://github.com/pandas-dev/pandas/blob/master/pandas/core/nanops.py a bit?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/355952791",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19133#issuecomment-355952791",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19133",
    "id": 355952791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTk1Mjc5MQ==",
    "user": {
      "login": "stakas",
      "id": 8689905,
      "node_id": "MDQ6VXNlcjg2ODk5MDU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8689905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stakas",
      "html_url": "https://github.com/stakas",
      "followers_url": "https://api.github.com/users/stakas/followers",
      "following_url": "https://api.github.com/users/stakas/following{/other_user}",
      "gists_url": "https://api.github.com/users/stakas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stakas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stakas/subscriptions",
      "organizations_url": "https://api.github.com/users/stakas/orgs",
      "repos_url": "https://api.github.com/users/stakas/repos",
      "events_url": "https://api.github.com/users/stakas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stakas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T12:22:29Z",
    "updated_at": "2018-01-08T14:24:33Z",
    "author_association": "NONE",
    "body": "Spot on!\r\nFor \r\n\r\n```python\r\n\r\nK = 100000000\r\ndf = pd.DataFrame(list(range(K)))\r\nmask = df[0] > K/2\r\n\r\n```\r\nWithout bottleneck: ``` %timeit mask.mean() ``` gives: ``` 10 loops, best of 3: 141 ms per loop ``` and ```python %timeit mask.sum() ```  gives: ```python 1 loop, best of 3: 1.06 s per loop ``` . \r\n\r\nWith bottleneck timings are much more inline: ```python 10 loops, best of 3: 137 ms per loop ``` \r\nvs ```python 1 loop, best of 3: 161 ms per loop ``` .\r\n\r\nSo the solution would be to use Bottleneck ? Thanks\r\n  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/355954658",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19133#issuecomment-355954658",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19133",
    "id": 355954658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTk1NDY1OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T12:32:24Z",
    "updated_at": "2018-01-08T12:32:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks.\r\n\r\nIIRC, `bottleneck.nansum` had some overflow issues. see https://github.com/pandas-dev/pandas/pull/15507. This may be easier to solve now that https://github.com/pandas-dev/pandas/issues/9422 has been settled."
  }
]
