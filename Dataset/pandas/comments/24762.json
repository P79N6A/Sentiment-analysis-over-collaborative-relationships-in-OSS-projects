[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/453918563",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-453918563",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 453918563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzkxODU2Mw==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-01-14T07:24:22Z",
    "updated_at": "2019-01-14T07:24:22Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=h1) Report\n> Merging [#24762](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/453fa85a8b88ca22c7b878a3fcf97e068f11b6c4?src=pr&el=desc) will **decrease** coverage by `49.47%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/24762/graphs/tree.svg?width=650&token=eZ4WkYLtcO&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master   #24762       +/-   ##\n===========================================\n- Coverage   92.38%   42.91%   -49.48%     \n===========================================\n  Files         166      166               \n  Lines       52363    52363               \n===========================================\n- Hits        48376    22471    -25905     \n- Misses       3987    29892    +25905\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `?` | |\n| #single | `42.91% <ø> (-0.01%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/frame.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZnJhbWUucHk=) | `35.74% <ø> (-61.19%)` | :arrow_down: |\n| [pandas/io/formats/latex.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL2Zvcm1hdHMvbGF0ZXgucHk=) | `0% <0%> (-100%)` | :arrow_down: |\n| [pandas/core/categorical.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvY2F0ZWdvcmljYWwucHk=) | `0% <0%> (-100%)` | :arrow_down: |\n| [pandas/io/sas/sas\\_constants.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL3Nhcy9zYXNfY29uc3RhbnRzLnB5) | `0% <0%> (-100%)` | :arrow_down: |\n| [pandas/tseries/plotting.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL3RzZXJpZXMvcGxvdHRpbmcucHk=) | `0% <0%> (-100%)` | :arrow_down: |\n| [pandas/tseries/converter.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL3RzZXJpZXMvY29udmVydGVyLnB5) | `0% <0%> (-100%)` | :arrow_down: |\n| [pandas/io/formats/html.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL2Zvcm1hdHMvaHRtbC5weQ==) | `0% <0%> (-99.35%)` | :arrow_down: |\n| [pandas/core/groupby/categorical.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZ3JvdXBieS9jYXRlZ29yaWNhbC5weQ==) | `0% <0%> (-95.46%)` | :arrow_down: |\n| [pandas/io/sas/sas7bdat.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL3Nhcy9zYXM3YmRhdC5weQ==) | `0% <0%> (-91.17%)` | :arrow_down: |\n| [pandas/io/sas/sas\\_xport.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL3Nhcy9zYXNfeHBvcnQucHk=) | `0% <0%> (-90.15%)` | :arrow_down: |\n| ... and [124 more](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=footer). Last update [453fa85...faf8bcc](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/453918564",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-453918564",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 453918564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzkxODU2NA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-01-14T07:24:22Z",
    "updated_at": "2019-01-17T23:44:16Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=h1) Report\n> Merging [#24762](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/512830b46e678a1c6bd86cc60f54d74ff75792db?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/24762/graphs/tree.svg?width=650&token=eZ4WkYLtcO&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #24762      +/-   ##\n==========================================\n- Coverage   92.38%   92.38%   -0.01%     \n==========================================\n  Files         166      166              \n  Lines       52379    52377       -2     \n==========================================\n- Hits        48392    48389       -3     \n- Misses       3987     3988       +1\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `90.81% <100%> (-0.01%)` | :arrow_down: |\n| #single | `42.92% <55.55%> (ø)` | :arrow_up: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/core/frame.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZnJhbWUucHk=) | `96.92% <100%> (-0.01%)` | :arrow_down: |\n| [pandas/util/testing.py](https://codecov.io/gh/pandas-dev/pandas/pull/24762/diff?src=pr&el=tree#diff-cGFuZGFzL3V0aWwvdGVzdGluZy5weQ==) | `88.04% <0%> (-0.1%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=footer). Last update [512830b...613ebed](https://codecov.io/gh/pandas-dev/pandas/pull/24762?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454682980",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454682980",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454682980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDY4Mjk4MA==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T07:45:57Z",
    "updated_at": "2019-01-16T11:39:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @jreback: is this a change in current behavior? or just original text?\r\n\r\nBefore #22486, `df.set_index` only allowed explicitly enumerated types (keys, `Series`, `Index`, `MultiIndex`, `np.ndarray` and `list`). You required me to change that to `is_list_like` - I cautioned that this was changing behaviour (see [here](https://github.com/pandas-dev/pandas/pull/22486#discussion_r219704650)), but complied with your review.\r\n\r\nStrictly speaking this was orthogonal to the goal of fixing #22484, which is likely part of the reason why other devs like @toobaz missed it and now [object](https://github.com/pandas-dev/pandas/pull/24697#issuecomment-453025682).\r\n\r\n#24697 would rectify this, but since that is on hold, the least one can do (as noted in the OP) is to not *advertise* the addition of these ambiguous (and contested) list-likes. Hence, I'm changing the whatsnew-note added by #22486 to *only* reflect what it was supposed to fix: the three points from #22484."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454788037",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454788037",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454788037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDc4ODAzNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T13:59:28Z",
    "updated_at": "2019-01-16T13:59:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger can you have a look here, I think we may need to revert #22486 to avoid any changes"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454796468",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454796468",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454796468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDc5NjQ2OA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T14:22:30Z",
    "updated_at": "2019-01-16T14:22:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry I can't keep this straight. What behavior changed? Something to do with `set_index` and tuples?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454814443",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454814443",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454814443,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDgxNDQ0Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T15:12:49Z",
    "updated_at": "2019-01-16T15:12:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "I thought there was *no* changes, but I guess there are in #22486. @h-vetinari can you give show what changed. There was a lot of back and forth on that PR. I don't think anything *should* have changed but it seems it did."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454830214",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454830214",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454830214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDgzMDIxNA==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T15:53:39Z",
    "updated_at": "2019-01-16T19:24:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @jreback: @h-vetinari can you give show what changed\r\n\r\nFor the sake of discussion let's assume we have a list `keys` and elements `col`\r\n\r\n* before #22486: elif-chain of instance-checks for `col` (specifically: `MultiIndex, Index, Series, np.ndarray, list`), ending in `frame[col]` (hence `KeyErrors` for types that were not tested, see #22484)\r\n* first approach for #22486 (no change in the allowed types, except for using the ABC versions, as you had asked)\r\n```python\r\nif (is_scalar(col) or isinstance(col, tuple)) and col in frame:\r\n    # all good here\r\nelif isinstance(col, (ABCSeries, ABCIndexClass, np.ndarray, list)):\r\n    # all good here as well (ABCIndexClass includes MultiIndex)\r\nelse:\r\n    # raise\r\n```\r\n* you required me to use `is_list_like` instead of instance-checks in [this thread](https://github.com/pandas-dev/pandas/pull/22486#discussion_r219704650). I warned about the tuple case and change in behaviour, but eventually wanted to move forward and complied.\r\n* then I used `if is_list_like(col) and not isinstance(col, set)` to avoid sets (which would be broken from the start), which you also struck down, requiring me to implement #23065\r\n* final form used in #22486, clearly mentioning the tuple-ambiguity, resp. how it is checked first as a key and then as a list-like.\r\n```python\r\n        for col in keys:\r\n            if (is_scalar(col) or isinstance(col, tuple)) and col in self:\r\n                # tuples can be both column keys or list-likes\r\n                # if they are valid column keys, everything is fine\r\n                continue\r\n            elif is_scalar(col) and col not in self:\r\n                # tuples that are not column keys are considered list-like,\r\n                # not considered missing\r\n                missing.append(col)\r\n            elif (not is_list_like(col, allow_sets=False)\r\n                  or getattr(col, 'ndim', 1) > 1):\r\n                raise TypeError('The parameter \"keys\" may only contain a '\r\n                                'combination of valid column keys and '\r\n                                'one-dimensional list-likes')\r\n```\r\n\r\nThe source of the back-and-forth in #22486 was your orthogonal review requirement. I warned about this and went to great length (i.e. #23065) to avoid introducing something fundamentally broken (i.e. sets), but you were crystal-clear about wanting to avoid (the pre-existing) instance checks. But ok, you're reviewing basically everything here - oversights and misunderstandings can happen.\r\n\r\nTo me, the right approach would be merging #24697, which is a [small change](https://github.com/pandas-dev/pandas/pull/24697#issuecomment-453917331), and also paves the way to (eventually) solve #24046 and #22225."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454839903",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454839903",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454839903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDgzOTkwMw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T16:17:29Z",
    "updated_at": "2019-01-16T16:17:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@h-vetinari do you have a short example that behaves differently between 0.23.4 and master?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454899726",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454899726",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454899726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDg5OTcyNg==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T19:03:39Z",
    "updated_at": "2019-01-16T19:03:39Z",
    "author_association": "CONTRIBUTOR",
    "body": " @TomAugspurger \r\n\r\nLet's start with: \r\n```python\r\n>>> df = pd.DataFrame(np.arange(9).reshape((3, 3)), columns=['A', 'B', ('t', 'p', 'l')])\r\n>>> df\r\n   A  B  (t, p, l)\r\n0  0  1          2\r\n1  3  4          5\r\n2  6  7          8\r\n```\r\n\r\ncall | 0.23.4 | master | comment\r\n----|-------|---------|----------\r\n`df.set_index(['A', 'A'], drop=False)` | works | works |\r\n`df.set_index(['A', 'A'], drop=True)` | `KeyError` | works | #22484\r\n`df.set_index(['C', 'D', 'E'])` | `KeyError: 'C'`  (big stacktrace) | `KeyError: 'C', 'D', 'E'` | #22484\r\n`df.set_index(frozenset('A'))` | cryptic `KeyError` | reasonable `TypeError` | #22484 (any input type outside of a handful is tested as a key in 0.23.4) \r\n`df.set_index(iter([1, 2, 3]))` | cryptic `KeyError` | sets `Index([1, 2 ,3])` | #22484; list-likes (of correct length) now pass\r\n`df.set_index(('t', 'p', 'l'))` | sets index to column `('t', 'p', 'l')` | sets index to column `('t', 'p', 'l')` | here and below, it doesn't matter if tuple is wrapped in list\r\n`df.set_index(('t', 'p', 'm'))` | `KeyError: ('t', 'p', 'm')`  | sets `Index(['t', 'p', 'm'])` | on master, tuples get tried first as key, then as list-likes\r\n\r\nIt's the tuples that are now ambiguous (although with well-defined precedence; length must match of course for the list-like case). #24697 would take the fixes of #22484, keep the master-behaviour for tuples, and solve the list-ambiguity:\r\n\r\ncall | 0.23.4 | #24697 | comment\r\n----|-------|---------|----------\r\n`df.set_index(['A', 'A'], drop=False)` | works | works |\r\n`df.set_index(['A', 'A'], drop=True)` | `KeyError` | works | #22484\r\n`df.set_index(['C', 'D', 'E'])` | `KeyError: 'C'`  (big stacktrace) | `KeyError: 'C', 'D', 'E'` | #22484\r\n`df.set_index(frozenset('A'))` | cryptic `KeyError` | reasonable `ValueError` | #22484\r\n`df.set_index(iter([1, 2, 3]))` | cryptic `KeyError` | reasonable `ValueError` | #22484\r\n`df.set_index(('t', 'p', 'l'))` | sets index to column `('t', 'p', 'l')` | same | \r\n`df.set_index(('t', 'p', 'm'))` | `KeyError: ('t', 'p', 'm')`  | same | \r\n`df.set_index(['A', 'B', 'A'])` | sets to MultiIndex of columns `['A', 'B', 'A']` | same |\r\n`df.set_index([['A', 'B', 'A']])` | sets to `Index(['A', 'B', 'A'])` | deprecated |"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454926676",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454926676",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454926676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDkyNjY3Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T20:24:02Z",
    "updated_at": "2019-01-16T20:24:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's still a bit hard to follow, but I don't see anything in there that needs to be reverted."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454955421",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454955421",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454955421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDk1NTQyMQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T21:46:03Z",
    "updated_at": "2019-01-16T21:46:03Z",
    "author_association": "MEMBER",
    "body": "> It's still a bit hard to follow, but I don't see anything in there that needs to be reverted.\r\n\r\nI also didn't follow everything, but\r\n\r\n```\r\nIn [3]: pd.DataFrame([[1, 2], [3, 4]]).set_index([('a', 'b')])\r\nOut[3]: \r\n   0  1\r\na  1  2\r\nb  3  4\r\n```\r\nwhile this used (until last release) to raise ``KeyError: ('a', 'b')``, which is the desired behavior because we don't want to encourage using ``tuples`` as list-likes."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454962915",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454962915",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454962915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDk2MjkxNQ==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T22:09:13Z",
    "updated_at": "2019-01-16T22:09:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "> > @TomAugspurger: It's still a bit hard to follow, but I don't see anything in there that needs to be reverted.\r\n\r\n> @toobaz: I also didn't follow everything\r\n\r\nNot sure how I can make it easier. I gave single line examples with behaviour before/after. Another way to look at it is that:\r\n* before #22486, the list items were applied as the list was unpacked (within an elif-chain based on type)\r\n* with #22486, there's an inspection step for the (outer) list that comes first, and which raises in case columns are missing or the wrong types are used. That check does not fundamentally lead to the ambiguity of tuples (or lists) - this was due to the request to change from roughly `isinstance(col, (ABCIndexClass, ABCSeries, np.ndarray, list))` to `is_list_like(col, allow_sets=False)`.\r\n\r\nI'd suggest to *keep* that inspection step, but *change* the requirements the list-elements have to satisfy.\r\n\r\nI agree with you that there's nothing fundamentally broken (behaviour has well-defined rules, plus DFs are usually way longer than tuples), just that now there's more ambiguity instead of less (there's already `list_of_scalars` as keys vs `[list_of_scalars]` as an array; plus now `tuple_as_key` vs `tuple_as_array`). #24697 would get rid of both those ambiguities."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/454967748",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-454967748",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 454967748,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDk2Nzc0OA==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T22:25:56Z",
    "updated_at": "2019-01-16T22:25:56Z",
    "author_association": "MEMBER",
    "body": "> > @toobaz: I also didn't follow everything\r\n> \r\n> Not sure how I can make it easier.\r\n\r\nSorry, I should have more honestly written \"I didn't have time to read everything\". Will do it before the end of the week."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/455155328",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-455155328",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 455155328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTE1NTMyOA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-17T12:29:53Z",
    "updated_at": "2019-01-17T12:29:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@h-vetinari ok so this looks like this change slipped thru. Pls update to switch back to the original inspection code: isinstance(col, (ABCIndexClass, ABCSeries, np.ndarray, list)) to is_list_like(col, allow_sets=False), and *only* this change."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/455363074",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-455363074",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 455363074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTM2MzA3NA==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-17T22:55:51Z",
    "updated_at": "2019-01-17T22:55:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @jreback: @h-vetinari  ok so this looks like this change slipped thru. Pls update to switch  back to the original inspection code: isinstance(col, (ABCIndexClass,  ABCSeries, np.ndarray, list)) to is_list_like(col, allow_sets=False),  and only this change.\r\n\r\nI pondered opening a new PR for this, but in any case, this would have to be coupled with doc changes, so why not do it here.\r\n\r\nI removed the types that were added by #22486, and reinstated the instance-checks. This needs to come in two points though - first for the case that `Index/Series/np.ndarray` are passed bare (wrapping them in a list to be able to iterate over the container), and then when inspecting the container.\r\n\r\nThe changes in the test are just for removing the `iter/tuple` tests from the ones that aren't supposed to pass anymore, and move them down to the tests that should fail.\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/455624868",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-455624868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 455624868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTYyNDg2OA==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-18T17:27:56Z",
    "updated_at": "2019-01-18T17:27:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback \r\nI added the requested changes. PTAL."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/455815947",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-455815947",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 455815947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTgxNTk0Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-19T21:18:56Z",
    "updated_at": "2019-01-19T21:18:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks @h-vetinari "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/455832466",
    "html_url": "https://github.com/pandas-dev/pandas/pull/24762#issuecomment-455832466",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/24762",
    "id": 455832466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTgzMjQ2Ng==",
    "user": {
      "login": "h-vetinari",
      "id": 33685575,
      "node_id": "MDQ6VXNlcjMzNjg1NTc1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/33685575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h-vetinari",
      "html_url": "https://github.com/h-vetinari",
      "followers_url": "https://api.github.com/users/h-vetinari/followers",
      "following_url": "https://api.github.com/users/h-vetinari/following{/other_user}",
      "gists_url": "https://api.github.com/users/h-vetinari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h-vetinari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h-vetinari/subscriptions",
      "organizations_url": "https://api.github.com/users/h-vetinari/orgs",
      "repos_url": "https://api.github.com/users/h-vetinari/repos",
      "events_url": "https://api.github.com/users/h-vetinari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h-vetinari/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-20T02:39:47Z",
    "updated_at": "2019-01-20T02:39:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Glad we could fix this before the release. Thanks."
  }
]
