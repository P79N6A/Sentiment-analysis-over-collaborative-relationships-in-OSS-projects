[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/2714264",
    "html_url": "https://github.com/pandas-dev/pandas/issues/309#issuecomment-2714264",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/309",
    "id": 2714264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTQyNjQ=",
    "user": {
      "login": "natekupp",
      "id": 609349,
      "node_id": "MDQ6VXNlcjYwOTM0OQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/609349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/natekupp",
      "html_url": "https://github.com/natekupp",
      "followers_url": "https://api.github.com/users/natekupp/followers",
      "following_url": "https://api.github.com/users/natekupp/following{/other_user}",
      "gists_url": "https://api.github.com/users/natekupp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/natekupp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/natekupp/subscriptions",
      "organizations_url": "https://api.github.com/users/natekupp/orgs",
      "repos_url": "https://api.github.com/users/natekupp/repos",
      "events_url": "https://api.github.com/users/natekupp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/natekupp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-11T22:50:30Z",
    "updated_at": "2011-11-11T22:50:30Z",
    "author_association": "NONE",
    "body": "Hey Wes - any way I can help on this? I just ran into this on my own, then came here and found your open issue. Some code that demonstrates the performance issue:\n\n```\nimport pandas, time\nimport numpy as np\ndata  = pandas.DataFrame(np.random.random((10000,100)))\nfn    = lambda x: len(np.unique(x)) > 100\n\nstart = time.time()\ndata.apply(fn, axis=0)\nprint time.time() - start\n\nstart = time.time()\nnp.apply_along_axis(fn, 0, data)\nprint time.time() - start\n\n## Output\n4.69282603264\n0.103554964066\n```\n\nMy use case is similar to the above example, so it'd be great to close the performance gap between `DataFrame.apply` and `np.apply_along_axis`. From your comment I'm guessing that, at the moment, `DataFrame.apply` calls `Series.__new__` for every Series in the DataFrame? Thanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/2718855",
    "html_url": "https://github.com/pandas-dev/pandas/issues/309#issuecomment-2718855",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/309",
    "id": 2718855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTg4NTU=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-12T19:06:51Z",
    "updated_at": "2011-11-12T19:06:51Z",
    "author_association": "MEMBER",
    "body": "Low-hanging fruit would be an option in apply that calls `np.apply_along_axis`-- the reason that it doesn't is because `apply` by default assumes that each slice is a Series, whereas in your case that may not be strictly necessary \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/2718857",
    "html_url": "https://github.com/pandas-dev/pandas/issues/309#issuecomment-2718857",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/309",
    "id": 2718857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTg4NTc=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-12T19:07:14Z",
    "updated_at": "2011-11-12T19:07:14Z",
    "author_association": "MEMBER",
    "body": "maybe like\n\n```\ndf.apply(f, axis=0, raw=True)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/2721076",
    "html_url": "https://github.com/pandas-dev/pandas/issues/309#issuecomment-2721076",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/309",
    "id": 2721076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjEwNzY=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-13T06:35:22Z",
    "updated_at": "2011-11-13T06:35:22Z",
    "author_association": "MEMBER",
    "body": "What version of pandas are you using? I fixed a performance problem that was causing np.unique to be very slow \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/2723004",
    "html_url": "https://github.com/pandas-dev/pandas/issues/309#issuecomment-2723004",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/309",
    "id": 2723004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjMwMDQ=",
    "user": {
      "login": "natekupp",
      "id": 609349,
      "node_id": "MDQ6VXNlcjYwOTM0OQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/609349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/natekupp",
      "html_url": "https://github.com/natekupp",
      "followers_url": "https://api.github.com/users/natekupp/followers",
      "following_url": "https://api.github.com/users/natekupp/following{/other_user}",
      "gists_url": "https://api.github.com/users/natekupp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/natekupp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/natekupp/subscriptions",
      "organizations_url": "https://api.github.com/users/natekupp/orgs",
      "repos_url": "https://api.github.com/users/natekupp/repos",
      "events_url": "https://api.github.com/users/natekupp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/natekupp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-13T16:27:17Z",
    "updated_at": "2011-11-13T16:27:17Z",
    "author_association": "NONE",
    "body": "I was on the latest version from PyPI. I just installed from github source and it looks much better:\n\n```\n## Output\n0.256111860275\n0.103078842163\n```\n\nThanks!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/2725148",
    "html_url": "https://github.com/pandas-dev/pandas/issues/309#issuecomment-2725148",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/309",
    "id": 2725148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjUxNDg=",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-13T23:17:01Z",
    "updated_at": "2011-11-13T23:17:01Z",
    "author_association": "MEMBER",
    "body": "OK I made some further tweaks and things so `apply` actually beats apply_along_axis quite a bit in the `axis=1` case with your example (most of the time is spent calling unique in axis=0 case):\n\n```\nIn [6]: timeit data.apply(fn, axis=1, raw=True)\n1 loops, best of 3: 288 ms per loop\n\nIn [7]: timeit data.apply(fn, axis=0, raw=True)\n10 loops, best of 3: 82 ms per loop\n\nIn [8]: timeit np.apply_along_axis(fn, 1, data.values)\n1 loops, best of 3: 518 ms per loop\n\nIn [9]: timeit np.apply_along_axis(fn, 0, data.values)\n10 loops, best of 3: 82.7 ms per loop\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/2738186",
    "html_url": "https://github.com/pandas-dev/pandas/issues/309#issuecomment-2738186",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/309",
    "id": 2738186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzgxODY=",
    "user": {
      "login": "natekupp",
      "id": 609349,
      "node_id": "MDQ6VXNlcjYwOTM0OQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/609349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/natekupp",
      "html_url": "https://github.com/natekupp",
      "followers_url": "https://api.github.com/users/natekupp/followers",
      "following_url": "https://api.github.com/users/natekupp/following{/other_user}",
      "gists_url": "https://api.github.com/users/natekupp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/natekupp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/natekupp/subscriptions",
      "organizations_url": "https://api.github.com/users/natekupp/orgs",
      "repos_url": "https://api.github.com/users/natekupp/repos",
      "events_url": "https://api.github.com/users/natekupp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/natekupp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-11-14T23:04:21Z",
    "updated_at": "2011-11-14T23:04:21Z",
    "author_association": "NONE",
    "body": "Thanks Wes!\n"
  }
]
