[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68257554",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9166#issuecomment-68257554",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9166",
    "id": 68257554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjU3NTU0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-29T13:34:51Z",
    "updated_at": "2014-12-29T13:34:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think adding a serializee using monary would be fine. \n\nHowever trying to combine serializers is not s good idea in general. A They see all c/cython based and strive for the best perf possible. No reason to expose the intermediate form at all.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68262246",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9166#issuecomment-68262246",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9166",
    "id": 68262246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjYyMjQ2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-29T14:38:46Z",
    "updated_at": "2014-12-29T14:38:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "see also this: https://github.com/pydata/pandas/issues/9146\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68266098",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9166#issuecomment-68266098",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9166",
    "id": 68266098,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjY2MDk4",
    "user": {
      "login": "lJoublanc",
      "id": 6293472,
      "node_id": "MDQ6VXNlcjYyOTM0NzI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6293472?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lJoublanc",
      "html_url": "https://github.com/lJoublanc",
      "followers_url": "https://api.github.com/users/lJoublanc/followers",
      "following_url": "https://api.github.com/users/lJoublanc/following{/other_user}",
      "gists_url": "https://api.github.com/users/lJoublanc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lJoublanc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lJoublanc/subscriptions",
      "organizations_url": "https://api.github.com/users/lJoublanc/orgs",
      "repos_url": "https://api.github.com/users/lJoublanc/repos",
      "events_url": "https://api.github.com/users/lJoublanc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lJoublanc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-29T15:24:43Z",
    "updated_at": "2014-12-29T15:24:43Z",
    "author_association": "NONE",
    "body": "The part of the serializer I want to combine is the 'packing' part so that JSON/BSON/msgpack share the same 'schema'. True, the JSON seraliser code is native, but the msgpack code, for example, is still in python (essentially `encode` in `pandas.io.packer`).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68267997",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9166#issuecomment-68267997",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9166",
    "id": 68267997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjY3OTk3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-29T15:45:53Z",
    "updated_at": "2014-12-29T15:45:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@lJoublanc  In theory this might be nice. But from a practical perspective. JSON is an already established format that is not completely roudtripable (though see the 'schema' in #9146). While msgpack is just a format I made up.\n\nWhat is the purpose here?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68269675",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9166#issuecomment-68269675",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9166",
    "id": 68269675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjY5Njc1",
    "user": {
      "login": "lJoublanc",
      "id": 6293472,
      "node_id": "MDQ6VXNlcjYyOTM0NzI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6293472?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lJoublanc",
      "html_url": "https://github.com/lJoublanc",
      "followers_url": "https://api.github.com/users/lJoublanc/followers",
      "following_url": "https://api.github.com/users/lJoublanc/following{/other_user}",
      "gists_url": "https://api.github.com/users/lJoublanc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lJoublanc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lJoublanc/subscriptions",
      "organizations_url": "https://api.github.com/users/lJoublanc/orgs",
      "repos_url": "https://api.github.com/users/lJoublanc/repos",
      "events_url": "https://api.github.com/users/lJoublanc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lJoublanc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-29T16:03:28Z",
    "updated_at": "2014-12-29T16:03:28Z",
    "author_association": "NONE",
    "body": "The idea is to share code generation for the schema; i.e. the bit that transforms a python object graph into a document/dict, ready for bin/text serialization. That's point 1 in my monograph :/ In the second example I posted above, with `MultiIndex`, `to_json()` fails (don't think this is a bug - I just think the json converter doesn't handle this), but `to_msgpack()` works. Msgpack handles a lot of other type conversions (DatetimeIndex, date types etc.). so why not leverage that to allow `to_json` (and other json-like serializers) to handle other pandas primitives?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68271316",
    "html_url": "https://github.com/pandas-dev/pandas/issues/9166#issuecomment-68271316",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/9166",
    "id": 68271316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjcxMzE2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-29T16:21:00Z",
    "updated_at": "2014-12-29T16:21:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@lJoublanc \n\nThe transformation part is a performance issue, e.g. its the reason why these are implemented in c/cython\n\nSo I would be in favor of doing the following:\n- adopt a 'pandas' schema (ala #9146, may need some tweaks, but I think is capable of fully round-tripping all pandas objects\n- implement the schema for JSON (prob most/all will have to be in c, but shouldn't be too difficult). This needs to preserve back-compat so the parser needs to remain instact.\n- implement the same schema in msgpack (prob easy to have back-compat here). The current format is 'ad-hoc' and is not that general, but close. This should be straightforward.\n- implement the same schema in a new `to_bson` (possibly using `monary` or `msgpack` directly if possible).\n\nThis would unify the JSON-like schemas and make them round-trippable as well as making DataFrames (and other pandas objects) easily describable to the world in general.\n\nback-compat is pretty important, so anything that is done should be able to preserve this.\n\nI don't think these are possible in a combined manner in an easy way. You will sacrifice performance if you implement the schema in python. So I think that route is too pie-in-the-sky.\n\ncc @Komnomnomnom \n\n@shoyer @jorisvandenbossche @cpcloud  \n"
  }
]
