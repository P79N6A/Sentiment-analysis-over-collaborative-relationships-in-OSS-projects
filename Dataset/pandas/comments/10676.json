[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/130101365",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-130101365",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 130101365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDEwMTM2NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-11T22:46:44Z",
    "updated_at": "2015-08-11T22:46:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "should revamp this....its pretty useful :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/130102778",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-130102778",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 130102778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDEwMjc3OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-11T22:51:58Z",
    "updated_at": "2015-08-11T22:51:58Z",
    "author_association": "MEMBER",
    "body": "yes, on my todo list! \nThe problem I encountered is that for certain Warnings that are raised deeper into the pandas internals, the needed stacklevel is not always the same for different end user use cases. So it will not be possible to fix all of them. But for many (all warnings of deprecated functions or keywords, which are raised rather top-level), it is also simple to fix.\n\nI now patched the `assert_produced_warning` to check for this, but should make it option so you can turn if off when it is not possible to get it right.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/130103855",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-130103855",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 130103855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDEwMzg1NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-11T22:55:22Z",
    "updated_at": "2015-08-11T22:55:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche sounds good. Well at least the top-level ones would be a step up. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/131630586",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-131630586",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 131630586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTYzMDU4Ng==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-16T21:54:23Z",
    "updated_at": "2015-08-16T21:54:23Z",
    "author_association": "MEMBER",
    "body": "@jreback updated this. Added a check to `assert_produces_warning` that the stacklevel is set correctly, but for now only check it for FutureWarning/DeprecationWarning (all other warnings could be checked as well, but it was a bit too much work to get these all right for now).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/131801232",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-131801232",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 131801232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTgwMTIzMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-17T12:40:10Z",
    "updated_at": "2015-08-17T12:40:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "lgtm.\n\nwhat we actually need is a warning that then traverses the stack and finds the user level code as opposed to using an explict stack level, but I suspect thats a bit tricky.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132376161",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-132376161",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 132376161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjM3NjE2MQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T22:32:51Z",
    "updated_at": "2015-08-18T22:32:51Z",
    "author_association": "MEMBER",
    "body": "> what we actually need is a warning that then traverses the stack and finds the user level code as opposed to using an explict stack level, but I suspect thats a bit tricky.\n\nHmm, that goes beyond my python skills, so for somebody else :-) (doubt if this is even possible)\n\nWill merge tomorrow if no further comments\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132385689",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-132385689",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 132385689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjM4NTY4OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T23:02:35Z",
    "updated_at": "2015-08-18T23:02:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "hahha \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132387526",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-132387526",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 132387526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjM4NzUyNg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T23:10:17Z",
    "updated_at": "2015-08-18T23:10:17Z",
    "author_association": "MEMBER",
    "body": "cc @njsmith since you reported this. This should solve almost all FutureWarnings we have in pandas.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132443800",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-132443800",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 132443800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjQ0MzgwMA==",
    "user": {
      "login": "njsmith",
      "id": 609896,
      "node_id": "MDQ6VXNlcjYwOTg5Ng==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609896?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/njsmith",
      "html_url": "https://github.com/njsmith",
      "followers_url": "https://api.github.com/users/njsmith/followers",
      "following_url": "https://api.github.com/users/njsmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/njsmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/njsmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/njsmith/subscriptions",
      "organizations_url": "https://api.github.com/users/njsmith/orgs",
      "repos_url": "https://api.github.com/users/njsmith/repos",
      "events_url": "https://api.github.com/users/njsmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/njsmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-19T04:39:25Z",
    "updated_at": "2015-08-19T04:39:25Z",
    "author_association": "NONE",
    "body": "Doing that stack traversal thing is totally doable. Really it should be added as a feature upstream, like `warn(..., not_package=\"pandas.*\")` to warn at the first level where the code isn't inside pandas (and there's some somewhat-relevant discussion in http://bugs.python.org/file40211). But in the mean time, woot, awesome.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132809832",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-132809832",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 132809832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjgwOTgzMg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-19T22:33:41Z",
    "updated_at": "2015-08-19T22:33:41Z",
    "author_association": "MEMBER",
    "body": "Inferring the stacklevel is indeed not that difficult :-)\n\nSomething like this did it:\n\n```\nimport warnings\nimport inspect\n\nframe = inspect.currentframe()\nstacklevel = 1\n\nwhile '\\\\pandas\\\\' in frame.f_code.co_filename:\n    frame = frame.f_back\n    stacklevel += 1\n\nwarnings.warn('test!', stacklevel=stacklevel)\n```\n\n(the `'\\\\pandas\\\\'` is because I was testing on Windows)\nBut don't how robust something like this would be.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/132815299",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-132815299",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 132815299,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjgxNTI5OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-19T22:47:10Z",
    "updated_at": "2015-08-19T22:47:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "FYI I think u have to do a \n\ndel frame at the end to break the gc cycles \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/134789606",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-134789606",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 134789606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDc4OTYwNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-26T01:56:54Z",
    "updated_at": "2015-08-26T01:56:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche let's merge this. I think I already changed a few as I thought you had merged this.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/136687985",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10676#issuecomment-136687985",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10676",
    "id": 136687985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjY4Nzk4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-01T11:58:57Z",
    "updated_at": "2015-09-01T11:58:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche pls rebase and merge\n"
  }
]
