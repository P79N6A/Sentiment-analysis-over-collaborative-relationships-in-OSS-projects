[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221842604",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13288#issuecomment-221842604",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13288",
    "id": 221842604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTg0MjYwNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T11:09:02Z",
    "updated_at": "2016-05-26T11:09:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "simple enough to stringify column names.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221845034",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13288#issuecomment-221845034",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13288",
    "id": 221845034,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTg0NTAzNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T11:22:19Z",
    "updated_at": "2016-05-26T11:22:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/pydata/pandas/blob/master/pandas/core/generic.py#L4957\n\nshould be\n\n```\nd.columns = Index(d.columns, dtype='object')\n```\n\nSeparately, this violates our guarantees on Index creation. I think we should assert that the dtype of a create `Index` is `object` if its not a sub-class.\n\n@sinhrks \n\n```\nIn [2]: i = Index([0,'A'])\n\nIn [3]: i._shallow_copy([0])\nOut[3]: Index([0], dtype='int64')\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221894708",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13288#issuecomment-221894708",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13288",
    "id": 221894708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTg5NDcwOA==",
    "user": {
      "login": "pijucha",
      "id": 9507544,
      "node_id": "MDQ6VXNlcjk1MDc1NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9507544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pijucha",
      "html_url": "https://github.com/pijucha",
      "followers_url": "https://api.github.com/users/pijucha/followers",
      "following_url": "https://api.github.com/users/pijucha/following{/other_user}",
      "gists_url": "https://api.github.com/users/pijucha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pijucha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pijucha/subscriptions",
      "organizations_url": "https://api.github.com/users/pijucha/orgs",
      "repos_url": "https://api.github.com/users/pijucha/repos",
      "events_url": "https://api.github.com/users/pijucha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pijucha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T14:53:38Z",
    "updated_at": "2016-05-26T14:53:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not sure if I understand. Don't we want `d.columns` to be of the same type as `self.columns`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221915497",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13288#issuecomment-221915497",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13288",
    "id": 221915497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTkxNTQ5Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T16:01:27Z",
    "updated_at": "2016-05-26T16:01:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "The trouble is the columns are split up by dtype, so the sub-indexes need to be constructed similarly. `._shallow_copy` is an internal (to Index) method and should not be used here.\n\nactually you don't even need to specify the dtype, I think\n\n``d.columns = d.columns.copy()` will prob work here. The problem is `.values` converts to a base form which may change things (e.g. try this with a datetime for the columns and see what happens).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221966550",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13288#issuecomment-221966550",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13288",
    "id": 221966550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTk2NjU1MA==",
    "user": {
      "login": "pijucha",
      "id": 9507544,
      "node_id": "MDQ6VXNlcjk1MDc1NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9507544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pijucha",
      "html_url": "https://github.com/pijucha",
      "followers_url": "https://api.github.com/users/pijucha/followers",
      "following_url": "https://api.github.com/users/pijucha/following{/other_user}",
      "gists_url": "https://api.github.com/users/pijucha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pijucha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pijucha/subscriptions",
      "organizations_url": "https://api.github.com/users/pijucha/orgs",
      "repos_url": "https://api.github.com/users/pijucha/repos",
      "events_url": "https://api.github.com/users/pijucha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pijucha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T19:13:52Z",
    "updated_at": "2016-05-26T19:13:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, you mean \n\n``` python\nd.columns = data.columns.copy()    #(1)\n```\n\nand earlier \n\n``` python\nd.columns = Index(data.columns, dtype='object').  #(2) \n```\n\n(1) does work. Or at least it passes tests from the repository plus some others I tried. (Actually, I ran nosetests with `d.columns = data.columns` but it shouldn't make a difference I guess.)\n\nOn the other hand, (2) fails with `datetime64[ns]` in columns. When I specify `dtype=data.columns.dtype`, it breaks with localized datetime.\n\nMy understanding is that since `data = self.loc[bool_arr]`, then `data.columns` is just a subset of the original column index and preserves its structure (including dtype and dtypes of its elements). So, why not just simply pass/copy it to d. \n\nAnother advantage of (1) is that we can skip the next line\n\n```\nd.columns.names = data.columns.names\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221968230",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13288#issuecomment-221968230",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13288",
    "id": 221968230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTk2ODIzMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T19:20:35Z",
    "updated_at": "2016-05-26T19:20:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah (2) is not what we want, we don't need to coerce. so use (1). This was using some internal code which it shouldn't have. (Index has a public API and we try to use whenever possible, except when deeply needed). The reason is that there are certain guarantees, which in this case were violated (the separate issue I opened).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/221983033",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13288#issuecomment-221983033",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13288",
    "id": 221983033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTk4MzAzMw==",
    "user": {
      "login": "pijucha",
      "id": 9507544,
      "node_id": "MDQ6VXNlcjk1MDc1NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9507544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pijucha",
      "html_url": "https://github.com/pijucha",
      "followers_url": "https://api.github.com/users/pijucha/followers",
      "following_url": "https://api.github.com/users/pijucha/following{/other_user}",
      "gists_url": "https://api.github.com/users/pijucha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pijucha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pijucha/subscriptions",
      "organizations_url": "https://api.github.com/users/pijucha/orgs",
      "repos_url": "https://api.github.com/users/pijucha/repos",
      "events_url": "https://api.github.com/users/pijucha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pijucha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-26T20:20:38Z",
    "updated_at": "2016-05-26T20:20:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Thanks for clarifying.\n"
  }
]
