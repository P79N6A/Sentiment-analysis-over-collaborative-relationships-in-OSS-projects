[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280686010",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15438#issuecomment-280686010",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15438",
    "id": 280686010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDY4NjAxMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T15:49:04Z",
    "updated_at": "2017-02-17T15:49:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "can you show a copy-paste example that creates the actual frame you are talking about (a generic simple version is fine, just give generic names to levels and such)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/280702009",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15438#issuecomment-280702009",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15438",
    "id": 280702009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDcwMjAwOQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T16:45:05Z",
    "updated_at": "2017-02-17T16:45:05Z",
    "author_association": "MEMBER",
    "body": "``` python\r\n\r\ns = pd.Series(range(4),\r\n              index=pd.MultiIndex.from_product([[1,2], ['a', 'b']],\r\n                                               names=['first', 'second']))\r\n\r\ndf = pd.DataFrame([[1, 'a'], [2, 'b']],\r\n                  columns=['first', 'second'])\r\n```\r\n\r\nWhat I would like to do:\r\n``` python\r\ns.loc[df]\r\n```\r\nwhat I end up doing:\r\n``` python\r\nto_mi = lambda df : df.set_index(list(df.columns)).index\r\ns.loc[to_mi(df)]\r\n```\r\noutputting indeed:\r\n``` python\r\nfirst  second\r\n1      a         0\r\n2      b         3\r\ndtype: int64\r\n```\r\n\r\nHowever, only now I realize that column names do _not_ matter above. That is: when you index a ``MultiIndex`` using a ``MultiIndex`` as indexer, level names are _not_ considered! See the following example:\r\n``` python\r\nidf = pd.MultiIndex.from_tuples([[1, 'a'], [2, 'b']], names=['other', 'names'])\r\ns.loc[idf]\r\n```\r\nwhich outputs\r\n``` python\r\nother  names\r\n1      a        0\r\n2      b        3\r\ndtype: int64\r\n```\r\n\r\nSo either this current behavior is undesired, or the answer to @jorisvandenbossche's question is trivial: \"we don't respect names for ``MultiIndex`` indexers, why should we for ``DataFrame`` indexers?!\"\r\n(But I think the behavior we want to keep with ``MultiIndex`` indexers - which e.g. behave strangely now if they have less levels than the indexed one - is better to be discussed separately - let's just say we want ``DataFrame`` indexing to be coherent with it)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/285608873",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15438#issuecomment-285608873",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15438",
    "id": 285608873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTYwODg3Mw==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-10T08:32:44Z",
    "updated_at": "2017-03-10T08:32:44Z",
    "author_association": "MEMBER",
    "body": "Oh, by the way,\r\n\r\n``` python\r\nIn [2]: s = pd.Series(range(4), index=pd.MultiIndex.from_product([['a', 'b'], ['c', 'd']]))\r\n\r\nIn [3]: s.loc[pd.DataFrame([['a', 'c'], ['b', 'c']]).values] = [100, 101]\r\nException ignored in: 'pandas._libs.lib.is_bool_array'\r\nValueError: Buffer has wrong number of dimensions (expected 1, got 2)\r\n\r\nIn [4]: s\r\nOut[4]: \r\na  c    100\r\n   d      1\r\nb  c    101\r\n   d      3\r\ndtype: int64\r\n```\r\n\r\nI don't exactly understand what's going on with the \"Exception ignored\", but setter works with 2-d ``ndarray`` (by the way: ``.loc.__getitem__`` and ``.loc.__setitem__`` should really share a lot more code)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/384684269",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15438#issuecomment-384684269",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15438",
    "id": 384684269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY4NDI2OQ==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-26T15:29:29Z",
    "updated_at": "2018-04-26T15:29:29Z",
    "author_association": "MEMBER",
    "body": "xref #12550"
  }
]
