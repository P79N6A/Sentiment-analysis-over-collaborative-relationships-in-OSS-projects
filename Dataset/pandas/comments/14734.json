[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262905742",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-262905742",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 262905742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjkwNTc0Mg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-25T08:37:10Z",
    "updated_at": "2016-11-25T08:37:10Z",
    "author_association": "MEMBER",
    "body": "cc @kshedden @Winand "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262976735",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-262976735",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 262976735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjk3NjczNQ==",
    "user": {
      "login": "kshedden",
      "id": 2666691,
      "node_id": "MDQ6VXNlcjI2NjY2OTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2666691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kshedden",
      "html_url": "https://github.com/kshedden",
      "followers_url": "https://api.github.com/users/kshedden/followers",
      "following_url": "https://api.github.com/users/kshedden/following{/other_user}",
      "gists_url": "https://api.github.com/users/kshedden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kshedden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kshedden/subscriptions",
      "organizations_url": "https://api.github.com/users/kshedden/orgs",
      "repos_url": "https://api.github.com/users/kshedden/repos",
      "events_url": "https://api.github.com/users/kshedden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kshedden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-25T15:14:48Z",
    "updated_at": "2016-11-25T15:14:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "@pijucha, thanks for the report.  I've PR'd a possible fix."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/262978547",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-262978547",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 262978547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjk3ODU0Nw==",
    "user": {
      "login": "pijucha",
      "id": 9507544,
      "node_id": "MDQ6VXNlcjk1MDc1NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9507544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pijucha",
      "html_url": "https://github.com/pijucha",
      "followers_url": "https://api.github.com/users/pijucha/followers",
      "following_url": "https://api.github.com/users/pijucha/following{/other_user}",
      "gists_url": "https://api.github.com/users/pijucha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pijucha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pijucha/subscriptions",
      "organizations_url": "https://api.github.com/users/pijucha/orgs",
      "repos_url": "https://api.github.com/users/pijucha/repos",
      "events_url": "https://api.github.com/users/pijucha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pijucha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-25T15:24:16Z",
    "updated_at": "2016-11-25T15:24:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kshedden Yes, this should be it. I see you probably also solved #13654. Very nice. Thanks."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298510517",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298510517",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 298510517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODUxMDUxNw==",
    "user": {
      "login": "boulund",
      "id": 4919402,
      "node_id": "MDQ6VXNlcjQ5MTk0MDI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4919402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boulund",
      "html_url": "https://github.com/boulund",
      "followers_url": "https://api.github.com/users/boulund/followers",
      "following_url": "https://api.github.com/users/boulund/following{/other_user}",
      "gists_url": "https://api.github.com/users/boulund/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boulund/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boulund/subscriptions",
      "organizations_url": "https://api.github.com/users/boulund/orgs",
      "repos_url": "https://api.github.com/users/boulund/repos",
      "events_url": "https://api.github.com/users/boulund/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boulund/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T06:46:52Z",
    "updated_at": "2017-05-02T06:46:52Z",
    "author_association": "NONE",
    "body": "Is this issue solved? I just got this trying to iterate through a large sas7bdat file (using pandas `0.19.2` via conda)\r\n\r\n```\r\nTraceback (most recent call last):                                                                                   \r\n  File \"./extract_subset_of_columns.py\", line 35, in <module>                                                        \r\n    extract_columns_from_sas(lmed_file, columns=[\"lpnr\", \"KON\", \"atc\", \"EDATUM\"], output_csv=lmed_file+\".csv\")       \r\n  File \"./extract_subset_of_columns.py\", line 25, in extract_columns_from_sas                                        \r\n    for count, chunk in enumerate(reader, start=1):                                                                  \r\n  File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/io/sas/sas7bdat.py\", line 229, in __next__           \r\n    da = self.read(nrows=self.chunksize or 1)                                                                        \r\n  File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/io/sas/sas7bdat.py\", line 614, in read               \r\n    rslt = self._chunk_to_dataframe()                                                                                \r\n  File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/io/sas/sas7bdat.py\", line 663, in _chunk_to_dataframe\r\n    rslt[name] = self._string_chunk[js, :]                                                                           \r\n  File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py\", line 2419, in __setitem__            \r\n    self._set_item(key, value)                                                                                       \r\n  File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py\", line 2485, in _set_item              \r\n    value = self._sanitize_column(key, value)                                                                        \r\n  File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py\", line 2656, in _sanitize_column       \r\n    value = _sanitize_index(value, self.index, copy=False)                                                           \r\n  File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/series.py\", line 2800, in _sanitize_index       \r\n    raise ValueError('Length of values does not match length of ' 'index')                                           \r\nValueError: Length of values does not match length of index                                                          \r\n```\r\nThe file is 27GB, iterating with `chunksize=100000`. It failed approximately 70% through the file.\r\n`column_count` is 49, `row_count` is reported as `89065305`. \r\n\r\nIs this related to the error referenced in this issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298607203",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298607203",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 298607203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODYwNzIwMw==",
    "user": {
      "login": "kshedden",
      "id": 2666691,
      "node_id": "MDQ6VXNlcjI2NjY2OTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2666691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kshedden",
      "html_url": "https://github.com/kshedden",
      "followers_url": "https://api.github.com/users/kshedden/followers",
      "following_url": "https://api.github.com/users/kshedden/following{/other_user}",
      "gists_url": "https://api.github.com/users/kshedden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kshedden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kshedden/subscriptions",
      "organizations_url": "https://api.github.com/users/kshedden/orgs",
      "repos_url": "https://api.github.com/users/kshedden/repos",
      "events_url": "https://api.github.com/users/kshedden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kshedden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T11:13:38Z",
    "updated_at": "2017-05-02T11:13:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is the file compressed?  Check the \"compression\" attribute of the iterator.\n\nOn Tue, May 2, 2017 at 2:47 AM, Fredrik Boulund <notifications@github.com>\nwrote:\n\n> Is this issue solved? I just got this trying to iterate through a large\n> sas7bdat file (using pandas 0.19.2 via conda)\n>\n> Traceback (most recent call last):\n>   File \"./extract_subset_of_columns.py\", line 35, in <module>\n>     extract_columns_from_sas(lmed_file, columns=[\"lpnr\", \"KON\", \"atc\", \"EDATUM\"], output_csv=lmed_file+\".csv\")\n>   File \"./extract_subset_of_columns.py\", line 25, in extract_columns_from_sas\n>     for count, chunk in enumerate(reader, start=1):\n>   File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/io/sas/sas7bdat.py\", line 229, in __next__\n>     da = self.read(nrows=self.chunksize or 1)\n>   File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/io/sas/sas7bdat.py\", line 614, in read\n>     rslt = self._chunk_to_dataframe()\n>   File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/io/sas/sas7bdat.py\", line 663, in _chunk_to_dataframe\n>     rslt[name] = self._string_chunk[js, :]\n>   File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py\", line 2419, in __setitem__\n>     self._set_item(key, value)\n>   File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py\", line 2485, in _set_item\n>     value = self._sanitize_column(key, value)\n>   File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py\", line 2656, in _sanitize_column\n>     value = _sanitize_index(value, self.index, copy=False)\n>   File \"/home/ctmr/anaconda3/lib/python3.6/site-packages/pandas/core/series.py\", line 2800, in _sanitize_index\n>     raise ValueError('Length of values does not match length of ' 'index')\n> ValueError: Length of values does not match length of index\n>\n> The file is 27GB, iterating with chunksize=100000. It failed\n> approximately 70% through the file.\n> column_count is 49, row_count is reported as 89065305.\n>\n> Is this related to the error referenced in this issue?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298510517>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ACiww06W4XtNHfKVIrS0lCpvGJ__SEfxks5r1tFygaJpZM4K8GRf>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298612961",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298612961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 298612961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODYxMjk2MQ==",
    "user": {
      "login": "boulund",
      "id": 4919402,
      "node_id": "MDQ6VXNlcjQ5MTk0MDI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4919402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boulund",
      "html_url": "https://github.com/boulund",
      "followers_url": "https://api.github.com/users/boulund/followers",
      "following_url": "https://api.github.com/users/boulund/following{/other_user}",
      "gists_url": "https://api.github.com/users/boulund/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boulund/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boulund/subscriptions",
      "organizations_url": "https://api.github.com/users/boulund/orgs",
      "repos_url": "https://api.github.com/users/boulund/repos",
      "events_url": "https://api.github.com/users/boulund/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boulund/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T11:46:10Z",
    "updated_at": "2017-05-02T13:29:57Z",
    "author_association": "NONE",
    "body": "@kshedden I get the following from the `compression` attribute of the iterator:\r\n\r\n```\r\nIn [4]: iter.compression \r\nOut[4]: b'SASYZCRL'      \r\n```\r\n\r\nWhich I interpret as some kind of compression. So, yes, I guess?\r\nIt's interesting the error occured first at somewhere after 70% into the file. All information up until this point was extracted without issue. \r\n\r\n\r\nEdit: I actually got another error for one of my other files. Maybe it's related?\r\n```Exception ignored in: 'pandas.io.sas.saslib.Parser.process_byte_array_with_data'                                \r\nTraceback (most recent call last):                                                                              \r\n  File \"pandas/io/sas/saslib.pyx\", line 29, in pandas.io.sas.saslib.rle_decompress (pandas/io/sas/saslib.c:2540)\r\nValueError: Unexpected non-zero end_of_first_byte\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298657400",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298657400",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 298657400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY1NzQwMA==",
    "user": {
      "login": "kshedden",
      "id": 2666691,
      "node_id": "MDQ6VXNlcjI2NjY2OTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2666691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kshedden",
      "html_url": "https://github.com/kshedden",
      "followers_url": "https://api.github.com/users/kshedden/followers",
      "following_url": "https://api.github.com/users/kshedden/following{/other_user}",
      "gists_url": "https://api.github.com/users/kshedden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kshedden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kshedden/subscriptions",
      "organizations_url": "https://api.github.com/users/kshedden/orgs",
      "repos_url": "https://api.github.com/users/kshedden/repos",
      "events_url": "https://api.github.com/users/kshedden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kshedden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T14:46:31Z",
    "updated_at": "2017-05-02T14:46:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "The SAS specification is not public and had to be reverse engineered\nthrough examples.  The compression algorithm was particularly hard to\nreverse engineer (other people did most of the hard work on this, I only\nmade a small contribution).  I have been able to validate that our code\nsuccessfully reads many compressed SAS files, but I'm pretty sure there are\nsome compression codes that we do not know.  We know the common codes, but\nit's more likely that we have missed a rare one, which is consistent with\nthe fault occurring late in the file.\n\nTo verify that this is a compression issue, would it be possible for you to\ngenerate this file as an uncompressed SAS file and see if the issue arises\nstill?\n\n\n\nOn Tue, May 2, 2017 at 7:46 AM, Fredrik Boulund <notifications@github.com>\nwrote:\n\n> @kshedden <https://github.com/kshedden> I get the following from the\n> compression attribute of the iterator:\n>\n> In [4]: iter.compression\n> Out[4]: b'SASYZCRL'\n>\n> Which I interpret as some kind of compression. So, yes, I guess?\n> It's interesting the error occured first at somewhere after 70% into the\n> file. All information up until this point was extracted without issue.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298612961>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ACiwwxcO2jrc4FpUYJFPJLofkrEMZ7l-ks5r1xePgaJpZM4K8GRf>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298658409",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298658409",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 298658409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY1ODQwOQ==",
    "user": {
      "login": "boulund",
      "id": 4919402,
      "node_id": "MDQ6VXNlcjQ5MTk0MDI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4919402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boulund",
      "html_url": "https://github.com/boulund",
      "followers_url": "https://api.github.com/users/boulund/followers",
      "following_url": "https://api.github.com/users/boulund/following{/other_user}",
      "gists_url": "https://api.github.com/users/boulund/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boulund/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boulund/subscriptions",
      "organizations_url": "https://api.github.com/users/boulund/orgs",
      "repos_url": "https://api.github.com/users/boulund/repos",
      "events_url": "https://api.github.com/users/boulund/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boulund/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T14:49:47Z",
    "updated_at": "2017-05-02T14:49:47Z",
    "author_association": "NONE",
    "body": "I see. Really appreciate your effort! \r\n\r\nUnfortunately I don't think I can generate the file without compression, but I'll look into it (I don't have access to the source data). "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/298659074",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298659074",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14734",
    "id": 298659074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY1OTA3NA==",
    "user": {
      "login": "kshedden",
      "id": 2666691,
      "node_id": "MDQ6VXNlcjI2NjY2OTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2666691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kshedden",
      "html_url": "https://github.com/kshedden",
      "followers_url": "https://api.github.com/users/kshedden/followers",
      "following_url": "https://api.github.com/users/kshedden/following{/other_user}",
      "gists_url": "https://api.github.com/users/kshedden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kshedden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kshedden/subscriptions",
      "organizations_url": "https://api.github.com/users/kshedden/orgs",
      "repos_url": "https://api.github.com/users/kshedden/repos",
      "events_url": "https://api.github.com/users/kshedden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kshedden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T14:52:13Z",
    "updated_at": "2017-05-02T14:52:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you have SAS, you can convert the file from compressed to uncompressed\n(of course in that case you could just use SAS to dump it to csv, but it\nwould be helpful to us if this flags a problem that we can fix).  I can\ngive you SAS code to do the conversion if needed.\n\nOn Tue, May 2, 2017 at 10:50 AM, Fredrik Boulund <notifications@github.com>\nwrote:\n\n> I see. Really appreciate your effort!\n>\n> Unfortunately I don't think I can generate the file without compression,\n> but I'll look into it (I don't have access to the source data).\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/14734#issuecomment-298658409>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ACiww-spSUCaKPqs49_N_HJM0cZ2LQT_ks5r10KdgaJpZM4K8GRf>\n> .\n>\n"
  }
]
