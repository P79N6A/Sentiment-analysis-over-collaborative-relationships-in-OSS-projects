[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116072279",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-116072279",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 116072279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjA3MjI3OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-27T14:35:43Z",
    "updated_at": "2015-06-27T14:35:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "So this is done here: https://github.com/pydata/pandas/blob/master/pandas/core/format.py#L2024\n\nnot really sure why its using `self.digits-1`. You can try changing and see what breaks. Maybe you can then divine why its doing this. It _should_ be self.digits.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116112240",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-116112240",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 116112240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjExMjI0MA==",
    "user": {
      "login": "rosnfeld",
      "id": 5356340,
      "node_id": "MDQ6VXNlcjUzNTYzNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5356340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rosnfeld",
      "html_url": "https://github.com/rosnfeld",
      "followers_url": "https://api.github.com/users/rosnfeld/followers",
      "following_url": "https://api.github.com/users/rosnfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/rosnfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rosnfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rosnfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/rosnfeld/orgs",
      "repos_url": "https://api.github.com/users/rosnfeld/repos",
      "events_url": "https://api.github.com/users/rosnfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rosnfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-27T18:10:43Z",
    "updated_at": "2015-06-27T18:10:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "On a bit of digging I think it was just a convention, see Wes's comment on #726 - \"I also changed the default number of decimal places (plus the first digit to the left of the decimal point) to 7, which is really just a suggestion as in R\".\n\nPandas Options and Settings docs say \"display.precision\" means \"Floating point output precision (number of significant digits)\", so I see that accounting for a pre-decimal digit was probably intended, like in scientific notation. But the code is not really doing scientific notation, and is out of step with the numpy convention and standard C/python format strings.\n\nI would vote to change it. I ran the test suite after changing it and the only errors were in test_format.py (3 of them), nothing too surprising, nothing too big to clean up. Not sure if this would mess up a chunk of the pandas userbase that had become accustomed to this behaviour, though.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116264131",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-116264131",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 116264131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjI2NDEzMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-28T12:04:07Z",
    "updated_at": "2015-06-28T12:04:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "I agree - want to prepare a pull request to change?\n\nput a note in the API section of whatsnew as well\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116267014",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-116267014",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 116267014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjI2NzAxNA==",
    "user": {
      "login": "rosnfeld",
      "id": 5356340,
      "node_id": "MDQ6VXNlcjUzNTYzNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5356340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rosnfeld",
      "html_url": "https://github.com/rosnfeld",
      "followers_url": "https://api.github.com/users/rosnfeld/followers",
      "following_url": "https://api.github.com/users/rosnfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/rosnfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rosnfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rosnfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/rosnfeld/orgs",
      "repos_url": "https://api.github.com/users/rosnfeld/repos",
      "events_url": "https://api.github.com/users/rosnfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rosnfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-28T12:13:56Z",
    "updated_at": "2015-06-28T12:13:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sure, I can do that. I'll make the docs a bit clearer as well.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116268688",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-116268688",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 116268688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjI2ODY4OA==",
    "user": {
      "login": "kawochen",
      "id": 10709573,
      "node_id": "MDQ6VXNlcjEwNzA5NTcz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10709573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kawochen",
      "html_url": "https://github.com/kawochen",
      "followers_url": "https://api.github.com/users/kawochen/followers",
      "following_url": "https://api.github.com/users/kawochen/following{/other_user}",
      "gists_url": "https://api.github.com/users/kawochen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kawochen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kawochen/subscriptions",
      "organizations_url": "https://api.github.com/users/kawochen/orgs",
      "repos_url": "https://api.github.com/users/kawochen/repos",
      "events_url": "https://api.github.com/users/kawochen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kawochen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-28T12:21:59Z",
    "updated_at": "2015-06-28T12:21:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "\"[N]umber of significant digits\" seems problematic.  It sounds like significant figures, but it's not doing that. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116269790",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-116269790",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 116269790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjI2OTc5MA==",
    "user": {
      "login": "rosnfeld",
      "id": 5356340,
      "node_id": "MDQ6VXNlcjUzNTYzNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5356340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rosnfeld",
      "html_url": "https://github.com/rosnfeld",
      "followers_url": "https://api.github.com/users/rosnfeld/followers",
      "following_url": "https://api.github.com/users/rosnfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/rosnfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rosnfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rosnfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/rosnfeld/orgs",
      "repos_url": "https://api.github.com/users/rosnfeld/repos",
      "events_url": "https://api.github.com/users/rosnfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rosnfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-28T12:32:38Z",
    "updated_at": "2015-06-28T12:32:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right, I think we just give up on claiming that. Interestingly numpy makes a similar \"digits of precision\" claim in http://docs.scipy.org/doc/numpy/reference/generated/numpy.set_printoptions.html but basically has the same behaviour as pandas. It's just doing places after the decimal, which is what I think most people actually want to see. It's hard to scan/quickly interpret a table of numbers if they all have different exponents.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/118177598",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-118177598",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 118177598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODE3NzU5OA==",
    "user": {
      "login": "rosnfeld",
      "id": 5356340,
      "node_id": "MDQ6VXNlcjUzNTYzNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5356340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rosnfeld",
      "html_url": "https://github.com/rosnfeld",
      "followers_url": "https://api.github.com/users/rosnfeld/followers",
      "following_url": "https://api.github.com/users/rosnfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/rosnfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rosnfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rosnfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/rosnfeld/orgs",
      "repos_url": "https://api.github.com/users/rosnfeld/repos",
      "events_url": "https://api.github.com/users/rosnfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rosnfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-02T21:46:07Z",
    "updated_at": "2015-07-02T21:46:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Should we also change the default for \"display.precision\" to be 6 instead of 7, since this change will effectively increase the number of digits after the decimal place? Otherwise everyone's code will start outputting one more decimal.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/118186073",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-118186073",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 118186073,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODE4NjA3Mw==",
    "user": {
      "login": "rosnfeld",
      "id": 5356340,
      "node_id": "MDQ6VXNlcjUzNTYzNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5356340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rosnfeld",
      "html_url": "https://github.com/rosnfeld",
      "followers_url": "https://api.github.com/users/rosnfeld/followers",
      "following_url": "https://api.github.com/users/rosnfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/rosnfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rosnfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rosnfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/rosnfeld/orgs",
      "repos_url": "https://api.github.com/users/rosnfeld/repos",
      "events_url": "https://api.github.com/users/rosnfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rosnfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-02T22:39:27Z",
    "updated_at": "2015-07-02T22:39:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "I should note that the current code does output \"significant figures\" when using scientific notation, which seems to be triggered by \"large\" and \"small\"  values (a comment admits that the chosen thresholds are arbitrary, but \"large\" is currently `1e8`, and \"small\" uses `10 ** (-self.digits + 1)` ). The current master code handles this example from test_format.py as follows:\n\n``` python\nIn [2]: pd.set_option('display.precision', 3)\n\nIn [3]: pd.DataFrame({'x': [0, 0.25, 3456.000, 12e+45, 1.64e+6, 1.7e+8, 1.253456, np.pi, -1e6]})\nOut[3]: \n          x\n0  0.00e+00\n1  2.50e-01\n2  3.46e+03\n3  1.20e+46\n4  1.64e+06\n5  1.70e+08\n6  1.25e+00\n7  3.14e+00\n8 -1.00e+06\n```\n\nnumpy's precision argument handles it differently:\n\n``` python\nIn [5]: np.set_printoptions(precision=3)\n\nIn [6]: np.array([0, 0.25, 3456.000, 12e+45, 1.64e+6, 1.7e+8, 1.253456, np.pi, -1e6])\nOut[6]: \narray([  0.000e+00,   2.500e-01,   3.456e+03,   1.200e+46,   1.640e+06,\n         1.700e+08,   1.253e+00,   3.142e+00,  -1.000e+06])\n```\n\nSo there is a discrepancy between numpy and pandas, but pandas is using \"significant figures\". Check this example out, also:\n\n``` python\nIn [10]: pd.DataFrame({'x': [0, 0.1, 0.12, 0.123]})\nOut[10]: \n      x\n0  0.00\n1  0.10\n2  0.12\n3  0.12\n\nIn [11]: np.array([0, 0.1, 0.12, 0.123])\nOut[11]: array([ 0.   ,  0.1  ,  0.12 ,  0.123])\n```\n\nHere numpy hides trailing zeroes. I can see an argument for it, but I don't think we want that. But pandas also isn't showing \"significant figures\" since it's not using scientific notation.\n\nPython's `%3f` and `%3e` format strings do the same as numpy - both end up using 3 places after the decimal, so with scientific notation you get 4 significant digits.\n\nIt seems pandas is the odd one out.\n\nI just want to confirm what we want to do here. It's possible to leave the scientific notation behaviour alone, if so desired, rather than adding a digit to it.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/118676507",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10451#issuecomment-118676507",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10451",
    "id": 118676507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODY3NjUwNw==",
    "user": {
      "login": "rosnfeld",
      "id": 5356340,
      "node_id": "MDQ6VXNlcjUzNTYzNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5356340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rosnfeld",
      "html_url": "https://github.com/rosnfeld",
      "followers_url": "https://api.github.com/users/rosnfeld/followers",
      "following_url": "https://api.github.com/users/rosnfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/rosnfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rosnfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rosnfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/rosnfeld/orgs",
      "repos_url": "https://api.github.com/users/rosnfeld/repos",
      "events_url": "https://api.github.com/users/rosnfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rosnfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-05T23:28:24Z",
    "updated_at": "2015-07-05T23:28:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "I made a call on these questions in #10513 - maybe best to continue the conversation there.\n"
  }
]
