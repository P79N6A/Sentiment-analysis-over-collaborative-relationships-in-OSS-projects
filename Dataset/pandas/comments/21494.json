[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397723232",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21494#issuecomment-397723232",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21494",
    "id": 397723232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzcyMzIzMg==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T19:41:40Z",
    "updated_at": "2018-06-16T22:31:44Z",
    "author_association": "MEMBER",
    "body": "That does seem strange that the uniqueness would impact the behavior here. Investigation and PRs welcome!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397828657",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21494#issuecomment-397828657",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21494",
    "id": 397828657,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzgyODY1Nw==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-16T17:49:00Z",
    "updated_at": "2018-06-16T17:49:00Z",
    "author_association": "MEMBER",
    "body": "Even worse, if some keys are missing (and some are not), ``drop`` will raise on unique indexes and not on non-unique:\r\n\r\n``` python\r\nIn [2]: pd.DataFrame(index=[1,2,3]).drop([1, 4])\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-2-e1860fd637df> in <module>()\r\n----> 1 pd.DataFrame(index=[1,2,3]).drop([1, 4])\r\n\r\n/home/nobackup/repo/pandas/pandas/core/frame.py in drop(self, labels, axis, index, columns, level, inplace, errors)\r\n   3695                                            index=index, columns=columns,\r\n   3696                                            level=level, inplace=inplace,\r\n-> 3697                                            errors=errors)\r\n   3698 \r\n   3699     @rewrite_axis_style_signature('mapper', [('copy', True),\r\n\r\n/home/nobackup/repo/pandas/pandas/core/generic.py in drop(self, labels, axis, index, columns, level, inplace, errors)\r\n   3106         for axis, labels in axes.items():\r\n   3107             if labels is not None:\r\n-> 3108                 obj = obj._drop_axis(labels, axis, level=level, errors=errors)\r\n   3109 \r\n   3110         if inplace:\r\n\r\n/home/nobackup/repo/pandas/pandas/core/generic.py in _drop_axis(self, labels, axis, level, errors)\r\n   3138                 new_axis = axis.drop(labels, level=level, errors=errors)\r\n   3139             else:\r\n-> 3140                 new_axis = axis.drop(labels, errors=errors)\r\n   3141             dropped = self.reindex(**{axis_name: new_axis})\r\n   3142             try:\r\n\r\n/home/nobackup/repo/pandas/pandas/core/indexes/base.py in drop(self, labels, errors)\r\n   4345             if errors != 'ignore':\r\n   4346                 raise KeyError(\r\n-> 4347                     'labels %s not contained in axis' % labels[mask])\r\n   4348             indexer = indexer[~mask]\r\n   4349         return self.delete(indexer)\r\n\r\nKeyError: 'labels [4] not contained in axis'\r\n\r\nIn [3]: pd.DataFrame(index=[1,2,2]).drop([1, 4])\r\nOut[3]: \r\nEmpty DataFrame\r\nColumns: []\r\nIndex: [2, 2]\r\n```\r\n\r\nI think the fix is simple: this ``.all()``:\r\n\r\nhttps://github.com/pandas-dev/pandas/blob/9d61ab5aae0dd4ca3f805275c6a8ebcaeef77d64/pandas/core/generic.py#L3157\r\n\r\nshould be ``.any()``."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397841653",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21494#issuecomment-397841653",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21494",
    "id": 397841653,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzg0MTY1Mw==",
    "user": {
      "login": "alimcmaster1",
      "id": 16733618,
      "node_id": "MDQ6VXNlcjE2NzMzNjE4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16733618?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alimcmaster1",
      "html_url": "https://github.com/alimcmaster1",
      "followers_url": "https://api.github.com/users/alimcmaster1/followers",
      "following_url": "https://api.github.com/users/alimcmaster1/following{/other_user}",
      "gists_url": "https://api.github.com/users/alimcmaster1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alimcmaster1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alimcmaster1/subscriptions",
      "organizations_url": "https://api.github.com/users/alimcmaster1/orgs",
      "repos_url": "https://api.github.com/users/alimcmaster1/repos",
      "events_url": "https://api.github.com/users/alimcmaster1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alimcmaster1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-16T22:13:18Z",
    "updated_at": "2018-06-16T22:13:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@toobaz mind if I take a look at this? "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397842406",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21494#issuecomment-397842406",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21494",
    "id": 397842406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzg0MjQwNg==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-16T22:32:17Z",
    "updated_at": "2018-06-16T22:32:17Z",
    "author_association": "MEMBER",
    "body": "@alimcmaster1 go for it"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/397864427",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21494#issuecomment-397864427",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21494",
    "id": 397864427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzg2NDQyNw==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-17T08:53:20Z",
    "updated_at": "2018-06-17T08:53:20Z",
    "author_association": "MEMBER",
    "body": "> @toobaz mind if I take a look at this?\r\n\r\n@alimcmaster1 sure, as @WillAyd said. By the way, there is some scope for clearning (the ``set_names`` part is obsolete and can be removed)."
  }
]
