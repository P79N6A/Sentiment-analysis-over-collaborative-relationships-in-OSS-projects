[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/378316665",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378316665",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 378316665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODMxNjY2NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-03T16:43:27Z",
    "updated_at": "2018-04-03T16:43:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "you are fighting pandas here - i suppose this could be supported but its not efficient in the least, nor very useful in terms of indexing\r\n\r\nyou would very likely need a custom index type to have an real support here - quite a major effort - if you wanted to contribute this great"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/378316789",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378316789",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 378316789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODMxNjc4OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-03T16:43:45Z",
    "updated_at": "2018-04-03T16:43:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @toobaz"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/378532692",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378532692",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 378532692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODUzMjY5Mg==",
    "user": {
      "login": "Mofef",
      "id": 1809396,
      "node_id": "MDQ6VXNlcjE4MDkzOTY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1809396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mofef",
      "html_url": "https://github.com/Mofef",
      "followers_url": "https://api.github.com/users/Mofef/followers",
      "following_url": "https://api.github.com/users/Mofef/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mofef/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mofef/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mofef/subscriptions",
      "organizations_url": "https://api.github.com/users/Mofef/orgs",
      "repos_url": "https://api.github.com/users/Mofef/repos",
      "events_url": "https://api.github.com/users/Mofef/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mofef/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-04T09:06:32Z",
    "updated_at": "2018-04-04T09:06:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, so you are aware of the problem? So could you explain me a bit more about why it fails, please? I can assure you that i'm not fighting pandas on purpose. ;)\r\nBut I don't really understand what is going on. So I can't find a workaround except of converting the column names to string and back. I can't even consistently reproduce the error yet.\r\nMaybe a more informative error message would already be enough to resolve this issue? I sure would help as soon as I understand the problem.\r\n\r\nI in case you were wondering, what I actually do is to convert a tree structures to a pandas DataFrame. One line representing one tree. (The trees are very similar but not always identical in structure). So those tuples (columns) give the path through the tree. The data is given by the leafs. \r\nThe problem apparently occures when a child contains a similar object as its parent. For some cases it fails with the same error also if I use `pd.MultiIndex.from_tuples`. Though not in the example described in the OP."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/378604586",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378604586",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 378604586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODYwNDU4Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-04T13:44:21Z",
    "updated_at": "2018-04-04T13:44:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "why are you not using a MultiIndex?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/378607983",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378607983",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 378607983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODYwNzk4Mw==",
    "user": {
      "login": "Mofef",
      "id": 1809396,
      "node_id": "MDQ6VXNlcjE4MDkzOTY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1809396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mofef",
      "html_url": "https://github.com/Mofef",
      "followers_url": "https://api.github.com/users/Mofef/followers",
      "following_url": "https://api.github.com/users/Mofef/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mofef/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mofef/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mofef/subscriptions",
      "organizations_url": "https://api.github.com/users/Mofef/orgs",
      "repos_url": "https://api.github.com/users/Mofef/repos",
      "events_url": "https://api.github.com/users/Mofef/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mofef/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-04T13:54:32Z",
    "updated_at": "2018-04-04T13:54:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Originally i wanted to convert it to a MultiIndex after concatenating, but sure, that would be an acceptable workaround. Though, for my case it also failed with the same error when concatenating. (Not for the example above) "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/378609474",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378609474",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 378609474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODYwOTQ3NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-04T13:59:01Z",
    "updated_at": "2018-04-04T13:59:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "then show an example using MI that fails "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/378644225",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378644225",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 378644225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODY0NDIyNQ==",
    "user": {
      "login": "Mofef",
      "id": 1809396,
      "node_id": "MDQ6VXNlcjE4MDkzOTY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1809396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mofef",
      "html_url": "https://github.com/Mofef",
      "followers_url": "https://api.github.com/users/Mofef/followers",
      "following_url": "https://api.github.com/users/Mofef/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mofef/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mofef/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mofef/subscriptions",
      "organizations_url": "https://api.github.com/users/Mofef/orgs",
      "repos_url": "https://api.github.com/users/Mofef/repos",
      "events_url": "https://api.github.com/users/Mofef/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mofef/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-04T15:34:56Z",
    "updated_at": "2018-04-04T15:34:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Weird... my testcase must have been flawed... I can't reproduce it anymore. So thanks a lot for the help.\r\n\r\nStill, if you had the patience to explain I would be really interested in what is going wrong in the example above.  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/379813289",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-379813289",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 379813289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTgxMzI4OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T16:31:30Z",
    "updated_at": "2018-04-09T16:31:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "this actually breaks in a different place in master. cc @TomAugspurger \r\n\r\n```\r\nIn [3]: items_a = [(\"b\",\"e\",\"c\",\"a\",\"b\"),\r\n   ...:          (\"e\",\"e\",\"c\",\"a\",\"c\"),\r\n   ...:          (\"e\",\"a\",\"c\",\"a\",\"d\"),\r\n   ...:          (\"b\",\"a\",\"b\",\"e\"),\r\n   ...:          (\"e\",\"b\",\"a\"),\r\n   ...:          (\"e\",\"c\",\"c\",\"a\")]\r\n   ...: items_b = [(\"b\",\"e\",\"c\",\"a\",\"b\"),\r\n   ...:          (\"a\",\"a\",\"d\",\"b\",\"d\"),\r\n   ...:          (\"a\",\"b\",\"d\",\"b\",\"e\"),\r\n   ...:          (\"c\",\"b\",\"c\",\"a\"),\r\n   ...:          (\"a\",\"c\",\"b\"),\r\n   ...:          (\"a\",\"d\",\"d\",\"b\")]\r\n   ...: df1=pd.DataFrame([range(6)], columns=items_a)\r\n   ...: df2=pd.DataFrame([range(6)], columns=items_b)\r\n   ...: pd.concat([df1, df2])\r\n   ...:          \r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-3-355de89f5317> in <module>()\r\n     13 df1=pd.DataFrame([range(6)], columns=items_a)\r\n     14 df2=pd.DataFrame([range(6)], columns=items_b)\r\n---> 15 pd.concat([df1, df2])\r\n     16 \r\n\r\n~/pandas/pandas/core/reshape/concat.py in concat(objs, axis, join, join_axes, ignore_index, keys, levels, names, verify_integrity, copy)\r\n    211                        verify_integrity=verify_integrity,\r\n    212                        copy=copy)\r\n--> 213     return op.get_result()\r\n    214 \r\n    215 \r\n\r\n~/pandas/pandas/core/reshape/concat.py in get_result(self)\r\n    406             new_data = concatenate_block_managers(\r\n    407                 mgrs_indexers, self.new_axes, concat_axis=self.axis,\r\n--> 408                 copy=self.copy)\r\n    409             if not self.copy:\r\n    410                 new_data._consolidate_inplace()\r\n\r\n~/pandas/pandas/core/internals.py in concatenate_block_managers(mgrs_indexers, axes, concat_axis, copy)\r\n   5372                 values = values.view()\r\n   5373             b = b.make_block_same_class(values, placement=placement)\r\n-> 5374         elif is_uniform_join_units(join_units):\r\n   5375             b = join_units[0].block.concat_same_type(\r\n   5376                 [ju.block for ju in join_units], placement=placement)\r\n\r\n~/pandas/pandas/core/internals.py in is_uniform_join_units(join_units)\r\n   5396         # no blocks that would get missing values (can lead to type upcasts)\r\n   5397         # unless we're an extension dtype.\r\n-> 5398         all(not ju.is_na or ju.block.is_extension for ju in join_units) and\r\n   5399         # no blocks with indexers (as then the dimensions do not fit)\r\n   5400         all(not ju.indexers for ju in join_units) and\r\n~/pandas/pandas/core/internals.py in <genexpr>(.0)\r\n   5396         # no blocks that would get missing values (can lead to type upcasts)\r\n   5397         # unless we're an extension dtype.\r\n-> 5398         all(not ju.is_na or ju.block.is_extension for ju in join_units) and\r\n   5399         # no blocks with indexers (as then the dimensions do not fit)\r\n   5400         all(not ju.indexers for ju in join_units) and\r\n\r\nAttributeError: 'NoneType' object has no attribute 'is_extension'\r\n> /Users/jreback/pandas/pandas/core/internals.py(5398)<genexpr>()\r\n   5396         # no blocks that would get missing values (can lead to type upcasts)\r\n   5397         # unless we're an extension dtype.\r\n-> 5398         all(not ju.is_na or ju.block.is_extension for ju in join_units) and\r\n   5399         # no blocks with indexers (as then the dimensions do not fit)\r\n   5400         all(not ju.indexers for ju in join_units) and\r\n```\r\n\r\nI didn't think a ``JoinUnit`` could be ``None``"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/383093574",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-383093574",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 383093574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzA5MzU3NA==",
    "user": {
      "login": "Mofef",
      "id": 1809396,
      "node_id": "MDQ6VXNlcjE4MDkzOTY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1809396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mofef",
      "html_url": "https://github.com/Mofef",
      "followers_url": "https://api.github.com/users/Mofef/followers",
      "following_url": "https://api.github.com/users/Mofef/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mofef/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mofef/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mofef/subscriptions",
      "organizations_url": "https://api.github.com/users/Mofef/orgs",
      "repos_url": "https://api.github.com/users/Mofef/repos",
      "events_url": "https://api.github.com/users/Mofef/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mofef/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T13:20:26Z",
    "updated_at": "2018-04-20T13:20:26Z",
    "author_association": "CONTRIBUTOR",
    "body": " #20757 might be what caused my observation that this issue also occured when using MultiIndex\r\n(referring to @jreback 's comment here https://github.com/pandas-dev/pandas/issues/20597#issuecomment-378609474 )"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/383380961",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-383380961",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 383380961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzM4MDk2MQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-22T13:16:29Z",
    "updated_at": "2018-04-22T13:16:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this a blocker for 0.23?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/383381263",
    "html_url": "https://github.com/pandas-dev/pandas/issues/20597#issuecomment-383381263",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20597",
    "id": 383381263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzM4MTI2Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-22T13:21:12Z",
    "updated_at": "2018-04-22T13:21:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "no - it’s pretty unusual"
  }
]
