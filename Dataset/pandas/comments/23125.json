[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/429536721",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-429536721",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 429536721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTUzNjcyMQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-13T12:08:18Z",
    "updated_at": "2018-10-13T12:08:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "This also leads to confusing behavior like\r\n\r\n```python\r\nIn [10]: a.astype(bool)\r\nOut[10]:\r\n[0, True, 0, True]\r\nFill: 0\r\nIntIndex\r\nIndices: array([1, 3], dtype=int32)\r\n\r\n```\r\n\r\nsince `.astype(bool)` is interpreted as `.astype(SparseDtype(bool, fill_value=0))`"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/429820461",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-429820461",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 429820461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTgyMDQ2MQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-15T11:47:41Z",
    "updated_at": "2018-10-15T11:47:41Z",
    "author_association": "MEMBER",
    "body": "I think this is a regression compared to released version. Compare the last example:\r\n\r\n```\r\nIn [18]: a = pd.SparseArray([0, 1, 0, 1])\r\n\r\nIn [20]: a.astype(bool)\r\nOut[20]: \r\n[False, True, False, True]\r\nFill: False\r\nIntIndex\r\nIndices: array([1, 3], dtype=int32)\r\n```\r\n\r\nWhen `astype`-ing with a numpy dtype, I think we should simply \"astype\" the scalar fill_value as well."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432327093",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432327093",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432327093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjMyNzA5Mw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T16:45:44Z",
    "updated_at": "2018-10-23T16:52:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "So we have a few choices\r\n\r\n1. Change SparseArray.astype to be dense for non-SparseDtype dtype\r\n2. Keep SparseArray.astype always sparse, but change Series[sparse].astype to be dense for non-SparseDtype dtypes.\r\n\r\n2 can be done and is backwards compatible. It means a special case in Block.astype, and means Series[sparse].astype isn't equivalent to SparseArray.astype.\r\n\r\n1 is backwards incompatible. It'd be hard to do with a deprecation cycle I think."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432396437",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432396437",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432396437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjM5NjQzNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T19:58:50Z",
    "updated_at": "2018-10-23T19:58:50Z",
    "author_association": "MEMBER",
    "body": "Isn't there also option 3: keep both SparsArray.astype and Series[sparse].astype always sparse? "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432399397",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432399397",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432399397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjM5OTM5Nw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T20:07:34Z",
    "updated_at": "2018-10-23T20:07:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I was assuming we didn't want `Series[sparse].astype(numpy_type)` to be sparse though. Do we?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432400485",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432400485",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432400485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjQwMDQ4NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T20:10:42Z",
    "updated_at": "2018-10-23T20:11:05Z",
    "author_association": "MEMBER",
    "body": "That's in any case what it is doing now (and in 0.23), so not doing that would also be a backwards incompatible change. \r\n\r\nOn the one hand it is convenient to keep it sparse if you quickly want to change the sparse type (without needing to use `SparseDtype`), but on the other hand it also might be strange that the result of Series.astype(dtype).dtype != dtype"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432400904",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432400904",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432400904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjQwMDkwNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T20:11:50Z",
    "updated_at": "2018-10-23T20:11:50Z",
    "author_association": "MEMBER",
    "body": "But didn't we discuss that on the SparseArray PR? I seem to remember that you and @kernc argued for keeping it sparse?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432401516",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432401516",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432401516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjQwMTUxNg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T20:13:29Z",
    "updated_at": "2018-10-23T20:13:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm I don't recall right now.\r\n\r\nNot having `Series.astype(dtype)` being equal to dtype is causing a few problems in our internal routines. I suspect we'll need to add more little changes like https://github.com/pandas-dev/pandas/pull/23285/commits/428f2308b67324aeda125be085bb6387b77037fd to special case sparse, which would be unfortunate."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432401870",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432401870",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432401870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjQwMTg3MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T20:14:23Z",
    "updated_at": "2018-10-23T20:14:23Z",
    "author_association": "MEMBER",
    "body": "The topic is touched here: https://github.com/pandas-dev/pandas/pull/22325#issuecomment-414168890"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432402593",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432402593",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432402593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjQwMjU5Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T20:16:12Z",
    "updated_at": "2018-10-23T20:16:12Z",
    "author_association": "MEMBER",
    "body": "> Not having Series.astype(dtype) being equal to dtype is causing a few problems in our internal routines.\r\n\r\nHow do you mean? \r\n\r\nBecause that is what is already happening on master:\r\n\r\n```\r\nIn [29]: a = pd.SparseArray([0, 1, 0, 1])\r\n\r\nIn [30]: pd.Series(a).astype(np.float64)\r\nOut[30]: \r\n0    0.0\r\n1    1.0\r\n2    0.0\r\n3    1.0\r\ndtype: Sparse[float64, 0]\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/432404442",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-432404442",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 432404442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjQwNDQ0Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T20:21:15Z",
    "updated_at": "2018-10-23T20:21:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "In the case of \r\nhttps://github.com/pandas-dev/pandas/commit/428f2308b67324aeda125be085bb6387b77037fd it's a method that previously converted to an ndarray, which we want to avoid. Perhaps we've already caught most of those and it won't be a big deal to support..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/436708765",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-436708765",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 436708765,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjcwODc2NQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-07T17:31:38Z",
    "updated_at": "2018-11-07T17:31:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Do people (@kernc) have thoughts on whether `Series[sparse].astype(numpy_type)` should be sparse or not? Right now, I'm leaning towards keeping it sparse (the behavior of master and 0.23).\r\n\r\nClosing this in a few days if there aren't any further comments."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/436834436",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-436834436",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 436834436,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjgzNDQzNg==",
    "user": {
      "login": "kernc",
      "id": 684364,
      "node_id": "MDQ6VXNlcjY4NDM2NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/684364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kernc",
      "html_url": "https://github.com/kernc",
      "followers_url": "https://api.github.com/users/kernc/followers",
      "following_url": "https://api.github.com/users/kernc/following{/other_user}",
      "gists_url": "https://api.github.com/users/kernc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kernc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kernc/subscriptions",
      "organizations_url": "https://api.github.com/users/kernc/orgs",
      "repos_url": "https://api.github.com/users/kernc/repos",
      "events_url": "https://api.github.com/users/kernc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kernc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-08T00:59:02Z",
    "updated_at": "2018-11-08T00:59:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'd foremost prefer to avoid shaping the decision that may in future turn out to be a bad idea. :smile: As a user, I've never used `astype()` in situations other than to convert values to `str` to use the `Series.str` accessor, or to convert to `int` to use the values as indexes (since numpy now warns/raises on round floats), or to convert floats to shorter floats (float16) for performance.\r\n\r\nI understand series sparsity to be orthogonal to its underlying dtype. Dtype is the type of values and sparsity is the way they are laid out in memory. The latter can be idempotently transformed from one into the other and back while the former not necessarily so.\r\n\r\nAdmittedly, I'm no longer as interested in the topic and not regularly working with sparse data, but as a potential user, I'd be annoyed if `Series(scipy_coo_matrix).astype(int)` blew my RAM and I instead had to use something as verbose as `.astype('Sparse[int, 0]')`. I'd prefer instead `.astype(int, fill_value=0)` (docs say kwargs are passed to some constructor?) and `.astype(int).to_dense()` to densify.\r\n\r\nBut I [agree with @jorisvandenbossche's comment](https://github.com/pandas-dev/pandas/issues/23125#issuecomment-429820461) that `fill_value` should be adapted to be compatible with set dtype.\r\n\r\n\r\nPerhaps get input from some other sparse users."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/436834946",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-436834946",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 436834946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjgzNDk0Ng==",
    "user": {
      "login": "kernc",
      "id": 684364,
      "node_id": "MDQ6VXNlcjY4NDM2NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/684364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kernc",
      "html_url": "https://github.com/kernc",
      "followers_url": "https://api.github.com/users/kernc/followers",
      "following_url": "https://api.github.com/users/kernc/following{/other_user}",
      "gists_url": "https://api.github.com/users/kernc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kernc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kernc/subscriptions",
      "organizations_url": "https://api.github.com/users/kernc/orgs",
      "repos_url": "https://api.github.com/users/kernc/repos",
      "events_url": "https://api.github.com/users/kernc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kernc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-08T01:01:23Z",
    "updated_at": "2018-11-08T01:02:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "A side question, certainly a little late at that, what blows up if `SparseDtype` were a subclass of `np.dtype` (and `np.dtype(float) == SparseDtype(float, fill_value=any)` (as long as `fill_value` type is forced compatible, i.e. a float))?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/436851785",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-436851785",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 436851785,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjg1MTc4NQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-08T02:32:37Z",
    "updated_at": "2018-11-08T02:32:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Great, I think we're in agreement then. `Series[sparse].astype(dtype)` will always be sparse.\r\n\r\n> But I agree with @jorisvandenbossche's comment that fill_value should be adapted to be compatible with set dtype.\r\n\r\nI have a WIP branch that I hope to push tomorrow doing this.\r\n\r\n> what blows up if SparseDtype were a subclass of np.dtype (and np.dtype(float) == SparseDtype(float, fill_value=any) (as long as fill_value type is forced compatible, i.e. a float))?\r\n\r\nYou can't subclass `np.dtype`, at least from Python, and NumPy's dtype equality isn't the friendliest (IIRC, it tries to convert the `other` into a NumPy dtype, but raises a TypeError if that fails, instead of returning NotImplemented).\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/436976536",
    "html_url": "https://github.com/pandas-dev/pandas/issues/23125#issuecomment-436976536",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/23125",
    "id": 436976536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjk3NjUzNg==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-08T12:23:05Z",
    "updated_at": "2018-11-08T12:23:05Z",
    "author_association": "MEMBER",
    "body": "Long term it might be nice to be able to make the distinction between `astype('int')` and `astype(np.int64)`, where the first could be interpreted by pandas and keep the sparsity, while the second could ensure the output actually has dtype of `np.int64`. \r\nBut that might also be confusing ..\r\n"
  }
]
