[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/302902166",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16404#issuecomment-302902166",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16404",
    "id": 302902166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjkwMjE2Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-20T22:16:56Z",
    "updated_at": "2017-05-20T22:16:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is possible, but would require some non-trivial work. RangeIndex obviates the need for much of this anyhow. Further most indexing requires int64 anyhow, so you end up upcasting at times. Careful performance testing would be required.\r\n\r\nSo this would require community contribution to do this. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/303066852",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16404#issuecomment-303066852",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16404",
    "id": 303066852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzA2Njg1Mg==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T10:52:44Z",
    "updated_at": "2017-05-22T10:52:44Z",
    "author_association": "MEMBER",
    "body": "By the way: I think the following should behave as expected:\r\n\r\n```python\r\nclass Int32Index(pd.Int64Index):\r\n    _default_dtype = np.int32\r\n\r\n\r\ni = Int32Index(np.array([...], dtype='int32'))\r\n```\r\n\r\n... except that, as suggested by @jreback , unexpected upcastings may happen when doing any non-trivial operation."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/356444383",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16404#issuecomment-356444383",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16404",
    "id": 356444383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjQ0NDM4Mw==",
    "user": {
      "login": "stuz5000",
      "id": 7799980,
      "node_id": "MDQ6VXNlcjc3OTk5ODA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7799980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stuz5000",
      "html_url": "https://github.com/stuz5000",
      "followers_url": "https://api.github.com/users/stuz5000/followers",
      "following_url": "https://api.github.com/users/stuz5000/following{/other_user}",
      "gists_url": "https://api.github.com/users/stuz5000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stuz5000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stuz5000/subscriptions",
      "organizations_url": "https://api.github.com/users/stuz5000/orgs",
      "repos_url": "https://api.github.com/users/stuz5000/repos",
      "events_url": "https://api.github.com/users/stuz5000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stuz5000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T23:09:28Z",
    "updated_at": "2018-01-09T23:10:53Z",
    "author_association": "NONE",
    "body": "I don't recommend this. At least in pandas 0.22.0 this doesn't work as expected.\r\ni.sort_values will cut the index in (exactly) half. No idea why.\r\n\r\n```\r\ni = np.arange(0, 600002, dtype=np.int32)\r\narr = Int32Index(i, name=\"i\") \r\narr2 = arr.sort_values()\r\nprint arr.shape, arr2.shape   #  600002, 300001\r\nassert arr.shape == arr2.shape\r\n```\r\n\r\nSeems like sort_values is missing some internal validation (the output len should be the same as the input len)\r\n\r\n\r\n  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/356445832",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16404#issuecomment-356445832",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16404",
    "id": 356445832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjQ0NTgzMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T23:16:34Z",
    "updated_at": "2018-01-09T23:16:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@stuz5000 this is totally unsupported \r\nit would require quite a bit of testing - thus this is an open issue\r\nif you would like to contribute great!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/356857733",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16404#issuecomment-356857733",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16404",
    "id": 356857733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Njg1NzczMw==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-11T08:10:41Z",
    "updated_at": "2018-01-11T08:10:41Z",
    "author_association": "MEMBER",
    "body": "> I don't recommend this.\r\n\r\nMe neither ;-)\r\n\r\nBut in case you want to keep experimenting, try\r\n\r\n```python\r\nclass Int32Index(pd.Int64Index):\r\n    _default_dtype = np.int32\r\n\r\n    @property\r\n    def asi8(self):\r\n        return self.values\r\n```\r\n\r\nwhich fixes the problem you report."
  }
]
