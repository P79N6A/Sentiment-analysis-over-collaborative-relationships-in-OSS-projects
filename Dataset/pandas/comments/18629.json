[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349013301",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349013301",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349013301,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTAxMzMwMQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-04T16:19:19Z",
    "updated_at": "2017-12-04T16:19:19Z",
    "author_association": "MEMBER",
    "body": "We need to check how this interacts with the `columns` keyword when reading back in. Ideally selecting only a few columns to read will still preserve your index (I think?), but I guess this is currently not happening (at least with pyarrow)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349044293",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349044293",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349044293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTA0NDI5Mw==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2017-12-04T17:48:26Z",
    "updated_at": "2017-12-04T17:48:49Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=h1) Report\n> Merging [#18629](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/2c903d594299b2441d4742e777a10e8c76557386?src=pr&el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `90.9%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/18629/graphs/tree.svg?width=650&height=150&src=pr&token=eZ4WkYLtcO)](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #18629      +/-   ##\n==========================================\n- Coverage   91.59%   91.58%   -0.02%     \n==========================================\n  Files         155      155              \n  Lines       51255    51260       +5     \n==========================================\n- Hits        46949    46945       -4     \n- Misses       4306     4315       +9\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `89.44% <90.9%> (ø)` | :arrow_up: |\n| #single | `40.66% <0%> (-0.12%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/io/parquet.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL3BhcnF1ZXQucHk=) | `66.26% <90.9%> (+0.88%)` | :arrow_up: |\n| [pandas/io/gbq.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL2dicS5weQ==) | `25% <0%> (-58.34%)` | :arrow_down: |\n| [pandas/core/frame.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZnJhbWUucHk=) | `97.81% <0%> (-0.1%)` | :arrow_down: |\n| [pandas/core/indexes/datetimes.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9kYXRldGltZXMucHk=) | `95.68% <0%> (+0.09%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=footer). Last update [2c903d5...a14edbe](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349044354",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349044354",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349044354,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTA0NDM1NA==",
    "user": {
      "login": "codecov[bot]",
      "id": 22429695,
      "node_id": "MDM6Qm90MjI0Mjk2OTU=",
      "avatar_url": "https://avatars2.githubusercontent.com/in/254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codecov%5Bbot%5D",
      "html_url": "https://github.com/apps/codecov",
      "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2017-12-04T17:48:37Z",
    "updated_at": "2017-12-11T18:59:35Z",
    "author_association": "NONE",
    "body": "# [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=h1) Report\n> Merging [#18629](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=desc) into [master](https://codecov.io/gh/pandas-dev/pandas/commit/37086a0d82a6492d9903ba763059948889638de7?src=pr&el=desc) will **decrease** coverage by `0.03%`.\n> The diff coverage is `53.19%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/pandas-dev/pandas/pull/18629/graphs/tree.svg?token=eZ4WkYLtcO&width=650&height=150&src=pr)](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master   #18629      +/-   ##\n==========================================\n- Coverage    91.6%   91.57%   -0.04%     \n==========================================\n  Files         153      153              \n  Lines       51317    51363      +46     \n==========================================\n+ Hits        47011    47034      +23     \n- Misses       4306     4329      +23\n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #multiple | `89.43% <53.19%> (-0.02%)` | :arrow_down: |\n| #single | `40.73% <17.02%> (-0.1%)` | :arrow_down: |\n\n| [Impacted Files](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pandas/io/parquet.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL3BhcnF1ZXQucHk=) | `60.19% <53.19%> (-4.37%)` | :arrow_down: |\n| [pandas/io/gbq.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2lvL2dicS5weQ==) | `25% <0%> (-58.34%)` | :arrow_down: |\n| [pandas/plotting/\\_converter.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL3Bsb3R0aW5nL19jb252ZXJ0ZXIucHk=) | `64.78% <0%> (-1.74%)` | :arrow_down: |\n| [pandas/core/frame.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZnJhbWUucHk=) | `97.81% <0%> (-0.1%)` | :arrow_down: |\n| [pandas/core/generic.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvZ2VuZXJpYy5weQ==) | `95.9% <0%> (ø)` | :arrow_up: |\n| [pandas/core/indexes/interval.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9pbnRlcnZhbC5weQ==) | `93.8% <0%> (ø)` | :arrow_up: |\n| [pandas/core/indexes/base.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9iYXNlLnB5) | `96.43% <0%> (ø)` | :arrow_up: |\n| [pandas/core/indexes/multi.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9tdWx0aS5weQ==) | `96.29% <0%> (+0.01%)` | :arrow_up: |\n| [pandas/core/indexes/datetimes.py](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree#diff-cGFuZGFzL2NvcmUvaW5kZXhlcy9kYXRldGltZXMucHk=) | `95.7% <0%> (+0.01%)` | :arrow_up: |\n| ... and [8 more](https://codecov.io/gh/pandas-dev/pandas/pull/18629/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=footer). Last update [37086a0...0fbdc14](https://codecov.io/gh/pandas-dev/pandas/pull/18629?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349293002",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349293002",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349293002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTI5MzAwMg==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-05T12:42:07Z",
    "updated_at": "2017-12-05T12:42:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "> *`fastparquet` also supports writing the index, so no need to still raise the errors in that case.*\r\n\r\nIt seems it might just be easier all-round to just bump the pyarrow/fastparquet deps to the min required to support non-default indices - i.e. `>=0.7.0`  for pyarrow and ??? for fastparquet"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349299524",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349299524",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349299524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTI5OTUyNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-05T13:10:16Z",
    "updated_at": "2017-12-05T13:10:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "would be ok with bumping pyarrow dep\r\ni think fp is ok as is (i bumped it when doing this originally)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349620148",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349620148",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349620148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTYyMDE0OA==",
    "user": {
      "login": "pep8speaks",
      "id": 24736507,
      "node_id": "MDQ6VXNlcjI0NzM2NTA3",
      "avatar_url": "https://avatars1.githubusercontent.com/u/24736507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pep8speaks",
      "html_url": "https://github.com/pep8speaks",
      "followers_url": "https://api.github.com/users/pep8speaks/followers",
      "following_url": "https://api.github.com/users/pep8speaks/following{/other_user}",
      "gists_url": "https://api.github.com/users/pep8speaks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pep8speaks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pep8speaks/subscriptions",
      "organizations_url": "https://api.github.com/users/pep8speaks/orgs",
      "repos_url": "https://api.github.com/users/pep8speaks/repos",
      "events_url": "https://api.github.com/users/pep8speaks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pep8speaks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-06T12:04:50Z",
    "updated_at": "2017-12-11T17:00:10Z",
    "author_association": "NONE",
    "body": "Hello @dhirschfeld! Thanks for updating the PR.\n\n\n\n\n\nCheers ! There are no PEP8 issues in this Pull Request. :beers: \n\n##### Comment last updated on December 11, 2017 at 17:00 Hours UTC"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349645275",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349645275",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349645275,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTY0NTI3NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-06T13:50:39Z",
    "updated_at": "2017-12-06T13:50:39Z",
    "author_association": "MEMBER",
    "body": "@jreback not merge on green, see my request for changes on which I got no reply yet\r\n\r\nBTW, I think we can do this for the 0.21.1 milestone. The other enhancements to `to/read_parquet` also went into that one (seeing it as fixes on very new functionality)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349919583",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349919583",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349919583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkxOTU4Mw==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T09:59:33Z",
    "updated_at": "2017-12-07T10:01:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche - as of `fastparquet=0.1.3` it doesn't appear to support multi-indexes\r\n\r\n![image](https://user-images.githubusercontent.com/881019/33709251-7f1d50f2-db88-11e7-98ef-f3700ca48b2c.png)\r\n\r\n\r\n...at least reading them anyway. Interestingly, it seems to write them fine and the file written by fastparquet can then be read in perfectly by pyarrow.\r\n\r\nNot sure what to do about that but since fastparquet throws a sensible error I'd be inclined to just leave it and a future update will likely add the missing functionality.\r\n\r\n\r\n```python\r\nfrom numpy.random import randn\r\nimport pandas as pd\r\n\r\ndates = pd.date_range('01-Jan-2018', '01-Dec-2018', freq='MS')\r\ndf = pd.DataFrame(randn(2*len(dates), 3), columns=list('ABC'))\r\nindex = pd.MultiIndex.from_product([['Level1', 'Level2'], dates])\r\ndf.index = index\r\n\r\ndf.to_parquet('tmp_pa.pq', engine='pyarrow')\r\ndf.to_parquet('tmp_fp.pq', engine='fastparquet', compression='UNCOMPRESSED')\r\n\r\ndf1 = pd.io.parquet.read_parquet('tmp_pa.pq', engine='pyarrow')\r\ndf1.equals(df)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349924251",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349924251",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349924251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkyNDI1MQ==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T10:18:05Z",
    "updated_at": "2017-12-07T10:18:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche - you're right about the `columns` argument not preserving the index:\r\n\r\n![image](https://user-images.githubusercontent.com/881019/33709668-c3f41fa2-db89-11e7-9d8f-628313b0a138.png)\r\n\r\nThe workaround, at the cost of efficiency, is simple enough:\r\n```python\r\npd.io.parquet.read_parquet('tmp_pa.pq', engine='pyarrow')[['A','B']]\r\n```\r\n...but you have to know beforehand that the file was saved with a multi-index - i.e. it's a silent failure mode which isn't ideal.\r\n\r\nIf I name the index levels you can actually pull them out by name:\r\n```python\r\ndf = pd.DataFrame(randn(2*len(dates), 3), columns=list('ABC'))\r\nindex = pd.MultiIndex.from_product([['Level1', 'Level2'], dates], names=['level','date'])\r\ndf.index = index\r\n```\r\n![image](https://user-images.githubusercontent.com/881019/33710127-5591168a-db8b-11e7-9b9c-868bd4494e24.png)\r\n```python\r\npd.io.parquet.read_parquet('tmp_pa.pq', engine='pyarrow', columns=['A','B','level','date']).head()\r\n```\r\n![image](https://user-images.githubusercontent.com/881019/33710207-92ebbd96-db8b-11e7-82e0-886d1286afe8.png)\r\n\r\n...so, ideally if pandas can tell if the file has a multi-index the index names could then always be prepended to the columns argument.\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349924631",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349924631",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349924631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkyNDYzMQ==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T10:19:35Z",
    "updated_at": "2017-12-07T10:19:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche - were there other changes you wanted that I've missed?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349927695",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349927695",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349927695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkyNzY5NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T10:31:58Z",
    "updated_at": "2017-12-07T10:32:39Z",
    "author_association": "MEMBER",
    "body": "> Not sure what to do about that but since fastparquet throws a sensible error I'd be inclined to just leave it and a future update will likely add the missing functionality.\r\n\r\nIt's a bit unfortunate it only comes up when reading it back in, so either we are ok with that, or either we need to to raise on writing MIs with fastparquet.\r\n\r\n> If I name the index levels you can actually pull them out by name:\r\n\r\nThat will not always work. Eg if they have no names, and pyarrow master has also changed this and the index levels will never have the level names but a `__index_level_n_` pattern, so the workaround you show will not work anymore with the new release. \r\n\r\nThe thing we can do is the following:\r\n\r\n```\r\nIn [85]: import pyarrow.parquet as pq\r\n\r\nIn [86]: f = pq.ParquetFile(\"__test_mi.parquet\")\r\n\r\nIn [87]: f.metadata.metadata[b'pandas']\r\nOut[87]: b'{\"columns\": [{\"name\": \"A\", \"pandas_type\": \"float64\", \"numpy_type\": \"float64\", \"metadata\": null}, {\"name\": \"B\", \"pandas_type\": \"float64\", \"numpy_type\": \"float64\", \"metadata\": null}, {\"name\": \"C\", \"pandas_type\": \"float64\", \"numpy_type\": \"float64\", \"metadata\": null}, {\"name\": \"__index_level_0__\", \"pandas_type\": \"unicode\", \"numpy_type\": \"object\", \"metadata\": null}, {\"name\": \"__index_level_1__\", \"pandas_type\": \"datetime\", \"numpy_type\": \"datetime64[ns]\", \"metadata\": null}], \"index_columns\": [\"__index_level_0__\", \"__index_level_1__\"], \"pandas_version\": \"0.22.0.dev0+288.g6b6cfb8\"}'\r\n\r\nIn [88]: import json\r\n\r\nIn [89]: pandas_metadata = json.loads(f.metadata.metadata[b'pandas'].decode('utf8'))\r\n\r\nIn [90]: pandas_metadata['index_columns']\r\nOut[90]: ['__index_level_0__', '__index_level_1__']\r\n```\r\n\r\nand then add those to the `columns` list. \r\nAnd something similar for `fastparquet`:\r\n\r\n```\r\nIn [98]: import fastparquet\r\n\r\nIn [99]: f = fastparquet.ParquetFile(\"__test_mi.parquet\")\r\n\r\nIn [100]: json.loads(f.key_value_metadata['pandas'])['index_columns']\r\nOut[100]: ['__index_level_0__', '__index_level_1__']\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349928009",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349928009",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349928009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkyODAwOQ==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T10:33:15Z",
    "updated_at": "2017-12-07T10:33:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Heh, beat me to it:\r\n```python\r\nimport pyarrow.parquet as pq\r\nfilemetadata = pq.read_metadata('tmp_fp.pq')\r\nmetadata = eval(filemetadata.metadata.get(b'pandas'), None, dict(null=None))\r\nmetadata['index_columns']\r\n```\r\n...eval is pretty nasty!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349928173",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349928173",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349928173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkyODE3Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T10:33:53Z",
    "updated_at": "2017-12-07T10:33:53Z",
    "author_association": "MEMBER",
    "body": "I also think that *if* there is a default index (range-like index without name, the case that was allowed now), we should not write it to the parquet file, because that would just be waste of time and space. "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349928280",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349928280",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349928280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkyODI4MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T10:34:24Z",
    "updated_at": "2017-12-07T10:34:24Z",
    "author_association": "MEMBER",
    "body": "Yep, the `json.loads` is the better alternative :-)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349939225",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349939225",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349939225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTkzOTIyNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T11:22:03Z",
    "updated_at": "2017-12-07T11:22:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "> BTW, I think we can do this for the 0.21.1 milestone. The other enhancements to to/read_parquet also went into that one (seeing it as fixes on very new functionality)\r\n\r\nsince we are bumping the version I don't think this is a good idea. marked for 0.22\r\n\r\nI am ok with this fix, @jorisvandenbossche "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349941517",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349941517",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349941517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk0MTUxNw==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T11:32:22Z",
    "updated_at": "2017-12-07T11:32:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "For pyarrow the columns fix is as simple as setting `use_pandas_metadata=True`:\r\n```python\r\n    def read(self, path, columns=None, **kwargs):\r\n        path, _, _ = get_filepath_or_buffer(path)\r\n        parquet_file = self.api.parquet.ParquetFile(path)\r\n        kwargs['use_pandas_metadata'] = True\r\n        return parquet_file.read(columns=columns, **kwargs).to_pandas()\r\n```\r\n\r\nFor fastparquet I would use:\r\n```python\r\n    def read(self, path, columns=None, **kwargs):\r\n        path, _, _ = get_filepath_or_buffer(path)\r\n        parquet_file = self.api.ParquetFile(path)\r\n        metadata = json.loads(parquet_file.key_value_metadata['pandas'])\r\n        if columns is not None:\r\n            columns = set(chain(columns, metadata['index_columns']))\r\n        return parquet_file.to_pandas(columns=columns, **kwargs)\r\n```\r\n...but since it doesnt' support multi-indexes anyway it's a moot point."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349941936",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349941936",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349941936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk0MTkzNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T11:34:11Z",
    "updated_at": "2017-12-07T11:34:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@martindurant can you weigh in here on the fp fix?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349945193",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349945193",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349945193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk0NTE5Mw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T11:50:10Z",
    "updated_at": "2017-12-07T11:50:10Z",
    "author_association": "MEMBER",
    "body": "> ...but since it doesnt' support multi-indexes anyway it's a moot point.\r\n\r\nIt's not a moot point, as it still supports single level index, which is better than nothing?\r\n\r\nThe fastparquet fix is fine, the MultiIndex 'not implemented' error is just an enhancement that would be welcome in fastparquet."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349945574",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349945574",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349945574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk0NTU3NA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T11:52:00Z",
    "updated_at": "2017-12-07T11:52:00Z",
    "author_association": "MEMBER",
    "body": "> I am ok with this fix, @jorisvandenbossche\r\n\r\nI am not yet fine with the current version, so please don't merge.\r\n\r\n> since we are bumping the version I don't think this is a good idea. marked for 0.22\r\n\r\nIf we do that, it's 0.21.1 that will become 0.22 and 0.22 will become 0.23 no?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349947586",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349947586",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349947586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk0NzU4Ng==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:01:33Z",
    "updated_at": "2017-12-07T12:01:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've pushed some changes to handle the columns issue - at least with pyarrow. The test is marked as xfail for fastparquet but that can be easily changed if fastparquet adds support for multi-indexes.\r\n\r\nI think I've covered everything but let me know if there are further changes you'd like..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349948309",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349948309",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349948309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk0ODMwOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:04:58Z",
    "updated_at": "2017-12-07T12:04:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "> if we do that, it's 0.21.1 that will become 0.22 and 0.22 will become 0.23 no?\r\n\r\nhuh?\r\n\r\nno 0.21.1 - should release this soon as a bugfix, 0.22 for major changes.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349949999",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349949999",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349949999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk0OTk5OQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:12:59Z",
    "updated_at": "2017-12-07T12:12:59Z",
    "author_association": "MEMBER",
    "body": "@dhirschfeld Thanks for the updates! Will review in a moment"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349951654",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349951654",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349951654,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk1MTY1NA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:21:16Z",
    "updated_at": "2017-12-07T12:21:16Z",
    "author_association": "MEMBER",
    "body": "> For fastparquet I haven't bothered reading the metadata to pull out the index columns \r\n\r\nApparently it is doing this 'correctly' by default (`f` is a fastparquet ParquetFile):\r\n\r\n```\r\nIn [142]: f.to_pandas()\r\nOut[142]: \r\n    bar  baz  foo\r\nzoo              \r\nx     A    1  one\r\ny     B    2  one\r\nz     C    3  one\r\nq     A    4  two\r\nw     B    5  two\r\nt     C    6  two\r\n\r\nIn [143]: f.to_pandas(columns=['bar'])\r\nOut[143]: \r\n    bar\r\nzoo    \r\nx     A\r\ny     B\r\nz     C\r\nq     A\r\nw     B\r\nt     C\r\n```\r\n\r\nSo also there this \"extracting metadata\" is not needed"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349953034",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349953034",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349953034,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk1MzAzNA==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:27:44Z",
    "updated_at": "2017-12-07T12:33:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yep, fastparquet works fine with a non-multi-index DataFrame. The code I posted above would *also* work but was moot in the sense that it didn't fix the multi-index problem.\r\n\r\nIn the unlikely event that fastparquet fix reading multi-index DataFrames but don't automatically handle the columns then it may be of some use so I posted it in case it was ever useful."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349953507",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349953507",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349953507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk1MzUwNw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:29:49Z",
    "updated_at": "2017-12-07T12:29:49Z",
    "author_association": "MEMBER",
    "body": "Ah, OK, then I understand your \"moot\" point :-)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349956229",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349956229",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349956229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk1NjIyOQ==",
    "user": {
      "login": "dhirschfeld",
      "id": 881019,
      "node_id": "MDQ6VXNlcjg4MTAxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/881019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhirschfeld",
      "html_url": "https://github.com/dhirschfeld",
      "followers_url": "https://api.github.com/users/dhirschfeld/followers",
      "following_url": "https://api.github.com/users/dhirschfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhirschfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhirschfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhirschfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/dhirschfeld/orgs",
      "repos_url": "https://api.github.com/users/dhirschfeld/repos",
      "events_url": "https://api.github.com/users/dhirschfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhirschfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:42:44Z",
    "updated_at": "2017-12-07T12:42:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the reviews @jreback, @jorisvandenbossche & @jschendel!\r\n\r\nSorry it's taken a while to get here - I've usually only got a small window in the evenings when I can work on stuff not directly related to my *actual* work. That window is fast closing down this way so feel to push any changes in the interim. I'm also happy to pick it up again tomorrow though. No big rush if it's scheduled for 0.22..."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349959487",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349959487",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349959487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk1OTQ4Nw==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:57:16Z",
    "updated_at": "2017-12-07T12:57:16Z",
    "author_association": "MEMBER",
    "body": "Maybe not essential for this PR, but I think we should also think about:\r\n\r\n- not writing the index if it is a default index (range-like index without name). It will be cheaper to just reconstruct it on reading (which is already done by both engines if there is no index column in the metadata)\r\n\r\n- providing a `index=True/False` keyword similar to `to_csv` and others to control if you want to write the index or not (both pyarrow and fastparquet support this)\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/349959740",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-349959740",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 349959740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTk1OTc0MA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T12:58:29Z",
    "updated_at": "2017-12-07T12:58:29Z",
    "author_association": "MEMBER",
    "body": "> Sorry it's taken a while to get here - I've usually only got a small window in the evenings when I can work on stuff not directly related to my actual work.\r\n\r\nNo problem! The PR is only open yet for 3 days :-) And it will be a very nice improvement."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350006514",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-350006514",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 350006514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDAwNjUxNA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T15:45:28Z",
    "updated_at": "2017-12-07T15:45:28Z",
    "author_association": "MEMBER",
    "body": "@jreback to come back on the milestone. I personally would like to see this released as soon as possible, as it is an important change to make `read_parquet`/`to_parquet` as brand new functionality easier to use. This will impact how users use those functions, so let's change that as quick as possible. Since we are also including the addition of the `columns` keyword in the 0.21.1 release, I don't see why we wouldn't include this in the 0.21.1 release. \r\n(I can help with finishing this PR if time is a problem)\r\n\r\n> since we are bumping the version I don't think this is a good idea. \r\n\r\nI don't fully understand what bumping the version has to do with it, but let's keep the discussion about version numbers for https://github.com/pandas-dev/pandas/issues/18244, and let's assume here that we want to release 0.21.1 in a couple of days (but as argued above, I would like to try to include it in that release)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/350018395",
    "html_url": "https://github.com/pandas-dev/pandas/pull/18629#issuecomment-350018395",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18629",
    "id": 350018395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDAxODM5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-07T16:22:31Z",
    "updated_at": "2017-12-07T16:22:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "well, almost all of the 0.21.1 fixes won't break your existing environment; that's the point.\r\n\r\nThis is actually something that will. that's why its 0.22.0. its an api breaking change. Now personally I agree that it would be fine to break this as its a new feature. If you want to be less strict on this because of that, then I am not opposed."
  }
]
