[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/314820395",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16896#issuecomment-314820395",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16896",
    "id": 314820395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDgyMDM5NQ==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-12T16:17:05Z",
    "updated_at": "2017-07-12T16:17:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "#16638 seems most likely"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/314913663",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16896#issuecomment-314913663",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16896",
    "id": 314913663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDkxMzY2Mw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-12T22:17:10Z",
    "updated_at": "2017-07-12T22:17:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @jdeschenes, mind taking a look?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315084765",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16896#issuecomment-315084765",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16896",
    "id": 315084765,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTA4NDc2NQ==",
    "user": {
      "login": "jdeschenes",
      "id": 9948816,
      "node_id": "MDQ6VXNlcjk5NDg4MTY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/9948816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdeschenes",
      "html_url": "https://github.com/jdeschenes",
      "followers_url": "https://api.github.com/users/jdeschenes/followers",
      "following_url": "https://api.github.com/users/jdeschenes/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdeschenes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdeschenes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdeschenes/subscriptions",
      "organizations_url": "https://api.github.com/users/jdeschenes/orgs",
      "repos_url": "https://api.github.com/users/jdeschenes/repos",
      "events_url": "https://api.github.com/users/jdeschenes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdeschenes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T13:54:39Z",
    "updated_at": "2017-07-13T13:54:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "After a bit of investigation:\r\n\r\n```python\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame({'x': range(3)}, pd.to_timedelta(range(3), unit='days'))\r\n\r\ndf.loc['0 days 00:00:00']\r\n```\r\n\r\nThis will work.\r\n\r\nThe culprit is the `is_timedelta64_dtype` function which was added to to the `get_loc` function as part of #16638.\r\n\r\n```python\r\nfrom pandas.core.dtypes.common import is_timedelta64_dtype\r\nassert not is_timedelta64_dtype('0 days 00:00:00')\r\n\r\n# But this one will fail with TypeError\r\nassert not is_timedelta64_dtype('0 days')\r\n```\r\n\r\nThe fix will be quite simple. Tweak the is_timedelta64_dtype so that it always return True or False. What do you think?\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315085490",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16896#issuecomment-315085490",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16896",
    "id": 315085490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTA4NTQ5MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T13:57:09Z",
    "updated_at": "2017-07-13T13:57:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes these should never raise (feel free to add a battery of tests)!"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315168517",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16896#issuecomment-315168517",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16896",
    "id": 315168517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE2ODUxNw==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T18:49:08Z",
    "updated_at": "2017-07-13T18:49:19Z",
    "author_association": "MEMBER",
    "body": "There's another related regression for xarray (probably less serious though). Previously, `TimedeltaIndex.get_loc` worked on `np.timedelta64`, even though `DataFrame.loc` fails:\r\n```\r\nIn [2]: df = pd.DataFrame({'x': range(3)}, pd.to_timedelta(range(3), unit='days'))\r\n\r\nIn [3]: df.loc[df.index[0].to_timedelta64()]\r\nTypeError: cannot do index indexing on <class 'pandas.core.indexes.timedeltas.TimedeltaIndex'> with these indexers [0] of <class 'numpy.timedelta64'>\r\n\r\nIn [5]: df.index.get_loc(df.index[0].to_timedelta64())\r\nOut[5]: 0\r\n```\r\nNow, both raise `TypeError`.\r\n\r\nIs there a good reason to prohibit indexing with `np.timedelta64` objects?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315172029",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16896#issuecomment-315172029",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16896",
    "id": 315172029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE3MjAyOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T19:02:08Z",
    "updated_at": "2017-07-13T19:02:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@shoyer can you add a new issue for that. Its pretty easy to fix, but out of scope for this PR."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/315175007",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16896#issuecomment-315175007",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16896",
    "id": 315175007,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE3NTAwNw==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T19:14:22Z",
    "updated_at": "2017-07-13T19:14:22Z",
    "author_association": "MEMBER",
    "body": "Done in #16909"
  }
]
