[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/256871781",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14524#issuecomment-256871781",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14524",
    "id": 256871781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Njg3MTc4MQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-28T09:03:15Z",
    "updated_at": "2016-10-28T09:03:15Z",
    "author_association": "MEMBER",
    "body": "@TimTimMadden Thanks for the report. \nThis is a duplicate of https://github.com/pandas-dev/pandas/issues/13905\n\nThere is indeed a bug in the arithmetic of timezone-ware datetime series with timedelta series. \nYou are correct that the other changes you see are improvements in 0.19.0 compared to 0.18 (eg keeping the timezone when subtracting a scalar timedelta).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/256894501",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14524#issuecomment-256894501",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14524",
    "id": 256894501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Njg5NDUwMQ==",
    "user": {
      "login": "TimTimMadden",
      "id": 5013264,
      "node_id": "MDQ6VXNlcjUwMTMyNjQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5013264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimTimMadden",
      "html_url": "https://github.com/TimTimMadden",
      "followers_url": "https://api.github.com/users/TimTimMadden/followers",
      "following_url": "https://api.github.com/users/TimTimMadden/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimTimMadden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimTimMadden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimTimMadden/subscriptions",
      "organizations_url": "https://api.github.com/users/TimTimMadden/orgs",
      "repos_url": "https://api.github.com/users/TimTimMadden/repos",
      "events_url": "https://api.github.com/users/TimTimMadden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimTimMadden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-28T11:07:05Z",
    "updated_at": "2016-10-28T11:07:05Z",
    "author_association": "NONE",
    "body": "Thanks for the reply, sorry for the duplicate! \n\nFor anyone finding this issue in the future, I needed to have two columns agreeing on tz-aware or tz-naive in order to do some time-window aggregation. Trying to re-cast the series using `df.c.tz_localize('UTC')` failed with the error message: `TypeError: Already tz-aware, use tz_convert to convert.`\n\nI'm currently using the following workaround: `df.c = df.c.apply(lambda t: t.tz_localize('UTC') if pd.notnan(t) else pd.NaT)` which is a little messy but works for my purposes.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/257091385",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14524#issuecomment-257091385",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14524",
    "id": 257091385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzA5MTM4NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-29T13:22:00Z",
    "updated_at": "2016-10-29T13:22:00Z",
    "author_association": "MEMBER",
    "body": "@TimTimMadden I am not fully following your workaround. Why was the `apply` needed to perform the `tz_localize` ? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/257096293",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14524#issuecomment-257096293",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14524",
    "id": 257096293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzA5NjI5Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-29T15:00:31Z",
    "updated_at": "2016-10-29T15:00:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as a dupe\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/257098367",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14524#issuecomment-257098367",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14524",
    "id": 257098367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzA5ODM2Nw==",
    "user": {
      "login": "TimTimMadden",
      "id": 5013264,
      "node_id": "MDQ6VXNlcjUwMTMyNjQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5013264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimTimMadden",
      "html_url": "https://github.com/TimTimMadden",
      "followers_url": "https://api.github.com/users/TimTimMadden/followers",
      "following_url": "https://api.github.com/users/TimTimMadden/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimTimMadden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimTimMadden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimTimMadden/subscriptions",
      "organizations_url": "https://api.github.com/users/TimTimMadden/orgs",
      "repos_url": "https://api.github.com/users/TimTimMadden/repos",
      "events_url": "https://api.github.com/users/TimTimMadden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimTimMadden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-29T15:38:21Z",
    "updated_at": "2016-10-29T15:38:21Z",
    "author_association": "NONE",
    "body": "@jorisvandenbossche Using the series `tz_localize` method produced the error message `TypeError: Already tz-aware, use tz_convert to convert` even though the contained timestamps had no time zone. I was forced to use the `.apply(...)` loop to use the individual timestamp `tz_localize` methods. This did confuse me, and wasn't exactly ideal due to the performance hit of using `.apply(..)`. However, I didn't try to investigate further as the issue described in #10390 meant that I was forced to revert back to Pandas ver 0.18.1, as the timezone dropping bug for both series of timedeltas and single timedeltas handily means that the `.max(axis=1)` call completes successfully.\n\nThe part of code that meant investigating this timestamp behaviour is pretty critical to my app, as it resamples data to a regular time window while also providing me with a measure of how 'complete' that window is (i.e. what percentage of the reading for that normalised window is covered by one or more raw data readings). Having expected behaviour for this is rather important, but for the moment I'd rather have understood sub-optimal behaviour that works!\n\nThanks for your attention to these issues - I really do think this is a great library and massively appreciate the work you guys put in! I'm poking around in the source, and will open a pull request if I can figure out the root cause. :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/257165020",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14524#issuecomment-257165020",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14524",
    "id": 257165020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzE2NTAyMA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-30T17:29:22Z",
    "updated_at": "2016-10-30T17:29:57Z",
    "author_association": "MEMBER",
    "body": "@TimTimMadden With your example above, and using 0.19.0, I am not seeing any problem with the localizing of the values:\n\n```\nIn [163]: df['c']  # those are not timezone aware (that is a bug, see the other issue), but localizing them works\nOut[163]: \n0    2016-01-01 01:00:00\n1    2016-01-01 02:00:00\n             ...        \n22   2016-01-01 23:00:00\n23   2016-01-02 00:00:00\nName: c, dtype: datetime64[ns]\n\nIn [164]: df['c'].dtype\nOut[164]: dtype('<M8[ns]')\n\nIn [165]: df['c'].dt.tz_localize('UTC')\nOut[165]: \n0    2016-01-01 01:00:00+00:00\n1    2016-01-01 02:00:00+00:00\n                ...           \n22   2016-01-01 23:00:00+00:00\n23   2016-01-02 00:00:00+00:00\nName: c, dtype: datetime64[ns, UTC]\n```\n\nIf you still have a problem with this, please open an new issue with a reproducible example.\n"
  }
]
