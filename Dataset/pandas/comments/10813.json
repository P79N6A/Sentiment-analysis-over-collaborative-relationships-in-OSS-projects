[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247291162",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10813#issuecomment-247291162",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10813",
    "id": 247291162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzI5MTE2Mg==",
    "user": {
      "login": "rtkaleta",
      "id": 447675,
      "node_id": "MDQ6VXNlcjQ0NzY3NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/447675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rtkaleta",
      "html_url": "https://github.com/rtkaleta",
      "followers_url": "https://api.github.com/users/rtkaleta/followers",
      "following_url": "https://api.github.com/users/rtkaleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/rtkaleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rtkaleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rtkaleta/subscriptions",
      "organizations_url": "https://api.github.com/users/rtkaleta/orgs",
      "repos_url": "https://api.github.com/users/rtkaleta/repos",
      "events_url": "https://api.github.com/users/rtkaleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rtkaleta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-15T10:21:13Z",
    "updated_at": "2016-09-15T10:21:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi,\n\nThis is still an issue in Pandas `v0.18.1`:\n\n``` python\n>>> import pandas as pd\n>>> pd.__version__\nu'0.18.1'\n>>> data = [{'names': ['foo', 'bar']}, {'names': ['baz', 'qux']}]\n>>> df = pd.DataFrame(data)\n>>> df.to_csv(path_or_buf='temp.csv', encoding='utf-8')\n```\n\nResult:\n\n``` bash\n>>> cat temp.csv\n,names\n0,\"[foo, bar]\"\n1,\"[baz, qux]\"\n```\n\nAn even weirder quirk is that even when `encoding='ascii'` - i.e. we are explicitly setting the encoding to [its apparent default](http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html#pandas-dataframe-to-csv) - the result is also broken:\n\n``` python\n>>> import pandas as pd\n>>> data = [{'names': ['foo', 'bar']}, {'names': ['baz', 'qux']}]\n>>> df = pd.DataFrame(data)\n>>> df.to_csv(path_or_buf='temp.csv', encoding='ascii')\n```\n\nResult:\n\n``` bash\n>>> cat temp.csv\n,names\n0,\"[foo, bar]\"\n1,\"[baz, qux]\"\n```\n\nNote this seems to affect columns containing array of strings only. If the column contains a list of e.g. dictionaries, the data is written down to `csv` correctly:\n\n``` python\n>>> import pandas as pd\n>>> data = [{'names': [{'foo': 1}, {'bar': 2}]}, {'names': [{'baz': 3}, {'qux': 4}]}]\n>>> df = pd.DataFrame(data)\n>>> df.to_csv(path_or_buf='temp.csv', encoding='utf-8')\n```\n\nResult:\n\n``` bash\n>>> cat temp.csv\n,names\n,names\n0,\"[{u'foo': 1}, {u'bar': 2}]\"\n1,\"[{u'baz': 3}, {u'qux': 4}]\"\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/247292365",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10813#issuecomment-247292365",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10813",
    "id": 247292365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NzI5MjM2NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-15T10:27:38Z",
    "updated_at": "2016-09-15T10:27:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "I suppose. embedded lists of non-scalars are not first class citizens of pandas at all, nor are they generally lossleslly convertible to/from csv. json is a better format for this. If a community supported PR is pushed that would be ok.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/335516359",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10813#issuecomment-335516359",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10813",
    "id": 335516359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTUxNjM1OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T15:43:11Z",
    "updated_at": "2017-10-10T15:43:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this has been fixed, but not by #17821. Would be nice ensure we have a regression test in place."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/340209506",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10813#issuecomment-340209506",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10813",
    "id": 340209506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDIwOTUwNg==",
    "user": {
      "login": "rtkaleta",
      "id": 447675,
      "node_id": "MDQ6VXNlcjQ0NzY3NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/447675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rtkaleta",
      "html_url": "https://github.com/rtkaleta",
      "followers_url": "https://api.github.com/users/rtkaleta/followers",
      "following_url": "https://api.github.com/users/rtkaleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/rtkaleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rtkaleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rtkaleta/subscriptions",
      "organizations_url": "https://api.github.com/users/rtkaleta/orgs",
      "repos_url": "https://api.github.com/users/rtkaleta/repos",
      "events_url": "https://api.github.com/users/rtkaleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rtkaleta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-28T18:08:25Z",
    "updated_at": "2017-10-28T18:08:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger Thanks for picking this up, and sorry it took me so long to respond. Looks like this is now fixed for writing string arrays using the `ascii` encoding but still broken for `utf-8` encoded values. See https://github.com/pandas-dev/pandas/pull/18013."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/340209790",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10813#issuecomment-340209790",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10813",
    "id": 340209790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDIwOTc5MA==",
    "user": {
      "login": "rtkaleta",
      "id": 447675,
      "node_id": "MDQ6VXNlcjQ0NzY3NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/447675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rtkaleta",
      "html_url": "https://github.com/rtkaleta",
      "followers_url": "https://api.github.com/users/rtkaleta/followers",
      "following_url": "https://api.github.com/users/rtkaleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/rtkaleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rtkaleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rtkaleta/subscriptions",
      "organizations_url": "https://api.github.com/users/rtkaleta/orgs",
      "repos_url": "https://api.github.com/users/rtkaleta/repos",
      "events_url": "https://api.github.com/users/rtkaleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rtkaleta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-28T18:13:20Z",
    "updated_at": "2017-10-28T22:59:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'll have a stab at a fix... It stems from the fact that pandas' own `UnicodeWriter` calls `pprint_thing` without `quote_strings=True` so then:\r\n\r\n```python\r\n>>> from pandas.io.formats.printing import pprint_thing\r\n>>> pprint_thing([u'foo', u'bar'])\r\nu'[foo, bar]'\r\n```\r\ninstead of the more intuitive:\r\n```python\r\n>>> pprint_thing([u'foo', u'bar'], quote_strings=True)\r\nu\"[u'foo', u'bar']\"\r\n```\r\n\r\nWhy do we have our own `UnicodeWriter` [here](https://github.com/pandas-dev/pandas/blob/master/pandas/io/formats/format.py#L1642) instead of [unicodecsv.writer](https://github.com/jdunck/python-unicodecsv)?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/342588794",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10813#issuecomment-342588794",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10813",
    "id": 342588794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjU4ODc5NA==",
    "user": {
      "login": "rtkaleta",
      "id": 447675,
      "node_id": "MDQ6VXNlcjQ0NzY3NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/447675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rtkaleta",
      "html_url": "https://github.com/rtkaleta",
      "followers_url": "https://api.github.com/users/rtkaleta/followers",
      "following_url": "https://api.github.com/users/rtkaleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/rtkaleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rtkaleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rtkaleta/subscriptions",
      "organizations_url": "https://api.github.com/users/rtkaleta/orgs",
      "repos_url": "https://api.github.com/users/rtkaleta/repos",
      "events_url": "https://api.github.com/users/rtkaleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rtkaleta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-07T19:08:56Z",
    "updated_at": "2017-11-07T19:08:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback This should not have been closed, got closed because I mentioned it in https://github.com/pandas-dev/pandas/pull/18013, please reopen and I'll have a stab at the fix, thanks."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/456452351",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10813#issuecomment-456452351",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10813",
    "id": 456452351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjQ1MjM1MQ==",
    "user": {
      "login": "Rajjae",
      "id": 33871727,
      "node_id": "MDQ6VXNlcjMzODcxNzI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/33871727?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Rajjae",
      "html_url": "https://github.com/Rajjae",
      "followers_url": "https://api.github.com/users/Rajjae/followers",
      "following_url": "https://api.github.com/users/Rajjae/following{/other_user}",
      "gists_url": "https://api.github.com/users/Rajjae/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Rajjae/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Rajjae/subscriptions",
      "organizations_url": "https://api.github.com/users/Rajjae/orgs",
      "repos_url": "https://api.github.com/users/Rajjae/repos",
      "events_url": "https://api.github.com/users/Rajjae/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Rajjae/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-22T15:57:00Z",
    "updated_at": "2019-01-22T15:57:00Z",
    "author_association": "NONE",
    "body": "Hello,\r\nThis is still an issue in Pandas `v0.23.4`.  It is fixed when using the ascii encoding, but still broken when using the utf-8 encoding."
  }
]
