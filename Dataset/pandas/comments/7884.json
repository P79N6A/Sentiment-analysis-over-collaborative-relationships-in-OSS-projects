[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50707850",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7884#issuecomment-50707850",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7884",
    "id": 50707850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzA3ODUw",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-31T03:07:33Z",
    "updated_at": "2014-07-31T03:07:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "In particular, these lines in ewma() look fishy to me:\n\n```\n        first_index = _first_valid_index(v)\n        result[first_index: first_index + min_periods] = NaN\n```\n\nI would have expected something like:\n\n```\n        if min_periods > 0:\n            first_index = _first_valid_index(v)\n            result[first_index: first_index + min_periods - 1] = NaN\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50708584",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7884#issuecomment-50708584",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7884",
    "id": 50708584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzA4NTg0",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-31T03:23:12Z",
    "updated_at": "2014-07-31T03:23:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Note that the meaning of `min_periods` is inconsistent between, say, `ewma` and `rolling_mean`: in `ewma` it affects only the beginning of the series, and it doesn't care about whether values are missing or not; in `rolling_mean` it refers to the number of non-null observations. This is documented as such, but it seems confusing.\n\nFor example,\n\n```\nIn [20]: ewma(Series([5,None,None,None,None,5]), halflife=3., min_periods=3)\nOut[20]:\n0   NaN\n1   NaN\n2   NaN\n3     5\n4     5\n5     5\n```\n\nreturns `5` for the final 3 entries, even though there are not three non-null values in the whole series.\nAgain, this is documented as such, but I would have thought that the meaning of `min_periods` in `ewma` (and all the other `ewm*` functions) should be the same as in the `rolling_*` functions.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50926080",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7884#issuecomment-50926080",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7884",
    "id": 50926080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTI2MDgw",
    "user": {
      "login": "seth-p",
      "id": 7441788,
      "node_id": "MDQ6VXNlcjc0NDE3ODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7441788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seth-p",
      "html_url": "https://github.com/seth-p",
      "followers_url": "https://api.github.com/users/seth-p/followers",
      "following_url": "https://api.github.com/users/seth-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/seth-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seth-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seth-p/subscriptions",
      "organizations_url": "https://api.github.com/users/seth-p/orgs",
      "repos_url": "https://api.github.com/users/seth-p/repos",
      "events_url": "https://api.github.com/users/seth-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seth-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-01T19:38:58Z",
    "updated_at": "2014-08-01T22:34:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also, I just noticed that `ewmvar`, `ewmstd`, `ewmvol`, `ewmcov`, `rolling_var`, `rolling_std`, returns `0.0` for a single value (assuming `min_periods=0`); whereas `Series.std`, `Series.var`, `ewmcorr`, `expanding_cov`, `expanding_corr`, `expanding_std`, `expanding_vol`, and `expanding_var`, `rolling_cov`, and `rolling_corr` all return `NaN` for a single value. Yikes. I think all of these should return `NaN` for a single value.\n\nI created https://github.com/pydata/pandas/issues/7900 to address this.\n"
  }
]
