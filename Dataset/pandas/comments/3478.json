[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17171244",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3478#issuecomment-17171244",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3478",
    "id": 17171244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTcxMjQ0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-29T14:51:50Z",
    "updated_at": "2013-04-29T14:51:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is not a good way of doing this, `MaskedReocrds` are a sub-class of `MaskedArray` so it could be caught in that part of the if (and then dealt with). This also makes you always check if something is masked (when that is not very common). Would welcome fixes to this as well as some tests.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17200995",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3478#issuecomment-17200995",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3478",
    "id": 17200995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjAwOTk1",
    "user": {
      "login": "jnothman",
      "id": 78827,
      "node_id": "MDQ6VXNlcjc4ODI3",
      "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnothman",
      "html_url": "https://github.com/jnothman",
      "followers_url": "https://api.github.com/users/jnothman/followers",
      "following_url": "https://api.github.com/users/jnothman/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions",
      "organizations_url": "https://api.github.com/users/jnothman/orgs",
      "repos_url": "https://api.github.com/users/jnothman/repos",
      "events_url": "https://api.github.com/users/jnothman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnothman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-29T23:26:55Z",
    "updated_at": "2013-04-29T23:26:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback, I can't tell whether you're critiquing my particular implementation (#3479), or the existing implementation. I will comment as if you're critiquing my PR:\n\nAdmittedly, for efficiency, my solution is slightly slower for non-masked record arrays, because it calls `_unmask` and `isinstance` for each field. I don't expect `DataFrame` (or numpy record arrays) is especially useful for dealing with thousands of fields, so I don't think that's an efficiency loss worth worrying about. In terms of code cleanliness, it reduces the duplicate code between the `isinstance(data, ma.MaskedArray)` and `isinstance(data, np.ndarray)` cases, so I think it is an improvement.\n\nIf you're talking about the existing code (though this also applies to my PR), it's unnecessary to explicitly use `isinstance` to check if something is masked, because `ma.getmaskarray(arr)` will work anyway. But some kind of check for a mask is necessary first, even if it's a rare case (again, do you have a use-case that requires thousands of `DataFrames` to be constructed per second that this becomes an issue?). And the code uses `isinstance`to avoid a `.copy()` where otherwise `getmaskedarray` would suffice.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17202363",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3478#issuecomment-17202363",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3478",
    "id": 17202363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjAyMzYz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-30T00:01:52Z",
    "updated_at": "2013-04-30T00:01:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was referring to your PR.\n\nyou would be suprised about performance. We spend an inordinate amount of time trying to avoid bottlenecks. This is probably not a big deal, but it is easily avoided, by putting this under the `MaskedArray` check.\n\nI am not exactly sure what `ma.getmaskarray(arr)` actually does but I can't imagine this is a good general purpose solution. The constructor is already complicated and have tried to limit the special cases. \n\nWhy would you _not_ put all of the Masked stuff in a single if?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/17202549",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3478#issuecomment-17202549",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3478",
    "id": 17202549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjAyNTQ5",
    "user": {
      "login": "jnothman",
      "id": 78827,
      "node_id": "MDQ6VXNlcjc4ODI3",
      "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnothman",
      "html_url": "https://github.com/jnothman",
      "followers_url": "https://api.github.com/users/jnothman/followers",
      "following_url": "https://api.github.com/users/jnothman/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions",
      "organizations_url": "https://api.github.com/users/jnothman/orgs",
      "repos_url": "https://api.github.com/users/jnothman/repos",
      "events_url": "https://api.github.com/users/jnothman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnothman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-30T00:06:56Z",
    "updated_at": "2013-04-30T00:06:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "So let's discuss this over at #3479.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/24417825",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3478#issuecomment-24417825",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3478",
    "id": 24417825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDE3ODI1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-13T19:13:16Z",
    "updated_at": "2013-09-13T19:13:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jnothman getting ready to put this in (I am using your tests, but implementing slightly different).\n\nis the intent of the fill value in a rec array to provide an immediate fillna on the Nan?\n\ne.g. say you construct a DataFrame then ends of having NaN (say because you pass in an explicity index/columns) \n\nDataFrames don't normally carry around a fill value, so would you a) drop it, b) immediately fill with it, c) have an option for this?\n\nwe do a) with masked arrays IIRC now\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/24419457",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3478#issuecomment-24419457",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3478",
    "id": 24419457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDE5NDU3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-13T19:37:52Z",
    "updated_at": "2013-09-13T19:37:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jnothman sorry...i realize it is option b) on masked arrays.....will do the same then\n"
  }
]
