[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/254759851",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14450#issuecomment-254759851",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14450",
    "id": 254759851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDc1OTg1MQ==",
    "user": {
      "login": "pwaller",
      "id": 438648,
      "node_id": "MDQ6VXNlcjQzODY0OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/438648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pwaller",
      "html_url": "https://github.com/pwaller",
      "followers_url": "https://api.github.com/users/pwaller/followers",
      "following_url": "https://api.github.com/users/pwaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pwaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwaller/subscriptions",
      "organizations_url": "https://api.github.com/users/pwaller/orgs",
      "repos_url": "https://api.github.com/users/pwaller/repos",
      "events_url": "https://api.github.com/users/pwaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pwaller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-19T09:20:05Z",
    "updated_at": "2016-10-19T09:26:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "I note that:\n- This seems to work in 0.18.\n- It affects `pd.concat([df, get_dummies(cut(df.v))], axis=1)` as well, with the same error.\n- It may be related to #14298 (the only other example of this `AttributeError` I can find, though I don't understand that bug).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/254762004",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14450#issuecomment-254762004",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14450",
    "id": 254762004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDc2MjAwNA==",
    "user": {
      "login": "pwaller",
      "id": 438648,
      "node_id": "MDQ6VXNlcjQzODY0OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/438648?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pwaller",
      "html_url": "https://github.com/pwaller",
      "followers_url": "https://api.github.com/users/pwaller/followers",
      "following_url": "https://api.github.com/users/pwaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/pwaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pwaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pwaller/subscriptions",
      "organizations_url": "https://api.github.com/users/pwaller/orgs",
      "repos_url": "https://api.github.com/users/pwaller/repos",
      "events_url": "https://api.github.com/users/pwaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pwaller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-19T09:30:02Z",
    "updated_at": "2016-10-19T09:30:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "I accidentally posted the stack trace for concat in the original issue. I've edited the issue. Here is the other stack trace for `pd.concat([df, get_dummies(cut(df.v))], axis=1)`.\n\n<details>\n\n```\n----> 1 pd.concat([vs.first_time.to_frame(), pd.get_dummies(by_stay)], axis=1).head()\n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/tools/merge.py in concat(objs, axis, join, join_axes, ignore_index, keys, levels, names, verify_integrity, copy)\n   1323                        keys=keys, levels=levels, names=names,\n   1324                        verify_integrity=verify_integrity,\n-> 1325                        copy=copy)\n   1326     return op.get_result()\n   1327 \n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/tools/merge.py in __init__(self, objs, axis, join, join_axes, keys, levels, names, ignore_index, verify_integrity, copy)\n   1462         self.copy = copy\n   1463 \n-> 1464         self.new_axes = self._get_new_axes()\n   1465 \n   1466     def get_result(self):\n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/tools/merge.py in _get_new_axes(self)\n   1550                 new_axes[i] = ax\n   1551 \n-> 1552         new_axes[self.axis] = self._get_concat_axis()\n   1553         return new_axes\n   1554 \n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/tools/merge.py in _get_concat_axis(self)\n   1604 \n   1605         if self.keys is None:\n-> 1606             concat_axis = _concat_indexes(indexes)\n   1607         else:\n   1608             concat_axis = _make_concat_multiindex(indexes, self.keys,\n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/tools/merge.py in _concat_indexes(indexes)\n   1622 \n   1623 def _concat_indexes(indexes):\n-> 1624     return indexes[0].append(indexes[1:])\n   1625 \n   1626 \n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/indexes/base.py in append(self, other)\n   1440             # if any of the to_concat is category\n   1441             from pandas.indexes.category import CategoricalIndex\n-> 1442             return CategoricalIndex._append_same_dtype(self, to_concat, name)\n   1443 \n   1444         if len(typs) == 1:\n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/indexes/category.py in _append_same_dtype(self, to_concat, name)\n    578         ValueError if other is not in the categories\n    579         \"\"\"\n--> 580         to_concat = [self._is_dtype_compat(c) for c in to_concat]\n    581         codes = np.concatenate([c.codes for c in to_concat])\n    582         result = self._create_from_codes(codes, name=name)\n\n/home/pwaller/.local/lib/python3.5/site-packages/pandas/indexes/category.py in <listcomp>(.0)\n    578         ValueError if other is not in the categories\n    579         \"\"\"\n--> 580         to_concat = [self._is_dtype_compat(c) for c in to_concat]\n    581         codes = np.concatenate([c.codes for c in to_concat])\n    582         result = self._create_from_codes(codes, name=name)\n\nAttributeError: 'Index' object has no attribute '_is_dtype_compat'\n```\n\n</details>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/254774815",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14450#issuecomment-254774815",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14450",
    "id": 254774815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDc3NDgxNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-19T10:29:13Z",
    "updated_at": "2016-10-19T10:29:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@pwaller this looks like a manifestation of #14298 as you indicated. an untested path. pull-requests are welcome! thans\n"
  }
]
