[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25493613",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25493613",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25493613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDkzNjEz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-01T21:39:10Z",
    "updated_at": "2013-10-01T21:39:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "not a bad idea (this actually makes take deal with this correctly).\n\nyou can add a method `_fill_value` and have Index return `np.nan` and override in  DatetimeIndex return `NaT`\n\nneed some more tests, edge cases, e.g. empty index, multiple nan (datetime w/NaT), -1 at the end, beginning (you have in the middle case)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25499752",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25499752",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25499752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDk5NzUy",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-01T22:56:58Z",
    "updated_at": "2013-10-01T22:56:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Better fix is to create a mask based on value == -1 and then fill with nan\nafterwards. Otherwise you get weird behavior with setting levels and this\nfix would complicate any future function that would remove extraneous\nlabels. Plus you'd always have to check for and remove null when outputting\nlevels. Might create a flag that checks for nan values so you use dtype\nfloat instead. (or just check mask.any())\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25502432",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25502432",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25502432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTAyNDMy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-01T23:49:49Z",
    "updated_at": "2013-10-01T23:49:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@goyodiaz something like (using @jtratner method)\n\n```\nmask = labels == -1\nvalues = unique_values.take(labels)\nvalues[mask] = np.nan\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25502632",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25502632",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25502632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTAyNjMy",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-01T23:54:33Z",
    "updated_at": "2013-10-01T23:54:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@goyodiaz do you have Travis set up? Interested if your solution passes. I didn't realize you were saying to just do it temporarily. I still think it'll create issues if you wanted to shorten levels later on, but I'm less convinced than in my previous comment :)\n\n@jreback does append create a copy of the underlying memory? I guess it's happening in either case, but bool certainly smaller\n\nslight tweak:\n\n``` python\nmask = labels == -1\nvalues = unique_values.take(labels)\nif mask.any():\n    values = values.astype(float)\n    values[mask] = np.nan\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25503479",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25503479",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25503479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTAzNDc5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T00:14:47Z",
    "updated_at": "2013-10-02T00:14:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes append copies\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25552491",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25552491",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25552491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTUyNDkx",
    "user": {
      "login": "goyodiaz",
      "id": 1676326,
      "node_id": "MDQ6VXNlcjE2NzYzMjY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1676326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goyodiaz",
      "html_url": "https://github.com/goyodiaz",
      "followers_url": "https://api.github.com/users/goyodiaz/followers",
      "following_url": "https://api.github.com/users/goyodiaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/goyodiaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goyodiaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goyodiaz/subscriptions",
      "organizations_url": "https://api.github.com/users/goyodiaz/orgs",
      "repos_url": "https://api.github.com/users/goyodiaz/repos",
      "events_url": "https://api.github.com/users/goyodiaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goyodiaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T16:15:54Z",
    "updated_at": "2013-10-02T16:15:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jtratner yes, travis builds passed.\nhttps://travis-ci.org/goyodiaz/pandas\n\nCan you think of any possible side effect which should be tested? I did not understand well your concerns.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25552808",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25552808",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25552808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTUyODA4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T16:19:34Z",
    "updated_at": "2013-10-02T16:19:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "go ahead an open a pull-request, this will submit as a patch to the devs\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25558365",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25558365",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25558365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTU4MzY1",
    "user": {
      "login": "goyodiaz",
      "id": 1676326,
      "node_id": "MDQ6VXNlcjE2NzYzMjY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1676326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goyodiaz",
      "html_url": "https://github.com/goyodiaz",
      "followers_url": "https://api.github.com/users/goyodiaz/followers",
      "following_url": "https://api.github.com/users/goyodiaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/goyodiaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goyodiaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goyodiaz/subscriptions",
      "organizations_url": "https://api.github.com/users/goyodiaz/orgs",
      "repos_url": "https://api.github.com/users/goyodiaz/repos",
      "events_url": "https://api.github.com/users/goyodiaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goyodiaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T17:23:17Z",
    "updated_at": "2013-10-02T17:23:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Will do it in a while.\n\nBTW there is nothing to fix with DatetimeIndex:\n\n```\nIn [1]: index = pd.MultiIndex.from_arrays([\n    pd.DatetimeIndex([pd.NaT, 0, 1]),\n    ['a', 'b', 'b']\n])\nIn [2]: index.get_level_values(0)[0]\nOut[2]: NaT\n```\n\nBut I guess this could change when numpy get proper integer nan support, if ever.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25577813",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25577813",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25577813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTc3ODEz",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T21:17:01Z",
    "updated_at": "2013-10-02T21:17:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@goyodiaz - it's totally fine, I appreciate you figuring out what was going\non! I was thinking about this from an internals perspective (i.e., space\nand time complexity for masking vs. appending a value to the end of a list)\nand also what I'm looking to do going forward.\n\nThat said, figuring out that the issue was that it was taking the wrong\nvalue was very helpful - thanks for that!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25577868",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25577868",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25577868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTc3ODY4",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T21:17:43Z",
    "updated_at": "2013-10-02T21:17:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Behavior with NaT actually could be a bug, not sure.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25580375",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25580375",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25580375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTgwMzc1",
    "user": {
      "login": "goyodiaz",
      "id": 1676326,
      "node_id": "MDQ6VXNlcjE2NzYzMjY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1676326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goyodiaz",
      "html_url": "https://github.com/goyodiaz",
      "followers_url": "https://api.github.com/users/goyodiaz/followers",
      "following_url": "https://api.github.com/users/goyodiaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/goyodiaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goyodiaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goyodiaz/subscriptions",
      "organizations_url": "https://api.github.com/users/goyodiaz/orgs",
      "repos_url": "https://api.github.com/users/goyodiaz/repos",
      "events_url": "https://api.github.com/users/goyodiaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goyodiaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T21:52:28Z",
    "updated_at": "2013-10-02T21:52:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jratner I think you are right, it's a bug in `factorize()` if it is supposed to return unique values without missing values and NaT is to be treated as a missing value.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/25580830",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5074#issuecomment-25580830",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5074",
    "id": 25580830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTgwODMw",
    "user": {
      "login": "goyodiaz",
      "id": 1676326,
      "node_id": "MDQ6VXNlcjE2NzYzMjY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1676326?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goyodiaz",
      "html_url": "https://github.com/goyodiaz",
      "followers_url": "https://api.github.com/users/goyodiaz/followers",
      "following_url": "https://api.github.com/users/goyodiaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/goyodiaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goyodiaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goyodiaz/subscriptions",
      "organizations_url": "https://api.github.com/users/goyodiaz/orgs",
      "repos_url": "https://api.github.com/users/goyodiaz/repos",
      "events_url": "https://api.github.com/users/goyodiaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goyodiaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-02T21:59:44Z",
    "updated_at": "2013-10-02T21:59:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "I guess I should link the PR: #5090\n"
  }
]
