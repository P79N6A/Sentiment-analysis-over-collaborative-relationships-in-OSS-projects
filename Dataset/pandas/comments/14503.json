[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/258914014",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14503#issuecomment-258914014",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14503",
    "id": 258914014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODkxNDAxNA==",
    "user": {
      "login": "chris-b1",
      "id": 1924092,
      "node_id": "MDQ6VXNlcjE5MjQwOTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1924092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-b1",
      "html_url": "https://github.com/chris-b1",
      "followers_url": "https://api.github.com/users/chris-b1/followers",
      "following_url": "https://api.github.com/users/chris-b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-b1/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-b1/orgs",
      "repos_url": "https://api.github.com/users/chris-b1/repos",
      "events_url": "https://api.github.com/users/chris-b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T18:07:43Z",
    "updated_at": "2016-11-07T18:07:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "If it matters, there would be at least a little performance to be picked up by modifying the parsing code - you could pass the categories in here:\n\nhttps://github.com/pandas-dev/pandas/blob/7a2bcb6605bacea858ec14cfac424898deb568b3/pandas/parser.pyx#L1523\n\nAnd shortcut building the categories array, sorting, etc.  It would also cause an error to be thrown much earlier if the data has a value not in the specified categories.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/259018455",
    "html_url": "https://github.com/pandas-dev/pandas/issues/14503#issuecomment-259018455",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/14503",
    "id": 259018455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTAxODQ1NQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T01:30:30Z",
    "updated_at": "2016-11-08T01:30:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I think you're right that it'd be better to do it in the Cython code.\nI was digging through there last week, and it shouldn't be to much extra\neffort.\n\nThough I guess we'll need to have an API discussion about what to do if the\nuser passes `dtype={'A': pd.Categorical(['a', 'b'])}` and a value outside\nthose shows up.\n1. Throw an exception\n2. Set to `NA`\n\nThe second option would be consistent with `set_categories`.\n\n``` python\nIn [1]: pd.Categorical(['a', 'b', 'c']).set_categories(['a', 'b'])\nOut[1]:\n[a, b, NaN]\nCategories (2, object): [a, b]\n```\n\nOn Mon, Nov 7, 2016 at 12:07 PM, chris-b1 notifications@github.com wrote:\n\n> If it matters, there would be at least a little performance to be picked\n> up by modifying the parsing code - you could pass the categories in here:\n> \n> https://github.com/pandas-dev/pandas/blob/7a2bcb6605bacea858\n> ec14cfac424898deb568b3/pandas/parser.pyx#L1523\n> \n> And shortcut building the categories array, sorting, etc. It would also\n> cause an error to be thrown much earlier if the data has a value not in the\n> specified categories.\n> \n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/pandas-dev/pandas/issues/14503#issuecomment-258914014,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/ABQHIhfXgauFpjZnATzCRINp34u9bofMks5q72jzgaJpZM4KhaAy\n> .\n"
  }
]
