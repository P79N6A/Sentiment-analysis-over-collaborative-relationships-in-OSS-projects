[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/196704577",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-196704577",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 196704577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NjcwNDU3Nw==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-15T07:41:46Z",
    "updated_at": "2016-03-15T07:41:46Z",
    "author_association": "MEMBER",
    "body": "Let me confirm the result of `map/apply` against categorical dtype. I think there are 3 options.\n1. Keep categorical dtype. If number of category is changed, raise error.\n2. Coerce to normal (`object`) dtype befoe `map/apply`\n3. Try 1st option, then 2nd option if catches error\n\nand current impl are as below and has inconsistencies. I think option #1 is preferable.\n\n### map (option 1)\n\nIt raises `AttributeError` on current master.\n\n```\ns = pd.Series([1, 2, 3], dtype='category')\ns.map(lambda x: x)\n# 0    1\n# 1    2\n# 2    3\n# dtype: category\n# Categories (3, int64): [1, 2, 3]\n```\n\n### apply (option 2)\n\nno changes from current master\n\n```\ns.apply(lambda x: x)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/196825847",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-196825847",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 196825847,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NjgyNTg0Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-15T13:49:28Z",
    "updated_at": "2016-03-15T13:49:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah I think if you can construct a `category` with exactly the same dtype (IOW, categories & ordered) then do it. Otherwise just coerce to `object`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/198931302",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-198931302",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 198931302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODkzMTMwMg==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-20T13:34:33Z",
    "updated_at": "2016-03-20T13:34:33Z",
    "author_association": "MEMBER",
    "body": "@jreback OK, both categorical `apply/map`  are fixed to return `category` if possible, otherwise coerce to appropriate dtype.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/207628871",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-207628871",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 207628871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzYyODg3MQ==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T22:18:04Z",
    "updated_at": "2016-04-08T22:18:04Z",
    "author_association": "MEMBER",
    "body": "@jreback Because #12798 relies on this, can we consider to merge this in prior to fixing whole `Index.map` API ( #12756)? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/207803600",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-207803600",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 207803600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzgwMzYwMA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-09T15:04:10Z",
    "updated_at": "2016-04-09T15:04:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "this looks fine. maybe we can come back and try to simplify logic even more w.r.t. the extension types. \n\nwe have lots of if/then's handing around extension/ndarrays. An idea (maybe not trivial), is to have an `Array` internally which is really an extension type that simply passes thru everything, then we can define all of the methods on this type (and just pass thru everything else), e.g. `map`, `.value_counts` etc. This gets into `libpandas` territory (well it actually makes it simplerI think) as everything would then have a uniform API (from pandas perspective). The implementation can then be different.\n\nBut that's for another day.\n\n@kawochen any comments on this code?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/211046975",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-211046975",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 211046975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTA0Njk3NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-17T15:55:37Z",
    "updated_at": "2016-04-17T15:55:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "this lgtm. pls rebase\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/211124268",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-211124268",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 211124268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTEyNDI2OA==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-17T22:23:51Z",
    "updated_at": "2016-04-17T22:23:51Z",
    "author_association": "MEMBER",
    "body": "Rebased and now green.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/211482734",
    "html_url": "https://github.com/pandas-dev/pandas/pull/12532#issuecomment-211482734",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12532",
    "id": 211482734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTQ4MjczNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-18T17:17:48Z",
    "updated_at": "2016-04-18T17:17:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "thanks!\n"
  }
]
