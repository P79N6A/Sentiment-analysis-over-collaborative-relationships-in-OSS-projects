[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/384098248",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20815#issuecomment-384098248",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20815",
    "id": 384098248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA5ODI0OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T22:19:58Z",
    "updated_at": "2018-04-24T22:19:58Z",
    "author_association": "MEMBER",
    "body": "Let's put the discussion here to not hide it in a review comment:\r\n\r\nSo I questioned what should happen when NAs are introduced (eg reindex) in ExtensionArray that has `_can_hold_na=False`.\r\nI suppose to raise an error? Or coerce to object?\r\n\r\nCurrently, in pandas we have ints, and they are upcasted to float. We also have a BoolBlock that cannot hold NaNs, so a boolean Series gets converted to object Series when NaNs are introduced:\r\n\r\n```\r\nIn [49]: pd.Series([True, False])\r\nOut[49]: \r\n0     True\r\n1    False\r\ndtype: bool\r\n\r\nIn [50]: pd.Series([True, False]).reindex([1, 2])\r\nOut[50]: \r\n1    False\r\n2      NaN\r\ndtype: object\r\n```\r\n\r\nSo this is some prior art. But it would also mean you loose your ExtensionArray/ExtensionDtype information.\r\n\r\nSo remark: if we currenlty don't have users of `_can_hold_na=False`, we should maybe consider removing the feature for now (meaning this will always be True) until somebody comes up with a good use case.\r\n\r\n@Dr-Irv : \r\n\r\n> Well, I've come full circle on this.  In my case, I thought that I would not want NA in my arrays. My objects stored in the arrays have no NA value that makes sense. And then when you brought up `reindex` as an example, I realized that I would use things like `shift` and would want the NA to be filled in, but keeping the `ExtensionArray` class as the holder, meaning that I need `_can_hold_na` as True.  I'd want `ExtensionArray` as holding it so that arithmetic would work, as coercing to an `object` array would mess up the arithmetic. So I'd have no problem if we dropped `_can_hold_na` from the `ExtensionArray` design, and tell people that they must define a _na_value(), which is then used as the \"fill in\" when we do things like `reindex` and `shift`.  And because there are pandas operations that need some NA value for fill in purposes, requiring it on `ExtensionArray` shouldn't be an issue (IMHO).\r\n>\r\n> If we agree that getting rid of `_can_hold_na` is the thing to do, I'll modify this PR to totally get rid of it (and the associated tests).\r\n\r\ncc @TomAugspurger @jreback \r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/384102601",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20815#issuecomment-384102601",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20815",
    "id": 384102601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDEwMjYwMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-24T22:41:26Z",
    "updated_at": "2018-04-24T22:41:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "i would not add API unless we have a need for it\r\nso yes would remove until / until is necessary "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/384343920",
    "html_url": "https://github.com/pandas-dev/pandas/pull/20815#issuecomment-384343920",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/20815",
    "id": 384343920,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDM0MzkyMA==",
    "user": {
      "login": "Dr-Irv",
      "id": 15113894,
      "node_id": "MDQ6VXNlcjE1MTEzODk0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/15113894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dr-Irv",
      "html_url": "https://github.com/Dr-Irv",
      "followers_url": "https://api.github.com/users/Dr-Irv/followers",
      "following_url": "https://api.github.com/users/Dr-Irv/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dr-Irv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dr-Irv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dr-Irv/subscriptions",
      "organizations_url": "https://api.github.com/users/Dr-Irv/orgs",
      "repos_url": "https://api.github.com/users/Dr-Irv/repos",
      "events_url": "https://api.github.com/users/Dr-Irv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dr-Irv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-25T16:11:33Z",
    "updated_at": "2018-04-25T16:11:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing due to new PR #20819 "
  }
]
