[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46036117",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46036117",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46036117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDM2MTE3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-13T17:10:28Z",
    "updated_at": "2014-06-13T17:14:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "You can do this (and its fully vectorized); would be much simpler if Index was mutable, but its not.\n\nthat said this could easily be inside `rollback` (and `rollforward`) to handle the month/year begin/end issues (where other offsets do't have)\n\n```\nIn [24]: x = (dates - offset).asi8.copy()\n\nIn [26]: x[dates.is_month_start] = dates.asi8[dates.is_month_start]\n\nIn [27]: pd.DatetimeIndex(x)\nOut[27]: \n<class 'pandas.tseries.index.DatetimeIndex'>\n[2000-01-01, ..., 2000-04-01]\nLength: 100, Freq: None, Timezone: None\n\nIn [28]: result = pd.Index([offset.rollback(d) for d in dates])\n\nIn [30]: pd.DatetimeIndex(x).equals(result)\nOut[30]: True\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46036643",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46036643",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46036643,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDM2NjQz",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-13T17:15:48Z",
    "updated_at": "2014-06-13T17:15:48Z",
    "author_association": "MEMBER",
    "body": "Very nice!\n\nWould it make sense to add a `DatetimeIndex.month_start` property to expose this more directly? From the docs it is not at all clear that this is possible.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46036972",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46036972",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46036972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDM2OTcy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-13T17:18:46Z",
    "updated_at": "2014-06-13T17:18:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "http://pandas.pydata.org/pandas-docs/stable/timeseries.html#time-date-components\n\nnew in 0.14.0 (its in enhnacments a little ways down)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46038170",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46038170",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46038170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDM4MTcw",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-13T17:30:33Z",
    "updated_at": "2014-06-13T17:30:33Z",
    "author_association": "MEMBER",
    "body": "I see that... I was wondering about `month_start` (returning another DatetimeIndex), not `is_month_start`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46039829",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46039829",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46039829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDM5ODI5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-13T17:45:38Z",
    "updated_at": "2014-06-13T17:45:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "thats tantamount to supporting `rollback` with the correct `month/year` adjustments if the index has that freq. I suppose adding accessors like `month_start` is not too hard then.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46065284",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46065284",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46065284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDY1Mjg0",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-13T22:08:14Z",
    "updated_at": "2014-06-13T22:08:14Z",
    "author_association": "MEMBER",
    "body": "Not identical, but I often want to apply an offset to a `dataframe` column values via `map`.\n\nIt may reasonable to `offset.apply` to accept `Index` and other list-like, because there are offsets not covered by accessors. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46078641",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46078641",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46078641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDc4NjQx",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-14T04:57:46Z",
    "updated_at": "2014-06-14T04:57:46Z",
    "author_association": "MEMBER",
    "body": "I read back over the datetime documentation today and realized that I missed an obvious solution for my use case: convert to periods with monthly frequency, then back to datetime.\n\nThis turns out to be much faster, too:\n\n``` python\ndef slow_month_start(dates):\n    offset = pd.tseries.offsets.MonthBegin() \n    x = (dates - offset).asi8.copy() \n    x[dates.is_month_start] = dates.asi8[dates.is_month_start] \n    return pd.DatetimeIndex(x) \n\ndef fast_month_start(dates):\n    return dates.to_period(freq='M').to_timestamp()\n```\n\n```\n>>> dates = pd.date_range('2000-01-01', periods=10000)\n>>> %timeit fast_month_start(dates)\n1000 loops, best of 3: 1.53 ms per loop\n>>> %timeit slow_month_start(dates)\n1 loops, best of 3: 269 ms per loop\n```\n\nSome profiling reveals that there actually is a Python loop involved when subtracting a DateOffset from a DatetimeIndex (`offset.apply` is called for each element). Still, it would be nice to support array-like arguments to offset.apply and offset.rollback and the like -- it seems natural.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/46078753",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7449#issuecomment-46078753",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7449",
    "id": 46078753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDc4NzUz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-14T05:06:43Z",
    "updated_at": "2014-06-14T05:06:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "ahh great\n\nmaybe add an example to timeseries.rst and/ cookbook?\n\nthe apply method in offsets is currently all python code for its flexibility - but could be cythonized in some. cases\n"
  }
]
