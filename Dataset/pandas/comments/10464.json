[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116257580",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-116257580",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 116257580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjI1NzU4MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-28T11:05:38Z",
    "updated_at": "2015-06-28T11:05:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "get_values is fine \nin fact this is the point of it \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116259518",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-116259518",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 116259518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjI1OTUxOA==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-28T11:13:35Z",
    "updated_at": "2015-06-28T11:13:35Z",
    "author_association": "MEMBER",
    "body": "Thanks. Another point I forgot to refer is below case results in `object` dtype. Should it be `category`?\n\n```\na = Series([1, 2, 3, 4])\nb = Series([\"even\", \"odd\", \"even\", \"odd\"], dtype=\"category\")\na.map(b)\n# 0     odd\n# 1    even\n# 2     odd\n# 3     NaN\n# dtype: object\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116276767",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-116276767",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 116276767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjI3Njc2Nw==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-28T13:21:44Z",
    "updated_at": "2015-06-28T13:21:44Z",
    "author_association": "MEMBER",
    "body": "Applied a fix to `common.take_nd`. I will add more tests later.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116629818",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-116629818",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 116629818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjYyOTgxOA==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-29T12:07:45Z",
    "updated_at": "2015-06-29T12:07:45Z",
    "author_association": "MEMBER",
    "body": "BTW, I've noticed `Categorical` has its own `take_nd`. I think we can use this, but it raises `IndexError` for non-existing key.\n\n```\nimport pandas as pd\nc = pd.Categorical(['A', 'B', 'A', 'A'])\nc.take_nd([2, 1])\n# [A, B]\n# Categories (2, object): [A, B]\n\nc.take_nd([2, 1, 4])\n# IndexError: Out of bounds on buffer access (axis 0)\n```\n\nSo another point of the original issue is the behavior when the mapped category doesn't contain all the mappings. Should raise or padding with np.nan (create a new category implicitly)?\n\n```\n# this should work because all values are mapped to existing categories\npd.Series([0, 1, 2, 3]).map(pd.Series([\"even\", \"odd\", \"even\", \"odd\"], dtype=\"category\"))\n# 0    even\n# 1     odd\n# 2    even\n# 3     odd\n# dtype: category \n\npd.Series([1, 2, 3, 4]).map(pd.Series([\"even\", \"odd\", \"even\", \"odd\"], dtype=\"category\"))\n# raise or padding with np.nan?\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116630724",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-116630724",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 116630724,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjYzMDcyNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-29T12:13:32Z",
    "updated_at": "2015-06-29T12:13:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "These should be the same as a post-convert to category\nThe nans are NOT part of the categorical, rather missing in the Series themselves.\n\n```\nIn [5]: a = pd.Series([0, 1, 2, 3]).map(pd.Series([\"even\", \"odd\", \"even\", \"odd\"]))                   \n\nIn [6]: b = pd.Series([1, 2, 3, 4]).map(pd.Series([\"even\", \"odd\", \"even\", \"odd\"]))\n\nIn [7]: a.astype('category')\nOut[7]: \n0    even\n1     odd\n2    even\n3     odd\ndtype: category\nCategories (2, object): [even, odd]\n\nIn [8]: b.astype('category')\nOut[8]: \n0     odd\n1    even\n2     odd\n3     NaN\ndtype: category\nCategories (2, object): [even, odd]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/116642729",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-116642729",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 116642729,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjY0MjcyOQ==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-29T12:41:04Z",
    "updated_at": "2015-06-29T12:41:04Z",
    "author_association": "MEMBER",
    "body": "I see. Then, current impl works as expected. I'll consider if it can be better.\n\n```\nb = pd.Series([1, 2, 3, 4]).map(pd.Series([\"even\", \"odd\", \"even\", \"odd\"], dtype='category'))\nb\n# 0     odd\n# 1    even\n# 2     odd\n# 3     NaN\n# dtype: category\n# Categories (2, object): [even, odd]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/117676326",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-117676326",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 117676326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzY3NjMyNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-01T13:29:31Z",
    "updated_at": "2015-07-01T13:29:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "looks good. go ahead and merge when green.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/117681380",
    "html_url": "https://github.com/pandas-dev/pandas/pull/10464#issuecomment-117681380",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10464",
    "id": 117681380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzY4MTM4MA==",
    "user": {
      "login": "sinhrks",
      "id": 1696302,
      "node_id": "MDQ6VXNlcjE2OTYzMDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1696302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sinhrks",
      "html_url": "https://github.com/sinhrks",
      "followers_url": "https://api.github.com/users/sinhrks/followers",
      "following_url": "https://api.github.com/users/sinhrks/following{/other_user}",
      "gists_url": "https://api.github.com/users/sinhrks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sinhrks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sinhrks/subscriptions",
      "organizations_url": "https://api.github.com/users/sinhrks/orgs",
      "repos_url": "https://api.github.com/users/sinhrks/repos",
      "events_url": "https://api.github.com/users/sinhrks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sinhrks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-01T13:46:03Z",
    "updated_at": "2015-07-01T13:46:03Z",
    "author_association": "MEMBER",
    "body": "@jreback Thanks for review. Merging.\n"
  }
]
