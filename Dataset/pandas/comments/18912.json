[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353744176",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18912#issuecomment-353744176",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18912",
    "id": 353744176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc0NDE3Ng==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T19:36:09Z",
    "updated_at": "2017-12-23T19:36:09Z",
    "author_association": "MEMBER",
    "body": "Although you can write json using ``orient=records`` it is not a documented value for ``read_json`` (see [the docs](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_json.html)) and I don't see anywhere in the code that currently allows for this.\r\n\r\nWill let others chime in but right now I think this would need to be an enhancement\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353748884",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18912#issuecomment-353748884",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18912",
    "id": 353748884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc0ODg4NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T21:21:07Z",
    "updated_at": "2017-12-23T21:21:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "FYI don't use ``pd`` as a variable name, when the common import for ``pandas is pd``\r\n```\r\nIn [26]: df = pd.DataFrame([[\"Arr\",\"alpha\", [1,2,3,4]],[\"Bee\", \"Beta\", [10,20,30,40]]], index = [[\"A\", \"B\"], [\"Null\", \"Eins\"]], columns = [\"Aussprache\", \"Griechisch\", \"Args\"])\r\n\r\nIn [27]: df\r\nOut[27]: \r\n       Aussprache Griechisch              Args\r\nA Null        Arr      alpha      [1, 2, 3, 4]\r\nB Eins        Bee       Beta  [10, 20, 30, 40]\r\n```\r\n\r\nI don't we have any guarantees when you embed lists *inside* a field and try to export to json. Further I don't think ``orient='table'`` is actually reversible."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353748944",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18912#issuecomment-353748944",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18912",
    "id": 353748944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc0ODk0NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T21:22:13Z",
    "updated_at": "2017-12-23T21:22:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "``records`` works just fine here.\r\n\r\n```\r\nIn [34]: pd.read_json(df.to_json(orient='records'), orient='records')\r\nOut[34]: \r\n               Args Aussprache Griechisch\r\n0      [1, 2, 3, 4]        Arr      alpha\r\n1  [10, 20, 30, 40]        Bee       Beta\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353748956",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18912#issuecomment-353748956",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18912",
    "id": 353748956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc0ODk1Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T21:22:25Z",
    "updated_at": "2017-12-23T21:22:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @TomAugspurger "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/353802459",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18912#issuecomment-353802459",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18912",
    "id": 353802459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzgwMjQ1OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-24T20:44:44Z",
    "updated_at": "2017-12-24T20:44:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "`orient='table'` isn't a valid reader. That should raise for now, until it's implemented."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354430046",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18912#issuecomment-354430046",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18912",
    "id": 354430046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQzMDA0Ng==",
    "user": {
      "login": "floli",
      "id": 1028028,
      "node_id": "MDQ6VXNlcjEwMjgwMjg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1028028?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/floli",
      "html_url": "https://github.com/floli",
      "followers_url": "https://api.github.com/users/floli/followers",
      "following_url": "https://api.github.com/users/floli/following{/other_user}",
      "gists_url": "https://api.github.com/users/floli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/floli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/floli/subscriptions",
      "organizations_url": "https://api.github.com/users/floli/orgs",
      "repos_url": "https://api.github.com/users/floli/repos",
      "events_url": "https://api.github.com/users/floli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/floli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T10:46:42Z",
    "updated_at": "2017-12-29T10:46:42Z",
    "author_association": "NONE",
    "body": "I tried all the documented values for orient that are supported by both read_json and to_json using:\r\n```\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame([[\"Arr\",\"alpha\", [1,2,3,4]],[\"Bee\", \"Beta\", [10,20,30,40]]], index = [[\"A\", \"B\"], [\"Null\", \"Eins\"]], columns = [\"Aussprache\", \"Griechisch\", \"Args\"])\r\nprint(df)\r\n\r\norient = \"split\"\r\ndf.to_json(\"test.json\", orient = orient)\r\ndf = pd.read_json(\"test.json\", orient = orient)\r\nprint(df)\r\n```\r\norient = \"split\"\r\n---\r\n```\r\n           Aussprache Griechisch              Args\r\nA Null        Arr      alpha      [1, 2, 3, 4]\r\nB Eins        Bee       Beta  [10, 20, 30, 40]\r\n\r\n          Aussprache Griechisch              Args\r\nA    B           Arr      alpha      [1, 2, 3, 4]\r\nNull Eins        Bee       Beta  [10, 20, 30, 40]\r\n```\r\nThat even seems to change the semantics and mixes up the index.\r\n\r\norient = \"records\"\r\n---\r\n```\r\n           Aussprache Griechisch              Args\r\nA Null        Arr      alpha      [1, 2, 3, 4]\r\nB Eins        Bee       Beta  [10, 20, 30, 40]\r\n\r\n               Args Aussprache Griechisch\r\n0      [1, 2, 3, 4]        Arr      alpha\r\n1  [10, 20, 30, 40]        Bee       Beta\r\n```\r\nThat completely looses the index.\r\n\r\norient = \"index\"\r\n---\r\nProduces that traceback for me:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/florian/scratch/pandas-import.py\", line 8, in <module>\r\n    df = pd.read_json(\"test.json\", orient = orient)\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 366, in read_json\r\n    return json_reader.read()\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 465, in read\r\n    obj = self._get_object_parser(self.data)\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 482, in _get_object_parser\r\n    obj = FrameParser(json, **kwargs).parse()\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 574, in parse\r\n    self._parse_no_numpy()\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 801, in _parse_no_numpy\r\n    loads(json, precise_float=self.precise_float), dtype=None).T\r\nValueError: No ':' found when decoding object value\r\n```\r\norient = \"columns\"\r\n---\r\nAlso produces that traceback for me:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/florian/scratch/pandas-import.py\", line 8, in <module>\r\n    df = pd.read_json(\"test.json\", orient = orient)\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 366, in read_json\r\n    return json_reader.read()\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 465, in read\r\n    obj = self._get_object_parser(self.data)\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 482, in _get_object_parser\r\n    obj = FrameParser(json, **kwargs).parse()\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 574, in parse\r\n    self._parse_no_numpy()\r\n  File \"/usr/lib/python3.6/site-packages/pandas/io/json/json.py\", line 791, in _parse_no_numpy\r\n    loads(json, precise_float=self.precise_float), dtype=None)\r\nValueError: No ':' found when decoding object value\r\n```\r\n\r\norient = \"values\"\r\n---\r\n```\r\n>>>        Aussprache Griechisch              Args\r\nA Null        Arr      alpha      [1, 2, 3, 4]\r\nB Eins        Bee       Beta  [10, 20, 30, 40]\r\n     0      1                 2\r\n0  Arr  alpha      [1, 2, 3, 4]\r\n1  Bee   Beta  [10, 20, 30, 40]\r\n```\r\nDoesn't loose information, but you have to manually set the index columns.\r\n\r\nSo it seems there is no possibility to write and read from json and completely recover the data frame."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/354435783",
    "html_url": "https://github.com/pandas-dev/pandas/issues/18912#issuecomment-354435783",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/18912",
    "id": 354435783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQzNTc4Mw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T11:43:29Z",
    "updated_at": "2017-12-29T11:43:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@floli thanks for the summary.\r\n\r\nThe goal is for `orient='table'` to be the roundtripable format (https://github.com/pandas-dev/pandas/issues/9146). You need metadata like the dtypes, names, set of categories, etc. when writing. But no one has implemented the reader yet. Are you interested in working on that?"
  }
]
