[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319396355",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17145#issuecomment-319396355",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17145",
    "id": 319396355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTM5NjM1NQ==",
    "user": {
      "login": "Denisevi4",
      "id": 7340857,
      "node_id": "MDQ6VXNlcjczNDA4NTc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7340857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Denisevi4",
      "html_url": "https://github.com/Denisevi4",
      "followers_url": "https://api.github.com/users/Denisevi4/followers",
      "following_url": "https://api.github.com/users/Denisevi4/following{/other_user}",
      "gists_url": "https://api.github.com/users/Denisevi4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Denisevi4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Denisevi4/subscriptions",
      "organizations_url": "https://api.github.com/users/Denisevi4/orgs",
      "repos_url": "https://api.github.com/users/Denisevi4/repos",
      "events_url": "https://api.github.com/users/Denisevi4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Denisevi4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T14:58:44Z",
    "updated_at": "2017-08-01T14:58:44Z",
    "author_association": "NONE",
    "body": "#14307 "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319407968",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17145#issuecomment-319407968",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17145",
    "id": 319407968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQwNzk2OA==",
    "user": {
      "login": "Denisevi4",
      "id": 7340857,
      "node_id": "MDQ6VXNlcjczNDA4NTc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7340857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Denisevi4",
      "html_url": "https://github.com/Denisevi4",
      "followers_url": "https://api.github.com/users/Denisevi4/followers",
      "following_url": "https://api.github.com/users/Denisevi4/following{/other_user}",
      "gists_url": "https://api.github.com/users/Denisevi4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Denisevi4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Denisevi4/subscriptions",
      "organizations_url": "https://api.github.com/users/Denisevi4/orgs",
      "repos_url": "https://api.github.com/users/Denisevi4/repos",
      "events_url": "https://api.github.com/users/Denisevi4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Denisevi4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T15:35:26Z",
    "updated_at": "2017-08-01T15:35:26Z",
    "author_association": "NONE",
    "body": "This issue is specific to DateTimeIndex that is time-aware.\r\nIf I add line:\r\nindex = index.tz_convert(None)\r\n\r\nthat converts it to time-unaware DateTimeIndex\r\n\r\nThen there is no problem"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319414001",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17145#issuecomment-319414001",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17145",
    "id": 319414001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQxNDAwMQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T15:55:38Z",
    "updated_at": "2017-08-01T15:55:38Z",
    "author_association": "MEMBER",
    "body": "> And I posted a reproducible example on StackOverflow here:\r\n\r\nDo you mind putting the SO example in the issue?  It will be a little easier for people to see what's going on without having to navigate to SO."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319417796",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17145#issuecomment-319417796",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17145",
    "id": 319417796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQxNzc5Ng==",
    "user": {
      "login": "Denisevi4",
      "id": 7340857,
      "node_id": "MDQ6VXNlcjczNDA4NTc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7340857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Denisevi4",
      "html_url": "https://github.com/Denisevi4",
      "followers_url": "https://api.github.com/users/Denisevi4/followers",
      "following_url": "https://api.github.com/users/Denisevi4/following{/other_user}",
      "gists_url": "https://api.github.com/users/Denisevi4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Denisevi4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Denisevi4/subscriptions",
      "organizations_url": "https://api.github.com/users/Denisevi4/orgs",
      "repos_url": "https://api.github.com/users/Denisevi4/repos",
      "events_url": "https://api.github.com/users/Denisevi4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Denisevi4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T16:08:38Z",
    "updated_at": "2017-08-01T16:08:38Z",
    "author_association": "NONE",
    "body": "I'm using Anaconda Python: 3.4.5 and 2.7.3. Both are using pandas 0.18.1.\r\n\r\nHere is a reproducible example:\r\n\r\ngenerate.py (to be executed with Python2):\r\n\r\n`import pandas as pd\r\nfrom pandas import HDFStore\r\n\r\nindex = pd.DatetimeIndex(['2017-06-20 06:00:06.984630-05:00', '2017-06-20 06:03:01.042616-05:00'], dtype='datetime64[ns, CST6CDT]', freq=None)\r\n\r\np1 = [0, 1]\r\np2 = [0, 2]\r\n\r\ndf1 = pd.DataFrame({\"p1\":p1, \"p2\":p2}, index=index)\r\ndf2 = pd.DataFrame({\"p1\":p1, \"p2\":p2, \"i\":index})\r\n\r\nstore = HDFStore(\"./test_issue.h5\")\r\nstore['df'] = df1\r\nstore.close()\r\n`\r\n\r\nread_issue.py:\r\n`import pandas as pd\r\nfrom pandas import HDFStore\r\n\r\nstore = HDFStore(\"./test_issue.h5\", mode=\"r\")\r\ndf = store['/df']\r\n\r\nstore.close()\r\nprint(df)\r\n`\r\nRunning read_issue.py in Python2 has no issues\r\nBut running it in Python3 produces Error with this traceback:\r\n\r\n> Traceback (most recent call last): File \"read_issue.py\", line 5, in df = store['df'] File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 417, in getitem return self.get(key) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 634, in get return self._read_group(group) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 1272, in _read_group return s.read(**kwargs) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 2779, in read ax = self.read_index('axis%d' % i) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 2367, in read_index _, index = self.read_index_node(getattr(self.group, key)) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 2492, in read_index_node _unconvert_index(data, kind, encoding=self.encoding), **kwargs) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/indexes/base.py\", line 153, in new result = DatetimeIndex(data, copy=copy, name=name, **kwargs) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/util/decorators.py\", line 91, in wrapper return func(*args, **kwargs) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/tseries/index.py\", line 321, in new raise TypeError(\"Already tz-aware, use tz_convert \" TypeError: Already tz-aware, use tz_convert to convert. Closing remaining open files:./test_issue.h5...done\r\n\r\nSo, there is an issue with indices. However, if you save df2 in generate.py (datetime as a column, not as an index), then Python3 in read_issue.py produces a different error:\r\n\r\n> Traceback (most recent call last): File \"read_issue.py\", line 5, in df = store['/df'] File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 417, in getitem return self.get(key) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 634, in get return self._read_group(group) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 1272, in _read_group return s.read(**kwargs) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/io/pytables.py\", line 2788, in read placement=items.get_indexer(blk_items)) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/core/internals.py\", line 2518, in make_block return klass(values, ndim=ndim, fastpath=fastpath, placement=placement) File \"/home/denper/anaconda3/envs/py34/lib/python3.4/site-packages/pandas/core/internals.py\", line 90, in init len(self.mgr_locs))) ValueError: Wrong number of items passed 2, placement implies 1 Closing remaining open files:./test_issue.h5...done\r\n\r\nAlso, if you execute generate_issue.py in Python3 (saving either df1 or df2), then there is no problem executing read_issue.py in either Python3 or Python2"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/319420110",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17145#issuecomment-319420110",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17145",
    "id": 319420110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQyMDExMA==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T16:16:33Z",
    "updated_at": "2017-08-01T16:16:33Z",
    "author_association": "MEMBER",
    "body": "@Denisevi4 : Thanks info!  Could you copy and paste that info into the issue description?  That way it shows up immediately when we open the issue.\r\n\r\nAlso, it appears that you are using an old version of `pandas`.  Can you try upgrading to `0.20.3` to see whether that fixes your issue?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/400287928",
    "html_url": "https://github.com/pandas-dev/pandas/issues/17145#issuecomment-400287928",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/17145",
    "id": 400287928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDI4NzkyOA==",
    "user": {
      "login": "rajanski",
      "id": 5739684,
      "node_id": "MDQ6VXNlcjU3Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5739684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rajanski",
      "html_url": "https://github.com/rajanski",
      "followers_url": "https://api.github.com/users/rajanski/followers",
      "following_url": "https://api.github.com/users/rajanski/following{/other_user}",
      "gists_url": "https://api.github.com/users/rajanski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rajanski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rajanski/subscriptions",
      "organizations_url": "https://api.github.com/users/rajanski/orgs",
      "repos_url": "https://api.github.com/users/rajanski/repos",
      "events_url": "https://api.github.com/users/rajanski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rajanski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-26T12:23:22Z",
    "updated_at": "2018-06-26T12:23:22Z",
    "author_association": "NONE",
    "body": "I experience the same issue. Upgrading to pandas 0.20.3 did not help"
  }
]
