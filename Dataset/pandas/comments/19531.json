[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362902084",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362902084",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362902084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkwMjA4NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T12:10:21Z",
    "updated_at": "2018-02-04T12:10:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/MacPython/pandas-wheels\r\n\r\nis our repo for building \r\n\r\nprob need to patch the upstream one though (which is where most of the actual building code is)\r\n "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362906086",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362906086",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362906086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkwNjA4Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T13:17:39Z",
    "updated_at": "2018-02-04T13:17:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/matthew-brett/multibuild is the upstream repo."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362911452",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362911452",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362911452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkxMTQ1Mg==",
    "user": {
      "login": "xhochy",
      "id": 70274,
      "node_id": "MDQ6VXNlcjcwMjc0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/70274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xhochy",
      "html_url": "https://github.com/xhochy",
      "followers_url": "https://api.github.com/users/xhochy/followers",
      "following_url": "https://api.github.com/users/xhochy/following{/other_user}",
      "gists_url": "https://api.github.com/users/xhochy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xhochy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xhochy/subscriptions",
      "organizations_url": "https://api.github.com/users/xhochy/orgs",
      "repos_url": "https://api.github.com/users/xhochy/repos",
      "events_url": "https://api.github.com/users/xhochy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xhochy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T14:41:31Z",
    "updated_at": "2018-02-04T14:41:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Small size update with `gcc-5` (currently working on setting up a fork of a the release builds). Here are the sizes for different configurations (first the unpacked wheel content, then the wheel itself).\r\n\r\nDefault build options:\r\n\r\n```\r\n104M    pandas\r\n27M     pandas-0.23.0.dev0+218.g3f3b4e0-cp36-cp36m-linux_x86_64.whl\r\n```\r\n\r\n`C{,XX}FLAGS='-Wl,-strip-all'`\r\n\r\n```\r\n44M     pandas\r\n11M     pandas-0.23.0.dev0+218.g3f3b4e0-cp36-cp36m-linux_x86_64.whl\r\n```\r\n\r\n`C{,XX}FLAGS='-flto'`\r\n\r\n```\r\n46M     pandas\r\n12M     pandas-0.23.0.dev0+218.g3f3b4e0-cp36-cp36m-linux_x86_64.whl\r\n```\r\n\r\n`C{,XX}FLAGS='-Wl,-strip-all' -flto`\r\n\r\n```\r\n44M     pandas\r\n11M     pandas-0.23.0.dev0+218.g3f3b4e0-cp36-cp36m-linux_x86_64.whl\r\n```\r\n\r\nSize-wise, the important option is `-Wl,-strip-all'`. Link-time optimisation only shrinks down the non-stripped wheel but does not make a difference on the stripped version. As LTO might also improve performance, I'm going to check if all tests pass and if there is a noticable difference in the benchmarks. Otherwise, I would only add `-Wl,-strip-all'` to the current build flags."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362914720",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362914720",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362914720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkxNDcyMA==",
    "user": {
      "login": "xhochy",
      "id": 70274,
      "node_id": "MDQ6VXNlcjcwMjc0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/70274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xhochy",
      "html_url": "https://github.com/xhochy",
      "followers_url": "https://api.github.com/users/xhochy/followers",
      "following_url": "https://api.github.com/users/xhochy/following{/other_user}",
      "gists_url": "https://api.github.com/users/xhochy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xhochy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xhochy/subscriptions",
      "organizations_url": "https://api.github.com/users/xhochy/orgs",
      "repos_url": "https://api.github.com/users/xhochy/repos",
      "events_url": "https://api.github.com/users/xhochy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xhochy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T15:27:04Z",
    "updated_at": "2018-02-04T15:27:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "The release build job using `-Wl,-strip-all` also passed: https://travis-ci.org/xhochy/pandas-wheels/builds/337220847 and the resulting wheel had the expected size of 11M instead of the currently uploaded 23M. The necessary change was: https://github.com/xhochy/multibuild/commit/453308deaf6e045ef437d413f8791ec297fcc60d\r\n\r\nAs a PR to multibuild would also affect other packages and there have been issues in the past  (https://github.com/pypa/manylinux/issues/119, should be resolved with using the latest multibuild commit and manylinux1 image), I'm going to check if the changes works for a number of other packages."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362917480",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362917480",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362917480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkxNzQ4MA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T15:57:20Z",
    "updated_at": "2018-02-04T15:57:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@xhochy are these changes that should be in our compilation steps or only the wheel building steps? (or both)?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362919150",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362919150",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362919150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkxOTE1MA==",
    "user": {
      "login": "xhochy",
      "id": 70274,
      "node_id": "MDQ6VXNlcjcwMjc0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/70274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xhochy",
      "html_url": "https://github.com/xhochy",
      "followers_url": "https://api.github.com/users/xhochy/followers",
      "following_url": "https://api.github.com/users/xhochy/following{/other_user}",
      "gists_url": "https://api.github.com/users/xhochy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xhochy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xhochy/subscriptions",
      "organizations_url": "https://api.github.com/users/xhochy/orgs",
      "repos_url": "https://api.github.com/users/xhochy/repos",
      "events_url": "https://api.github.com/users/xhochy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xhochy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T16:20:19Z",
    "updated_at": "2018-02-04T16:20:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "`-Wl,-strip-all` should only be in the wheel building. Wheres `-flto` might be beneficial in general but that first needs to show any advantage."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362921223",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362921223",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362921223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkyMTIyMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T16:50:29Z",
    "updated_at": "2018-02-04T16:50:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u open an issue against pandas wheels then?\r\nand link the multi build hash"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/362921323",
    "html_url": "https://github.com/pandas-dev/pandas/issues/19531#issuecomment-362921323",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/19531",
    "id": 362921323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjkyMTMyMw==",
    "user": {
      "login": "xhochy",
      "id": 70274,
      "node_id": "MDQ6VXNlcjcwMjc0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/70274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xhochy",
      "html_url": "https://github.com/xhochy",
      "followers_url": "https://api.github.com/users/xhochy/followers",
      "following_url": "https://api.github.com/users/xhochy/following{/other_user}",
      "gists_url": "https://api.github.com/users/xhochy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xhochy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xhochy/subscriptions",
      "organizations_url": "https://api.github.com/users/xhochy/orgs",
      "repos_url": "https://api.github.com/users/xhochy/repos",
      "events_url": "https://api.github.com/users/xhochy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xhochy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-04T16:51:59Z",
    "updated_at": "2018-02-04T16:51:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback will do once verified that it works with other packages."
  }
]
