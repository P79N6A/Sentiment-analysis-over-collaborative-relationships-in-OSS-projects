[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/307222728",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16626#issuecomment-307222728",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16626",
    "id": 307222728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzIyMjcyOA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-08T20:47:20Z",
    "updated_at": "2017-06-08T20:47:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "> the columns attribute of the resulting dataframe does not match the dateframe column names (this appears to be a bug)\r\n\r\nIf you look at `df4.columns`, you'll notice that `'d'` is present:\r\n\r\n```python\r\nIn [65]: df4.columns.levels[1]\r\nOut[65]: Index(['c', 'a', 'd'], dtype='object')\r\n```\r\n\r\nGoing back to your first point, that there are no `NaN` columns in the output, that's because there are no `labels` for that `level` (notice that there aren't any `2`s in your `Out[14]`. If you want similar behavior, you'd have to reindex on both levels\r\n\r\n```python\r\nIn [77]: df3.reindex(columns=[('x', 'a'), ('x', 'd')])\r\nOut[77]:\r\n   x\r\n   a   d\r\n0  2 NaN\r\n1  9 NaN\r\n2  8 NaN\r\n3  7 NaN\r\n\r\nIn [78]: df3.reindex(columns=[('x', 'a'), ('x', 'd')]).columns\r\nOut[78]:\r\nMultiIndex(levels=[['x'], ['a', 'd']],\r\n           labels=[[0, 0], [0, 1]])\r\n```\r\n\r\nMake sense?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/307357759",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16626#issuecomment-307357759",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16626",
    "id": 307357759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzM1Nzc1OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-09T10:46:25Z",
    "updated_at": "2017-06-09T10:46:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "duplicate of this issue: https://github.com/pandas-dev/pandas/issues/12319.\r\n\r\nThis ATM is a deliberate choice. Feel free to comment on the other issue."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/307592052",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16626#issuecomment-307592052",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16626",
    "id": 307592052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU5MjA1Mg==",
    "user": {
      "login": "dfolch",
      "id": 1322332,
      "node_id": "MDQ6VXNlcjEzMjIzMzI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1322332?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dfolch",
      "html_url": "https://github.com/dfolch",
      "followers_url": "https://api.github.com/users/dfolch/followers",
      "following_url": "https://api.github.com/users/dfolch/following{/other_user}",
      "gists_url": "https://api.github.com/users/dfolch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dfolch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dfolch/subscriptions",
      "organizations_url": "https://api.github.com/users/dfolch/orgs",
      "repos_url": "https://api.github.com/users/dfolch/repos",
      "events_url": "https://api.github.com/users/dfolch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dfolch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-10T21:44:52Z",
    "updated_at": "2017-06-10T21:44:52Z",
    "author_association": "NONE",
    "body": "The `NaN` column issue is tricky for sure. Not everyone wants the same lower level columns under _every_ higher level column. \r\n\r\nThe `columns` attribute still seems a little weird since it can contain column names that are not in the dataframe. In my use case I did a lot of manipulations to a dataframe, and then wanted to see which columns names remained. Below is my solution: \r\n```python\r\nIn [62]: ci2 = pd.MultiIndex.from_tuples([('x','a'),('y','a'),('x','b'),('y','b'),('x','c')])\r\n\r\nIn [63]: df5 = pd.DataFrame(np.random.randint(0,10,(4,5)), columns=ci2)  \r\n\r\nIn [64]: df6 = df5.drop(('x','c'), axis=1)\r\n\r\nIn [65]: df6\r\nOut[65]: \r\n   x  y  x  y\r\n   a  a  b  b\r\n0  0  0  8  4\r\n1  7  2  0  4\r\n2  4  2  2  8\r\n3  6  1  7  5\r\n\r\nIn [66]: df6.columns\r\nOut[66]: \r\nMultiIndex(levels=[[u'x', u'y'], [u'a', u'b', u'c']],\r\n           labels=[[0, 1, 0, 1], [0, 0, 1, 1]])\r\n\r\nIn [67]: df6.columns.levels[1][pd.unique(df6.columns.labels[1])]\r\nOut[67]: Index([u'a', u'b'], dtype='object')\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/307594223",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16626#issuecomment-307594223",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16626",
    "id": 307594223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU5NDIyMw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-10T22:37:42Z",
    "updated_at": "2017-06-10T22:37:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is defined behavior on how s MultiIndex works\r\nyou can see http://pandas.pydata.org/pandas-docs/stable/advanced.html#defined-levels if you think remove_unused_levels"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/307638211",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16626#issuecomment-307638211",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16626",
    "id": 307638211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzYzODIxMQ==",
    "user": {
      "login": "dfolch",
      "id": 1322332,
      "node_id": "MDQ6VXNlcjEzMjIzMzI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1322332?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dfolch",
      "html_url": "https://github.com/dfolch",
      "followers_url": "https://api.github.com/users/dfolch/followers",
      "following_url": "https://api.github.com/users/dfolch/following{/other_user}",
      "gists_url": "https://api.github.com/users/dfolch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dfolch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dfolch/subscriptions",
      "organizations_url": "https://api.github.com/users/dfolch/orgs",
      "repos_url": "https://api.github.com/users/dfolch/repos",
      "events_url": "https://api.github.com/users/dfolch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dfolch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-11T15:53:48Z",
    "updated_at": "2017-06-11T15:53:48Z",
    "author_association": "NONE",
    "body": "I see now that there was a debate on this in #2770. `remove_unused_levels` is exactly what I needed. Thanks for implementing that @jreback."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/307639042",
    "html_url": "https://github.com/pandas-dev/pandas/issues/16626#issuecomment-307639042",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/16626",
    "id": 307639042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzYzOTA0Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-11T16:07:51Z",
    "updated_at": "2017-06-11T16:07:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dfolch great!\r\n\r\nyeah its *not* automatic, but at least possible now (in an easy way)."
  }
]
