[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238568547",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13950#issuecomment-238568547",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13950",
    "id": 238568547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODU2ODU0Nw==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T14:22:09Z",
    "updated_at": "2016-08-09T14:22:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this comes down to pandas aligning by row labels before updating.\n\n``` python\nIn [7]: values = pd.DataFrame({'a': [4, 5], 'b': [9, 10]}, index=[3, 4])\n\nIn [8]: values\nOut[8]:\n   a   b\n3  4   9\n4  5  10\n\nIn [9]: a.iloc[0:2] = values\n\nIn [10]: a\nOut[10]:\n     a     b\n0  NaN   NaN\n1  NaN   NaN\n2  3.0   8.0\n3  4.0   9.0\n4  5.0  10.0\n```\n\nHere's the alignment\n\n``` python\nIn [28]: l, r = a.iloc[0:2].align(values)\n\nIn [29]: l\nOut[29]:\n     a    b\n0  1.0  6.0\n1  2.0  7.0\n3  NaN  NaN\n4  NaN  NaN\n\nIn [30]: r\nOut[30]:\n      a      b\n0   NaN    NaN\n1   NaN    NaN\n3  40.0   90.0\n```\n\nSo you can see where the NaNs come in.\n\nWhat you probably want is\n\n``` python\nIn [33]: a = pd.DataFrame({\"a\": [1, 2, 3, 4, 5], \"b\": [6, 7, 8, 9, 10]})\n\nIn [34]: values = pd.DataFrame({'a': [4, 5], 'b': [9, 10]}, index=[3, 4])\n\nIn [35]: a.iloc[0:2] = np.asarray(values)  # drops the row & column labels\n\nIn [36]: a\nOut[36]:\n   a   b\n0  4   9\n1  5  10\n2  3   8\n3  4   9\n4  5  10\n```\n\nI belive aligning is indented for `.iloc`, but I'll let Jeff or someone more knowledgeable chime in.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238823441",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13950#issuecomment-238823441",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13950",
    "id": 238823441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODgyMzQ0MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-10T10:08:17Z",
    "updated_at": "2016-08-10T10:08:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "The is as-expected. pandas by definition will align on assignment. Doesn't matter _how_ you select the values. If you _don't_ want to align, then you can pass a same shaped non-pandas object.\n\n```\nIn [9]: a.iloc[0:2,:] = a.iloc[3:5, :].values\nOut[9]: \n   a   b\n0  4   9\n1  5  10\n2  3   8\n3  4   9\n4  5  10\n```\n\nThe docs were updated w.r.t. to a very similar issue [here](https://github.com/pydata/pandas/pull/13060/files), and appears [here](http://pandas-docs.github.io/pandas-docs-travis/indexing.html#basics)\n\nI suppose an additional doc note could be added, maybe as a separate sub-section, maybe after [here](http://pandas-docs.github.io/pandas-docs-travis/indexing.html#basics). Or as a note.\n\nSo will repurpose this issue.\n"
  }
]
