[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/404668439",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21882#issuecomment-404668439",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21882",
    "id": 404668439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDY2ODQzOQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-12T22:18:44Z",
    "updated_at": "2018-07-12T22:18:44Z",
    "author_association": "MEMBER",
    "body": "Can you try on master?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/404695563",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21882#issuecomment-404695563",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21882",
    "id": 404695563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDY5NTU2Mw==",
    "user": {
      "login": "phobson",
      "id": 1163939,
      "node_id": "MDQ6VXNlcjExNjM5Mzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1163939?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phobson",
      "html_url": "https://github.com/phobson",
      "followers_url": "https://api.github.com/users/phobson/followers",
      "following_url": "https://api.github.com/users/phobson/following{/other_user}",
      "gists_url": "https://api.github.com/users/phobson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phobson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phobson/subscriptions",
      "organizations_url": "https://api.github.com/users/phobson/orgs",
      "repos_url": "https://api.github.com/users/phobson/repos",
      "events_url": "https://api.github.com/users/phobson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phobson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-13T01:08:51Z",
    "updated_at": "2018-07-13T01:19:13Z",
    "author_association": "NONE",
    "body": "@WillAyd \r\n\r\nThanks for the response. It does appear that this is fixed in master.\r\n\r\n```\r\n$ conda create --name=pdtest python=3.6 pandas ipykernel cython\r\n$ conda activate pdtest\r\n$ conda remove pandas\r\n$ pip install git+https://github.com/pandas-dev/pandas.git\r\n$ python maybe_pdbug.py\r\n$ cat test.out\r\n## 218, 454\r\n3192056 13904123\r\n3192340 13904044\r\n3192625 13903965\r\n3192909 13903886\r\n3193193 13903807\r\n```\r\n\r\nI tried a couple of incantations on 0.23.1. I won't list them all here since the bug is fixed in master. But for posterity, here is the current work around (that I could find).\r\n\r\n```python\r\nwith open('test.out', 'w') as f:\r\n    f.writelines(['## {1:d}, {0:d}\\n'.format(454, 218)])\r\n    \r\nwith open('test.out', 'a') as f:  # need 'a' mode here\r\n    df.to_csv(f, sep=' ', index=False, header=False,\r\n              na_rep='NaN', float_format='%.3f',\r\n              mode='a')  # and need 'a' mode here too\r\n``` "
  }
]
