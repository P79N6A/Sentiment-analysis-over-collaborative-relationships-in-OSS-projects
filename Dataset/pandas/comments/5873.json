[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/31833177",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5873#issuecomment-31833177",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5873",
    "id": 31833177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODMzMTc3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-08T14:05:32Z",
    "updated_at": "2014-01-08T14:05:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm...I'll call this a bug. FYI multi-index (or index) with nan is a very tricky issue in an of itself.\n\ncan you give a use case where this appears (e.g. using unstack)?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/31892218",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5873#issuecomment-31892218",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5873",
    "id": 31892218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODkyMjE4",
    "user": {
      "login": "felixlawrence",
      "id": 5019234,
      "node_id": "MDQ6VXNlcjUwMTkyMzQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5019234?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felixlawrence",
      "html_url": "https://github.com/felixlawrence",
      "followers_url": "https://api.github.com/users/felixlawrence/followers",
      "following_url": "https://api.github.com/users/felixlawrence/following{/other_user}",
      "gists_url": "https://api.github.com/users/felixlawrence/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felixlawrence/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felixlawrence/subscriptions",
      "organizations_url": "https://api.github.com/users/felixlawrence/orgs",
      "repos_url": "https://api.github.com/users/felixlawrence/repos",
      "events_url": "https://api.github.com/users/felixlawrence/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felixlawrence/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-09T00:39:29Z",
    "updated_at": "2014-01-09T00:39:29Z",
    "author_association": "NONE",
    "body": "Here's a simple example where unstack fails due to this:\n\n``` python\nidx = pd.MultiIndex.from_arrays([[101, 102], [3.5, np.nan]])\ns = pd.Series([1,2], index=idx)\ns.unstack()\n```\n\nI appreciate that nans are not the best thing to index by! Sadly, the data I've been given includes nans as an index (presumably in an attempt to indicate that that dimension of the index is not relevant to the particular sample).\n\nHere's a slightly more complicated example that is closer to my actual data:\n\n``` python\nidx = pd.MultiIndex.from_arrays([['cat', 'cat', 'cat', 'dog', 'dog'],\n                                 ['a', 'a', 'b', 'a', 'b'], \n                                 [1, 2, 1, 1, np.nan]])\ns = pd.Series([1.3], index=idx)\nprint s\nprint s.unstack(level=0)\n```\n\nN.B. this particular example raises a different error:\n\n``` python\nValueError: cannot convert float NaN to integer\n```\n\nwhich might be a separate issue.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/31903413",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5873#issuecomment-31903413",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5873",
    "id": 31903413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTAzNDEz",
    "user": {
      "login": "felixlawrence",
      "id": 5019234,
      "node_id": "MDQ6VXNlcjUwMTkyMzQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5019234?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felixlawrence",
      "html_url": "https://github.com/felixlawrence",
      "followers_url": "https://api.github.com/users/felixlawrence/followers",
      "following_url": "https://api.github.com/users/felixlawrence/following{/other_user}",
      "gists_url": "https://api.github.com/users/felixlawrence/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felixlawrence/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felixlawrence/subscriptions",
      "organizations_url": "https://api.github.com/users/felixlawrence/orgs",
      "repos_url": "https://api.github.com/users/felixlawrence/repos",
      "events_url": "https://api.github.com/users/felixlawrence/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felixlawrence/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-09T05:08:07Z",
    "updated_at": "2014-01-09T05:08:07Z",
    "author_association": "NONE",
    "body": "If (multi)index with nan is officially discouraged and causes trouble here and elsewhere (core.reshape._Unstacker also seems to struggle with nan indexes), perhaps pandas should print a warning message when an index is created with nan values?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/31929467",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5873#issuecomment-31929467",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5873",
    "id": 31929467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTI5NDY3",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-01-09T13:15:53Z",
    "updated_at": "2014-01-09T13:15:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "see #5286 \n\nyou should just avoid nan in mi's in general; I think a warning (controllable by an option) is a good idea. Their are some very non-trivial issues here.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/68535355",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5873#issuecomment-68535355",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5873",
    "id": 68535355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NTM1MzU1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-02T15:41:39Z",
    "updated_at": "2015-01-02T15:41:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "closed by #9169 \n"
  }
]
