[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/463508804",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-463508804",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 463508804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzUwODgwNA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T06:33:45Z",
    "updated_at": "2019-02-14T06:33:45Z",
    "author_association": "MEMBER",
    "body": "Hmm OK. Can you provide code to roundtrip back from the compressed file just so nothing is ambiguous here?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/465994553",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-465994553",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 465994553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTk5NDU1Mw==",
    "user": {
      "login": "CaselIT",
      "id": 16175304,
      "node_id": "MDQ6VXNlcjE2MTc1MzA0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/16175304?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CaselIT",
      "html_url": "https://github.com/CaselIT",
      "followers_url": "https://api.github.com/users/CaselIT/followers",
      "following_url": "https://api.github.com/users/CaselIT/following{/other_user}",
      "gists_url": "https://api.github.com/users/CaselIT/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CaselIT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CaselIT/subscriptions",
      "organizations_url": "https://api.github.com/users/CaselIT/orgs",
      "repos_url": "https://api.github.com/users/CaselIT/repos",
      "events_url": "https://api.github.com/users/CaselIT/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CaselIT/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-21T13:12:37Z",
    "updated_at": "2019-02-21T13:16:10Z",
    "author_association": "NONE",
    "body": "I've the same problem.\r\nCode snippet:\r\n```py\r\nimport pandas as pd\r\nimport numpy as np\r\nd = pd.DataFrame(np.random.randint(1,10,size=(10,10)), columns=list('qwertyuiop'))\r\nd.to_csv('foo.csv.gz', index=False)\r\n```\r\n\r\nThe saved files has two line terminators in each line\r\n```csv\r\nq,w,e,r,t,y,u,i,o,p\r\n\r\n6,7,9,9,1,7,2,6,9,8\r\n\r\n9,9,1,8,2,7,2,5,9,9\r\n\r\n4,8,3,8,1,3,9,3,4,1\r\n\r\n4,3,8,4,6,6,9,5,2,6\r\n\r\n4,2,7,3,3,4,4,7,5,3\r\n\r\n8,2,5,8,8,6,9,5,6,3\r\n\r\n3,1,8,6,9,7,9,6,8,3\r\n\r\n1,6,7,8,6,7,5,3,5,3\r\n\r\n8,4,9,4,8,3,5,5,6,2\r\n\r\n6,7,8,6,6,2,8,2,3,4\r\n\r\n```\r\nThe saved file in the example:\r\n[foo.csv.gz](https://github.com/pandas-dev/pandas/files/2889368/foo.csv.gz)\r\n\r\nSaving without compression does works as expected.\r\n\r\nSetting the line_terminator resolves it\r\n\r\nIt seems to be limited to Windows, I've tried on Linux and it does not have the same problem, using the same pandas version\r\n\r\n\r\n<details>\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.6.8.final.0\r\npython-bits: 64\r\nOS: Windows\r\nOS-release: 10\r\nmachine: AMD64\r\nprocessor: Intel64 Family 6 Model 142 Stepping 10, GenuineIntel\r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: None\r\nLOCALE: None.None\r\n\r\npandas: 0.24.1\r\npytest: 4.2.0\r\npip: 19.0.1\r\nsetuptools: 40.7.3\r\nCython: 0.29.4\r\nnumpy: 1.15.4\r\nscipy: 1.2.0\r\npyarrow: None\r\nxarray: None\r\nIPython: 7.2.0\r\nsphinx: 1.8.2\r\npatsy: None\r\ndateutil: 2.7.5\r\npytz: 2018.9\r\nblosc: None\r\nbottleneck: None\r\ntables: 3.4.4\r\nnumexpr: 2.6.9\r\nfeather: None\r\nmatplotlib: 2.2.2\r\nopenpyxl: None\r\nxlrd: None\r\nxlwt: None\r\nxlsxwriter: None\r\nlxml.etree: None\r\nbs4: None\r\nhtml5lib: 0.9999999\r\nsqlalchemy: 1.2.16\r\npymysql: None\r\npsycopg2: 2.7.4 (dt dec pq3 ext lo64)\r\njinja2: 2.10\r\ns3fs: None\r\nfastparquet: None\r\npandas_gbq: None\r\npandas_datareader: None\r\ngcsfs: None\r\n</details>\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/470153104",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-470153104",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 470153104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDE1MzEwNA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T15:34:00Z",
    "updated_at": "2019-03-06T15:34:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "This looks like a duplicate of https://github.com/pandas-dev/pandas/issues/25048. LMK if not."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/470160705",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-470160705",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 470160705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDE2MDcwNQ==",
    "user": {
      "login": "jointfull",
      "id": 42198131,
      "node_id": "MDQ6VXNlcjQyMTk4MTMx",
      "avatar_url": "https://avatars0.githubusercontent.com/u/42198131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jointfull",
      "html_url": "https://github.com/jointfull",
      "followers_url": "https://api.github.com/users/jointfull/followers",
      "following_url": "https://api.github.com/users/jointfull/following{/other_user}",
      "gists_url": "https://api.github.com/users/jointfull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jointfull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jointfull/subscriptions",
      "organizations_url": "https://api.github.com/users/jointfull/orgs",
      "repos_url": "https://api.github.com/users/jointfull/repos",
      "events_url": "https://api.github.com/users/jointfull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jointfull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T15:52:50Z",
    "updated_at": "2019-03-06T15:52:50Z",
    "author_association": "NONE",
    "body": "After carefully reading the details of **#25048**, it seems that sed task refers to a scenario where a **file handler** is passed to pandas.to_csv().\r\nHowever, **in my case**, the call to pandas.to_csv() is with a filename (and **not a file handler**), and behave different when giving a filename that ends with .gz (inferring a request for a compressed file).\r\nI believe we are talking about **two different problems** here (unless proven that they originate from the same *bug* and that fixing one fixes the other too)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/470161566",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-470161566",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 470161566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDE2MTU2Ng==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T15:54:44Z",
    "updated_at": "2019-03-06T15:54:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "I believe that we create a file handler internally when we detect a\ncompression scheme, and so go down the same path as the other issue. Is\nthat right?\n\nOn Wed, Mar 6, 2019 at 9:52 AM jointfull <notifications@github.com> wrote:\n\n> After carefully reading the details of *#25048\n> <https://github.com/pandas-dev/pandas/issues/25048>*, it seems that sed\n> task refers to a scenario where a *file handler* is passed to\n> pandas.to_csv().\n> However, *in my case*, the call to pandas.to_csv() is with a filename\n> (and *not a file handler*), and behave different when giving a filename\n> that ends with .gz (inferring a request for a compressed file).\n> I believe we are talking about *two different problems* here (unless\n> proven that they originate from the same *bug* and that fixing one fixes\n> the other too).\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/25311#issuecomment-470160705>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIqumnI1b7cUyMC7kgthzGp60Lylrks5vT-RagaJpZM4a6gZw>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/470164552",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-470164552",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 470164552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDE2NDU1Mg==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T16:01:36Z",
    "updated_at": "2019-03-06T16:01:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Though, perhaps we can work around for this specific case, by supplying the line_terminator for the user if necessary? cc @gfyoung @chris-b1."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/470318923",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-470318923",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 470318923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDMxODkyMw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T23:27:41Z",
    "updated_at": "2019-03-06T23:27:41Z",
    "author_association": "MEMBER",
    "body": "I am pretty certain that these two issues are tied to the same underlying issue, so let's see what comes of #25048 and then return to this one if need be."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/471626789",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25311#issuecomment-471626789",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25311",
    "id": 471626789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTYyNjc4OQ==",
    "user": {
      "login": "jointfull",
      "id": 42198131,
      "node_id": "MDQ6VXNlcjQyMTk4MTMx",
      "avatar_url": "https://avatars0.githubusercontent.com/u/42198131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jointfull",
      "html_url": "https://github.com/jointfull",
      "followers_url": "https://api.github.com/users/jointfull/followers",
      "following_url": "https://api.github.com/users/jointfull/following{/other_user}",
      "gists_url": "https://api.github.com/users/jointfull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jointfull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jointfull/subscriptions",
      "organizations_url": "https://api.github.com/users/jointfull/orgs",
      "repos_url": "https://api.github.com/users/jointfull/repos",
      "events_url": "https://api.github.com/users/jointfull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jointfull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-11T16:56:29Z",
    "updated_at": "2019-03-11T16:56:29Z",
    "author_association": "NONE",
    "body": "👏"
  }
]
