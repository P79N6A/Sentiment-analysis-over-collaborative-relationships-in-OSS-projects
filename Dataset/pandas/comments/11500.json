[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/152859512",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-152859512",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 152859512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg1OTUxMg==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-01T20:07:02Z",
    "updated_at": "2015-11-01T20:07:02Z",
    "author_association": "MEMBER",
    "body": "First of all -- this is really great! Thank you for pushing on this.\n\nA few specific design issues:\n1. There are two obvious ways to do copy-on-write for views. We could copy the parent dataframe, or we could copy all the children (and their children, recursively). Right now, it looks like you're doing both? I think that's unnecessary. If I'm right, let's consider which option has more favorable performance.\n2. Why are you using a list instead of a `WeakValueDictionary`? The later seems like it might be a better choice -- it's automatically cleaned up when children are garbage collected. With your current implementation, I think you are missing the check to verify that your weakrefs are valid.\n\nFinally, we are definitely going to need some comprehensive performance checks. How does the ASV benchmark suite compare after this change? What types of uses used to be fast but now are slow? These will need to be carefully documented.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/152859615",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-152859615",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 152859615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg1OTYxNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-01T20:09:17Z",
    "updated_at": "2015-11-01T20:09:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "you need to have all of the original tests in here\nsome might work / be modified but you cannot eliminate tests\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/152861848",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-152861848",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 152861848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg2MTg0OA==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-01T20:44:23Z",
    "updated_at": "2015-11-01T20:44:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks both for the feedback!\n\n@shoyer \n1) In the simple case -- a parent who is not a view and a child who is a view -- there won't be any copying of the parent because of the if statement at 1235 of `generic.py`. But I'll think about weirder cases like views of views...\n\n2) I thought about this, but wasn't sure how to key a dictionary. Thankfully, weakrefs are actually self-cleaning -- if they object they refer to gets cleaned, they redirect to `None`:\n\n```\ntest_df = pd.DataFrame()\ntest_wr = weakref.ref(test_df)\ntest_df = 'redirect_to_string'\ntest_wr() is None\nOut[36]: True\n```\n\nBut you are correct I need to add a  `if child() is None` call at the top of `_convert_views_to_copies`.\n\n3) Could you please point me to some docs on this ASV? Never worked with it before. \n\n@jreback Would you mind expanding on your comment / clarifying a little? I don't think I've deleted any tests. Do you mean that you think this seems promising enough it's worth digging into the testing modules to see what works and what fails with these modifications and edit the failing tests? Happy to do so, just wanted to see if people felt this path was sufficiently promising to warrant that work. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/152862967",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-152862967",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 152862967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg2Mjk2Nw==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-01T20:54:03Z",
    "updated_at": "2015-11-02T17:58:44Z",
    "author_association": "MEMBER",
    "body": "@nickeubank \n\n1) you're right that unnecessary copies aren't done if there are no views. My point is that it is unnecessary to copy both the parent AND its children -- only one is sufficient.\n\n2) use `id(obj)` as the key. That's guaranteed to be unique as long as an object is in memory. The main reason I prefer using `WeakValueDictionary` to `list` is that the later can be a memory leak -- if you repeatedly index a DataFrame, the list will grow unbounded in size, even if the indexed dataframes themselves are garbage collected.\n\n3) see here for ASV: http://pandas.pydata.org/pandas-docs/stable/contributing.html#running-the-performance-test-suite\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/152863372",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-152863372",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 152863372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg2MzM3Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-01T21:01:00Z",
    "updated_at": "2015-11-01T21:01:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "you have essentially turned off all of the old setting with copy tests\nso these need to be adjusted to the new behavior\nbut all of the cases are valid\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/153093947",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-153093947",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 153093947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA5Mzk0Nw==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-02T17:31:52Z",
    "updated_at": "2015-11-02T17:31:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback  are you talking about runtime tests in core files like `generic.py`, or the nosetests in the test files like `test_generic.py`?\n\n@shoyer Got it. Revising now. Also realized one places this breaks, so need to add another tweak to implementation. Will ping when done.\n\nOne general question: Is there a better way to know if something is a view than `._is_view`? Seems to give false positives -- makes it safe, but leads to some extra copying. For example:\n\n```\ndf = pd.DataFrame({'col1':[1,2], 'col2':[3,4]})\ndf._is_view\nOut[1]: False\n\ndf.loc[0,'col1'] = -88\ndf._is_view\nOut[2]: True\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/154580133",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-154580133",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 154580133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDU4MDEzMw==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-06T23:52:35Z",
    "updated_at": "2015-11-06T23:52:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@shoyer @jreback Performance checks\n\n@shoyer Think your suggestions all integrated. Still probably some excess copying because `_is_view` is conservative (sometimes calls things views when they aren't), [but not sure how to fix](http://stackoverflow.com/questions/33530753/numpy-reliable-non-conservative-indicator-if-numpy-array-is-view?noredirect=1#comment54843728_33530753) \n\n@jreback I'm afraid I'm still a little unclear on what you're asking for. I know you do a lot on these sites so brevity is your friend, but could you please be a little  more expansive / point to a specific example?\n\n```\n    before     after       ratio\n  [eb66bccc] [cc6c9b1b]\n+  116.74ms      1.99s     17.00  frame_methods.frame_insert_500_columns_end.time_frame_insert_500_columns_end\n+  185.65ms      1.32s      7.10  plotting.plot_timeseries_period.time_plot_timeseries_period\n+   17.64ms   120.52ms      6.83  timeseries.timeseries_series_offset_fast.time_timeseries_series_offset_fast\n+   19.03ms   104.11ms      5.47  timeseries.timeseries_datetimeindex_offset_fast.time_timeseries_datetimeindex_offset_fast\n+   43.55ms   234.87ms      5.39  sparse.sparse_frame_constructor.time_sparse_frame_constructor\n+   45.87ms   109.18ms      2.38  frame_methods.frame_count_level_axis0_multi.time_frame_count_level_axis0_multi\n-    1.78ms   781.24μs      0.44  replace.replace_replacena.time_replace_replacena\nSOME BENCHMARKS HAVE CHANGED SIGNIFICANTLY.\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/154596714",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-154596714",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 154596714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDU5NjcxNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-07T01:47:11Z",
    "updated_at": "2015-11-07T01:47:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "the perf issues need to be addressed \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/154716406",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-154716406",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 154716406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDcxNjQwNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-07T15:31:52Z",
    "updated_at": "2015-11-07T15:31:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nickeubank you changed code but you never fixed tests. e.g. `SetttingWithCopyError` is no longer defined. So its impossible to see if what you did works or not.\n\nYou will need to carefully address each of the existing tests, as these define the current API. These must all pass and/or change as appropriate. This ensures that the API is preserved. You can certainly change things, but these must be well-defined and explictly communicated.\n\nGenerally having green PR's gives much more confidence. This is the point of tests, to try to map out the API as much as possible. To cover edge cases and to provide consistency among operations. This of course is not guaranteed, but helps a lot. Examining code only goes so far. Python is far to dynamic a language to just rely on code inspection for correctness.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/154718855",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-154718855",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 154718855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDcxODg1NQ==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-07T16:05:17Z",
    "updated_at": "2015-11-07T16:05:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Ah, ok -- thanks so much for the longer explanation! Will do!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/158661665",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-158661665",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 158661665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODY2MTY2NQ==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-21T16:51:16Z",
    "updated_at": "2015-11-21T16:51:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback thanks again for explanation on tests -- now see wisdom. Updated tests, and fixed a few issues that came up. \n\n**Open Issues**\n\n1) Currently the only place views are preserved are column slices of data frames with simple indices. Is there an analogous case for panels where we can always offer views?\n\n2) Are single column slices from multi-index DataFrames always views (i.e. do we have same guarantee as with single-index)?\n\n3) The attribute `_is_column_view` I added in `generic.py` does not appear to be preserved when a `DataFrame` is pickled and re-loaded. Any suggestions on how to fix? Had to comment out one test for that...\n\n**Other notes**\n\nI removed the `copy` option from `merge`, since it's pretty inconsistent with the new copy-on-write paradigm.\n\n**Performance**\nFixed main performance issue, still some work to do on dates.\n\n```\n    before     after       ratio\n   [eb66bccc] [f4f8e562]\n+   14.66ms    98.57ms      6.73  timeseries.timeseries_datetimeindex_offset_fast.time_timeseries_datetimeindex_offset_fast\n+  187.66ms      1.18s      6.30  plotting.plot_timeseries_period.time_plot_timeseries_period\n+   16.61ms   100.92ms      6.07  timeseries.timeseries_series_offset_fast.time_timeseries_series_offset_fast\n+   24.86ms    61.02ms      2.46  frame_methods.frame_getitem_single_column2.time_frame_getitem_single_column2\n+   45.47ms   108.02ms      2.38  frame_methods.frame_count_level_axis0_multi.time_frame_count_level_axis0_multi\n+   26.26ms    60.99ms      2.32  frame_methods.frame_getitem_single_column.time_frame_getitem_single_column\n-    1.72ms   715.28μs      0.41  replace.replace_replacena.time_replace_replacena\nSOME BENCHMARKS HAVE CHANGED SIGNIFICANTLY.\n```\n\ncc: @shoyer \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/158821211",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-158821211",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 158821211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODgyMTIxMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-23T00:09:07Z",
    "updated_at": "2015-11-23T00:09:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "2) this should work, nothing special about multiindexes\n3) these attributes should **not** be pickled. Simply make them a class attribute defaulted to `None`.\n\nYou are still removing LOTS of tests. Don't remove any! You need to individually go thru and fix/correct them. You need to assert that the entire existing API is unchanged (which is defined via the tests). Clearly if somethign is asserting that `SettingWIthCopyWarning` is raised it should be changed and tested that it is a view (or not a view as the case may be).\n\nThe entire point of the test suite is to avoid changing behavior accidently.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/160850392",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-160850392",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 160850392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDg1MDM5Mg==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T04:31:21Z",
    "updated_at": "2015-12-01T04:31:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback \n\nOn 2: sorry, wasn't clear.  It isn't attribute value I want to pickle; it's the existence of the attribute. \n\n```\nIn[17]:\ndf = pd.DataFrame({\"A\": [1,2]})\ndf._is_column_view\nOut[18]: False\n\nIn[19]:\ndf.to_pickle('test')\ndf2=pd.read_pickle('test')\ndf2._is_column_view\nTraceback (most recent call last):\n\n File \"<ipython-input-22-18fc2f02c57c>\", line 1, in <module>\n    df2._is_column_view\n\n File \"/Users/Nick/github/pandas/pandas/core/generic.py\", line 2290, in __getattr__\n   return object.__getattribute__(self, name)\n\nAttributeError: 'DataFrame' object has no attribute '_is_column_view'\n```\n\nDo I need to rebuild somewhere?\n\nWill work on tests!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/160946122",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-160946122",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 160946122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDk0NjEyMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T11:57:09Z",
    "updated_at": "2015-12-01T11:57:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "you need to define it as `None` on the class (e.g. notice the `is_copy = None` which you are removing), e.g.\n\n```\nclass NDFrame(...):\n     .....\n     _is_column_view = None\n```\n\nthen when you set it in an instance it is overriden only in that instance. This is a feature of python.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/165221978",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-165221978",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 165221978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTIyMTk3OA==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-16T19:31:32Z",
    "updated_at": "2015-12-16T19:31:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback @shoyer Quick update:\n\nMost things working well and I think will work eventually. Currently need to address:\n- Issues with `__init__` in frame.py.\n  - Need to prevent creation of views of `numpy` arrays. The copy-on-write machinery is all at the `pandas` level, so I can only support views of other `pandas` objects. \n  - Need to make sure if passed a DataFrame, creates an actual view, doesn't just share `._data` object (see #11855 ). \n  - For some reason, if I just set `copy=True` as default in `__init__`, getting a Segementation Fault in `test_frame.py`. Need to figure that out. \n- Need to prevent indexing operations from ever letting objects share `_data` objects instead of creating views (see #11855)\n- Need to work through all tests.\n\nHowever, at the moment I need to take a hiatus on this to work on a draft of my dissertation, so I'm going to have to set this aside for ~4 weeks. Haven't dropped -- I still really believe in the importance of this and that it will work -- but taking up more time than I have at the moment (especially given how much background research I'm having to learn about python to do all this...). \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/165229119",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-165229119",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 165229119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTIyOTExOQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-16T20:00:15Z",
    "updated_at": "2015-12-16T20:00:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nickeubank np, thanks for the effort so far!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/170554554",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-170554554",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 170554554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDU1NDU1NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T13:49:28Z",
    "updated_at": "2016-01-11T13:49:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "xref #11970 \n\nas this might take a bit, feel free to reopen if updated\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171418161",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-171418161",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 171418161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTQxODE2MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-13T20:09:01Z",
    "updated_at": "2016-01-13T20:09:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nickeubank hmm, I can't seem to reopen this, very odd.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171419827",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-171419827",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 171419827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTQxOTgyNw==",
    "user": {
      "login": "kawochen",
      "id": 10709573,
      "node_id": "MDQ6VXNlcjEwNzA5NTcz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/10709573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kawochen",
      "html_url": "https://github.com/kawochen",
      "followers_url": "https://api.github.com/users/kawochen/followers",
      "following_url": "https://api.github.com/users/kawochen/following{/other_user}",
      "gists_url": "https://api.github.com/users/kawochen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kawochen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kawochen/subscriptions",
      "organizations_url": "https://api.github.com/users/kawochen/orgs",
      "repos_url": "https://api.github.com/users/kawochen/repos",
      "events_url": "https://api.github.com/users/kawochen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kawochen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-13T20:14:02Z",
    "updated_at": "2016-01-13T20:14:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "because `HEAD` has changed since\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/171421559",
    "html_url": "https://github.com/pandas-dev/pandas/pull/11500#issuecomment-171421559",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11500",
    "id": 171421559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTQyMTU1OQ==",
    "user": {
      "login": "nickeubank",
      "id": 9683693,
      "node_id": "MDQ6VXNlcjk2ODM2OTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9683693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickeubank",
      "html_url": "https://github.com/nickeubank",
      "followers_url": "https://api.github.com/users/nickeubank/followers",
      "following_url": "https://api.github.com/users/nickeubank/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickeubank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickeubank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickeubank/subscriptions",
      "organizations_url": "https://api.github.com/users/nickeubank/orgs",
      "repos_url": "https://api.github.com/users/nickeubank/repos",
      "events_url": "https://api.github.com/users/nickeubank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickeubank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-13T20:21:41Z",
    "updated_at": "2016-01-13T20:21:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "k will reopen as new pr\n"
  }
]
