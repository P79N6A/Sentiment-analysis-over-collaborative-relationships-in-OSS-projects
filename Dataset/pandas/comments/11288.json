[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147247771",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-147247771",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 147247771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzI0Nzc3MQ==",
    "user": {
      "login": "max-sixty",
      "id": 5635139,
      "node_id": "MDQ6VXNlcjU2MzUxMzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/max-sixty",
      "html_url": "https://github.com/max-sixty",
      "followers_url": "https://api.github.com/users/max-sixty/followers",
      "following_url": "https://api.github.com/users/max-sixty/following{/other_user}",
      "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions",
      "organizations_url": "https://api.github.com/users/max-sixty/orgs",
      "repos_url": "https://api.github.com/users/max-sixty/repos",
      "events_url": "https://api.github.com/users/max-sixty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/max-sixty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-11T21:32:36Z",
    "updated_at": "2015-10-11T21:32:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you clarify with a numerical example? `i=0` means it starts from the present. It then decays as time passes, as you'd expect from an exponential function.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147257839",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-147257839",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 147257839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzI1NzgzOQ==",
    "user": {
      "login": "matthewgilbert",
      "id": 2401026,
      "node_id": "MDQ6VXNlcjI0MDEwMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2401026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewgilbert",
      "html_url": "https://github.com/matthewgilbert",
      "followers_url": "https://api.github.com/users/matthewgilbert/followers",
      "following_url": "https://api.github.com/users/matthewgilbert/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewgilbert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewgilbert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewgilbert/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewgilbert/orgs",
      "repos_url": "https://api.github.com/users/matthewgilbert/repos",
      "events_url": "https://api.github.com/users/matthewgilbert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewgilbert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-12T00:06:53Z",
    "updated_at": "2015-10-12T00:06:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "In the above I would think of _t_ as present and 0 (or _n_ in my suggestion) as the start. Here is an example\n\n```\ns = pd.Series(range(1,11))\nalpha = 0.05\nspan = 2/alpha - 1\npd.ewma(s, span=span)\n\n0    1.000000\n1    1.512821\n2    2.034181\n3    2.564069\n4    3.102470\n5    3.649363\n6    4.204725\n7    4.768525\n8    5.340732\n9    5.921307\ndtype: float64\n```\n\nwhich for the last element is equivalent to doing\n\n```\nweights = [(1-alpha)**i for i in reversed(range(0,10))]\nweights = pd.Series(weights)\nsum(weights * s) / sum(weights)\n5.921307\n```\n\nWhat I was wondering was if it is possible to add a window such that there is _n_ exponentially decaying weights and the rest are 0. So for the above data, with _n=3_ for example, for the last element of the series we would have\n\n![eq3](https://cloud.githubusercontent.com/assets/2401026/10419896/5bfc3e8c-7053-11e5-81e4-572b544f5fbe.png)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/147294862",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-147294862",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 147294862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzI5NDg2Mg==",
    "user": {
      "login": "max-sixty",
      "id": 5635139,
      "node_id": "MDQ6VXNlcjU2MzUxMzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/max-sixty",
      "html_url": "https://github.com/max-sixty",
      "followers_url": "https://api.github.com/users/max-sixty/followers",
      "following_url": "https://api.github.com/users/max-sixty/following{/other_user}",
      "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions",
      "organizations_url": "https://api.github.com/users/max-sixty/orgs",
      "repos_url": "https://api.github.com/users/max-sixty/repos",
      "events_url": "https://api.github.com/users/max-sixty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/max-sixty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-12T05:28:07Z",
    "updated_at": "2015-10-12T05:28:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's very clear @matthewgilbert, thanks.\n\nRe the calc, I _think_ you could implement that by taking the difference between two series - one lagged by `n` and multiplied by `alpha ^ n`. I haven't thought this through enough; there may be better ways.\n\nIn terms of the API, I think that could be added, although I'm not sure of the use cases - generally I would use either a rolling OR an exponentially weighted series. Do you have use cases in mind?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/150435864",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-150435864",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 150435864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDQzNTg2NA==",
    "user": {
      "login": "matthewgilbert",
      "id": 2401026,
      "node_id": "MDQ6VXNlcjI0MDEwMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2401026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewgilbert",
      "html_url": "https://github.com/matthewgilbert",
      "followers_url": "https://api.github.com/users/matthewgilbert/followers",
      "following_url": "https://api.github.com/users/matthewgilbert/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewgilbert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewgilbert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewgilbert/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewgilbert/orgs",
      "repos_url": "https://api.github.com/users/matthewgilbert/repos",
      "events_url": "https://api.github.com/users/matthewgilbert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewgilbert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-23T03:00:34Z",
    "updated_at": "2015-10-23T03:00:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "A simple hack to apply this would be\n\n```\ns = pd.Series(range(1,10))\nwindow = 4\nhalflife = 2\newma1 = lambda x: pd.ewma(x, halflife=halflife)[-1]\npd.rolling_apply(s, window, ewma1)\n```\n\nso if there is very little interest from others in this added functionality this is a workaround\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/235147792",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-235147792",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 235147792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTE0Nzc5Mg==",
    "user": {
      "login": "matthewgilbert",
      "id": 2401026,
      "node_id": "MDQ6VXNlcjI0MDEwMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2401026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewgilbert",
      "html_url": "https://github.com/matthewgilbert",
      "followers_url": "https://api.github.com/users/matthewgilbert/followers",
      "following_url": "https://api.github.com/users/matthewgilbert/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewgilbert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewgilbert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewgilbert/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewgilbert/orgs",
      "repos_url": "https://api.github.com/users/matthewgilbert/repos",
      "events_url": "https://api.github.com/users/matthewgilbert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewgilbert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-26T02:47:09Z",
    "updated_at": "2016-07-26T02:47:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "As of version `0.18.0` the above workaround is flagged for future deprecation. I attempted to apply something similar using `.rolling()` and `.EWM()` however this does not seem to work. Wondering if anyone has any suggestions for a way to incorporate a window into exponentially weighted functions under the new API?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/235231131",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-235231131",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 235231131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTIzMTEzMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-26T10:35:11Z",
    "updated_at": "2016-07-26T10:35:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\nIn [8]:  s = pd.Series(range(1,10))\n   ...: window = 4\n   ...: halflife = 2\n   ...: ewma1 = lambda x: Series(x).ewm(halflife=halflife).mean().iloc[-1]\n   ...: s.rolling(window).apply(ewma1)\n   ...: \nOut[8]: \n0        NaN\n1        NaN\n2        NaN\n3    2.91912\n4    3.91912\n5    4.91912\n6    5.91912\n7    6.91912\n8    7.91912\ndtype: float64\n```\n\nBut this would be way more efficient to do it in-line.\nThough @MaximilianR method seems much easier.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/235393652",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-235393652",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 235393652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTM5MzY1Mg==",
    "user": {
      "login": "matthewgilbert",
      "id": 2401026,
      "node_id": "MDQ6VXNlcjI0MDEwMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2401026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewgilbert",
      "html_url": "https://github.com/matthewgilbert",
      "followers_url": "https://api.github.com/users/matthewgilbert/followers",
      "following_url": "https://api.github.com/users/matthewgilbert/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewgilbert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewgilbert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewgilbert/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewgilbert/orgs",
      "repos_url": "https://api.github.com/users/matthewgilbert/repos",
      "events_url": "https://api.github.com/users/matthewgilbert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewgilbert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-26T20:25:15Z",
    "updated_at": "2016-07-26T20:25:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Great thanks. Unless I am mistaken, the solution @MaximilianR suggests does not seem that straight forward? My understanding of his suggestion is to solve for `C` in something like the following, where we want the rolling window to be 3\n\n![eqn](https://cloud.githubusercontent.com/assets/2401026/17153966/f9c211aa-534c-11e6-8249-2ba992ded980.gif)\n\nwhich seems to lead to a pretty messy solution? e.g.\n\n![soln1](https://cloud.githubusercontent.com/assets/2401026/17153998/249749cc-534d-11e6-864b-426dc2686a72.PNG)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/236235426",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-236235426",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 236235426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjIzNTQyNg==",
    "user": {
      "login": "max-sixty",
      "id": 5635139,
      "node_id": "MDQ6VXNlcjU2MzUxMzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/max-sixty",
      "html_url": "https://github.com/max-sixty",
      "followers_url": "https://api.github.com/users/max-sixty/followers",
      "following_url": "https://api.github.com/users/max-sixty/following{/other_user}",
      "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions",
      "organizations_url": "https://api.github.com/users/max-sixty/orgs",
      "repos_url": "https://api.github.com/users/max-sixty/repos",
      "events_url": "https://api.github.com/users/max-sixty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/max-sixty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-29T17:01:06Z",
    "updated_at": "2016-07-29T17:01:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@matthewgilbert gosh, that's certainly not what I envisaged. \n\nI actually think your solution is v good. It's not as fast, but I imagine it's fast enough?\n\nOtherwise I'm happy to go into my suggestion more, it's really not supposed to be anything like that complicated.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/236244095",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-236244095",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 236244095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjI0NDA5NQ==",
    "user": {
      "login": "matthewgilbert",
      "id": 2401026,
      "node_id": "MDQ6VXNlcjI0MDEwMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2401026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewgilbert",
      "html_url": "https://github.com/matthewgilbert",
      "followers_url": "https://api.github.com/users/matthewgilbert/followers",
      "following_url": "https://api.github.com/users/matthewgilbert/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewgilbert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewgilbert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewgilbert/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewgilbert/orgs",
      "repos_url": "https://api.github.com/users/matthewgilbert/repos",
      "events_url": "https://api.github.com/users/matthewgilbert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewgilbert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-29T17:37:11Z",
    "updated_at": "2016-07-29T17:37:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes my application is fairly small amount of data and performance with jreback's proposed solution above works fine.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/356134882",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-356134882",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 356134882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjEzNDg4Mg==",
    "user": {
      "login": "NirantK",
      "id": 3250749,
      "node_id": "MDQ6VXNlcjMyNTA3NDk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3250749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NirantK",
      "html_url": "https://github.com/NirantK",
      "followers_url": "https://api.github.com/users/NirantK/followers",
      "following_url": "https://api.github.com/users/NirantK/following{/other_user}",
      "gists_url": "https://api.github.com/users/NirantK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NirantK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NirantK/subscriptions",
      "organizations_url": "https://api.github.com/users/NirantK/orgs",
      "repos_url": "https://api.github.com/users/NirantK/repos",
      "events_url": "https://api.github.com/users/NirantK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NirantK/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T23:55:39Z",
    "updated_at": "2018-01-08T23:55:39Z",
    "author_association": "NONE",
    "body": "Hey @jreback @matthewgilbert, consider closing this issue since mentioned that the proposed solution works for your data sizes? "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/356142616",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-356142616",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 356142616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjE0MjYxNg==",
    "user": {
      "login": "matthewgilbert",
      "id": 2401026,
      "node_id": "MDQ6VXNlcjI0MDEwMjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2401026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewgilbert",
      "html_url": "https://github.com/matthewgilbert",
      "followers_url": "https://api.github.com/users/matthewgilbert/followers",
      "following_url": "https://api.github.com/users/matthewgilbert/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewgilbert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewgilbert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewgilbert/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewgilbert/orgs",
      "repos_url": "https://api.github.com/users/matthewgilbert/repos",
      "events_url": "https://api.github.com/users/matthewgilbert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewgilbert/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T00:39:09Z",
    "updated_at": "2018-01-09T00:39:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Okay I'll go ahead and close this, good call."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/473306573",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11288#issuecomment-473306573",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11288",
    "id": 473306573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzMwNjU3Mw==",
    "user": {
      "login": "lycanthropes",
      "id": 38000321,
      "node_id": "MDQ6VXNlcjM4MDAwMzIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/38000321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lycanthropes",
      "html_url": "https://github.com/lycanthropes",
      "followers_url": "https://api.github.com/users/lycanthropes/followers",
      "following_url": "https://api.github.com/users/lycanthropes/following{/other_user}",
      "gists_url": "https://api.github.com/users/lycanthropes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lycanthropes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lycanthropes/subscriptions",
      "organizations_url": "https://api.github.com/users/lycanthropes/orgs",
      "repos_url": "https://api.github.com/users/lycanthropes/repos",
      "events_url": "https://api.github.com/users/lycanthropes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lycanthropes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T14:26:52Z",
    "updated_at": "2019-03-15T14:26:52Z",
    "author_association": "NONE",
    "body": "Hi, How about the solution now ? I also meet the same challenge."
  }
]
