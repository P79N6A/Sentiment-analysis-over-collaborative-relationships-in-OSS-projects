[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14097496",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-14097496",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 14097496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDk3NDk2",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-26T06:18:40Z",
    "updated_at": "2013-02-26T06:18:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I believe think this is a duplicate of #2656 and not a bug...\n\nThe function is called twice for internal implementation reasons but the results are correct.\n\nPossibly the docs should be updated to indicate that func passed to `apply` should not have side-effects.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14098962",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-14098962",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 14098962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDk4OTYy",
    "user": {
      "login": "Aico",
      "id": 901118,
      "node_id": "MDQ6VXNlcjkwMTExOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/901118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aico",
      "html_url": "https://github.com/Aico",
      "followers_url": "https://api.github.com/users/Aico/followers",
      "following_url": "https://api.github.com/users/Aico/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aico/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aico/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aico/subscriptions",
      "organizations_url": "https://api.github.com/users/Aico/orgs",
      "repos_url": "https://api.github.com/users/Aico/repos",
      "events_url": "https://api.github.com/users/Aico/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aico/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-26T07:24:16Z",
    "updated_at": "2013-02-26T07:56:51Z",
    "author_association": "NONE",
    "body": "I see. I agree with the suggestion on the other thread that there should be a way I can tell apply that there is no side effects so that it does not have to run the first group twice.\n\nAt the very least, it shouldn't run the first group twice if there is only one group.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14156523",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-14156523",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 14156523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTU2NTIz",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-27T04:30:59Z",
    "updated_at": "2013-02-27T05:45:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm...well, what do you actually need guaranteed and why? just that the function is only called once per group? (or do you need a specific ordering, too?)\n\nthere's no way to add an option \"i want to take the fast path always\" because the fast path makes certain assumptions about memory aliasing and such and can cause segfault if they're incorrect. plus, the fast path implementation could change or an even faster path could be implemented, all of which are internal implementation details.\n\nso it only makes sense to allow an option to force it to take the slow path, and the only use case for that would be if you depended on the order or number of calls (which would only matter if your function had side-effects, not vice-versa, unless your apply function is very expensive and you're worried about the CPU cycles...). is there a specific reason you need that?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14160869",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-14160869",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 14160869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTYwODY5",
    "user": {
      "login": "Aico",
      "id": 901118,
      "node_id": "MDQ6VXNlcjkwMTExOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/901118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aico",
      "html_url": "https://github.com/Aico",
      "followers_url": "https://api.github.com/users/Aico/followers",
      "following_url": "https://api.github.com/users/Aico/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aico/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aico/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aico/subscriptions",
      "organizations_url": "https://api.github.com/users/Aico/orgs",
      "repos_url": "https://api.github.com/users/Aico/repos",
      "events_url": "https://api.github.com/users/Aico/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aico/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-27T07:37:57Z",
    "updated_at": "2013-02-27T07:37:57Z",
    "author_association": "NONE",
    "body": "The case I am came across, is expensive apply function with few groups. My apply takes 30 seconds to do so running the first group twice adds thirty seconds to the runtime. Though now that I know of this double run, I have changed my code to do the split-apply-concat step manually. I think I will try to use a global variable to just skip through the first run next time.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14160904",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-14160904",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 14160904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTYwOTA0",
    "user": {
      "login": "stephenwlin",
      "id": 2342637,
      "node_id": "MDQ6VXNlcjIzNDI2Mzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2342637?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephenwlin",
      "html_url": "https://github.com/stephenwlin",
      "followers_url": "https://api.github.com/users/stephenwlin/followers",
      "following_url": "https://api.github.com/users/stephenwlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephenwlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephenwlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephenwlin/subscriptions",
      "organizations_url": "https://api.github.com/users/stephenwlin/orgs",
      "repos_url": "https://api.github.com/users/stephenwlin/repos",
      "events_url": "https://api.github.com/users/stephenwlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephenwlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-02-27T07:39:25Z",
    "updated_at": "2013-02-27T07:40:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok, if your apply is that expensive that makes sense then. (so maybe it should be an option to force the basic path)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/15149397",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-15149397",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 15149397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTQ5Mzk3",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-19T23:07:38Z",
    "updated_at": "2013-03-19T23:07:38Z",
    "author_association": "MEMBER",
    "body": "Marked as enhancement for someday. Just have to get a groupby parameter to flow through\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/369371828",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-369371828",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 369371828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTM3MTgyOA==",
    "user": {
      "login": "jrovegno",
      "id": 349866,
      "node_id": "MDQ6VXNlcjM0OTg2Ng==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/349866?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrovegno",
      "html_url": "https://github.com/jrovegno",
      "followers_url": "https://api.github.com/users/jrovegno/followers",
      "following_url": "https://api.github.com/users/jrovegno/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrovegno/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrovegno/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrovegno/subscriptions",
      "organizations_url": "https://api.github.com/users/jrovegno/orgs",
      "repos_url": "https://api.github.com/users/jrovegno/repos",
      "events_url": "https://api.github.com/users/jrovegno/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrovegno/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T20:27:57Z",
    "updated_at": "2018-02-28T20:27:57Z",
    "author_association": "NONE",
    "body": "Why, if I use a lambda expression, doesn't run twice the first iteration?\r\n\r\n```python\r\n>>> df = pd.DataFrame({\"a\":[\"x\", \"y\"], \"b\":[1,2]})\r\n>>> identity = lambda row: print(tuple(row))\r\n>>> df2 = df.apply(identity, axis=1)\r\n('x', 1)\r\n('y', 2)\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/371958099",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-371958099",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 371958099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk1ODA5OQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T22:03:54Z",
    "updated_at": "2018-03-09T22:03:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'd like to consider adopting dask's behavior here, where the user provides a `meta` keyword to disable any inference.\r\n\r\n```\r\nAn empty ``pd.DataFrame`` or ``pd.Series`` that matches the dtypes and\r\ncolumn names of the output. This metadata is necessary for many algorithms\r\nin dask dataframe to work.  For ease of use, some alternative inputs are\r\nalso available. Instead of a ``DataFrame``, a ``dict`` of ``{name: dtype}``\r\nor iterable of ``(name, dtype)`` can be provided. Instead of a series, a\r\ntuple of ``(name, dtype)`` can be used. If not provided, dask will try to\r\ninfer the metadata. This may lead to unexpected results, so providing\r\n``meta`` is recommended. For more information, see\r\n``dask.dataframe.utils.make_meta``.\r\n```\r\n\r\nThis has worked quite well for dask."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/371959858",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-371959858",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 371959858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk1OTg1OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T22:11:52Z",
    "updated_at": "2018-03-09T22:11:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "i don’t think we need to do this at all\r\nrather just compute the path once and use it"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/394704839",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2936#issuecomment-394704839",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2936",
    "id": 394704839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDcwNDgzOQ==",
    "user": {
      "login": "erwanp",
      "id": 16088743,
      "node_id": "MDQ6VXNlcjE2MDg4NzQz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/16088743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erwanp",
      "html_url": "https://github.com/erwanp",
      "followers_url": "https://api.github.com/users/erwanp/followers",
      "following_url": "https://api.github.com/users/erwanp/following{/other_user}",
      "gists_url": "https://api.github.com/users/erwanp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erwanp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erwanp/subscriptions",
      "organizations_url": "https://api.github.com/users/erwanp/orgs",
      "repos_url": "https://api.github.com/users/erwanp/repos",
      "events_url": "https://api.github.com/users/erwanp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erwanp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T13:16:29Z",
    "updated_at": "2018-06-05T13:16:29Z",
    "author_association": "NONE",
    "body": "Also using groupby.apply() on little number of groups, that sometimes can be just 1 depending on User inputs. In that particular case the code is 2x slower. \r\n\r\nAn option to force the path would be quite appreciated.  "
  }
]
