[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35627756",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35627756",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35627756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI3NzU2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T14:45:31Z",
    "updated_at": "2014-02-20T14:45:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mangecoeur instead of using iterrows.....just do the loop directly; will be much faster as you are not creating a Series (which you then decompose) each time\n\ne.g. just do:\n\n```\n        columns = self.columns\n        for k, v in zip(self.index, self.values):\n          # work with k,v here\n```\n\nthis munges dtypes btw...e.g. everything gets put into a single dtype. I don't think this matters though?\n\nyou _might_ want to consider doing this by dtype, e.g. use df.as_blocks (which you then select the correct column out of each block). the advantage is that they are already dtype separated\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35629695",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35629695",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35629695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI5Njk1",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T15:02:17Z",
    "updated_at": "2014-02-20T15:02:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback ok i see what you mean. will look into it. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35630401",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35630401",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35630401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMwNDAx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T15:08:47Z",
    "updated_at": "2014-02-20T15:08:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mangecoeur this latter approach is used in `to_csv` actually, see here: https://github.com/pydata/pandas/blob/master/pandas/core/format.py#L1285\n(as well as chunking the writes to use a constant amount of memory). (so see `CSVFormatter._save`). You can basically do this almost exactly I think. This also has substitution routines for example NaT and such (though may need slightly modifications in `to_native_types` to not stringify (or you might want to do this part inline as you want to return SQLAlchemy types). But you could do something like this in the sql.py:\n\n```\nclass Block(object):\n\n      def __init__(self, block):\n            self.block = block\n\n       def format(self, slicer):\n            # return a 'formated block suitable for direct insertion to sql\n\n\nclass DatetimeBlock(Block):\n\n      def format(self, slicer):\n          ....\n\n```\n\netc\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35631008",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35631008",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35631008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMxMDA4",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T15:12:56Z",
    "updated_at": "2014-02-20T15:12:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I think we can keep it simple, since the column types are defined on the SQLAlchemy side by the DB table, sqlalchemy deals with converting python values to SQL types already, all we need is to supply a list of row dicts. Maybe we can optimize this more later.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35631373",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35631373",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35631373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMxMzcz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T15:16:12Z",
    "updated_at": "2014-02-20T15:16:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "sure....just some thoughts....always profile of course!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35631596",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35631596",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35631596,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMxNTk2",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T15:18:15Z",
    "updated_at": "2014-02-20T15:18:15Z",
    "author_association": "MEMBER",
    "body": "@mangecoeur Maybe you can add a vbench to see the effect of this PR? \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35632184",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35632184",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35632184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMyMTg0",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T15:22:42Z",
    "updated_at": "2014-02-20T15:22:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche not got vbench working yet. was just from daily use found it was much faster this way :P will get round to it soonish\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35644132",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35644132",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35644132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjQ0MTMy",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T17:06:04Z",
    "updated_at": "2014-02-20T17:06:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback had a look at that method, turns out that if you iterate over values you get problems with datetime conversion which using `iterrows` appears to solve. Would need to test on pure numeric data for perf comparison to see if its work trying to fix datetime issue.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35645049",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35645049",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35645049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjQ1MDQ5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T17:14:50Z",
    "updated_at": "2014-02-20T17:14:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mangecoeur yeh....as I said, the `self.values` call in and of itself bascially munges everything togther. We can merge this and then put up a future investigate perf issue. \n\nso ready to merge then?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35648616",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35648616",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35648616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjQ4NjE2",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T17:46:38Z",
    "updated_at": "2014-02-20T17:46:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback ok, just cleaned up based on the comments, should be good to go once travis has done its thing.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/35651509",
    "html_url": "https://github.com/pandas-dev/pandas/pull/6420#issuecomment-35651509",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/6420",
    "id": 35651509,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjUxNTA5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-02-20T18:14:20Z",
    "updated_at": "2014-02-20T18:14:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mangecoeur thanks!\n"
  }
]
