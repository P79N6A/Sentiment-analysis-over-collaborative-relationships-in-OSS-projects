[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/179577319",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-179577319",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 179577319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTU3NzMxOQ==",
    "user": {
      "login": "BranYang",
      "id": 4443076,
      "node_id": "MDQ6VXNlcjQ0NDMwNzY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4443076?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BranYang",
      "html_url": "https://github.com/BranYang",
      "followers_url": "https://api.github.com/users/BranYang/followers",
      "following_url": "https://api.github.com/users/BranYang/following{/other_user}",
      "gists_url": "https://api.github.com/users/BranYang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BranYang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BranYang/subscriptions",
      "organizations_url": "https://api.github.com/users/BranYang/orgs",
      "repos_url": "https://api.github.com/users/BranYang/repos",
      "events_url": "https://api.github.com/users/BranYang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BranYang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-04T02:07:36Z",
    "updated_at": "2016-02-04T02:08:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tried the errored call:\n\n``` python\nIn [4]: co2 = pd.read_csv(\"ftp://aftp.cmdl.noaa.gov/products/trends/co2/co2_mm_m\nlo.txt\",\n   ...:                  comment = \"#\", delim_whitespace = True,\n   ...:                 names = [\"year\", \"month\", \"decimal_date\", \"average\", \"in\nterpolated\", \"trend\", \"days\"],\n   ...:                 na_values = {\"decimal_date\" : -99.99, \"days\" : -1})\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n....\ntruncated by bran\n....\n\npandas\\io\\parsers.py in _clean_na_values(na_values,\nkeep_default_na)\n   2210         if keep_default_na:\n   2211             for k, v in compat.iteritems(na_values):\n-> 2212                 v = set(list(v)) | _NA_VALUES\n   2213                 na_values[k] = v\n   2214         na_fvalues = dict([\n\nTypeError: 'int' object is not iterable\n```\n\nSeems that read_csv assumes the values in the na_values dict (something like{key:values}) must be an iterable.\nTo solve this, maybe we should either accept single value in the dict as well, or make it clear in the docstring.\n\nCurrent docstring for na_values\n\n```\nna_values : str, list-like or dict, default None\n    Additional strings to recognize as NA/NaN. If dict passed, specific\n    per-column NA values\n```\n\nI'd be happy to submit a PR for this.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/182600766",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-182600766",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 182600766,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjYwMDc2Ng==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T22:03:59Z",
    "updated_at": "2016-02-10T22:03:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah this is an inconsistency.\n\nseparately I don't recall why we are defined (different!) `_NA_VALUES` in `parser.pyx` and `io.parser.py`. I think this is a mistake. It might have been added accidently, as this makes different na values defaults for python/c parser.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241235677",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-241235677",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 241235677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTIzNTY3Nw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-21T02:45:26Z",
    "updated_at": "2016-08-21T02:45:26Z",
    "author_association": "MEMBER",
    "body": "Here's a nice reproducible example:\n\n``` python\n>>> from pandas import read_csv\n>>> from pandas.compat import StringIO\n>>> data = '1,2\\n2,1'\n>>> read_csv(StringIO(data), names=['a', 'b'], na_values={'a': 2, 'b': 1})\n...\nTypeError: 'int' object is not iterable\n```\n\nNote that this works, however:\n\n``` python\n>>> read_csv(StringIO(data), names=['a', 'b'], na_values=1)\n     a    b\n0  NaN  2.0\n1  2.0  NaN\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241235772",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-241235772",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 241235772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTIzNTc3Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-21T02:48:30Z",
    "updated_at": "2016-08-21T02:48:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "this works if u pass a dict of lists \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/241235923",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-241235923",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 241235923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTIzNTkyMw==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-21T02:53:51Z",
    "updated_at": "2016-08-21T02:53:51Z",
    "author_association": "MEMBER",
    "body": "@jreback : Agreed, but if we accept scalars, we should accept them in the `dict` for consistency.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/355836196",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-355836196",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 355836196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTgzNjE5Ng==",
    "user": {
      "login": "neilser",
      "id": 10872853,
      "node_id": "MDQ6VXNlcjEwODcyODUz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10872853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/neilser",
      "html_url": "https://github.com/neilser",
      "followers_url": "https://api.github.com/users/neilser/followers",
      "following_url": "https://api.github.com/users/neilser/following{/other_user}",
      "gists_url": "https://api.github.com/users/neilser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/neilser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/neilser/subscriptions",
      "organizations_url": "https://api.github.com/users/neilser/orgs",
      "repos_url": "https://api.github.com/users/neilser/repos",
      "events_url": "https://api.github.com/users/neilser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/neilser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-07T16:57:08Z",
    "updated_at": "2018-01-07T16:57:08Z",
    "author_association": "NONE",
    "body": "I'm confused - I have 0.22.0 but I still get the \"not iterable\" error if I pass a dict for `na_values` with a numeric scalar value in it. What can be doing this?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/355843089",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-355843089",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 355843089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTg0MzA4OQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-07T18:45:16Z",
    "updated_at": "2018-01-07T18:45:16Z",
    "author_association": "MEMBER",
    "body": "Can you provide an example to reproduce this?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/355960984",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-355960984",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 355960984,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTk2MDk4NA==",
    "user": {
      "login": "neilser",
      "id": 10872853,
      "node_id": "MDQ6VXNlcjEwODcyODUz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10872853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/neilser",
      "html_url": "https://github.com/neilser",
      "followers_url": "https://api.github.com/users/neilser/followers",
      "following_url": "https://api.github.com/users/neilser/following{/other_user}",
      "gists_url": "https://api.github.com/users/neilser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/neilser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/neilser/subscriptions",
      "organizations_url": "https://api.github.com/users/neilser/orgs",
      "repos_url": "https://api.github.com/users/neilser/repos",
      "events_url": "https://api.github.com/users/neilser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/neilser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T13:04:13Z",
    "updated_at": "2018-01-08T13:06:39Z",
    "author_association": "NONE",
    "body": "Yes - see my other comment at the bottom of this issue: https://github.com/pandas-dev/pandas/issues/1657\r\n(~~I don't know how to link to the actual comment.~~ Direct link to comment: https://github.com/pandas-dev/pandas/issues/1657#issuecomment-355833116\r\nBtw, I'm such a github noob that I'm unsure if I should have just opened a new issue, or commented in previous issues addressing the same problem; I chose the latter...)\r\n\r\nWhen I issue the dict version of the read_csv from that comment, but remove the quotes from one or more of the numeric values, such that this code\r\n```\r\ndf = pd.read_csv(\"hack.csv\", header=None, \r\n                 keep_default_na=False, na_values={2:\"\",6:\"214.008\",1:\"blah\",0:'113125'})\r\n```\r\nchanges to (say) this code:\r\n```\r\ndf = pd.read_csv(\"hack.csv\", header=None, \r\n                 keep_default_na=False, na_values={2:\"\",6:214.008,1:\"blah\",0:'113125'})\r\n```\r\nthen I immediately get the \"not iterable\" error.\r\n  "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/356032259",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-356032259",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 356032259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjAzMjI1OQ==",
    "user": {
      "login": "gfyoung",
      "id": 9273653,
      "node_id": "MDQ6VXNlcjkyNzM2NTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9273653?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gfyoung",
      "html_url": "https://github.com/gfyoung",
      "followers_url": "https://api.github.com/users/gfyoung/followers",
      "following_url": "https://api.github.com/users/gfyoung/following{/other_user}",
      "gists_url": "https://api.github.com/users/gfyoung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gfyoung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gfyoung/subscriptions",
      "organizations_url": "https://api.github.com/users/gfyoung/orgs",
      "repos_url": "https://api.github.com/users/gfyoung/repos",
      "events_url": "https://api.github.com/users/gfyoung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gfyoung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T17:18:45Z",
    "updated_at": "2018-01-08T17:18:45Z",
    "author_association": "MEMBER",
    "body": "@neilser : How odd!  This indeed slipped through the cracks on this one.  Please open another issue with this example and your multiple attempts to read it.  There is definitely something buggy."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/356127091",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12224#issuecomment-356127091",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12224",
    "id": 356127091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjEyNzA5MQ==",
    "user": {
      "login": "neilser",
      "id": 10872853,
      "node_id": "MDQ6VXNlcjEwODcyODUz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10872853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/neilser",
      "html_url": "https://github.com/neilser",
      "followers_url": "https://api.github.com/users/neilser/followers",
      "following_url": "https://api.github.com/users/neilser/following{/other_user}",
      "gists_url": "https://api.github.com/users/neilser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/neilser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/neilser/subscriptions",
      "organizations_url": "https://api.github.com/users/neilser/orgs",
      "repos_url": "https://api.github.com/users/neilser/repos",
      "events_url": "https://api.github.com/users/neilser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/neilser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T23:14:59Z",
    "updated_at": "2018-01-08T23:14:59Z",
    "author_association": "NONE",
    "body": "Sure, will create a new issue when I get a moment (probly tomorrow). Thanks for the feedback :-)"
  }
]
