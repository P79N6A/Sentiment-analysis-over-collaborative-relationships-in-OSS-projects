[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/459034760",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25034#issuecomment-459034760",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25034",
    "id": 459034760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTAzNDc2MA==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T17:31:21Z",
    "updated_at": "2019-01-30T17:31:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "`Series.rename(None)` would be my recommended way of removing the name from\na Series.\n\nWe could use `object()` as the default mapper if we want to support\n`Series.rename_axis(None)`.\n\nOn Wed, Jan 30, 2019 at 11:22 AM Ted Petrou <notifications@github.com>\nwrote:\n\n> Code Sample, a copy-pastable example if possible\n>\n> In 0.23 rename_axis was able to remove the axis name like this:\n>\n> >>> s = pd.Series([1, 2, 3])>>> s = s.rename_axis('asdf')>>> s\n> asdf0    11    22    3\n> dtype: int64\n> >>> s.rename_axis(None)0    11    22    3\n> dtype: int64\n>\n> In 0.24, the mapper parameter is defaulted to None so this does not work.\n> The only way to remove an axis label is to use del s.index.name or\n> s.index.name = None\n> Problem description\n>\n> Seems like a regression. I have some code that relies on axis name removal\n> with s.rename_axis(None). Seems like there is no clean way to remove an\n> axis name now.\n> Expected Output\n>\n> s.rename_axis(None) should work as it did in 0.23.\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/25034>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHIke1TnqYETrTFTQkV_LufIcuE2Pwks5vIdTEgaJpZM4aarl4>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/459036872",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25034#issuecomment-459036872",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25034",
    "id": 459036872,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTAzNjg3Mg==",
    "user": {
      "login": "tdpetrou",
      "id": 7226751,
      "node_id": "MDQ6VXNlcjcyMjY3NTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7226751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdpetrou",
      "html_url": "https://github.com/tdpetrou",
      "followers_url": "https://api.github.com/users/tdpetrou/followers",
      "following_url": "https://api.github.com/users/tdpetrou/following{/other_user}",
      "gists_url": "https://api.github.com/users/tdpetrou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tdpetrou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tdpetrou/subscriptions",
      "organizations_url": "https://api.github.com/users/tdpetrou/orgs",
      "repos_url": "https://api.github.com/users/tdpetrou/repos",
      "events_url": "https://api.github.com/users/tdpetrou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tdpetrou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T17:37:14Z",
    "updated_at": "2019-01-30T17:37:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@TomAugspurger That renames the Series `name` attribute. My example involves renaming the axis name. This would go for both the Series and the DataFrame."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/459037515",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25034#issuecomment-459037515",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25034",
    "id": 459037515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTAzNzUxNQ==",
    "user": {
      "login": "TomAugspurger",
      "id": 1312546,
      "node_id": "MDQ6VXNlcjEzMTI1NDY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TomAugspurger",
      "html_url": "https://github.com/TomAugspurger",
      "followers_url": "https://api.github.com/users/TomAugspurger/followers",
      "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
      "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
      "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
      "repos_url": "https://api.github.com/users/TomAugspurger/repos",
      "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T17:39:08Z",
    "updated_at": "2019-01-30T17:39:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, sorry misread.\n\nOn Wed, Jan 30, 2019 at 11:37 AM Ted Petrou <notifications@github.com>\nwrote:\n\n> @TomAugspurger <https://github.com/TomAugspurger> That renames the Series\n> name attribute. My example involves renaming the axis name. This would go\n> for both the Series and the DataFrame.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pandas-dev/pandas/issues/25034#issuecomment-459036872>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABQHItdbUXetlr8P_gUL4rpTDwZuCtoUks5vIdhPgaJpZM4aarl4>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/459113397",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25034#issuecomment-459113397",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25034",
    "id": 459113397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTExMzM5Nw==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T21:19:55Z",
    "updated_at": "2019-01-30T21:19:55Z",
    "author_association": "MEMBER",
    "body": "> The only way to remove an axis label is to use `del s.index.name` or `s.index.name = None`\r\n\r\nYou can also pass `lambda x: None` for the `index` argument of `rename_axis`.\r\n\r\nStill should fix the regression of course, but at least this provides method chaining compatible workaround in the meantime:\r\n\r\n```python\r\nIn [2]: s = pd.Series([1, 2, 3], index=pd.Index(list('abc'), name='foo'))\r\n\r\nIn [3]: s\r\nOut[3]:\r\nfoo\r\na    1\r\nb    2\r\nc    3\r\ndtype: int64\r\n\r\nIn [4]: s.rename_axis(index=lambda x: None)\r\nOut[4]:\r\na    1\r\nb    2\r\nc    3\r\ndtype: int64\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/459395396",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25034#issuecomment-459395396",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25034",
    "id": 459395396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTM5NTM5Ng==",
    "user": {
      "login": "tdpetrou",
      "id": 7226751,
      "node_id": "MDQ6VXNlcjcyMjY3NTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7226751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdpetrou",
      "html_url": "https://github.com/tdpetrou",
      "followers_url": "https://api.github.com/users/tdpetrou/followers",
      "following_url": "https://api.github.com/users/tdpetrou/following{/other_user}",
      "gists_url": "https://api.github.com/users/tdpetrou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tdpetrou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tdpetrou/subscriptions",
      "organizations_url": "https://api.github.com/users/tdpetrou/orgs",
      "repos_url": "https://api.github.com/users/tdpetrou/repos",
      "events_url": "https://api.github.com/users/tdpetrou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tdpetrou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T15:52:11Z",
    "updated_at": "2019-01-31T15:52:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jschendel Thank you for pointing out an alternative. Seems like one way to correct this is to have all the axis level names set equal to None when calling `s.rename_axis()` or `df.rename_axis()`. I'm not even sure what semantics would work here."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/459619266",
    "html_url": "https://github.com/pandas-dev/pandas/issues/25034#issuecomment-459619266",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/25034",
    "id": 459619266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTYxOTI2Ng==",
    "user": {
      "login": "jschendel",
      "id": 5332445,
      "node_id": "MDQ6VXNlcjUzMzI0NDU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5332445?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jschendel",
      "html_url": "https://github.com/jschendel",
      "followers_url": "https://api.github.com/users/jschendel/followers",
      "following_url": "https://api.github.com/users/jschendel/following{/other_user}",
      "gists_url": "https://api.github.com/users/jschendel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jschendel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jschendel/subscriptions",
      "organizations_url": "https://api.github.com/users/jschendel/orgs",
      "repos_url": "https://api.github.com/users/jschendel/repos",
      "events_url": "https://api.github.com/users/jschendel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jschendel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-01T06:18:20Z",
    "updated_at": "2019-02-01T16:05:20Z",
    "author_association": "MEMBER",
    "body": "> Seems like one way to correct this is to have all the axis level names set equal to None when calling `s.rename_axis()` or `df.rename_axis()`\r\n\r\nI think it could probably be implemented this way, though would require some care in handling all the params (`mapper`, `index`, `columns`, `axis`) without unnecesarily removing an axis name, e.g. not removing the column name when `mapper=None` and `axis=0`.\r\n\r\nThe PR I opened basically follows @TomAugspurger's suggestion of using a sentinel value, like `object()`, and using `is` comparisons, so even if for some crazy reason someone wanted to rename their axis to `object()` it'd work, as it'd be a different instance and have a different `id`.\r\n\r\nBasically:\r\n```python\r\nIn [1]: sentinel = object()\r\n\r\nIn [2]: def foo(bar=sentinel):\r\n   ...:     if bar is sentinel:\r\n   ...:         return 'sentinel'\r\n   ...:     return bar\r\n\r\nIn [3]: foo()\r\nOut[3]: 'sentinel'\r\n\r\nIn [4]: foo(None) is None\r\nOut[4]: True\r\n\r\nIn [5]: foo(object())\r\nOut[5]: <object at 0x7ff8cde2d8e0>\r\n```\r\nThis implementation has the advantage that `df.rename_axis()` does nothing, so users have to be explicit about what they want to change, and minimizes the potential for surprising results from a user perspective."
  }
]
