[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/216075224",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13051#issuecomment-216075224",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13051",
    "id": 216075224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjA3NTIyNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-01T21:53:35Z",
    "updated_at": "2016-05-01T21:53:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "So this is correct if you construct the Series correctly.\n\n```\nIn [17]: dt_list\nOut[17]: \n[Timestamp('2016-05-01 02:03:37'),\n Timestamp('2016-04-30 19:03:37-0700', tz='US/Pacific')]\n\nIn [18]: Series(dt_list,dtype=object)\nOut[18]: \n0          2016-05-01 02:03:37\n1    2016-04-30 19:03:37-07:00\ndtype: object\n\nIn [19]: Series(dt_list,dtype=object).apply(lambda x: x.hour)\nOut[19]: \n0     2\n1    19\ndtype: int64\n```\n\nI suppose _this_ is a bug, we should not be coercing a non-tz-aware AND a dt-aware.\n\n```\nIn [20]: Series(dt_list)\nOut[20]: \n0   2016-04-30 19:03:37-07:00\n1   2016-04-30 19:03:37-07:00\ndtype: datetime64[ns, US/Pacific]\n```\n\nHowever as a user you have to be aware that putting tz-aware and tz-naive data together is basically meaningless.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/216075235",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13051#issuecomment-216075235",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13051",
    "id": 216075235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjA3NTIzNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-01T21:53:40Z",
    "updated_at": "2016-05-01T21:53:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @sinhrks \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/216078956",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13051#issuecomment-216078956",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13051",
    "id": 216078956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjA3ODk1Ng==",
    "user": {
      "login": "frankcleary",
      "id": 5619798,
      "node_id": "MDQ6VXNlcjU2MTk3OTg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5619798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankcleary",
      "html_url": "https://github.com/frankcleary",
      "followers_url": "https://api.github.com/users/frankcleary/followers",
      "following_url": "https://api.github.com/users/frankcleary/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankcleary/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankcleary/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankcleary/subscriptions",
      "organizations_url": "https://api.github.com/users/frankcleary/orgs",
      "repos_url": "https://api.github.com/users/frankcleary/repos",
      "events_url": "https://api.github.com/users/frankcleary/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankcleary/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-01T22:46:25Z",
    "updated_at": "2016-05-01T22:46:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Good to keep in mind, sorry my example wasn't the best. I don't think the breakage in my client code was due to a mixing of tz-aware and tz-native data though, of course it is possible I wasn't using the API correctly. Here's some more testing:\n\nIn 0.18.0 this is the case:\n\n``` python\n>>> pd.Series(dt_localized).apply(hour_of_day)\n0    2\ndtype: int64\n# Adding dtype results in expected behavior.\n>>> pd.Series(dt_localized, dtype=object).apply(hour_of_day)\n0    19\ndtype: int64\n```\n\nHowever in 0.16 and in master it does give the result I expect:\n\n``` python\n>>> pd.Series(dt_localized).apply(hour_of_day)\n0    19\ndtype: int32\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/216080005",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13051#issuecomment-216080005",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13051",
    "id": 216080005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjA4MDAwNQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-01T23:01:56Z",
    "updated_at": "2016-05-01T23:01:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@frankcleary what you are doing is quite inefficient, don't use apply expect as a last resort. Series holds a single dtype, using `object` is a further inefficiency.\n\n```\nIn [1]: s =  Series(pd.date_range('20130101',periods=3,tz='US/Pacific', freq='2H'))\n\nIn [2]: s\nOut[2]: \n0   2013-01-01 00:00:00-08:00\n1   2013-01-01 02:00:00-08:00\n2   2013-01-01 04:00:00-08:00\ndtype: datetime64[ns, US/Pacific]\n\nIn [3]: s.dt.hour\nOut[3]: \n0    0\n1    2\n2    4\ndtype: int64\n```\n"
  }
]
