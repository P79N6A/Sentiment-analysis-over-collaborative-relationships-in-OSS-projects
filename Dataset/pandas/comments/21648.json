[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/400495068",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-400495068",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 400495068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDQ5NTA2OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-26T23:31:09Z",
    "updated_at": "2018-06-26T23:31:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "look at past issues - pls link them if you wish to reopen the discussion \r\n\r\nthis was heavily discussed "
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/400503650",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-400503650",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 400503650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDUwMzY1MA==",
    "user": {
      "login": "topper-123",
      "id": 26364415,
      "node_id": "MDQ6VXNlcjI2MzY0NDE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26364415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/topper-123",
      "html_url": "https://github.com/topper-123",
      "followers_url": "https://api.github.com/users/topper-123/followers",
      "following_url": "https://api.github.com/users/topper-123/following{/other_user}",
      "gists_url": "https://api.github.com/users/topper-123/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/topper-123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/topper-123/subscriptions",
      "organizations_url": "https://api.github.com/users/topper-123/orgs",
      "repos_url": "https://api.github.com/users/topper-123/repos",
      "events_url": "https://api.github.com/users/topper-123/events{/privacy}",
      "received_events_url": "https://api.github.com/users/topper-123/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-27T00:22:16Z",
    "updated_at": "2018-06-27T00:22:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, found it here #8559. I had looked for the word \"categorical.unique\", which isn't found in that issue...\r\n\r\nAnyway, not sure I understand the reasoning there, e.g this\r\n\r\n> So ``df_quotes[outlier_filter].symbol.unique()`` is equivalent to ``df_quotes.symbol.cat.categories``. \r\n\r\nis not true (see my example above).\r\n\r\nIs the issue about plotting? I.e. unused categories are plotted, and you'd often want to not plot unused categories? That's reasonable, though in other instances you'd would want to plot unused categories (e.g. to show no observation occurred). Most often you'd probably want to not plot unused categories, I guess.\r\n\r\nIf the issue is about plotting this should IMO ideally be handled at the plotting level/library, though I can see that that would be a bigger operation and may not be worth it to change this at the pandas level."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/400507548",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-400507548",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 400507548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDUwNzU0OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-27T00:46:15Z",
    "updated_at": "2018-06-27T00:46:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "what actually should happen is that .unique() (and some other methods) should gain observed= kwargs"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/401166410",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-401166410",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 401166410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTE2NjQxMA==",
    "user": {
      "login": "topper-123",
      "id": 26364415,
      "node_id": "MDQ6VXNlcjI2MzY0NDE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26364415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/topper-123",
      "html_url": "https://github.com/topper-123",
      "followers_url": "https://api.github.com/users/topper-123/followers",
      "following_url": "https://api.github.com/users/topper-123/following{/other_user}",
      "gists_url": "https://api.github.com/users/topper-123/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/topper-123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/topper-123/subscriptions",
      "organizations_url": "https://api.github.com/users/topper-123/orgs",
      "repos_url": "https://api.github.com/users/topper-123/repos",
      "events_url": "https://api.github.com/users/topper-123/events{/privacy}",
      "received_events_url": "https://api.github.com/users/topper-123/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-28T20:40:41Z",
    "updated_at": "2018-06-28T20:40:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't that's work, as Series.unique(observed=True) wouldn't work/make sense if the underlying Array is not a Categorical.\r\n\r\nI think the reasonable answer to finding unique values for Categoricals is to show categories also, i.e.: \r\n\r\n```python\r\n[good, bad]\r\nCategories (5, object): [very good < good < neutral < bad < very bad]\r\n``` \r\n\r\nis more informative than \r\n\r\n```python\r\n[good, bad]\r\nCategories (5, object): [good < bad]\r\n``` \r\n\r\nSo I don't quite understand the motivation for the current implementation (unless there is a specific reason, e.g. plotting).\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405410851",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-405410851",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 405410851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTQxMDg1MQ==",
    "user": {
      "login": "topper-123",
      "id": 26364415,
      "node_id": "MDQ6VXNlcjI2MzY0NDE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26364415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/topper-123",
      "html_url": "https://github.com/topper-123",
      "followers_url": "https://api.github.com/users/topper-123/followers",
      "following_url": "https://api.github.com/users/topper-123/following{/other_user}",
      "gists_url": "https://api.github.com/users/topper-123/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/topper-123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/topper-123/subscriptions",
      "organizations_url": "https://api.github.com/users/topper-123/orgs",
      "repos_url": "https://api.github.com/users/topper-123/repos",
      "events_url": "https://api.github.com/users/topper-123/events{/privacy}",
      "received_events_url": "https://api.github.com/users/topper-123/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-16T23:22:55Z",
    "updated_at": "2018-07-17T07:50:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jankatins what's the reasoning for dropping unused categores in your PR #8937? do you have an argument for not keeping the categories?\r\n\r\n@jorisvandenbossche , you commented in #8559:\r\n\r\n> For the unique case I also think we should only return the categories that occur in the series (or return a Categorical)\r\n\r\nDo you have reason for this? I don't really understand why these should be dropped.\r\n\r\nIn R, they're not dropped AFAIKT:\r\n\r\n```r\r\n> f <- factor(c('a', 'a', 'b', 'b'))[1:2]\r\n> f\r\na a\r\nLevels:\r\n    'a' 'b' \r\n> unique(f)\r\na \r\nLevels:\r\n    'a' 'b' \r\n```\r\n\r\nNotice how the levels (categories) have not been reduced.\r\n\r\nEDIT: Changed the R example, it was showing a wrong example"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405529308",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-405529308",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 405529308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTUyOTMwOA==",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-17T10:02:44Z",
    "updated_at": "2018-07-17T10:03:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "The discussion happened here: https://github.com/pandas-dev/pandas/issues/8559#issuecomment-59416072 + https://github.com/pandas-dev/pandas/issues/8559#issuecomment-64189570 \r\n\r\nThere the argument was that we follow Rs handling in these cases (see the first link)."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/405998442",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-405998442",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 405998442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTk5ODQ0Mg==",
    "user": {
      "login": "topper-123",
      "id": 26364415,
      "node_id": "MDQ6VXNlcjI2MzY0NDE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26364415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/topper-123",
      "html_url": "https://github.com/topper-123",
      "followers_url": "https://api.github.com/users/topper-123/followers",
      "following_url": "https://api.github.com/users/topper-123/following{/other_user}",
      "gists_url": "https://api.github.com/users/topper-123/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/topper-123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/topper-123/subscriptions",
      "organizations_url": "https://api.github.com/users/topper-123/orgs",
      "repos_url": "https://api.github.com/users/topper-123/repos",
      "events_url": "https://api.github.com/users/topper-123/events{/privacy}",
      "received_events_url": "https://api.github.com/users/topper-123/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-18T16:45:08Z",
    "updated_at": "2018-07-18T16:45:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, but it seems that pandas does not do it the same way as R, right (See my example above). In the discussion you also say \r\n\r\n> Interestingly unique returns a factor (with all levels, but only the \"used\" levels as values) when the input is a factor:\r\n\r\nSo to follow R, we should have:\r\n\r\n```python\r\n>>> cat.unique()\r\n[good, bad]\r\nCategories (5, object): [very good < good < neutral < bad < very bad]\r\n```\r\n\r\nCorrect?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/406006918",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-406006918",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 406006918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjAwNjkxOA==",
    "user": {
      "login": "jankatins",
      "id": 890156,
      "node_id": "MDQ6VXNlcjg5MDE1Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/890156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jankatins",
      "html_url": "https://github.com/jankatins",
      "followers_url": "https://api.github.com/users/jankatins/followers",
      "following_url": "https://api.github.com/users/jankatins/following{/other_user}",
      "gists_url": "https://api.github.com/users/jankatins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jankatins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jankatins/subscriptions",
      "organizations_url": "https://api.github.com/users/jankatins/orgs",
      "repos_url": "https://api.github.com/users/jankatins/repos",
      "events_url": "https://api.github.com/users/jankatins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jankatins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-18T17:13:17Z",
    "updated_at": "2018-07-18T17:13:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would usually say yes (I'm usually arguing that Categorical should be optimized for Lickert scales and not as a pd.String replacement). If I read the commit from #8937 right, then at that time unique() was returning a numpy array and not a Categorical (https://github.com/pandas-dev/pandas/commit/8290a4dd933f59998e5c825fa6178f26f8bcc552)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/406087214",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-406087214",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 406087214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjA4NzIxNA==",
    "user": {
      "login": "topper-123",
      "id": 26364415,
      "node_id": "MDQ6VXNlcjI2MzY0NDE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26364415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/topper-123",
      "html_url": "https://github.com/topper-123",
      "followers_url": "https://api.github.com/users/topper-123/followers",
      "following_url": "https://api.github.com/users/topper-123/following{/other_user}",
      "gists_url": "https://api.github.com/users/topper-123/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/topper-123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/topper-123/subscriptions",
      "organizations_url": "https://api.github.com/users/topper-123/orgs",
      "repos_url": "https://api.github.com/users/topper-123/repos",
      "events_url": "https://api.github.com/users/topper-123/events{/privacy}",
      "received_events_url": "https://api.github.com/users/topper-123/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-18T21:58:10Z",
    "updated_at": "2018-07-18T21:58:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah yes, I see that now. The relevant PR is actually #10508. From that PR I saw referenced #18291, an issue that proposes the same changes as I propose + a few more details.\r\n\r\nI agree with the sentiment in #18291 and this issue is more or less a duplicate of that one. So I'll close this later today, unless someone thinks otherwise."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/406102568",
    "html_url": "https://github.com/pandas-dev/pandas/issues/21648#issuecomment-406102568",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/21648",
    "id": 406102568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjEwMjU2OA==",
    "user": {
      "login": "topper-123",
      "id": 26364415,
      "node_id": "MDQ6VXNlcjI2MzY0NDE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26364415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/topper-123",
      "html_url": "https://github.com/topper-123",
      "followers_url": "https://api.github.com/users/topper-123/followers",
      "following_url": "https://api.github.com/users/topper-123/following{/other_user}",
      "gists_url": "https://api.github.com/users/topper-123/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/topper-123/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/topper-123/subscriptions",
      "organizations_url": "https://api.github.com/users/topper-123/orgs",
      "repos_url": "https://api.github.com/users/topper-123/repos",
      "events_url": "https://api.github.com/users/topper-123/events{/privacy}",
      "received_events_url": "https://api.github.com/users/topper-123/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-18T23:13:24Z",
    "updated_at": "2018-07-18T23:13:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing as a duplicate of #18291"
  }
]
