[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157693826",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157693826",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157693826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzY5MzgyNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-18T12:20:24Z",
    "updated_at": "2015-11-18T12:20:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, I recall seeing almost the same issue, but can't locate ATM. yep, looks buggy. pull-requests to fix are welcome.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157904833",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157904833",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157904833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkwNDgzMw==",
    "user": {
      "login": "varinf",
      "id": 2503544,
      "node_id": "MDQ6VXNlcjI1MDM1NDQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2503544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/varinf",
      "html_url": "https://github.com/varinf",
      "followers_url": "https://api.github.com/users/varinf/followers",
      "following_url": "https://api.github.com/users/varinf/following{/other_user}",
      "gists_url": "https://api.github.com/users/varinf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/varinf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/varinf/subscriptions",
      "organizations_url": "https://api.github.com/users/varinf/orgs",
      "repos_url": "https://api.github.com/users/varinf/repos",
      "events_url": "https://api.github.com/users/varinf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/varinf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T00:08:50Z",
    "updated_at": "2015-11-19T00:11:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback  In [comman.py](https://github.com/pydata/pandas/blob/master/pandas/core/common.py#L1040)\n it is upcasting int8 to int64. \n\n``` python\n # provide implicity upcast on scalars\n    elif is_integer(val):\n        dtype = np.int64\n\n    elif is_float(val):\n        dtype = np.float64\n```\n\nif there is no specific requirement for upcasting, then I can do a PR .\nMy proposed solution is using np.issubdtype inside is_integer and is_float function to provide support for all kind of int and float types.\nPlease suggest . \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157905578",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157905578",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157905578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkwNTU3OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T00:13:08Z",
    "updated_at": "2015-11-19T00:13:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is actually tricky. do `lib.isscalar` on the `val` first, if its a scalar, then use the defaults, else you should 'assume' its a zero-dim scalar and do `val.dtype`\n\nalternatively you can do\n\n```\nif isinstance(val, ndarray):\n    dtype = val.dtype\nelse:\n    dtype = np.int64\n\n```\n\netc (this might be better)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157915610",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157915610",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157915610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkxNTYxMA==",
    "user": {
      "login": "varinf",
      "id": 2503544,
      "node_id": "MDQ6VXNlcjI1MDM1NDQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2503544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/varinf",
      "html_url": "https://github.com/varinf",
      "followers_url": "https://api.github.com/users/varinf/followers",
      "following_url": "https://api.github.com/users/varinf/following{/other_user}",
      "gists_url": "https://api.github.com/users/varinf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/varinf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/varinf/subscriptions",
      "organizations_url": "https://api.github.com/users/varinf/orgs",
      "repos_url": "https://api.github.com/users/varinf/repos",
      "events_url": "https://api.github.com/users/varinf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/varinf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T01:17:44Z",
    "updated_at": "2015-11-19T01:17:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "We are calling [_infer_dtype_from_scalar(val)](https://github.com/pydata/pandas/blob/master/pandas/core/common.py#L1004) which is already doing this job. How does it solve the problem ? Am I missing something ?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157915969",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157915969",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157915969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkxNTk2OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T01:20:03Z",
    "updated_at": "2015-11-19T01:20:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "right......so must be someplace else then (because `_infer_dtype_from_scalar` is doing the correct job)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157917485",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157917485",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157917485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkxNzQ4NQ==",
    "user": {
      "login": "varinf",
      "id": 2503544,
      "node_id": "MDQ6VXNlcjI1MDM1NDQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2503544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/varinf",
      "html_url": "https://github.com/varinf",
      "followers_url": "https://api.github.com/users/varinf/followers",
      "following_url": "https://api.github.com/users/varinf/following{/other_user}",
      "gists_url": "https://api.github.com/users/varinf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/varinf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/varinf/subscriptions",
      "organizations_url": "https://api.github.com/users/varinf/orgs",
      "repos_url": "https://api.github.com/users/varinf/repos",
      "events_url": "https://api.github.com/users/varinf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/varinf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T01:25:51Z",
    "updated_at": "2015-11-19T01:25:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "As pointed earlier , how about modifying _infer_dtype_from_scalar(val) and use np.issubdtype inside [is_integer(val)](https://github.com/pydata/pandas/blob/master/pandas/core/common.py#L1041) and is_float(val) function to provide support for all kind of int and float types ? I am assuming that this will generate the same error for float types as well.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157919971",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157919971",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157919971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkxOTk3MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T01:40:47Z",
    "updated_at": "2015-11-19T01:40:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "how would that help?\nthese are already caught above\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157935685",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157935685",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157935685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkzNTY4NQ==",
    "user": {
      "login": "varinf",
      "id": 2503544,
      "node_id": "MDQ6VXNlcjI1MDM1NDQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2503544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/varinf",
      "html_url": "https://github.com/varinf",
      "followers_url": "https://api.github.com/users/varinf/followers",
      "following_url": "https://api.github.com/users/varinf/following{/other_user}",
      "gists_url": "https://api.github.com/users/varinf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/varinf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/varinf/subscriptions",
      "organizations_url": "https://api.github.com/users/varinf/orgs",
      "repos_url": "https://api.github.com/users/varinf/repos",
      "events_url": "https://api.github.com/users/varinf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/varinf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T03:14:37Z",
    "updated_at": "2015-11-19T03:14:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "If we modify integer and float conditions in [_infer_dtype_from_scalar(val)](https://github.com/pydata/pandas/blob/master/pandas/core/common.py#L1040)  like this \n\n``` python\nelif is_integer(val):\n        if isinstance(val, int):\n            dtype = np.int64\n        else:\n            dtype = type(val)\n\nelif is_float(val):\n        if isinstance(val, float):\n            dtype = np.float64\n        else:\n            dtype = type(val)\n```\n\nIt will resolve the discrepancy without breaking anything. Please suggest .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/157935953",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-157935953",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 157935953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkzNTk1Mw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-19T03:17:35Z",
    "updated_at": "2015-11-19T03:18:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "ahh, the problem is this:\n\n```\nIn [1]: x = np.int8(7)\n\nIn [2]: isinstance(x, np.ndarray)\nOut[2]: False\n\nIn [9]: pd.core.common.is_integer(x)\nOut[9]: 1\n```\n\nyou can try that change that you are suggesting above and see what breaks (and of course add a test for this behavior).\n\nIt _looks_ like it should work.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/158247064",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-158247064",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 158247064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODI0NzA2NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-20T00:59:32Z",
    "updated_at": "2015-11-20T00:59:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "closed by #11644 \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/158427290",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-158427290",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 158427290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQyNzI5MA==",
    "user": {
      "login": "cpaulik",
      "id": 380927,
      "node_id": "MDQ6VXNlcjM4MDkyNw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/380927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpaulik",
      "html_url": "https://github.com/cpaulik",
      "followers_url": "https://api.github.com/users/cpaulik/followers",
      "following_url": "https://api.github.com/users/cpaulik/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpaulik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpaulik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpaulik/subscriptions",
      "organizations_url": "https://api.github.com/users/cpaulik/orgs",
      "repos_url": "https://api.github.com/users/cpaulik/repos",
      "events_url": "https://api.github.com/users/cpaulik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpaulik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-20T15:13:51Z",
    "updated_at": "2015-11-20T15:13:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Wow, thank you for the quick fix. I was going to try but got lost in the pandas internals. Maybe next time :smile: \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/158429199",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11638#issuecomment-158429199",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11638",
    "id": 158429199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQyOTE5OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-20T15:18:49Z",
    "updated_at": "2015-11-20T15:18:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "thank @varun-kr !\n"
  }
]
