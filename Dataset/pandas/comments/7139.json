[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44069688",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-44069688",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 44069688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDY5Njg4",
    "user": {
      "login": "danbirken",
      "id": 91798,
      "node_id": "MDQ6VXNlcjkxNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/91798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danbirken",
      "html_url": "https://github.com/danbirken",
      "followers_url": "https://api.github.com/users/danbirken/followers",
      "following_url": "https://api.github.com/users/danbirken/following{/other_user}",
      "gists_url": "https://api.github.com/users/danbirken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danbirken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danbirken/subscriptions",
      "organizations_url": "https://api.github.com/users/danbirken/orgs",
      "repos_url": "https://api.github.com/users/danbirken/repos",
      "events_url": "https://api.github.com/users/danbirken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danbirken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-23T23:19:19Z",
    "updated_at": "2014-05-23T23:19:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can't seem to mimic this error.  I can mimic the aspect where a `datetime with time zone` column isn't parsed into a datetime64[ns] column, but on my version it seems to happily be parsed into datetime object without error: https://gist.github.com/danbirken/cfd489282f54bc94d3ec\n\nFixing the underlying issue is actually really easy, you can just add `utc=True` to the `to_datetime()` calls in `_handle_date_column()`, but there is a slight catch.  If you set `utc=True`, then all of the datetimes are converted to UTC and you lose the timezone information.  And I think this is bad, since it would lose the property of being able to convert a table into a DataFrame, and then converting that DataFrame back into the same table.\n\nSo basically, I think this is working as intended, but if you can provide a full sample code or sample SQL dump that reproduces the error I'll take a look at it.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44906621",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-44906621",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 44906621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTA2NjIx",
    "user": {
      "login": "danbirken",
      "id": 91798,
      "node_id": "MDQ6VXNlcjkxNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/91798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danbirken",
      "html_url": "https://github.com/danbirken",
      "followers_url": "https://api.github.com/users/danbirken/followers",
      "following_url": "https://api.github.com/users/danbirken/following{/other_user}",
      "gists_url": "https://api.github.com/users/danbirken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danbirken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danbirken/subscriptions",
      "organizations_url": "https://api.github.com/users/danbirken/orgs",
      "repos_url": "https://api.github.com/users/danbirken/repos",
      "events_url": "https://api.github.com/users/danbirken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danbirken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-03T00:14:11Z",
    "updated_at": "2014-06-03T00:14:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "FYI I have dug into this and have finally replicated it!  Error message was a little misleading.\n\nThe issue is that if you have a `datetime with time zone` column that has datetimes with different time zones (which will happen if you have DST and non-DST datetimes for example), then you'll get this error (triggered by: https://github.com/pydata/pandas/blob/master/pandas/tslib.pyx#L1051).\n\nSimple gist to cause it: https://gist.github.com/danbirken/8f52541c453b386b8049\n\nSo this issue is very valid and I'll try to come up with a reasonable fix for it.  I've discovered some related things while digging into this so maybe I can improve multiple things at once.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44927742",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-44927742",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 44927742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTI3NzQy",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-03T07:24:35Z",
    "updated_at": "2014-06-03T07:24:35Z",
    "author_association": "MEMBER",
    "body": "@danbirken Thanks a lot for looking into this!\n\nI still have to look more detailed to what you have written, and see if I can reproduce it with the example you provided. But I can confirm that it was indeed a database table where the datetime column spanned both DST and non-DST periods.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/44935336",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-44935336",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 44935336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTM1MzM2",
    "user": {
      "login": "danbirken",
      "id": 91798,
      "node_id": "MDQ6VXNlcjkxNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/91798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danbirken",
      "html_url": "https://github.com/danbirken",
      "followers_url": "https://api.github.com/users/danbirken/followers",
      "following_url": "https://api.github.com/users/danbirken/following{/other_user}",
      "gists_url": "https://api.github.com/users/danbirken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danbirken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danbirken/subscriptions",
      "organizations_url": "https://api.github.com/users/danbirken/orgs",
      "repos_url": "https://api.github.com/users/danbirken/repos",
      "events_url": "https://api.github.com/users/danbirken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danbirken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-03T08:12:41Z",
    "updated_at": "2014-06-03T08:12:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah that is what I suspected, and given this will be a common issue it is a problem.  I have a few ideas how to fix this i'll get some code out this week.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/45286751",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-45286751",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 45286751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mjg2NzUx",
    "user": {
      "login": "danbirken",
      "id": 91798,
      "node_id": "MDQ6VXNlcjkxNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/91798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danbirken",
      "html_url": "https://github.com/danbirken",
      "followers_url": "https://api.github.com/users/danbirken/followers",
      "following_url": "https://api.github.com/users/danbirken/following{/other_user}",
      "gists_url": "https://api.github.com/users/danbirken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danbirken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danbirken/subscriptions",
      "organizations_url": "https://api.github.com/users/danbirken/orgs",
      "repos_url": "https://api.github.com/users/danbirken/repos",
      "events_url": "https://api.github.com/users/danbirken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danbirken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-05T23:12:51Z",
    "updated_at": "2014-06-05T23:12:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ignore this for a moment, after submitting I have had a change of heart on the best way to fix it.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/45292180",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-45292180",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 45292180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjkyMTgw",
    "user": {
      "login": "danbirken",
      "id": 91798,
      "node_id": "MDQ6VXNlcjkxNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/91798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danbirken",
      "html_url": "https://github.com/danbirken",
      "followers_url": "https://api.github.com/users/danbirken/followers",
      "following_url": "https://api.github.com/users/danbirken/following{/other_user}",
      "gists_url": "https://api.github.com/users/danbirken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danbirken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danbirken/subscriptions",
      "organizations_url": "https://api.github.com/users/danbirken/orgs",
      "repos_url": "https://api.github.com/users/danbirken/repos",
      "events_url": "https://api.github.com/users/danbirken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danbirken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-06T00:43:31Z",
    "updated_at": "2014-06-06T00:43:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Alright, my change of heart is that if `errors='ignore'`, then `to_datetime` should not be raising this error in the first place.\n\nSo I switched the logic to prevent this error from being raised to `to_datetime`, and added the test for this specific case over there.\n\nI also added in an additional feature, which is the keyword `convert_dates_to_utc` for all of the `read_xyz` functions.  This allows somebody who has a table with `datetime with time zone` fields to allow pandas to convert them to UTC, which means they will be converted to a datetime64 array which will use less space and be faster.  I think it makes a lot of sense for this to be True by default, but I made it False by default in this change in the interest of backwards compatibility.\n\nSo with this change, the only real functionality change is that this error wont be triggered anymore.  However, if a person uses the new `convert_dates_to_utc` feature then they get an additional bonus.\n\nI reconfigured `test_sql.py` a little bit because AFAIK this change only makes a difference on Postgres, and it didn't make sense (and caused problems) to even pretend it applied to either mysql or sqlite.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/45293246",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-45293246",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 45293246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjkzMjQ2",
    "user": {
      "login": "danbirken",
      "id": 91798,
      "node_id": "MDQ6VXNlcjkxNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/91798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danbirken",
      "html_url": "https://github.com/danbirken",
      "followers_url": "https://api.github.com/users/danbirken/followers",
      "following_url": "https://api.github.com/users/danbirken/following{/other_user}",
      "gists_url": "https://api.github.com/users/danbirken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danbirken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danbirken/subscriptions",
      "organizations_url": "https://api.github.com/users/danbirken/orgs",
      "repos_url": "https://api.github.com/users/danbirken/repos",
      "events_url": "https://api.github.com/users/danbirken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danbirken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-06T01:05:23Z",
    "updated_at": "2014-06-06T01:05:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "(Resubmitting same change again because travis tests broke on an intermittent network error and I like that green check mark)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/84036531",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-84036531",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 84036531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MDM2NTMx",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-20T14:54:00Z",
    "updated_at": "2015-03-20T14:54:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just run into this bug. Another minimal way to workaround this would be to make the date_time handling for \"known\" Datetime columns obey the `parse_dates` option. At the moment `parse_dates` only affects non-datetime columns that you might want to force interpreted as datetimes. Setting it to false doesn't affect handling of columns which already have Datetime type so `to_datetime` is called on them, triggering the bug. If setting `parse_dates=False` meant that `to_datetime` was never called you would get an object column you'd have to handle manually, but you wouldn't get this bug. Not as nice as it actually working but at least gives you the option of a workaround...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/85086273",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-85086273",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 85086273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MDg2Mjcz",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-23T16:40:00Z",
    "updated_at": "2015-03-23T16:40:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Running into this bug a lot right with handling DST-enabled datetimes, any idea when this will be merged?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/85295882",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-85295882",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 85295882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk1ODgy",
    "user": {
      "login": "danbirken",
      "id": 91798,
      "node_id": "MDQ6VXNlcjkxNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/91798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danbirken",
      "html_url": "https://github.com/danbirken",
      "followers_url": "https://api.github.com/users/danbirken/followers",
      "following_url": "https://api.github.com/users/danbirken/following{/other_user}",
      "gists_url": "https://api.github.com/users/danbirken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danbirken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danbirken/subscriptions",
      "organizations_url": "https://api.github.com/users/danbirken/orgs",
      "repos_url": "https://api.github.com/users/danbirken/repos",
      "events_url": "https://api.github.com/users/danbirken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danbirken/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-24T02:14:16Z",
    "updated_at": "2015-03-24T02:14:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is no perfect solution to this bug which is why I suspect no solution has been merged.\n\nI've updated the pull request with my 4th and final proposal to fix this bug, and it is the simplest and I believe the correct fix.  Up to the maintainers if they want to merge it, but this is a classic \"perfect is the enemy of the good\" bug and I don't like those.  Rationale for this final proposal will be in the pull request.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/87753372",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-87753372",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 87753372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzUzMzcy",
    "user": {
      "login": "pilotstew",
      "id": 5238649,
      "node_id": "MDQ6VXNlcjUyMzg2NDk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5238649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pilotstew",
      "html_url": "https://github.com/pilotstew",
      "followers_url": "https://api.github.com/users/pilotstew/followers",
      "following_url": "https://api.github.com/users/pilotstew/following{/other_user}",
      "gists_url": "https://api.github.com/users/pilotstew/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pilotstew/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pilotstew/subscriptions",
      "organizations_url": "https://api.github.com/users/pilotstew/orgs",
      "repos_url": "https://api.github.com/users/pilotstew/repos",
      "events_url": "https://api.github.com/users/pilotstew/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pilotstew/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-30T17:08:36Z",
    "updated_at": "2015-03-30T17:08:36Z",
    "author_association": "NONE",
    "body": "Until this is fixed an easy workaround might be to use read_sql_query and include AT TIME ZONE 'UTC' in your query. You can then localize to whatever timezone you need in pandas.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/92509430",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7139#issuecomment-92509430",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7139",
    "id": 92509430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyNTA5NDMw",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-13T21:41:20Z",
    "updated_at": "2015-04-13T21:41:20Z",
    "author_association": "MEMBER",
    "body": "Closed by #7364\n"
  }
]
