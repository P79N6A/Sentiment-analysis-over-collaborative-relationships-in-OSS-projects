[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/273607716",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15157#issuecomment-273607716",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15157",
    "id": 273607716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzYwNzcxNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-18T21:30:27Z",
    "updated_at": "2017-01-18T21:30:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u show a reproducible example of what the issue is?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/273617209",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15157#issuecomment-273617209",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15157",
    "id": 273617209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzYxNzIwOQ==",
    "user": {
      "login": "swevrywhere",
      "id": 21692993,
      "node_id": "MDQ6VXNlcjIxNjkyOTkz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/21692993?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/swevrywhere",
      "html_url": "https://github.com/swevrywhere",
      "followers_url": "https://api.github.com/users/swevrywhere/followers",
      "following_url": "https://api.github.com/users/swevrywhere/following{/other_user}",
      "gists_url": "https://api.github.com/users/swevrywhere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/swevrywhere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/swevrywhere/subscriptions",
      "organizations_url": "https://api.github.com/users/swevrywhere/orgs",
      "repos_url": "https://api.github.com/users/swevrywhere/repos",
      "events_url": "https://api.github.com/users/swevrywhere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/swevrywhere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-18T22:07:53Z",
    "updated_at": "2017-01-18T22:07:53Z",
    "author_association": "NONE",
    "body": "I will work on getting a compact, standalone example, but you can see an example of the errors and inputs here: http://stackoverflow.com/questions/41729212/new-error-during-set-labels-in-pandas-0-19-2-valueerror-unequal-label-lengths/41729634#41729634"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/273653582",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15157#issuecomment-273653582",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15157",
    "id": 273653582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzY1MzU4Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T01:16:11Z",
    "updated_at": "2017-01-19T01:16:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "yeah I suppose that is incorrect.\r\n\r\n```\r\nIn [1]: levels = [['1', '2', 'Total'], ['nextLevel']]\r\n\r\nIn [2]: labels = [[0, 1, 2], [0, 0, 0]]\r\n\r\nIn [3]: i = MultiIndex(levels=[[u'1', u'2'], [u'nextLevel']],\r\n   ...:            labels=[[0, 1], [0, 0]],\r\n   ...:            names=[u'segment..ASRinfo..supportedUtt', u'label'])\r\n\r\nIn [4]: i.set_levels(levels).set_labels(labels)\r\nOut[4]: \r\nMultiIndex(levels=[['1', '2', 'Total'], ['nextLevel']],\r\n           labels=[[0, 1, 2], [0, 0, 0]],\r\n           names=['segment..ASRinfo..supportedUtt', 'label'])\r\n\r\nIn [5]: quit()\r\n(pandas) bash-3.2$ git diff\r\ndiff --git a/pandas/indexes/multi.py b/pandas/indexes/multi.py\r\nindex 2afafae..f4061b8 100644\r\n--- a/pandas/indexes/multi.py\r\n+++ b/pandas/indexes/multi.py\r\n@@ -141,7 +141,7 @@ class MultiIndex(Index):\r\n         if len(levels) != len(labels):\r\n             raise ValueError(\"Length of levels and labels must match. NOTE:\"\r\n                              \" this index is in an inconsistent state.\")\r\n-        label_length = len(self.labels[0])\r\n+        label_length = len(labels[0])\r\n         for i, (level, label) in enumerate(zip(levels, labels)):\r\n             if len(label) != label_length:\r\n                 raise ValueError(\"Unequal label lengths: %s\" %\r\n```\r\n\r\nThough I have no idea why you would actually do this (in user code). There are much more user friendly ways to manipulate things. If you want to do a proper PR with tests would be fine."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/273870148",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15157#issuecomment-273870148",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15157",
    "id": 273870148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzg3MDE0OA==",
    "user": {
      "login": "swevrywhere",
      "id": 21692993,
      "node_id": "MDQ6VXNlcjIxNjkyOTkz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/21692993?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/swevrywhere",
      "html_url": "https://github.com/swevrywhere",
      "followers_url": "https://api.github.com/users/swevrywhere/followers",
      "following_url": "https://api.github.com/users/swevrywhere/following{/other_user}",
      "gists_url": "https://api.github.com/users/swevrywhere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/swevrywhere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/swevrywhere/subscriptions",
      "organizations_url": "https://api.github.com/users/swevrywhere/orgs",
      "repos_url": "https://api.github.com/users/swevrywhere/repos",
      "events_url": "https://api.github.com/users/swevrywhere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/swevrywhere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T19:15:32Z",
    "updated_at": "2017-01-19T19:15:32Z",
    "author_association": "NONE",
    "body": "I am new to Pandas, and I found the documentation on MultiIndexing difficult to adapt to solving my own problem. Basically, I want to add some extra rows. This is the solution I came up with. There is probably a much better way to do it. Feel free to share if you'd like.\r\n\r\n    groupbyColumns = ['label0', 'label1']\r\n    data_slice = dataframe.groupby(by=groupbyColumns).sum()\r\n\r\n    index = data_slice.index\r\n    \r\n    levels = list()\r\n    for levelIter in range(len(data_slice.index.levels)):\r\n        levels.append([x for x in data_slice.index.levels[levelIter]])\r\n    levels[0].append('Total')\r\n    if len(resultList)==2:\r\n        levels[-1].append('Difference')\r\n        addIndexCountForDifferenceRow = 1\r\n    else:\r\n        addIndexCountForDifferenceRow = 0\r\n        \r\n    # Create new indexing sequence since we are adding Total (and Difference if doing comparison) rows\r\n    labels = list()\r\n    for labelIter in range(len(data_slice.index.labels)):\r\n        labels.append(list())\r\n    if len(data_slice.index.labels)==2:\r\n        labels0 = [x for x in data_slice.index.labels[0]]\r\n        labels1 = [x for x in data_slice.index.labels[1]]\r\n        for iter0 in range(max(labels0)+2):\r\n            for iter1 in range(max(labels1)+1+addIndexCountForDifferenceRow):\r\n                labels[0].append(iter0)\r\n                labels[1].append(iter1)\r\n    if len(data_slice.index.labels)==3:\r\n        labels0 = [x for x in data_slice.index.labels[0]]\r\n        labels1 = [x for x in data_slice.index.labels[1]]\r\n        labels2 = [x for x in data_slice.index.labels[2]]\r\n        for iter0 in range(max(labels0)+2):\r\n            for iter1 in range(max(labels1)+1):\r\n                for iter2 in range(max(labels2)+1+addIndexCountForDifferenceRow):\r\n                    labels[0].append(iter0)\r\n                    labels[1].append(iter1)\r\n                    labels[2].append(iter2)\r\n\r\n    index = index.set_levels(levels)\r\n    index = index.set_labels(labels)\r\n    data_slice = data_slice.reindex(index)\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/273870732",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15157#issuecomment-273870732",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15157",
    "id": 273870732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzg3MDczMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T19:17:43Z",
    "updated_at": "2017-01-19T19:18:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "can u show a start and end frame?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/273878014",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15157#issuecomment-273878014",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15157",
    "id": 273878014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mzg3ODAxNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-19T19:45:09Z",
    "updated_at": "2017-01-19T19:45:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nIn [13]: i = MultiIndex(levels=[[u'1', u'2'], [u'nextLevel']],\r\n    ...:    ...:            labels=[[0, 1], [0, 0]],\r\n    ...:    ...:            names=[u'segment..ASRinfo..supportedUtt', u'label'])\r\n    ...: \r\n\r\nIn [14]: df = pd.DataFrame({'A' : [1, 2]}, index=i)\r\n\r\nIn [15]: df\r\nOut[15]: \r\n                                          A\r\nsegment..ASRinfo..supportedUtt label       \r\n1                              nextLevel  1\r\n2                              nextLevel  2\r\n\r\nIn [17]: df.reindex([('1', 'nextLevel'), ('2', 'nextLevel'), ('Total', 'nextLevel')])\r\nOut[17]: \r\n                                            A\r\nsegment..ASRinfo..supportedUtt label         \r\n1                              nextLevel  1.0\r\n2                              nextLevel  2.0\r\nTotal                          nextLevel  NaN\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/331670165",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15157#issuecomment-331670165",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15157",
    "id": 331670165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTY3MDE2NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-23T21:09:55Z",
    "updated_at": "2017-09-23T21:09:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@chris-b1 can you see if this is still an issue?"
  }
]
