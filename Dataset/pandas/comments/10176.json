[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103842885",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103842885",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103842885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg0Mjg4NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T10:58:36Z",
    "updated_at": "2015-05-20T10:59:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "`df.loc['missing_label']`\n\nYou are using a list-like, so it will always succeed (it is de-facto a reindex).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103845881",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103845881",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103845881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg0NTg4MQ==",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T11:10:10Z",
    "updated_at": "2015-05-20T11:11:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "That isn't the behaviour I see:\n\n``` python\ndf = pd.DataFrame({'a':[1,2,3],\n                   'b':[1,2,3],\n                   'c':[1,2,3]\n                  }, index=['x','y','y'])\n```\n\n``` python\ndf.loc[['q']]\n```\n\n-> KeyError: \"None of [['q']] are in the [index]\"\n\n``` python\ndf.loc['q']\n```\n\nKeyError: 'the label [q] is not in the [index]'\n\n``` python\ndf.loc[['x', 'q']]\n```\n\n| idx | a | b | c |\n| --- | --- | --- | --- |\n| x | 1 | 1 | 1 |\n| q | NaN | NaN | NaN |\n\nIf indexing with a list-like should always succeed, then there is a bug.\n\nThe problem is that I might have a list-like with some valid and some invalid labels, and I want to throw an error if any of the labels are invalid.  `loc` no longer throws an error in that case, so does that mean I have to do the check manually now or is there another method to use?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103846255",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103846255",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103846255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg0NjI1NQ==",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T11:13:04Z",
    "updated_at": "2015-05-20T11:13:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "p.s. on pandas 0.16.1\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103847768",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103847768",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103847768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg0Nzc2OA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T11:20:38Z",
    "updated_at": "2015-05-20T11:23:40Z",
    "author_association": "MEMBER",
    "body": "@mangecoeur This behaviour of `df.loc[['x', 'q']]` returning an enlarged frame with a NaN row and not a KeyError is something I already see going back to 0.13.1.\n\nThe change in 0.15 was that `df.loc[['x', 'z'],:]` previously raised a KeyError and now is the same as `df.loc[['x', 'z']]` (enlarged frame). See the explanation at http://pandas.pydata.org/pandas-docs/stable/whatsnew.html#whatsnew-0150-api (third bullet point)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103851188",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103851188",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103851188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg1MTE4OA==",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T11:33:31Z",
    "updated_at": "2015-05-20T11:33:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jorisvandenbossche I'm not disputing the change. But you said \"using a list-like, so it will always succeed\", but using list likes with missing labels does the following:\n\n`df.loc[['q']]` -> KeyError (none of labels are in index)\n`df.loc[['w', 'q']]` -> KeyError (none of labels are in index)\n`df.loc[['x', 'w', 'q']]` -> No error\n\nIt seems odd to get a failure if none of the labels are in the index but no failure if at least one item is in the index.\n\nMoreover, if I want the KeyError behaviour (I was using `df.loc[['x', 'z'],:]` which is why it worked prior to 0.15) is there something like a non-enlarging `loc`, or do i have to implement a separate check?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103854236",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103854236",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103854236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg1NDIzNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T11:42:41Z",
    "updated_at": "2015-05-20T11:42:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "You can use `.ix` for this. By definition `.loc` is quite strict. This is the reasoning behind raising `KeyError` if nothing is in the index (whether single element of list-like). \n\n```\nIn [14]: df.ix[['q','y']]\nOut[14]: \n    a   b   c\nq NaN NaN NaN\ny   2   2   2\ny   3   3   3\n\nIn [15]: df.ix[['q']]\nOut[15]: \n    a   b   c\nq NaN NaN NaN\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103854525",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103854525",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103854525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg1NDUyNQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T11:44:13Z",
    "updated_at": "2015-05-20T11:44:13Z",
    "author_association": "MEMBER",
    "body": "Ah, you _were_ using `df.loc[['x', 'z'],:]`, that explains :-) (I was just confused because you used `df.loc[['x', 'z']]` above, which did not change recently)\n\nBut I see what you mean, but the discrepancy between `df.loc[['w', 'q']]` and `df.loc[['x', 'w', 'q']]` is the result of the 'at least one' rule we use. \nBut in any case, if you want the KeyError behaviour in all cases, you will need to implement a separate check. For the future, a possibility would be to have a `strict` keyword or something `df.loc(strict=True)[['x', 'z']]`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103854808",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103854808",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103854808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg1NDgwOA==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T11:44:56Z",
    "updated_at": "2015-05-20T11:44:56Z",
    "author_association": "MEMBER",
    "body": "@jreback yes, but I think @mangecoeur wants the opposite, not more flexible, but more strict, so also raising if only some of the labels are not in the index\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103859469",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103859469",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103859469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg1OTQ2OQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T12:07:01Z",
    "updated_at": "2015-05-20T12:07:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mangecoeur prob want to simply check yourself.\n\n```\nIn [2]: df.index.isin(['q','y'])\nOut[2]: array([False,  True,  True], dtype=bool)\n\nIn [3]: df.loc[df.index.isin(['q','y'])]\nOut[3]: \n   a  b  c\ny  2  2  2\ny  3  3  3\n\nIn [4]: df.index.isin(['q','y']).any()\nOut[4]: True\n\nIn [5]: df.index.isin(['q','y']).all()\nOut[5]: False\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103860587",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103860587",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103860587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzg2MDU4Nw==",
    "user": {
      "login": "mangecoeur",
      "id": 743508,
      "node_id": "MDQ6VXNlcjc0MzUwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/743508?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mangecoeur",
      "html_url": "https://github.com/mangecoeur",
      "followers_url": "https://api.github.com/users/mangecoeur/followers",
      "following_url": "https://api.github.com/users/mangecoeur/following{/other_user}",
      "gists_url": "https://api.github.com/users/mangecoeur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mangecoeur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mangecoeur/subscriptions",
      "organizations_url": "https://api.github.com/users/mangecoeur/orgs",
      "repos_url": "https://api.github.com/users/mangecoeur/repos",
      "events_url": "https://api.github.com/users/mangecoeur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mangecoeur/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T12:14:33Z",
    "updated_at": "2015-05-20T12:14:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, I will add a check. @jreback @jorisvandenbossche thanks for the help!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/103966170",
    "html_url": "https://github.com/pandas-dev/pandas/issues/10176#issuecomment-103966170",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/10176",
    "id": 103966170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzk2NjE3MA==",
    "user": {
      "login": "shoyer",
      "id": 1217238,
      "node_id": "MDQ6VXNlcjEyMTcyMzg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shoyer",
      "html_url": "https://github.com/shoyer",
      "followers_url": "https://api.github.com/users/shoyer/followers",
      "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
      "organizations_url": "https://api.github.com/users/shoyer/orgs",
      "repos_url": "https://api.github.com/users/shoyer/repos",
      "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shoyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-20T17:18:08Z",
    "updated_at": "2015-05-20T17:18:08Z",
    "author_association": "MEMBER",
    "body": "We've discussed this before. I agree that it would be better (if we were starting from scratch) to raise KeyError if any labels are found when doing list based indexing.... but it's probably too late to change that now.\n"
  }
]
