[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19168664",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19168664",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19168664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTY4NjY0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-09T16:11:25Z",
    "updated_at": "2013-06-09T16:11:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm wonder if there is a dtype that ne doesn't like or maybe nan with % not supported\n?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19193430",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19193430",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19193430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTkzNDMw",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T11:34:56Z",
    "updated_at": "2013-06-10T11:34:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "it's very simple to reproduce (and I just opened a numexpr issue). Modulus with zero isn't supported. Check it:\n\n``` python\narr = np.arange(-5, 5)\n# this will cause a floating point exception\nne.evaluate(\"arr % 0\", locals())\n```\n\nFloats don't cause the problem\n\n``` python\narr = arr.astype(float)\nne.evaluate(\"arr % 0\", locals())\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19193568",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19193568",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19193568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTkzNTY4",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T11:38:20Z",
    "updated_at": "2013-06-10T11:38:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "good to know.....this should still fallback to the numpy loop in evaluate in any event\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19193762",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19193762",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19193762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTkzNzYy",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T11:43:06Z",
    "updated_at": "2013-06-10T11:43:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "No, you can't catch it, it crashes the Python interpreter completely (see the end of this Travis build - https://travis-ci.org/jtratner/pandas/jobs/7917801 ). That's why in #3765 I've completely removed `mod` from being accelerated (for now). Floordiv just raises an numexpr error, so it's fine to still include.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19193866",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19193866",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19193866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTkzODY2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T11:46:34Z",
    "updated_at": "2013-06-10T11:46:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "oh....it DOESN't raise a FloatingPointException.....weird....ok...easy enough to not-accelarate (or alternativly you can cast to float64, sending in an additional parm, maybe `cast=lambda x: x.astype(float64)`, sort of like `com._fill_zeros` does \n\nof course easiest is simply to always cast mod and div to float, then you solve this problem and get truediv for free...\n\nbut IIRC we decided to push that off.....\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19194005",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19194005",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19194005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTk0MDA1",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T11:50:26Z",
    "updated_at": "2013-06-10T11:50:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback haha, yeah. Though would you cast it back to int afterwards?  Actually, looks like you can just cast the other mod operand to float (so if it's `0` you convert it to `0.0` and it all works). I'll play around with it.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19194592",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19194592",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19194592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTk0NTky",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T12:05:29Z",
    "updated_at": "2013-06-10T12:05:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "we dont' do any casting back on arithmetic ops that are handled thru _arith_ops...(e.g..-,+,/,**,%)\nas we are using numpy facilities (these are all binary ops). You would in theory have to possibly split up by columns the resulting frame (e.g. say you were doing someting that resulted in some columns being representable as ints and some that were floats)....too much work, numpy will figure it out... :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19194671",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19194671",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19194671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTk0Njcx",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T12:07:21Z",
    "updated_at": "2013-06-10T12:07:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "so, basically, we just wouldn't pass it to `numexpr` at all for that case.\n(easy to do, just pass `str_rep` as None)\n\nOn Mon, Jun 10, 2013 at 8:05 AM, jreback notifications@github.com wrote:\n\n> we dont' do any casting back on arithmetic ops that are handled thru\n> _arith_ops...(e.g..-,+,/,**,%)\n> as we are using numpy facilities (these are all binary ops). You would in\n> theory have to possibly split up by columns the resulting frame (e.g. say\n> you were doing someting that resulted in some columns being representable\n> as ints and some that were floats)....too much work, numpy will figure it\n> out... :)\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/pydata/pandas/issues/3819#issuecomment-19194592\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19194709",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19194709",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19194709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTk0NzA5",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T12:08:12Z",
    "updated_at": "2013-06-10T12:08:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "it occurred to me: except for the issue covered by _fill_zeros, does\nnumexpr always return the same types as numpy?\n\nOn Mon, Jun 10, 2013 at 8:07 AM, Jeffrey Tratner\njeffrey.tratner@gmail.comwrote:\n\n> so, basically, we just wouldn't pass it to `numexpr` at all for that case.\n> (easy to do, just pass `str_rep` as None)\n> \n> On Mon, Jun 10, 2013 at 8:05 AM, jreback notifications@github.com wrote:\n> \n> > we dont' do any casting back on arithmetic ops that are handled thru\n> > _arith_ops...(e.g..-,+,/,**,%)\n> > as we are using numpy facilities (these are all binary ops). You would in\n> > theory have to possibly split up by columns the resulting frame (e.g. say\n> > you were doing someting that resulted in some columns being representable\n> > as ints and some that were floats)....too much work, numpy will figure it\n> > out... :)\n> > \n> > —\n> > Reply to this email directly or view it on GitHubhttps://github.com/pydata/pandas/issues/3819#issuecomment-19194592\n> > .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19195196",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19195196",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19195196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTk1MTk2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T12:21:07Z",
    "updated_at": "2013-06-10T12:21:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "they basically upcast if and convert to floats if needed AFAIK\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19196312",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19196312",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19196312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTk2MzEy",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T12:47:55Z",
    "updated_at": "2013-06-10T12:47:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, aside from the fill zeros, pandas doesn't change the type of numpy\narithmetic/binary operators?\n\nOn Mon, Jun 10, 2013 at 8:21 AM, jreback notifications@github.com wrote:\n\n> they basically upcast if and convert to floats if needed AFAIK\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/pydata/pandas/issues/3819#issuecomment-19195196\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/19196625",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3819#issuecomment-19196625",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3819",
    "id": 19196625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTk2NjI1",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-10T12:54:53Z",
    "updated_at": "2013-06-10T12:54:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this i true for the binary arithmetic operators\n"
  }
]
