[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/12465754",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-12465754",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 12465754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDY1NzU0",
    "user": {
      "login": "changhiskhan",
      "id": 759245,
      "node_id": "MDQ6VXNlcjc1OTI0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/759245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changhiskhan",
      "html_url": "https://github.com/changhiskhan",
      "followers_url": "https://api.github.com/users/changhiskhan/followers",
      "following_url": "https://api.github.com/users/changhiskhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/changhiskhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changhiskhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changhiskhan/subscriptions",
      "organizations_url": "https://api.github.com/users/changhiskhan/orgs",
      "repos_url": "https://api.github.com/users/changhiskhan/repos",
      "events_url": "https://api.github.com/users/changhiskhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changhiskhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-20T04:17:02Z",
    "updated_at": "2013-01-21T20:28:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "If you leave out the closed/label arguments, pandas will choose the right one for you:\n\n```\nIn [27]: ts.resample('M', how='sum')\nOut[27]: \n2000-03-31     41328\n2000-04-30    466200\n2000-05-31    564852\nFreq: M\n```\n\nedit: I thought it about it some more and am not certain this is a bug. If you're thinking about it terms of monthly periods, you should leave out the `closed` argument and let pandas choose the right one. That's the easiest way.\n\nIf you want explicit control, because this is timestamp format, the monthend datetime is midnight of the last day of the month. This is so it'll play nice with daily frequencies. It's possible to hack it so IF the input data is intraday frequency then we adjust the bin edges, but it is often the case that you might have intraday data without an explicit frequency. So the result would be inconsistent behavior.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/12515937",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-12515937",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 12515937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTE1OTM3",
    "user": {
      "login": "changhiskhan",
      "id": 759245,
      "node_id": "MDQ6VXNlcjc1OTI0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/759245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changhiskhan",
      "html_url": "https://github.com/changhiskhan",
      "followers_url": "https://api.github.com/users/changhiskhan/followers",
      "following_url": "https://api.github.com/users/changhiskhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/changhiskhan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changhiskhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changhiskhan/subscriptions",
      "organizations_url": "https://api.github.com/users/changhiskhan/orgs",
      "repos_url": "https://api.github.com/users/changhiskhan/repos",
      "events_url": "https://api.github.com/users/changhiskhan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changhiskhan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-01-21T20:28:47Z",
    "updated_at": "2013-01-21T20:28:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm moving this to 0.10.2 in case more discussion is needed/desired\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/14601078",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-14601078",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 14601078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NjAxMDc4",
    "user": {
      "login": "filmackay",
      "id": 1817552,
      "node_id": "MDQ6VXNlcjE4MTc1NTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1817552?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/filmackay",
      "html_url": "https://github.com/filmackay",
      "followers_url": "https://api.github.com/users/filmackay/followers",
      "following_url": "https://api.github.com/users/filmackay/following{/other_user}",
      "gists_url": "https://api.github.com/users/filmackay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/filmackay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/filmackay/subscriptions",
      "organizations_url": "https://api.github.com/users/filmackay/orgs",
      "repos_url": "https://api.github.com/users/filmackay/repos",
      "events_url": "https://api.github.com/users/filmackay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/filmackay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-03-08T03:33:53Z",
    "updated_at": "2013-03-08T03:33:53Z",
    "author_association": "NONE",
    "body": "Isn't the above example results wrong - the dates indicated are actually midnight of the start of the relevant date. Is not the correct range for March 2000:\n\n2000-03-01 0:00 (left)\n2000-04-01 0:00 (right)\n\nI would have thought mathematically, saying that a monthly period finishes on 2000-03-31 is incorrect, since this represents the midnight between 2000-03-30 and 2000-03-31, not the midnight after 2000-03-31 (which is in fact 2000-04-01 0:00).\n\n?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/16275027",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-16275027",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 16275027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Mjc1MDI3",
    "user": {
      "login": "wesm",
      "id": 329591,
      "node_id": "MDQ6VXNlcjMyOTU5MQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/329591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wesm",
      "html_url": "https://github.com/wesm",
      "followers_url": "https://api.github.com/users/wesm/followers",
      "following_url": "https://api.github.com/users/wesm/following{/other_user}",
      "gists_url": "https://api.github.com/users/wesm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wesm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wesm/subscriptions",
      "organizations_url": "https://api.github.com/users/wesm/orgs",
      "repos_url": "https://api.github.com/users/wesm/repos",
      "events_url": "https://api.github.com/users/wesm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wesm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-04-12T04:10:29Z",
    "updated_at": "2013-04-12T04:10:29Z",
    "author_association": "MEMBER",
    "body": "Well that's look at this here:\n\n```\ndef start(x):\n    return x.index[0]\n\ndef end(x):\n    return x.index[-1]\n\nIn [18]: ts.resample('1M', how=[start, end], closed='right', label='right')\nOut[18]: \n                         start                 end\n2000-03-31 2000-03-20 00:00:00 2000-03-31 23:00:00\n2000-04-30 2000-04-01 00:00:00 2000-04-30 23:00:00\n2000-05-31 2000-05-01 00:00:00 2000-05-20 00:00:00\n\nIn [19]: ts.resample('1M', how=[start, end], closed='left', label='right')\nOut[19]: \n                         start                 end\n2000-03-31 2000-03-20 00:00:00 2000-03-30 23:00:00\n2000-04-30 2000-03-31 00:00:00 2000-04-29 23:00:00\n2000-05-31 2000-04-30 00:00:00 2000-05-20 00:00:00\n```\n\nSo I think the `closed='left'` behavior is what you want. I think there's a tweak in the code to account for the convention of using the last day of the month at midnight (even though the month isn't \"technically\" over) as the date. \n\nClosing this issue ... \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/29155578",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-29155578",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 29155578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU1NTc4",
    "user": {
      "login": "kdebrab",
      "id": 1150402,
      "node_id": "MDQ6VXNlcjExNTA0MDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1150402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kdebrab",
      "html_url": "https://github.com/kdebrab",
      "followers_url": "https://api.github.com/users/kdebrab/followers",
      "following_url": "https://api.github.com/users/kdebrab/following{/other_user}",
      "gists_url": "https://api.github.com/users/kdebrab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kdebrab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kdebrab/subscriptions",
      "organizations_url": "https://api.github.com/users/kdebrab/orgs",
      "repos_url": "https://api.github.com/users/kdebrab/repos",
      "events_url": "https://api.github.com/users/kdebrab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kdebrab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-24T13:44:10Z",
    "updated_at": "2013-11-24T15:14:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue keeps on coming back... in my eyes this is not yet ready to be closed...\n\n@changhiskhan, leaving out the `closed` argument may be ok when you are dealing with (intraday) source data that has start time stamp (or left) labels, but it is _not_ giving correct results when your (intraday) source data has end time stamp (or right) labels.\n\n@wesm, the `closed='left'` example you provide is _not_ the desired behavior. On the contrary, it confirms the problem raised by @Cd48 and commented by @filmackay: the entire last day (24 values) is aggregated into the next month!\n\nInstead, I believe the desired behavior should be: \n\n```\nIn [18]: ts.resample('1M', how=[start, end], closed='right', label='right')\nOut[18]: \n                         start                 end\n2000-03-31 2000-03-20 00:00:00 2000-04-01 00:00:00\n2000-04-30 2000-04-01 01:00:00 2000-05-01 00:00:00\n2000-05-31 2000-05-01 01:00:00 2000-05-20 00:00:00\n\nIn [19]: ts.resample('1M', how=[start, end], closed='left', label='right')\nOut[19]: \n                         start                 end\n2000-03-31 2000-03-20 00:00:00 2000-03-31 23:00:00\n2000-04-30 2000-04-01 00:00:00 2000-04-30 23:00:00\n2000-05-31 2000-05-01 00:00:00 2000-05-20 00:00:00\n```\n\nI did some research into the code... Actually, the behavior for source data with start time stamp labels previously had a very similar problem (see http://stackoverflow.com/questions/11018120/bug-in-resampling-with-pandas-0-8). It was handled by introducing the following code (#1471):\n\n```\n    if self.freq != 'D' and is_superperiod(self.freq, 'D'):\n        day_nanos = _delta_to_nanoseconds(timedelta(1))\n        if self.closed == 'right':\n            bin_edges = bin_edges + day_nanos - 1\n        else:\n            bin_edges = bin_edges + day_nanos\n```\n\nof which the `else` close was later removed (#1726).\n\nShouldn't the correct code be:\n\n```\n    if self.freq != 'D' and is_superperiod(self.freq, 'D'):\n        day_nanos = _delta_to_nanoseconds(timedelta(1))\n        if self.closed == 'right':\n            bin_edges = bin_edges + day_nanos\n        else:\n            bin_edges = bin_edges + day_nanos - 1\n```\n\nThat indeed results in the desired behavior shown above and also solves #5440. Though that raises again issue #1726... I think #1726 should be solved separately, maybe by adjusting the range edge `first`?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/29155884",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-29155884",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 29155884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU1ODg0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-24T14:00:19Z",
    "updated_at": "2013-11-24T14:00:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "why don't u do a PR with the new code and some tests to validate?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/29156345",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-29156345",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 29156345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU2MzQ1",
    "user": {
      "login": "kdebrab",
      "id": 1150402,
      "node_id": "MDQ6VXNlcjExNTA0MDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1150402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kdebrab",
      "html_url": "https://github.com/kdebrab",
      "followers_url": "https://api.github.com/users/kdebrab/followers",
      "following_url": "https://api.github.com/users/kdebrab/following{/other_user}",
      "gists_url": "https://api.github.com/users/kdebrab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kdebrab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kdebrab/subscriptions",
      "organizations_url": "https://api.github.com/users/kdebrab/orgs",
      "repos_url": "https://api.github.com/users/kdebrab/repos",
      "events_url": "https://api.github.com/users/kdebrab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kdebrab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-24T14:15:19Z",
    "updated_at": "2013-11-24T14:18:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "It also involves changing the default behavior of `closed`.\n\nChanging the default to `closed='left'` for all frequencies (as of now the default is already left for intraday frequencies), but keeping the default `label` as it is now (i.e. `'left'` for intraday, `'right'` otherwise) would result in the same default behaviour for most users.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/29158257",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-29158257",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 29158257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU4MjU3",
    "user": {
      "login": "kdebrab",
      "id": 1150402,
      "node_id": "MDQ6VXNlcjExNTA0MDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1150402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kdebrab",
      "html_url": "https://github.com/kdebrab",
      "followers_url": "https://api.github.com/users/kdebrab/followers",
      "following_url": "https://api.github.com/users/kdebrab/following{/other_user}",
      "gists_url": "https://api.github.com/users/kdebrab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kdebrab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kdebrab/subscriptions",
      "organizations_url": "https://api.github.com/users/kdebrab/orgs",
      "repos_url": "https://api.github.com/users/kdebrab/repos",
      "events_url": "https://api.github.com/users/kdebrab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kdebrab/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-24T15:51:01Z",
    "updated_at": "2013-11-24T15:51:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm afraid a PR is too much for me... \n\nI'm not accustomed with the PR process yet (and I also lack the time). Moreover, a solution for #1726 (and probably other issues) still needs to be found.\n\nAs a side note: the resample code looks to me quite complicated with already many hacks. Instead of adding another hack, maybe a profound (and time-consuming) code refactoring is desirable?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/29159546",
    "html_url": "https://github.com/pandas-dev/pandas/issues/2665#issuecomment-29159546",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/2665",
    "id": 29159546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU5NTQ2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-24T16:49:13Z",
    "updated_at": "2013-11-24T16:49:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "ok will reopen this\nnot sure if this will be addressed in the near future so would appreciate a pr from you at some point as you appear pretty familiar\n"
  }
]
