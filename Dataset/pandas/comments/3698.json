[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18515251",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18515251",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18515251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTE1MjUx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-27T21:25:01Z",
    "updated_at": "2013-05-27T21:25:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is in conflict with #2476. The issue is how to determine if a user supplied lambda is a reduction or not. When you have an empty frame this fails, so we return as if its not a reduction\n\ne.g. will do what you want in this case\n\n```\nx.apply(lambda x: x.get('a',0) + x.get('b',0), 1)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18516278",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18516278",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18516278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTE2Mjc4",
    "user": {
      "login": "asmirnov69",
      "id": 4543018,
      "node_id": "MDQ6VXNlcjQ1NDMwMTg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4543018?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmirnov69",
      "html_url": "https://github.com/asmirnov69",
      "followers_url": "https://api.github.com/users/asmirnov69/followers",
      "following_url": "https://api.github.com/users/asmirnov69/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmirnov69/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmirnov69/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmirnov69/subscriptions",
      "organizations_url": "https://api.github.com/users/asmirnov69/orgs",
      "repos_url": "https://api.github.com/users/asmirnov69/repos",
      "events_url": "https://api.github.com/users/asmirnov69/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmirnov69/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-27T22:03:44Z",
    "updated_at": "2013-05-27T22:03:44Z",
    "author_association": "NONE",
    "body": "I didn't realize that x in lambda expression in apply is Series. I will use your way of access to row values from now on. \n\nOnly suggestion would be to introduce new type to represent the row instead using of Series.\nIn row handling context [] operator is misleading -- IMHO without it access to row element will be less confusing for users not familiar with pandas code base.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18518902",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18518902",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18518902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTE4OTAy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-28T00:16:47Z",
    "updated_at": "2013-05-28T00:16:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "actually, I think your suggestion is more confusing :), when you use `axis=1`, (that is the `1` in your expression), you are saying give me a row of the frame as a `Series`, by definition. You are then free in your function to do what you want, however, sometimes it is best to forgo the custom function, \n\ne.g (and this is much faster)\n\n```\nIn [16]: x.apply(lambda z: z['a'] + z['b'],1)\nOut[16]: \n0     0\n1     2\n2     4\n3     6\n4     8\n5    10\n6    12\n7    14\n8    16\n9    18\ndtype: int64\n\nIn [17]: x[['a','b']].sum(1) \nOut[17]: \n0     0\n1     2\n2     4\n3     6\n4     8\n5    10\n6    12\n7    14\n8    16\n9    18\ndtype: int64\n\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18556493",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18556493",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18556493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTU2NDkz",
    "user": {
      "login": "asmirnov69",
      "id": 4543018,
      "node_id": "MDQ6VXNlcjQ1NDMwMTg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4543018?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmirnov69",
      "html_url": "https://github.com/asmirnov69",
      "followers_url": "https://api.github.com/users/asmirnov69/followers",
      "following_url": "https://api.github.com/users/asmirnov69/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmirnov69/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmirnov69/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmirnov69/subscriptions",
      "organizations_url": "https://api.github.com/users/asmirnov69/orgs",
      "repos_url": "https://api.github.com/users/asmirnov69/repos",
      "events_url": "https://api.github.com/users/asmirnov69/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmirnov69/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-28T15:04:33Z",
    "updated_at": "2013-05-28T15:13:17Z",
    "author_association": "NONE",
    "body": "After getting a bit more in pandas method docs and examples I would retract my suggestion about introducing any changes into DataFrame.apply(). Also, in the light of my newly acquired knowledge, your workaround for my original problem using Series.get with default 0 will not work. This is because there are situations when there is no convenient default. Also it may mask typo in column name which will be hard to track down.\n\nOne more illustration of the same problem is below. As you can see return type of apply changes depending on condition applied to original dataframe. <b>Does it look like bug?</b> Workaround in my case is to use wrapper around apply call which I am going to do in my code.\n\n<pre>\n>>> import pandas as pd\n>>> pd.version.version\n'0.11.0'\n>>> df = pd.DataFrame({'a': range(10), 'b': range(10)})\n>>> type(df[df['a']>0].apply(lambda x: x['a'] + x['b'], 1))\n&lt;class 'pandas.core.series.Series'>\n>>> type(df[df['a']&lt;0].apply(lambda x: x['a'] + x['b'], 1))\n&lt;class 'pandas.core.frame.DataFrame'>\n</pre>\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18557939",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18557939",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18557939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTU3OTM5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-28T15:26:11Z",
    "updated_at": "2013-05-28T15:26:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "you can do a lot of things inside the apply, e.g. `lambda x: x.get('a',np.nan) + x.get('b',np.nan)`, but logic applies (pun intended).\n\nThis is probably not the best way to do it for the reason you indicate. The example you gave is not a bug, but a defined behavior. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18562411",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18562411",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18562411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTYyNDEx",
    "user": {
      "login": "asmirnov69",
      "id": 4543018,
      "node_id": "MDQ6VXNlcjQ1NDMwMTg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4543018?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asmirnov69",
      "html_url": "https://github.com/asmirnov69",
      "followers_url": "https://api.github.com/users/asmirnov69/followers",
      "following_url": "https://api.github.com/users/asmirnov69/following{/other_user}",
      "gists_url": "https://api.github.com/users/asmirnov69/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asmirnov69/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asmirnov69/subscriptions",
      "organizations_url": "https://api.github.com/users/asmirnov69/orgs",
      "repos_url": "https://api.github.com/users/asmirnov69/repos",
      "events_url": "https://api.github.com/users/asmirnov69/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asmirnov69/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-28T16:28:10Z",
    "updated_at": "2013-05-28T16:28:10Z",
    "author_association": "NONE",
    "body": "So it is a feature, not a bug :) \nWell, i think it is fine provided it is documented in 'Caveats and Gotchas' section at least.\nAs well as some stackoverflow readers might find it helpful: http://stackoverflow.com/questions/13331698/how-to-apply-a-function-to-two-columns-of-pandas-dataframe\n\nThanks for the discussion, I've learn a bit more of pandas -- hope never get back to R again.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18562983",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18562983",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18562983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTYyOTgz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-28T16:37:13Z",
    "updated_at": "2013-05-28T16:37:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes, its a bit _undefined_ what you do with the empties\n\nwould always welcome a doc PR!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/18917523",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-18917523",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 18917523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTE3NTIz",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-04T15:36:40Z",
    "updated_at": "2013-06-04T15:36:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "going to move this to 0.12 for doc update in groupby, as @asmirnov69 suggest above\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/185206904",
    "html_url": "https://github.com/pandas-dev/pandas/issues/3698#issuecomment-185206904",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/3698",
    "id": 185206904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTIwNjkwNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-17T13:38:49Z",
    "updated_at": "2016-02-17T13:38:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "the `reduce` kw can be specified to deal with this\n"
  }
]
