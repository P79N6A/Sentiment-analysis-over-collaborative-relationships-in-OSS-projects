[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26208510",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26208510",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26208510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjA4NTEw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-12T23:49:50Z",
    "updated_at": "2013-10-12T23:49:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @cancan01\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26208989",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26208989",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26208989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjA4OTg5",
    "user": {
      "login": "jtratner",
      "id": 1598379,
      "node_id": "MDQ6VXNlcjE1OTgzNzk=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1598379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtratner",
      "html_url": "https://github.com/jtratner",
      "followers_url": "https://api.github.com/users/jtratner/followers",
      "following_url": "https://api.github.com/users/jtratner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtratner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtratner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtratner/subscriptions",
      "organizations_url": "https://api.github.com/users/jtratner/orgs",
      "repos_url": "https://api.github.com/users/jtratner/repos",
      "events_url": "https://api.github.com/users/jtratner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtratner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T00:29:18Z",
    "updated_at": "2013-10-13T00:29:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't really understand how that can be defined. Is the idea it should be next business day? nearest?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26209161",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26209161",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26209161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjA5MTYx",
    "user": {
      "login": "vpatel34",
      "id": 4982696,
      "node_id": "MDQ6VXNlcjQ5ODI2OTY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4982696?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vpatel34",
      "html_url": "https://github.com/vpatel34",
      "followers_url": "https://api.github.com/users/vpatel34/followers",
      "following_url": "https://api.github.com/users/vpatel34/following{/other_user}",
      "gists_url": "https://api.github.com/users/vpatel34/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vpatel34/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vpatel34/subscriptions",
      "organizations_url": "https://api.github.com/users/vpatel34/orgs",
      "repos_url": "https://api.github.com/users/vpatel34/repos",
      "events_url": "https://api.github.com/users/vpatel34/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vpatel34/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T00:44:23Z",
    "updated_at": "2013-10-13T00:44:23Z",
    "author_association": "NONE",
    "body": "My initial thought is that it should be the previous business day.  That way, if you're calculating the difference between two dates, and you come up to a weekend, the count doesn't advance until you hit Monday.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26229028",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26229028",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26229028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjI5MDI4",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T22:47:29Z",
    "updated_at": "2013-10-13T22:55:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback I think you mean @cancan101\n\nThat being said, so far I have tracked down the \"issue\" to:\n\n```\nIn [29]: pd.tslib.period_format(pd.tslib.period_ordinal(2013,10,6,0,0,0,0,0,5000),5000)\nOut[29]: u'2013-10-04'\n\nIn [30]: pd.tslib.period_format(pd.tslib.period_ordinal(2013,10,5,0,0,0,0,0,5000),5000)\nOut[30]: u'2013-10-07'\n```\n\nwhere 5000 is `pd.tseries.period._gfc('B')[0]`\n\ngoing further:\n\n```\nIn [32]: pd.tslib.period_ordinal(2013,10,6,0,0,0,0,0,5000)\nOut[32]: 11416\n\nIn [33]: pd.tslib.period_ordinal(2013,10,5,0,0,0,0,0,5000)\nOut[33]: 11417\n```\n\nwe can see that 10/6 maps to an ordinal < the ordinal for 10/5\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26229074",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26229074",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26229074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjI5MDc0",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T22:50:09Z",
    "updated_at": "2013-10-13T22:51:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "My guess is that there is an issue here in period.c:\n\n``` c\n        days = absdate_from_ymd(year, month, day)\n        weeks = days / 7;\n        return (npy_int64)(days - weeks * 2) - BDAY_OFFSET;\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26229220",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26229220",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26229220,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjI5MjIw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T22:58:55Z",
    "updated_at": "2013-10-13T22:58:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @wuan \n\ncan you take a look see if anything changed?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26229229",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26229229",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26229229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjI5MjI5",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T22:59:31Z",
    "updated_at": "2013-10-13T23:04:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think there is an issue with `days / 7`. My guess is that is should be `(days - K)/7` for some `K`.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26229246",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26229246",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26229246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjI5MjQ2",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T23:00:27Z",
    "updated_at": "2013-10-13T23:00:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cancan101 thanks....having @wuan check this as I believe this was touched in Nano refactor\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26229375",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26229375",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26229375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjI5Mzc1",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T23:10:17Z",
    "updated_at": "2013-10-13T23:13:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "I exposed `get_absdate_from_ymd`:\n\n```\nIn [2]: pd.tslib.get_absdate_from_ymd(2013,10,6)\nOut[2]: 735147\n\nIn [3]: pd.tslib.get_absdate_from_ymd(2013,10,5)\nOut[3]: 735146\n```\n\nwhich then gives:\n\n```\nIn [6]: pd.tslib.get_absdate_from_ymd(2013,10,6) -  (pd.tslib.get_absdate_from_ymd(2013,10,6)/7) * 2\nOut[6]: 525105\n\nIn [7]: pd.tslib.get_absdate_from_ymd(2013,10,5) -  (pd.tslib.get_absdate_from_ymd(2013,10,5)/7) * 2\nOut[7]: 525106\n```\n\nso yes, it looks like an offset needs to be subtracted from `days`. The exact offset depends on whether the desired behavior is to roll forward or backward. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26230118",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26230118",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26230118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjMwMTE4",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-13T23:52:22Z",
    "updated_at": "2013-10-13T23:52:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "That being said, I agree with @jtratner that this entire behavior is undefined. That being said, this rolls forward, not backward:\n\n```\nIn [13]: pd.Timestamp(datetime.date(2013,10,5)) + pd.offsets.BDay(0)\nOut[13]: Timestamp('2013-10-07 00:00:00', tz=None)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26265734",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26265734",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26265734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjY1NzM0",
    "user": {
      "login": "wuan",
      "id": 563314,
      "node_id": "MDQ6VXNlcjU2MzMxNA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/563314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wuan",
      "html_url": "https://github.com/wuan",
      "followers_url": "https://api.github.com/users/wuan/followers",
      "following_url": "https://api.github.com/users/wuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/wuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wuan/subscriptions",
      "organizations_url": "https://api.github.com/users/wuan/orgs",
      "repos_url": "https://api.github.com/users/wuan/repos",
      "events_url": "https://api.github.com/users/wuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T15:53:21Z",
    "updated_at": "2013-10-14T16:24:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I fear that the code in period.c never worked. The week number is calculated without subtracting the start of the week offset of day 0 (cf. the calculation of the week period, where 1 is substracted from the day ordinal).\n\nIn the end the week boundary is shifted by one day (to Saturday/Sunday). This leads to values of 1-0=1 for Saturday and to 2-2=0 relative to the business day count of Friday (first value is the day count and the second is the substracted week count \\* 2).\n\nAfter fixing this only two tests fail because of different dates. More later on ...\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26269392",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26269392",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26269392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjY5Mzky",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T16:38:42Z",
    "updated_at": "2013-10-14T16:38:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "great lmk\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26274032",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26274032",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26274032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjc0MDMy",
    "user": {
      "login": "wuan",
      "id": 563314,
      "node_id": "MDQ6VXNlcjU2MzMxNA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/563314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wuan",
      "html_url": "https://github.com/wuan",
      "followers_url": "https://api.github.com/users/wuan/followers",
      "following_url": "https://api.github.com/users/wuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/wuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wuan/subscriptions",
      "organizations_url": "https://api.github.com/users/wuan/orgs",
      "repos_url": "https://api.github.com/users/wuan/repos",
      "events_url": "https://api.github.com/users/wuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T17:41:25Z",
    "updated_at": "2013-10-14T17:43:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "In [wuan/pandas/bdays_fix](/wuan/pandas/tree/bdays_fix) you can have a look at the fixed code. The tests which were broken after implementing the fix seemed to be incorrect as well. The should now show the expected behaviour described above by @vpatel34.\n\nThe above snippet\n\n``` C\n        days = absdate_from_ymd(year, month, day)\n        weeks = days / 7;\n        return (npy_int64)(days - weeks * 2) - BDAY_OFFSET;\n```\n\nwas replaced by\n\n``` C\n        days = absdate_from_ymd(year, month, day)\n        // calculate the current week assuming sunday as last day of a week\n        weeks = (days - 1) / 7;\n        // calculate the current weekday (in range 0 .. 6)\n        delta = (days - 1) - weeks * 7;\n        return (npy_int64)(weeks * 5 + 1 + (delta <= 5 ? delta : 5)) - BDAY_OFFSET;\n```\n\nSo far I had no idea how to reduce it further, so it may have a small performance impact due to the added calculations and logic.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26274284",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26274284",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26274284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjc0Mjg0",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T17:45:04Z",
    "updated_at": "2013-10-14T17:45:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wuan That seems a bit complicated. Just adding or subtracting an offset from days was not enough?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26274604",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26274604",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26274604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjc0NjA0",
    "user": {
      "login": "wuan",
      "id": 563314,
      "node_id": "MDQ6VXNlcjU2MzMxNA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/563314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wuan",
      "html_url": "https://github.com/wuan",
      "followers_url": "https://api.github.com/users/wuan/followers",
      "following_url": "https://api.github.com/users/wuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/wuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wuan/subscriptions",
      "organizations_url": "https://api.github.com/users/wuan/orgs",
      "repos_url": "https://api.github.com/users/wuan/repos",
      "events_url": "https://api.github.com/users/wuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T17:49:33Z",
    "updated_at": "2013-10-14T17:50:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it is not working without additional logic: The day counter is increasing every day and the week counter is increasing every week. The weekend has two days which have to show the same value. At the moment I'm very sure that you have to calculate the weekday in order to have the correct result for both days. @cancan101, you are welcome to supply an example.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26274711",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26274711",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26274711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjc0NzEx",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T17:51:00Z",
    "updated_at": "2013-10-14T17:51:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wuan put this up as a PR and will take a look\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26275165",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26275165",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26275165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjc1MTY1",
    "user": {
      "login": "cancan101",
      "id": 51059,
      "node_id": "MDQ6VXNlcjUxMDU5",
      "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cancan101",
      "html_url": "https://github.com/cancan101",
      "followers_url": "https://api.github.com/users/cancan101/followers",
      "following_url": "https://api.github.com/users/cancan101/following{/other_user}",
      "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions",
      "organizations_url": "https://api.github.com/users/cancan101/orgs",
      "repos_url": "https://api.github.com/users/cancan101/repos",
      "events_url": "https://api.github.com/users/cancan101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cancan101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T17:57:19Z",
    "updated_at": "2013-10-14T17:57:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "What about with some sort of `diff = (days - k) % 7 == M ? 1 : 0`\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/26280008",
    "html_url": "https://github.com/pandas-dev/pandas/issues/5203#issuecomment-26280008",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/5203",
    "id": 26280008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjgwMDA4",
    "user": {
      "login": "wuan",
      "id": 563314,
      "node_id": "MDQ6VXNlcjU2MzMxNA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/563314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wuan",
      "html_url": "https://github.com/wuan",
      "followers_url": "https://api.github.com/users/wuan/followers",
      "following_url": "https://api.github.com/users/wuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/wuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wuan/subscriptions",
      "organizations_url": "https://api.github.com/users/wuan/orgs",
      "repos_url": "https://api.github.com/users/wuan/repos",
      "events_url": "https://api.github.com/users/wuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-14T19:02:22Z",
    "updated_at": "2013-10-14T20:10:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm not so sure about fixing the old code, because it is now already difficult to understand. You really have to find out, that the difference between day 0 and the end of week (ending the week on Saturday) is implicitly used for the calculation. What about the refined and hopefully more clear version:\n\n``` C\n        // calculate the current week assuming sunday as last day of a week\n        weeks = (days - 1) / 7;\n        // calculate the current weekday (in range 1 .. 7)\n        delta = (days - 1) % 7 + 1;\n        // return the number of business days in full weeks plus the business days in the last - possible partial - week\n        return (npy_int64)(weeks * 5) + (delta <= 5 ? delta : 6) - BDAY_OFFSET;\n```\n"
  }
]
