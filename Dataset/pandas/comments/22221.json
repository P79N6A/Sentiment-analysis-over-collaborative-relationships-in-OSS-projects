[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410787942",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410787942",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410787942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDc4Nzk0Mg==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T17:33:01Z",
    "updated_at": "2018-08-06T17:33:01Z",
    "author_association": "MEMBER",
    "body": "Can you try on master? This seemed to be working for me."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410793085",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410793085",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410793085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDc5MzA4NQ==",
    "user": {
      "login": "HuntJSparra",
      "id": 19802403,
      "node_id": "MDQ6VXNlcjE5ODAyNDAz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/19802403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HuntJSparra",
      "html_url": "https://github.com/HuntJSparra",
      "followers_url": "https://api.github.com/users/HuntJSparra/followers",
      "following_url": "https://api.github.com/users/HuntJSparra/following{/other_user}",
      "gists_url": "https://api.github.com/users/HuntJSparra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HuntJSparra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HuntJSparra/subscriptions",
      "organizations_url": "https://api.github.com/users/HuntJSparra/orgs",
      "repos_url": "https://api.github.com/users/HuntJSparra/repos",
      "events_url": "https://api.github.com/users/HuntJSparra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HuntJSparra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T17:49:08Z",
    "updated_at": "2018-08-06T17:49:08Z",
    "author_association": "NONE",
    "body": "Thanks for the quick response! Am I going to need to clone and build locally, or is the master on Conda or PIP?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410793515",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410793515",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410793515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDc5MzUxNQ==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T17:50:25Z",
    "updated_at": "2018-08-06T17:50:25Z",
    "author_association": "MEMBER",
    "body": "0.23.4 was just released so you can try upgrading to that and see if the issue is there (I have not personally), but if not you would clone and build"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410820814",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410820814",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410820814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDgyMDgxNA==",
    "user": {
      "login": "HuntJSparra",
      "id": 19802403,
      "node_id": "MDQ6VXNlcjE5ODAyNDAz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/19802403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HuntJSparra",
      "html_url": "https://github.com/HuntJSparra",
      "followers_url": "https://api.github.com/users/HuntJSparra/followers",
      "following_url": "https://api.github.com/users/HuntJSparra/following{/other_user}",
      "gists_url": "https://api.github.com/users/HuntJSparra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HuntJSparra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HuntJSparra/subscriptions",
      "organizations_url": "https://api.github.com/users/HuntJSparra/orgs",
      "repos_url": "https://api.github.com/users/HuntJSparra/repos",
      "events_url": "https://api.github.com/users/HuntJSparra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HuntJSparra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T19:12:14Z",
    "updated_at": "2018-08-06T19:12:22Z",
    "author_association": "NONE",
    "body": "I upgraded to 0.23.4 and had the same issue. However, it is fixed on master."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410822700",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410822700",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410822700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDgyMjcwMA==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T19:18:44Z",
    "updated_at": "2018-08-06T19:18:44Z",
    "author_association": "MEMBER",
    "body": "Thanks for confirming. Good to know its \"fixed,\" though I'm actually not sure if `empty` really should be part of the resulting indexing given there is nothing being returned for it as part of the apply operation. If so then we could close this out with a test case to ensure this behavior remains in place, but if not we may want to rethink what we allow here.\r\n\r\n@jreback any thoughts?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410833968",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410833968",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410833968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDgzMzk2OA==",
    "user": {
      "login": "HuntJSparra",
      "id": 19802403,
      "node_id": "MDQ6VXNlcjE5ODAyNDAz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/19802403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HuntJSparra",
      "html_url": "https://github.com/HuntJSparra",
      "followers_url": "https://api.github.com/users/HuntJSparra/followers",
      "following_url": "https://api.github.com/users/HuntJSparra/following{/other_user}",
      "gists_url": "https://api.github.com/users/HuntJSparra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HuntJSparra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HuntJSparra/subscriptions",
      "organizations_url": "https://api.github.com/users/HuntJSparra/orgs",
      "repos_url": "https://api.github.com/users/HuntJSparra/repos",
      "events_url": "https://api.github.com/users/HuntJSparra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HuntJSparra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T19:57:54Z",
    "updated_at": "2018-08-06T19:57:54Z",
    "author_association": "NONE",
    "body": "In the original program where I encountered the error, ```GroupBy.apply()``` was being used to reduce a dataset to its outliers, which might or might not exist for a given group. Reverting to the 0.23.0-0.23.4 behavior would mean that I would have to implement a try-catch when going back through the now-trimmed outlier dataset since its ```MultiIndex``` still shows the indexes for emptied groups. If the ```MultiIndex``` returned by ```GroupBy.apply()``` was changed to reflect the behavior, I would then be required to check against the ```MultiIndex```, still adding additional code/complexity."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410840892",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410840892",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410840892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDg0MDg5Mg==",
    "user": {
      "login": "WillAyd",
      "id": 609873,
      "node_id": "MDQ6VXNlcjYwOTg3Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/609873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WillAyd",
      "html_url": "https://github.com/WillAyd",
      "followers_url": "https://api.github.com/users/WillAyd/followers",
      "following_url": "https://api.github.com/users/WillAyd/following{/other_user}",
      "gists_url": "https://api.github.com/users/WillAyd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WillAyd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WillAyd/subscriptions",
      "organizations_url": "https://api.github.com/users/WillAyd/orgs",
      "repos_url": "https://api.github.com/users/WillAyd/repos",
      "events_url": "https://api.github.com/users/WillAyd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WillAyd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T20:21:41Z",
    "updated_at": "2018-08-06T20:21:41Z",
    "author_association": "MEMBER",
    "body": "Understood on the specific problem you are trying to solve but I'm not aware of any other places where this type of behavior is encouraged in the code-base, i.e. it may be non-idiomatic.\r\n\r\n@toobaz may have some thoughts on this as well"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410862493",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410862493",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410862493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDg2MjQ5Mw==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T21:43:51Z",
    "updated_at": "2018-08-06T21:43:51Z",
    "author_association": "MEMBER",
    "body": "> I upgraded to 0.23.4 and had the same issue. However, it is fixed on master.\r\n\r\nI'm afraid the fact that this works on master is the actual bug. This is related to #19027 .\r\n\r\n@HuntJSparra I can understand what you have in mind, but you are simply looking in an index for a value which is not there, and this would only work in the past - and works again in master - because of an implementation glitch. To be honest I don't even see the try-catch as the right way to go: since some groups just don't have outliers, you might want to loop over ``trimmed.index.unique(level='group')`` rather than on all original groups.\r\n\r\nIn any case, we must understand what happened in master that made this work again."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/410932526",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-410932526",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 410932526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDkzMjUyNg==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-07T04:51:14Z",
    "updated_at": "2018-08-07T04:51:14Z",
    "author_association": "MEMBER",
    "body": "Simpler way to reproduce:\r\n```\r\nIn [2]: pd.MultiIndex.from_product([[0, 1], [2, 3]]).drop(1).get_loc_level(1)\r\nOut[2]: (slice(2, 2, None), Int64Index([], dtype='int64'))\r\n\r\n```"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/412567446",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-412567446",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 412567446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjU2NzQ0Ng==",
    "user": {
      "login": "choma1",
      "id": 8977771,
      "node_id": "MDQ6VXNlcjg5Nzc3NzE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8977771?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/choma1",
      "html_url": "https://github.com/choma1",
      "followers_url": "https://api.github.com/users/choma1/followers",
      "following_url": "https://api.github.com/users/choma1/following{/other_user}",
      "gists_url": "https://api.github.com/users/choma1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/choma1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/choma1/subscriptions",
      "organizations_url": "https://api.github.com/users/choma1/orgs",
      "repos_url": "https://api.github.com/users/choma1/repos",
      "events_url": "https://api.github.com/users/choma1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/choma1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-13T15:53:54Z",
    "updated_at": "2018-08-13T15:53:54Z",
    "author_association": "NONE",
    "body": "Why was returning a KeyError here determined to be preferable to returning an empty DataFrame?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/412589786",
    "html_url": "https://github.com/pandas-dev/pandas/issues/22221#issuecomment-412589786",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/22221",
    "id": 412589786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjU4OTc4Ng==",
    "user": {
      "login": "toobaz",
      "id": 1224492,
      "node_id": "MDQ6VXNlcjEyMjQ0OTI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1224492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toobaz",
      "html_url": "https://github.com/toobaz",
      "followers_url": "https://api.github.com/users/toobaz/followers",
      "following_url": "https://api.github.com/users/toobaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/toobaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toobaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toobaz/subscriptions",
      "organizations_url": "https://api.github.com/users/toobaz/orgs",
      "repos_url": "https://api.github.com/users/toobaz/repos",
      "events_url": "https://api.github.com/users/toobaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toobaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-13T17:00:56Z",
    "updated_at": "2018-08-13T17:00:56Z",
    "author_association": "MEMBER",
    "body": "> Why was returning a KeyError here determined to be preferable to returning an empty DataFrame?\r\n\r\nBecause the label is not in the index/level, and [``.loc`` will raise ``KeyError`` when the items are not found](https://pandas.pydata.org/pandas-docs/stable/indexing.html#different-choices-for-indexing)"
  }
]
