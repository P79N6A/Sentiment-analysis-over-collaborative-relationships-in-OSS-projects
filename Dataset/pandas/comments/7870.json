[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50501975",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50501975",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50501975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTAxOTc1",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:34:16Z",
    "updated_at": "2014-07-29T16:34:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm not sure this is what `filter` is meant for.  I think it acts on the _groups_, not on elements of the groups.\n\nIf I'm right, then the bug is that this isn't tripping `raise TypeError(\"the filter must return a boolean result\")`, not that the result differs from the concat result.  If not, then the docs are confusing.  (Maybe they are in any case.)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50502152",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50502152",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50502152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTAyMTUy",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:35:28Z",
    "updated_at": "2014-07-29T16:36:20Z",
    "author_association": "MEMBER",
    "body": "I'll repost how I thought it might've worked\n\n```\nIn [20]: df\nOut[20]:\n       a  b  c\n0   best  a  x\n1  worst  b  y\n2   best  c  x\n3   best  d  y\n4  worst  d  y\n5  worst  d  y\n6   best  d  z\n\nIn [21]: pd.concat(v[v.a == 'best'] for _, v in df.groupby('c'))\nOut[21]:\n      a  b  c\n0  best  a  x\n2  best  c  x\n3  best  d  y\n6  best  d  z\n\nIn [22]: df.groupby('c').filter(lambda g: g.a == 'best')\nOut[22]:\n      a  b  c\n0  best  a  x\n2  best  c  x\n6  best  d  z\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50502237",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50502237",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50502237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTAyMjM3",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:36:04Z",
    "updated_at": "2014-07-29T16:36:04Z",
    "author_association": "MEMBER",
    "body": "@dsm054 by groups do you mean `['x', 'y', 'z']` or the `(name, frame)` pairs?\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50502839",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50502839",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50502839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTAyODM5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:39:58Z",
    "updated_at": "2014-07-29T16:39:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I agree with @dsm054 here. This should return the SAME df, (as 'best' is in EACH group). The bug is that the complete groups are not being returned (because the filter function is tricking the detector).\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50503103",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50503103",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50503103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTAzMTAz",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:41:49Z",
    "updated_at": "2014-07-29T16:41:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "I mean the subframes that `filter` is passed.  I think you're given a group and you're supposed to return a yea or nay bool based on the _group_, not an iterable of bools about your opinions on each row in the group.  \n\nThe example in the function itself is `(lambda x: x['A'].sum() + x['B'].sum() > 0)`, which is a reduction-to-bool operation.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50503277",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50503277",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50503277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTAzMjc3",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:43:13Z",
    "updated_at": "2014-07-29T16:43:13Z",
    "author_association": "MEMBER",
    "body": "well then this is very weird :)\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50503597",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50503597",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50503597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTAzNTk3",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:45:33Z",
    "updated_at": "2014-07-29T16:45:33Z",
    "author_association": "MEMBER",
    "body": "pr coming\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50504858",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50504858",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50504858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTA0ODU4",
    "user": {
      "login": "dsm054",
      "id": 980054,
      "node_id": "MDQ6VXNlcjk4MDA1NA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/980054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsm054",
      "html_url": "https://github.com/dsm054",
      "followers_url": "https://api.github.com/users/dsm054/followers",
      "following_url": "https://api.github.com/users/dsm054/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsm054/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsm054/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsm054/subscriptions",
      "organizations_url": "https://api.github.com/users/dsm054/orgs",
      "repos_url": "https://api.github.com/users/dsm054/repos",
      "events_url": "https://api.github.com/users/dsm054/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsm054/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T16:54:28Z",
    "updated_at": "2014-07-29T16:54:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just to be clear, I'm not sure I agree with @jreback that the right thing to do is to return the same `df` because \"best\" is in each group.  That's equivalent to saying that we're going to use the convention bool(array) == any(array), which is only going to work here.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50505751",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50505751",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50505751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTA1NzUx",
    "user": {
      "login": "hayd",
      "id": 1931852,
      "node_id": "MDQ6VXNlcjE5MzE4NTI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1931852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hayd",
      "html_url": "https://github.com/hayd",
      "followers_url": "https://api.github.com/users/hayd/followers",
      "following_url": "https://api.github.com/users/hayd/following{/other_user}",
      "gists_url": "https://api.github.com/users/hayd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hayd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hayd/subscriptions",
      "organizations_url": "https://api.github.com/users/hayd/orgs",
      "repos_url": "https://api.github.com/users/hayd/repos",
      "events_url": "https://api.github.com/users/hayd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hayd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T17:00:51Z",
    "updated_at": "2014-07-29T17:00:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Posted on ML before this. I think raise is the correct course of action here. Filter is for removing/including _entire_ groups. Picking all or any (or first!) of the boolean Series would be strange IMO...\n\n> Function to apply to each subframe. Should return True or False.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50506172",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50506172",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50506172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTA2MTcy",
    "user": {
      "login": "phobson",
      "id": 1163939,
      "node_id": "MDQ6VXNlcjExNjM5Mzk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1163939?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phobson",
      "html_url": "https://github.com/phobson",
      "followers_url": "https://api.github.com/users/phobson/followers",
      "following_url": "https://api.github.com/users/phobson/following{/other_user}",
      "gists_url": "https://api.github.com/users/phobson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phobson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phobson/subscriptions",
      "organizations_url": "https://api.github.com/users/phobson/orgs",
      "repos_url": "https://api.github.com/users/phobson/repos",
      "events_url": "https://api.github.com/users/phobson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phobson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T17:03:56Z",
    "updated_at": "2014-07-29T17:03:56Z",
    "author_association": "NONE",
    "body": "Very insightful comments here. Much appreciated. I'm :+1: on raising an error, which I believe version 0.12 did.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50509449",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50509449",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50509449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTA5NDQ5",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T17:28:57Z",
    "updated_at": "2014-07-29T17:28:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "I concur\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50510626",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50510626",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50510626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTEwNjI2",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T17:37:26Z",
    "updated_at": "2014-07-29T17:37:52Z",
    "author_association": "MEMBER",
    "body": "Okay, this mainly had to do with the `slow_path`/`fast_path` business, where the slow path calls `apply` on the `group` (usually a frame) and the fast path just calls the function directly, which of course in the case of this:\n\n```\nIn [8]: df\nOut[8]:\n   a       b\n0  1  0.9712\n1  1  0.7578\n2  1  0.6300\n3  2  1.7625\n4  2 -0.0895\n\nIn [9]: df[df.a == 1].apply(lambda x: len(x) > 1)\nOut[9]:\na    True\nb    True\ndtype: bool\n\nIn [10]: len(df[df.a == 1]) > 1\nOut[10]: True\n```\n\ngives two different unrelated results and there were some hacks around trying to figure out which one was \"correct\". \n\ni gutted all that code and now just call the fast path, we'll see what happens on travis but this doesn't break anything locally.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/50512521",
    "html_url": "https://github.com/pandas-dev/pandas/issues/7870#issuecomment-50512521",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/7870",
    "id": 50512521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTEyNTIx",
    "user": {
      "login": "cpcloud",
      "id": 417981,
      "node_id": "MDQ6VXNlcjQxNzk4MQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/417981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpcloud",
      "html_url": "https://github.com/cpcloud",
      "followers_url": "https://api.github.com/users/cpcloud/followers",
      "following_url": "https://api.github.com/users/cpcloud/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpcloud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpcloud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpcloud/subscriptions",
      "organizations_url": "https://api.github.com/users/cpcloud/orgs",
      "repos_url": "https://api.github.com/users/cpcloud/repos",
      "events_url": "https://api.github.com/users/cpcloud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpcloud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-29T17:50:26Z",
    "updated_at": "2014-07-29T17:50:26Z",
    "author_association": "MEMBER",
    "body": "I went with raise for the same reason that `np.array([False, True]).item()` raises\n"
  }
]
