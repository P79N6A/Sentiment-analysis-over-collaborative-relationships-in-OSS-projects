[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284268767",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284268767",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284268767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDI2ODc2Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-05T22:31:33Z",
    "updated_at": "2017-03-05T22:31:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "hmm, I think this needs a suite of tests. There are very few for ``sort=True`` (and only a single dtype anyhow). It *appears* you are correct that this violates the guarantee."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284272130",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284272130",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284272130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDI3MjEzMA==",
    "user": {
      "login": "sleepdeprivation",
      "id": 5867630,
      "node_id": "MDQ6VXNlcjU4Njc2MzA=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5867630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sleepdeprivation",
      "html_url": "https://github.com/sleepdeprivation",
      "followers_url": "https://api.github.com/users/sleepdeprivation/followers",
      "following_url": "https://api.github.com/users/sleepdeprivation/following{/other_user}",
      "gists_url": "https://api.github.com/users/sleepdeprivation/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sleepdeprivation/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sleepdeprivation/subscriptions",
      "organizations_url": "https://api.github.com/users/sleepdeprivation/orgs",
      "repos_url": "https://api.github.com/users/sleepdeprivation/repos",
      "events_url": "https://api.github.com/users/sleepdeprivation/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sleepdeprivation/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-05T23:21:23Z",
    "updated_at": "2017-03-05T23:22:28Z",
    "author_association": "NONE",
    "body": "@jreback noob here, where to write these tests?\r\n\r\nedit: found /tests , I guess I'm just looking for guidance ?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284272234",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284272234",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284272234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDI3MjIzNA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-05T23:22:27Z",
    "updated_at": "2017-03-05T23:22:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "``pandas/tests/tools/test_join.py`` (there is a single sorted test now)"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284272254",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284272254",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284272254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDI3MjI1NA==",
    "user": {
      "login": "sleepdeprivation",
      "id": 5867630,
      "node_id": "MDQ6VXNlcjU4Njc2MzA=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5867630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sleepdeprivation",
      "html_url": "https://github.com/sleepdeprivation",
      "followers_url": "https://api.github.com/users/sleepdeprivation/followers",
      "following_url": "https://api.github.com/users/sleepdeprivation/following{/other_user}",
      "gists_url": "https://api.github.com/users/sleepdeprivation/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sleepdeprivation/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sleepdeprivation/subscriptions",
      "organizations_url": "https://api.github.com/users/sleepdeprivation/orgs",
      "repos_url": "https://api.github.com/users/sleepdeprivation/repos",
      "events_url": "https://api.github.com/users/sleepdeprivation/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sleepdeprivation/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-05T23:22:46Z",
    "updated_at": "2017-03-05T23:22:46Z",
    "author_association": "NONE",
    "body": "@jreback OK cool, thanks for the quick reply"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284275474",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284275474",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284275474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDI3NTQ3NA==",
    "user": {
      "login": "sleepdeprivation",
      "id": 5867630,
      "node_id": "MDQ6VXNlcjU4Njc2MzA=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5867630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sleepdeprivation",
      "html_url": "https://github.com/sleepdeprivation",
      "followers_url": "https://api.github.com/users/sleepdeprivation/followers",
      "following_url": "https://api.github.com/users/sleepdeprivation/following{/other_user}",
      "gists_url": "https://api.github.com/users/sleepdeprivation/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sleepdeprivation/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sleepdeprivation/subscriptions",
      "organizations_url": "https://api.github.com/users/sleepdeprivation/orgs",
      "repos_url": "https://api.github.com/users/sleepdeprivation/repos",
      "events_url": "https://api.github.com/users/sleepdeprivation/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sleepdeprivation/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T00:12:46Z",
    "updated_at": "2017-03-06T00:12:46Z",
    "author_association": "NONE",
    "body": "@jreback So if I just swap `self` and `other` in the call to `merge` in `pandas/core/frame.py > _join_compat`\r\n, wouldn't that adequately solve the indexing problem?\r\n\r\nAnd then I guess you want tests written for join to test the sort param?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284277068",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284277068",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284277068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDI3NzA2OA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T00:34:36Z",
    "updated_at": "2017-03-06T00:34:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "i think this might break a large amount of tests \r\nsee what happens"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284278180",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284278180",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284278180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDI3ODE4MA==",
    "user": {
      "login": "sleepdeprivation",
      "id": 5867630,
      "node_id": "MDQ6VXNlcjU4Njc2MzA=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5867630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sleepdeprivation",
      "html_url": "https://github.com/sleepdeprivation",
      "followers_url": "https://api.github.com/users/sleepdeprivation/followers",
      "following_url": "https://api.github.com/users/sleepdeprivation/following{/other_user}",
      "gists_url": "https://api.github.com/users/sleepdeprivation/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sleepdeprivation/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sleepdeprivation/subscriptions",
      "organizations_url": "https://api.github.com/users/sleepdeprivation/orgs",
      "repos_url": "https://api.github.com/users/sleepdeprivation/repos",
      "events_url": "https://api.github.com/users/sleepdeprivation/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sleepdeprivation/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T00:48:31Z",
    "updated_at": "2017-03-06T00:48:31Z",
    "author_association": "NONE",
    "body": "Old:\r\n```\r\n>>> import pandas as pd\r\n>>> # Your code here\r\n... df1 = pd.DataFrame({'a': [0, 10, 20]})\r\n>>> df2 = pd.DataFrame({'b': [200, 100]}, index=[2,1])\r\n>>> \r\n>>> print(df1.join(df2, how='inner'))\r\n    a    b\r\n2  20  200\r\n1  10  100\r\n>>> print(df2.join(df1, how='inner'))\r\n     b   a\r\n1  100  10\r\n2  200  20\r\n>>> \r\n>>> print(df1.join(df2, how='inner', sort=True))\r\n    a    b\r\n2  20  200\r\n1  10  100\r\n\r\n```\r\nNew:\r\n```\r\n>>> # Your code here\r\n... df1 = pd.DataFrame({'a': [0, 10, 20]})\r\n>>> df2 = pd.DataFrame({'b': [200, 100]}, index=[2,1])\r\n>>> \r\n>>> print(df1.join(df2, how='inner'))\r\nDATA FRAME JOIN\r\n     b   a\r\n1  100  10\r\n2  200  20\r\n>>> print(df2.join(df1, how='inner'))\r\nDATA FRAME JOIN\r\n    a    b\r\n2  20  200\r\n1  10  100\r\n>>> \r\n>>> print(df1.join(df2, how='inner', sort=True))\r\nDATA FRAME JOIN\r\n     b   a\r\n1  100  10\r\n2  200  20\r\n\r\n```\r\nmy `pytest all` succeeds except these fail even with clean code\r\n```\r\n========================  test_traitsdoc.py  =========================\r\n======================  test_phantom_import.py  ======================\r\n======================  test_plot_directive.py  ======================\r\n========================  test_docscrape.py  =========================\r\n=========================  test_linkcode.py  =========================\r\n```\r\nThey all fail with `ImportError`, and as I said fail even with clean code so I assume this has nothing to do with the modification...?"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284408916",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284408916",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284408916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDQwODkxNg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T14:22:41Z",
    "updated_at": "2017-03-06T14:22:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "note that this is only going to matter for `how='inner'``. ``how='right'|'left'`` will take on the orderings of those respective indexes. ``outer`` I think we cannot guarantee an ordering.\r\n\r\nIn any event need tests for all of these."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284565439",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284565439",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284565439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDU2NTQzOQ==",
    "user": {
      "login": "albertvillanova",
      "id": 8515462,
      "node_id": "MDQ6VXNlcjg1MTU0NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8515462?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/albertvillanova",
      "html_url": "https://github.com/albertvillanova",
      "followers_url": "https://api.github.com/users/albertvillanova/followers",
      "following_url": "https://api.github.com/users/albertvillanova/following{/other_user}",
      "gists_url": "https://api.github.com/users/albertvillanova/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/albertvillanova/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/albertvillanova/subscriptions",
      "organizations_url": "https://api.github.com/users/albertvillanova/orgs",
      "repos_url": "https://api.github.com/users/albertvillanova/repos",
      "events_url": "https://api.github.com/users/albertvillanova/events{/privacy}",
      "received_events_url": "https://api.github.com/users/albertvillanova/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T23:11:44Z",
    "updated_at": "2017-03-06T23:11:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "The bug is not at the DataFrame level but at the Index level. \r\n\r\nThe swap of arguments in the call to merge proposed by @sleepdeprivation is going to generate a new bug with swapped lsuffix and rsuffix. Moreover the order of the columns in the result is also exchanged (first columns from the right DataFrame, then columns from the left one).\r\n\r\nThe real bug is at the Index level, concretely in the Index.intersection() method. The get_indexer must be called on the right index and with left index as argument, so that it returns a mask which transforms the caller index (right) into the passed index (left), and not the other way around. This is the desired output: a mask on the right index which picks its elements in such a way that it gets aligned with the left index.\r\n\r\nI have implemented/updated some tests in my PR."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284845127",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284845127",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284845127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDg0NTEyNw==",
    "user": {
      "login": "albertvillanova",
      "id": 8515462,
      "node_id": "MDQ6VXNlcjg1MTU0NjI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8515462?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/albertvillanova",
      "html_url": "https://github.com/albertvillanova",
      "followers_url": "https://api.github.com/users/albertvillanova/followers",
      "following_url": "https://api.github.com/users/albertvillanova/following{/other_user}",
      "gists_url": "https://api.github.com/users/albertvillanova/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/albertvillanova/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/albertvillanova/subscriptions",
      "organizations_url": "https://api.github.com/users/albertvillanova/orgs",
      "repos_url": "https://api.github.com/users/albertvillanova/repos",
      "events_url": "https://api.github.com/users/albertvillanova/events{/privacy}",
      "received_events_url": "https://api.github.com/users/albertvillanova/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-07T20:14:29Z",
    "updated_at": "2017-03-07T20:14:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "One question about the tests: I have implemented/updated some tests in files tests/indexes/test_base.py  and tests/frame/test_misc_api.py (test_join_index), but as you said there are also tests on join in file tests/tools/test_join.py. I do not understand the logic in the directory structure of the tests."
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/284847251",
    "html_url": "https://github.com/pandas-dev/pandas/issues/15582#issuecomment-284847251",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/15582",
    "id": 284847251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDg0NzI1MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-07T20:22:47Z",
    "updated_at": "2017-03-07T20:22:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it should be self-evident. you have tests on the indexes themselves, and the api on frames (which only is a dispatch from ``pd.merge``), and the actual impl of merge/join in tools."
  }
]
