[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/206886361",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12820#issuecomment-206886361",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12820",
    "id": 206886361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjg4NjM2MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-07T13:02:03Z",
    "updated_at": "2016-04-07T13:02:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "pls show how you stored the panel.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/206889294",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12820#issuecomment-206889294",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12820",
    "id": 206889294,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjg4OTI5NA==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-07T13:07:02Z",
    "updated_at": "2016-04-07T13:07:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "You are treating the index like they are numbers, but they are not, they are just labels. You _can_ select if things are stored in certain ways, pls read the docs [here](http://pandas.pydata.org/pandas-docs/stable/io.html#querying-a-table). The 0th axis in general cannot be indexed like this, you will need to store your panel with swapped dimensions.\n\n```\nIn [9]: p = tm.makePanel()\n\nIn [10]: p.to_hdf('test.hdf','p',format='table')\n\nIn [11]: pd.read_hdf('test.hdf','p',where='items=\"ItemA\"')\nOut[11]: \n<class 'pandas.core.panel.Panel'>\nDimensions: 1 (items) x 30 (major_axis) x 4 (minor_axis)\nItems axis: ItemA to ItemA\nMajor_axis axis: 2000-01-03 00:00:00 to 2000-02-11 00:00:00\nMinor_axis axis: A to D\n\nIn [12]: pd.read_hdf('test.hdf','p',where='items in [\"ItemA\",\"ItemB\"]')\nOut[12]: \n<class 'pandas.core.panel.Panel'>\nDimensions: 2 (items) x 30 (major_axis) x 4 (minor_axis)\nItems axis: ItemA to ItemB\nMajor_axis axis: 2000-01-03 00:00:00 to 2000-02-11 00:00:00\nMinor_axis axis: A to D\n\nIn [13]: p\nOut[13]: \n<class 'pandas.core.panel.Panel'>\nDimensions: 3 (items) x 30 (major_axis) x 4 (minor_axis)\nItems axis: ItemA to ItemC\nMajor_axis axis: 2000-01-03 00:00:00 to 2000-02-11 00:00:00\nMinor_axis axis: A to D\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/207160288",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12820#issuecomment-207160288",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12820",
    "id": 207160288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzE2MDI4OA==",
    "user": {
      "login": "Fredericxian",
      "id": 18323233,
      "node_id": "MDQ6VXNlcjE4MzIzMjMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18323233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fredericxian",
      "html_url": "https://github.com/Fredericxian",
      "followers_url": "https://api.github.com/users/Fredericxian/followers",
      "following_url": "https://api.github.com/users/Fredericxian/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fredericxian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fredericxian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fredericxian/subscriptions",
      "organizations_url": "https://api.github.com/users/Fredericxian/orgs",
      "repos_url": "https://api.github.com/users/Fredericxian/repos",
      "events_url": "https://api.github.com/users/Fredericxian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fredericxian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T01:19:46Z",
    "updated_at": "2016-04-08T01:19:46Z",
    "author_association": "NONE",
    "body": "Thanks for your quick response! \nMy whole process of storing the panel is:\n\nwp=pd.Panel([tick_data_final.values,tick_data_final.values],major_axis=tick_data_final.index,minor_axis=tick_data_final.columns,dtype=int)\n\nwp\nOut[9]: \n<class 'pandas.core.panel.Panel'>\nDimensions: 2 (items) x 55640 (major_axis) x 9 (minor_axis)\nItems axis: 0 to 1\nMajor_axis axis: 0 to 55639\nMinor_axis axis: TradingDay to AskVolume1\n\nstore =pd.HDFStore(U'C:\\tinysoft_data\\table_int2.h5',\"a\",complevel=9,complib='zlib')\n\n store.append('wp',wp)\n\n store\nOut[19]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: C:\\tinysoft_data\\table_int3.h5\n/wp            wide_table   (typ->appendable,nrows->500760,ncols->3,indexers->[major_axis,minor_axis])\n\nThe items index of panel, I set it as number. When I query \nstore.select('wp','items==0')\nIt can be successfully execute, the result is:\n\n<class 'pandas.core.panel.Panel'>\nDimensions: 1 (items) x 55640 (major_axis) x 9 (minor_axis)\nItems axis: 0 to 0\nMajor_axis axis: 0 to 55639\nMinor_axis axis: AskPrice1 to UpdateTime\n\nBut the question is that I want to query the table from n to m!\nlike\nstore.select('wp','items>0') # I want the table from the second table to the last, but it happen the error above\n\nActually, I don't want to use suck a complex way to query the data. Because If I just use pd.DataFrame to store the data, we only can call the data using their names.\n\nFor example\nstore\nOut[50]: \n<class 'pandas.io.pytables.HDFStore'>\nFile path: C:\\tinysoft_data\\table_int4.h5\n/table1            frame_table  (typ->appendable,nrows->8,ncols->1,indexers->[index])\n/table2            frame_table  (typ->appendable,nrows->8,ncols->1,indexers->[index])\n/table3            frame_table  (typ->appendable,nrows->8,ncols->1,indexers->[index])\n/table4            frame_table  (typ->appendable,nrows->8,ncols->1,indexers->[index])\n\nHow can I query table2 to table4, are there any easy way like wp.iloc[1:4]\n\nThe other question is how to store the mixed data type panel into the hdf5\nif the dtype not equal to the same type \nwp=pd.Panel([tick_data_final.values,tick_data_final.values],major_axis=tick_data_final.index,minor_axis=tick_data_final.columns)\n\nstore.append('wp',wp)\n\nTypeError: Cannot serialize the column [0] because\nits data contents are [mixed] object dtype\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/207186695",
    "html_url": "https://github.com/pandas-dev/pandas/issues/12820#issuecomment-207186695",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/12820",
    "id": 207186695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzE4NjY5NQ==",
    "user": {
      "login": "Fredericxian",
      "id": 18323233,
      "node_id": "MDQ6VXNlcjE4MzIzMjMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18323233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fredericxian",
      "html_url": "https://github.com/Fredericxian",
      "followers_url": "https://api.github.com/users/Fredericxian/followers",
      "following_url": "https://api.github.com/users/Fredericxian/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fredericxian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fredericxian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fredericxian/subscriptions",
      "organizations_url": "https://api.github.com/users/Fredericxian/orgs",
      "repos_url": "https://api.github.com/users/Fredericxian/repos",
      "events_url": "https://api.github.com/users/Fredericxian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fredericxian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T02:47:14Z",
    "updated_at": "2016-04-08T02:47:14Z",
    "author_association": "NONE",
    "body": "last but no least, how can I update the Panel data stored in the hdf5\n\nwp\nOut[125]: \n<class 'pandas.core.panel.Panel'>\nDimensions: 2 (items) x 55546 (major_axis) x 9 (minor_axis)\nItems axis: 0 to 1\nMajor_axis axis: 0 to 55545\nMinor_axis axis: TradingDay to AskVolume1\n\nwp1=pd.Panel([tick_data_final.values,tick_data_final.values],items=[2,3],major_axis=tick_data_final.index,minor_axis=tick_data_final.columns,dtype=str)\n\nwp1\nOut[127]: \n<class 'pandas.core.panel.Panel'>\nDimensions: 2 (items) x 55546 (major_axis) x 9 (minor_axis)\nItems axis: 2 to 3\nMajor_axis axis: 0 to 55545\nMinor_axis axis: TradingDay to AskVolume1\n\nstore.append('wp',wp1)\nTraceback (most recent call last):\n\n  File \"<ipython-input-128-4be9357a8c3c>\", line 1, in <module>\n    store.append('wp',wp1)\n\n  File \"C:\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py\", line 919, in append\n    **kwargs)\n\n  File \"C:\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py\", line 1264, in _write_to_group\n    s.write(obj=value, append=append, complib=complib, **kwargs)\n\n  File \"C:\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py\", line 3787, in write\n    **kwargs)\n\n  File \"C:\\Anaconda3\\lib\\site-packages\\pandas\\io\\pytables.py\", line 3415, in create_axes\n    item in items))\n\nValueError: cannot match existing table structure for [0,1] on appending data\n"
  }
]
