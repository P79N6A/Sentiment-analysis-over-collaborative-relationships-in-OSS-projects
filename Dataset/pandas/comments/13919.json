[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/237853795",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-237853795",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 237853795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzg1Mzc5NQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-05T13:44:11Z",
    "updated_at": "2016-08-05T13:44:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "this is in general a completely bad idea. categories are by-definition single dtypes (and not object), except for strings.\n\nThese should raise actually on creation.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/237853922",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-237853922",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 237853922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzg1MzkyMg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-05T13:44:37Z",
    "updated_at": "2016-08-05T13:44:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "if you'd like to push a PR for error reporting in catetgorical creation that would be great.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/237856436",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-237856436",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 237856436,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzg1NjQzNg==",
    "user": {
      "login": "hnykda",
      "id": 2741256,
      "node_id": "MDQ6VXNlcjI3NDEyNTY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2741256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hnykda",
      "html_url": "https://github.com/hnykda",
      "followers_url": "https://api.github.com/users/hnykda/followers",
      "following_url": "https://api.github.com/users/hnykda/following{/other_user}",
      "gists_url": "https://api.github.com/users/hnykda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hnykda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hnykda/subscriptions",
      "organizations_url": "https://api.github.com/users/hnykda/orgs",
      "repos_url": "https://api.github.com/users/hnykda/repos",
      "events_url": "https://api.github.com/users/hnykda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hnykda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-05T13:54:37Z",
    "updated_at": "2016-08-05T13:54:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, I agree with you that it should be raised on creation. \n\nI had a thousands of columns loaded from CSV and was converting them automatically to categories based on something like `len(column.unique())>3: column.astype('category')`. And when there is e.g. `np.nan` and 'string' in the column, it leads to what I have reported.\n\nWill think about doing that PR.\n\nThanks Jeff!\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/238109451",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-238109451",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 238109451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODEwOTQ1MQ==",
    "user": {
      "login": "hnykda",
      "id": 2741256,
      "node_id": "MDQ6VXNlcjI3NDEyNTY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2741256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hnykda",
      "html_url": "https://github.com/hnykda",
      "followers_url": "https://api.github.com/users/hnykda/followers",
      "following_url": "https://api.github.com/users/hnykda/following{/other_user}",
      "gists_url": "https://api.github.com/users/hnykda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hnykda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hnykda/subscriptions",
      "organizations_url": "https://api.github.com/users/hnykda/orgs",
      "repos_url": "https://api.github.com/users/hnykda/repos",
      "events_url": "https://api.github.com/users/hnykda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hnykda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-07T21:24:34Z",
    "updated_at": "2016-08-07T21:24:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry, I can't do it in a near future (say, month). But I am marking it down and maybe come back to it. If anyone wants to help here, it's very welcome.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/240616945",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-240616945",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 240616945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDYxNjk0NQ==",
    "user": {
      "login": "wcwagner",
      "id": 13247590,
      "node_id": "MDQ6VXNlcjEzMjQ3NTkw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/13247590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wcwagner",
      "html_url": "https://github.com/wcwagner",
      "followers_url": "https://api.github.com/users/wcwagner/followers",
      "following_url": "https://api.github.com/users/wcwagner/following{/other_user}",
      "gists_url": "https://api.github.com/users/wcwagner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wcwagner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wcwagner/subscriptions",
      "organizations_url": "https://api.github.com/users/wcwagner/orgs",
      "repos_url": "https://api.github.com/users/wcwagner/repos",
      "events_url": "https://api.github.com/users/wcwagner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wcwagner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-18T03:49:30Z",
    "updated_at": "2016-08-18T03:49:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jreback Can you clarify what you mean by saying _\"Categoricals should not allow non-strings when an object dtype is passed\"_\n\nMy PR above takes this literally, which breaks many tests, [particularly here](https://github.com/pydata/pandas/blob/master/pandas/indexes/multi.py#L867) . That list comprehension  passes in `arr` to `Categorical.from_array`, which is often of type `object`, but all the individual values are homogenous \n\nIn my PR, should I just check if all the values are of the same type?\n\nThanks\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/240639045",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-240639045",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 240639045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDYzOTA0NQ==",
    "user": {
      "login": "hnykda",
      "id": 2741256,
      "node_id": "MDQ6VXNlcjI3NDEyNTY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2741256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hnykda",
      "html_url": "https://github.com/hnykda",
      "followers_url": "https://api.github.com/users/hnykda/followers",
      "following_url": "https://api.github.com/users/hnykda/following{/other_user}",
      "gists_url": "https://api.github.com/users/hnykda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hnykda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hnykda/subscriptions",
      "organizations_url": "https://api.github.com/users/hnykda/orgs",
      "repos_url": "https://api.github.com/users/hnykda/repos",
      "events_url": "https://api.github.com/users/hnykda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hnykda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-18T06:52:16Z",
    "updated_at": "2016-08-18T12:26:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello @wcwagner . Thank you for taking a look on this.\n\nI believe that it was more like the second option - individual values should be homogenous (in the terms of dtypes). So don't allow something like this: `1, '2', 3` (mixing int with string), while `'1', '2', '3'` (all str/objects) or `1, 2, 3` (all ints) are valid.\n\nIf I should implement it extremely naively, I would do something like: \n\n``` python\ncategories_types = [type(x) for x in categories]\nif len(categories_types) > 1: \n    raise ValueError('Categories must be all of the same type. They are %s', categories_types)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/240681661",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-240681661",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 240681661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDY4MTY2MQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-18T10:11:13Z",
    "updated_at": "2016-08-18T10:11:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@hnykda we don't allow for `object` dtypes an inferred type of non (`string`, `unicode`, `period` (will be removed later, pls add a TODO)).\n\n```\nIn [9]: pd.lib.infer_dtype([1, '2', 3.0])\nOut[9]: 'mixed-integer'\n\nIn [10]: pd.lib.infer_dtype([pd.Timestamp('20130101'), 3.0])\nOut[10]: 'mixed'\n\nIn [12]: pd.lib.infer_dtype(['foo', 'bar'])\nOut[12]: 'string'\n\nIn [13]: pd.lib.infer_dtype([u'foo', u'bar'])\nOut[13]: 'unicode'\n\nIn [16]: pd.lib.infer_dtype([pd.Period('2016','M')])\nOut[16]: 'period'\n```\n\nnote this should only be done on the categories as these are already coerced as much as possible.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246852385",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-246852385",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 246852385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njg1MjM4NQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T22:57:01Z",
    "updated_at": "2016-09-13T22:57:01Z",
    "author_association": "MEMBER",
    "body": "Repeating what I said in the PR (https://github.com/pydata/pandas/pull/14047): personally, I don't think we should check this at Categorical construction, I would rather check for this in the hdf code itself.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246853262",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-246853262",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 246853262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njg1MzI2Mg==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T23:01:21Z",
    "updated_at": "2016-09-13T23:01:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think it's ever useful to support mixed dtypes inside a Categorical even if it's technically possible. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246855629",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-246855629",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 246855629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njg1NTYyOQ==",
    "user": {
      "login": "jorisvandenbossche",
      "id": 1020496,
      "node_id": "MDQ6VXNlcjEwMjA0OTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisvandenbossche",
      "html_url": "https://github.com/jorisvandenbossche",
      "followers_url": "https://api.github.com/users/jorisvandenbossche/followers",
      "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs",
      "repos_url": "https://api.github.com/users/jorisvandenbossche/repos",
      "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-13T23:13:25Z",
    "updated_at": "2016-09-13T23:13:25Z",
    "author_association": "MEMBER",
    "body": "Given the comments on the PR, it's not technically impossible to disallow, but it would make the implementation (which is mixed with MultiIndex) more complex. \nBut, more fundamentally, I don't see any reason to disallow it, even if we could. I could for example imagine a case where you want to put custom objects (eg your own Interval objects) as categories, which is something we would (currently) identify as mixed.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/246883231",
    "html_url": "https://github.com/pandas-dev/pandas/issues/13919#issuecomment-246883231",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/13919",
    "id": 246883231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njg4MzIzMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-14T01:59:46Z",
    "updated_at": "2016-09-14T01:59:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "well, we are not tested at all for mixed type categoricals. I think its pretty reasonable to disallow them; makes them easier to deal with, more meaningful and pure.\n"
  }
]
