[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/22563294",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4550#issuecomment-22563294",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4550",
    "id": 22563294,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTYzMjk0",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-13T13:09:11Z",
    "updated_at": "2013-08-13T13:09:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes this is expected; you cannot (ATM) change the dtype in place (from integer to float), which is what assigning with a `nan` entails. Series act somewhat differently that DataFrames because they have a different super-class, this is slated to be fixed in 0.13.\n\nThis type of assignment is more supported in `DataFrames` (as well as dealing with non-unique indices)\n\n```\nIn [16]: df = DataFrame(dict(a = [0,1,2,0,1,2]))\n\nIn [17]: df\nOut[17]: \n   a\n0  0\n1  1\n2  2\n3  0\n4  1\n5  2\n\nIn [18]: df[df['a']<2]\nOut[18]: \n   a\n0  0\n1  1\n3  0\n4  1\n\nIn [19]: df[df['a']<2] += 2\n\nIn [20]: df\nOut[20]: \n   a\n0  2\n1  3\n2  2\n3  2\n4  3\n```\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/22565413",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4550#issuecomment-22565413",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4550",
    "id": 22565413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTY1NDEz",
    "user": {
      "login": "jgehrcke",
      "id": 265630,
      "node_id": "MDQ6VXNlcjI2NTYzMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/265630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgehrcke",
      "html_url": "https://github.com/jgehrcke",
      "followers_url": "https://api.github.com/users/jgehrcke/followers",
      "following_url": "https://api.github.com/users/jgehrcke/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgehrcke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgehrcke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgehrcke/subscriptions",
      "organizations_url": "https://api.github.com/users/jgehrcke/orgs",
      "repos_url": "https://api.github.com/users/jgehrcke/repos",
      "events_url": "https://api.github.com/users/jgehrcke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgehrcke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-13T13:43:39Z",
    "updated_at": "2013-08-13T17:40:38Z",
    "author_association": "NONE",
    "body": "If it's expected, it's fine.\n\nBut honestly, from the perspective of the normal user, I don't see an \"assignment\" in the line `comb.where(comb < 2)` at all. The semantics of this line say that we just _read_ and not _write_. This makes it especially hard to see where the \"data type change\" should be. So the error message comes really surprising. When reading the docs, the user just sees that something like `s.where(s > 0)` should work _or_ provide an understandable error message.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/22565962",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4550#issuecomment-22565962",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4550",
    "id": 22565962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTY1OTYy",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-13T13:51:00Z",
    "updated_at": "2013-08-13T13:51:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "`where` is not strictly an indexing operation, it is shape preserving,which means `nan`s are possibly introduced meaning a dtype change (in this case) is required. It think the docs are pretty clear on this: http://pandas.pydata.org/pandas-docs/dev/indexing.html#where-and-masking.\n\nInteger not supporting `nan` is a general problem (stemming from numpy), see here: http://pandas.pydata.org/pandas-docs/dev/gotchas.html#nan-integer-na-values-and-na-type-promotions\n\nIt is important to understand dtype changes; your operations could do unexpected things.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/22565980",
    "html_url": "https://github.com/pandas-dev/pandas/issues/4550#issuecomment-22565980",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/4550",
    "id": 22565980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTY1OTgw",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-13T13:51:20Z",
    "updated_at": "2013-08-13T13:51:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "all that said, this is fixed in #3482 :)\n"
  }
]
