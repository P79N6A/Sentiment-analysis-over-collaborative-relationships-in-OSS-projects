[
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/161052137",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11736#issuecomment-161052137",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11736",
    "id": 161052137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTA1MjEzNw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T18:15:14Z",
    "updated_at": "2015-12-01T18:15:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "so there are actually quite a number of tests, but not in formatting; in fact this has nothing to do with formatting.\n\nIn 0.17.1, this 'works'\n\n```\nIn [2]: from dateutil.tz import tzoffset\n\nIn [3]: pd.DatetimeIndex([\"2015-05-27 19:05:17.178000-02:00\"],tz=tzoffset(None, -7200))\nOut[3]: DatetimeIndex(['2015-05-27 21:05:17.178000-02:00'], dtype='datetime64[ns, tzoffset(None, -7200)]', freq=None)\n```\n\nbut is actually 'wrong'\n\n```\nIn [4]: pd.DatetimeIndex([\"2015-05-27 19:05:17.178000-02:00\"]).tz_localize('UTC').tz_convert(tz)\nOut[4]: DatetimeIndex(['2015-05-27 19:05:17.178000-02:00'], dtype='datetime64[ns, tzoffset(None, -7200)]', freq=None)\n```\n\nis the correct result. However, this parsing of a tz-aware then 'setting' its value via the tz arg is very very odd.\n\nThis is why `pd.to_datetime` doesn't even have a tz argument, because its too error prone.\n\nE.g. what exactly do you mean by having a tz-aware date AND providing a tz? should it be localized, renamed, or converted?\n\nI think the `DatetimeIndex` constructor should raise on this actually, rather than let this slip thru.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/161062697",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11736#issuecomment-161062697",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11736",
    "id": 161062697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTA2MjY5Nw==",
    "user": {
      "login": "hcarvalhoalves",
      "id": 161577,
      "node_id": "MDQ6VXNlcjE2MTU3Nw==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/161577?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hcarvalhoalves",
      "html_url": "https://github.com/hcarvalhoalves",
      "followers_url": "https://api.github.com/users/hcarvalhoalves/followers",
      "following_url": "https://api.github.com/users/hcarvalhoalves/following{/other_user}",
      "gists_url": "https://api.github.com/users/hcarvalhoalves/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hcarvalhoalves/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hcarvalhoalves/subscriptions",
      "organizations_url": "https://api.github.com/users/hcarvalhoalves/orgs",
      "repos_url": "https://api.github.com/users/hcarvalhoalves/repos",
      "events_url": "https://api.github.com/users/hcarvalhoalves/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hcarvalhoalves/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T18:58:52Z",
    "updated_at": "2015-12-01T19:01:56Z",
    "author_association": "NONE",
    "body": "> E.g. what exactly do you mean by having a tz-aware date AND providing a tz? should it be localized, renamed, or converted?\n\nBasically, pre 0.17.x behavior was correct - it doesn't throw away the tz info neither tries to covert when fed a TZ-aware ISO string. So, if I had analogous function using standard datetime API, it would be equivalent to:\n\n```\nsome_parser('2015-05-27 19:05:17.178000-02:00') == datetime.datetime(2015, 5, 27, 19, 5, 17, 178, tzinfo=pytz.FixedOffset(-120)) # offset is in minutes\n```\n\nWhich is sensible behavior for such ISO datetime parser [1].\n\n0.17.0 behavior is to ignore the TZ and create a naive datetime series, which is bad because now we've lost tz information from the string. And I've now learned 0.17.1 behavior is even worse, since it's converting _and_ keeping the tz info. Either you convert and turn into naive (drop tz info) or you localize (add the tz info), but never a mix of both.\n\n> so there are actually quite a number of tests, but not in formatting; in fact this has nothing to do with formatting.\n\nI see. There are tests here (https://github.com/pydata/pandas/blob/master/pandas/tests/test_series.py#L112) but are not covering parsing an ISO datetime string either.\n\nThe parsing seems to be happening here (https://github.com/pydata/pandas/blob/master/pandas/tseries/tools.py#L279), I'll come up with some test cases.\n\n[1] https://tools.ietf.org/html/rfc3339#section-4.2\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/161066411",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11736#issuecomment-161066411",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11736",
    "id": 161066411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTA2NjQxMQ==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T19:14:03Z",
    "updated_at": "2015-12-01T19:14:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@hcarvalhoalves no, the pre 0.17.x behavior is wrong. It is VERY confusing. This is why the main entry point is `pd.to_datetime`.\n\nI don't know if passing a `tz` directly is really tested at all, look at `tseries/test_timeseries`, `tseries/test_timezones`, `tseries/test_base` and `tests/test_index` as locations for tests.\n\nSince I have never seen this I doubt there are tests (or I would have had to resolve this when I added this feature).\n\nYou are essentially 'naming' a tz. This is not a normal things to do. Either you have a string that has a tz in it with an offset, in which case you convert to UTC, THEN convert it, or you construct it in local time, then localize it.\n\nThere are NO other operations. \n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/161075037",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11736#issuecomment-161075037",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11736",
    "id": 161075037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTA3NTAzNw==",
    "user": {
      "login": "hcarvalhoalves",
      "id": 161577,
      "node_id": "MDQ6VXNlcjE2MTU3Nw==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/161577?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hcarvalhoalves",
      "html_url": "https://github.com/hcarvalhoalves",
      "followers_url": "https://api.github.com/users/hcarvalhoalves/followers",
      "following_url": "https://api.github.com/users/hcarvalhoalves/following{/other_user}",
      "gists_url": "https://api.github.com/users/hcarvalhoalves/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hcarvalhoalves/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hcarvalhoalves/subscriptions",
      "organizations_url": "https://api.github.com/users/hcarvalhoalves/orgs",
      "repos_url": "https://api.github.com/users/hcarvalhoalves/repos",
      "events_url": "https://api.github.com/users/hcarvalhoalves/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hcarvalhoalves/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T19:45:24Z",
    "updated_at": "2015-12-01T19:45:24Z",
    "author_association": "NONE",
    "body": "I see. You mean the expected usage is this?\n\n```\nIn [16]: pd.to_datetime(['2015-05-27 19:05:17.178000-02:00'], utc=True)\nOut[16]: DatetimeIndex(['2015-05-27 21:05:17.178000+00:00'], dtype='datetime64[ns, UTC]', freq=None)\n```\n\nIf this is really intended and not a regression I'll close this specific issue - and another issue could be opened to not have DatetimeIndex fail silently when there's an offset in the string.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/161095967",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11736#issuecomment-161095967",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11736",
    "id": 161095967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTA5NTk2Nw==",
    "user": {
      "login": "jreback",
      "id": 953992,
      "node_id": "MDQ6VXNlcjk1Mzk5Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/953992?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jreback",
      "html_url": "https://github.com/jreback",
      "followers_url": "https://api.github.com/users/jreback/followers",
      "following_url": "https://api.github.com/users/jreback/following{/other_user}",
      "gists_url": "https://api.github.com/users/jreback/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jreback/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jreback/subscriptions",
      "organizations_url": "https://api.github.com/users/jreback/orgs",
      "repos_url": "https://api.github.com/users/jreback/repos",
      "events_url": "https://api.github.com/users/jreback/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jreback/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-01T21:07:27Z",
    "updated_at": "2015-12-01T21:07:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "no I would leave this open. I think this path is not very well tested and needs exercising / clarification.\n\nMy point though is if you have text data, `pd.to_datetime` is the way (you can also set `parse_dates=True` when reading from a csv). But `DatetimeIndex` 'happens' to be able to parse strings and accept a tz which IMHO is just plain confusing.\n"
  },
  {
    "url": "https://api.github.com/repos/pandas-dev/pandas/issues/comments/403246587",
    "html_url": "https://github.com/pandas-dev/pandas/issues/11736#issuecomment-403246587",
    "issue_url": "https://api.github.com/repos/pandas-dev/pandas/issues/11736",
    "id": 403246587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI0NjU4Nw==",
    "user": {
      "login": "mroeschke",
      "id": 10647082,
      "node_id": "MDQ6VXNlcjEwNjQ3MDgy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10647082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mroeschke",
      "html_url": "https://github.com/mroeschke",
      "followers_url": "https://api.github.com/users/mroeschke/followers",
      "following_url": "https://api.github.com/users/mroeschke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mroeschke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mroeschke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mroeschke/subscriptions",
      "organizations_url": "https://api.github.com/users/mroeschke/orgs",
      "repos_url": "https://api.github.com/users/mroeschke/repos",
      "events_url": "https://api.github.com/users/mroeschke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mroeschke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-07T22:22:46Z",
    "updated_at": "2018-07-07T22:22:46Z",
    "author_association": "MEMBER",
    "body": "xref #17697, keeping this issue open since it demonstrates the behavior with using `DatetimeIndex` instead of explicitly `to_datetime`"
  }
]
