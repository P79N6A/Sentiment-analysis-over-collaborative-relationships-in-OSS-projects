[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450549545",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450549545",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450549545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU0OTU0NQ==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T09:45:14Z",
    "updated_at": "2018-12-30T09:46:53Z",
    "author_association": "MEMBER",
    "body": "Have you identified which part of the code causes this?"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450554811",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450554811",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450554811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU1NDgxMQ==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T11:35:59Z",
    "updated_at": "2018-12-30T11:35:59Z",
    "author_association": "MEMBER",
    "body": "I'd really like to fix this ASAP, but unless this is a trivial fix (i'm still hopeful it is) then IMO my comment in #15966 should apply here too."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450567269",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450567269",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450567269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU2NzI2OQ==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T15:17:47Z",
    "updated_at": "2018-12-30T15:17:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Have you identified which part of the code causes this?\r\n\r\nI haven't, though my guess/hope would be that we just need to update the States to treat a FrozenActor like an Actor for attack decisions."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450567489",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450567489",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450567489,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU2NzQ4OQ==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T15:21:56Z",
    "updated_at": "2018-12-30T15:22:40Z",
    "author_association": "MEMBER",
    "body": "I'd start by looking for places that use `World.FindActorsInCircle` and then create `Target`s from the results.  These cases should be updated to also query `FrozenActorLayer.FrozenActorsInCircle`.\r\n\r\nIf the AI code were sensible then this should be enough to completely solve the issue."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450637272",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450637272",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450637272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDYzNzI3Mg==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-31T11:52:02Z",
    "updated_at": "2018-12-31T11:52:02Z",
    "author_association": "MEMBER",
    "body": "https://github.com/pchote/OpenRA/commit/8f95fd91f14ae6284632e26a6546fe6a0eac45d1 is as far as I got before giving up.  Theres still a nontrivial amount of work before it will compile, let alone work.\r\n\r\nBumping to next + 1 because I can't see any way to complete this sooner."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450638225",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450638225",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450638225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDYzODIyNQ==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-31T12:02:45Z",
    "updated_at": "2018-12-31T12:02:45Z",
    "author_association": "MEMBER",
    "body": "I was hoping that something like this would work as a temporary bodge for the target-sticking issue:\r\n```diff\r\ndiff --git a/OpenRA.Mods.Common/Traits/BotModules/Squads/Squad.cs b/OpenRA.Mods.Common/Traits/BotModules/Squads/Squad.cs\r\nindex 773e38fa59..1be6c5c6bd 100644\r\n--- a/OpenRA.Mods.Common/Traits/BotModules/Squads/Squad.cs\r\n+++ b/OpenRA.Mods.Common/Traits/BotModules/Squads/Squad.cs\r\n@@ -11,6 +11,7 @@\r\n \r\n using System.Collections.Generic;\r\n using System.Linq;\r\n+using OpenRA.Mods.Common.Activities;\r\n using OpenRA.Support;\r\n using OpenRA.Traits;\r\n \r\n@@ -77,12 +78,12 @@ public Actor TargetActor\r\n \r\n                public bool IsTargetValid\r\n                {\r\n-                       get { return Target.IsValidFor(Units.FirstOrDefault()) && !Target.Actor.Info.HasTraitInfo<HuskInfo>(); }\r\n+                       get { return Target.IsValidFor(Units.FirstOrDefault()) && !Target.Actor.Info.HasTraitInfo<HuskInfo>() && Target.Recalculate(Bot.Player).Type == TargetType.Actor; }\r\n                }\r\n \r\n                public bool IsTargetVisible\r\n                {\r\n-                       get { return TargetActor.CanBeViewedByPlayer(Bot.Player); }\r\n+                       get { return TargetActor.CanBeViewedByPlayer(Bot.Player) && Target.Recalculate(Bot.Player).Type == TargetType.Actor; }\r\n                }\r\n \r\n                public WPos CenterPosition { get { return Units.Select(u => u.CenterPosition).Average(); } }\r\n```\r\n\r\n... but it doesn't seem to help. This suggests that the problem is caused by the target calculation code continuously selecting the same invalid actors that then get dropped and reselected over and over."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450639827",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450639827",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450639827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDYzOTgyNw==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-31T12:20:33Z",
    "updated_at": "2018-12-31T12:21:00Z",
    "author_association": "MEMBER",
    "body": "c895d5bd4dc49a4d010d73e75e772a4ec40ef7c5 makes the bot cancel attack orders against invalid targets.  I'm sure you won't be surprised to find that the bots depend on the current bug to function at all - with this commit the bot's units will stay in their base and never move to attack others.\r\n\r\nAs I feared, we're going to need to do a fairly fundamental rewrite to fix this properly."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450641272",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450641272",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450641272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDY0MTI3Mg==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-31T12:36:35Z",
    "updated_at": "2018-12-31T12:36:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could we, as temporary work-around for the upcoming playtests/release, instead make bots ignore Fog/Shroud? I'm aware that would be a behavior regression, but in my opinion still better than bot squads getting stuck all the time."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/450641463",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/15967#issuecomment-450641463",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/15967",
    "id": 450641463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDY0MTQ2Mw==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-31T12:38:55Z",
    "updated_at": "2018-12-31T12:38:55Z",
    "author_association": "MEMBER",
    "body": "Could work, maybe with an explicit bot check in `TargetExts.Recalculate`?"
  }
]
