[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/182576176",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-182576176",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 182576176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjU3NjE3Ng==",
    "user": {
      "login": "GraionDilach",
      "id": 1136302,
      "node_id": "MDQ6VXNlcjExMzYzMDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1136302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GraionDilach",
      "html_url": "https://github.com/GraionDilach",
      "followers_url": "https://api.github.com/users/GraionDilach/followers",
      "following_url": "https://api.github.com/users/GraionDilach/following{/other_user}",
      "gists_url": "https://api.github.com/users/GraionDilach/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GraionDilach/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GraionDilach/subscriptions",
      "organizations_url": "https://api.github.com/users/GraionDilach/orgs",
      "repos_url": "https://api.github.com/users/GraionDilach/repos",
      "events_url": "https://api.github.com/users/GraionDilach/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GraionDilach/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T20:45:26Z",
    "updated_at": "2016-02-10T20:45:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is actually interesting, because TS ice logic might also get affected by this - where if units stood too much time on the \"bridge\", the tiles simply broke.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/182577104",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-182577104",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 182577104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjU3NzEwNA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-10T20:47:55Z",
    "updated_at": "2016-02-10T20:47:55Z",
    "author_association": "MEMBER",
    "body": "For the purposes of pathfinding there's no difference between bridges and ice.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/183974851",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-183974851",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 183974851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Mzk3NDg1MQ==",
    "user": {
      "login": "Codes4Fun",
      "id": 14130759,
      "node_id": "MDQ6VXNlcjE0MTMwNzU5",
      "avatar_url": "https://avatars2.githubusercontent.com/u/14130759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Codes4Fun",
      "html_url": "https://github.com/Codes4Fun",
      "followers_url": "https://api.github.com/users/Codes4Fun/followers",
      "following_url": "https://api.github.com/users/Codes4Fun/following{/other_user}",
      "gists_url": "https://api.github.com/users/Codes4Fun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Codes4Fun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Codes4Fun/subscriptions",
      "organizations_url": "https://api.github.com/users/Codes4Fun/orgs",
      "repos_url": "https://api.github.com/users/Codes4Fun/repos",
      "events_url": "https://api.github.com/users/Codes4Fun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Codes4Fun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-14T20:52:41Z",
    "updated_at": "2016-02-14T20:52:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "For (1) I looked at perf.log after loading lots of maps in the 4 mods and found that in the worst case scenarios DomainIndex.WorldLoad was only 7% of load time somewhere between 20 ms and 170 ms. Making changes DomainIndex generation does not seem like it would save a lot of time and probably not worth the effort or complexity it would add.\n\nI did notice that for all mods except D2k, most of the time was spent in PrepareMap, and most of that time (more than 1 second) is not currently profiled. I would say the average seconds for TS is 1.8, RA 1.5, TD 1. The peak I saw was 2.7 seconds for the largest map in TS.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/183976774",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-183976774",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 183976774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Mzk3Njc3NA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-14T20:59:56Z",
    "updated_at": "2016-02-14T20:59:56Z",
    "author_association": "MEMBER",
    "body": "That unprofiled time in PrepareMap is reloading all of the mod files.  I have a project underway with the eventual goal of removing that completely. (#10717).\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/184353083",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-184353083",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 184353083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDM1MzA4Mw==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-15T19:24:19Z",
    "updated_at": "2016-02-15T19:26:18Z",
    "author_association": "MEMBER",
    "body": "I added `DomainIndex` support to https://github.com/OpenRA/OpenRA/pull/10760 this morning and it is a huge performance hog. Loading a TS map with many ice cells like Tread Lightly takes 15 seconds(!) on my i5 laptop. With debugger attached it is about 45 seconds. It is a bit stupid to do domain indices, then setup all ice tiles and update for each ice tile individually though. Regrowable ice may be a real challenge.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/184997045",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-184997045",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 184997045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDk5NzA0NQ==",
    "user": {
      "login": "Codes4Fun",
      "id": 14130759,
      "node_id": "MDQ6VXNlcjE0MTMwNzU5",
      "avatar_url": "https://avatars2.githubusercontent.com/u/14130759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Codes4Fun",
      "html_url": "https://github.com/Codes4Fun",
      "followers_url": "https://api.github.com/users/Codes4Fun/followers",
      "following_url": "https://api.github.com/users/Codes4Fun/following{/other_user}",
      "gists_url": "https://api.github.com/users/Codes4Fun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Codes4Fun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Codes4Fun/subscriptions",
      "organizations_url": "https://api.github.com/users/Codes4Fun/orgs",
      "repos_url": "https://api.github.com/users/Codes4Fun/repos",
      "events_url": "https://api.github.com/users/Codes4Fun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Codes4Fun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-17T03:22:44Z",
    "updated_at": "2016-02-17T03:22:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Out of curiosity is there something that prevents putting IceLayer before DomainIndex in world.yaml?\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/185088705",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-185088705",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 185088705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTA4ODcwNQ==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-17T08:11:00Z",
    "updated_at": "2016-02-17T08:11:00Z",
    "author_association": "MEMBER",
    "body": "Relying on trait ordering is usually something to avoid as it makes setting up the rules a bit harder, but it will probably be my intermediate solution. We could also invent a new interface `IBeforeWorldLoaded` for traits that change the map like bridges. https://github.com/OpenRA/OpenRA/pull/10764\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/185377790",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-185377790",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 185377790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTM3Nzc5MA==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-17T19:58:47Z",
    "updated_at": "2016-02-17T19:58:47Z",
    "author_association": "MEMBER",
    "body": "A simpler fix was to just exclude all decorational ice tiles and focus on the water tiles marked as clear, which should actually clearly separate land masses for https://github.com/OpenRA/OpenRA/pull/10760:\n\n``` diff\n@@ -109,14 +109,14 @@ public void WorldLoaded(World w, WorldRenderer wr)\n                    Strength[cell] = strength;\n\n                    if (strength < 4)\n-                   {\n                        w.Map.CustomTerrain[cell] = w.TileSet.GetTerrainIndex(info.ImpassableTerrainType);\n+\n+                   // Saves some resources by only updating domain indices for previous water tiles.\n+                   if (strength == 1)\n                        updatedCells.Add(cell);\n-                   }\n                }\n            }\n\n-           // TODO: This dramatically increases map load time.\n            var domainIndex = w.WorldActor.TraitOrDefault<DomainIndex>();\n            if (domainIndex != null)\n                domainIndex.UpdateCells(w, updatedCells);\n```\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/185485461",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-185485461",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 185485461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTQ4NTQ2MQ==",
    "user": {
      "login": "Codes4Fun",
      "id": 14130759,
      "node_id": "MDQ6VXNlcjE0MTMwNzU5",
      "avatar_url": "https://avatars2.githubusercontent.com/u/14130759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Codes4Fun",
      "html_url": "https://github.com/Codes4Fun",
      "followers_url": "https://api.github.com/users/Codes4Fun/followers",
      "following_url": "https://api.github.com/users/Codes4Fun/following{/other_user}",
      "gists_url": "https://api.github.com/users/Codes4Fun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Codes4Fun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Codes4Fun/subscriptions",
      "organizations_url": "https://api.github.com/users/Codes4Fun/orgs",
      "repos_url": "https://api.github.com/users/Codes4Fun/repos",
      "events_url": "https://api.github.com/users/Codes4Fun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Codes4Fun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-18T01:00:49Z",
    "updated_at": "2016-02-18T01:00:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "RenderIceState is pretty cool, BTW, I used it as a basis for creating one for the DomainIndex, it makes it a lot easier to see what was happening in [6684](https://github.com/OpenRA/OpenRA/issues/6684) and [7539](https://github.com/OpenRA/OpenRA/issues/7539).\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/185878857",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/10730#issuecomment-185878857",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/10730",
    "id": 185878857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTg3ODg1Nw==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-18T19:28:18Z",
    "updated_at": "2016-02-18T19:28:18Z",
    "author_association": "MEMBER",
    "body": "https://github.com/pchote/OpenRA/tree/cliffdomains also has a domain index debug overlay.\n"
  }
]
