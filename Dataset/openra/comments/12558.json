[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/271185781",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12558#issuecomment-271185781",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12558",
    "id": 271185781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTE4NTc4MQ==",
    "user": {
      "login": "Micr0Bit",
      "id": 9139965,
      "node_id": "MDQ6VXNlcjkxMzk5NjU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9139965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Micr0Bit",
      "html_url": "https://github.com/Micr0Bit",
      "followers_url": "https://api.github.com/users/Micr0Bit/followers",
      "following_url": "https://api.github.com/users/Micr0Bit/following{/other_user}",
      "gists_url": "https://api.github.com/users/Micr0Bit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Micr0Bit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Micr0Bit/subscriptions",
      "organizations_url": "https://api.github.com/users/Micr0Bit/orgs",
      "repos_url": "https://api.github.com/users/Micr0Bit/repos",
      "events_url": "https://api.github.com/users/Micr0Bit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Micr0Bit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-08T22:45:29Z",
    "updated_at": "2017-01-08T22:45:29Z",
    "author_association": "MEMBER",
    "body": "confirmed\r\n\r\n![bugster](https://cloud.githubusercontent.com/assets/9139965/21754216/532d9e44-d5fc-11e6-8ab7-6c27ed4bf240.png)\r\n\r\nwe had a similar bug in 2015 #9902\r\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/283417718",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12558#issuecomment-283417718",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12558",
    "id": 283417718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzQxNzcxOA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-01T17:57:31Z",
    "updated_at": "2017-03-01T17:58:22Z",
    "author_association": "MEMBER",
    "body": "This is a high priority for the next release, but I don't think it needs to block the first playtest.  This *should* end up being a simple 2 or 3 line fix, so can be cherry picked to the prep branch for the second playtest."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/284102670",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12558#issuecomment-284102670",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12558",
    "id": 284102670,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDEwMjY3MA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-03T23:50:56Z",
    "updated_at": "2017-03-03T23:50:56Z",
    "author_association": "MEMBER",
    "body": "The trick here is to queue up a move activity between the [CallFunc being queued](https://github.com/OpenRA/OpenRA/blob/bleed/OpenRA.Mods.Common/Traits/Transforms.cs#L122) and it actually executing.  We then have:\r\n\r\n1.  The deploy sanity check runs, finds that the location is valid, and queues the Transform activity *after the already queued move activities*.\r\n2.  The move activities run, and the unit drives to a location that is no longer valid.\r\n3.  The transform runs, deploying the MCV at a now bogus location.\r\n\r\nThe proper fix here is to rewrite this whole thing using @obrakmann's new parent/child activity plumbing, but for this next release we can go with the much safer workaround of cancelling the activity queue just before queueing the transform."
  }
]
