[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/238517998",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-238517998",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 238517998,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUxNzk5OA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T10:45:54Z",
    "updated_at": "2016-08-09T10:53:59Z",
    "author_association": "MEMBER",
    "body": "We have three options for enabling per-pixel voxel depth data in a future PR:\n1. Rewrite the voxel renderer to directly draw into the screen buffer.\n   - Pros: we keep the dynamic lighting calculations, is compatible with proper 3D models.\n   - Cons: breaks support for the gen1 mods that don't use the depth buffer, and requires a major rewrite of our rendering code that may not ever happen.\n2.  Store the depth data in the alpha channel.\n   - Pros: we keep the dynamic lighting calculations and compatibility with the gen1 mods, requires only simple changes to the voxel renderer.\n   - Cons: breaks any effects that rely on palette alpha (e.g. stealth), and shadows will need a special case hack.\n3.  Replace the dynamic normal calculations with the VPL lookup table used by the original game.\n   - Pros: keeps compatibility with palette effects and the gen1 mods, improves rendering performance and VRAM usage (because we can pack twice as many voxels to a framebuffer sheet).\n   - Cons: our voxel lighting will match the original game, which will make the TS modding community very unhappy.\n\nMy preference is strongly for option 3 in the shorter term, which is something I've been warning about for years now, with the goal of moving to option 1 in the much longer term.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/238521003",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-238521003",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 238521003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUyMTAwMw==",
    "user": {
      "login": "GraionDilach",
      "id": 1136302,
      "node_id": "MDQ6VXNlcjExMzYzMDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1136302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GraionDilach",
      "html_url": "https://github.com/GraionDilach",
      "followers_url": "https://api.github.com/users/GraionDilach/followers",
      "following_url": "https://api.github.com/users/GraionDilach/following{/other_user}",
      "gists_url": "https://api.github.com/users/GraionDilach/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GraionDilach/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GraionDilach/subscriptions",
      "organizations_url": "https://api.github.com/users/GraionDilach/orgs",
      "repos_url": "https://api.github.com/users/GraionDilach/repos",
      "events_url": "https://api.github.com/users/GraionDilach/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GraionDilach/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T11:01:48Z",
    "updated_at": "2016-08-09T11:01:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm fine with using a lookup table, if it's not the actual VPL, but a bunch of cloned palettes generated with the current light settings. The VPL was severely limited due to forcing all shades back to the palette, something the current renderer doesn't do. I'm even fine with manually creating the required 16/32 palettes to be used as normal tables.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/238522696",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-238522696",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 238522696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUyMjY5Ng==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T11:10:54Z",
    "updated_at": "2016-08-09T11:10:54Z",
    "author_association": "MEMBER",
    "body": "Letting the lookup table reference into other palettes takes us back into the \"major engine rewrite\" territory, so not likely to happen.  The vpl definitions will need to be per-palette, so nothing would stop you from using say 64 colours for the voxel and the other 192 for shaded versions.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/238524703",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-238524703",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 238524703,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUyNDcwMw==",
    "user": {
      "login": "GraionDilach",
      "id": 1136302,
      "node_id": "MDQ6VXNlcjExMzYzMDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1136302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GraionDilach",
      "html_url": "https://github.com/GraionDilach",
      "followers_url": "https://api.github.com/users/GraionDilach/followers",
      "following_url": "https://api.github.com/users/GraionDilach/following{/other_user}",
      "gists_url": "https://api.github.com/users/GraionDilach/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GraionDilach/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GraionDilach/subscriptions",
      "organizations_url": "https://api.github.com/users/GraionDilach/orgs",
      "repos_url": "https://api.github.com/users/GraionDilach/repos",
      "events_url": "https://api.github.com/users/GraionDilach/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GraionDilach/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T11:21:48Z",
    "updated_at": "2016-08-09T11:21:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Remap already clones palettes. I don't understand why voxels can't follow such a system, instead of the remap getting changed, the whole palette gets darkened/lightened. That would still work like the VPL but look dozens better than VPL ever will.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/238527191",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-238527191",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 238527191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUyNzE5MQ==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-09T11:35:38Z",
    "updated_at": "2016-08-09T12:55:12Z",
    "author_association": "MEMBER",
    "body": "The palette for a sprite is specified for the _whole_ sprite in the vertex data.  Specifying a per-pixel palette is identical (from the code's perspective) to having a 16-bit indexed color (8 bits to select the palette, then 8 bits to select the index within that palette).\n\nThe renderer works by writing all the data to 32 bit textures, so sprites must choose between 8, 16, or 32 bits per pixel.  The color and depth channels take up 16 bits, adding a palette select channel bumps it to 24 which then doesn't pack cleanly.  It would have to waste the last 8 bits and kill the VRAM benefit... and thats without addressing the complexity of creating and defining the palettes for the up-to-256 normal facings (which will then easily blow our palette count limits).  It will also kill the perf benefit of not having to switch shaders when changing between voxel and sprite actors.\n\nEdit: After some thought there is another option:\n\n<ol start=\"4\"><li>Render out color-index, normal, depth in our current first pass, then replace the second pass (currently just a normal RBGA texture draw) with another custom shader that does the lighting.  This is basically a watered down version of (1) that trades complexity for perf.\n<ul><li>Pros: Identical visuals to what we have right now, but with depth.</li>\n<li>Cons: Even worse perf than the current voxel rendering (sorry @GraionDilach's computer)</li>\n</ul></li></ol>\n\nAnyway, this is all an aside to the main purpose of this specific PR.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/241182514",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-241182514",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 241182514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTE4MjUxNA==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-20T06:20:40Z",
    "updated_at": "2016-08-20T06:20:40Z",
    "author_association": "MEMBER",
    "body": "Works as promised. :white_check_mark: \n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/241250690",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-241250690",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 241250690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTI1MDY5MA==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-21T10:48:33Z",
    "updated_at": "2016-08-21T10:48:33Z",
    "author_association": "CONTRIBUTOR",
    "body": ":+1: \nTest commit can be removed.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/241252849",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-241252849",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 241252849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTI1Mjg0OQ==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-21T11:43:35Z",
    "updated_at": "2016-08-21T11:43:35Z",
    "author_association": "MEMBER",
    "body": "Rebased and removed test commit.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/241253757",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/11791#issuecomment-241253757",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11791",
    "id": 241253757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTI1Mzc1Nw==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-21T12:05:00Z",
    "updated_at": "2016-08-21T12:05:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "[changelog](https://github.com/OpenRA/OpenRA/wiki/Changelog-%28bleed%29/_compare/a6bb03e3806d3c7b56c1fbbd1e480c2f52b713ad...9b693e9933c3b6742ebca9b69ed573ebbfb2226a)\n"
  }
]
