[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/133870003",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-133870003",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 133870003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzg3MDAwMw==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-23T16:05:28Z",
    "updated_at": "2015-08-23T16:05:28Z",
    "author_association": "MEMBER",
    "body": "I added https://github.com/OpenRA/OpenRA/pull/3741 for desync hunting which from what I learned recently is very expensive. Try removing some `ISync` interfaces and test again to narrow it down.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/133870800",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-133870800",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 133870800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzg3MDgwMA==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-23T16:08:37Z",
    "updated_at": "2015-08-23T16:08:37Z",
    "author_association": "MEMBER",
    "body": "https://github.com/OpenRA/OpenRA/blob/bleed/OpenRA.Game/World.cs#L333 or somehow manage to skip decorational effects.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/133929685",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-133929685",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 133929685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzkyOTY4NQ==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-23T20:43:10Z",
    "updated_at": "2015-08-23T20:43:10Z",
    "author_association": "MEMBER",
    "body": "If the perf numbers are from perf.log, they won't include sync time so it's probably not that.\n\nThe recorded time is from Bullet.Tick or Missile.Tick, so we need to look there.\n\nI can't recreate any super-slow Bullet or Missile times on my system on bleed, so I can't suggest much. I've noticed `Explode` can sometimes be a little slow but not drastically so.\n\nMaybe try sticking some perf timers inside various bits of the tick methods and see if you can narrow it down?\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/134154548",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-134154548",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 134154548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDE1NDU0OA==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-24T11:08:27Z",
    "updated_at": "2015-08-24T11:08:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Maybe try sticking some perf timers inside various bits of the tick methods and see if you can narrow it down?\n\nOk, after some more testing and setting PerfTimers, I can say with certainty that\n- the main problem is indeed power-throttling of my notebook\n- the projectile effect is not the problem, not even the 'shouldExplode' checks, but rather the actual impact.\n\nSo it appears the projectiles perform just fine (better than I expected), but all the stuff happening at impact (DamageWarhead, EffectWarhead etc.) seems to add up (probably when many projectiles explode at the same tick).\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/150853359",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-150853359",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 150853359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDg1MzM1OQ==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-24T21:39:56Z",
    "updated_at": "2015-10-24T22:11:00Z",
    "author_association": "MEMBER",
    "body": "Yeah the actual explosion is quite expensive.\n\nOn the RA shellmap, `Bullet.Tick` uses 0.9% of total CPU time - but almost all of that is calling `Explode` which means a fairly hefty lag spike can be possible.\n\nOnce you dig through the callstack, 0.6% is being spent in `Health.InflictDamage`. Inside there, 0.4% is calling `ScriptTriggers.Damaged` and `ScriptTriggers.Killed`.\n\nOn the C# side there are no major bottlenecks - we'd have to find several small savings to get a meaningful speedup. If the shellmap script can be optimized at all that may help too.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/423187624",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-423187624",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 423187624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzE4NzYyNA==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-20T13:42:12Z",
    "updated_at": "2018-09-20T13:42:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm resurrecting this since impacts that cause one or more actors to die are still rather expensive (I've seen up to 27ms cost on my R5 1600 in a single tick just from Tanya's Colt45 killing some infantry).\r\nNeedless to say how that will look on a significantly lower-clocked mobile CPU, let alone a Pi.\r\n\r\nLike @RoosterDragon said there probably isn't one single thing that can miraculously fix that, but going through the traits that implement `INotifyKilled` to check whether there is anything that could be optimized further wouldn't hurt, I guess."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/423212652",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-423212652",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 423212652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzIxMjY1Mg==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-20T14:50:36Z",
    "updated_at": "2018-09-20T14:50:36Z",
    "author_association": "MEMBER",
    "body": "Do the perf issues come from the actors dying, being removed from the world, or disposed?  My gut feeling is that the problems are in one or both of the last two."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/423220299",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/9142#issuecomment-423220299",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9142",
    "id": 423220299,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzIyMDI5OQ==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-20T15:10:56Z",
    "updated_at": "2018-09-20T15:10:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "As far as I can tell, ~80-90% of the cost comes from notifying the traits that implement INotifyKilled (and then perform whatever they do as part of that). The cost of calling Actor.Dispose() (which should include removal) looks negligible in comparison."
  }
]
