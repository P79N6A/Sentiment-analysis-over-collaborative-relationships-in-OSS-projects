[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/268611022",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-268611022",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 268611022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODYxMTAyMg==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T19:02:36Z",
    "updated_at": "2016-12-21T19:02:36Z",
    "author_association": "MEMBER",
    "body": "Things that might help:\r\n\r\n- #12125 - Would buy us extra virtual memory on Windows.\r\n- #12131 - Would help minimize the size of the managed heap (if the LOH is indeed significantly fragmented)."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/268623658",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-268623658",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 268623658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODYyMzY1OA==",
    "user": {
      "login": "GraionDilach",
      "id": 1136302,
      "node_id": "MDQ6VXNlcjExMzYzMDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1136302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GraionDilach",
      "html_url": "https://github.com/GraionDilach",
      "followers_url": "https://api.github.com/users/GraionDilach/followers",
      "following_url": "https://api.github.com/users/GraionDilach/following{/other_user}",
      "gists_url": "https://api.github.com/users/GraionDilach/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GraionDilach/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GraionDilach/subscriptions",
      "organizations_url": "https://api.github.com/users/GraionDilach/orgs",
      "repos_url": "https://api.github.com/users/GraionDilach/repos",
      "events_url": "https://api.github.com/users/GraionDilach/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GraionDilach/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-21T19:57:43Z",
    "updated_at": "2016-12-21T19:57:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "I frequently run into this issue with AS on Windows during a map loading, but LARGEADDRESSAWARE seems to be fixing it for now. I agree with the suspicions though since I acknowledge I already grown over RA2 in terms of texture space I think.\r\n\r\n```\r\nAttacque Superior Mod at Version {DEV_VERSION}\r\non map efca0162327e23b4d6ade493f69b6b91f3dbae91 (Blank Testmap Mk IV by Graion Dilach).\r\nDate: 2016-12-04 23:31:08Z\r\nOperating System: Windows (Microsoft Windows NT 6.2.9200.0)\r\nRuntime Version: .NET CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: OpenGL Error: See graphics.log for details.\r\nGC Memory (post-collect)=283 853 792\r\nGC Memory (pre-collect)=448 836 564\r\nWorking Set=1 062 514 688\r\nPrivate Memory=1 181 339 648\r\nVirtual Memory=1 618 849 792\r\n   at OpenRA.Platforms.Default.OpenGL.CheckGLError() in d:\\OpenRA-AS-dev\\OpenRA.Platforms.Default\\OpenGL.cs:line 498\r\n   at OpenRA.Platforms.Default.Texture.SetData(Byte[] colors, Int32 width, Int32 height) in d:\\OpenRA-AS-dev\\OpenRA.Platforms.Default\\Texture.cs:line 98\r\n   at OpenRA.Graphics.Sheet.GetTexture() in d:\\OpenRA-AS-dev\\OpenRA.Game\\Graphics\\Sheet.cs:line 75\r\n   at OpenRA.Graphics.SpriteRenderer.Flush() in d:\\OpenRA-AS-dev\\OpenRA.Game\\Graphics\\SpriteRenderer.cs:line 40\r\n   at OpenRA.Renderer.set_CurrentBatchRenderer(IBatchRenderer value) in d:\\OpenRA-AS-dev\\OpenRA.Game\\Renderer.cs:line 195\r\n   at OpenRA.Renderer.Flush() in d:\\OpenRA-AS-dev\\OpenRA.Game\\Renderer.cs:line 176\r\n   at OpenRA.Graphics.WorldRenderer.Draw() in d:\\OpenRA-AS-dev\\OpenRA.Game\\Graphics\\WorldRenderer.cs:line 209\r\n   at OpenRA.Game.RenderTick() in d:\\OpenRA-AS-dev\\OpenRA.Game\\Game.cs:line 604\r\n   at OpenRA.Game.Loop() in d:\\OpenRA-AS-dev\\OpenRA.Game\\Game.cs:line 735\r\n   at OpenRA.Game.Run() in d:\\OpenRA-AS-dev\\OpenRA.Game\\Game.cs:line 753\r\n   at OpenRA.Program.Run(String[] args) in d:\\OpenRA-AS-dev\\OpenRA.Game\\Support\\Program.cs:line 134\r\n   at OpenRA.Program.Main(String[] args) in d:\\OpenRA-AS-dev\\OpenRA.Game\\Support\\Program.cs:line 41\r\n```"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/305961852",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-305961852",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 305961852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk2MTg1Mg==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-03T08:52:45Z",
    "updated_at": "2017-06-03T08:52:45Z",
    "author_association": "MEMBER",
    "body": "From #13415\r\n```\r\nRed Alert Mod at Version release-20170421\r\non map aae0ea0b52e1b2050f1ebe608c70813f5c608063 (Desert Shellmap by Scott_NZ).\r\nDate: 2017-05-31 06:58:18Z\r\nOperating System: OSX (Unix 16.5.0.0)\r\nRuntime Version: Mono 4.8.0 (mono-4.8.0-branch/9d74414) CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: Out of memory\r\nGC Memory (post-collect)=1,265,223,056\r\nGC Memory (pre-collect)=1,973,597,976\r\nWorking Set=2,115,325,952\r\nPrivate Memory=2,115,330,048\r\nVirtual Memory=3,380,146,176\r\n```\r\n\r\nand\r\n\r\n```\r\nRed Alert Mod at Version release-20170527\r\non map ab1e2a5cc55feaf6d2734b39d58d4751ca728872 (God's Great Divide Fixed - Non-Faction by Vigor, God, Stex, AMHOLE).\r\nDate: 2017-06-01 06:54:11Z\r\nOperating System: OSX (Unix 16.5.0.0)\r\nRuntime Version: Mono 4.8.0 (mono-4.8.0-branch/9d74414) CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: Out of memory\r\nGC Memory (post-collect)=499,380,584\r\nGC Memory (pre-collect)=962,014,120\r\nWorking Set=921,563,136\r\nPrivate Memory=921,563,136\r\nVirtual Memory=2,156,314,624\r\n```\r\n\r\nFrom #13435\r\n```\r\nRed Alert Mod at Version release-20170527\r\non map 1c6bd120f5b724c5e14103a702caf648e427d33b (Countercross by Comrade Tiki).\r\nDate: 2017-06-03 07:07:25Z\r\nOperating System: OSX (Unix 16.6.0.0)\r\nRuntime Version: Mono 5.0.1.1 (2017-02/5077205) CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: Out of memory\r\nGC Memory (post-collect)=351,365,872\r\nGC Memory (pre-collect)=757,225,520\r\nWorking Set=615,952,384\r\nPrivate Memory=615,956,480\r\nVirtual Memory=1,860,829,184\r\n```"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/305962821",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-305962821",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 305962821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk2MjgyMQ==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-03T09:11:40Z",
    "updated_at": "2017-06-03T09:11:40Z",
    "author_association": "MEMBER",
    "body": "The high virtual memory in the latter two reports would seem to suggest texture memory as again the likely cause.\r\n\r\nThe first report with the 2G in managed memory is weirder - I don't believe the shellmap itself leaks memory - perhaps a specific part of the menu has to be open to allocate/leak that much memory?\r\n\r\nAnother thing that might help:\r\n- [GC.TryStartNoGCRegion](https://msdn.microsoft.com/en-us/library/dn906201(v=vs.110).aspx) - (Available since .NET 4.6) This would help avoid collections occurring during a tick which would help prevent temporary objects being promoted to higher generations. It would also induce the GC to run a full collection when memory is low which might then free enough memory to keep running for a while rather than dying mid-tick somewhere.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/305963720",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-305963720",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 305963720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk2MzcyMA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-03T09:28:53Z",
    "updated_at": "2017-06-03T09:29:43Z",
    "author_association": "MEMBER",
    "body": "> The high virtual memory in the latter two reports would seem to suggest texture memory as again the likely cause.\r\n\r\nCould it be also be music?  We've seen a lot of reports over the last year about music tracks behaving weirdly, and they are typically tens of MB each when uncompressed.  If we're leaking sound data in general it could reasonably add up to a few hundred MB over a few games.\r\n\r\nIt would be really useful if these exception logs could also record the amount of time that OpenRA has been running."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/305966518",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-305966518",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 305966518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk2NjUxOA==",
    "user": {
      "login": "rob-v",
      "id": 16348750,
      "node_id": "MDQ6VXNlcjE2MzQ4NzUw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/16348750?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rob-v",
      "html_url": "https://github.com/rob-v",
      "followers_url": "https://api.github.com/users/rob-v/followers",
      "following_url": "https://api.github.com/users/rob-v/following{/other_user}",
      "gists_url": "https://api.github.com/users/rob-v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rob-v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rob-v/subscriptions",
      "organizations_url": "https://api.github.com/users/rob-v/orgs",
      "repos_url": "https://api.github.com/users/rob-v/repos",
      "events_url": "https://api.github.com/users/rob-v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rob-v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-03T10:29:47Z",
    "updated_at": "2017-06-03T10:29:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "You're right, music is surely reason for memory leaks, on first look it could be sounds = new Cache<string, ISoundSource>(s => LoadSound(loaders, fileSystem, s)); in Sound. (not time to check it now in more detail)\r\n\r\nStart game, in Music menu skip to next track, more memory used. When you skip/load all tracks, lot of memory used. Now restart your match, memory not released. Do it again - load tracks. Soon (after few restarts) it will crash due to Out of memory."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/306034336",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-306034336",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 306034336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjAzNDMzNg==",
    "user": {
      "login": "rob-v",
      "id": 16348750,
      "node_id": "MDQ6VXNlcjE2MzQ4NzUw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/16348750?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rob-v",
      "html_url": "https://github.com/rob-v",
      "followers_url": "https://api.github.com/users/rob-v/followers",
      "following_url": "https://api.github.com/users/rob-v/following{/other_user}",
      "gists_url": "https://api.github.com/users/rob-v/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rob-v/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rob-v/subscriptions",
      "organizations_url": "https://api.github.com/users/rob-v/orgs",
      "repos_url": "https://api.github.com/users/rob-v/repos",
      "events_url": "https://api.github.com/users/rob-v/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rob-v/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-04T11:27:18Z",
    "updated_at": "2017-06-04T11:27:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "In addition to solving this memory leak, I propose to exclude music tracks from cache.\r\nMemory Commit KB:\r\nat beginning of match: 306k\r\nafter 37 RA tracks (avg 4,5 min): 767k (no gameplay)\r\nWhen tracks played in order, a cached track will played again in 166 minutes while in the meantime it consumes hundreds of MB."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/306035941",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-306035941",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 306035941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjAzNTk0MQ==",
    "user": {
      "login": "reaperrr",
      "id": 2857877,
      "node_id": "MDQ6VXNlcjI4NTc4Nzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2857877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reaperrr",
      "html_url": "https://github.com/reaperrr",
      "followers_url": "https://api.github.com/users/reaperrr/followers",
      "following_url": "https://api.github.com/users/reaperrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/reaperrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reaperrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reaperrr/subscriptions",
      "organizations_url": "https://api.github.com/users/reaperrr/orgs",
      "repos_url": "https://api.github.com/users/reaperrr/repos",
      "events_url": "https://api.github.com/users/reaperrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reaperrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-04T12:02:53Z",
    "updated_at": "2017-06-04T12:02:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Might be worth a try. I assume that most games are short enough that most tracks won't play twice, so the main advantage of caching - avoiding the noticable jank of decoding the file - will only come into effect late in the game, if at all, and we should implement either streaming or decoding on a separate thread at some point in the future to get rid of that jank entirely anyway.\r\n\r\nFor 3rd-party mods this would be a net-win, because they could now use even 44khz/stereo without worrying about running into OOM due to that."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/306036217",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-306036217",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 306036217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjAzNjIxNw==",
    "user": {
      "login": "GraionDilach",
      "id": 1136302,
      "node_id": "MDQ6VXNlcjExMzYzMDI=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1136302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GraionDilach",
      "html_url": "https://github.com/GraionDilach",
      "followers_url": "https://api.github.com/users/GraionDilach/followers",
      "following_url": "https://api.github.com/users/GraionDilach/following{/other_user}",
      "gists_url": "https://api.github.com/users/GraionDilach/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GraionDilach/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GraionDilach/subscriptions",
      "organizations_url": "https://api.github.com/users/GraionDilach/orgs",
      "repos_url": "https://api.github.com/users/GraionDilach/repos",
      "events_url": "https://api.github.com/users/GraionDilach/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GraionDilach/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-04T12:09:26Z",
    "updated_at": "2017-06-04T12:09:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Currently AS OST is 450 MB so I can very well imagine this being a problem. There's no point in getting 44kHz stereo songs in WAV though atm due to the sheer HDD requirements. I really need to dwelve into Opus inclusion these days, it might be possible that gets decoded faster simply because the lower filesize."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/307189130",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-307189130",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 307189130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzE4OTEzMA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-08T18:31:55Z",
    "updated_at": "2017-06-08T18:31:55Z",
    "author_association": "MEMBER",
    "body": "I may be missing something, but it looks like we aren't disposing sequence providers created when maps define their own sequences.  This may explain why/if we may be still leaking textures.  @RoosterDragon can you confirm?"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/307438924",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-307438924",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 307438924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzQzODkyNA==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-09T16:40:12Z",
    "updated_at": "2017-06-09T16:40:12Z",
    "author_association": "MEMBER",
    "body": "I solved this for the voxel/model code in #13485 by having `World` own and dispose the artwork.  We could do something similar for sequences."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/307838993",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-307838993",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 307838993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzgzODk5Mw==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-12T16:15:09Z",
    "updated_at": "2017-06-12T16:15:09Z",
    "author_association": "MEMBER",
    "body": "You appear to be correct. In fact, I'm having trouble locating where we dispose of any `SequenceProvider`s. Even the `DefaultSequences` in `ModData` appear to be untouched? That could imply leaked memory until the finalizer got around to freeing the textures."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/336730044",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-336730044",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 336730044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjczMDA0NA==",
    "user": {
      "login": "theKalash",
      "id": 19913563,
      "node_id": "MDQ6VXNlcjE5OTEzNTYz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/19913563?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theKalash",
      "html_url": "https://github.com/theKalash",
      "followers_url": "https://api.github.com/users/theKalash/followers",
      "following_url": "https://api.github.com/users/theKalash/following{/other_user}",
      "gists_url": "https://api.github.com/users/theKalash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theKalash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theKalash/subscriptions",
      "organizations_url": "https://api.github.com/users/theKalash/orgs",
      "repos_url": "https://api.github.com/users/theKalash/repos",
      "events_url": "https://api.github.com/users/theKalash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theKalash/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-15T18:12:15Z",
    "updated_at": "2017-10-15T18:12:15Z",
    "author_association": "NONE",
    "body": "Just got the crash right after the game finished and the Shell Map loaded: \r\n\r\n[exception-2017-10-15T180746Z.log](https://github.com/OpenRA/OpenRA/files/1385667/exception-2017-10-15T180746Z.log)\r\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/337710618",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-337710618",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 337710618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzcxMDYxOA==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T20:00:36Z",
    "updated_at": "2017-10-18T20:00:36Z",
    "author_association": "MEMBER",
    "body": "From comment above\r\n```\r\nOpenRA engine version release-20171014\r\nRed Alert mod version release-20171014\r\non map e5abf7ceab7a5194072437c8fa617872f07f4474 (Desert Shellmap by Scott_NZ).\r\nDate: 2017-10-15 18:07:46Z\r\nOperating System: OSX (Unix 15.6.0.0)\r\nRuntime Version: Mono 5.2.0.215 (d15-3/da80840) CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: Out of memory\r\nGC Memory (post-collect)=196,782,976\r\nGC Memory (pre-collect)=239,892,864\r\nWorking Set=556,773,376\r\nPrivate Memory=556,773,376\r\nVirtual Memory=1,564,315,648\r\n```\r\n\r\nFrom #14178\r\n\r\n```\r\nOpenRA engine version release-20171014\r\nRed Alert mod version release-20171014\r\non map 33aba80bb13138b1f3b26a4ba825daa340e535af (Spinning Earth by American Blunt / Trump).\r\nDate: 2017-10-14 17:34:29Z\r\nOperating System: OSX (Unix 16.7.0.0)\r\nRuntime Version: Mono 5.2.0.224 (d15-3/14f2c81) CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: Out of memory\r\nGC Memory (post-collect)=677,707,984\r\nGC Memory (pre-collect)=948,941,824\r\nWorking Set=1,396,244,480\r\nPrivate Memory=1,396,244,480\r\nVirtual Memory=2,481,725,440\r\n```\r\n\r\n```\r\nOpenRA engine version release-20171014\r\nRed Alert mod version release-20171014\r\non map 99ef9de45324e94c9b4cdf7eb237777de728e689 (Advanced Naval Wars II [Rev. 7.0] by Aneyrin).\r\nDate: 2017-10-14 17:02:28Z\r\nOperating System: OSX (Unix 16.7.0.0)\r\nRuntime Version: Mono 5.2.0.224 (d15-3/14f2c81) CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: Out of memory\r\nGC Memory (post-collect)=521,322,000\r\nGC Memory (pre-collect)=824,600,472\r\nWorking Set=1,187,274,752\r\nPrivate Memory=1,187,278,848\r\nVirtual Memory=2,146,385,920\r\n```\r\n\r\n```\r\nOpenRA engine version release-20171014\r\nRed Alert mod version release-20171014\r\nDate: 2017-10-14 19:13:05Z\r\nOperating System: OSX (Unix 16.7.0.0)\r\nRuntime Version: Mono 5.2.0.224 (d15-3/14f2c81) CLR 4.0.30319.42000\r\nException of type `System.OutOfMemoryException`: Out of memory\r\nGC Memory (post-collect)=338,249,128\r\nGC Memory (pre-collect)=432,633,696\r\nWorking Set=891,158,528\r\nPrivate Memory=891,158,528\r\nVirtual Memory=1,850,171,392\r\n```"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/337716065",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-337716065",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 337716065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzcxNjA2NQ==",
    "user": {
      "login": "theKalash",
      "id": 19913563,
      "node_id": "MDQ6VXNlcjE5OTEzNTYz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/19913563?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theKalash",
      "html_url": "https://github.com/theKalash",
      "followers_url": "https://api.github.com/users/theKalash/followers",
      "following_url": "https://api.github.com/users/theKalash/following{/other_user}",
      "gists_url": "https://api.github.com/users/theKalash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theKalash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theKalash/subscriptions",
      "organizations_url": "https://api.github.com/users/theKalash/orgs",
      "repos_url": "https://api.github.com/users/theKalash/repos",
      "events_url": "https://api.github.com/users/theKalash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theKalash/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T20:21:42Z",
    "updated_at": "2017-10-18T20:21:42Z",
    "author_association": "NONE",
    "body": "I can reproduce the crash quite reliably. If I play the large Europe map against a couple of modified AI (build MCs and tons of structures) and just defend against the waves while letting the AI build, it crashes about 30-40 minutes into the game. \r\n\r\nDoing the same thing on smaller maps allows for games to up to an hour before it crashes.  "
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/352885811",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-352885811",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 352885811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mjg4NTgxMQ==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T21:04:26Z",
    "updated_at": "2017-12-19T21:04:26Z",
    "author_association": "MEMBER",
    "body": "For anybody following this issue, just wanted to give you a quick update, the changes in the pull requests you can see above should go a decent way to reducing the amount this issue occurs (and thanks to the OpenRA maintainers for dealing with all of them!)\r\n\r\nOn [a replay](https://github.com/OpenRA/OpenRA/issues/14178#issuecomment-338808289) involving a very large map, these PRs save at least 400Mb of memory, which should buy quite a bit of breathing room. OSX users should also benefit from #14378 greatly.\r\n\r\nIf you see crashes in the new version when it arrives I would be super interested in any replays you can share that caused it.\r\n\r\n----\r\n\r\n![image](https://user-images.githubusercontent.com/3399086/34178471-3b5d3fa0-e4ff-11e7-9556-db5a2cb59266.png)\r\nRunning the game and loading the noted replay in release-20171014. It dies from out of memory loading on my system when it reaches the 1800Mb virtual memory threshold.\r\n\r\n![image](https://user-images.githubusercontent.com/3399086/34178525-7142f984-e4ff-11e7-8099-12b999b01446.png)\r\nLoading the same replay in release-20171014 with the memory fix PRs applied. It actually loads and the replay runs! It peaks just below 1400Mb of virtual memory."
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/352886973",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-352886973",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 352886973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mjg4Njk3Mw==",
    "user": {
      "login": "theKalash",
      "id": 19913563,
      "node_id": "MDQ6VXNlcjE5OTEzNTYz",
      "avatar_url": "https://avatars2.githubusercontent.com/u/19913563?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theKalash",
      "html_url": "https://github.com/theKalash",
      "followers_url": "https://api.github.com/users/theKalash/followers",
      "following_url": "https://api.github.com/users/theKalash/following{/other_user}",
      "gists_url": "https://api.github.com/users/theKalash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theKalash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theKalash/subscriptions",
      "organizations_url": "https://api.github.com/users/theKalash/orgs",
      "repos_url": "https://api.github.com/users/theKalash/repos",
      "events_url": "https://api.github.com/users/theKalash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theKalash/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T21:09:19Z",
    "updated_at": "2017-12-19T21:09:19Z",
    "author_association": "NONE",
    "body": "Since I switched to the 64bit OSX version provided by @pchote I couldn't reproduce the crash at all. "
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/358969195",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/12494#issuecomment-358969195",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/12494",
    "id": 358969195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODk2OTE5NQ==",
    "user": {
      "login": "LipkeGu",
      "id": 2057932,
      "node_id": "MDQ6VXNlcjIwNTc5MzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2057932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LipkeGu",
      "html_url": "https://github.com/LipkeGu",
      "followers_url": "https://api.github.com/users/LipkeGu/followers",
      "following_url": "https://api.github.com/users/LipkeGu/following{/other_user}",
      "gists_url": "https://api.github.com/users/LipkeGu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LipkeGu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LipkeGu/subscriptions",
      "organizations_url": "https://api.github.com/users/LipkeGu/orgs",
      "repos_url": "https://api.github.com/users/LipkeGu/repos",
      "events_url": "https://api.github.com/users/LipkeGu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LipkeGu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-19T13:42:37Z",
    "updated_at": "2018-01-19T13:42:37Z",
    "author_association": "MEMBER",
    "body": "> It would be really useful if these exception logs could also record the amount of time that OpenRA has > been running.\r\n\r\ni suggested this in: #11191"
  }
]
