[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/214863661",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/11193#issuecomment-214863661",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11193",
    "id": 214863661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDg2MzY2MQ==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-26T19:44:28Z",
    "updated_at": "2016-04-26T19:44:28Z",
    "author_association": "MEMBER",
    "body": "This happens because `OpenAlSoundEngine`'s Dispose uses `Game.RunAfterTick` to do the actual disposing, but that never runs because the game has already finished ticking by that point.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/214864506",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/11193#issuecomment-214864506",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11193",
    "id": 214864506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDg2NDUwNg==",
    "user": {
      "login": "pchote",
      "id": 167819,
      "node_id": "MDQ6VXNlcjE2NzgxOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/167819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pchote",
      "html_url": "https://github.com/pchote",
      "followers_url": "https://api.github.com/users/pchote/followers",
      "following_url": "https://api.github.com/users/pchote/following{/other_user}",
      "gists_url": "https://api.github.com/users/pchote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pchote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pchote/subscriptions",
      "organizations_url": "https://api.github.com/users/pchote/orgs",
      "repos_url": "https://api.github.com/users/pchote/repos",
      "events_url": "https://api.github.com/users/pchote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pchote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-26T19:47:44Z",
    "updated_at": "2016-04-26T19:52:58Z",
    "author_association": "MEMBER",
    "body": "I assume @RoosterDragon had a good reason for introducing the RunAfterTick in #10346, but that pr doesn't explain why.  I suspect it was either to marshal the disposal back to the main thread in some situation, or to make sure that any code that runs later in the tick can't use the disposed sound engine.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/214984081",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/11193#issuecomment-214984081",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11193",
    "id": 214984081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDk4NDA4MQ==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-27T06:35:21Z",
    "updated_at": "2016-04-27T06:35:21Z",
    "author_association": "MEMBER",
    "body": "Just for marshaling, I imagine I was assuming it was a thread-affine item. If not, the easy fix is just to dispose it directly.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/215592437",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/11193#issuecomment-215592437",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11193",
    "id": 215592437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTU5MjQzNw==",
    "user": {
      "login": "chrisforbes",
      "id": 128877,
      "node_id": "MDQ6VXNlcjEyODg3Nw==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/128877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisforbes",
      "html_url": "https://github.com/chrisforbes",
      "followers_url": "https://api.github.com/users/chrisforbes/followers",
      "following_url": "https://api.github.com/users/chrisforbes/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisforbes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisforbes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisforbes/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisforbes/orgs",
      "repos_url": "https://api.github.com/users/chrisforbes/repos",
      "events_url": "https://api.github.com/users/chrisforbes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisforbes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-28T23:31:17Z",
    "updated_at": "2016-04-28T23:31:17Z",
    "author_association": "MEMBER",
    "body": "It would be worth ensuring that those queues are fully drained before\nexiting.\n\nOn Wed, Apr 27, 2016 at 6:35 PM, RoosterDragon notifications@github.com\nwrote:\n\n> Just for marshaling, I imagine I was assuming it was a thread-affine item.\n> If not, the easy fix is just to dispose it directly.\n> \n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly or view it on GitHub\n> https://github.com/OpenRA/OpenRA/issues/11193#issuecomment-214984081\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/215949601",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/11193#issuecomment-215949601",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11193",
    "id": 215949601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTk0OTYwMQ==",
    "user": {
      "login": "LipkeGu",
      "id": 2057932,
      "node_id": "MDQ6VXNlcjIwNTc5MzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2057932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LipkeGu",
      "html_url": "https://github.com/LipkeGu",
      "followers_url": "https://api.github.com/users/LipkeGu/followers",
      "following_url": "https://api.github.com/users/LipkeGu/following{/other_user}",
      "gists_url": "https://api.github.com/users/LipkeGu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LipkeGu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LipkeGu/subscriptions",
      "organizations_url": "https://api.github.com/users/LipkeGu/orgs",
      "repos_url": "https://api.github.com/users/LipkeGu/repos",
      "events_url": "https://api.github.com/users/LipkeGu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LipkeGu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-30T09:43:28Z",
    "updated_at": "2016-04-30T09:43:28Z",
    "author_association": "MEMBER",
    "body": "It seems the Device isnt closed at the time where we want to cleanup the Device Resources\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/234120793",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/11193#issuecomment-234120793",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/11193",
    "id": 234120793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDEyMDc5Mw==",
    "user": {
      "login": "Fahrradkette",
      "id": 4951351,
      "node_id": "MDQ6VXNlcjQ5NTEzNTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4951351?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fahrradkette",
      "html_url": "https://github.com/Fahrradkette",
      "followers_url": "https://api.github.com/users/Fahrradkette/followers",
      "following_url": "https://api.github.com/users/Fahrradkette/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fahrradkette/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fahrradkette/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fahrradkette/subscriptions",
      "organizations_url": "https://api.github.com/users/Fahrradkette/orgs",
      "repos_url": "https://api.github.com/users/Fahrradkette/repos",
      "events_url": "https://api.github.com/users/Fahrradkette/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fahrradkette/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-21T00:06:30Z",
    "updated_at": "2016-07-21T00:06:30Z",
    "author_association": "NONE",
    "body": "Just a wild guess: the issue might lie at https://github.com/OpenRA/OpenRA/blob/25c640679ca0f7a3ebb8d0dd5a2f5525d17e13bb/OpenRA.Platforms.Default/OpenAlSoundEngine.cs#L319-L320\nWe're not properly destroying, we don't even look at the return value of alcCloseDevice()\nhttps://www.openal.org/documentation/openal-1.1-specification.pdf says on section 6.1.2. that we have to first destroy the buffer and context, I guess section 6.2.6. explains how to get rid of the context, and rightfully chrisforbes mentioned the buffer which we have to get rid of, too.\nI have no idea what OpenAL-to-C# wrapper OpenRA is currently using, so take this with a grain of salt, I didn't try to read what magic happens there:)\n"
  }
]
