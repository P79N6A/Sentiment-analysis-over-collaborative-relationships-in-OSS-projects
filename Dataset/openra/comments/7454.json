[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/73604665",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/7454#issuecomment-73604665",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/7454",
    "id": 73604665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjA0NjY1",
    "user": {
      "login": "Nelax",
      "id": 2549088,
      "node_id": "MDQ6VXNlcjI1NDkwODg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2549088?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nelax",
      "html_url": "https://github.com/Nelax",
      "followers_url": "https://api.github.com/users/Nelax/followers",
      "following_url": "https://api.github.com/users/Nelax/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nelax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nelax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nelax/subscriptions",
      "organizations_url": "https://api.github.com/users/Nelax/orgs",
      "repos_url": "https://api.github.com/users/Nelax/repos",
      "events_url": "https://api.github.com/users/Nelax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nelax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-09T22:30:04Z",
    "updated_at": "2015-02-09T22:36:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've run into this scripting the TD shellmap. It's really annoying. I would fix it myself if I thought I had the experience to. Also to note, having a OnIdle trigger doesn't help, the unit continues to idle where it last was in combat. So something like this will cause the unit to stop even if it hasn't reached waypoint1:\n\n`Trigger.OnIdle(unit, function() unit.AttackMove(waypoint1.Location) end)`\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/73664079",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/7454#issuecomment-73664079",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/7454",
    "id": 73664079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjY0MDc5",
    "user": {
      "login": "Computerfreaked",
      "id": 6849444,
      "node_id": "MDQ6VXNlcjY4NDk0NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6849444?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Computerfreaked",
      "html_url": "https://github.com/Computerfreaked",
      "followers_url": "https://api.github.com/users/Computerfreaked/followers",
      "following_url": "https://api.github.com/users/Computerfreaked/following{/other_user}",
      "gists_url": "https://api.github.com/users/Computerfreaked/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Computerfreaked/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Computerfreaked/subscriptions",
      "organizations_url": "https://api.github.com/users/Computerfreaked/orgs",
      "repos_url": "https://api.github.com/users/Computerfreaked/repos",
      "events_url": "https://api.github.com/users/Computerfreaked/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Computerfreaked/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-10T08:50:20Z",
    "updated_at": "2015-02-10T08:50:46Z",
    "author_association": "NONE",
    "body": "> So something like this will cause the unit to stop even if it hasn't reached waypoint1:\n> \n> ```\n> Trigger.OnIdle(unit, function() unit.AttackMove(waypoint1.Location) end)\n> ```\n\nThis is what I thought a solution was and I just tried it. It works :D\n\nNevertheless it is still a workaround if you ask me.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/73757364",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/7454#issuecomment-73757364",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/7454",
    "id": 73757364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNzU3MzY0",
    "user": {
      "login": "obrakmann",
      "id": 4331210,
      "node_id": "MDQ6VXNlcjQzMzEyMTA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4331210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obrakmann",
      "html_url": "https://github.com/obrakmann",
      "followers_url": "https://api.github.com/users/obrakmann/followers",
      "following_url": "https://api.github.com/users/obrakmann/following{/other_user}",
      "gists_url": "https://api.github.com/users/obrakmann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obrakmann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obrakmann/subscriptions",
      "organizations_url": "https://api.github.com/users/obrakmann/orgs",
      "repos_url": "https://api.github.com/users/obrakmann/repos",
      "events_url": "https://api.github.com/users/obrakmann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obrakmann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-10T18:45:11Z",
    "updated_at": "2015-02-10T18:45:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Found the problem. We were only creating an `AttackMoveActivity`, but didn't set the `TargetLocation` in the `AttackMove` trait.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/73760874",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/7454#issuecomment-73760874",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/7454",
    "id": 73760874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNzYwODc0",
    "user": {
      "login": "Nelax",
      "id": 2549088,
      "node_id": "MDQ6VXNlcjI1NDkwODg=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2549088?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nelax",
      "html_url": "https://github.com/Nelax",
      "followers_url": "https://api.github.com/users/Nelax/followers",
      "following_url": "https://api.github.com/users/Nelax/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nelax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nelax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nelax/subscriptions",
      "organizations_url": "https://api.github.com/users/Nelax/orgs",
      "repos_url": "https://api.github.com/users/Nelax/repos",
      "events_url": "https://api.github.com/users/Nelax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nelax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-10T19:03:05Z",
    "updated_at": "2015-02-10T19:03:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "> This is what I thought a solution was and I just tried it. It works :D\n> \n> Nevertheless it is still a workaround if you ask me.\n\nI may of been mistaken, or maybe it just takes some time for it to trigger but I didn't see it work when I tried it.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/107051778",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/7454#issuecomment-107051778",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/7454",
    "id": 107051778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzA1MTc3OA==",
    "user": {
      "login": "Unit158",
      "id": 706008,
      "node_id": "MDQ6VXNlcjcwNjAwOA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/706008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Unit158",
      "html_url": "https://github.com/Unit158",
      "followers_url": "https://api.github.com/users/Unit158/followers",
      "following_url": "https://api.github.com/users/Unit158/following{/other_user}",
      "gists_url": "https://api.github.com/users/Unit158/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Unit158/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Unit158/subscriptions",
      "organizations_url": "https://api.github.com/users/Unit158/orgs",
      "repos_url": "https://api.github.com/users/Unit158/repos",
      "events_url": "https://api.github.com/users/Unit158/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Unit158/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-30T15:14:28Z",
    "updated_at": "2015-05-30T15:14:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@obrakmann any progress on this?\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/107056625",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/7454#issuecomment-107056625",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/7454",
    "id": 107056625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzA1NjYyNQ==",
    "user": {
      "login": "obrakmann",
      "id": 4331210,
      "node_id": "MDQ6VXNlcjQzMzEyMTA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4331210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obrakmann",
      "html_url": "https://github.com/obrakmann",
      "followers_url": "https://api.github.com/users/obrakmann/followers",
      "following_url": "https://api.github.com/users/obrakmann/following{/other_user}",
      "gists_url": "https://api.github.com/users/obrakmann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obrakmann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obrakmann/subscriptions",
      "organizations_url": "https://api.github.com/users/obrakmann/orgs",
      "repos_url": "https://api.github.com/users/obrakmann/repos",
      "events_url": "https://api.github.com/users/obrakmann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obrakmann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-30T15:52:25Z",
    "updated_at": "2015-05-30T15:52:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not really. We can't just set the `TargetLocation` and run the activity, because that causes the `AttackMove` trait do wake up and go off to do its own thing if the unit ever goes idle (and then it would go _back_ to the `TargetLocation`, which may be on the other side of the map at that point. We can't unset `TargetLocation` either at the end of the activity, because that would break `AttackMove`. You can't even unset it in the `Cancel` method, because that breaks `AttackMove` as well. And we also can't unset `TargetLocation` in a `CallFunc` or sth. similar, because that might never execute if the activity queue is canceled.\n\nI've tried re-writing activities to allow that sort of thing, but that turned out to be fruitless in the end due to the way that the `Attack` activity in `AttackMoveActivity` is generated (ie. not directly, but three or four method calls deeper into the call chain, where you cannot distinguish between the different use-cases anymore).\n\nSo, no, I have no idea how to fix this in a way that isn't hack-ish and which might not work under certain circumstances. `AttackMove`'s `TickIdle` hack is just a giant ugly piece of crap.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/289145667",
    "html_url": "https://github.com/OpenRA/OpenRA/issues/7454#issuecomment-289145667",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/7454",
    "id": 289145667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTE0NTY2Nw==",
    "user": {
      "login": "obrakmann",
      "id": 4331210,
      "node_id": "MDQ6VXNlcjQzMzEyMTA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4331210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obrakmann",
      "html_url": "https://github.com/obrakmann",
      "followers_url": "https://api.github.com/users/obrakmann/followers",
      "following_url": "https://api.github.com/users/obrakmann/following{/other_user}",
      "gists_url": "https://api.github.com/users/obrakmann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obrakmann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obrakmann/subscriptions",
      "organizations_url": "https://api.github.com/users/obrakmann/orgs",
      "repos_url": "https://api.github.com/users/obrakmann/repos",
      "events_url": "https://api.github.com/users/obrakmann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obrakmann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-24T21:20:06Z",
    "updated_at": "2017-03-24T21:20:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "FWIW, I have a WIP branch that should fix this and also includes queueable attack-moves. It still has quite a few bugs that I need to iron out, though."
  }
]
