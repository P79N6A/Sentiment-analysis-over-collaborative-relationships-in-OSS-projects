[
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137204912",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137204912",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137204912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzIwNDkxMg==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-02T18:41:54Z",
    "updated_at": "2015-09-02T18:41:54Z",
    "author_association": "MEMBER",
    "body": "Can you give an explanation why you think `NatUtility.StopDiscovery` leads to the crash?\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137220673",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137220673",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137220673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzIyMDY3Mw==",
    "user": {
      "login": "LipkeGu",
      "id": 2057932,
      "node_id": "MDQ6VXNlcjIwNTc5MzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2057932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LipkeGu",
      "html_url": "https://github.com/LipkeGu",
      "followers_url": "https://api.github.com/users/LipkeGu/followers",
      "following_url": "https://api.github.com/users/LipkeGu/following{/other_user}",
      "gists_url": "https://api.github.com/users/LipkeGu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LipkeGu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LipkeGu/subscriptions",
      "organizations_url": "https://api.github.com/users/LipkeGu/orgs",
      "repos_url": "https://api.github.com/users/LipkeGu/repos",
      "events_url": "https://api.github.com/users/LipkeGu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LipkeGu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-02T19:27:19Z",
    "updated_at": "2015-09-02T19:39:37Z",
    "author_association": "MEMBER",
    "body": "- I looked in the source of Mono.Nat and found out that `NatUtility.StartDiscovery` is calling the thread searcher that is asynccronoes calling BeginGetAllPortMappings.\n- This function (which is not catching Exceptions) is calling `NatUtility.StopDiscovery`, \n  This via a thread (searcher) asyncronous Functions like \"EndGetAllPortMappings\". And resets the Thread itself.\n- Also this is the only Function which doesnt catch Exceptions from Mono.Nat.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137221143",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137221143",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137221143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzIyMTE0Mw==",
    "user": {
      "login": "Mailaender",
      "id": 756669,
      "node_id": "MDQ6VXNlcjc1NjY2OQ==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/756669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mailaender",
      "html_url": "https://github.com/Mailaender",
      "followers_url": "https://api.github.com/users/Mailaender/followers",
      "following_url": "https://api.github.com/users/Mailaender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mailaender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mailaender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mailaender/subscriptions",
      "organizations_url": "https://api.github.com/users/Mailaender/orgs",
      "repos_url": "https://api.github.com/users/Mailaender/repos",
      "events_url": "https://api.github.com/users/Mailaender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mailaender/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-02T19:29:38Z",
    "updated_at": "2015-09-02T19:29:38Z",
    "author_association": "MEMBER",
    "body": ":+1: then.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137226860",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137226860",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137226860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzIyNjg2MA==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-02T19:57:57Z",
    "updated_at": "2015-09-02T19:57:57Z",
    "author_association": "MEMBER",
    "body": "I don't think this will solve it. `StopDiscovery` does nothing interesting at all according to [this](https://github.com/mono/Mono.Nat/blob/master/src/Mono.Nat/NatUtility.cs#L142).\n\nThe stack trace suggests it's an unhandled exception on a worker thread, so this doesn't seem to match up.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137271059",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137271059",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137271059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzI3MTA1OQ==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-02T23:14:58Z",
    "updated_at": "2015-09-02T23:14:58Z",
    "author_association": "MEMBER",
    "body": "Yup we previously had this and then removed it: https://github.com/OpenRA/OpenRA/pull/5466/files#diff-16b6cba3995345c282781bc0df179bcaR49.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137275797",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137275797",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137275797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzI3NTc5Nw==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-02T23:53:16Z",
    "updated_at": "2015-09-02T23:53:16Z",
    "author_association": "MEMBER",
    "body": "I dug into this and updated the original issue: https://github.com/OpenRA/OpenRA/issues/8794#issuecomment-137275596. Closing this since it won't resolve the problem, sorry :(\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137404114",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137404114",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137404114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzQwNDExNA==",
    "user": {
      "login": "LipkeGu",
      "id": 2057932,
      "node_id": "MDQ6VXNlcjIwNTc5MzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2057932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LipkeGu",
      "html_url": "https://github.com/LipkeGu",
      "followers_url": "https://api.github.com/users/LipkeGu/followers",
      "following_url": "https://api.github.com/users/LipkeGu/following{/other_user}",
      "gists_url": "https://api.github.com/users/LipkeGu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LipkeGu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LipkeGu/subscriptions",
      "organizations_url": "https://api.github.com/users/LipkeGu/orgs",
      "repos_url": "https://api.github.com/users/LipkeGu/repos",
      "events_url": "https://api.github.com/users/LipkeGu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LipkeGu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-03T10:32:54Z",
    "updated_at": "2015-09-03T10:34:02Z",
    "author_association": "MEMBER",
    "body": "This function (which is not catching Exceptions) is calling NatUtility.StopDiscovery,\nThis via a thread (searcher) asyncronous Functions like \"EndGetAllPortMappings\". And resets the Thread itself.\n"
  },
  {
    "url": "https://api.github.com/repos/OpenRA/OpenRA/issues/comments/137535160",
    "html_url": "https://github.com/OpenRA/OpenRA/pull/9223#issuecomment-137535160",
    "issue_url": "https://api.github.com/repos/OpenRA/OpenRA/issues/9223",
    "id": 137535160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzUzNTE2MA==",
    "user": {
      "login": "RoosterDragon",
      "id": 3399086,
      "node_id": "MDQ6VXNlcjMzOTkwODY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3399086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RoosterDragon",
      "html_url": "https://github.com/RoosterDragon",
      "followers_url": "https://api.github.com/users/RoosterDragon/followers",
      "following_url": "https://api.github.com/users/RoosterDragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/RoosterDragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RoosterDragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RoosterDragon/subscriptions",
      "organizations_url": "https://api.github.com/users/RoosterDragon/orgs",
      "repos_url": "https://api.github.com/users/RoosterDragon/repos",
      "events_url": "https://api.github.com/users/RoosterDragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RoosterDragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-03T18:26:57Z",
    "updated_at": "2015-09-03T18:26:57Z",
    "author_association": "MEMBER",
    "body": "Refer to my linked comment, `NatUtility.StopDiscovery` won't throw an exception. The worker thread will just flat out crash our process.\n"
  }
]
