[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/371957144",
    "html_url": "https://github.com/grpc/grpc/issues/14578#issuecomment-371957144",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14578",
    "id": 371957144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk1NzE0NA==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T21:59:27Z",
    "updated_at": "2018-03-09T21:59:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @gwihlidal,\r\nLooks like most of these are not timer thread but '[executor](https://github.com/grpc/grpc/blob/v1.10.0/src/core/lib/iomgr/executor.cc)' threads instead. The max number of threads can be [2x](https://github.com/grpc/grpc/blob/v1.10.0/src/core/lib/iomgr/executor.cc#L94) the number cores and unfortunately its not configurable at the moment.\r\n\r\nBroadly speaking, \"executor threads\" are used to do some background tasks (like address resolution) or to move some tasks off of the application-provided threads (to prevent them from taking too long before returning to the user from completion-queue-next calls). So reducing the max executor threads many not be a good idea.\r\n\r\nIt would help to know a few more details on your application. I am assuming you are noticing on the server side. SO approx  how many incoming channels ? how many calls ? - are the requests typically short lived or long lived? (do they do a lot of network i/o)?\r\n etc.."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/407869808",
    "html_url": "https://github.com/grpc/grpc/issues/14578#issuecomment-407869808",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14578",
    "id": 407869808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzg2OTgwOA==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-25T19:34:39Z",
    "updated_at": "2018-07-25T19:34:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @gwihlidal ,\r\nWanted to followup once more:\r\nFrom the screenshots you posted, the threads are 'executor'  threads and not timer threads and unfortunately they cannot be configured. It is a bit surprising that there are 112 executor threads (it should not exceed 2x the number of cores) - Does the machine on which you ran this have >= 56 cores ? If so, this is expected. If not, this is a bug worth that we should investigate in grpc side.\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/413644219",
    "html_url": "https://github.com/grpc/grpc/issues/14578#issuecomment-413644219",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14578",
    "id": 413644219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzY0NDIxOQ==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-16T18:37:51Z",
    "updated_at": "2018-08-16T18:37:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am closing this issue - since we made a few changes to the executor code and the timer manager code. \r\n\r\nAlso, any executor threads and timer-manager you see are by-design; unless the threads are more than 2x the number of cores on your machine in which case it is clearly a bug. Please feel free to reopen the issue if that is what you see (i.e executor threads that are more than 2x the number of cores). \r\n\r\n"
  }
]
