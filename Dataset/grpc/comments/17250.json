[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440382755",
    "html_url": "https://github.com/grpc/grpc/issues/17250#issuecomment-440382755",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17250",
    "id": 440382755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDM4Mjc1NQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T18:31:52Z",
    "updated_at": "2018-11-20T18:31:52Z",
    "author_association": "MEMBER",
    "body": "You say that each error closes the gRPC stream. But the point of gRPC is that multiple streams exist on a single connection. So unless you're closing the entire connection every time a single stream has an error, you shouldn't be encountering the reconnection backoff much."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440431815",
    "html_url": "https://github.com/grpc/grpc/issues/17250#issuecomment-440431815",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17250",
    "id": 440431815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDQzMTgxNQ==",
    "user": {
      "login": "ryanpbrewster",
      "id": 1649989,
      "node_id": "MDQ6VXNlcjE2NDk5ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1649989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanpbrewster",
      "html_url": "https://github.com/ryanpbrewster",
      "followers_url": "https://api.github.com/users/ryanpbrewster/followers",
      "following_url": "https://api.github.com/users/ryanpbrewster/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanpbrewster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanpbrewster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanpbrewster/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanpbrewster/orgs",
      "repos_url": "https://api.github.com/users/ryanpbrewster/repos",
      "events_url": "https://api.github.com/users/ryanpbrewster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanpbrewster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T21:14:48Z",
    "updated_at": "2018-11-20T21:14:48Z",
    "author_association": "NONE",
    "body": "That's a good point. I was mistaken about the cause here, it doesn't matter that we're closing the stream. The actual issue is that each test case is creating a new client, checking some logic, then closing down the client. As such, we cannot (easily) re-use the connection."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440442397",
    "html_url": "https://github.com/grpc/grpc/issues/17250#issuecomment-440442397",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17250",
    "id": 440442397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDQ0MjM5Nw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T21:52:29Z",
    "updated_at": "2018-11-20T21:52:29Z",
    "author_association": "MEMBER",
    "body": "If you are explicitly shutting down clients and creating new ones, how can you tell that the reconnection backoff time is kicking in there? If you are simply experiencing delays, that may just be the time it takes for gRPC to establish a new connection."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440444570",
    "html_url": "https://github.com/grpc/grpc/issues/17250#issuecomment-440444570",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17250",
    "id": 440444570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDQ0NDU3MA==",
    "user": {
      "login": "ryanpbrewster",
      "id": 1649989,
      "node_id": "MDQ6VXNlcjE2NDk5ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1649989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanpbrewster",
      "html_url": "https://github.com/ryanpbrewster",
      "followers_url": "https://api.github.com/users/ryanpbrewster/followers",
      "following_url": "https://api.github.com/users/ryanpbrewster/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanpbrewster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanpbrewster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanpbrewster/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanpbrewster/orgs",
      "repos_url": "https://api.github.com/users/ryanpbrewster/repos",
      "events_url": "https://api.github.com/users/ryanpbrewster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanpbrewster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T21:59:53Z",
    "updated_at": "2018-11-20T21:59:53Z",
    "author_association": "NONE",
    "body": "I enabled logging and see results like:\r\n```\r\nI1119 16:23:30.238573350  260556 subchannel.cc:517]          Subchannel 0x41a68f0: Retry in 55738 milliseconds\r\n```\r\n\r\nAdditionally, setting `'grpc.max_reconnect_backoff_ms': 100` largely mitigates this issue. https://github.com/grpc/grpc/pull/17251 would allow us to eliminate the reconnection backoff and eliminate the issue entirely."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440450068",
    "html_url": "https://github.com/grpc/grpc/issues/17250#issuecomment-440450068",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17250",
    "id": 440450068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDQ1MDA2OA==",
    "user": {
      "login": "AspirinSJL",
      "id": 3314176,
      "node_id": "MDQ6VXNlcjMzMTQxNzY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3314176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AspirinSJL",
      "html_url": "https://github.com/AspirinSJL",
      "followers_url": "https://api.github.com/users/AspirinSJL/followers",
      "following_url": "https://api.github.com/users/AspirinSJL/following{/other_user}",
      "gists_url": "https://api.github.com/users/AspirinSJL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AspirinSJL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AspirinSJL/subscriptions",
      "organizations_url": "https://api.github.com/users/AspirinSJL/orgs",
      "repos_url": "https://api.github.com/users/AspirinSJL/repos",
      "events_url": "https://api.github.com/users/AspirinSJL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AspirinSJL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T22:20:31Z",
    "updated_at": "2018-11-20T22:20:31Z",
    "author_association": "MEMBER",
    "body": "If the server is always up, and you are creating and destroying a client repetitively, then backoff should be unrelated here. \r\n\r\nWhen the channel is destroyed, the subchannel will be unreffed and destroyed (if no other channel is has a ref to it). If the subchannel is destroyed, it can't have any backoff and reconnection attempt. \r\n\r\nBut you do see a retry log, so I guess your server is unreachable at some point? \r\n\r\nI'm not sure about the real problem and expectation here yet. \r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440451029",
    "html_url": "https://github.com/grpc/grpc/issues/17250#issuecomment-440451029",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17250",
    "id": 440451029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDQ1MTAyOQ==",
    "user": {
      "login": "ryanpbrewster",
      "id": 1649989,
      "node_id": "MDQ6VXNlcjE2NDk5ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1649989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanpbrewster",
      "html_url": "https://github.com/ryanpbrewster",
      "followers_url": "https://api.github.com/users/ryanpbrewster/followers",
      "following_url": "https://api.github.com/users/ryanpbrewster/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanpbrewster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanpbrewster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanpbrewster/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanpbrewster/orgs",
      "repos_url": "https://api.github.com/users/ryanpbrewster/repos",
      "events_url": "https://api.github.com/users/ryanpbrewster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanpbrewster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T22:24:16Z",
    "updated_at": "2018-11-20T22:24:16Z",
    "author_association": "NONE",
    "body": "The server is always up and reachable. We don't see any refused connections. I can inspect the server logs and see that there are new connections coming in with exponential backoffs.\r\n\r\nHappy to help dig in, but we do know that capping the `max_reconnect_backoff_ms` to 100ms does indeed mitigate this issue, so I'm pretty confident that it is actually causing reconnections and triggering this backoff behavior."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/444997855",
    "html_url": "https://github.com/grpc/grpc/issues/17250#issuecomment-444997855",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17250",
    "id": 444997855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NDk5Nzg1NQ==",
    "user": {
      "login": "ryanpbrewster",
      "id": 1649989,
      "node_id": "MDQ6VXNlcjE2NDk5ODk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1649989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanpbrewster",
      "html_url": "https://github.com/ryanpbrewster",
      "followers_url": "https://api.github.com/users/ryanpbrewster/followers",
      "following_url": "https://api.github.com/users/ryanpbrewster/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanpbrewster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanpbrewster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanpbrewster/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanpbrewster/orgs",
      "repos_url": "https://api.github.com/users/ryanpbrewster/repos",
      "events_url": "https://api.github.com/users/ryanpbrewster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanpbrewster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-06T19:25:40Z",
    "updated_at": "2018-12-06T19:25:40Z",
    "author_association": "NONE",
    "body": "https://github.com/grpc/grpc/pull/17383 resolved this issue (along with https://github.com/grpc/grpc/issues/17282)"
  }
]
