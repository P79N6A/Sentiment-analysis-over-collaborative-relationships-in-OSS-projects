[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/375393018",
    "html_url": "https://github.com/grpc/grpc/issues/14779#issuecomment-375393018",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14779",
    "id": 375393018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTM5MzAxOA==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T17:33:08Z",
    "updated_at": "2018-03-22T17:33:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is the hang forever or until TCP timeout? Socket is not closed just because interface went down. TCP will detect this with it's own timeout. If you want gRPC to timeout faster use keepalive setting on channel. I am not sure if this is available in C#. May be @jtattermusch  can answer."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/375950135",
    "html_url": "https://github.com/grpc/grpc/issues/14779#issuecomment-375950135",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14779",
    "id": 375950135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTk1MDEzNQ==",
    "user": {
      "login": "amitwaisel",
      "id": 21170412,
      "node_id": "MDQ6VXNlcjIxMTcwNDEy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21170412?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitwaisel",
      "html_url": "https://github.com/amitwaisel",
      "followers_url": "https://api.github.com/users/amitwaisel/followers",
      "following_url": "https://api.github.com/users/amitwaisel/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitwaisel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitwaisel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitwaisel/subscriptions",
      "organizations_url": "https://api.github.com/users/amitwaisel/orgs",
      "repos_url": "https://api.github.com/users/amitwaisel/repos",
      "events_url": "https://api.github.com/users/amitwaisel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitwaisel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-25T07:04:20Z",
    "updated_at": "2018-03-25T07:04:20Z",
    "author_association": "NONE",
    "body": "@srini100 The hang is forever (I've put a mechanism in place to kill the process after 10 minutes of hang, so it is definitely at least for 10 minutes).\r\nThe deadline for the gRPC call is forever - under the assumption that network disconnection will throw an error (other than a timeout).\r\nThe problematic client code is written in C++ (only the server is C#), and happens only on Linux subsystems."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/375992192",
    "html_url": "https://github.com/grpc/grpc/issues/14779#issuecomment-375992192",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14779",
    "id": 375992192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTk5MjE5Mg==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-25T18:28:25Z",
    "updated_at": "2018-03-25T18:28:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "I wouldn't underestimate the time it takes for TCP to timeout in stock linux. It can go on for several hours depending on various settings and activity. Have you tried TCP keepalive to isolate the issue to gRPC?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376577151",
    "html_url": "https://github.com/grpc/grpc/issues/14779#issuecomment-376577151",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14779",
    "id": 376577151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjU3NzE1MQ==",
    "user": {
      "login": "amitwaisel",
      "id": 21170412,
      "node_id": "MDQ6VXNlcjIxMTcwNDEy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21170412?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitwaisel",
      "html_url": "https://github.com/amitwaisel",
      "followers_url": "https://api.github.com/users/amitwaisel/followers",
      "following_url": "https://api.github.com/users/amitwaisel/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitwaisel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitwaisel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitwaisel/subscriptions",
      "organizations_url": "https://api.github.com/users/amitwaisel/orgs",
      "repos_url": "https://api.github.com/users/amitwaisel/repos",
      "events_url": "https://api.github.com/users/amitwaisel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitwaisel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T15:53:56Z",
    "updated_at": "2018-03-27T15:53:56Z",
    "author_association": "NONE",
    "body": "We use stock version of CentOS 7.2 and Ubuntu 17.04. Both suffer from the same issue.\r\nI agree the TCP timeout is a good candidate, but it seems weird we wait for 10 minutes without any timeout. What gRPC channel configuration/option should I use to check the TCP keepalive?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376788178",
    "html_url": "https://github.com/grpc/grpc/issues/14779#issuecomment-376788178",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14779",
    "id": 376788178,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Njc4ODE3OA==",
    "user": {
      "login": "amitwaisel",
      "id": 21170412,
      "node_id": "MDQ6VXNlcjIxMTcwNDEy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21170412?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitwaisel",
      "html_url": "https://github.com/amitwaisel",
      "followers_url": "https://api.github.com/users/amitwaisel/followers",
      "following_url": "https://api.github.com/users/amitwaisel/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitwaisel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitwaisel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitwaisel/subscriptions",
      "organizations_url": "https://api.github.com/users/amitwaisel/orgs",
      "repos_url": "https://api.github.com/users/amitwaisel/repos",
      "events_url": "https://api.github.com/users/amitwaisel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitwaisel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T07:25:03Z",
    "updated_at": "2018-03-28T07:25:03Z",
    "author_association": "NONE",
    "body": "@srini100 It appears that the TCP keepalive interval is set to 2+ hours on the Ubuntu and CentOS. So it might be the problem."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376970881",
    "html_url": "https://github.com/grpc/grpc/issues/14779#issuecomment-376970881",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14779",
    "id": 376970881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Njk3MDg4MQ==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T17:33:53Z",
    "updated_at": "2018-03-28T17:33:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Try gRPC deadline and keepalive features. Let us know how easy or difficult you find it to use these features. Closing this issue."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/377801241",
    "html_url": "https://github.com/grpc/grpc/issues/14779#issuecomment-377801241",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14779",
    "id": 377801241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzgwMTI0MQ==",
    "user": {
      "login": "amitwaisel",
      "id": 21170412,
      "node_id": "MDQ6VXNlcjIxMTcwNDEy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21170412?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitwaisel",
      "html_url": "https://github.com/amitwaisel",
      "followers_url": "https://api.github.com/users/amitwaisel/followers",
      "following_url": "https://api.github.com/users/amitwaisel/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitwaisel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitwaisel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitwaisel/subscriptions",
      "organizations_url": "https://api.github.com/users/amitwaisel/orgs",
      "repos_url": "https://api.github.com/users/amitwaisel/repos",
      "events_url": "https://api.github.com/users/amitwaisel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitwaisel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-01T17:09:40Z",
    "updated_at": "2018-04-01T17:09:40Z",
    "author_association": "NONE",
    "body": "Thanks @srini100. We already use the `deadline` feature for the 10-minutes timeout. This feature is pretty much straightforward. We will look into the `keepalive` feature. Thanks!"
  }
]
