[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/254057252",
    "html_url": "https://github.com/grpc/grpc/issues/8385#issuecomment-254057252",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8385",
    "id": 254057252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDA1NzI1Mg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-16T16:30:22Z",
    "updated_at": "2016-10-16T16:30:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\ntools/run_tests/performance/run_worker_ruby.sh: line 36: 11072 Aborted                 (core dumped) ruby src/ruby/qps/worker.rb $@\n\nFAILED: qps_worker_ruby_1 [ret=134, pid=10944]\nAll QPS workers finished.\nSTART: qps_worker_ruby_0\nSTART: qps_worker_ruby_1\nSTART: qps_json_driver.ruby_protobuf_sync_streaming_qps_unconstrained\nWAITING: 1 queued, 1 jobs running, 0 complete, 0 failed\n++ dirname tools/run_tests/performance/run_qps_driver.sh\n+ cd tools/run_tests/performance/../../..\n+ bins/opt/qps_json_driver '--scenarios_json={\"scenarios\": [{\"name\": \"ruby_protobuf_sync_streaming_qps_unconstrained\", \"warmup_seconds\": 5, \"benchmark_seconds\": 30, \"num_servers\": 1, \"server_config\": {\"async_server_threads\": 0, \"core_limit\": 0, \"security_params\": {\"use_test_ca\": true, \"server_host_override\": \"foo.test.google.fr\"}, \"server_type\": \"SYNC_SERVER\"}, \"client_config\": {\"client_type\": \"SYNC_CLIENT\", \"security_params\": {\"use_test_ca\": true, \"server_host_override\": \"foo.test.google.fr\"}, \"payload_config\": {\"simple_params\": {\"resp_size\": 0, \"req_size\": 0}}, \"client_channels\": 64, \"async_client_threads\": 0, \"outstanding_rpcs_per_channel\": 16, \"rpc_type\": \"STREAMING\", \"load_params\": {\"closed_loop\": {}}, \"histogram_params\": {\"max_possible\": 60000000000.0, \"resolution\": 0.01}}, \"num_clients\": 0}]}' --scenario_result_file=scenario_result.json\nRUNNING SCENARIO: ruby_protobuf_sync_streaming_qps_unconstrained\nI1016 15:24:43.227676830   12570 ev_epoll_linux.c:86]        epoll engine will be using signal: 40\nD1016 15:24:43.227726302   12570 ev_posix.c:106]             Using polling engine: epoll\nI1016 15:24:43.228231442   12570 subchannel.c:642]           Connect failed: {\"created\":\"@1476631483.228201389\",\"description\":\"Failed to connect to remote host\",\"errno\":111,\"file\":\"src/core/lib/iomgr/tcp_client_posix.c\",\"file_line\":192,\"os_error\":\"Connection refused\",\"syscall\":\"connect\",\"target_address\":\"ipv4:127.0.0.1:10300\"}\nI1016 15:24:43.228243007   12570 subchannel.c:647]           Retry in 0.999880335 seconds\nI1016 15:24:44.229307556   12570 subchannel.c:607]           Failed to connect to channel, retrying\nI1016 15:24:44.314894215   12570 driver.cc:251]              Starting server on localhost:10300 (worker #0)\nD1016 15:24:44.314947258   12570 ev_posix.c:106]             Using polling engine: epoll\nI1016 15:24:44.319084393   12570 driver.cc:319]              Starting client on localhost:10310 (worker #1)\nD1016 15:24:44.319131124   12570 driver.cc:358]              Client 0 gets 64 channels\nE1016 15:24:44.994454106   12570 driver.cc:374]              Client 0 did not yield initial status\nI1016 15:24:44.994491927   12570 driver.cc:380]              Initiating\nE1016 15:24:44.994514127   12570 driver.cc:390]              Couldn't write mark to client 0\nE1016 15:24:44.994520615   12570 driver.cc:396]              Couldn't get status from client 0\nI1016 15:24:44.994523729   12570 driver.cc:401]              Warming up\nI1016 15:24:49.994625590   12570 driver.cc:407]              Starting\nE1016 15:24:49.994791213   12570 driver.cc:417]              Couldn't write mark to client 0\nE1016 15:24:49.995669802   12570 driver.cc:429]              Couldn't get status from client 0\nI1016 15:24:49.995690798   12570 driver.cc:434]              Running\nI1016 15:25:19.994698017   12570 driver.cc:445]              Finishing clients\nE1016 15:25:19.994782342   12570 driver.cc:449]              Couldn't write mark to client 0\nE1016 15:25:19.994795698   12570 driver.cc:466]              Couldn't get final status from client 0\nE1016 15:25:19.994815208   12570 driver.cc:474]              Client 0 had an error {\"created\":\"@1476631484.994352081\",\"description\":\"EOF\",\"file\":\"src/core/lib/iomgr/tcp_posix.c\",\"file_line\":235,\"grpc_status\":14}\nI1016 15:25:19.994850656   12570 driver.cc:482]              Finishing servers\nI1016 15:25:19.995476705   12570 driver.cc:496]              Received final status from server 0\nI1016 15:25:20.001943007   12570 report.cc:75]               QPS: -nan\nI1016 15:25:20.002557431   12570 report.cc:79]               QPS: -nan (-nan/server core)\nI1016 15:25:20.002571725   12570 report.cc:84]               Latencies (50/90/95/99/99.9%-ile): 0.0/0.0/0.0/0.0/0.0 us\nI1016 15:25:20.002575985   12570 report.cc:94]               Server system time: 0.00%\nI1016 15:25:20.002579377   12570 report.cc:96]               Server user time:   0.00%\nI1016 15:25:20.002582402   12570 report.cc:98]               Client system time: -nan%\nI1016 15:25:20.002585334   12570 report.cc:100]              Client user time:   -nan%\n\nFAILED: qps_json_driver.ruby_protobuf_sync_streaming_qps_unconstrained [ret=1, pid=12563]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/254248950",
    "html_url": "https://github.com/grpc/grpc/issues/8385#issuecomment-254248950",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8385",
    "id": 254248950,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDI0ODk1MA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-17T15:53:40Z",
    "updated_at": "2016-10-17T15:53:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've been trying to track this down over the last several days. See https://github.com/grpc/grpc/issues/8349 (mentioning how when a start_batch/pluck call fails, a subsequent op on that call hangs, but the underlying issue seems to be the start_batch/pluck call, with a SEND_CLOSE_FROM_CLIENT op, that sometimes fails. I think a lot of things start to break once that core op fails).\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/254250325",
    "html_url": "https://github.com/grpc/grpc/issues/8385#issuecomment-254250325",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8385",
    "id": 254250325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDI1MDMyNQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-17T15:58:17Z",
    "updated_at": "2016-10-17T15:58:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@apolcyn  there's two parts of this - a) why is ruby failing and b) why we still show green result when something has failed.\n\nb) is more systemic and more important (~ it's fine to be broken, but we really need to know about that).\n"
  }
]
