[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394328875",
    "html_url": "https://github.com/grpc/grpc/issues/15604#issuecomment-394328875",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15604",
    "id": 394328875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDMyODg3NQ==",
    "user": {
      "login": "arajeeva",
      "id": 29866402,
      "node_id": "MDQ6VXNlcjI5ODY2NDAy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/29866402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arajeeva",
      "html_url": "https://github.com/arajeeva",
      "followers_url": "https://api.github.com/users/arajeeva/followers",
      "following_url": "https://api.github.com/users/arajeeva/following{/other_user}",
      "gists_url": "https://api.github.com/users/arajeeva/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arajeeva/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arajeeva/subscriptions",
      "organizations_url": "https://api.github.com/users/arajeeva/orgs",
      "repos_url": "https://api.github.com/users/arajeeva/repos",
      "events_url": "https://api.github.com/users/arajeeva/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arajeeva/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T11:54:44Z",
    "updated_at": "2018-06-04T11:54:44Z",
    "author_association": "NONE",
    "body": "Are there any special options for building protobuf and/or grpc to be able to use protobuf-lite in c++?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/399401127",
    "html_url": "https://github.com/grpc/grpc/issues/15604#issuecomment-399401127",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15604",
    "id": 399401127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTQwMTEyNw==",
    "user": {
      "login": "andrew2311",
      "id": 20815794,
      "node_id": "MDQ6VXNlcjIwODE1Nzk0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/20815794?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrew2311",
      "html_url": "https://github.com/andrew2311",
      "followers_url": "https://api.github.com/users/andrew2311/followers",
      "following_url": "https://api.github.com/users/andrew2311/following{/other_user}",
      "gists_url": "https://api.github.com/users/andrew2311/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andrew2311/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andrew2311/subscriptions",
      "organizations_url": "https://api.github.com/users/andrew2311/orgs",
      "repos_url": "https://api.github.com/users/andrew2311/repos",
      "events_url": "https://api.github.com/users/andrew2311/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andrew2311/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-22T10:40:19Z",
    "updated_at": "2018-06-22T10:47:09Z",
    "author_association": "NONE",
    "body": "Do you have progress with this issue?\r\nI am using c++ grpc in our microservices on embedded device, and want to use grpc with protobuf-lite, but failed to compile grpc_cpp_plugin with protobuf-lite (it is required to generate grpc.pb.cc and grpc.pb.h files from proto files)\r\n\r\nWhat I did:\r\n0. Download grpc version (I’ve tried latest master and 1.8.6, result is the same)\r\n1. mkdir -p cmake/build\r\n2. cd cmake/build\r\n3. cmake -DgRPC_USE_PROTO_LITE=ON -DgRPC_USE_PROTO_LITE=ON -DgRPC_INSTALL=ON -DgRPC_BUILD_TESTS=OFF -DgRPC_PROTOBUF_PROVIDER=package -DgRPC_ZLIB_PROVIDER=package -DgRPC_CARES_PROVIDER=package -DgRPC_SSL_PROVIDER=package -DOPENSSL_ROOT_DIR=/usr/lib/ssl -DOPENSSL_LIBRARIES=/usr/lib/x86_64-linux-gnu -DCMAKE_BUILD_TYPE=Release ../..\r\n4. make -j8\r\n\r\nAnd I see following error:\r\ngrpc-1.8.6/src/compiler/cpp_generator.cc:107:16: error: ‘struct grpc_generator::Printer’ has no member named ‘PrintRaw’\r\n       printer->PrintRaw(leading_comments.c_str());\r\n\r\nWhen I compile with full protobuf, it compiles well.\r\nWhen I comment this line (generate comments is not mandatory, I see other error)\r\n\r\nWhat I expect: grpc compiles well with protobuf-lite\r\n\r\nHow I can fix that? May be some additional cmake/make options, may be another grpc branch, etc?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/409690403",
    "html_url": "https://github.com/grpc/grpc/issues/15604#issuecomment-409690403",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15604",
    "id": 409690403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTY5MDQwMw==",
    "user": {
      "login": "awrichar",
      "id": 1993829,
      "node_id": "MDQ6VXNlcjE5OTM4Mjk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1993829?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awrichar",
      "html_url": "https://github.com/awrichar",
      "followers_url": "https://api.github.com/users/awrichar/followers",
      "following_url": "https://api.github.com/users/awrichar/following{/other_user}",
      "gists_url": "https://api.github.com/users/awrichar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awrichar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awrichar/subscriptions",
      "organizations_url": "https://api.github.com/users/awrichar/orgs",
      "repos_url": "https://api.github.com/users/awrichar/repos",
      "events_url": "https://api.github.com/users/awrichar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awrichar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-01T19:16:32Z",
    "updated_at": "2018-08-01T19:16:32Z",
    "author_association": "NONE",
    "body": "FWIW, it works for me with the following steps:\r\n* build gRPC using CMake with `-DgRPC_USE_PROTO_LITE=ON`\r\n* set `option optimize_for = LITE_RUNTIME;` in my .proto file\r\n* pass `-DGRPC_USE_PROTO_LITE` to g++ when compiling the generated files\r\n\r\nI'm using protobuf-3.5.1 and grpc-1.10.1."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/409700873",
    "html_url": "https://github.com/grpc/grpc/issues/15604#issuecomment-409700873",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15604",
    "id": 409700873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTcwMDg3Mw==",
    "user": {
      "login": "chandanrr",
      "id": 11416758,
      "node_id": "MDQ6VXNlcjExNDE2NzU4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/11416758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chandanrr",
      "html_url": "https://github.com/chandanrr",
      "followers_url": "https://api.github.com/users/chandanrr/followers",
      "following_url": "https://api.github.com/users/chandanrr/following{/other_user}",
      "gists_url": "https://api.github.com/users/chandanrr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chandanrr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chandanrr/subscriptions",
      "organizations_url": "https://api.github.com/users/chandanrr/orgs",
      "repos_url": "https://api.github.com/users/chandanrr/repos",
      "events_url": "https://api.github.com/users/chandanrr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chandanrr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-01T19:54:40Z",
    "updated_at": "2018-08-01T19:54:40Z",
    "author_association": "NONE",
    "body": "@awrichar these steps worked for me as well. \r\nIn addition to those steps in the top-level CMakeLists.txt of grpc, i made the following change:\r\n\r\n~/repos/grpc$ git diff CMakeLists.txt\r\ndiff --git a/CMakeLists.txt b/CMakeLists.txt\r\nindex 3563572..590263e 100644\r\n--- a/CMakeLists.txt\r\n+++ b/CMakeLists.txt\r\n@@ -73,7 +73,7 @@ set_property(CACHE gRPC_GFLAGS_PROVIDER PROPERTY STRINGS \"module\" \"package\")\r\n set(gRPC_BENCHMARK_PROVIDER \"module\" CACHE STRING \"Provider of benchmark library\")\r\n set_property(CACHE gRPC_BENCHMARK_PROVIDER PROPERTY STRINGS \"module\" \"package\")\r\n \r\n-set(gRPC_USE_PROTO_LITE **OFF** CACHE BOOL \"Use the protobuf-lite library\")\r\n+set(gRPC_USE_PROTO_LITE **ON** CACHE BOOL \"Use the protobuf-lite library\")\r\n"
  }
]
