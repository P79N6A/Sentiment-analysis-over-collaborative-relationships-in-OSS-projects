[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350896963",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-350896963",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 350896963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDg5Njk2Mw==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T23:49:44Z",
    "updated_at": "2017-12-11T23:49:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "#12808 and #12980 both went in right when this started failing. Does any manual action need to be taken on the database when this occurs?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350922769",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-350922769",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 350922769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDkyMjc2OQ==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-12T02:13:57Z",
    "updated_at": "2017-12-12T02:13:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, https://bigquery.cloud.google.com/table/grpc-testing:microbenchmarks.microbenchmarks needs to have its fields updated. We use https://github.com/grpc/grpc/blob/master/tools/run_tests/performance/patch_scenario_results_schema.py to update the multi-language performance benchmarks; maybe we can change the script to also update the microbenchmark schemas if they change frequently enough. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350927346",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-350927346",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 350927346,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDkyNzM0Ng==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-12T02:42:39Z",
    "updated_at": "2017-12-12T02:42:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think that running \r\n\r\n`tools/run_tests/performance/patch_scenario_results_schema.py --bq_result_table microbenchmarks.microbenchmarks`\r\n\r\nShould work then. I am trying it, but running into:\r\n'oauth2client.client.HttpAccessTokenRefreshError: invalid_grant: Bad Request'"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350929296",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-350929296",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 350929296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDkyOTI5Ng==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-12T02:53:19Z",
    "updated_at": "2017-12-12T02:53:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "As long as it's pointing to the right schema file, it should work. You probably have to run `gcloud auth login` to login first. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/351085388",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-351085388",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 351085388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTA4NTM4OA==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-12T15:28:41Z",
    "updated_at": "2017-12-12T15:28:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "A sanity check or kokoro autocommenting warning or OWNERS file on scenario_results_json_schema.json would be good to catch these in the future. The schema will change whenever someone adds a new stat "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/351146945",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-351146945",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 351146945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTE0Njk0NQ==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-12T18:39:36Z",
    "updated_at": "2017-12-12T18:39:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Good idea. I'm more of a fan of the OWNERS file, since it's usually the same group of people changing that file and approving those changes."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/378531768",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-378531768",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 378531768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODUzMTc2OA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-04T09:03:00Z",
    "updated_at": "2018-04-04T09:03:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ncteisen \r\n\r\nthe `tools/run_tests/performance/patch_scenario_results_schema.py` is only good for the results from full benchmarks, microbenchmarks use a different schema.\r\n\r\nThe way the results are uploaded to microbenchmark.microbenchmark  bq tale is pretty cryptic,\r\nbut it involves taking the json data generated by the microbenchmark and  turning it into .csv\r\nusing command that looks like this:\r\n`tools/profiling/microbenchmarks/bm2bq.py  XYZ.counters.json XYZ.opt.json    >  bq.csv`\r\n\r\nThen, `bq load microbenchmarks.microbenchmarks cq.csv` is used to upload the data, which fails with\r\n```\r\nBigQuery error in load operation: Error processing job\r\n'grpc-testing:bqjob_r45672a7ed9fb941c_000001628f920bd2_1': Error while reading\r\ndata, error message: CSV table encountered too many errors, giving up. Rows: 1;\r\nerrors: 1. Please look into the error stream for more details.\r\nFailure details:\r\n- file-00000000: Error while reading data, error message: CSV table\r\nreferences column position 1, but line starting at position:0\r\ncontains only 1 columns.\r\n```\r\n\r\nI generated an example of the data to be uploaded locally, and the format seems rather odd (not really like a CSV).\r\nNone of this seems to be documented anywhere, so I'd recommend adding some comments after we figure out what's wrong.\r\n\r\nA snippet from the \".csv\" file\r\n```\r\nBM_UnaryPingPong\r\n([u'0', u'0'], ['request_size', 'response_size'])\r\n([u'TCP', u'NoOpMutator', u'NoOpMutator'], ['fixture', 'client_mutator', 'server_mutator'])\r\n,,2018-04-04 10:33:46,True,12,3800,release,BM_UnaryPingPong,TCP,NoOpMutator,NoOpMutator,0,0,,12491,ns,51596,51401,,14.5268,15.969,,,,,,,67.1738,385.097,,,,5.00462,1.0,1.0,2.00031,0.0,2.0,2.00063,4.00016,0.0,0.0,5.0,0.0,2.0,2.0,2.0,2.0,2.0,2.0,0.000156691,0.000548417,2.00063,0.0,0.0,0.0,13.9996,14.0047,2.00125,7.83453e-05,0.000235036,0.0,0.0,0.000235036,0.000235036,0.0,7.83453e-05,7.83453e-05,0.000156691,7.83453e-05,0.0,0.999922,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.000156691,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.000548417,0.0,2.0,0.0,0.000156691,0.0,1.99984,0.0,12.999,0.0,0.00109683,0.999922,0.0,0.0,0.0,1.00212,0.0,0.0,0.0,12.999,0.0,0.00109683,0.999922,0.0,0.0,0.0,1.00212,0.0,0.0,0.0,1.00024,0.0\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/381051155",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-381051155",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 381051155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTA1MTE1NQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-13T07:37:22Z",
    "updated_at": "2018-04-13T07:37:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed by #15025"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/381198953",
    "html_url": "https://github.com/grpc/grpc/issues/13628#issuecomment-381198953",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13628",
    "id": 381198953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTE5ODk1Mw==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-13T17:01:01Z",
    "updated_at": "2018-04-13T17:01:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the fix!"
  }
]
