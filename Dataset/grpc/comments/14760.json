[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/375831327",
    "html_url": "https://github.com/grpc/grpc/issues/14760#issuecomment-375831327",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14760",
    "id": 375831327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTgzMTMyNw==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-24T00:26:01Z",
    "updated_at": "2018-03-24T00:32:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Pecl issue seems solved. But the new error looks like the same as `linux_x64_jessie` error, which is introduced by the alts PRs recently.\r\n```\r\n/Volumes/BuildData/tmpfs/tmp/pear/install/grpc/src/core/tsi/alts/handshaker/handshaker.pb.c:68:5: error: implicit conversion from 'unsigned long' to 'pb_size_t' (aka 'unsigned char') changes value from 312 to 56 [-Werror,-Wconstant-conversion]\r\n    PB_FIELD(  2, MESSAGE , OPTIONAL, STATIC  , OTHER, grpc_gcp_HandshakerReq, server_start, client_start, &grpc_gcp_StartServerHandshakeReq_fields),\r\n    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/Volumes/BuildData/tmpfs/tmp/pear/install/grpc/third_party/nanopb/pb.h:518:9: note: expanded from macro 'PB_FIELD'\r\n        PB_ ## rules ## _ ## allocation(tag, message, field, \\\r\n        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n<scratch space>:5:1: note: expanded from here\r\nPB_OPTIONAL_STATIC\r\n^\r\n/Volumes/BuildData/tmpfs/tmp/pear/install/grpc/third_party/nanopb/pb.h:414:5: note: expanded from macro 'PB_OPTIONAL_STATIC'\r\n    pb_membersize(st, m), 0, ptr}\r\n    ^~~~~~~~~~~~~~~~~~~~\r\n/Volumes/BuildData/tmpfs/tmp/pear/install/grpc/third_party/nanopb/pb.h:383:31: note: expanded from macro 'pb_membersize'\r\n#define pb_membersize(st, m) (sizeof ((st*)0)->m)\r\n                              ^~~~~~~~~~~~~~~~~~\r\n/Volumes/BuildData/tmpfs/tmp/pear/install/grpc/src/core/tsi/alts/handshaker/handshaker.pb.c:119:1: error: \r\n'pb_static_assertion_YOU_MUST_DEFINE_PB_FIELD_16BIT_FOR_MESSAGES_grpc_gcp_Endpoint_grpc_gcp_Identity_grpc_gcp_StartClientHandshakeReq_grpc_gcp_ServerHandshakeParameters_grpc_gcp_StartServerHandshakeReq_grpc_gcp_StartServerHandshakeReq_HandshakeParametersEntry_grpc_gcp_NextHandshakeMessageReq_grpc_gcp_HandshakerReq_grpc_gcp_HandshakerResult_grpc_gcp_HandshakerStatus_grpc_gcp_HandshakerResp1193' declared as an array with a negative size\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/375832632",
    "html_url": "https://github.com/grpc/grpc/issues/14760#issuecomment-375832632",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14760",
    "id": 375832632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTgzMjYzMg==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-24T00:38:36Z",
    "updated_at": "2018-03-24T00:43:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "I guess something added in [Makefile.template](https://github.com/grpc/grpc/blob/3287ceb06773ff3d7463a06c5f2dac742527135c/templates/Makefile.template#L224) should also be added into config.m4.template too. \r\nErrors like `implicit conversion from 'unsigned long' to 'pb_size_t'` seems strange to me because C-core doesn't report such error.\r\n@jtattermusch Do you know the easy way to test a PR without merging it on Kokoro? If so, can you please teach me? Currently I found that I must merge a PR before Kokoro start testing it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/375937352",
    "html_url": "https://github.com/grpc/grpc/issues/14760#issuecomment-375937352",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14760",
    "id": 375937352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTkzNzM1Mg==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-25T01:06:22Z",
    "updated_at": "2018-03-25T01:06:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can reproduce it locally.\r\nSeems this issue will block the next release of gRPC-PHP extension. I am working on solving it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376112083",
    "html_url": "https://github.com/grpc/grpc/issues/14760#issuecomment-376112083",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14760",
    "id": 376112083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjExMjA4Mw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-26T09:57:05Z",
    "updated_at": "2018-03-26T09:57:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "After #14798`:\r\n- macos distribtest now fails with: \r\nhttps://sponge.corp.google.com/target?id=46b07d99-8811-4773-ac86-fb398570af19&target=github/grpc&searchFor=&show=ALL&sortBy=STATUS\r\n\r\n- the problem is that under linux, the PHP distribtest is now more broken than before: \r\n```\r\nxargs sudo pecl install\r\nxargs: sudo: No such file or directory\r\n```\r\nThe reason is that `sudo` command doesn't exist in our docker images -   some adjustments of the `run_distrib_test.sh` script will be necessary."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376233350",
    "html_url": "https://github.com/grpc/grpc/issues/14760#issuecomment-376233350",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14760",
    "id": 376233350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjIzMzM1MA==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-26T16:47:10Z",
    "updated_at": "2018-03-26T16:55:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, @jtattermusch .\r\nThe new error in macOS is the same as in the #14761. I solved conflict in #14760, which should fix it. I can build successful locally in debian/ubuntu/macOS. Can we merge it to test if it works?\r\n\r\nWe need to revert #14798 . Sounds like we need to figure out how to solve the `Cannot install, php_dir for channel \"pecl.php.net\" is not writeable by the current user` issue without using `sudo`.\r\nCurrently what I can think to solve this issue are:\r\n\r\n- Still use sudo, but something like `(xargs sudo pecl install || true) && (xargs pecl install || true)` to make it work on both environment. Or only change the ownership of pecl destination like `(pecl config-get php_dir | xargs sudo chown root:root -R) || true`.\r\n\r\n- Change the pecl installation destination dir to somewhere writable on both environment. This will involve other changes like let PHP to load the extension from this directory.\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376246712",
    "html_url": "https://github.com/grpc/grpc/issues/14760#issuecomment-376246712",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14760",
    "id": 376246712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjI0NjcxMg==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-26T17:29:37Z",
    "updated_at": "2018-03-26T17:29:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @jtattermusch .Can I change [this line](https://github.com/grpc/grpc/blob/3d10d725b5c66179a990d3971a5227d55df7ce56/tools/run_tests/artifacts/distribtest_targets.py#L235) to pass an argument to it? Or create a new file like `run_distrib_test_macOS.sh` only for macOS?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376493807",
    "html_url": "https://github.com/grpc/grpc/issues/14760#issuecomment-376493807",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14760",
    "id": 376493807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjQ5MzgwNw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T11:40:18Z",
    "updated_at": "2018-03-27T11:40:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "The original issue is now fixed. There is now a newly introduced breakage, but it's the same as on linux."
  }
]
