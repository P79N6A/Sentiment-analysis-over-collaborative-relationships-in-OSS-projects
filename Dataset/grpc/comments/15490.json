[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390747381",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390747381",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390747381,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDc0NzM4MQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T18:50:44Z",
    "updated_at": "2018-05-21T18:50:44Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                            FILE SIZE\n ++++++++++++++ GROWING                                                                              ++++++++++++++\n  +0.1%    +444 [None]                                                                               +9.40Ki  +0.1%\n  +5.1%    +272 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc            +272  +5.1%\n      [NEW]    +874 on_hostbyname_done_under_ares_combiner                                                  +874  [NEW]\n      [NEW]    +575 on_txt_done_under_ares_combiner                                                         +575  [NEW]\n      [NEW]    +521 on_srv_query_done_under_ares_combiner                                                   +521  [NEW]\n      [NEW]    +468 grpc_ares_start_queries_under_ares_combiner                                             +468  [NEW]\n      +258%     +85 grpc_cancel_ares_request                                                                 +85  +258%\n      [NEW]     +78 create_hostbyname_request_under_ares_combiner                                            +78  [NEW]\n       +56%     +64 grpc_ares_request_unref                                                                  +64   +56%\n      [NEW]      +9 grpc_cancel_ares_request_under_ares_combiner                                              +9  [NEW]\n  +0.6%     +64 src/core/lib/iomgr/ev_epollex_linux.cc                                                   +64  +0.6%\n       +89%     +73 fd_shutdown                                                                              +73   +89%\n\n -------------- SHRINKING                                                                            --------------\n  -5.3%    -140 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc    -140  -5.3%\n      [DEL]   -1016 grpc_ares_notify_on_event_locked                                                       -1016  [DEL]\n      [DEL]    -327 on_readable_cb                                                                          -327  [DEL]\n      [DEL]    -227 on_writable_cb                                                                          -227  [DEL]\n      [DEL]    -203 fd_node_destroy                                                                         -203  [DEL]\n      [DEL]    -179 grpc_ares_ev_driver_shutdown                                                            -179  [DEL]\n      [DEL]     -53 grpc_ares_ev_driver_start                                                                -53  [DEL]\n      [DEL]     -47 grpc_ares_ev_driver_destroy                                                              -47  [DEL]\n\n  +0.0%    +640 TOTAL                                                                                +9.59Ki  +0.1%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390749435",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390749435",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390749435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDc0OTQzNQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T18:58:26Z",
    "updated_at": "2018-05-21T18:58:26Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390760483",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390760483",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390760483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDc2MDQ4Mw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T19:42:20Z",
    "updated_at": "2018-05-21T19:42:20Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390807025",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390807025",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390807025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDgwNzAyNQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T22:54:57Z",
    "updated_at": "2018-05-21T22:54:57Z",
    "author_association": "MEMBER",
    "body": "This is a good idea!  My main feedback here is that we should just use the existing client_channel combiner instead of creating a new one, since it will make a lot of things simpler.  Please let me know if you have any questions.\n\n---\n\nReviewed 12 of 12 files at r1.\nReview status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver.h, line 32 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3sefE9wB9gek0ryUx:-LD3sefE9wB9gek0ryUy:b-cqtoaz) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver.h#L32)):*\n> ```objc\n>    done, or grpc_ares_ev_driver_destroy() is called. It may notify the callbacks\n>    bound to its ares_channel when necessary. */\n> void grpc_ares_ev_driver_start_under_ares_combiner(\n> ```\n\nOur existing convention is to use the suffix `_locked()` for code that has to be run under a combiner.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 149 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3rlPj1NHcVyDRjhNg:-LD3rlPj1NHcVyDRjhNh:b-3vunms) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L149)):*\n> ```cpp\n>     return err;\n>   }\n>   (*ev_driver)->combiner = grpc_combiner_create();\n> ```\n\nWe already use the client_channel combiner for the c-ares resolver itself.  Let's plumb that down here instead of creating a separate combiner to use internally.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 260 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3tM9PEL2pxDV4M952:-LD3tM9PEL2pxDV4M953:bx59lsj) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L260)):*\n> ```cpp\n> }\n> \n> grpc_combiner* grpc_ares_ev_driver_get_combiner(\n> ```\n\nThis function will probably not be needed once we're using the client_channel combiner.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 160 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3tdDBBqddj4DsBCLh:-LD3tdDBBqddj4DsBCLi:b-us9fua) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L160)):*\n> ```cpp\n>     }\n>     GRPC_CLOSURE_SCHED(r->on_done, r->error);\n>     GRPC_CLOSURE_SCHED(\n> ```\n\nI suspect that once we're using the client_channel combiner, there will be no cases where we call this when we're not already holding the combiner, so there's no need to explicitly bounce into it.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 379 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3to5R9QJVBUgzjs-u:-LD3to5R9QJVBUgzjs-v:b-xk2tpe) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L379)):*\n> ```cpp\n> }\n> \n> typedef struct grpc_ares_start_queries_under_ares_combiner_args {\n> ```\n\nSame here: if everything in the c-ares resolver runs under the same combiner, then there's no need to jump through hoops to re-enter the combiner.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 553 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3txeD0o-wxgXDBZo7:-LD3txeECZ30B3GVkgYY:bl3cupf) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L553)):*\n> ```cpp\n> void grpc_cancel_ares_request(grpc_ares_request* r) {\n>   if (grpc_dns_lookup_ares == grpc_dns_lookup_ares_impl) {\n>     GRPC_CLOSURE_SCHED(GRPC_CLOSURE_CREATE(\n> ```\n\nSame here: there should be no need to re-enter the combiner, because we should already be in it.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15490#-:-LD3uDOo6neGJA5nS03K:b-7wdbxn)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390817276",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390817276",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390817276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDgxNzI3Ng==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T23:40:26Z",
    "updated_at": "2018-05-21T23:40:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 149 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3rlPj1NHcVyDRjhNg:-LD40RwD3rGa5ExcvIBJ:b-lyl185) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L149)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nWe already use the client_channel combiner for the c-ares resolver itself.  Let's plumb that down here instead of creating a separate combiner to use internally.\n</blockquote></details>\n\nI'd really like to use the client channel combiner for this, actually the only reason I didn't is because that plumbing seemed a little tricky:\n\nIt seems the issue is that `grpc_resolve_address_ares` needs to conform to the standard `grpc_address_resolver_vtable` interface, but this has no place for a combiner.\nOn the client side, things are simple because the c-ares `Resolver` bypasses that `grpc_resolve_address_ares_impl` and goes straight to the `grpc_dns_lookup_ares` API, which we can modify to take a combiner. To get this to work also with the `grpc_resolve_address_ares_impl` API, I think the only way is for `grpc_dns_lookup_ares` to take a combiner as a parameter. Perhaps the client can pass its `client_channel` combiner, and the `grpc_resolve_address_ares_impl` API can create and destruct its own.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15490)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390905606",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390905606",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390905606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDkwNTYwNg==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T08:25:06Z",
    "updated_at": "2018-05-22T08:25:06Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                          FILE SIZE\n ++++++++++++++ GROWING                                                                            ++++++++++++++\n  +0.0%    +244 [None]                                                                             +6.93Ki  +0.1%\n      +0.0%    +244 [Unmapped]                                                                         +6.93Ki  +0.1%\n      [NEW]      +8 grpc_dns_lookup_ares_locked                                                             +8  [NEW]\n  +1.8%     +96 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc           +96  +1.8%\n      [NEW] +1.44Ki grpc_dns_lookup_ares_locked_impl                                                   +1.44Ki  [NEW]\n      [NEW]    +874 on_hostbyname_done_locked                                                             +874  [NEW]\n      [NEW]    +575 on_txt_done_locked                                                                    +575  [NEW]\n      [NEW]    +521 on_srv_query_done_locked                                                              +521  [NEW]\n      +112%    +125 grpc_resolve_address_ares_impl                                                        +125  +112%\n      [NEW]     +98 grpc_ares_request_unref_locked                                                         +98  [NEW]\n      [NEW]     +78 create_hostbyname_request_locked                                                       +78  [NEW]\n      [NEW]     +64 grpc_resolve_address_invoke_dns_lookup_ares_locked                                     +64  [NEW]\n      +2.2%      +8 on_dns_lookup_done_cb                                                                   +8  +2.2%\n      +3.8%      +4 [Unmapped]                                                                              +4  +3.8%\n  +0.6%     +64 src/core/lib/iomgr/ev_epollex_linux.cc                                                 +64  +0.6%\n       +89%     +73 fd_shutdown                                                                            +73   +89%\n  +0.4%     +16 src/core/ext/filters/client_channel/resolver/dns/c_ares/dns_resolver_ares.cc           +16  +0.4%\n      +6.1%      +8 [Unmapped]                                                                              +8  +6.1%\n      +3.4%      +8 grpc_core::(anonymous namespace)::AresDnsResolver::StartResolvingLocked                 +8  +3.4%\n\n -------------- SHRINKING                                                                          --------------\n  -5.3%    -140 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.    -140  -5.3%\n      [DEL]    -327 on_readable_cb                                                                        -327  [DEL]\n      [DEL]    -285 grpc_ares_ev_driver_create                                                            -285  [DEL]\n      [DEL]    -227 on_writable_cb                                                                        -227  [DEL]\n      [DEL]    -203 fd_node_destroy                                                                       -203  [DEL]\n     -18.1%    -184 grpc_ares_notify_on_event_locked                                                      -184 -18.1%\n      [DEL]    -179 grpc_ares_ev_driver_shutdown                                                          -179  [DEL]\n      [DEL]     -53 grpc_ares_ev_driver_start                                                              -53  [DEL]\n      [DEL]     -47 grpc_ares_ev_driver_destroy                                                            -47  [DEL]\n\n  +0.0%    +280 TOTAL                                                                              +6.96Ki  +0.1%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390906254",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390906254",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390906254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDkwNjI1NA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T08:27:24Z",
    "updated_at": "2018-05-22T08:27:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver.h, line 32 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3sefE9wB9gek0ryUx:-LD5xKdeAcY9fosB62Rl:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver.h#L32)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nOur existing convention is to use the suffix `_locked()` for code that has to be run under a combiner.\n</blockquote></details>\n\nDone.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 149 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3rlPj1NHcVyDRjhNg:-LD5wlqFBTjVZKFh2jUe:bc9hdij) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L149)):*\n<details><summary><i>Previously, apolcyn wrote…</i></summary><blockquote>\n\nI'd really like to use the client channel combiner for this, actually the only reason I didn't is because that plumbing seemed a little tricky:\n\nIt seems the issue is that `grpc_resolve_address_ares` needs to conform to the standard `grpc_address_resolver_vtable` interface, but this has no place for a combiner.\nOn the client side, things are simple because the c-ares `Resolver` bypasses that `grpc_resolve_address_ares_impl` and goes straight to the `grpc_dns_lookup_ares` API, which we can modify to take a combiner. To get this to work also with the `grpc_resolve_address_ares_impl` API, I think the only way is for `grpc_dns_lookup_ares` to take a combiner as a parameter. Perhaps the client can pass its `client_channel` combiner, and the `grpc_resolve_address_ares_impl` API can create and destruct its own.\n</blockquote></details>\n\nI've updated to plumb the client channel's combiner into the c-ares lookup in the latest commit. For the `grpc_resolve_address` API, there's a thin wrapper that creates and destroys its own wrapper (I guess just for the http client).\n\nThis PR now  consists of the latest two commits, let me know if it makes it more reviewable to squash these two.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 260 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3tM9PEL2pxDV4M952:-LD5wctG7wehJafF03r4:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L260)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nThis function will probably not be needed once we're using the client_channel combiner.\n</blockquote></details>\n\nDone.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 160 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3tdDBBqddj4DsBCLh:-LD5wjdE6UXHPQNDXMb0:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L160)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nI suspect that once we're using the client_channel combiner, there will be no cases where we call this when we're not already holding the combiner, so there's no need to explicitly bounce into it.\n</blockquote></details>\n\nDone.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 379 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3to5R9QJVBUgzjs-u:-LD5whZR1dbcsqZllBw4:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L379)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nSame here: if everything in the c-ares resolver runs under the same combiner, then there's no need to jump through hoops to re-enter the combiner.\n</blockquote></details>\n\nDone.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 553 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3txeD0o-wxgXDBZo7:-LD5wf6t35QwGbOXu3rE:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L553)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nSame here: there should be no need to re-enter the combiner, because we should already be in it.\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15490)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390906768",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390906768",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390906768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDkwNjc2OA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T08:29:05Z",
    "updated_at": "2018-05-22T08:29:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: all files reviewed at latest revision, 6 unresolved discussions, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 149 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3rlPj1NHcVyDRjhNg:-LD5xmaIB02GnrLzompV:b7vjp1j) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L149)):*\n> creates and destroys its own wrapper\n*creates and destroys its own combiner\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15490)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390907389",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390907389",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390907389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDkwNzM4OQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T08:31:08Z",
    "updated_at": "2018-05-22T08:31:08Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390921209",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-390921209",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 390921209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDkyMTIwOQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T09:16:31Z",
    "updated_at": "2018-05-22T09:16:31Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391019491",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-391019491",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 391019491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTAxOTQ5MQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-22T14:50:24Z",
    "updated_at": "2018-05-22T14:50:24Z",
    "author_association": "MEMBER",
    "body": "\n\n\n\nReviewed 10 of 10 files at r2.\nReview status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 149 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3rlPj1NHcVyDRjhNg:-LD7JOXm96hlJnukzj3T:b-sluoaz) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L149)):*\n<details><summary><i>Previously, apolcyn wrote…</i></summary><blockquote>\n\n> creates and destroys its own wrapper\n*creates and destroys its own combiner\n</blockquote></details>\n\nThat's exactly what I was going to suggest.  Nice work.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 260 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3tM9PEL2pxDV4M952:-LD7JdxQ7DLrjWGf9nuQ:b-tsofp) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L260)):*\n<details><summary><i>Previously, apolcyn wrote…</i></summary><blockquote>\n\nDone.\n</blockquote></details>\n\nLooks like this still needs to be removed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 480 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7GvJl3mbNmVLggb3a:-LD7GvJl3mbNmVLggb3b:b8wyne3) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L480)):*\n> ```cpp\n>     gpr_free(config_name);\n>   }\n>   /* TODO(zyc): Handle CNAME records here. */\n> ```\n\nNot related to this PR, but I think this TODO is obsolete and can be removed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 572 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7IUw53cSuA8SChTeS:-LD7IUw53cSuA8SChTeT:b-yvzofi) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L572)):*\n> ```cpp\n> }\n> \n> typedef struct grpc_resolve_address_invoke_dns_lookup_ares_locked_args {\n> ```\n\nCan we combine this with the existing `grpc_resolve_address_ares_request` struct, so that we don't need to allocate twice for the same operation?\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 573 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7Ii0T81wpJLphuvvA:-LD7Ii0T81wpJLphuvvB:b-d13tbq) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L573)):*\n> ```cpp\n> \n> typedef struct grpc_resolve_address_invoke_dns_lookup_ares_locked_args {\n>   const char* dns_server;\n> ```\n\nThis field isn't needed, because it's always null.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 579 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7IkYHEtfvSUxYEgM8:-LD7IkYHEtfvSUxYEgM9:b-h2o1qr) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L579)):*\n> ```cpp\n>   grpc_closure* on_done;\n>   grpc_lb_addresses** addrs;\n>   bool check_grpclb;\n> ```\n\nThe grpclb and service config fields aren't needed, because we never do those lookups in this code path.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15490)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391214600",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-391214600",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 391214600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTIxNDYwMA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-23T04:13:30Z",
    "updated_at": "2018-05-23T04:13:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: all files reviewed at latest revision, 5 unresolved discussions, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 149 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3rlPj1NHcVyDRjhNg:-LDABYNuEmigiK7GTand:bf2m8om) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L149)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nThat's exactly what I was going to suggest.  Nice work.\n</blockquote></details>\n\ncool! thanks\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 260 at r1](https://reviewable.io/reviews/grpc/grpc/15490#-LD3tM9PEL2pxDV4M952:-LDA6S0S1kwCfugmKbU9:bpzosah) ([raw file](https://github.com/grpc/grpc/blob/2509e49201d8d06f086eca6655aef79e9f3b945f/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L260)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nLooks like this still needs to be removed.\n</blockquote></details>\n\nwhoops, now done\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 480 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7GvJl3mbNmVLggb3a:-LDA6XuC3yXbjUlSe3NU:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L480)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nNot related to this PR, but I think this TODO is obsolete and can be removed.\n</blockquote></details>\n\nDone.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 572 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7IUw53cSuA8SChTeS:-LDABNtX4fRfUNnCZ9TJ:bv8hkpo) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L572)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nCan we combine this with the existing `grpc_resolve_address_ares_request` struct, so that we don't need to allocate twice for the same operation?\n</blockquote></details>\n\nGood point, done, a lot of the fields in the `grpc_resolve_address_ares_request` can be used directly as they are currently this way.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 573 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7Ii0T81wpJLphuvvA:-LDAAfKf5Iyi9jMuYzv9:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L573)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nThis field isn't needed, because it's always null.\n</blockquote></details>\n\nDone.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc, line 579 at r2](https://reviewable.io/reviews/grpc/grpc/15490#-LD7IkYHEtfvSUxYEgM8:-LDAAfse8j1J_MF2hs7O:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/b2096386b619396ff1b6a590ee113fd4f608c1bb/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc#L579)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nThe grpclb and service config fields aren't needed, because we never do those lookups in this code path.\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15490)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391214712",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-391214712",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 391214712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTIxNDcxMg==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-23T04:14:26Z",
    "updated_at": "2018-05-23T04:14:26Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                          FILE SIZE\n ++++++++++++++ GROWING                                                                            ++++++++++++++\n  +0.0%    +124 [None]                                                                             +6.43Ki  +0.1%\n      +0.0%    +124 [Unmapped]                                                                         +6.43Ki  +0.1%\n      [NEW]      +8 grpc_dns_lookup_ares_locked                                                             +8  [NEW]\n  +0.6%     +64 src/core/lib/iomgr/ev_epollex_linux.cc                                                 +64  +0.6%\n       +89%     +73 fd_shutdown                                                                            +73   +89%\n  +0.6%     +32 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc           +32  +0.6%\n      [NEW] +1.44Ki grpc_dns_lookup_ares_locked_impl                                                   +1.44Ki  [NEW]\n      [NEW]    +874 on_hostbyname_done_locked                                                             +874  [NEW]\n      [NEW]    +575 on_txt_done_locked                                                                    +575  [NEW]\n      [NEW]    +521 on_srv_query_done_locked                                                              +521  [NEW]\n      [NEW]     +98 grpc_ares_request_unref_locked                                                         +98  [NEW]\n      [NEW]     +78 create_hostbyname_request_locked                                                       +78  [NEW]\n       +63%     +71 grpc_resolve_address_ares_impl                                                         +71   +63%\n      [NEW]     +46 grpc_resolve_address_invoke_dns_lookup_ares_locked                                     +46  [NEW]\n       +11%     +12 [Unmapped]                                                                             +12   +11%\n      +2.2%      +8 on_dns_lookup_done_cb                                                                   +8  +2.2%\n  +0.4%     +16 src/core/ext/filters/client_channel/resolver/dns/c_ares/dns_resolver_ares.cc           +16  +0.4%\n      +6.1%      +8 [Unmapped]                                                                              +8  +6.1%\n      +3.4%      +8 grpc_core::(anonymous namespace)::AresDnsResolver::StartResolvingLocked                 +8  +3.4%\n\n -------------- SHRINKING                                                                          --------------\n  -5.9%    -156 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.    -156  -5.9%\n      [DEL]    -327 on_readable_cb                                                                        -327  [DEL]\n      [DEL]    -285 grpc_ares_ev_driver_create                                                            -285  [DEL]\n      [DEL]    -227 on_writable_cb                                                                        -227  [DEL]\n      [DEL]    -203 fd_node_destroy                                                                       -203  [DEL]\n     -18.1%    -184 grpc_ares_notify_on_event_locked                                                      -184 -18.1%\n      [DEL]    -179 grpc_ares_ev_driver_shutdown                                                          -179  [DEL]\n      [DEL]     -53 grpc_ares_ev_driver_start                                                              -53  [DEL]\n      [DEL]     -47 grpc_ares_ev_driver_destroy                                                            -47  [DEL]\n\n  +0.0%     +80 TOTAL                                                                              +6.39Ki  +0.1%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391215750",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-391215750",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 391215750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTIxNTc1MA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-23T04:22:18Z",
    "updated_at": "2018-05-23T04:22:18Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391221675",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-391221675",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 391221675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTIyMTY3NQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-23T05:06:54Z",
    "updated_at": "2018-05-23T05:06:54Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391740866",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-391740866",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 391740866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTc0MDg2Ng==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-24T14:43:52Z",
    "updated_at": "2018-05-24T14:43:52Z",
    "author_association": "MEMBER",
    "body": "This looks great!  I'll approve once the prerequisite PR goes in and changes are merged into this one.\n\n---\n\nReviewed 2 of 2 files at r3.\nReview status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.\n\n---\n\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15490#-:-LDHahD53yUwKq4DtWMU:baspve9)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394528202",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-394528202",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 394528202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDUyODIwMg==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T23:06:53Z",
    "updated_at": "2018-06-04T23:06:53Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                          FILE SIZE\n ++++++++++++++ GROWING                                                                            ++++++++++++++\n  +0.4%     +48 src/core/lib/iomgr/ev_epollex_linux.cc                                                 +48  +0.4%\n      [NEW]    +177 fd_orphan                                                                             +177  [NEW]\n       +89%     +73 fd_shutdown                                                                            +73   +89%\n      +1.0%      +3 [Unmapped]                                                                              +3  +1.0%\n  +0.6%     +32 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc           +32  +0.6%\n      [NEW] +1.44Ki grpc_dns_lookup_ares_locked_impl                                                   +1.44Ki  [NEW]\n      [NEW]    +874 on_hostbyname_done_locked                                                             +874  [NEW]\n      [NEW]    +575 on_txt_done_locked                                                                    +575  [NEW]\n      [NEW]    +521 on_srv_query_done_locked                                                              +521  [NEW]\n      [NEW]     +98 grpc_ares_request_unref_locked                                                         +98  [NEW]\n      [NEW]     +78 create_hostbyname_request_locked                                                       +78  [NEW]\n       +63%     +71 grpc_resolve_address_ares_impl                                                         +71   +63%\n      [NEW]     +46 grpc_resolve_address_invoke_dns_lookup_ares_locked                                     +46  [NEW]\n       +11%     +12 [Unmapped]                                                                             +12   +11%\n      +2.2%      +8 on_dns_lookup_done_cb                                                                   +8  +2.2%\n  +0.4%     +16 src/core/ext/filters/client_channel/resolver/dns/c_ares/dns_resolver_ares.cc           +16  +0.4%\n      +6.1%      +8 [Unmapped]                                                                              +8  +6.1%\n      +3.4%      +8 grpc_core::(anonymous namespace)::AresDnsResolver::StartResolvingLocked                 +8  +3.4%\n\n -------------- SHRINKING                                                                          --------------\n -11.9%    -316 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.    -316 -11.9%\n      [DEL]    -327 on_readable_cb                                                                        -327  [DEL]\n      [DEL]    -285 grpc_ares_ev_driver_create                                                            -285  [DEL]\n      [DEL]    -227 on_writable_cb                                                                        -227  [DEL]\n      [DEL]    -203 fd_node_destroy                                                                       -203  [DEL]\n      [DEL]    -179 grpc_ares_ev_driver_shutdown                                                          -179  [DEL]\n      [DEL]     -53 grpc_ares_ev_driver_start                                                              -53  [DEL]\n      [DEL]     -47 grpc_ares_ev_driver_destroy                                                            -47  [DEL]\n      [DEL]      -4 grpc_ares_ev_driver_get_channel                                                         -4  [DEL]\n  -0.3%     -32 src/core/lib/iomgr/ev_poll_posix.cc                                                    -32  -0.3%\n      [DEL]    -364 fd_orphan                                                                             -364  [DEL]\n  -0.2%     -16 src/core/lib/iomgr/ev_epollsig_linux.cc                                                -16  -0.2%\n      [DEL]    -656 fd_orphan                                                                             -656  [DEL]\n  -0.5%     -16 src/core/lib/iomgr/tcp_client_posix.cc                                                 -16  -0.5%\n      -1.2%     -16 on_writable                                                                            -16  -1.2%\n  -0.2%     -16 src/core/lib/iomgr/tcp_posix.cc                                                        -16  -0.2%\n      -7.4%     -14 [Unmapped]                                                                             -14  -7.4%\n      -2.0%      -2 tcp_unref                                                                               -2  -2.0%\n  -0.3%     -16 src/core/lib/iomgr/tcp_server_posix.cc                                                 -16  -0.3%\n      -6.4%     -16 deactivated_all_ports                                                                  -16  -6.4%\n\n -+-+-+-+-+-+-+ MIXED                                                                              +-+-+-+-+-+-+-\n  +0.0%     +52 [None]                                                                             -2.31Ki  -0.0%\n      [NEW]      +8 grpc_dns_lookup_ares_locked                                                             +8  [NEW]\n      [DEL]      -8 grpc_dns_lookup_ares                                                                    -8  [DEL]\n\n  -0.0%    -264 TOTAL                                                                              -2.62Ki  -0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394529547",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-394529547",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 394529547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDUyOTU0Nw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T23:14:47Z",
    "updated_at": "2018-06-04T23:14:47Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394537166",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-394537166",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 394537166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDUzNzE2Ng==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T23:59:06Z",
    "updated_at": "2018-06-04T23:59:06Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394824122",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-394824122",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 394824122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDgyNDEyMg==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T19:03:58Z",
    "updated_at": "2018-06-05T19:03:58Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                          FILE SIZE\n ++++++++++++++ GROWING                                                                            ++++++++++++++\n  +0.0%     +68 [None]                                                                             +2.37Ki  +0.0%\n      +0.0%     +68 [Unmapped]                                                                         +2.37Ki  +0.0%\n      [NEW]      +8 grpc_dns_lookup_ares_locked                                                             +8  [NEW]\n  +0.6%     +64 src/core/lib/iomgr/ev_epollex_linux.cc                                                 +64  +0.6%\n       +89%     +73 fd_shutdown                                                                            +73   +89%\n  +0.6%     +32 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc           +32  +0.6%\n      [NEW] +1.44Ki grpc_dns_lookup_ares_locked_impl                                                   +1.44Ki  [NEW]\n      [NEW]    +874 on_hostbyname_done_locked                                                             +874  [NEW]\n      [NEW]    +575 on_txt_done_locked                                                                    +575  [NEW]\n      [NEW]    +521 on_srv_query_done_locked                                                              +521  [NEW]\n      [NEW]     +98 grpc_ares_request_unref_locked                                                         +98  [NEW]\n      [NEW]     +78 create_hostbyname_request_locked                                                       +78  [NEW]\n       +63%     +71 grpc_resolve_address_ares_impl                                                         +71   +63%\n      [NEW]     +46 grpc_resolve_address_invoke_dns_lookup_ares_locked                                     +46  [NEW]\n       +11%     +12 [Unmapped]                                                                             +12   +11%\n      +2.2%      +8 on_dns_lookup_done_cb                                                                   +8  +2.2%\n  +0.4%     +16 src/core/ext/filters/client_channel/resolver/dns/c_ares/dns_resolver_ares.cc           +16  +0.4%\n      +6.1%      +8 [Unmapped]                                                                              +8  +6.1%\n      +3.4%      +8 grpc_core::(anonymous namespace)::AresDnsResolver::StartResolvingLocked                 +8  +3.4%\n\n -------------- SHRINKING                                                                          --------------\n -11.3%    -300 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.    -300 -11.3%\n      [DEL]    -327 on_readable_cb                                                                        -327  [DEL]\n      [DEL]    -285 grpc_ares_ev_driver_create                                                            -285  [DEL]\n      [DEL]    -227 on_writable_cb                                                                        -227  [DEL]\n      [DEL]    -203 fd_node_destroy                                                                       -203  [DEL]\n      [DEL]    -179 grpc_ares_ev_driver_shutdown                                                          -179  [DEL]\n      [DEL]     -53 grpc_ares_ev_driver_start                                                              -53  [DEL]\n      [DEL]     -47 grpc_ares_ev_driver_destroy                                                            -47  [DEL]\n      [DEL]      -4 grpc_ares_ev_driver_get_channel                                                         -4  [DEL]\n\n  -0.0%    -120 TOTAL                                                                              +2.19Ki  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394826781",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-394826781",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 394826781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDgyNjc4MQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T19:12:35Z",
    "updated_at": "2018-06-05T19:12:35Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394839451",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-394839451",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 394839451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDgzOTQ1MQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T19:55:52Z",
    "updated_at": "2018-06-05T19:55:52Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397030175",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-397030175",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 397030175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzAzMDE3NQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T18:00:04Z",
    "updated_at": "2018-06-13T18:00:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "rebased to fix the merge conflict"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397031131",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-397031131",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 397031131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzAzMTEzMQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T18:03:03Z",
    "updated_at": "2018-06-13T18:03:03Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                        FILE SIZE\n ++++++++++++++ GROWING                                                                          ++++++++++++++\n  +0.0%     +76 [None]                                                                           +1.46Ki  +0.0%\n      +0.0%     +76 [Unmapped]                                                                       +1.46Ki  +0.0%\n      [NEW]      +8 grpc_dns_lookup_ares_locked                                                           +8  [NEW]\n  +0.6%     +32 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_wrapper.cc         +32  +0.6%\n      [NEW] +1.44Ki grpc_dns_lookup_ares_locked_impl                                                 +1.44Ki  [NEW]\n      [NEW]    +874 on_hostbyname_done_locked                                                           +874  [NEW]\n      [NEW]    +575 on_txt_done_locked                                                                  +575  [NEW]\n      [NEW]    +521 on_srv_query_done_locked                                                            +521  [NEW]\n      [NEW]     +98 grpc_ares_request_unref_locked                                                       +98  [NEW]\n      [NEW]     +78 create_hostbyname_request_locked                                                     +78  [NEW]\n       +63%     +71 grpc_resolve_address_ares_impl                                                       +71   +63%\n      [NEW]     +46 grpc_resolve_address_invoke_dns_lookup_ares_locked                                   +46  [NEW]\n       +11%     +12 [Unmapped]                                                                           +12   +11%\n      +2.2%      +8 on_dns_lookup_done_cb                                                                 +8  +2.2%\n  +0.4%     +16 src/core/ext/filters/client_channel/resolver/dns/c_ares/dns_resolver_ares.cc         +16  +0.4%\n      +6.1%      +8 [Unmapped]                                                                            +8  +6.1%\n      +3.4%      +8 grpc_core::(anonymous namespace)::AresDnsResolver::StartResolvingLocked               +8  +3.4%\n\n -------------- SHRINKING                                                                        --------------\n -12.5%    -332 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posi    -332 -12.5%\n      [DEL]    -349 grpc_ares_ev_driver_create                                                          -349  [DEL]\n      [DEL]    -258 on_readable_cb                                                                      -258  [DEL]\n      [DEL]    -171 on_writable_cb                                                                      -171  [DEL]\n     -12.5%    -154 grpc_ares_notify_on_event_locked                                                    -154 -12.5%\n      [DEL]    -130 grpc_ares_ev_driver_shutdown                                                        -130  [DEL]\n      [DEL]     -53 grpc_ares_ev_driver_start                                                            -53  [DEL]\n      [DEL]     -47 grpc_ares_ev_driver_destroy                                                          -47  [DEL]\n      [DEL]      -4 grpc_ares_ev_driver_get_channel                                                       -4  [DEL]\n\n  -0.0%    -208 TOTAL                                                                            +1.18Ki  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397033601",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-397033601",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 397033601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzAzMzYwMQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T18:10:23Z",
    "updated_at": "2018-06-13T18:10:23Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397047504",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-397047504",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 397047504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzA0NzUwNA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T18:54:19Z",
    "updated_at": "2018-06-13T18:54:19Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397078868",
    "html_url": "https://github.com/grpc/grpc/pull/15490#issuecomment-397078868",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15490",
    "id": 397078868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzA3ODg2OA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T20:40:39Z",
    "updated_at": "2018-06-13T20:48:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "test failures look unrelated:\r\n* macos opt basic tests: https://github.com/grpc/grpc/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+resolve_address_test\r\n* basic tests c linux opt: https://github.com/grpc/grpc/issues/13727\r\n\r\n```\r\n2018-06-13 11:21:44,047 FATAL: 2018/06/13 18:21:43 &{0xc42026a080}.Recv() = _, rpc error: code = Canceled desc = stream terminated by RST_STREAM with error code: CANCEL, want error code 4\r\nexit status 1\r\n\r\n2018-06-13 11:21:44,048 FAILED: cloud_to_cloud:go:java_server:timeout_on_sleeping_server [ret=1, pid=5975, time=2.1sec]\r\n```\r\n\r\ninterop failure"
  }
]
