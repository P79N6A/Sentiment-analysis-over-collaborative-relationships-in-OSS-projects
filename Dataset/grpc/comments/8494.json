[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/256166184",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-256166184",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 256166184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjE2NjE4NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-25T20:29:49Z",
    "updated_at": "2016-10-25T20:29:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "CC @matt-kwong \n\n(and sorry for typos in the issue name)\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/257753129",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-257753129",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 257753129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Nzc1MzEyOQ==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-02T02:09:54Z",
    "updated_at": "2016-11-02T02:09:54Z",
    "author_association": "MEMBER",
    "body": "Thanks for [the link](https://grpc-testing.appspot.com/job/gRPC_master_linux/241/testReport/%28root%29/aggregate_tests/) but [it doesn't offer too much insight into what's going on](https://grpc-testing.appspot.com/job/gRPC_master_linux/241/testReport/%28root%29/aggregate_tests/run_tests_python_linux_dbg/). How much more can you tell us about what they're doing in the thirty minutes during which they're running? They should be running in parallel; do we know that they are? Is any of that thirty minutes spent in [`build_python.sh`](https://github.com/grpc/grpc/blob/master/tools/run_tests/build_python.sh), and if so how much? What's the \"long pole\" that if it were to be improved would most reduce the overall time?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/257755697",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-257755697",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 257755697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Nzc1NTY5Nw==",
    "user": {
      "login": "soltanmm-google",
      "id": 21180148,
      "node_id": "MDQ6VXNlcjIxMTgwMTQ4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21180148?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm-google",
      "html_url": "https://github.com/soltanmm-google",
      "followers_url": "https://api.github.com/users/soltanmm-google/followers",
      "following_url": "https://api.github.com/users/soltanmm-google/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm-google/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm-google/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm-google/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm-google/orgs",
      "repos_url": "https://api.github.com/users/soltanmm-google/repos",
      "events_url": "https://api.github.com/users/soltanmm-google/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm-google/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-02T02:30:33Z",
    "updated_at": "2016-11-02T02:30:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is `ccache` still being made available to the tests? Or was that removed?\n\n(re-enabling ccache would be easier than rewriting to build using, say, `waf` to get a parallel build going)\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/258027487",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-258027487",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 258027487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODAyNzQ4Nw==",
    "user": {
      "login": "soltanmm-google",
      "id": 21180148,
      "node_id": "MDQ6VXNlcjIxMTgwMTQ4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21180148?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm-google",
      "html_url": "https://github.com/soltanmm-google",
      "followers_url": "https://api.github.com/users/soltanmm-google/followers",
      "following_url": "https://api.github.com/users/soltanmm-google/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm-google/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm-google/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm-google/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm-google/orgs",
      "repos_url": "https://api.github.com/users/soltanmm-google/repos",
      "events_url": "https://api.github.com/users/soltanmm-google/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm-google/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-02T23:12:27Z",
    "updated_at": "2016-11-02T23:12:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Some timing data:\n\n```\n# Build w/o ccache\n./tools/run_tests/build_python.sh  300.15s user 39.94s system 97% cpu 5:49.95 total\n\n# Build w/ ccache\n./tools/run_tests/build_python.sh  30.86s user 14.90s system 83% cpu 54.879 total\n\n# Running Python tests (single job)\n./tools/run_tests/run_python.sh  112.37s user 59.98s system 69% cpu 4:06.91 total\n\n# Tests vs. test-end lag\n2:31.61 total (just tests)\n./tools/run_tests/run_python.sh  110.28s user 60.12s system 76% cpu 3:42.85 total\n\n# Approximate expected build + run time\nless than 12 minutes w/o ccache, less than 6 minutes w/ ccache\n\n# run_tests w/o ccache\n./tools/run_tests/run_tests.py -l python  886.71s user 191.92s system 144% cpu 12:28.24 total\n\n# run_tests w/ ccache\n./tools/run_tests/run_tests.py -l python  444.57s user 152.70s system 235% cpu 4:13.25 total\n\n# run_tests python, docker, in sequence\n./tools/run_tests/run_tests.py --use_docker -l python  0.22s user 0.15s system 0% cpu 15:17.39 total\n./tools/run_tests/run_tests.py --use_docker -l python  0.18s user 0.12s system 0% cpu 3:31.19 total\n\n# run_tests ruby, docker, in sequence (for comparison)\n./tools/run_tests/run_tests.py --use_docker -l ruby  0.38s user 0.18s system 0% cpu 12:11.64 total\n./tools/run_tests/run_tests.py --use_docker -l ruby  0.19s user 0.13s system 0% cpu 2:44.24 total\n```\n\nPython doesn't appear to be unreasonably slow. I posit that either Jenkins is doing something wonky that's making Python slow, or that something else has changed. In either case, I'm questioning whether or not this is further actionable without diving into Jenkins.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/258807177",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-258807177",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 258807177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODgwNzE3Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T11:03:08Z",
    "updated_at": "2016-11-07T11:03:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@soltanmm-google   how did you obtain the data? Running locally on your workstation? \n\nalso, what -j value has been used for run_tests.py?    If you run locally on your workstation I think you end up with -j 12 (= core count).\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/258808074",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-258808074",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 258808074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODgwODA3NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T11:07:22Z",
    "updated_at": "2016-11-07T11:07:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Does python have many long-lived tests? If so, tweaking the -j  value in our config could have a positive effect on the total running time.\n\nCC @matt-kwong \n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/258945331",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-258945331",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 258945331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODk0NTMzMQ==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T19:59:17Z",
    "updated_at": "2016-11-07T19:59:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "I adjusted the test parallelism values to have Linux basic tests run in about 30 mins, although this doesn't affect Python specifically. I think a large reason Python tests take longer to run than other languages is that each individual test takes at ~30 seconds to run as seen here: https://grpc-testing.appspot.com/job/gRPC_master_linux/400/testReport/(root)/python_linux_dbg/. Every other language has tests finishing in < 1 second, so perhaps the slow tests issue is related to this. \n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/258992377",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-258992377",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 258992377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODk5MjM3Nw==",
    "user": {
      "login": "soltanmm-google",
      "id": 21180148,
      "node_id": "MDQ6VXNlcjIxMTgwMTQ4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21180148?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm-google",
      "html_url": "https://github.com/soltanmm-google",
      "followers_url": "https://api.github.com/users/soltanmm-google/followers",
      "following_url": "https://api.github.com/users/soltanmm-google/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm-google/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm-google/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm-google/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm-google/orgs",
      "repos_url": "https://api.github.com/users/soltanmm-google/repos",
      "events_url": "https://api.github.com/users/soltanmm-google/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm-google/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T23:05:24Z",
    "updated_at": "2016-11-07T23:05:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "We do have a number of tests that can take on the order of tens of seconds to finish (on my workstation). There does also exist at least one perma-hang somewhere in `_rpc_test.py` (which is being heisenbuggy much to my chagrin), but that'd result in a test timeout instead of the tests just being slow.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/259088667",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-259088667",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 259088667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTA4ODY2Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-08T09:33:51Z",
    "updated_at": "2016-11-08T09:33:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@matt-kwong   perhaps it makes sense to set -j  (a.k.a. _INNER_JOBS from run_tests_matrix.py) to a higher number specifically for python? Ideally, what we would want is to set parallelism just for running the tests (not for building), but I think increasing -j  for python will do the job just fine.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/259548284",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-259548284",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 259548284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTU0ODI4NA==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-09T22:43:40Z",
    "updated_at": "2016-11-09T22:43:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I already have _INNER_JOBS set to 150, which is pretty good imo for balancing test speed and not killing the workers. In fact, I think there might be test flakiness involved with a high _INNER_JOBS, but this is a completely separate issue I'm investigating.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/259638102",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-259638102",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 259638102,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTYzODEwMg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-10T09:10:16Z",
    "updated_at": "2016-11-10T09:10:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Clearly a matter of opinion, but I'd expect 150 to be way to high (because\nthis might also run `make -j 150` which is a bit crazy). I'd expect ~20 to\nbehave nicely. But yeah, let's use data and not guesses.\n\nOn Wed, Nov 9, 2016 at 11:43 PM, matt-kwong notifications@github.com\nwrote:\n\n> I already have _INNER_JOBS set to 150, which is pretty good imo for\n> balancing test speed and not killing the workers. In fact, I think there\n> might be test flakiness involved with a high _INNER_JOBS, but this is a\n> completely separate issue I'm investigating.\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/grpc/grpc/issues/8494#issuecomment-259548284, or mute\n> the thread\n> https://github.com/notifications/unsubscribe-auth/AJeq5AIzhd6JnlZG2ylmBpL7FkYNQLoNks5q8kymgaJpZM4KgckK\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/259805639",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-259805639",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 259805639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTgwNTYzOQ==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-10T20:58:36Z",
    "updated_at": "2016-11-10T20:58:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was benchmarking testing times against CPU usage on VMs, but I think that alone wasn't a good way to determine the -j value. I went ahead and readjusted it on Jenkins and will look into assignining specific -j values for different sets of tests. \n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/286937131",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-286937131",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 286937131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjkzNzEzMQ==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-16T02:11:11Z",
    "updated_at": "2017-03-16T02:11:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "It looks like Python test timing has gone down since this issue was reported: https://grpc-testing.appspot.com/job/gRPC_master_linux/1786/testReport/(root)/. Additionally, that 10 minute report time is just the summation of the individual test times, and since we run tests in parallel, the real time taken to run all Linux Python tests is around 5 minutes. \r\n\r\nRunning `time python tools/run_tests/run_tests.py --use_docker -t -j 16 -x report_python_linux_dbg_native_sponge_log.xml --report_suite_name python_linux_dbg_native -l python -c dbg --iomgr_platform native` takes 2.5 minutes when I run on a Linux VM. Of those 2.5 minutes, 1 minute is spent running https://github.com/grpc/grpc/blob/4f0752318b1f2f703b71b60f4404ef2954692354/tools/run_tests/helper_scripts/build_python.sh twice (once for Python 2.7 and the other for 3.4). Aside from making sure all of the commands in that script are necessary, I'm not sure how else to reduce the time taken to run Python tests."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/287028960",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-287028960",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 287028960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzAyODk2MA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-16T11:22:55Z",
    "updated_at": "2017-03-16T11:22:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "The right report to look at is the \"aggregate tests\" (each of them corresponds to a single suite ran by run_tests_matrix.py).  \r\nhttps://grpc-testing.appspot.com/job/gRPC_master_linux/1786/testReport/(root)/aggregate_tests/\r\n\r\nThe sum of all tests run times is unimportant (from the high level perspective, we only care about the entire test suite finishing as soon as possible to reduce the PR turnaround time).\r\n\r\nActually right now  the dbg and opt  python suites take <3 mins each, which is definitely acceptable (it used to be more like 30 mins AFAIK). Do we know what we changed since then?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/287029852",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-287029852",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 287029852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzAyOTg1Mg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-16T11:27:33Z",
    "updated_at": "2017-03-16T11:27:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it's fine to close this issue now, but understanding why the python tests now run 10x faster would be great."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/287130633",
    "html_url": "https://github.com/grpc/grpc/issues/8494#issuecomment-287130633",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8494",
    "id": 287130633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzEzMDYzMw==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-16T17:23:54Z",
    "updated_at": "2017-03-16T17:23:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm not sure what changed, but @nathanielmanistaatgoogle might know why Python test timing has significantly decreased."
  }
]
