[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164494769",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164494769",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164494769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDQ5NDc2OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:00:50Z",
    "updated_at": "2015-12-14T17:00:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ctiller  for triage.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164497092",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164497092",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164497092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDQ5NzA5Mg==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:08:48Z",
    "updated_at": "2015-12-14T17:08:48Z",
    "author_association": "MEMBER",
    "body": "How recently did you see this? I thought I had this fixed in #4433.\n\nOn Mon, Dec 14, 2015 at 9:01 AM Jan Tattermusch notifications@github.com\nwrote:\n\n> @ctiller https://github.com/ctiller for triage.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/grpc/grpc/issues/4446#issuecomment-164494769.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164500397",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164500397",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164500397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMDM5Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:19:58Z",
    "updated_at": "2015-12-14T17:19:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just rebased to the freshest master and I am still seeing this.\n\nLooks like there's some extra debug info:\n\n```\nE12/14/2015 9:18:08 AM 140310063539968 src/core/iomgr/tcp_server_posix.c:284: bind addr=[::ffff:127.0.0.1]:58775: Address already in use\nE12/14/2015 9:18:08 AM 140310063539968 src/core/surface/server_chttp2.c:116: assertion failed: port_num == port_temp\n```\n\n```\nNative stacktrace:\n\n    /usr/bin/mono() [0x4b73d8]\n    /lib/x86_64-linux-gnu/libpthread.so.0(+0x10340) [0x7f9c9cbe6340]\n    /lib/x86_64-linux-gnu/libc.so.6(gsignal+0x39) [0x7f9c9c847cc9]\n    /lib/x86_64-linux-gnu/libc.so.6(abort+0x148) [0x7f9c9c84b0d8]\n    /usr/local/google/home/jtattermusch/github/grpc/libs/dbg/libgrpc.so.0(grpc_server_add_insecure_http2_port+0x199) [0x7f9c7af9786a]\n    /usr/local/google/home/jtattermusch/github/grpc/libs/dbg/libgrpc_csharp_ext.so(grpcsharp_server_add_insecure_http2_port+0x23) [0x7f9c7b3ead59]\n    [0x40d120a1]\n```\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164500849",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164500849",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164500849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMDg0OQ==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:21:58Z",
    "updated_at": "2015-12-14T17:21:58Z",
    "author_association": "MEMBER",
    "body": "How do I repro?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164501423",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164501423",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164501423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMTQyMw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:24:10Z",
    "updated_at": "2015-12-14T17:24:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am in the middle of doing some C# testing work, but here's my branch:\nhttps://github.com/jtattermusch/grpc/tree/csharp_test_restructuring\n\nIf I run  `tools/run_tests/run_tests.py -c dbg -l csharp -S -n 10` I am pretty much guaranteed to see the problem. Now looking at the core dump.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164501804",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164501804",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164501804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMTgwNA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:25:38Z",
    "updated_at": "2015-12-14T17:25:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "By the time the assertion fails:\n\n```\n(gdb) print port_num\n$1 = 58775\n(gdb) print port_temp\n$2 = 0\n```\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164502028",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164502028",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164502028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMjAyOA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:26:24Z",
    "updated_at": "2015-12-14T17:26:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "(gdb) print listener\n$3 = (grpc_tcp_listener *) 0x0\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164503072",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164503072",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164503072,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMzA3Mg==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:30:30Z",
    "updated_at": "2015-12-14T17:30:30Z",
    "author_association": "MEMBER",
    "body": "I think the 'port_temp >= 0' condition should be 'port_temp > 0'\n\nOn Mon, Dec 14, 2015 at 9:26 AM Jan Tattermusch notifications@github.com\nwrote:\n\n> (gdb) print listener\n> $3 = (grpc_tcp_listener *) 0x0\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/grpc/grpc/issues/4446#issuecomment-164502028.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164503211",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164503211",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164503211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMzIxMQ==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:31:03Z",
    "updated_at": "2015-12-14T17:31:03Z",
    "author_association": "MEMBER",
    "body": "(can you check - this will also need fixing in server_secure_chttp2.c)\n\nOn Mon, Dec 14, 2015 at 9:30 AM Craig Tiller ctiller@google.com wrote:\n\n> I think the 'port_temp >= 0' condition should be 'port_temp > 0'\n> \n> On Mon, Dec 14, 2015 at 9:26 AM Jan Tattermusch notifications@github.com\n> wrote:\n> \n> > (gdb) print listener\n> > $3 = (grpc_tcp_listener *) 0x0\n> > \n> > —\n> > Reply to this email directly or view it on GitHub\n> > https://github.com/grpc/grpc/issues/4446#issuecomment-164502028.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164503326",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164503326",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164503326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMzMyNg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:31:26Z",
    "updated_at": "2015-12-14T17:31:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "From grpc_server_add_insecure_http2_port:\n\n```\nfor (i = 0; i < resolved->naddrs; i++) {\n    grpc_tcp_listener *listener;\n    listener = grpc_tcp_server_add_port(\n        tcp, (struct sockaddr *)&resolved->addrs[i].addr,\n        resolved->addrs[i].len);\n    port_temp = grpc_tcp_listener_get_port(listener);\n    if (port_temp >= 0) {\n      if (port_num == -1) {\n        port_num = port_temp;\n      } else {\n        GPR_ASSERT(port_num == port_temp);\n      }\n      count++;\n    }\n  }\n```\n\nWhat happens:\ngrpc_tcp_server_add_port returns null,  grpc_tcp_listener_get_port therefore returns 0. Then things go wrong.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164503411",
    "html_url": "https://github.com/grpc/grpc/issues/4446#issuecomment-164503411",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4446",
    "id": 164503411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUwMzQxMQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T17:31:45Z",
    "updated_at": "2015-12-14T17:31:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yep, I will try and create a PR if needed. Thanks for help.\n"
  }
]
