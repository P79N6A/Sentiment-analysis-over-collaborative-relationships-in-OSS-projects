[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/290891931",
    "html_url": "https://github.com/grpc/grpc/issues/10301#issuecomment-290891931",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10301",
    "id": 290891931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDg5MTkzMQ==",
    "user": {
      "login": "flisky",
      "id": 656711,
      "node_id": "MDQ6VXNlcjY1NjcxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/656711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flisky",
      "html_url": "https://github.com/flisky",
      "followers_url": "https://api.github.com/users/flisky/followers",
      "following_url": "https://api.github.com/users/flisky/following{/other_user}",
      "gists_url": "https://api.github.com/users/flisky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flisky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flisky/subscriptions",
      "organizations_url": "https://api.github.com/users/flisky/orgs",
      "repos_url": "https://api.github.com/users/flisky/repos",
      "events_url": "https://api.github.com/users/flisky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flisky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-01T03:43:12Z",
    "updated_at": "2017-04-01T03:43:12Z",
    "author_association": "NONE",
    "body": "I think the most important feature it lacks as a RPC client is **persistent connection**.\r\n\r\nI have a golang-backend service, which is ~20k qps under benchmark.\r\nHowever,  the php client has 0.5% chance to  connect **unavailable** when  qps > 1k, through ELB 4 layer loadbalancer.\r\n\r\nI tried to use client-side round-robin LB without ELB using 1.2.0.\r\nHowever, it doesn't work perfect.\r\nIt connects to all endpoints every times, and has a great chance to choose same server.\r\n\r\nPhp is supposed to be in a stateless mode. We cannot save state in application-level, and only extension can do it, just like [yar does](https://github.com/laruence/yar/blob/0ff9df3b90076dae1b03ea35bb6e21d6f5f69039/transports/curl.c#L145).\r\n\r\nThe grpc generated client has third option to pass `channel`,  but it only works to do multi RPCs during **a request**.\r\n\r\nIs my understanding correct? I'll be surprised and happy to embrace it if you could tell me a way, @stanley-cheung & @nathanielmanistaatgoogle . Thanks!\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/290893092",
    "html_url": "https://github.com/grpc/grpc/issues/10301#issuecomment-290893092",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10301",
    "id": 290893092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDg5MzA5Mg==",
    "user": {
      "login": "flisky",
      "id": 656711,
      "node_id": "MDQ6VXNlcjY1NjcxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/656711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flisky",
      "html_url": "https://github.com/flisky",
      "followers_url": "https://api.github.com/users/flisky/followers",
      "following_url": "https://api.github.com/users/flisky/following{/other_user}",
      "gists_url": "https://api.github.com/users/flisky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flisky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flisky/subscriptions",
      "organizations_url": "https://api.github.com/users/flisky/orgs",
      "repos_url": "https://api.github.com/users/flisky/repos",
      "events_url": "https://api.github.com/users/flisky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flisky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-01T04:05:47Z",
    "updated_at": "2017-04-01T04:05:47Z",
    "author_association": "NONE",
    "body": "By the way, HTTP2 direct connection has much more overhead than HTTP/1.1.\r\nIt starts with a connection preface, two settings frame, and two settings ACK.\r\n\r\nI think [grpc-gateway](https://github.com/grpc-ecosystem/grpc-gateway) may help to go with the old-good HTTP/1.1, which is on my todo list."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/303880183",
    "html_url": "https://github.com/grpc/grpc/issues/10301#issuecomment-303880183",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10301",
    "id": 303880183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzg4MDE4Mw==",
    "user": {
      "login": "tmatsuo",
      "id": 41815,
      "node_id": "MDQ6VXNlcjQxODE1",
      "avatar_url": "https://avatars2.githubusercontent.com/u/41815?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tmatsuo",
      "html_url": "https://github.com/tmatsuo",
      "followers_url": "https://api.github.com/users/tmatsuo/followers",
      "following_url": "https://api.github.com/users/tmatsuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/tmatsuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tmatsuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tmatsuo/subscriptions",
      "organizations_url": "https://api.github.com/users/tmatsuo/orgs",
      "repos_url": "https://api.github.com/users/tmatsuo/repos",
      "events_url": "https://api.github.com/users/tmatsuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tmatsuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-24T23:23:27Z",
    "updated_at": "2017-05-24T23:23:27Z",
    "author_association": "NONE",
    "body": "FWIW, for simpler APIs like logging, I'm trying to solve the similar problem by running an external daemon.\r\nThe source code is available at:\r\nhttps://github.com/GoogleCloudPlatform/google-cloud-php/tree/batch/src/Core/Batch\r\n\r\nYou can run PHP daemon program that creates a client object at startup, and in your client code, just pass operations to the daemon.\r\n\r\nJust an idea."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/314859475",
    "html_url": "https://github.com/grpc/grpc/issues/10301#issuecomment-314859475",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10301",
    "id": 314859475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDg1OTQ3NQ==",
    "user": {
      "login": "dwsupplee",
      "id": 2079879,
      "node_id": "MDQ6VXNlcjIwNzk4Nzk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2079879?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dwsupplee",
      "html_url": "https://github.com/dwsupplee",
      "followers_url": "https://api.github.com/users/dwsupplee/followers",
      "following_url": "https://api.github.com/users/dwsupplee/following{/other_user}",
      "gists_url": "https://api.github.com/users/dwsupplee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dwsupplee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dwsupplee/subscriptions",
      "organizations_url": "https://api.github.com/users/dwsupplee/orgs",
      "repos_url": "https://api.github.com/users/dwsupplee/repos",
      "events_url": "https://api.github.com/users/dwsupplee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dwsupplee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-12T18:39:38Z",
    "updated_at": "2017-07-12T18:39:38Z",
    "author_association": "NONE",
    "body": "Just a heads up the code linked above has since been merged and can now be found here:\r\nhttps://github.com/GoogleCloudPlatform/google-cloud-php/tree/v0.34.1/src/Core/Batch"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/368169077",
    "html_url": "https://github.com/grpc/grpc/issues/10301#issuecomment-368169077",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10301",
    "id": 368169077,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODE2OTA3Nw==",
    "user": {
      "login": "stanley-cheung",
      "id": 11674202,
      "node_id": "MDQ6VXNlcjExNjc0MjAy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11674202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stanley-cheung",
      "html_url": "https://github.com/stanley-cheung",
      "followers_url": "https://api.github.com/users/stanley-cheung/followers",
      "following_url": "https://api.github.com/users/stanley-cheung/following{/other_user}",
      "gists_url": "https://api.github.com/users/stanley-cheung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stanley-cheung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stanley-cheung/subscriptions",
      "organizations_url": "https://api.github.com/users/stanley-cheung/orgs",
      "repos_url": "https://api.github.com/users/stanley-cheung/repos",
      "events_url": "https://api.github.com/users/stanley-cheung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stanley-cheung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-23T23:30:27Z",
    "updated_at": "2018-02-23T23:30:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this issue. The `grpc` extension by default creates persistent connections since `1.6.0` release."
  }
]
