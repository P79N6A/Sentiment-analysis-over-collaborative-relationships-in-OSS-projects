[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280310297",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-280310297",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 280310297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDMxMDI5Nw==",
    "user": {
      "login": "public",
      "id": 83000,
      "node_id": "MDQ6VXNlcjgzMDAw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/83000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/public",
      "html_url": "https://github.com/public",
      "followers_url": "https://api.github.com/users/public/followers",
      "following_url": "https://api.github.com/users/public/following{/other_user}",
      "gists_url": "https://api.github.com/users/public/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/public/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/public/subscriptions",
      "organizations_url": "https://api.github.com/users/public/orgs",
      "repos_url": "https://api.github.com/users/public/repos",
      "events_url": "https://api.github.com/users/public/events{/privacy}",
      "received_events_url": "https://api.github.com/users/public/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T11:50:03Z",
    "updated_at": "2017-02-16T12:06:24Z",
    "author_association": "NONE",
    "body": "Reading the source code it seems like while `gpr_thd_new` does return whether or not it managed to make a thread or not, (https://github.com/grpc/grpc/blob/5098508d2d41a116113f7e333c516cd9ef34a943/src/core/lib/support/thd_posix.c#L88) basically none of the call sites outside of the test suite actually check it.\r\n\r\ne.g.\r\n\r\nhttps://github.com/grpc/grpc/blob/46357c882df1afc28f7a5228c40fde522093fa32/src/core/lib/iomgr/executor.c#L118\r\n\r\nhttps://github.com/grpc/grpc/blob/7dd42bf3d8fefd00603d6f6e502fc286ac721f81/src/core/lib/profiling/basic_timers.c#L221\r\n\r\nhttps://github.com/grpc/grpc/blob/49c44f53709936abc9aa014ee1173552b630b920/src/core/lib/iomgr/ev_poll_posix.c#L1386\r\n\r\nWhich means the thread id field is going to end up uninitialised and probably cause strange things to happen when you try and use it for `pthread_join` or other operations later on."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282022633",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-282022633",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 282022633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjAyMjYzMw==",
    "user": {
      "login": "public",
      "id": 83000,
      "node_id": "MDQ6VXNlcjgzMDAw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/83000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/public",
      "html_url": "https://github.com/public",
      "followers_url": "https://api.github.com/users/public/followers",
      "following_url": "https://api.github.com/users/public/following{/other_user}",
      "gists_url": "https://api.github.com/users/public/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/public/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/public/subscriptions",
      "organizations_url": "https://api.github.com/users/public/orgs",
      "repos_url": "https://api.github.com/users/public/repos",
      "events_url": "https://api.github.com/users/public/events{/privacy}",
      "received_events_url": "https://api.github.com/users/public/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T15:24:57Z",
    "updated_at": "2017-02-23T15:24:57Z",
    "author_association": "NONE",
    "body": "@ctiller Would a simple demo reproduction be useful for you in resolving this?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282388815",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-282388815",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 282388815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjM4ODgxNQ==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T19:55:37Z",
    "updated_at": "2017-02-24T19:55:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@public \r\nWhat is causing the thread exhaustion?  Is it gRPC? Or are there a lot of threads in your program?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/283390894",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-283390894",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 283390894,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzM5MDg5NA==",
    "user": {
      "login": "public",
      "id": 83000,
      "node_id": "MDQ6VXNlcjgzMDAw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/83000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/public",
      "html_url": "https://github.com/public",
      "followers_url": "https://api.github.com/users/public/followers",
      "following_url": "https://api.github.com/users/public/following{/other_user}",
      "gists_url": "https://api.github.com/users/public/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/public/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/public/subscriptions",
      "organizations_url": "https://api.github.com/users/public/orgs",
      "repos_url": "https://api.github.com/users/public/repos",
      "events_url": "https://api.github.com/users/public/events{/privacy}",
      "received_events_url": "https://api.github.com/users/public/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-01T16:28:40Z",
    "updated_at": "2017-03-01T16:28:40Z",
    "author_association": "NONE",
    "body": "@kpayson64 The thread exhaustion is caused by non-gRPC related pressure on the machine. It's just when we hit that situation gRPC clients behave badly. I would expect them to return some kind of sensible error even if it was just \"INTERNAL_ERROR\" rather than getting stuck like this."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/286238397",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-286238397",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 286238397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjIzODM5Nw==",
    "user": {
      "login": "public",
      "id": 83000,
      "node_id": "MDQ6VXNlcjgzMDAw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/83000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/public",
      "html_url": "https://github.com/public",
      "followers_url": "https://api.github.com/users/public/followers",
      "following_url": "https://api.github.com/users/public/following{/other_user}",
      "gists_url": "https://api.github.com/users/public/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/public/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/public/subscriptions",
      "organizations_url": "https://api.github.com/users/public/orgs",
      "repos_url": "https://api.github.com/users/public/repos",
      "events_url": "https://api.github.com/users/public/events{/privacy}",
      "received_events_url": "https://api.github.com/users/public/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-13T20:47:08Z",
    "updated_at": "2017-03-13T20:47:08Z",
    "author_association": "NONE",
    "body": "Happy to help out solving this issue but since this would be my first contribution some communication would help me be certain I'm doing the right thing.\r\n\r\nIs it intentional that these errors are never checked?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/286245454",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-286245454",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 286245454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjI0NTQ1NA==",
    "user": {
      "login": "theacodes",
      "id": 250995,
      "node_id": "MDQ6VXNlcjI1MDk5NQ==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/250995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theacodes",
      "html_url": "https://github.com/theacodes",
      "followers_url": "https://api.github.com/users/theacodes/followers",
      "following_url": "https://api.github.com/users/theacodes/following{/other_user}",
      "gists_url": "https://api.github.com/users/theacodes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theacodes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theacodes/subscriptions",
      "organizations_url": "https://api.github.com/users/theacodes/orgs",
      "repos_url": "https://api.github.com/users/theacodes/repos",
      "events_url": "https://api.github.com/users/theacodes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theacodes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-13T21:13:02Z",
    "updated_at": "2017-03-13T21:13:02Z",
    "author_association": "NONE",
    "body": "@kpayson64 @ctiller friendly ping, users are running into this during resource exhaustion, which is surprisingly easy to hit in docker environments. Considering @public has volunteered to help fix this, can we at least point them in the right direction?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/286530832",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-286530832",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 286530832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjUzMDgzMg==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-14T19:17:42Z",
    "updated_at": "2017-03-14T19:17:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "We could have a thread creation failure result in a failed RPC, but I'd prefer to go the route of just hitting a ```GPR_ASSERT()``` that causes the program to die on thread creation failure (rather than hang with undefined behavior).\r\n\r\n@ctiller thoughts?\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/286720931",
    "html_url": "https://github.com/grpc/grpc/issues/9743#issuecomment-286720931",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9743",
    "id": 286720931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjcyMDkzMQ==",
    "user": {
      "login": "public",
      "id": 83000,
      "node_id": "MDQ6VXNlcjgzMDAw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/83000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/public",
      "html_url": "https://github.com/public",
      "followers_url": "https://api.github.com/users/public/followers",
      "following_url": "https://api.github.com/users/public/following{/other_user}",
      "gists_url": "https://api.github.com/users/public/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/public/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/public/subscriptions",
      "organizations_url": "https://api.github.com/users/public/orgs",
      "repos_url": "https://api.github.com/users/public/repos",
      "events_url": "https://api.github.com/users/public/events{/privacy}",
      "received_events_url": "https://api.github.com/users/public/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T11:57:50Z",
    "updated_at": "2017-03-15T11:57:50Z",
    "author_association": "NONE",
    "body": "Having it assert and crashing the process would have probably been a reasonable outcome in our situation. It would have aided in debugging the root cause (badly configured user limits) in fact."
  }
]
