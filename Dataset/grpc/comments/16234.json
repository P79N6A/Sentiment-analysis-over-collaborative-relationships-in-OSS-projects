[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/410881829",
    "html_url": "https://github.com/grpc/grpc/issues/16234#issuecomment-410881829",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16234",
    "id": 410881829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDg4MTgyOQ==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T23:14:15Z",
    "updated_at": "2018-08-06T23:14:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Do you get any exception printed or does it just succeed as the iteration ends?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/411069767",
    "html_url": "https://github.com/grpc/grpc/issues/16234#issuecomment-411069767",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16234",
    "id": 411069767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTA2OTc2Nw==",
    "user": {
      "login": "huaiweicheng",
      "id": 4011117,
      "node_id": "MDQ6VXNlcjQwMTExMTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4011117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huaiweicheng",
      "html_url": "https://github.com/huaiweicheng",
      "followers_url": "https://api.github.com/users/huaiweicheng/followers",
      "following_url": "https://api.github.com/users/huaiweicheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/huaiweicheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huaiweicheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huaiweicheng/subscriptions",
      "organizations_url": "https://api.github.com/users/huaiweicheng/orgs",
      "repos_url": "https://api.github.com/users/huaiweicheng/repos",
      "events_url": "https://api.github.com/users/huaiweicheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huaiweicheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-07T14:09:59Z",
    "updated_at": "2018-08-07T14:11:26Z",
    "author_association": "NONE",
    "body": "no exceptions.\r\nWhat I wanna get is a continuous asynchronous grpc sever pushing data to client.\r\nThe python client ends while Java client waits for the asynchronous data pushing.\r\n\r\nWhich means, the following codes, which is a part of codes in the Java server does not have the chance to execute if using the python client since the connection was closed.\r\n\r\n```\r\n            api.subscribe(message.value, Message -> {\r\n                synchronized (responseObserver) {\r\n                    ...\r\n                    ...\r\n                    // get data from other source\r\n\r\n                    responseObserver.onNext(Converter.create().toProtobuf(Message.class, data));\r\n                }\r\n            });\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/411098757",
    "html_url": "https://github.com/grpc/grpc/issues/16234#issuecomment-411098757",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16234",
    "id": 411098757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTA5ODc1Nw==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-07T15:31:05Z",
    "updated_at": "2018-08-07T15:31:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you try running the Python client under `GRPC_TRACE=api,channel,client_channel,flowctl GRPC_VERBOSITY=debug` environment and share the results (also you can run both the successful and failing client and see if something sounds off?)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/412428525",
    "html_url": "https://github.com/grpc/grpc/issues/16234#issuecomment-412428525",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16234",
    "id": 412428525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjQyODUyNQ==",
    "user": {
      "login": "huaiweicheng",
      "id": 4011117,
      "node_id": "MDQ6VXNlcjQwMTExMTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4011117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huaiweicheng",
      "html_url": "https://github.com/huaiweicheng",
      "followers_url": "https://api.github.com/users/huaiweicheng/followers",
      "following_url": "https://api.github.com/users/huaiweicheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/huaiweicheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huaiweicheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huaiweicheng/subscriptions",
      "organizations_url": "https://api.github.com/users/huaiweicheng/orgs",
      "repos_url": "https://api.github.com/users/huaiweicheng/repos",
      "events_url": "https://api.github.com/users/huaiweicheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huaiweicheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-13T07:14:48Z",
    "updated_at": "2018-08-13T07:14:48Z",
    "author_association": "NONE",
    "body": "The log is so long...  I use  a method of sleeping in the request stream to solve the problem in an ugly way. The only difference \r\nFailed:\r\n\r\n    def gen_message():\r\n        yield test.Message(value=\"2\")\r\n\r\n![image](https://user-images.githubusercontent.com/4011117/44017364-931e06aa-9f0a-11e8-8cb3-67b4a53fd0de.png)\r\n\r\n\r\nSucceed:\r\n\r\n    def sleepfunc():\r\n        while True:\r\n            time.sleep(1)\r\n    def gen_message():\r\n        yield test.Message(value=\"2\")\r\n        yield sleepfunc()\r\n![image](https://user-images.githubusercontent.com/4011117/44017390-b4eb858c-9f0a-11e8-94a9-a1b8231878d1.png)\r\n\r\nThe failed log shows that **grpc_call_unref**, does that mean the client cancel the RPC?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/416146945",
    "html_url": "https://github.com/grpc/grpc/issues/16234#issuecomment-416146945",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16234",
    "id": 416146945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjE0Njk0NQ==",
    "user": {
      "login": "JamesXiao",
      "id": 839182,
      "node_id": "MDQ6VXNlcjgzOTE4Mg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/839182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JamesXiao",
      "html_url": "https://github.com/JamesXiao",
      "followers_url": "https://api.github.com/users/JamesXiao/followers",
      "following_url": "https://api.github.com/users/JamesXiao/following{/other_user}",
      "gists_url": "https://api.github.com/users/JamesXiao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JamesXiao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JamesXiao/subscriptions",
      "organizations_url": "https://api.github.com/users/JamesXiao/orgs",
      "repos_url": "https://api.github.com/users/JamesXiao/repos",
      "events_url": "https://api.github.com/users/JamesXiao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JamesXiao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-27T07:58:18Z",
    "updated_at": "2018-08-27T07:58:18Z",
    "author_association": "NONE",
    "body": "Same issue here,  in a bi-direction stream grpc function:\r\n1. grpc client send req to grpc server\r\n2. grpc server pass the msg to other module, and wait for async response (could happen any time for multiple times)\r\n2.5 wait for the other module's response(s), maybe immediately, or 1 seconds, or 3 minutes or couple of hours later\r\n3. other module do respond to grpc server.\r\n4. grpc server forward the response to grpc client via the stream.\r\n\r\nIn the bi-direction streaming scenario, client should be keeping the connection and waiting for data from server, and dot not close the stream actively unless it meets failure or complete event.\r\n\r\nBoth C# and JAVA client has the expected behavior as described above, while only the python client exists prematurely, just after step 2."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/424128691",
    "html_url": "https://github.com/grpc/grpc/issues/16234#issuecomment-424128691",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16234",
    "id": 424128691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDEyODY5MQ==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-24T21:18:57Z",
    "updated_at": "2018-09-24T23:59:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JamesXiao, @huaiweicheng, Can you provide minimal repro code example? I don't see this issue. If you take the simple [routeguide](https://github.com/grpc/grpc/tree/master/examples/python/route_guide) example, the client waits for server response after finishing its stream. To simulate your scenario, just put some arbitrary amount of sleep on the server side before it starts responding. Client waits however long it take. This is assuming that the TCP connection is not broken by intermediate routers due to long period of inactivity."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435531187",
    "html_url": "https://github.com/grpc/grpc/issues/16234#issuecomment-435531187",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16234",
    "id": 435531187,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTUzMTE4Nw==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-02T22:47:54Z",
    "updated_at": "2018-11-02T22:47:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing since no response from poster. Will help if someone can post a minimal reproduction of this issue."
  }
]
