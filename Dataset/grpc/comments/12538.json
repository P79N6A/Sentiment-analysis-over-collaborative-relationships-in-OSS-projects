[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/329256874",
    "html_url": "https://github.com/grpc/grpc/issues/12538#issuecomment-329256874",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12538",
    "id": 329256874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTI1Njg3NA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-13T18:31:21Z",
    "updated_at": "2017-09-15T21:08:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Noting that I don't expect to see this on jenkins, and I think it is specific to kokoro (it looks like this test has passed on all recent jenkins mac runs in https://grpc-testing.appspot.com/job/gRPC_pull_requests_macos/). (I think the failure here is coming from somewhere up the log).\r\n\r\nIt looks like this started failing in https://sponge.corp.google.com/invocation?tab=Targets&id=f3921e51-e787-41a5-9782-83640f4dfa51&searchFor=, and stopped failing in https://sponge.corp.google.com/invocation?id=cef2c2f1-5795-499e-ad84-ef8cad63eb83&searchFor=.  Every run in between those two builds failed in the same way, and I can't find any failures before or after that set of runs. (having some trouble because of the log truncation)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330453205",
    "html_url": "https://github.com/grpc/grpc/issues/12538#issuecomment-330453205",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12538",
    "id": 330453205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDQ1MzIwNQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T07:24:31Z",
    "updated_at": "2017-09-19T07:24:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "with logs on the kokoro macs now, my current finding: on kokoro/mac/ruby, `SIGINT` either doesn't reach or is ignored by the child process in the failing test (which relies on it in order to terminate). `SIGTERM` doesn't have that problem though."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/331092579",
    "html_url": "https://github.com/grpc/grpc/issues/12538#issuecomment-331092579",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12538",
    "id": 331092579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTA5MjU3OQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-21T08:44:40Z",
    "updated_at": "2017-09-21T08:44:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looking into this... the test that's failing here relies on `SIGINT` getting sent to a child process, setting of the ruby default signal handler, and terminating the process.\r\n\r\nI am theorizing that a kokoro parent driver script does a `sigmask` on SIGINT somewhere. When placing a `trap(\"INT\", \"DEFAULT\")` at the beginning of the child process script to cause the ruby process running `killed_thread_during_channel_watch_client.rb` to do a `sigaction`  call\r\n and set the process SIGINT handler to the ruby-default SIGINT handler, everything works as expected. Also, using SIGTERM instead (treated basically the same as SIGINT by ruby), causes things to work out normally."
  }
]
