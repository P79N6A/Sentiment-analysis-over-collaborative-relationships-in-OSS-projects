[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/329691824",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-329691824",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 329691824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTY5MTgyNA==",
    "user": {
      "login": "merettm",
      "id": 7053779,
      "node_id": "MDQ6VXNlcjcwNTM3Nzk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7053779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/merettm",
      "html_url": "https://github.com/merettm",
      "followers_url": "https://api.github.com/users/merettm/followers",
      "following_url": "https://api.github.com/users/merettm/following{/other_user}",
      "gists_url": "https://api.github.com/users/merettm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/merettm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/merettm/subscriptions",
      "organizations_url": "https://api.github.com/users/merettm/orgs",
      "repos_url": "https://api.github.com/users/merettm/repos",
      "events_url": "https://api.github.com/users/merettm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/merettm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-15T06:15:24Z",
    "updated_at": "2017-09-15T06:15:24Z",
    "author_association": "NONE",
    "body": "I had the same issue; downgrading to 1.4.0 fixed it for me."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/329956195",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-329956195",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 329956195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTk1NjE5NQ==",
    "user": {
      "login": "arthury147",
      "id": 16282804,
      "node_id": "MDQ6VXNlcjE2MjgyODA0",
      "avatar_url": "https://avatars3.githubusercontent.com/u/16282804?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arthury147",
      "html_url": "https://github.com/arthury147",
      "followers_url": "https://api.github.com/users/arthury147/followers",
      "following_url": "https://api.github.com/users/arthury147/following{/other_user}",
      "gists_url": "https://api.github.com/users/arthury147/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arthury147/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arthury147/subscriptions",
      "organizations_url": "https://api.github.com/users/arthury147/orgs",
      "repos_url": "https://api.github.com/users/arthury147/repos",
      "events_url": "https://api.github.com/users/arthury147/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arthury147/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-16T09:01:32Z",
    "updated_at": "2017-09-16T09:01:32Z",
    "author_association": "NONE",
    "body": "I had the same issue. Downgrading to 1.3.9 is working for me. (for npm).\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330376092",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-330376092",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 330376092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDM3NjA5Mg==",
    "user": {
      "login": "scvnc",
      "id": 885196,
      "node_id": "MDQ6VXNlcjg4NTE5Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/885196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scvnc",
      "html_url": "https://github.com/scvnc",
      "followers_url": "https://api.github.com/users/scvnc/followers",
      "following_url": "https://api.github.com/users/scvnc/following{/other_user}",
      "gists_url": "https://api.github.com/users/scvnc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scvnc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scvnc/subscriptions",
      "organizations_url": "https://api.github.com/users/scvnc/orgs",
      "repos_url": "https://api.github.com/users/scvnc/repos",
      "events_url": "https://api.github.com/users/scvnc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scvnc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T22:39:10Z",
    "updated_at": "2017-09-18T22:39:10Z",
    "author_association": "NONE",
    "body": "Having the same issue doing automated test cases in node.js.  My set-up and tear-down methods rapidly create and destroy same-process client/server instances and eventually at some point I get this error.  Same as authury147: downgrading to 1.3.9 (npm) resolves this issue.  This solution does not make me feel comfortable and it's unclear how I could remove the restrictive policy for automated tests."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/332403280",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-332403280",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 332403280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjQwMzI4MA==",
    "user": {
      "login": "vdamle",
      "id": 5338861,
      "node_id": "MDQ6VXNlcjUzMzg4NjE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5338861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vdamle",
      "html_url": "https://github.com/vdamle",
      "followers_url": "https://api.github.com/users/vdamle/followers",
      "following_url": "https://api.github.com/users/vdamle/following{/other_user}",
      "gists_url": "https://api.github.com/users/vdamle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vdamle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vdamle/subscriptions",
      "organizations_url": "https://api.github.com/users/vdamle/orgs",
      "repos_url": "https://api.github.com/users/vdamle/repos",
      "events_url": "https://api.github.com/users/vdamle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vdamle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-27T04:08:26Z",
    "updated_at": "2017-09-27T04:08:26Z",
    "author_association": "NONE",
    "body": "See the same issue running automated tests in python"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/332477506",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-332477506",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 332477506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjQ3NzUwNg==",
    "user": {
      "login": "ravikamaraj",
      "id": 17544046,
      "node_id": "MDQ6VXNlcjE3NTQ0MDQ2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17544046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ravikamaraj",
      "html_url": "https://github.com/ravikamaraj",
      "followers_url": "https://api.github.com/users/ravikamaraj/followers",
      "following_url": "https://api.github.com/users/ravikamaraj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ravikamaraj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ravikamaraj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ravikamaraj/subscriptions",
      "organizations_url": "https://api.github.com/users/ravikamaraj/orgs",
      "repos_url": "https://api.github.com/users/ravikamaraj/repos",
      "events_url": "https://api.github.com/users/ravikamaraj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ravikamaraj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-27T10:20:48Z",
    "updated_at": "2017-09-27T10:20:57Z",
    "author_association": "NONE",
    "body": "I am getting the same issue in nodejs. Not sure if its related to #11015"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/332516714",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-332516714",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 332516714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjUxNjcxNA==",
    "user": {
      "login": "blerest",
      "id": 5416573,
      "node_id": "MDQ6VXNlcjU0MTY1NzM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5416573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blerest",
      "html_url": "https://github.com/blerest",
      "followers_url": "https://api.github.com/users/blerest/followers",
      "following_url": "https://api.github.com/users/blerest/following{/other_user}",
      "gists_url": "https://api.github.com/users/blerest/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blerest/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blerest/subscriptions",
      "organizations_url": "https://api.github.com/users/blerest/orgs",
      "repos_url": "https://api.github.com/users/blerest/repos",
      "events_url": "https://api.github.com/users/blerest/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blerest/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-27T13:15:22Z",
    "updated_at": "2017-09-27T13:15:22Z",
    "author_association": "NONE",
    "body": "I am getting the same issue on my unit tests in nodejs."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/333871390",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-333871390",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 333871390,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzg3MTM5MA==",
    "user": {
      "login": "bobbytables",
      "id": 521627,
      "node_id": "MDQ6VXNlcjUyMTYyNw==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/521627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bobbytables",
      "html_url": "https://github.com/bobbytables",
      "followers_url": "https://api.github.com/users/bobbytables/followers",
      "following_url": "https://api.github.com/users/bobbytables/following{/other_user}",
      "gists_url": "https://api.github.com/users/bobbytables/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bobbytables/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bobbytables/subscriptions",
      "organizations_url": "https://api.github.com/users/bobbytables/orgs",
      "repos_url": "https://api.github.com/users/bobbytables/repos",
      "events_url": "https://api.github.com/users/bobbytables/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bobbytables/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-03T15:03:52Z",
    "updated_at": "2017-10-03T15:03:52Z",
    "author_association": "NONE",
    "body": "Since it hasn't been said, seeing this in the Ruby gem v1.6.2"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/334089848",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-334089848",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 334089848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDA4OTg0OA==",
    "user": {
      "login": "dolzenko",
      "id": 43391,
      "node_id": "MDQ6VXNlcjQzMzkx",
      "avatar_url": "https://avatars0.githubusercontent.com/u/43391?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dolzenko",
      "html_url": "https://github.com/dolzenko",
      "followers_url": "https://api.github.com/users/dolzenko/followers",
      "following_url": "https://api.github.com/users/dolzenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/dolzenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dolzenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dolzenko/subscriptions",
      "organizations_url": "https://api.github.com/users/dolzenko/orgs",
      "repos_url": "https://api.github.com/users/dolzenko/repos",
      "events_url": "https://api.github.com/users/dolzenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dolzenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-04T08:47:17Z",
    "updated_at": "2017-10-04T08:47:22Z",
    "author_association": "NONE",
    "body": "> Since it hasn't been said, seeing this in the Ruby gem v1.6.2\r\n\r\nSame issue here, downgraded to 1.4.5"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/334580568",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-334580568",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 334580568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDU4MDU2OA==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-05T20:19:43Z",
    "updated_at": "2017-10-05T20:19:43Z",
    "author_association": "MEMBER",
    "body": "Can someone who's affected by this please try running with #12850 and let me know if it solves the problem?  Thanks!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335520065",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335520065",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335520065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTUyMDA2NQ==",
    "user": {
      "login": "ravikamaraj",
      "id": 17544046,
      "node_id": "MDQ6VXNlcjE3NTQ0MDQ2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17544046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ravikamaraj",
      "html_url": "https://github.com/ravikamaraj",
      "followers_url": "https://api.github.com/users/ravikamaraj/followers",
      "following_url": "https://api.github.com/users/ravikamaraj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ravikamaraj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ravikamaraj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ravikamaraj/subscriptions",
      "organizations_url": "https://api.github.com/users/ravikamaraj/orgs",
      "repos_url": "https://api.github.com/users/ravikamaraj/repos",
      "events_url": "https://api.github.com/users/ravikamaraj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ravikamaraj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T15:54:35Z",
    "updated_at": "2017-10-10T15:55:36Z",
    "author_association": "NONE",
    "body": "Applied the change from #12850, and still getting the issue. Waiting to see the results from others too."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335529022",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335529022",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335529022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTUyOTAyMg==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T16:22:53Z",
    "updated_at": "2017-10-10T16:22:53Z",
    "author_association": "MEMBER",
    "body": "Hmm, okay, then there must be something else going on here.  Can you run with the following environment variables and share the log?\r\n\r\n```\r\nGRPC_TRACE=client_channel,pick_first,round_robin,glb\r\nGRPC_VERBOSITY=DEBUG\r\n```\r\n\r\nThanks!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335541659",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335541659",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335541659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTU0MTY1OQ==",
    "user": {
      "login": "qingling128",
      "id": 5287526,
      "node_id": "MDQ6VXNlcjUyODc1MjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5287526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qingling128",
      "html_url": "https://github.com/qingling128",
      "followers_url": "https://api.github.com/users/qingling128/followers",
      "following_url": "https://api.github.com/users/qingling128/following{/other_user}",
      "gists_url": "https://api.github.com/users/qingling128/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qingling128/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qingling128/subscriptions",
      "organizations_url": "https://api.github.com/users/qingling128/orgs",
      "repos_url": "https://api.github.com/users/qingling128/repos",
      "events_url": "https://api.github.com/users/qingling128/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qingling128/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T17:04:29Z",
    "updated_at": "2017-10-10T17:04:29Z",
    "author_association": "NONE",
    "body": "Also getting this issue. We are using gRPC `1.6.6`."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335555794",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335555794",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335555794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTU1NTc5NA==",
    "user": {
      "login": "ravikamaraj",
      "id": 17544046,
      "node_id": "MDQ6VXNlcjE3NTQ0MDQ2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17544046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ravikamaraj",
      "html_url": "https://github.com/ravikamaraj",
      "followers_url": "https://api.github.com/users/ravikamaraj/followers",
      "following_url": "https://api.github.com/users/ravikamaraj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ravikamaraj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ravikamaraj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ravikamaraj/subscriptions",
      "organizations_url": "https://api.github.com/users/ravikamaraj/orgs",
      "repos_url": "https://api.github.com/users/ravikamaraj/repos",
      "events_url": "https://api.github.com/users/ravikamaraj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ravikamaraj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T17:55:03Z",
    "updated_at": "2017-10-10T18:20:21Z",
    "author_association": "NONE",
    "body": "@markdroth \r\nPlease find the logs\r\n```\r\nD1010 10:46:19.951687754   12280 pick_first.c:469]           Pick First 0x3292dd0 connectivity changed. Updating selected: 0; Updating subchannels: 0; Checking 0 index (2 total); State: 4; \r\nD1010 10:46:19.951719419   12280 client_channel.c:262]       chand=0x342da10: lb_policy=0x3292dd0 state changed to TRANSIENT_FAILURE\r\nD1010 10:46:19.951725386   12280 client_channel.c:248]       chand=0x342da10: setting connectivity state to TRANSIENT_FAILURE\r\nD1010 10:46:19.951730104   12280 client_channel.c:262]       chand=0x342da10: lb_policy=0x3292dd0 state changed to SHUTDOWN\r\nD1010 10:46:19.951741121   12280 client_channel.c:248]       chand=0x342da10: setting connectivity state to TRANSIENT_FAILURE\r\nD1010 10:46:19.951747539   12280 pick_first.c:100]           Pick First 0x3292dd0 destroyed.\r\nD1010 10:46:19.952038752   12280 client_channel.c:1421]      chand=0x342da10 calld=0x33cadd8: entering combiner\r\nD1010 10:46:19.952044039   12280 client_channel.c:1108]      chand=0x342da10 calld=0x33cadd8: deferring pick pending resolver result\r\nD1010 10:46:19.955187366   12280 client_channel.c:370]       chand=0x342da10: got resolver result: error=\"No Error\"\r\nD1010 10:46:19.955207306   12280 pick_first.c:687]           Pick First 0x32e0720 created.\r\nI1010 10:46:19.955212976   12280 pick_first.c:335]           Pick First 0x32e0720 received update with 2 addresses\r\nI1010 10:46:19.955230865   12280 pick_first.c:416]           Pick First 0x32e0720 created subchannel 0x32c0a80 for address uri ipv4:10.xx.xxx.xx:50057\r\nI1010 10:46:19.955239873   12280 pick_first.c:416]           Pick First 0x32e0720 created subchannel 0x33316b0 for address uri ipv4:10.xx.xxx.xxx:50057\r\nD1010 10:46:19.955248052   12280 client_channel.c:477]       chand=0x342da10: resolver result: lb_policy_name=\"pick_first\", service_config=\"(null)\"\r\nD1010 10:46:19.955252948   12280 client_channel.c:559]       chand=0x342da10: initializing new LB policy\r\nD1010 10:46:19.955258047   12280 client_channel.c:248]       chand=0x342da10: setting connectivity state to IDLE\r\nD1010 10:46:19.955262544   12280 client_channel.c:1092]      chand=0x342da10 calld=0x33cadd8: resolver returned, doing pick\r\nD1010 10:46:19.955266605   12280 client_channel.c:940]       chand=0x342da10 calld=0x33cadd8: applying service config to call\r\nD1010 10:46:19.955270317   12280 client_channel.c:1178]      chand=0x342da10 calld=0x33cadd8: starting pick on lb_policy=0x32e0720\r\nD1010 10:46:19.955276330   12280 pick_first.c:469]           Pick First 0x32e0720 connectivity changed. Updating selected: 0; Updating subchannels: 0; Checking 0 index (2 total); State: 4; \r\nD1010 10:46:19.955281710   12280 client_channel.c:262]       chand=0x342da10: lb_policy=0x32e0720 state changed to TRANSIENT_FAILURE\r\nD1010 10:46:19.955285334   12280 client_channel.c:248]       chand=0x342da10: setting connectivity state to TRANSIENT_FAILURE\r\nD1010 10:46:19.955296491   12280 client_channel.c:1160]      chand=0x342da10 calld=0x33cadd8: pick completed asynchronously\r\nD1010 10:46:19.955307747   12280 client_channel.c:1015]      chand=0x342da10 calld=0x33cadd8: failed to create subchannel: error={\"created\":\"@1507657579.955300672\",\"description\":\"Call dropped by load balancing policy\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.c\",\"file_line\":1011}\r\nD1010 10:46:19.955312154   12280 client_channel.c:897]       chand=0x342da10 calld=0x33cadd8: failing 1 pending batches: {\"created\":\"@1507657579.955300672\",\"description\":\"Call dropped by load balancing policy\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.c\",\"file_line\":1011}\r\nI1010 10:46:19.955320963   12280 client_channel.c:1383]      OP[client-channel:0x33cadb8]:  CANCEL:{\"created\":\"@1507657579.955300672\",\"description\":\"Call dropped by load balancing policy\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.c\",\"file_line\":1011}\r\nD1010 10:46:19.955326324   12280 client_channel.c:1403]      chand=0x342da10 calld=0x33cadd8: failing batch with error: {\"created\":\"@1507657579.955300672\",\"description\":\"Call dropped by load balancing policy\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.c\",\"file_line\":1011}\r\nD1010 10:46:19.955334960   12280 client_channel.c:262]       chand=0x342da10: lb_policy=0x32e0720 state changed to SHUTDOWN\r\nD1010 10:46:19.955423580   12280 client_channel.c:248]       chand=0x342da10: setting connectivity state to TRANSIENT_FAILURE\r\nD1010 10:46:19.955436127   12280 pick_first.c:100]           Pick First 0x32e0720 destroyed.\r\n```\r\n\r\nlsof o/p when the issue occurred\r\n```\r\nnode      12280           user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nnode      12280           user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nnode      12280 12282     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nnode      12280 12282     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nV8        12280 12283     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nV8        12280 12283     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nV8        12280 12284     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nV8        12280 12284     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nV8        12280 12285     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nV8        12280 12285     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nV8        12280 12286     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nV8        12280 12286     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nnode      12280 12340     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nnode      12280 12340     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nnode      12280 12341     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nnode      12280 12341     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nnode      12280 12342     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nnode      12280 12342     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nnode      12280 12343     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nnode      12280 12343     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\nnode      12280 12348     user   16u     sock                0,7      0t0 480970509 can't identify protocol\r\nnode      12280 12348     user   17u     sock                0,7      0t0 480962249 can't identify protocol\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335578987",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335578987",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335578987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTU3ODk4Nw==",
    "user": {
      "login": "qingling128",
      "id": 5287526,
      "node_id": "MDQ6VXNlcjUyODc1MjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5287526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qingling128",
      "html_url": "https://github.com/qingling128",
      "followers_url": "https://api.github.com/users/qingling128/followers",
      "following_url": "https://api.github.com/users/qingling128/following{/other_user}",
      "gists_url": "https://api.github.com/users/qingling128/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qingling128/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qingling128/subscriptions",
      "organizations_url": "https://api.github.com/users/qingling128/orgs",
      "repos_url": "https://api.github.com/users/qingling128/repos",
      "events_url": "https://api.github.com/users/qingling128/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qingling128/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T19:17:55Z",
    "updated_at": "2017-10-10T19:17:55Z",
    "author_association": "NONE",
    "body": "Any chance we have a rough estimate on this fix? We are currently being blocked by this issue (A new feature we need is only in `gRPC` `1.6.6` yet this bug broke half of our tests). An ETA would be appreciated so that we can decide whether to wait for the fix or try to look for some workaround."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335584445",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335584445",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335584445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTU4NDQ0NQ==",
    "user": {
      "login": "qingling128",
      "id": 5287526,
      "node_id": "MDQ6VXNlcjUyODc1MjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5287526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qingling128",
      "html_url": "https://github.com/qingling128",
      "followers_url": "https://api.github.com/users/qingling128/followers",
      "following_url": "https://api.github.com/users/qingling128/following{/other_user}",
      "gists_url": "https://api.github.com/users/qingling128/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qingling128/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qingling128/subscriptions",
      "organizations_url": "https://api.github.com/users/qingling128/orgs",
      "repos_url": "https://api.github.com/users/qingling128/repos",
      "events_url": "https://api.github.com/users/qingling128/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qingling128/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T19:38:42Z",
    "updated_at": "2017-10-10T19:38:42Z",
    "author_association": "NONE",
    "body": "In case it might be helpful, we're seeing this error in the `gRPC` ruby gem `1.6.6`:\r\n\r\n```\r\nGRPC::Unknown: 2:Call dropped by load balancing policy\r\n~/.rvm/gems/ruby-2.1.10/gems/grpc-1.6.6-x86_64-linux/src/ruby/lib/grpc/generic/active_call.rb:31:in `check_status'\r\n~/.rvm/gems/ruby-2.1.10/gems/grpc-1.6.6-x86_64-linux/src/ruby/lib/grpc/generic/active_call.rb:171:in `attach_status_results_and_complete_call'\r\n~/.rvm/gems/ruby-2.1.10/gems/grpc-1.6.6-x86_64-linux/src/ruby/lib/grpc/generic/active_call.rb:363:in `request_response'\r\n~/.rvm/gems/ruby-2.1.10/gems/grpc-1.6.6-x86_64-linux/src/ruby/lib/grpc/generic/client_stub.rb:152:in `request_response'\r\n~/.rvm/gems/ruby-2.1.10/gems/grpc-1.6.6-x86_64-linux/src/ruby/lib/grpc/generic/service.rb:170:in `block (3 levels) in rpc_stub_class'\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335599373",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335599373",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335599373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTU5OTM3Mw==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-10T20:34:32Z",
    "updated_at": "2017-10-10T20:34:32Z",
    "author_association": "MEMBER",
    "body": "@ravikamaraj Thanks for the log output.  The log indicates that the pick_first LB policy is not able to connect to the subchannel, so it puts itself into state SHUTDOWN, which is exactly what I suspected was happening.  But in that case, I don't understand why #12850 didn't fix it.  Is the log output the same when running with #12850?\r\n\r\n@qingling128 It's hard to provide an ETA when I don't fully understand the problem.  I suspect it's on the order of days or maybe a week or two, probably not longer."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335667449",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335667449",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335667449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTY2NzQ0OQ==",
    "user": {
      "login": "ravikamaraj",
      "id": 17544046,
      "node_id": "MDQ6VXNlcjE3NTQ0MDQ2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17544046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ravikamaraj",
      "html_url": "https://github.com/ravikamaraj",
      "followers_url": "https://api.github.com/users/ravikamaraj/followers",
      "following_url": "https://api.github.com/users/ravikamaraj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ravikamaraj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ravikamaraj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ravikamaraj/subscriptions",
      "organizations_url": "https://api.github.com/users/ravikamaraj/orgs",
      "repos_url": "https://api.github.com/users/ravikamaraj/repos",
      "events_url": "https://api.github.com/users/ravikamaraj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ravikamaraj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-11T02:57:19Z",
    "updated_at": "2017-10-11T03:34:44Z",
    "author_association": "NONE",
    "body": "@markdroth \r\nLooks like grpc_node.node is not updated. I will clone the repo and try installing\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335784798",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335784798",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335784798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTc4NDc5OA==",
    "user": {
      "login": "ravikamaraj",
      "id": 17544046,
      "node_id": "MDQ6VXNlcjE3NTQ0MDQ2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17544046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ravikamaraj",
      "html_url": "https://github.com/ravikamaraj",
      "followers_url": "https://api.github.com/users/ravikamaraj/followers",
      "following_url": "https://api.github.com/users/ravikamaraj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ravikamaraj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ravikamaraj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ravikamaraj/subscriptions",
      "organizations_url": "https://api.github.com/users/ravikamaraj/orgs",
      "repos_url": "https://api.github.com/users/ravikamaraj/repos",
      "events_url": "https://api.github.com/users/ravikamaraj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ravikamaraj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-11T11:51:47Z",
    "updated_at": "2017-10-11T11:51:47Z",
    "author_association": "NONE",
    "body": "@markdroth \r\nI was able to run our app using grpc code from #12850, and was able to reproduce the issue. But this time, got an different error *Failed to create subchannel*. Please find the logs below\r\n\r\n```\r\nD1011 04:43:59.398873141   10305 pick_first.cc:472]          Pick First 0x31f4180 connectivity changed. Updating selected: 0; Updating subchannels: 0; Checking 0 index (2 total); State: 1; \r\nD1011 04:43:59.398896640   10305 client_channel.cc:268]      chand=0x3154278: lb_policy=0x31f4180 state changed to CONNECTING\r\nD1011 04:43:59.398902325   10305 client_channel.cc:254]      chand=0x3154278: Setting connectivity state to CONNECTING\r\nD1011 04:43:59.400546494   10305 client_channel.cc:1396]     chand=0x3154278 calld=0x31cdcd0: entering client_channel combiner\r\nD1011 04:43:59.400569959   10305 client_channel.cc:1110]     chand=0x3154278 calld=0x31cdcd0: starting pick on lb_policy=0x31f4180\r\nD1011 04:43:59.400575701   10305 client_channel.cc:969]      chand=0x3154278 calld=0x31cdcd0: applying service config to call\r\nD1011 04:43:59.400973399   10305 pick_first.cc:472]          Pick First 0x31f4180 connectivity changed. Updating selected: 0; Updating subchannels: 0; Checking 0 index (2 total); State: 2; \r\nI1011 04:43:59.400990443   10305 pick_first.cc:576]          Pick First 0x31f4180 selected subchannel 0x323c110 (connected 0x30b9770)\r\nI1011 04:43:59.400995994   10305 pick_first.cc:589]          Servicing pending pick with selected subchannel 0x30b9770\r\nD1011 04:43:59.401002861   10305 client_channel.cc:268]      chand=0x3154278: lb_policy=0x31f4180 state changed to READY\r\nD1011 04:43:59.401009388   10305 client_channel.cc:254]      chand=0x3154278: Setting connectivity state to READY\r\nD1011 04:43:59.401023627   10305 client_channel.cc:1093]     chand=0x3154278 calld=0x31cdcd0: pick completed asynchronously\r\nD1011 04:43:59.401030752   10305 client_channel.cc:1015]     chand=0x3154278 calld=0x31cdcd0: create subchannel_call=0x31ce120: error=\"No Error\"\r\nD1011 04:43:59.401036464   10305 client_channel.cc:943]      chand=0x3154278 calld=0x31cdcd0: sending 0 pending batches to subchannel_call=0x31ce120\r\nD1011 04:43:59.404948073   10305 pick_first.cc:472]          Pick First 0x31f38f0 connectivity changed. Updating selected: 0; Updating subchannels: 0; Checking 0 index (2 total); State: 4; \r\nD1011 04:43:59.404963671   10305 client_channel.cc:268]      chand=0x30b6588: lb_policy=0x31f38f0 state changed to TRANSIENT_FAILURE\r\nD1011 04:43:59.404968707   10305 client_channel.cc:254]      chand=0x30b6588: Setting connectivity state to TRANSIENT_FAILURE\r\nD1011 04:43:59.404975008   10305 client_channel.cc:268]      chand=0x30b6588: lb_policy=0x31f38f0 state changed to SHUTDOWN\r\nD1011 04:43:59.404984597   10305 client_channel.cc:254]      chand=0x30b6588: Setting connectivity state to TRANSIENT_FAILURE\r\nD1011 04:43:59.404991284   10305 pick_first.cc:101]          Pick First 0x31f38f0 destroyed.\r\nD1011 04:43:59.405368758   10305 client_channel.cc:1396]     chand=0x30b6588 calld=0x32e03a0: entering client_channel combiner\r\nD1011 04:43:59.405388943   10305 client_channel.cc:1252]     chand=0x30b6588 calld=0x32e03a0: deferring pick pending resolver result\r\nD1011 04:43:59.451300528   10305 client_channel.cc:378]      chand=0x30b6588: got resolver result: error=\"No Error\"\r\nD1011 04:43:59.451336777   10305 pick_first.cc:685]          Pick First 0x32d9520 created.\r\nI1011 04:43:59.451342766   10305 pick_first.cc:335]          Pick First 0x32d9520 received update with 2 addresses\r\nI1011 04:43:59.451365513   10305 pick_first.cc:419]          Pick First 0x32d9520 created subchannel 0x30df9f0 for address uri ipv4:xx.xx.xxx.xxx:50057\r\nI1011 04:43:59.451377807   10305 pick_first.cc:419]          Pick First 0x32d9520 created subchannel 0x3111c20 for address uri ipv4:xx.xx.xxx.xx:50057\r\nD1011 04:43:59.451385161   10305 client_channel.cc:487]      chand=0x30b6588: resolver result: lb_policy_name=\"pick_first\", service_config=\"(null)\"\r\nD1011 04:43:59.451390054   10305 client_channel.cc:569]      chand=0x30b6588: initializing new LB policy\r\nD1011 04:43:59.451396176   10305 client_channel.cc:254]      chand=0x30b6588: Setting connectivity state to IDLE\r\nD1011 04:43:59.451401208   10305 client_channel.cc:1233]     chand=0x30b6588 calld=0x32e03a0: resolver returned, doing pick\r\nD1011 04:43:59.451405618   10305 client_channel.cc:1110]     chand=0x30b6588 calld=0x32e03a0: starting pick on lb_policy=0x32d9520\r\nD1011 04:43:59.451409171   10305 client_channel.cc:969]      chand=0x30b6588 calld=0x32e03a0: applying service config to call\r\nD1011 04:43:59.451416796   10305 pick_first.cc:472]          Pick First 0x32d9520 connectivity changed. Updating selected: 0; Updating subchannels: 0; Checking 0 index (2 total); State: 4; \r\nD1011 04:43:59.451423011   10305 client_channel.cc:268]      chand=0x30b6588: lb_policy=0x32d9520 state changed to TRANSIENT_FAILURE\r\nD1011 04:43:59.451428472   10305 client_channel.cc:254]      chand=0x30b6588: Setting connectivity state to TRANSIENT_FAILURE\r\nD1011 04:43:59.451432697   10305 client_channel.cc:1093]     chand=0x30b6588 calld=0x32e03a0: pick completed asynchronously\r\nD1011 04:43:59.451450456   10305 client_channel.cc:1041]     chand=0x30b6588 calld=0x32e03a0: failed to create subchannel: error={\"created\":\"@1507722239.451436683\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1039,\"referenced_errors\":[{\"created\":\"@1507722239.451421876\",\"description\":\"Channel Shutdown\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":113}]}\r\nD1011 04:43:59.451472794   10305 client_channel.cc:900]      chand=0x30b6588 calld=0x32e03a0: failing 0 pending batches: {\"created\":\"@1507722239.451436683\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1039,\"referenced_errors\":[{\"created\":\"@1507722239.451421876\",\"description\":\"Channel Shutdown\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":113}]}\r\nD1011 04:43:59.451506415   10305 client_channel.cc:1337]     chand=0x30b6588 calld=0x32e03a0: failing batch with error: {\"created\":\"@1507722239.451436683\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1039,\"referenced_errors\":[{\"created\":\"@1507722239.451421876\",\"description\":\"Channel Shutdown\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":113}]}\r\nD1011 04:43:59.451516950   10305 client_channel.cc:1337]     chand=0x30b6588 calld=0x32e03a0: failing batch with error: {\"created\":\"@1507722239.451436683\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1039,\"referenced_errors\":[{\"created\":\"@1507722239.451421876\",\"description\":\"Channel Shutdown\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":113}]}\r\nD1011 04:43:59.451521804   10305 client_channel.cc:268]      chand=0x30b6588: lb_policy=0x32d9520 state changed to SHUTDOWN\r\nD1011 04:43:59.451532024   10305 client_channel.cc:254]      chand=0x30b6588: Setting connectivity state to TRANSIENT_FAILURE\r\nD1011 04:43:59.451540077   10305 pick_first.cc:101]          Pick First 0x32d9520 destroyed.\r\n\r\n```\r\n\r\nlsof o/p\r\n```\r\nnode      10305           user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nnode      10305           user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nnode      10305 10306     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nnode      10305 10306     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nV8        10305 10307     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nV8        10305 10307     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nV8        10305 10308     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nV8        10305 10308     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nV8        10305 10309     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nV8        10305 10309     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nV8        10305 10310     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nV8        10305 10310     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nnode      10305 10311     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nnode      10305 10311     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nnode      10305 10312     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nnode      10305 10312     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nnode      10305 10313     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nnode      10305 10313     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nnode      10305 10314     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nnode      10305 10314     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\nnode      10305 10316     user   16u     sock                0,7      0t0 249248843 can't identify protocol\r\nnode      10305 10316     user   17u     sock                0,7      0t0 249259644 can't identify protocol\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335846052",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335846052",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335846052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTg0NjA1Mg==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-11T15:17:49Z",
    "updated_at": "2017-10-11T15:29:19Z",
    "author_association": "MEMBER",
    "body": "@ravikamaraj Thanks, that looks much better.  So I think #12850 is working as I expected -- we're now returning an error that indicates that the channel is shutting down, rather than the incorrect error about the LB policy dropping the call.  (Note that the error we're returning contains another error within it; the outer error says \"failed to create subchannel\", but the inner error says \"Channel Shutdown\", which is what's being returned by the LB policy.  It may be that the wrapped languages should do a better job of exposing the referenced errors as well as the outer one, but that's a separate issue.)\r\n\r\nNote that the thing that's triggering this problem in the first place is that the client is losing connectivity to the server.  This can happen because (e.g.) the server goes down or because there's some network problem.  Is that expected in this environment?  Do you know how long the connectivity problem is lasting?\r\n\r\nTo be clear, I do think there's still another bug here -- even if there's a legitimate interruption of connectivity, we should be handling it more gracefully.  Looking at this more closely, it seems odd that after we destroy and recreate the LB policy, the new instance is immediately seeing the subchannel in state SHUTDOWN.  Even if the server went down and stayed down for the rest of the test, the new LB policy instance should start in state CONNECTING, not state SHUTDOWN.  I wonder if we're somehow failing to remove the subchannel from the subchannel index before we shutdown the old LB policy, so we're getting the same subchannel back in the new LB policy instead of creating a new subchannel...\r\n\r\nCan you try running with #12878 instead of #12850?  I don't think it will solve the problem, but it will provide better logging that should help me see what's actually going on here.\r\n\r\nI'm also a little mystified as to why this would be different in 1.6.x than in 1.4.x.  The handling of the LB policy restart case didn't really change between those two versions.  Can you also send me the log of running the same test with 1.4.x?\r\n\r\nThanks for all the info!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/335851258",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-335851258",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 335851258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTg1MTI1OA==",
    "user": {
      "login": "qingling128",
      "id": 5287526,
      "node_id": "MDQ6VXNlcjUyODc1MjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5287526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qingling128",
      "html_url": "https://github.com/qingling128",
      "followers_url": "https://api.github.com/users/qingling128/followers",
      "following_url": "https://api.github.com/users/qingling128/following{/other_user}",
      "gists_url": "https://api.github.com/users/qingling128/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qingling128/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qingling128/subscriptions",
      "organizations_url": "https://api.github.com/users/qingling128/orgs",
      "repos_url": "https://api.github.com/users/qingling128/repos",
      "events_url": "https://api.github.com/users/qingling128/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qingling128/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-11T15:32:51Z",
    "updated_at": "2017-10-11T15:32:51Z",
    "author_association": "NONE",
    "body": "@markdroth - Thanks for the info!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/336722897",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-336722897",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 336722897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjcyMjg5Nw==",
    "user": {
      "login": "ravikamaraj",
      "id": 17544046,
      "node_id": "MDQ6VXNlcjE3NTQ0MDQ2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17544046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ravikamaraj",
      "html_url": "https://github.com/ravikamaraj",
      "followers_url": "https://api.github.com/users/ravikamaraj/followers",
      "following_url": "https://api.github.com/users/ravikamaraj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ravikamaraj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ravikamaraj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ravikamaraj/subscriptions",
      "organizations_url": "https://api.github.com/users/ravikamaraj/orgs",
      "repos_url": "https://api.github.com/users/ravikamaraj/repos",
      "events_url": "https://api.github.com/users/ravikamaraj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ravikamaraj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-15T16:24:06Z",
    "updated_at": "2017-10-15T16:24:06Z",
    "author_association": "NONE",
    "body": "> Note that the thing that's triggering this problem in the first place is that the client is losing connectivity to the server. This can happen because (e.g.) the server goes down or because there's some network problem. Is that expected in this environment?\r\n\r\nServices run behind AWS ELB, and idle connections are closed upon idle timeout.\r\n\r\n>Do you know how long the connectivity problem is lasting?\r\n\r\nThe issue last as long as the node service is restarted.\r\n\r\n>Can you try running with #12878 instead of #12850?\r\n\r\nSure, I will run sometime this week, and post the results\r\n\r\n>Can you also send me the log of running the same test with 1.4.x?\r\n\r\nI was not able to reproduce the issue. I will run more test this week.\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337777759",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-337777759",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 337777759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzc3Nzc1OQ==",
    "user": {
      "login": "FDUdannychen",
      "id": 2918557,
      "node_id": "MDQ6VXNlcjI5MTg1NTc=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2918557?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FDUdannychen",
      "html_url": "https://github.com/FDUdannychen",
      "followers_url": "https://api.github.com/users/FDUdannychen/followers",
      "following_url": "https://api.github.com/users/FDUdannychen/following{/other_user}",
      "gists_url": "https://api.github.com/users/FDUdannychen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FDUdannychen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FDUdannychen/subscriptions",
      "organizations_url": "https://api.github.com/users/FDUdannychen/orgs",
      "repos_url": "https://api.github.com/users/FDUdannychen/repos",
      "events_url": "https://api.github.com/users/FDUdannychen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FDUdannychen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T02:00:40Z",
    "updated_at": "2017-10-19T02:00:40Z",
    "author_association": "NONE",
    "body": "Can I temporarily disable the loading balancing feature of gRPC? I have a RoundRobin [Polly](https://github.com/app-vnext/polly) policy so the LB is not a key feature to me. Or can I downgrade gRPC to a specific version to avoid this issue? Which version should I use? Thanks."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337778393",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-337778393",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 337778393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzc3ODM5Mw==",
    "user": {
      "login": "qingling128",
      "id": 5287526,
      "node_id": "MDQ6VXNlcjUyODc1MjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5287526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qingling128",
      "html_url": "https://github.com/qingling128",
      "followers_url": "https://api.github.com/users/qingling128/followers",
      "following_url": "https://api.github.com/users/qingling128/following{/other_user}",
      "gists_url": "https://api.github.com/users/qingling128/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qingling128/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qingling128/subscriptions",
      "organizations_url": "https://api.github.com/users/qingling128/orgs",
      "repos_url": "https://api.github.com/users/qingling128/repos",
      "events_url": "https://api.github.com/users/qingling128/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qingling128/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T02:05:14Z",
    "updated_at": "2017-10-19T02:05:14Z",
    "author_association": "NONE",
    "body": "Same here. Any potential workaround?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337923185",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-337923185",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 337923185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzkyMzE4NQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T14:20:40Z",
    "updated_at": "2017-10-19T14:20:40Z",
    "author_association": "MEMBER",
    "body": "Until someone can provide me trace logs of this problem with #12878 patched in, I don't have enough information to understand what's triggering the problem, so I can't provide a work-around.\r\n\r\nFrom earlier in this issue, it seems that people are not having this problem with gRPC 1.4.x, only with 1.6.x, so you can try downgrading to that until we get this resolved."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337937412",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-337937412",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 337937412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzkzNzQxMg==",
    "user": {
      "login": "subk",
      "id": 15170639,
      "node_id": "MDQ6VXNlcjE1MTcwNjM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/15170639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/subk",
      "html_url": "https://github.com/subk",
      "followers_url": "https://api.github.com/users/subk/followers",
      "following_url": "https://api.github.com/users/subk/following{/other_user}",
      "gists_url": "https://api.github.com/users/subk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/subk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/subk/subscriptions",
      "organizations_url": "https://api.github.com/users/subk/orgs",
      "repos_url": "https://api.github.com/users/subk/repos",
      "events_url": "https://api.github.com/users/subk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/subk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T15:05:30Z",
    "updated_at": "2017-10-19T15:05:30Z",
    "author_association": "NONE",
    "body": "example project to easily reproduce this in nodejs : https://github.com/subk/grpc-issue-12506\r\nIt looks like reusing the same host/port on each test run will always trigger the \"load balacing policy\" error at some point.\r\nIf the server binds on a random port on each run, everything is fine.\r\n\r\nMy 2 cts"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/338049041",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-338049041",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 338049041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODA0OTA0MQ==",
    "user": {
      "login": "qingling128",
      "id": 5287526,
      "node_id": "MDQ6VXNlcjUyODc1MjY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5287526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qingling128",
      "html_url": "https://github.com/qingling128",
      "followers_url": "https://api.github.com/users/qingling128/followers",
      "following_url": "https://api.github.com/users/qingling128/following{/other_user}",
      "gists_url": "https://api.github.com/users/qingling128/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qingling128/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qingling128/subscriptions",
      "organizations_url": "https://api.github.com/users/qingling128/orgs",
      "repos_url": "https://api.github.com/users/qingling128/repos",
      "events_url": "https://api.github.com/users/qingling128/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qingling128/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T21:54:53Z",
    "updated_at": "2017-10-19T21:54:53Z",
    "author_association": "NONE",
    "body": "Thanks a lot! I tried @subk's suggestion and modified our test mocks to use a different port every time. Now we no longer get this error.\r\n\r\nThe potential impact of this issue is still a bit concerning though. We'll stay tuned for a fix while developing with this workaround."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/338296461",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-338296461",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 338296461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODI5NjQ2MQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T19:06:50Z",
    "updated_at": "2017-10-20T19:06:50Z",
    "author_association": "MEMBER",
    "body": "I've asked David to look into trying to reproduce this locally so that we can try to figure out what's causing the problem."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/338390468",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-338390468",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 338390468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODM5MDQ2OA==",
    "user": {
      "login": "ravikamaraj",
      "id": 17544046,
      "node_id": "MDQ6VXNlcjE3NTQ0MDQ2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17544046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ravikamaraj",
      "html_url": "https://github.com/ravikamaraj",
      "followers_url": "https://api.github.com/users/ravikamaraj/followers",
      "following_url": "https://api.github.com/users/ravikamaraj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ravikamaraj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ravikamaraj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ravikamaraj/subscriptions",
      "organizations_url": "https://api.github.com/users/ravikamaraj/orgs",
      "repos_url": "https://api.github.com/users/ravikamaraj/repos",
      "events_url": "https://api.github.com/users/ravikamaraj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ravikamaraj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-21T12:27:25Z",
    "updated_at": "2017-10-21T15:18:34Z",
    "author_association": "NONE",
    "body": "@markdroth \r\nPlease find trace logs for patch #12878 with 1.6.1. This time resulted in time out (deadline exceeded). I have tried with 5s / 15s timeouts, and provided the logs for both.\r\n**5s timeout**\r\n```\r\nD1021 05:20:57.577039924   17249 client_channel.cc:1394]     chand=0x338bb98 calld=0x334c7c0: entering client_channel combiner\r\nD1021 05:20:57.577068211   17249 client_channel.cc:303]      chand=0x338bb98: starting name resolution\r\nD1021 05:20:57.577215873   17249 client_channel.cc:1250]     chand=0x338bb98 calld=0x334c7c0: deferring pick pending resolver result\r\nD1021 05:20:57.623056859   17249 client_channel.cc:376]      chand=0x338bb98: got resolver result: error=\"No Error\"\r\nD1021 05:20:57.623093926   17249 pick_first.cc:596]          Pick First 0x338c1f0 created.\r\nI1021 05:20:57.623100761   17249 pick_first.cc:264]          Pick First 0x338c1f0 received update with 2 addresses\r\nD1021 05:20:57.623105894   17249 subchannel_list.cc:103]     [LB 0x338c1f0] Creating subchannel list 0x331fd10 for 2 subchannels\r\nD1021 05:20:57.623128958   17249 subchannel_list.cc:157]     [LB 0x338c1f0] subchannel for address uri ipv4:xx.xx.xxx.xxx:50057 shutting down, ignoring\r\nD1021 05:20:57.623139765   17249 subchannel_list.cc:157]     [LB 0x338c1f0] subchannel for address uri ipv4:xx.xx.xxx.xx:50057 shutting down, ignoring\r\nD1021 05:20:57.623147420   17249 client_channel.cc:485]      chand=0x338bb98: resolver result: lb_policy_name=\"pick_first\" (changed), service_config=\"(null)\"\r\nD1021 05:20:57.623155261   17249 client_channel.cc:567]      chand=0x338bb98: initializing new LB policy\r\nD1021 05:20:57.623161501   17249 client_channel.cc:252]      chand=0x338bb98: setting connectivity state to TRANSIENT_FAILURE\r\nD1021 05:20:57.623166146   17249 client_channel.cc:1231]     chand=0x338bb98 calld=0x334c7c0: resolver returned, doing pick\r\nD1021 05:20:57.623170571   17249 client_channel.cc:1108]     chand=0x338bb98 calld=0x334c7c0: starting pick on lb_policy=0x338c1f0\r\nD1021 05:20:57.623175542   17249 client_channel.cc:967]      chand=0x338bb98 calld=0x334c7c0: applying service config to call\r\nD1021 05:21:00.197542657   17249 pick_first.cc:366]          Pick First 0x330a7d0 connectivity changed for subchannel 0x3364200 (0 of 2), subchannel_list 0x33199e0: state=SHUTDOWN p->shutdown=0 sd->subchannel_list->shutting_down=0 error={\"created\":\"@1508588460.197499274\",\"description\":\"Endpoint read failed\",\"file\":\"../src/core/ext/transport/chttp2/transport/chttp2_transport.cc\",\"file_line\":2520,\"grpc_status\":14,\"occurred_during_write\":0,\"referenced_errors\":[{\"created\":\"@1508588460.197495772\",\"description\":\"EOF\",\"file\":\"../src/core/lib/iomgr/tcp_uv.cc\",\"file_line\":154}]}\r\nD1021 05:21:00.197591482   17249 subchannel_list.cc:84]      [LB 0x330a7d0] subchannel list 0x33199e0 index 0 of 2 (subchannel 0x3364200): stopping connectivity watch\r\nD1021 05:21:00.197598929   17249 subchannel_list.cc:235]     [LB 0x330a7d0] subchannel_list 0x33199e0 UNREF 2->1 (pf_selected_shutdown)\r\nD1021 05:21:00.197603759   17249 pick_first.cc:77]           Pick First 0x330a7d0 Shutting down\r\nD1021 05:21:00.197607867   17249 subchannel_list.cc:277]     [LB 0x330a7d0] Shutting down subchannel_list 0x33199e0 (pf_shutdown)\r\nD1021 05:21:00.197612136   17249 subchannel_list.cc:40]      [LB 0x330a7d0] subchannel list 0x33199e0 index 0 of 2 (subchannel 0x3364200): unreffing subchannel\r\nD1021 05:21:00.197635089   17249 subchannel_list.cc:235]     [LB 0x330a7d0] subchannel_list 0x33199e0 UNREF 1->0 (pf_shutdown)\r\nD1021 05:21:00.197639650   17249 subchannel_list.cc:204]     [LB 0x330a7d0] Destroying subchannel_list 0x33199e0\r\nD1021 05:21:00.197650357   17249 client_channel.cc:266]      chand=0x3240088: lb_policy=0x330a7d0 state changed to SHUTDOWN\r\nD1021 05:21:00.197681244   17249 client_channel.cc:252]      chand=0x3240088: setting connectivity state to TRANSIENT_FAILURE\r\nD1021 05:21:00.197694471   17249 pick_first.cc:77]           Pick First 0x330a7d0 Shutting down\r\nD1021 05:21:00.197705581   17249 pick_first.cc:70]           Pick First 0x330a7d0 destroyed.\r\nD1021 05:21:00.198302048   17249 client_channel.cc:376]      chand=0x3240088: got resolver result: error=\"No Error\"\r\nD1021 05:21:00.198322908   17249 pick_first.cc:596]          Pick First 0x330a7d0 created.\r\nI1021 05:21:00.198328767   17249 pick_first.cc:264]          Pick First 0x330a7d0 received update with 2 addresses\r\nD1021 05:21:00.198333395   17249 subchannel_list.cc:103]     [LB 0x330a7d0] Creating subchannel list 0x33199e0 for 2 subchannels\r\nD1021 05:21:00.198372962   17249 subchannel_list.cc:170]     [LB 0x330a7d0] subchannel list 0x33199e0 index 0: Created subchannel 0x3364200 for address uri ipv4:10.21.102.231:50055; initial connectivity state: IDLE\r\nD1021 05:21:00.198405591   17249 subchannel_list.cc:170]     [LB 0x330a7d0] subchannel list 0x33199e0 index 1: Created subchannel 0x3232650 for address uri ipv4:10.21.101.41:50055; initial connectivity state: IDLE\r\nD1021 05:21:00.198416758   17249 client_channel.cc:485]      chand=0x3240088: resolver result: lb_policy_name=\"pick_first\", service_config=\"(null)\"\r\nD1021 05:21:00.198421846   17249 client_channel.cc:567]      chand=0x3240088: initializing new LB policy\r\nD1021 05:21:00.198426960   17249 client_channel.cc:252]      chand=0x3240088: setting connectivity state to IDLE\r\nD1021 05:21:02.576758902   17249 client_channel.cc:1073]     chand=0x338bb98 calld=0x334c7c0: cancelling pick from LB policy 0x338c1f0\r\nD1021 05:21:02.576828162   17249 client_channel.cc:1091]     chand=0x338bb98 calld=0x334c7c0: pick completed asynchronously\r\nD1021 05:21:02.577576542   17249 client_channel.cc:1039]     chand=0x338bb98 calld=0x334c7c0: failed to create subchannel: error={\"created\":\"@1508588462.577543524\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508588462.576825647\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508588462.576747733\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 05:21:02.577612732   17249 client_channel.cc:898]      chand=0x338bb98 calld=0x334c7c0: failing 0 pending batches: {\"created\":\"@1508588462.577543524\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508588462.576825647\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508588462.576747733\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 05:21:02.577652441   17249 client_channel.cc:1335]     chand=0x338bb98 calld=0x334c7c0: failing batch with error: {\"created\":\"@1508588462.577543524\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508588462.576825647\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508588462.576747733\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 05:21:02.577674579   17249 client_channel.cc:1335]     chand=0x338bb98 calld=0x334c7c0: failing batch with error: {\"created\":\"@1508588462.577543524\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508588462.576825647\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508588462.576747733\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 05:21:02.577685059   17249 client_channel.cc:1335]     chand=0x338bb98 calld=0x334c7c0: failing batch with error: {\"created\":\"@1508588462.577543524\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508588462.576825647\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508588462.576747733\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\n```\r\n\r\n**15s timeout**\r\n```\r\nD1021 08:12:25.887284233   26436 client_channel.cc:1394]     chand=0x3064f78 calld=0x309c660: entering client_channel combiner\r\nD1021 08:12:25.887341081   26436 client_channel.cc:303]      chand=0x3064f78: starting name resolution\r\nD1021 08:12:25.887464365   26436 client_channel.cc:1250]     chand=0x3064f78 calld=0x309c660: deferring pick pending resolver result\r\nD1021 08:12:25.896525597   26436 client_channel.cc:376]      chand=0x3064f78: got resolver result: error=\"No Error\"\r\nD1021 08:12:25.896589387   26436 pick_first.cc:596]          Pick First 0x3076b70 created.\r\nI1021 08:12:25.896625236   26436 pick_first.cc:264]          Pick First 0x3076b70 received update with 2 addresses\r\nD1021 08:12:25.896662833   26436 subchannel_list.cc:103]     [LB 0x3076b70] Creating subchannel list 0x2f709c0 for 2 subchannels\r\nD1021 08:12:25.896710056   26436 subchannel_list.cc:157]     [LB 0x3076b70] subchannel for address uri ipv4:xx.xx.xxx.xxx:50057 shutting down, ignoring\r\nD1021 08:12:25.896754559   26436 subchannel_list.cc:157]     [LB 0x3076b70] subchannel for address uri ipv4:xx.xx.xxx.xx:50057 shutting down, ignoring\r\nD1021 08:12:25.896793522   26436 client_channel.cc:485]      chand=0x3064f78: resolver result: lb_policy_name=\"pick_first\" (changed), service_config=\"(null)\"\r\nD1021 08:12:25.896826672   26436 client_channel.cc:567]      chand=0x3064f78: initializing new LB policy\r\nD1021 08:12:25.896859296   26436 client_channel.cc:252]      chand=0x3064f78: setting connectivity state to TRANSIENT_FAILURE\r\nD1021 08:12:25.896891613   26436 client_channel.cc:1231]     chand=0x3064f78 calld=0x309c660: resolver returned, doing pick\r\nD1021 08:12:25.896922152   26436 client_channel.cc:1108]     chand=0x3064f78 calld=0x309c660: starting pick on lb_policy=0x3076b70\r\nD1021 08:12:25.896951516   26436 client_channel.cc:967]      chand=0x3064f78 calld=0x309c660: applying service config to call\r\nD1021 08:12:40.885673027   26436 client_channel.cc:1073]     chand=0x3064f78 calld=0x309c660: cancelling pick from LB policy 0x3076b70\r\nD1021 08:12:40.885724469   26436 client_channel.cc:1091]     chand=0x3064f78 calld=0x309c660: pick completed asynchronously\r\nD1021 08:12:40.885763548   26436 client_channel.cc:1039]     chand=0x3064f78 calld=0x309c660: failed to create subchannel: error={\"created\":\"@1508598760.885732063\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508598760.885722224\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508598760.885663652\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 08:12:40.885793029   26436 client_channel.cc:898]      chand=0x3064f78 calld=0x309c660: failing 0 pending batches: {\"created\":\"@1508598760.885732063\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508598760.885722224\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508598760.885663652\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 08:12:40.885832793   26436 client_channel.cc:1335]     chand=0x3064f78 calld=0x309c660: failing batch with error: {\"created\":\"@1508598760.885732063\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508598760.885722224\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508598760.885663652\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 08:12:40.885863690   26436 client_channel.cc:1335]     chand=0x3064f78 calld=0x309c660: failing batch with error: {\"created\":\"@1508598760.885732063\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508598760.885722224\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508598760.885663652\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nD1021 08:12:40.885875710   26436 client_channel.cc:1335]     chand=0x3064f78 calld=0x309c660: failing batch with error: {\"created\":\"@1508598760.885732063\",\"description\":\"Failed to create subchannel\",\"file\":\"../src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1037,\"referenced_errors\":[{\"created\":\"@1508598760.885722224\",\"description\":\"Pick Cancelled\",\"file\":\"../src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":120,\"referenced_errors\":[{\"created\":\"@1508598760.885663652\",\"description\":\"Deadline Exceeded\",\"file\":\"../src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/342234744",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-342234744",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 342234744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjIzNDc0NA==",
    "user": {
      "login": "connor4312",
      "id": 2230985,
      "node_id": "MDQ6VXNlcjIyMzA5ODU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/2230985?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/connor4312",
      "html_url": "https://github.com/connor4312",
      "followers_url": "https://api.github.com/users/connor4312/followers",
      "following_url": "https://api.github.com/users/connor4312/following{/other_user}",
      "gists_url": "https://api.github.com/users/connor4312/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/connor4312/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/connor4312/subscriptions",
      "organizations_url": "https://api.github.com/users/connor4312/orgs",
      "repos_url": "https://api.github.com/users/connor4312/repos",
      "events_url": "https://api.github.com/users/connor4312/events{/privacy}",
      "received_events_url": "https://api.github.com/users/connor4312/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-06T18:07:45Z",
    "updated_at": "2017-11-06T18:09:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "This happened for us in grpc 1.6.6 (in Node). We had issues with the remote grpc service, which were recovered, but our servers got stuck in some kind of bad state and continued to occasionally throw this error for several hours until the instances were manually restarted. Other client services were able to contact the grpc service without issues during this time."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/344123106",
    "html_url": "https://github.com/grpc/grpc/issues/12506#issuecomment-344123106",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12506",
    "id": 344123106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDEyMzEwNg==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-14T02:11:03Z",
    "updated_at": "2017-11-14T02:11:03Z",
    "author_association": "NONE",
    "body": "Can anyone please confirm is this is still an issue at current head? The code has gone through significant changes lately."
  }
]
