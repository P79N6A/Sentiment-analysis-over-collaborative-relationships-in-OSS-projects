[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/452380675",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-452380675",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 452380675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjM4MDY3NQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-08T17:21:03Z",
    "updated_at": "2019-01-08T17:21:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "CC @kkm000 "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/452573807",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-452573807",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 452573807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjU3MzgwNw==",
    "user": {
      "login": "kkm000",
      "id": 8228229,
      "node_id": "MDQ6VXNlcjgyMjgyMjk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8228229?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kkm000",
      "html_url": "https://github.com/kkm000",
      "followers_url": "https://api.github.com/users/kkm000/followers",
      "following_url": "https://api.github.com/users/kkm000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kkm000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kkm000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kkm000/subscriptions",
      "organizations_url": "https://api.github.com/users/kkm000/orgs",
      "repos_url": "https://api.github.com/users/kkm000/repos",
      "events_url": "https://api.github.com/users/kkm000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kkm000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-09T05:08:48Z",
    "updated_at": "2019-01-09T05:08:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reproduced. Thanks for the report!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/472589244",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-472589244",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 472589244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjU4OTI0NA==",
    "user": {
      "login": "vctrferreira",
      "id": 9720953,
      "node_id": "MDQ6VXNlcjk3MjA5NTM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9720953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vctrferreira",
      "html_url": "https://github.com/vctrferreira",
      "followers_url": "https://api.github.com/users/vctrferreira/followers",
      "following_url": "https://api.github.com/users/vctrferreira/following{/other_user}",
      "gists_url": "https://api.github.com/users/vctrferreira/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vctrferreira/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vctrferreira/subscriptions",
      "organizations_url": "https://api.github.com/users/vctrferreira/orgs",
      "repos_url": "https://api.github.com/users/vctrferreira/repos",
      "events_url": "https://api.github.com/users/vctrferreira/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vctrferreira/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-13T20:20:00Z",
    "updated_at": "2019-03-13T20:20:00Z",
    "author_association": "NONE",
    "body": "Any workaround for that? I have the same problem using 1.19.1"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/473183762",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-473183762",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 473183762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzE4Mzc2Mg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T07:19:57Z",
    "updated_at": "2019-03-15T07:19:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@vctrferreira  It seems that the simplest workaround would be to rename you .proto file to not contain a dot"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/473355644",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-473355644",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 473355644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzM1NTY0NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T16:33:43Z",
    "updated_at": "2019-03-15T16:33:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think I found the rootcause:\r\n\r\nThere is a mismatch between the file name generated by `protoc` and the one expected by CSharpGeneratorServices:\r\nhttps://github.com/grpc/grpc/blob/c28d35dc1c0483830b55f87775a4eaca00595a7f/src/csharp/Grpc.Tools/GeneratorServices.cs#L68\r\n\r\n\r\nProtobuf uses `google::protobuf::compiler:csharp::GetOutputFile`:\r\nhttps://github.com/protocolbuffers/protobuf/blob/b68a347f56137b4b1a746e8c7438495a6ac1bd91/src/google/protobuf/compiler/csharp/csharp_helpers.cc#L356\r\n\r\nwhich ends up using \r\nhttps://github.com/protocolbuffers/protobuf/blob/b68a347f56137b4b1a746e8c7438495a6ac1bd91/src/google/protobuf/compiler/csharp/csharp_helpers.cc#L165\r\n\r\nwhich has special handling for '.' in the file name (in this case it get skipped and the next letter is going to be uppercase)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/474632775",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-474632775",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 474632775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDYzMjc3NQ==",
    "user": {
      "login": "kkm000",
      "id": 8228229,
      "node_id": "MDQ6VXNlcjgyMjgyMjk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8228229?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kkm000",
      "html_url": "https://github.com/kkm000",
      "followers_url": "https://api.github.com/users/kkm000/followers",
      "following_url": "https://api.github.com/users/kkm000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kkm000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kkm000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kkm000/subscriptions",
      "organizations_url": "https://api.github.com/users/kkm000/orgs",
      "repos_url": "https://api.github.com/users/kkm000/repos",
      "events_url": "https://api.github.com/users/kkm000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kkm000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T00:10:20Z",
    "updated_at": "2019-03-20T00:18:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jtattermusch, yes, I've seen that. I'm very sorry for sitting too long on the issues.\r\n\r\nActually, the root root cause is the difference between protobuf-generated and grpc-plugin-generated filenames, so we end up with `HelloWorld.cs` but `Hello.worldGrpc.cs` from protoc. I replicated protoc's way of producing the filename (thus expecting `HelloWorldGrpc.cs` to be generated in this case), but the generator does not handle the dot specially, if you look at its code (https://github.com/grpc/grpc/blob/c28d35dc1/src/compiler/csharp_generator_helpers.h#L27 and, principally, https://github.com/grpc/grpc/blob/c28d35dc1/src/compiler/generator_helpers.h#L127).\r\n\r\nI'm tempted to fix grpc codegen's C# filename production to match that of protoc (the dot is an edge case). Do you think it would be too breaking?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/474902593",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-474902593",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 474902593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDkwMjU5Mw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T16:02:46Z",
    "updated_at": "2019-03-20T16:02:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kkm000  the problem is that the method for generating the output filename is used by all the grpc_*_plugin  regardless of the language I believe - so this could potentially break other languages as well.\r\n\r\nHere's what I propose:\r\n1. (hotfix) in Grpc.Tools, replicate the logic for generating file name that protoc uses and use the correct algorithm depending on the value of `doGrpc`.   Btw, in contrary to what you're saying I think currently the CSharpGeneratorServices logic replicates the grpc_*_plugin behavior as it doesn't handle the dot and other nonalphanumeric characters the way protoc does. We'll be cutting the next release branch Tuesday next week so if we can make it until then, it would be great.\r\n\r\n2. file an issue that grpc_*_plugins are using a filename that's incompatible with what protoc does.\r\n\r\n3. see if the right solution for 2) is to change the path generator in grpc plugins (without being in a hurry because thing are broken) and do that if so."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/475107776",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-475107776",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 475107776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTEwNzc3Ng==",
    "user": {
      "login": "kkm000",
      "id": 8228229,
      "node_id": "MDQ6VXNlcjgyMjgyMjk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8228229?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kkm000",
      "html_url": "https://github.com/kkm000",
      "followers_url": "https://api.github.com/users/kkm000/followers",
      "following_url": "https://api.github.com/users/kkm000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kkm000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kkm000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kkm000/subscriptions",
      "organizations_url": "https://api.github.com/users/kkm000/orgs",
      "repos_url": "https://api.github.com/users/kkm000/repos",
      "events_url": "https://api.github.com/users/kkm000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kkm000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-21T04:06:56Z",
    "updated_at": "2019-03-21T04:06:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jtattermusch SGTM, I'll do the (1) ASAP.\r\n\r\nYes, you are right about which of the two algorithms I implemented, it's the other way round. Here's the dependency file from protoc, actually generated files\r\n```\r\n$ cat obj/Debug/netstandard1.5/bf0dab1a5244446f_hello.world.protodep\r\nobj/Debug/netstandard1.5/Hello.worldGrpc.cs \\\r\nobj/Debug/netstandard1.5/HelloWorld.cs: ../../../protos/hello.world.proto\r\n```\r\nSo we do generate `Hello.worldGrpc.cs` from `hello.world.proto`, protoc does `HelloWorld.cs`, and our MSBuild tooling expects `Hello.world.cs` and `Hello.worldGrpc.cs`. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/475511252",
    "html_url": "https://github.com/grpc/grpc/issues/17661#issuecomment-475511252",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17661",
    "id": 475511252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTUxMTI1Mg==",
    "user": {
      "login": "kkm000",
      "id": 8228229,
      "node_id": "MDQ6VXNlcjgyMjgyMjk=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8228229?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kkm000",
      "html_url": "https://github.com/kkm000",
      "followers_url": "https://api.github.com/users/kkm000/followers",
      "following_url": "https://api.github.com/users/kkm000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kkm000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kkm000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kkm000/subscriptions",
      "organizations_url": "https://api.github.com/users/kkm000/orgs",
      "repos_url": "https://api.github.com/users/kkm000/repos",
      "events_url": "https://api.github.com/users/kkm000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kkm000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-22T06:43:32Z",
    "updated_at": "2019-03-22T06:43:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "ETA couple hours, done and works locally. I am checking if I can cram fixes to other reported issues into one PR."
  }
]
