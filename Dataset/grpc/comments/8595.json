[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/266873447",
    "html_url": "https://github.com/grpc/grpc/issues/8595#issuecomment-266873447",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8595",
    "id": 266873447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Njg3MzQ0Nw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-13T21:52:00Z",
    "updated_at": "2016-12-13T21:52:00Z",
    "author_association": "MEMBER",
    "body": "OK, it looks like the root cause of this issue is #8726. They are evaluating unequal because they are being deserialized in a different format than they exist in the enum object. An option to change this behavior will be added in #9004."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/385573968",
    "html_url": "https://github.com/grpc/grpc/issues/8595#issuecomment-385573968",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8595",
    "id": 385573968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTU3Mzk2OA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-01T01:07:11Z",
    "updated_at": "2018-05-01T01:07:11Z",
    "author_association": "MEMBER",
    "body": "The new package `@grpc/proto-loader` includes options for how enums are deserialized."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/406657714",
    "html_url": "https://github.com/grpc/grpc/issues/8595#issuecomment-406657714",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8595",
    "id": 406657714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjY1NzcxNA==",
    "user": {
      "login": "charandas",
      "id": 542168,
      "node_id": "MDQ6VXNlcjU0MjE2OA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/542168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charandas",
      "html_url": "https://github.com/charandas",
      "followers_url": "https://api.github.com/users/charandas/followers",
      "following_url": "https://api.github.com/users/charandas/following{/other_user}",
      "gists_url": "https://api.github.com/users/charandas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charandas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charandas/subscriptions",
      "organizations_url": "https://api.github.com/users/charandas/orgs",
      "repos_url": "https://api.github.com/users/charandas/repos",
      "events_url": "https://api.github.com/users/charandas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charandas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-20T16:43:11Z",
    "updated_at": "2018-07-20T16:43:38Z",
    "author_association": "NONE",
    "body": "For anyone that lands here, the new package `@grpc/proto-loader` worked for me. I do want to add that if you use enums beginning at `0`, you would need:\r\n\r\n```\r\nconst packageDefinition = protoLoader.loadSync('your_proto.proto', {\r\n  enums: String,\r\n  defaults: true, // needed this as well\r\n.... code omitted\r\n})\r\n```\r\n\r\nI am not sure if this is a bug because I am testing with [grpcc](https://github.com/njpatel/grpcc) and am explicitly passing in a `0` for the enum field, but it would simply get stripped (if not for `defaults: true`)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/407180279",
    "html_url": "https://github.com/grpc/grpc/issues/8595#issuecomment-407180279",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8595",
    "id": 407180279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzE4MDI3OQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-23T19:53:36Z",
    "updated_at": "2018-07-23T19:53:36Z",
    "author_association": "MEMBER",
    "body": "That is how it is supposed to work. The [protobuf 3 language guide](https://developers.google.com/protocol-buffers/docs/proto3#enum) says\r\n\r\n> every enum definition must contain a constant that maps to zero as its first element. This is because:\r\n> - There must be a zero value, so that we can use 0 as a numeric default value.\r\n> - The zero value needs to be the first element, for compatibility with the proto2 semantics where the first enum value is always the default.\r\n\r\nThen, like with any other field type, default values are omitted unless you specify `defaults: true`."
  }
]
