[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/364368590",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-364368590",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 364368590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDM2ODU5MA==",
    "user": {
      "login": "dcow",
      "id": 547926,
      "node_id": "MDQ6VXNlcjU0NzkyNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/547926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcow",
      "html_url": "https://github.com/dcow",
      "followers_url": "https://api.github.com/users/dcow/followers",
      "following_url": "https://api.github.com/users/dcow/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcow/subscriptions",
      "organizations_url": "https://api.github.com/users/dcow/orgs",
      "repos_url": "https://api.github.com/users/dcow/repos",
      "events_url": "https://api.github.com/users/dcow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-09T08:32:48Z",
    "updated_at": "2018-02-09T08:32:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is literature on handling zone-ids in URIs: https://tools.ietf.org/html/rfc6874. Even if apple's URL class did support them, the grpc code still passes the original address (which would need to be url encoded %25) down to lower layers which are not expecting % to be an escape character."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/368183057",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-368183057",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 368183057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODE4MzA1Nw==",
    "user": {
      "login": "dcow",
      "id": 547926,
      "node_id": "MDQ6VXNlcjU0NzkyNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/547926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcow",
      "html_url": "https://github.com/dcow",
      "followers_url": "https://api.github.com/users/dcow/followers",
      "following_url": "https://api.github.com/users/dcow/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcow/subscriptions",
      "organizations_url": "https://api.github.com/users/dcow/orgs",
      "repos_url": "https://api.github.com/users/dcow/repos",
      "events_url": "https://api.github.com/users/dcow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-24T01:08:41Z",
    "updated_at": "2018-02-24T01:08:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@muxi any thoughts on this? Should we address this separately from #14387 or at the same time?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/368189984",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-368189984",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 368189984,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODE4OTk4NA==",
    "user": {
      "login": "muxi",
      "id": 1054404,
      "node_id": "MDQ6VXNlcjEwNTQ0MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1054404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muxi",
      "html_url": "https://github.com/muxi",
      "followers_url": "https://api.github.com/users/muxi/followers",
      "following_url": "https://api.github.com/users/muxi/following{/other_user}",
      "gists_url": "https://api.github.com/users/muxi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muxi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muxi/subscriptions",
      "organizations_url": "https://api.github.com/users/muxi/orgs",
      "repos_url": "https://api.github.com/users/muxi/repos",
      "events_url": "https://api.github.com/users/muxi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muxi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-24T02:20:39Z",
    "updated_at": "2018-02-24T02:20:39Z",
    "author_association": "MEMBER",
    "body": "Hey sorry I have not had a chance to take a look at this issue. If the root cause of this problem is that NSURL not understanding the zone ids then I think we should address this separately from #14387. Given there's quite a few pending issues with higher priority, it would be great if you can make a PR for this too and I'll be able to help with review."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/368194358",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-368194358",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 368194358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODE5NDM1OA==",
    "user": {
      "login": "dcow",
      "id": 547926,
      "node_id": "MDQ6VXNlcjU0NzkyNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/547926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcow",
      "html_url": "https://github.com/dcow",
      "followers_url": "https://api.github.com/users/dcow/followers",
      "following_url": "https://api.github.com/users/dcow/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcow/subscriptions",
      "organizations_url": "https://api.github.com/users/dcow/orgs",
      "repos_url": "https://api.github.com/users/dcow/repos",
      "events_url": "https://api.github.com/users/dcow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-24T03:13:20Z",
    "updated_at": "2018-02-24T03:13:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "No problem! I can certainly do that."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370088044",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-370088044",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 370088044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDA4ODA0NA==",
    "user": {
      "login": "dcow",
      "id": 547926,
      "node_id": "MDQ6VXNlcjU0NzkyNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/547926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcow",
      "html_url": "https://github.com/dcow",
      "followers_url": "https://api.github.com/users/dcow/followers",
      "following_url": "https://api.github.com/users/dcow/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcow/subscriptions",
      "organizations_url": "https://api.github.com/users/dcow/orgs",
      "repos_url": "https://api.github.com/users/dcow/repos",
      "events_url": "https://api.github.com/users/dcow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-02T23:34:59Z",
    "updated_at": "2018-03-02T23:35:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@muxi I've started working on this today. It's a little hairier than I initially imagined.\r\n\r\n```\r\n// To provide a default port, we try to interpret the address. If it's just a host name without\r\n// scheme and without port, we'll use port 443. If it has a scheme, we pass it untouched to the C\r\n// gRPC library.\r\n```\r\n\r\nIs there any case where someone would provide a host address with a scheme? Isn't `https` the only scheme compatible with grpc?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370090995",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-370090995",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 370090995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDA5MDk5NQ==",
    "user": {
      "login": "dcow",
      "id": 547926,
      "node_id": "MDQ6VXNlcjU0NzkyNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/547926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcow",
      "html_url": "https://github.com/dcow",
      "followers_url": "https://api.github.com/users/dcow/followers",
      "following_url": "https://api.github.com/users/dcow/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcow/subscriptions",
      "organizations_url": "https://api.github.com/users/dcow/orgs",
      "repos_url": "https://api.github.com/users/dcow/repos",
      "events_url": "https://api.github.com/users/dcow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-02T23:52:03Z",
    "updated_at": "2018-03-02T23:52:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jcanizales question for you. You've put a few `TODO`s in the host handling code in grpc obj-c. Since I'm touching this code, is there a vision you had for how it would all work once the todos are addressed? I'm curious if I can address any of that right now.\r\n\r\nFor example in grpc call:\r\n\r\n```\r\n // TODO(jcanizales): Extract this logic somewhere common.\r\n  NSString *host = [NSURL URLWithString:[@\"https://\" stringByAppendingString:_host]].host;\r\n\r\n  if (!host) {\r\n    // TODO(jcanizales): Check this on init.\r\n    [NSException raise:NSInvalidArgumentException format:@\"host of %@ is nil\", _host];\r\n  }\r\n```\r\n\r\nI can put logic in the same place easy, but it appears the logic is actually different between grpc call and grpc host. In grpc host, the logic is used not just to get the host part of the address, but also append a port if no scheme and port exists."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370097437",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-370097437",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 370097437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDA5NzQzNw==",
    "user": {
      "login": "muxi",
      "id": 1054404,
      "node_id": "MDQ6VXNlcjEwNTQ0MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1054404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muxi",
      "html_url": "https://github.com/muxi",
      "followers_url": "https://api.github.com/users/muxi/followers",
      "following_url": "https://api.github.com/users/muxi/following{/other_user}",
      "gists_url": "https://api.github.com/users/muxi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muxi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muxi/subscriptions",
      "organizations_url": "https://api.github.com/users/muxi/orgs",
      "repos_url": "https://api.github.com/users/muxi/repos",
      "events_url": "https://api.github.com/users/muxi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muxi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-03T00:33:10Z",
    "updated_at": "2018-03-03T00:33:10Z",
    "author_association": "MEMBER",
    "body": "We do support a few schemes. See https://github.com/grpc/grpc/blob/master/doc/naming.md\r\n\r\nPlease ignore that particular TODO. Those few lines should have been deprecated by a very recent change (as you can tell `host` is not being used thereafter). I'll remove that TODO with a PR."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/382207937",
    "html_url": "https://github.com/grpc/grpc/issues/14369#issuecomment-382207937",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14369",
    "id": 382207937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjIwNzkzNw==",
    "user": {
      "login": "dcow",
      "id": 547926,
      "node_id": "MDQ6VXNlcjU0NzkyNg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/547926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcow",
      "html_url": "https://github.com/dcow",
      "followers_url": "https://api.github.com/users/dcow/followers",
      "following_url": "https://api.github.com/users/dcow/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcow/subscriptions",
      "organizations_url": "https://api.github.com/users/dcow/orgs",
      "repos_url": "https://api.github.com/users/dcow/repos",
      "events_url": "https://api.github.com/users/dcow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T00:57:09Z",
    "updated_at": "2018-04-18T00:57:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@muxi this is no longer an issue since the connectivity monitor rework."
  }
]
