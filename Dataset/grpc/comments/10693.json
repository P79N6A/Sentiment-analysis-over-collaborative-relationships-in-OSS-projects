[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/294677559",
    "html_url": "https://github.com/grpc/grpc/issues/10693#issuecomment-294677559",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10693",
    "id": 294677559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDY3NzU1OQ==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-18T04:56:17Z",
    "updated_at": "2017-04-18T04:56:17Z",
    "author_association": "MEMBER",
    "body": "Did you try running tools/run_tests/start_port_server.py?\n\nOn Mon, Apr 17, 2017, 8:55 PM DavadDi <notifications@github.com> wrote:\n\n> `\n> install grpc\n> $ git clone -b v1.2.3 https://github.com/grpc/grpc\n> $ cd grpc\n> $ git submodule update --init\n> $ make\n> $ [sudo] make install\n> $ [sudo] sudo ldconfig\n>\n> run perf test.\n> $ cd grpc/tools/run_tests\n> $ ./run_performance_tests.py -l c++ c++\n> START: Preparing hosts.\n> PASSED: local_prepare [time=0.1sec; retries=0:0]\n> SUCCESS: Prepare step completed successfully.\n> START: Building.\n> PASSED: local_build [time=27.4sec; retries=0:0]\n> SUCCESS: Built successfully.\n> START: qps_worker_c++_0\n> START: qps_worker_c++_1\n>\n> ++ dirname tools/run_tests/performance/run_qps_driver.sh\n>\n>    - cd tools/run_tests/performance/../../..\n>    - bins/opt/qps_json_driver '--scenarios_json={\"scenarios\": [{\"name\":\n>    \"cpp_generic_async_streaming_ping_pong_secure\", \"warmup_seconds\": 5,\n>    \"benchmark_seconds\": 30, \"num_servers\": 1, \"server_config\":\n>    {\"async_server_threads\": 1, \"security_params\": {\"use_test_ca\": true,\n>    \"server_host_override\": \"foo.test.google.fr\"}, \"payload_config\":\n>    {\"bytebuf_params\": {\"resp_size\": 0, \"req_size\": 0}}, \"server_type\":\n>    \"ASYNC_GENERIC_SERVER\"}, \"client_config\": {\"client_type\": \"ASYNC_CLIENT\",\n>    \"security_params\": {\"use_test_ca\": true, \"server_host_override\": \"\n>    foo.test.google.fr\"}, \"payload_config\": {\"bytebuf_params\":\n>    {\"resp_size\": 0, \"req_size\": 0}}, \"client_channels\": 1,\n>    \"async_client_threads\": 1, \"outstanding_rpcs_per_channel\": 1, \"rpc_type\":\n>    \"STREAMING\", \"load_params\": {\"closed_loop\": {}}, \"histogram_params\":\n>    {\"max_possible\": 60000000000.0, \"resolution\": 0.01}}, \"num_clients\": 1}]}'\n>    --scenario_result_file=scenario_result.json\n>    RUNNING SCENARIO: cpp_generic_async_streaming_ping_pong_secure\n>    I0418 11:37:54.352549688 52970 driver.cc:259] Starting server on\n>    localhost:10000 (worker #0)\n>    I0418 11:37:54.352782948 52970 ev_epoll_linux.c:93] epoll engine will\n>    be using signal: 40\n>    D0418 11:37:54.352798838 52970 ev_posix.c:107] Using polling engine:\n>    epoll\n>    E0418 11:38:06.393006468 52970 driver.cc:278] Server 0 did not yield\n>    initial status\n>    I0418 11:38:06.393073638 52970 driver.cc:306] Starting client on\n>    localhost:10010 (worker #1 <https://github.com/grpc/grpc/pull/1>)\n>    D0418 11:38:06.393134372 52970 driver.cc:322] Client 0 gets 1 channels\n>    E0418 11:43:06.398777309 52970 driver.cc:337] Client 0 did not yield\n>    initial status\n>    I0418 11:43:06.398807770 52970 driver.cc:343] Initiating\n>    E0418 11:43:06.398838268 52970 driver.cc:353] Couldn't write mark to\n>    client 0\n>    E0418 11:43:06.398849404 52970 driver.cc:359] Couldn't get status from\n>    client 0\n>    I0418 11:43:06.398857422 52970 driver.cc:364] Warming up\n>    I0418 11:43:11.398995538 52970 driver.cc:370] Starting\n>    E0418 11:43:11.399094189 52970 driver.cc:374] Couldn't write mark to\n>    server 0\n>    E0418 11:43:11.399116386 52970 driver.cc:380] Couldn't write mark to\n>    client 0\n>    E0418 11:43:11.399126480 52970 driver.cc:386] Couldn't get status from\n>    server 0\n>    E0418 11:43:11.399134429 52970 driver.cc:392] Couldn't get status from\n>    client 0\n>    I0418 11:43:11.399139567 52970 driver.cc:397] Running\n>    I0418 11:43:41.398972802 52970 driver.cc:411] Finishing clients\n>    E0418 11:43:41.399064136 52970 driver.cc:415] Couldn't write mark to\n>    client 0\n>    E0418 11:43:41.399079491 52970 driver.cc:436] Couldn't get final\n>    status from client 0\n>    E0418 11:43:41.399119411 52970 driver.cc:444] Client 0 had an error\n>    Endpoint read failed\n>    I0418 11:43:41.399155430 52970 driver.cc:457] Finishing servers\n>    E0418 11:43:41.399175685 52970 driver.cc:461] Couldn't write mark to\n>    server 0\n>    E0418 11:43:41.399185433 52970 driver.cc:477] Couldn't get final\n>    status from server 0\n>    E0418 11:43:41.399198811 52970 driver.cc:485] Server 0 had an error\n>    Endpoint read failed\n>    I0418 11:43:41.399485479 52970 report.cc:81] QPS: -nan\n>    I0418 11:43:41.414536127 52970 report.cc:91] QPS: -nan (-nan/server\n>    core)\n>    I0418 11:43:41.414585679 52970 report.cc:96] Latencies\n>    (50/90/95/99/99.9%-ile): 0.0/0.0/0.0/0.0/0.0 us\n>    I0418 11:43:41.414592920 52970 report.cc:106] Server system time: -nan%\n>    I0418 11:43:41.414597624 52970 report.cc:108] Server user time: -nan%\n>    I0418 11:43:41.414601923 52970 report.cc:110] Client system time: -nan%\n>    I0418 11:43:41.414610083 52970 report.cc:112] Client user time: -nan%\n>    I0418 11:43:41.414614752 52970 report.cc:117] Server CPU usage: -nan%\n>    FAILED: qps_json_driver.cpp_generic_async_streaming_ping_pong_secure\n>    [ret=1, pid=52966]\n>\n> TIMEOUT: qps_json_driver.quit [pid=54252]\n>\n> I0418 11:37:54.340066819 52964 server_builder.cc:247] Synchronous server.\n> Num CQs: 1, Min pollers: 1, Max Pollers: 2147483647, CQ timeout (msec): 1000\n> gRPC tests require a helper port server to allocate ports used\n> during the test.\n>\n> This server is not currently running.\n>\n> To start it, run tools/run_tests/start_port_server.py\n>\n> FAILED: qps_worker_c++_0 [ret=1, pid=52964]\n> `\n>\n> Any Idea About that?\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/10693>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AJpudYi6asTDgMH8K9MrxdulGtYHqnTZks5rxDRLgaJpZM4M_13J>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/294717278",
    "html_url": "https://github.com/grpc/grpc/issues/10693#issuecomment-294717278",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10693",
    "id": 294717278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDcxNzI3OA==",
    "user": {
      "login": "DavadDi",
      "id": 7161135,
      "node_id": "MDQ6VXNlcjcxNjExMzU=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7161135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DavadDi",
      "html_url": "https://github.com/DavadDi",
      "followers_url": "https://api.github.com/users/DavadDi/followers",
      "following_url": "https://api.github.com/users/DavadDi/following{/other_user}",
      "gists_url": "https://api.github.com/users/DavadDi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DavadDi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DavadDi/subscriptions",
      "organizations_url": "https://api.github.com/users/DavadDi/orgs",
      "repos_url": "https://api.github.com/users/DavadDi/repos",
      "events_url": "https://api.github.com/users/DavadDi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DavadDi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-18T07:45:37Z",
    "updated_at": "2017-04-18T07:45:37Z",
    "author_association": "NONE",
    "body": "@ctiller It works by starting **tools/run_tests/start_port_server.py** manually！Thanks.  If we don't run test by running **tools/run_tests/run_tests.py**, for example just only test performance, we need to start **tools/run_tests/start_port_server.py** before."
  }
]
