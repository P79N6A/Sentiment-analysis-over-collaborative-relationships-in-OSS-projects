[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/436666383",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-436666383",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 436666383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjY2NjM4Mw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-07T15:39:37Z",
    "updated_at": "2018-11-07T15:39:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nErrors/Failures:\r\n[91munit._server_ssl_cert_config_test.ServerSSLCertReloadTestWithoutClientAuth.test[0m\r\n[1mtraceback:[0m\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/unittest/case.py\", line 329, in run\r\n    testMethod()\r\n  File \"/var/local/git/grpc/src/python/grpcio_tests/tests/unit/_server_ssl_cert_config_test.py\", line 354, in _test\r\n    self.assertEqual(len(actual_calls), 0)\r\n  File \"/usr/lib/python2.7/unittest/case.py\", line 513, in assertEqual\r\n    assertion_func(first, second, msg=msg)\r\n  File \"/usr/lib/python2.7/unittest/case.py\", line 506, in _baseAssertEqual\r\n    raise self.failureException(msg)\r\nAssertionError: 1 != 0\r\n[1mstdout:[0m\r\n[1mstderr:[0m\r\nE1106 13:27:47.989212566   10442 ssl_transport_security.cc:1229] Handshake failed with fatal error SSL_ERROR_SSL: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED.\r\nE1106 13:27:47.996206294   10442 ssl_transport_security.cc:1229] Handshake failed with fatal error SSL_ERROR_SSL: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED.\r\nERROR:grpc._cython.cygrpc:Error fetching certificate config\r\nTraceback (most recent call last):\r\n  File \"src/python/grpcio/grpc/_cython/_cygrpc/credentials.pyx.pxi\", line 306, in grpc._cython.cygrpc._server_cert_config_fetcher_wrapper\r\n  File \"/var/local/git/grpc/src/python/grpcio_tests/tests/unit/_server_ssl_cert_config_test.py\", line 122, in __call__\r\n    raise ValueError('just for fun, should not affect the test')\r\nValueError: just for fun, should not affect the test\r\nE1106 13:27:48.010822932   10459 ssl_security_connector.cc:173] Failed fetching new server credentials, continuing to use previously-loaded credentials.\r\nE1106 13:27:48.643280685   10442 ssl_transport_security.cc:1229] Handshake failed with fatal error SSL_ERROR_SSL: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED.\r\nE1106 13:27:48.674066540   10442 ssl_transport_security.cc:1229] Handshake failed with fatal error SSL_ERROR_SSL: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED.\r\nE1106 13:27:48.974190579   10452 ssl_transport_security.cc:1229] Handshake failed with fatal error SSL_ERROR_SSL: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED.\r\nE1106 13:27:48.980019495   10442 ssl_transport_security.cc:1229] Handshake failed with fatal error SSL_ERROR_SSL: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED.\r\n```\r\n\r\n@lidizheng  please bisect to find out the root cause."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/436778851",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-436778851",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 436778851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjc3ODg1MQ==",
    "user": {
      "login": "lidizheng",
      "id": 7394928,
      "node_id": "MDQ6VXNlcjczOTQ5Mjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7394928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lidizheng",
      "html_url": "https://github.com/lidizheng",
      "followers_url": "https://api.github.com/users/lidizheng/followers",
      "following_url": "https://api.github.com/users/lidizheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/lidizheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lidizheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lidizheng/subscriptions",
      "organizations_url": "https://api.github.com/users/lidizheng/orgs",
      "repos_url": "https://api.github.com/users/lidizheng/repos",
      "events_url": "https://api.github.com/users/lidizheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lidizheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-07T21:11:50Z",
    "updated_at": "2018-11-07T21:11:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "A quick note that there are two failed unit tests:\r\n* ServerSSLCertReloadTest**With**ClientAuth\r\n* ServerSSLCertReloadTest**Without**ClientAuth\r\n\r\nDidn't find a way to reproduce it. Trying to statically find the bug in the testing logic..."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/436848416",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-436848416",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 436848416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjg0ODQxNg==",
    "user": {
      "login": "lidizheng",
      "id": 7394928,
      "node_id": "MDQ6VXNlcjczOTQ5Mjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7394928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lidizheng",
      "html_url": "https://github.com/lidizheng",
      "followers_url": "https://api.github.com/users/lidizheng/followers",
      "following_url": "https://api.github.com/users/lidizheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/lidizheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lidizheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lidizheng/subscriptions",
      "organizations_url": "https://api.github.com/users/lidizheng/orgs",
      "repos_url": "https://api.github.com/users/lidizheng/repos",
      "events_url": "https://api.github.com/users/lidizheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lidizheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-08T02:12:55Z",
    "updated_at": "2018-11-08T02:12:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "This bug can be reproduced by:\r\n\r\n```bash\r\n#!/bin/bash -ex\r\n\r\nGRPC_PYTHON_TESTRUNNER_FILTER=unit._server_ssl_cert_config_test.ServerSSLCertReloadTestWithClientAuth\r\n\r\nfor i in {1..30}\r\ndo\r\n  python src/python/grpcio_tests/setup.py test_lite&\r\ndone\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/437505245",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-437505245",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 437505245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzUwNTI0NQ==",
    "user": {
      "login": "lidizheng",
      "id": 7394928,
      "node_id": "MDQ6VXNlcjczOTQ5Mjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7394928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lidizheng",
      "html_url": "https://github.com/lidizheng",
      "followers_url": "https://api.github.com/users/lidizheng/followers",
      "following_url": "https://api.github.com/users/lidizheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/lidizheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lidizheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lidizheng/subscriptions",
      "organizations_url": "https://api.github.com/users/lidizheng/orgs",
      "repos_url": "https://api.github.com/users/lidizheng/repos",
      "events_url": "https://api.github.com/users/lidizheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lidizheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-09T21:47:21Z",
    "updated_at": "2018-11-10T00:32:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Another quick note about bisecting the root cause, this unit test:\r\n* Failed at 1.14.1\r\n* Passed at 1.8.0\r\n* Passed at 1.10.0\r\n* Failed at 1.12.0\r\n\r\n**UPDATE 0x01**\r\n* Passed at 1.11.0\r\n* Passed at 1.11.1\r\n\r\nKeep updating..."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/438048447",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-438048447",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 438048447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODA0ODQ0Nw==",
    "user": {
      "login": "lidizheng",
      "id": 7394928,
      "node_id": "MDQ6VXNlcjczOTQ5Mjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7394928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lidizheng",
      "html_url": "https://github.com/lidizheng",
      "followers_url": "https://api.github.com/users/lidizheng/followers",
      "following_url": "https://api.github.com/users/lidizheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/lidizheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lidizheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lidizheng/subscriptions",
      "organizations_url": "https://api.github.com/users/lidizheng/orgs",
      "repos_url": "https://api.github.com/users/lidizheng/repos",
      "events_url": "https://api.github.com/users/lidizheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lidizheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-12T22:19:50Z",
    "updated_at": "2018-11-12T22:19:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "I bisected the commit, and found the commit that breaks this unit test:\r\n```\r\nlidiz@ddev:~/src/grpc$ git bisect bad\r\nca7ba4d0ac3ab452c5db60befc8be37fd6e2339b is the first bad commit\r\ncommit ca7ba4d0ac3ab452c5db60befc8be37fd6e2339b\r\nAuthor: Nathaniel Manista <nathaniel@google.com>\r\nDate:   Fri Apr 20 02:49:34 2018 +0000\r\n\r\n    Keep Core memory inside cygrpc.Channel objects\r\n\r\n    This removes invocation-side completion queues from the _cygrpc API.\r\n    Invocation-side calls are changed to no longer share the same lifetime\r\n    as Core calls.\r\n\r\n    Illegal metadata is now detected on invocation rather than at the start\r\n    of a batch (so passing illegal metadata to a response-streaming method\r\n    will now raise an exception immediately rather than later on when\r\n    attempting to read the first response message).\r\n\r\n    It is no longer possible to create a call without immediately starting\r\n    at least one batch of operations on it. Only tests are affected by this\r\n    change; there are no real use cases in which one wants to start a call\r\n    but wait a little while before learning that the server has rejected\r\n    it.\r\n\r\n    It is now required that code above cygrpc.Channel spend threads on\r\n    next_event whenever events are pending. A cygrpc.Channel.close method\r\n    is introduced, but it merely blocks until the cygrpc.Channel's\r\n    completion queues are drained; it does not itself drain them.\r\n\r\n    Noteworthy here is that we drop the cygrpc.Channel.__dealloc__ method.\r\n    It is not the same as __del__ (which is not something that can be added\r\n    to cygrpc.Channel) and there is no guarantee that __dealloc__ will be\r\n    called at all or that it will be called while the cygrpc.Channel\r\n    instance's Python attributes are intact (in testing, I saw both in\r\n    different environments). This commit does not knowingly break any\r\n    garbage-collection-based memory management working (or \"happening to\r\n    appear to work in some circumstances\"), though if it does, the proper\r\n    remedy is to call grpc.Channel.close... which is the objective towards\r\n    which this commit builds.\r\n\r\n:040000 040000 5b30f47e4720728758b3efd1ad7577c6bf72596f bdf8d4c2648eed9d1ed8de0f001a74653befa6a9 M\tsrc\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440308458",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-440308458",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 440308458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDMwODQ1OA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T15:14:26Z",
    "updated_at": "2018-11-20T15:14:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is currently one of our top flakes (flakiness rate >10%)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440310162",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-440310162",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 440310162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDMxMDE2Mg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T15:19:16Z",
    "updated_at": "2018-11-20T15:19:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "CC @ericgribkoff "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/440512080",
    "html_url": "https://github.com/grpc/grpc/issues/17138#issuecomment-440512080",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17138",
    "id": 440512080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDUxMjA4MA==",
    "user": {
      "login": "ericgribkoff",
      "id": 5067076,
      "node_id": "MDQ6VXNlcjUwNjcwNzY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5067076?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericgribkoff",
      "html_url": "https://github.com/ericgribkoff",
      "followers_url": "https://api.github.com/users/ericgribkoff/followers",
      "following_url": "https://api.github.com/users/ericgribkoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericgribkoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericgribkoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericgribkoff/subscriptions",
      "organizations_url": "https://api.github.com/users/ericgribkoff/orgs",
      "repos_url": "https://api.github.com/users/ericgribkoff/repos",
      "events_url": "https://api.github.com/users/ericgribkoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericgribkoff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-21T03:05:43Z",
    "updated_at": "2018-11-21T03:05:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed by https://github.com/grpc/grpc/pull/17260"
  }
]
