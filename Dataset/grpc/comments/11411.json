[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306314933",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306314933",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306314933,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjMxNDkzMw==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-05T21:26:02Z",
    "updated_at": "2017-06-05T21:26:02Z",
    "author_association": "NONE",
    "body": "actually polling the connectivityState with the watchconnectivitystate always returns that error, even though after making the first request with the grpc client it changes the state to 2\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306329408",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306329408",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306329408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjMyOTQwOA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-05T22:33:39Z",
    "updated_at": "2017-06-05T22:33:39Z",
    "author_association": "MEMBER",
    "body": "First, `watchConnectivityState` is an undocumented private function. Please don't use it in production. Second, the problem is that the arguments to these functions should be deadlines, not timeouts. The argument `5000` corresponds to a date in the past, so the function is correctly reporting that the deadline has passed.\r\n\r\nYou should instead construct a deadline from the current time:\r\n\r\n```js\r\nvar deadline = new Date();\r\ndeadline.setSeconds(deadline.getSeconds() + 5);\r\ngrpc.waitForClientReady(this.client, deadline, callback)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306332644",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306332644",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306332644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjMzMjY0NA==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-05T22:51:19Z",
    "updated_at": "2017-06-05T22:51:19Z",
    "author_association": "NONE",
    "body": "ok wow that at least fixes the error :D \r\ni know its undocumented, just used it to get the error the waitForClientReady got internally :)\r\n\r\nnow, is the grpc client supposed to (successfully) reconnect?\r\ni run the grpc server in a docker container and when i kill it the client goes back to the connecting state, i got it to reconnect sometimes but usually its stuck in that state, any idea?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306333733",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306333733",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306333733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjMzMzczMw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-05T22:57:11Z",
    "updated_at": "2017-06-05T22:57:11Z",
    "author_association": "MEMBER",
    "body": "If the client disconnects, then later there is a server that is listening at the same address on the same port, the client should be able to reconnect automatically. In situations where you say the client is \"stuck in that state\", what exactly do you observe? Have you tried making a new request when that happens?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306334547",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306334547",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306334547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjMzNDU0Nw==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-05T23:02:00Z",
    "updated_at": "2017-06-05T23:06:42Z",
    "author_association": "NONE",
    "body": "i request with setInterval 5s and its not reconnecting, localhost:50051, although earlier i had it reconnect somehow, i dont have the code anymore though :/\r\n\r\nstate = 1 which is CONNECTING right?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306342117",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306342117",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306342117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjM0MjExNw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-05T23:49:59Z",
    "updated_at": "2017-06-05T23:49:59Z",
    "author_association": "MEMBER",
    "body": "To be clear, when I said \"make a new request\", I meant that you should call a server method with the client. Just calling `getConnectivityState` alone will not make it connect."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306351474",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306351474",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306351474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjM1MTQ3NA==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-06T00:58:29Z",
    "updated_at": "2017-06-06T00:58:29Z",
    "author_association": "NONE",
    "body": "yes i know that you meant that :)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/306804546",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-306804546",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 306804546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjgwNDU0Ng==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-07T14:03:35Z",
    "updated_at": "2017-06-07T14:03:35Z",
    "author_association": "NONE",
    "body": "any idea why its stuck for me? :)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/307484939",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-307484939",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 307484939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzQ4NDkzOQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-09T19:56:15Z",
    "updated_at": "2017-06-09T19:56:15Z",
    "author_association": "MEMBER",
    "body": "I'm trying to reproduce the failure you're seeing. When you try to make new requests after the server restarts, are you seeing those requests fail with any particular error? In my own tests, I'm seeing \"Connect failed\"."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/307486441",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-307486441",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 307486441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzQ4NjQ0MQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-09T20:03:30Z",
    "updated_at": "2017-06-09T20:03:30Z",
    "author_association": "MEMBER",
    "body": "Actually, upon further investigation, that error was due to a mistake in the test setup. I put together a test that connects a client to a server and makes a request, then shuts down the server and starts a new one on the same port, then the client makes another request. I see both requests succeed.\r\n\r\nSo, I'm going to need more information about your own setup to properly reproduce the failure you are seeing."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/307496566",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-307496566",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 307496566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzQ5NjU2Ng==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-09T20:51:15Z",
    "updated_at": "2017-06-09T20:51:15Z",
    "author_association": "NONE",
    "body": "setup is a grpc server in go running in a docker container which binds to port 50051 on localhost which the nodejs grpc client connects to. i then proceed to docker kill the container while the node app keeps making requests. they dont error from what i can see, they dont even timeout (if thats a thing if you dont set a deadline). i then proceed to start a new docker container with the exact same command and the node app, still running, doesnt finish the old ones nor succeeds doing the new ones (last time i checked the grpc client was in CONNECTING state). restarting the node app obviously fixes it…"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/308893029",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-308893029",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 308893029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODg5MzAyOQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-15T23:32:37Z",
    "updated_at": "2017-06-15T23:32:37Z",
    "author_association": "MEMBER",
    "body": "I tried doing something similar with a Node client and server, and what I'm seeing is that it can take several seconds for the client to reconnect after it observes the connection drop, but it does reconnect, and the pending calls do finish."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/308893896",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-308893896",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 308893896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODg5Mzg5Ng==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-15T23:38:37Z",
    "updated_at": "2017-06-15T23:38:37Z",
    "author_association": "MEMBER",
    "body": "@ctiller There is something weird going on here. I am observing that it takes a client *much* longer to reconnect to a restarted server if the client makes a call on that channel while the server is down. In other words, I tried two different things: first:\r\n\r\n 1. Connect client to running server and make call.\r\n 2. Stop server and make a call from the client. This fails with a \"Connect failed\" status.\r\n 3. Start a new identical server on the same port, then make another call from the client. This succeeds after several seconds.\r\n\r\nSecond:\r\n\r\n 1. Connect client to running server and make call.\r\n 2. Stop server.\r\n 3. Start a new identical server on the same port, then make another call from the client. This succeeds almost immediately.\r\n\r\nDo you have any idea what's going on here?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/308899967",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-308899967",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 308899967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODg5OTk2Nw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-16T00:25:07Z",
    "updated_at": "2017-06-16T00:25:07Z",
    "author_association": "MEMBER",
    "body": "I figured it out (somewhat). The gRPC C core has a connection retry backoff mechanism. If you make a call while the server is down, and the connection is rejected, the core will wait to retry the connection again, and the default wait time is 20 seconds. So even if you start a new call immediately after the server starts up, the connection won't be reestablished until 20 seconds after the previous attempt.\r\n\r\nThis can be modified with channel arguments (the third argument to a client constructor is an object mapping channel argument keys to values). The arguments `\"grpc.initial_reconnect_backoff_ms\"`, `\"grpc.min_reconnect_backoff_ms\"`, and `\"grpc.max_reconnect_backoff_ms\"` can be used to modify this behavior. They are documented [here](https://github.com/grpc/grpc/blob/master/include/grpc/impl/codegen/grpc_types.h#L236)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/309006420",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-309006420",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 309006420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTAwNjQyMA==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-16T11:50:52Z",
    "updated_at": "2017-06-16T11:50:52Z",
    "author_association": "NONE",
    "body": "and does it \"fix\" the issue?\r\nit did not reconnect after 20s for me so i guess since i continue to do calls the 20s are being postponed on and on…?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/309579336",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-309579336",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 309579336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTU3OTMzNg==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-19T21:29:59Z",
    "updated_at": "2017-06-19T21:29:59Z",
    "author_association": "MEMBER",
    "body": "It shouldn't do that. In my tests, the client reconnected 20 seconds after the first call that was made while the server was unavailable. If your client never reconnects, I'm not exactly sure what's going on. Are you sure that the server actually restarted successfully? Are you able to connect to that server with another client?\r\n\r\nHave you tried the suggested fix? Did it make any difference with your situation?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/309583516",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-309583516",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 309583516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTU4MzUxNg==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-19T21:48:56Z",
    "updated_at": "2017-06-19T21:48:56Z",
    "author_association": "NONE",
    "body": "i am indeed able to connect to the same server with another client so it successfully starts\r\n\r\nby fix you are referring to the channel arguments? havent tried them yet"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/309604103",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-309604103",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 309604103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTYwNDEwMw==",
    "user": {
      "login": "Robbilie",
      "id": 406176,
      "node_id": "MDQ6VXNlcjQwNjE3Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/406176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbilie",
      "html_url": "https://github.com/Robbilie",
      "followers_url": "https://api.github.com/users/Robbilie/followers",
      "following_url": "https://api.github.com/users/Robbilie/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbilie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbilie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbilie/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbilie/orgs",
      "repos_url": "https://api.github.com/users/Robbilie/repos",
      "events_url": "https://api.github.com/users/Robbilie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbilie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-19T23:47:39Z",
    "updated_at": "2017-06-19T23:47:39Z",
    "author_association": "NONE",
    "body": "its weird, the current code reconnects perfectly fine…"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/309605289",
    "html_url": "https://github.com/grpc/grpc/issues/11411#issuecomment-309605289",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11411",
    "id": 309605289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTYwNTI4OQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-19T23:55:59Z",
    "updated_at": "2017-06-19T23:55:59Z",
    "author_association": "MEMBER",
    "body": "In that case, it seems like you experienced a transient failure. I will close this issue until someone experiences it again."
  }
]
