[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297550133",
    "html_url": "https://github.com/grpc/grpc/issues/10866#issuecomment-297550133",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10866",
    "id": 297550133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU1MDEzMw==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T21:43:31Z",
    "updated_at": "2017-04-26T21:43:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Your cross-compiler is kind of weird there. Are you under MacOS by any chance ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297550280",
    "html_url": "https://github.com/grpc/grpc/issues/10866#issuecomment-297550280",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10866",
    "id": 297550280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU1MDI4MA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T21:44:04Z",
    "updated_at": "2017-04-26T21:44:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Otherwise I'm not sure why you'd get poisoned like this with /usr/local/include."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297552980",
    "html_url": "https://github.com/grpc/grpc/issues/10866#issuecomment-297552980",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10866",
    "id": 297552980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU1Mjk4MA==",
    "user": {
      "login": "unicornmafia",
      "id": 8065234,
      "node_id": "MDQ6VXNlcjgwNjUyMzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8065234?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/unicornmafia",
      "html_url": "https://github.com/unicornmafia",
      "followers_url": "https://api.github.com/users/unicornmafia/followers",
      "following_url": "https://api.github.com/users/unicornmafia/following{/other_user}",
      "gists_url": "https://api.github.com/users/unicornmafia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/unicornmafia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/unicornmafia/subscriptions",
      "organizations_url": "https://api.github.com/users/unicornmafia/orgs",
      "repos_url": "https://api.github.com/users/unicornmafia/repos",
      "events_url": "https://api.github.com/users/unicornmafia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/unicornmafia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T21:55:58Z",
    "updated_at": "2017-04-26T21:55:58Z",
    "author_association": "NONE",
    "body": "I got past this issue.  I didn't realize I needed to specify the variables on the command line and leave the make file alone.   I was able to compile the protobufs using:\r\n```\r\n./configure --host=mips-linux CC=mips-linux-gnu-gcc CXX=mips-linux-gnu-g++ --with-protoc=protoc\r\n```\r\nand then compiled gRPC (after copying the protobuf libraries where they were expected to be) with:\r\n\r\n```\r\nmake HAS_PKG_CONFIG=false CC=mips-linux-gnu-gcc CXX=mips-linux-gnu-g++ RANLIB=mips-linux-gnu-gcc-ranlib LD=mips-linux-gnu-ld static\r\n```\r\nnow I'm getting what looks like an error from C++11.  \r\n```\r\nthomas@myrrdin:~/projects/apollo/crosscompile_mips/grpc$ make HAS_PKG_CONFIG=false CC=mips-linux-gnu-gcc CXX=mips-linux-gnu-g++ RANLIB=mips-linux-gnu-gcc-ranlib LD=mips-linux-gnu-ld static\r\n[MAKE]    Generating cache.mk\r\n[CXX]     Compiling src/cpp/server/health/default_health_check_service.cc\r\nsrc/cpp/server/health/default_health_check_service.cc: In constructor 'grpc::DefaultHealthCheckService::DefaultHealthCheckService()':\r\nsrc/cpp/server/health/default_health_check_service.cc:134:17: error: 'class std::map<std::basic_string<char>, bool>' has no member named 'emplace'\r\nMakefile:2524: recipe for target '/home/thomas/projects/apollo/crosscompile_mips/grpc/objs/opt/src/cpp/server/health/default_health_check_service.o' failed\r\nmake: *** [/home/thomas/projects/apollo/crosscompile_mips/grpc/objs/opt/src/cpp/server/health/default_health_check_service.o] Error 1\r\n\r\n```\r\n(I don't think my version of gcc supports c++11).\r\nnot sure where to go from here.  experimenting with alternate toolchain.  (mine's supplied by chip manufacturer and only has gcc 4.7.2)\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297558176",
    "html_url": "https://github.com/grpc/grpc/issues/10866#issuecomment-297558176",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10866",
    "id": 297558176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU1ODE3Ng==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T22:20:55Z",
    "updated_at": "2017-04-26T22:20:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Unfortunately, our C++ requires indeed a recent C++ compiler.\r\n\r\nNow, unless there's something really weird with your mips chip, there shouldn't be any issue with using Debian's or Ubuntu's cross compilers, which should be recent enough to build gRPC: https://wiki.debian.org/CrossToolchains - https://wiki.ubuntu.com/ToolChain#Cross_development_toolchain"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297584786",
    "html_url": "https://github.com/grpc/grpc/issues/10866#issuecomment-297584786",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10866",
    "id": 297584786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU4NDc4Ng==",
    "user": {
      "login": "unicornmafia",
      "id": 8065234,
      "node_id": "MDQ6VXNlcjgwNjUyMzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8065234?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/unicornmafia",
      "html_url": "https://github.com/unicornmafia",
      "followers_url": "https://api.github.com/users/unicornmafia/followers",
      "following_url": "https://api.github.com/users/unicornmafia/following{/other_user}",
      "gists_url": "https://api.github.com/users/unicornmafia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/unicornmafia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/unicornmafia/subscriptions",
      "organizations_url": "https://api.github.com/users/unicornmafia/orgs",
      "repos_url": "https://api.github.com/users/unicornmafia/repos",
      "events_url": "https://api.github.com/users/unicornmafia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/unicornmafia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-27T01:20:13Z",
    "updated_at": "2017-04-27T01:20:13Z",
    "author_association": "NONE",
    "body": "Thanks for your help @nicolasnoble.  I have now switched to ubuntu cross compiler.   \r\nMy sequence is now:\r\n(starting with cloned repo)\r\n```\r\nmake HAS_PKG_CONFIG=false CC=mipsel-linux-gnu-gcc CXX=mipsel-linux-gnu-g++ PROTOBUF_CONFIG_OPTS=\"--host=mipsel-linux CC=mipsel-linux-gnu-gcc CXX=mipsel-linux-gnu-g++ --with-protoc=protoc\"\r\n```\r\nWhat I get is an error about having the incorrect file format:\r\n```\r\n...\r\nocations in generic ELF (EM: 8)\r\n/usr/bin/ld: /home/thomas/projects/apollo/crosscompile_mips/grpc/objs/opt/src/compiler/cpp_plugin.o: Relocations in generic ELF (EM: 8)\r\n/home/thomas/projects/apollo/crosscompile_mips/grpc/objs/opt/src/compiler/cpp_plugin.o: error adding symbols: File in wrong format\r\ncollect2: error: ld returned 1 exit status\r\nMakefile:14790: recipe for target '/home/thomas/projects/apollo/crosscompile_mips/grpc/bins/opt/grpc_cpp_plugin' failed\r\nmake: *** [/home/thomas/projects/apollo/crosscompile_mips/grpc/bins/opt/grpc_cpp_plugin] Error 1\r\nthomas@myrrdin:~/projects/apollo/crosscompile_mips/grpc$ \r\n```\r\n\r\nIs there a better way to be doing this?\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297820978",
    "html_url": "https://github.com/grpc/grpc/issues/10866#issuecomment-297820978",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10866",
    "id": 297820978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzgyMDk3OA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-27T19:52:33Z",
    "updated_at": "2017-04-27T19:52:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like you've managed to try compiling the host plugins using the cross compiler. There are some cross compilation instructions in the Makefile, if you search for the word \"cross\" in there. But try building the `static` target, that should skip over the plugins."
  }
]
