[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310018620",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-310018620",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 310018620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDAxODYyMA==",
    "user": {
      "login": "mattheworiordan",
      "id": 43789,
      "node_id": "MDQ6VXNlcjQzNzg5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/43789?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattheworiordan",
      "html_url": "https://github.com/mattheworiordan",
      "followers_url": "https://api.github.com/users/mattheworiordan/followers",
      "following_url": "https://api.github.com/users/mattheworiordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattheworiordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattheworiordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattheworiordan/subscriptions",
      "organizations_url": "https://api.github.com/users/mattheworiordan/orgs",
      "repos_url": "https://api.github.com/users/mattheworiordan/repos",
      "events_url": "https://api.github.com/users/mattheworiordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattheworiordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-21T09:13:03Z",
    "updated_at": "2017-06-21T09:13:53Z",
    "author_association": "NONE",
    "body": "Thanks @SimonWoolf. Whoever reviews this should consider:\r\n\r\n* [My PR to fix the leak on 1.1.* branch](https://github.com/grpc/grpc/pull/10476). This PR is now closed as the fix clearly needs to be on `master`\r\n* [Another PR to add a Node test to prevent memory leak regressions](https://github.com/grpc/grpc/pull/10679)\r\n\r\nFYI, we've been unable to roll forward our version of gRPC for almost 3 months now because of this ongoing leak."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310182052",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-310182052",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 310182052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDE4MjA1Mg==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-21T19:32:49Z",
    "updated_at": "2017-06-21T19:32:49Z",
    "author_association": "MEMBER",
    "body": "Thank you for doing this analysis. To clarify, did you observe this on a process running gRPC servers but no clients? On a process running gRPC clients but no servers?\r\n\r\nThe referenced PR to fix the leak has been superseded. Since 1.2, GRPC_UV is enabled by default.\r\n\r\nAlso, I have not merged that PR to test for memory leaks because I am not sure that the methodology is correct."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310328349",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-310328349",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 310328349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDMyODM0OQ==",
    "user": {
      "login": "SimonWoolf",
      "id": 5908687,
      "node_id": "MDQ6VXNlcjU5MDg2ODc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5908687?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonWoolf",
      "html_url": "https://github.com/SimonWoolf",
      "followers_url": "https://api.github.com/users/SimonWoolf/followers",
      "following_url": "https://api.github.com/users/SimonWoolf/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonWoolf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonWoolf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonWoolf/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonWoolf/orgs",
      "repos_url": "https://api.github.com/users/SimonWoolf/repos",
      "events_url": "https://api.github.com/users/SimonWoolf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonWoolf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-22T09:31:55Z",
    "updated_at": "2017-06-22T09:31:55Z",
    "author_association": "NONE",
    "body": "> To clarify, did you observe this on a process running gRPC servers but no clients? On a process running gRPC clients but no servers?\r\n\r\nThe test was running with server and clients on the same process, see https://github.com/ably/grpc-memory-leak-test/blob/138-test/test_grpc_leak.js . I'll separate server and client into separate processes and retest. (Unfortunately busy today and tomorrow, but will try to do it this weekend).\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310785072",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-310785072",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 310785072,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDc4NTA3Mg==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-23T22:17:13Z",
    "updated_at": "2017-06-23T22:17:13Z",
    "author_association": "MEMBER",
    "body": "I figured out the problem. It turns out that we were failing to release a reference to the status message on the client (and by extension anything else in the same TCP frame)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310829033",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-310829033",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 310829033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDgyOTAzMw==",
    "user": {
      "login": "SimonWoolf",
      "id": 5908687,
      "node_id": "MDQ6VXNlcjU5MDg2ODc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5908687?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonWoolf",
      "html_url": "https://github.com/SimonWoolf",
      "followers_url": "https://api.github.com/users/SimonWoolf/followers",
      "following_url": "https://api.github.com/users/SimonWoolf/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonWoolf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonWoolf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonWoolf/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonWoolf/orgs",
      "repos_url": "https://api.github.com/users/SimonWoolf/repos",
      "events_url": "https://api.github.com/users/SimonWoolf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonWoolf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-24T09:53:13Z",
    "updated_at": "2017-06-24T09:53:13Z",
    "author_association": "NONE",
    "body": "> I figured out the problem.\r\n\r\nAwesome, thanks @murgatroid99! I've retested against your `node_memory_leak_fix` branch and can confirm that this fixes the leak.\r\n\r\n> I have not merged that PR to test for memory leaks because I am not sure that the methodology is correct.\r\n\r\nOK. We'd be very happy to help with doing a test to prevent any regressions if you like, either modifying your PR along whatever lines you suggest, or adapting the test I did to be runnable in grpc ci, or anything else - just let me know."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310858221",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-310858221",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 310858221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg1ODIyMQ==",
    "user": {
      "login": "mattheworiordan",
      "id": 43789,
      "node_id": "MDQ6VXNlcjQzNzg5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/43789?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattheworiordan",
      "html_url": "https://github.com/mattheworiordan",
      "followers_url": "https://api.github.com/users/mattheworiordan/followers",
      "following_url": "https://api.github.com/users/mattheworiordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattheworiordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattheworiordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattheworiordan/subscriptions",
      "organizations_url": "https://api.github.com/users/mattheworiordan/orgs",
      "repos_url": "https://api.github.com/users/mattheworiordan/repos",
      "events_url": "https://api.github.com/users/mattheworiordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattheworiordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-24T18:42:20Z",
    "updated_at": "2017-06-24T18:42:20Z",
    "author_association": "NONE",
    "body": "Great result @murgatroid99, thanks so much!\r\n\r\nIf @SimonWoolf could add a test to prevent regressions in the future I'd certainly be a strong advocate 👍 "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/311792037",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-311792037",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 311792037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTc5MjAzNw==",
    "user": {
      "login": "mattheworiordan",
      "id": 43789,
      "node_id": "MDQ6VXNlcjQzNzg5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/43789?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattheworiordan",
      "html_url": "https://github.com/mattheworiordan",
      "followers_url": "https://api.github.com/users/mattheworiordan/followers",
      "following_url": "https://api.github.com/users/mattheworiordan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattheworiordan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattheworiordan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattheworiordan/subscriptions",
      "organizations_url": "https://api.github.com/users/mattheworiordan/orgs",
      "repos_url": "https://api.github.com/users/mattheworiordan/repos",
      "events_url": "https://api.github.com/users/mattheworiordan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattheworiordan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-28T21:10:29Z",
    "updated_at": "2017-06-28T21:10:29Z",
    "author_association": "NONE",
    "body": "@murgatroid99 is there any chance we can get a test into the node suite to prevent a regression?  We can do a PR, just need your advice on https://github.com/grpc/grpc/issues/11562#issuecomment-310829033.  Should we just go ahead and do a PR anyway if you think it could be merged in?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/311793904",
    "html_url": "https://github.com/grpc/grpc/issues/11562#issuecomment-311793904",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11562",
    "id": 311793904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTc5MzkwNA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-28T21:15:27Z",
    "updated_at": "2017-06-28T21:15:27Z",
    "author_association": "MEMBER",
    "body": "I would be happy to accept a PR with a test like that."
  }
]
