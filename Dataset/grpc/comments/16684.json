[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/423836529",
    "html_url": "https://github.com/grpc/grpc/issues/16684#issuecomment-423836529",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16684",
    "id": 423836529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzgzNjUyOQ==",
    "user": {
      "login": "jkub",
      "id": 535707,
      "node_id": "MDQ6VXNlcjUzNTcwNw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/535707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jkub",
      "html_url": "https://github.com/jkub",
      "followers_url": "https://api.github.com/users/jkub/followers",
      "following_url": "https://api.github.com/users/jkub/following{/other_user}",
      "gists_url": "https://api.github.com/users/jkub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jkub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jkub/subscriptions",
      "organizations_url": "https://api.github.com/users/jkub/orgs",
      "repos_url": "https://api.github.com/users/jkub/repos",
      "events_url": "https://api.github.com/users/jkub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jkub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-23T18:21:18Z",
    "updated_at": "2018-09-23T18:21:18Z",
    "author_association": "NONE",
    "body": "PR is https://github.com/grpc/grpc/pull/16685\r\n\r\nAnd I was wrong about two things:\r\n\r\n1) The version numbers:\r\nThe ruby gem version that's installed is grpc-1.15.0-x86_64-linux\r\nThe C++ library version I have installed is v1.13.1\r\n\r\n2) I said server.rb but I meant service.rb"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/423843163",
    "html_url": "https://github.com/grpc/grpc/issues/16684#issuecomment-423843163",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16684",
    "id": 423843163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzg0MzE2Mw==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-23T19:54:23Z",
    "updated_at": "2018-09-23T19:54:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "From the git blame, `metadata` has been a keyword argument in `client_stub.rb` for the last two years (since around the GA release), so there doesn't seem to be any recent breakage here, and I don't think there's a problem here.\r\n\r\nWhen you call: \r\n\r\n```\r\nstub.show_tables('foo', '')\r\n```\r\n\r\nWhat does the second \"empty string\" param that you are passing correspond to? Also did this ever work, and do you know at what grpc version this worked for? \r\n\r\nThat said, one issue I can see is that `metadata` is not a good name for for the parameter in https://github.com/grpc/grpc/pull/16685/files#diff-37292ab4014737ea90165c478a9a0e50L168. Rather than `metadata` that variable should be named something like `call_options`, because that argument corresponds to the hash which can contain things like `deadline`, `metadata`, and `return_op`."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/423887530",
    "html_url": "https://github.com/grpc/grpc/issues/16684#issuecomment-423887530",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16684",
    "id": 423887530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzg4NzUzMA==",
    "user": {
      "login": "jkub",
      "id": 535707,
      "node_id": "MDQ6VXNlcjUzNTcwNw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/535707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jkub",
      "html_url": "https://github.com/jkub",
      "followers_url": "https://api.github.com/users/jkub/followers",
      "following_url": "https://api.github.com/users/jkub/following{/other_user}",
      "gists_url": "https://api.github.com/users/jkub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jkub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jkub/subscriptions",
      "organizations_url": "https://api.github.com/users/jkub/orgs",
      "repos_url": "https://api.github.com/users/jkub/repos",
      "events_url": "https://api.github.com/users/jkub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jkub/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-24T06:43:12Z",
    "updated_at": "2018-09-24T06:43:12Z",
    "author_association": "NONE",
    "body": "@apolcyn thank you for the quick response. You are correct. I'm sorry for the distraction.\r\n\r\nWhen I made the above change, I got a much more informative error, which led me to believe I had made forward progress. I realized then that my stub request was malformed, and I fixed it. It had simply not occurred to me that the malformed request was the root cause of the previous exception as well.\r\n\r\nAfter the fix:\r\n\r\nirb(main):019:0> stub.show_tables 'foo', ''\r\nTraceback (most recent call last):\r\n        9: from /usr/local/bin/irb:11:in `<main>'\r\n        8: from (irb):19\r\n        7: from /usr/local/lib/ruby/gems/2.5.0/gems/grpc-1.15.0-x86_64-linux/src/ruby/lib/grpc/generic/service.rb:170:in `block (3 levels) in rpc_stub_class'\r\n        6: from /usr/local/lib/ruby/gems/2.5.0/gems/grpc-1.15.0-x86_64-linux/src/ruby/lib/grpc/generic/client_stub.rb:177:in `request_response'\r\n        5: from /usr/local/lib/ruby/gems/2.5.0/gems/grpc-1.15.0-x86_64-linux/src/ruby/lib/grpc/generic/interceptors.rb:170:in `intercept!'\r\n        4: from /usr/local/lib/ruby/gems/2.5.0/gems/grpc-1.15.0-x86_64-linux/src/ruby/lib/grpc/generic/client_stub.rb:178:in `block in request_response'\r\n        3: from /usr/local/lib/ruby/gems/2.5.0/gems/grpc-1.15.0-x86_64-linux/src/ruby/lib/grpc/generic/active_call.rb:353:in `request_response'\r\n        2: from /usr/local/lib/ruby/gems/2.5.0/gems/grpc-1.15.0-x86_64-linux/src/ruby/lib/grpc/generic/rpc_desc.rb:35:in `block in marshal_proc'\r\n        1: from /usr/local/lib/ruby/gems/2.5.0/gems/grpc-1.15.0-x86_64-linux/src/ruby/lib/grpc/generic/rpc_desc.rb:35:in `method'\r\nNameError (undefined method `encode' for class `#<Class:String>')"
  }
]
