[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435075005",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435075005",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435075005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTA3NTAwNQ==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T15:19:31Z",
    "updated_at": "2018-11-01T15:19:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "What's the crash exactly? "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435085902",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435085902",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435085902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTA4NTkwMg==",
    "user": {
      "login": "stefanseefeld",
      "id": 1243351,
      "node_id": "MDQ6VXNlcjEyNDMzNTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1243351?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefanseefeld",
      "html_url": "https://github.com/stefanseefeld",
      "followers_url": "https://api.github.com/users/stefanseefeld/followers",
      "following_url": "https://api.github.com/users/stefanseefeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefanseefeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefanseefeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefanseefeld/subscriptions",
      "organizations_url": "https://api.github.com/users/stefanseefeld/orgs",
      "repos_url": "https://api.github.com/users/stefanseefeld/repos",
      "events_url": "https://api.github.com/users/stefanseefeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefanseefeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T15:50:01Z",
    "updated_at": "2018-11-01T15:50:01Z",
    "author_association": "NONE",
    "body": "I observe a segfault (immediately following the above error output)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435092334",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435092334",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435092334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTA5MjMzNA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T16:08:59Z",
    "updated_at": "2018-11-01T16:08:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you share reproduction code?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435103175",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435103175",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435103175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTEwMzE3NQ==",
    "user": {
      "login": "stefanseefeld",
      "id": 1243351,
      "node_id": "MDQ6VXNlcjEyNDMzNTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1243351?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefanseefeld",
      "html_url": "https://github.com/stefanseefeld",
      "followers_url": "https://api.github.com/users/stefanseefeld/followers",
      "following_url": "https://api.github.com/users/stefanseefeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefanseefeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefanseefeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefanseefeld/subscriptions",
      "organizations_url": "https://api.github.com/users/stefanseefeld/orgs",
      "repos_url": "https://api.github.com/users/stefanseefeld/repos",
      "events_url": "https://api.github.com/users/stefanseefeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefanseefeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T16:40:57Z",
    "updated_at": "2018-11-01T16:40:57Z",
    "author_association": "NONE",
    "body": "As per my original post, it's this repo's own examples/cpp/hello_world/greeter_server example that crashes: https://github.com/grpc/grpc/blob/master/examples/cpp/helloworld/greeter_server.cc"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435114644",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435114644",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435114644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTExNDY0NA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T17:15:26Z",
    "updated_at": "2018-11-01T17:15:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, sorry, I had skipped this part.\r\n\r\nThe hello world example isn't very complete in terms of handling errors and return values. It's a balance between showing an extremely minimal piece of code demonstrating how to do an RPC, and showing a much more complete piece of code taking care of catching errors and acting on them.\r\n\r\nIn this specific case, the problem is that `AddListeningPort` shall return 0, as specified in [its documentation](https://github.com/grpc/grpc/blob/master/include/grpcpp/impl/codegen/server_interface.h#L126). The example code is ignoring the return value of 0, and goes on with trying to listen anyway, which causes an assert to fire.\r\n\r\nThe correct way would be to assign and inspect the return value of `AddListeningPort` which indicates the error you've seen in the logs."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435120540",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435120540",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435120540,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTEyMDU0MA==",
    "user": {
      "login": "stefanseefeld",
      "id": 1243351,
      "node_id": "MDQ6VXNlcjEyNDMzNTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1243351?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefanseefeld",
      "html_url": "https://github.com/stefanseefeld",
      "followers_url": "https://api.github.com/users/stefanseefeld/followers",
      "following_url": "https://api.github.com/users/stefanseefeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefanseefeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefanseefeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefanseefeld/subscriptions",
      "organizations_url": "https://api.github.com/users/stefanseefeld/orgs",
      "repos_url": "https://api.github.com/users/stefanseefeld/repos",
      "events_url": "https://api.github.com/users/stefanseefeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefanseefeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T17:33:16Z",
    "updated_at": "2018-11-01T17:33:16Z",
    "author_association": "NONE",
    "body": "I see ! Is there a way to retrieve the actual error (once I detect that '0' return value) ?\r\nIt would be great to improve the example by covering this error condition (or to add some notes with references).\r\nThanks either way !"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435124023",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435124023",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435124023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTEyNDAyMw==",
    "user": {
      "login": "stefanseefeld",
      "id": 1243351,
      "node_id": "MDQ6VXNlcjEyNDMzNTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1243351?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefanseefeld",
      "html_url": "https://github.com/stefanseefeld",
      "followers_url": "https://api.github.com/users/stefanseefeld/followers",
      "following_url": "https://api.github.com/users/stefanseefeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefanseefeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefanseefeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefanseefeld/subscriptions",
      "organizations_url": "https://api.github.com/users/stefanseefeld/orgs",
      "repos_url": "https://api.github.com/users/stefanseefeld/repos",
      "events_url": "https://api.github.com/users/stefanseefeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefanseefeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T17:43:49Z",
    "updated_at": "2018-11-01T17:43:49Z",
    "author_association": "NONE",
    "body": "Minor follow-up:\r\nYou pointed me at the `ServerInterface::AddListeningPort()` function. But the example code doesn't expose that directly. It turns out the right function to check is `ServerBuilder::BuildAndStart()`, which returns a `nullptr_t` on error. And I confirm: using that allows me to handle the error a bit better.\r\nI'm still not sure how I could retrieve the actual error condition (so I can report it back to the caller).\r\nPerhaps you know how to do that ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435149371",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435149371",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435149371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTE0OTM3MQ==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T19:00:25Z",
    "updated_at": "2018-11-01T19:00:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "CC @vjpai - I think there was a conscious decision here not to expose this, but I can't be 100% certain."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435152082",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435152082",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435152082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTE1MjA4Mg==",
    "user": {
      "login": "stefanseefeld",
      "id": 1243351,
      "node_id": "MDQ6VXNlcjEyNDMzNTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1243351?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefanseefeld",
      "html_url": "https://github.com/stefanseefeld",
      "followers_url": "https://api.github.com/users/stefanseefeld/followers",
      "following_url": "https://api.github.com/users/stefanseefeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefanseefeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefanseefeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefanseefeld/subscriptions",
      "organizations_url": "https://api.github.com/users/stefanseefeld/orgs",
      "repos_url": "https://api.github.com/users/stefanseefeld/repos",
      "events_url": "https://api.github.com/users/stefanseefeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefanseefeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T19:09:19Z",
    "updated_at": "2018-11-01T19:09:19Z",
    "author_association": "NONE",
    "body": "Perhaps there is a policy not to use exceptions (which would be the easiest way to propagate such info back to the caller) for some reason. But *some* mechanism is required to inform the caller why the call failed."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/435294715",
    "html_url": "https://github.com/grpc/grpc/issues/17075#issuecomment-435294715",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17075",
    "id": 435294715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTI5NDcxNQ==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-02T07:30:43Z",
    "updated_at": "2018-11-02T07:30:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "`AddListeningPort` also takes an optional `int*` argument that gets populated with the port upon binding. However the API is misleading in that you have to check the value of the pointer argument you pass **after** calling `BuildAndStart`, not right after `AddListeningPort`, since the binding does not happen right then."
  }
]
