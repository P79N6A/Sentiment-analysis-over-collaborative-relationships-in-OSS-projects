[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/382903273",
    "html_url": "https://github.com/grpc/grpc/issues/14614#issuecomment-382903273",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14614",
    "id": 382903273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjkwMzI3Mw==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-19T22:45:23Z",
    "updated_at": "2018-04-19T22:45:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "saw the same test failed in a different way on macos https://source.cloud.google.com/results/invocations/bd6fb4f2-8619-4d85-a1e8-23fa6e4bce71/targets/github%2Fgrpc%2Fcpp_macos_opt_native/tests"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390813417",
    "html_url": "https://github.com/grpc/grpc/issues/14614#issuecomment-390813417",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14614",
    "id": 390813417,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDgxMzQxNw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T23:27:02Z",
    "updated_at": "2018-05-21T23:28:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Saw an occurrence on 2018-04-21 with epollsig (not seen since than).\r\nhttps://source.cloud.google.com/results/invocations/76d2617f-0e1c-4e23-b976-e3529791b392\r\n\r\n```\r\nSUMMARY: ThreadSanitizer: heap-use-after-free /var/local/git/grpc/src/core/lib/iomgr/timer_generic.cc:441:14 in timer_cancel(grpc_timer*)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390814188",
    "html_url": "https://github.com/grpc/grpc/issues/14614#issuecomment-390814188",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14614",
    "id": 390814188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDgxNDE4OA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T23:30:05Z",
    "updated_at": "2018-05-21T23:30:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is quite rare compared to other flakes, so setting priority to P2."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/392889097",
    "html_url": "https://github.com/grpc/grpc/issues/14614#issuecomment-392889097",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14614",
    "id": 392889097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjg4OTA5Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T18:35:25Z",
    "updated_at": "2018-05-29T19:30:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dgquintas  I have some initial git bisect signal (have yet to confirm to know to know for sure) that this flake was introduced by your PR https://github.com/grpc/grpc/pull/13494/.\r\n\r\nSpecifically it should be commit https://github.com/grpc/grpc/commit/590099c46f4edea1c9673b94f735b5326f2dd617\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/392933979",
    "html_url": "https://github.com/grpc/grpc/issues/14614#issuecomment-392933979",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14614",
    "id": 392933979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjkzMzk3OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T20:33:46Z",
    "updated_at": "2018-05-29T20:33:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "When running locally, \r\nthe commit https://github.com/grpc/grpc/commit/590099c46f4edea1c9673b94f735b5326f2dd617 seems to be introducing these races:\r\n```\r\nSUMMARY: ThreadSanitizer: data race /var/local/git/grpc/src/core/lib/iomgr/resource_quota.cc:798:33 in grpc_resource_user_alloc(grpc_resource_user*, unsigned long, grpc_closure*)\r\n\r\nSUMMARY: ThreadSanitizer: data race /var/local/git/grpc/src/core/lib/support/sync.cc:86:33 in gpr_ref\r\n(and maybe some more)\r\n``` \r\n\r\nI also get an occasional failure on the previous commit, but it's much less common it seems.\r\n```\r\nSUMMARY: ThreadSanitizer: data race /var/local/git/grpc/src/core/lib/support/sync_posix.cc:77:46 in gpr_cv_destroy\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/392944341",
    "html_url": "https://github.com/grpc/grpc/issues/14614#issuecomment-392944341",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14614",
    "id": 392944341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjk0NDM0MQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T21:04:30Z",
    "updated_at": "2018-05-29T21:04:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm using `./tools/run_tests/run_tests.py -l c++ -c tsan -r PickFirstBackOffInitialReconnect -n 1000 -a 10 --use_docker`  \r\n\r\nand `./tools/run_tests/run_tests.py -l c++ -c tsan -r PickFirstBackOffInitialReconnect -n 1000 -a 10 --use_docker --compiler clang7.0` (on master) to reproduce locally"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/392991747",
    "html_url": "https://github.com/grpc/grpc/issues/14614#issuecomment-392991747",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14614",
    "id": 392991747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjk5MTc0Nw==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-30T00:28:35Z",
    "updated_at": "2018-05-30T00:28:35Z",
    "author_association": "NONE",
    "body": "I've spent the day looking into this, together with @yashykt and @kpayson64 . There seems to be an issue with the say the tcp server is shutdown (see traces with extra logging [here](https://gist.github.com/dgquintas/f9d305854433065b5e7633f89fc962ad)). In particular, new readable events may arrive on the server's FD after the server is in the process of being destroyed, causing an invalid ref() call. @kpayson64 has agreed to take this on. "
  }
]
