[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/331876151",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-331876151",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 331876151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTg3NjE1MQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-25T13:11:30Z",
    "updated_at": "2017-09-25T13:11:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like this happens whevever \"verconf.h\" is not generated (or not generated on time) before building loadpath.c\r\n\r\nSuccessful build looks like this:\r\n```\r\ncreating verconf.h\r\ncompiling /Users/kbuilder/.rake-compiler/sources/ruby-2.1.5/loadpath.c\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/331878779",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-331878779",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 331878779,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTg3ODc3OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-25T13:21:25Z",
    "updated_at": "2017-09-25T13:21:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "http://lists.busybox.net/pipermail/buildroot/2014-December/114273.html"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/331950215",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-331950215",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 331950215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTk1MDIxNQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-25T17:17:05Z",
    "updated_at": "2017-09-25T17:17:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@apolcyn  @nicolasnoble  ideas how to fix/workaround are welcome. :-)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/332391606",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-332391606",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 332391606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjM5MTYwNg==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-27T02:35:04Z",
    "updated_at": "2017-09-27T02:35:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can definitely reproduce this flakiness but I don't have an idea right now... On a sort of related note, is the [fetching the ruby environment script via wget](https://github.com/grpc/grpc/blob/master/tools/internal_ci/macos/grpc_build_artifacts.sh#L30) vs. running straight from the current repo needed?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/332746524",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-332746524",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 332746524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjc0NjUyNA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-28T07:01:08Z",
    "updated_at": "2017-09-28T07:01:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jtattermusch actually related to the link you posted above, there is a workaround for what looks like this issue, posted in https://patchwork.ozlabs.org/patch/418321/.  I have not tested yet but I'm thinking that something like that could be done as a further patch to https://raw.githubusercontent.com/rake-compiler/rake-compiler/v1.0.3/tasks/bin/cross-ruby.rake. .... I could look into that tomorrow."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/333028281",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-333028281",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 333028281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzAyODI4MQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T04:30:17Z",
    "updated_at": "2017-09-29T04:30:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/apolcyn/grpc/commit/4386f57926aaec21a032ea0f7ce98e3c7ea142ce is a start - this zip file pointed out by @nicolasnoble. There's another failure now though :/ \r\n```\r\nrake aborted!\r\nNoMethodError: undefined method `split' for nil:NilClass\r\n/Users/kbuilder/.rvm/gems/ruby-2.4.0/gems/rake-compiler-1.0.4/lib/rake/extensiontask.rb:515:in `ruby_api_version'\r\n/Users/kbuilder/.rvm/gems/ruby-2.4.0/gems/rake-compiler-1.0.4/lib/rake/extensiontask.rb:262:in `block in define_native_tasks'\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/333239287",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-333239287",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 333239287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzIzOTI4Nw==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T21:06:31Z",
    "updated_at": "2017-09-29T21:56:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @nicolasnoble, it looks like there is a big problem with the use of the pre-built `rake-compilers.zip` files on kokoro because that file isn't portable outside of those jenkins workers (there are lots of references to the jenkins mac worker home directory throughout files/directories in that zip file).\r\n\r\nSince it seems like that zip file is worth using though for speed and stability, solutions I can think of:\r\n1. mass-replace `/User/jenkins` to the current home direcotry upon download of that zip file.\r\n2. Continue building this file on kokoro workers but start caching it. Use both the current home directory and the date as keys for this cache. \r\n3. Manually create a zip file specific to kokoro workers and count on that working for all kokoro workers"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/333529123",
    "html_url": "https://github.com/grpc/grpc/issues/12161#issuecomment-333529123",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12161",
    "id": 333529123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzUyOTEyMw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-02T13:08:44Z",
    "updated_at": "2017-10-02T13:08:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "For now, I have a fix here: https://github.com/grpc/grpc/pull/12779.\r\n\r\nOnce we unflake the build, we can look into using the pre-build zipfile with rake-compilers (but I think that might be  tricky because the pre-built stuff is not necessarily portable - as you pointed out).\r\n"
  }
]
