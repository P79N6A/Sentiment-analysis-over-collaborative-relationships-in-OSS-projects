[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369645710",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369645710",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369645710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY0NTcxMA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T16:21:26Z",
    "updated_at": "2018-03-01T16:21:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "#14471 is our last  known flake for C core windows tests, so it would be great to fix and be fully green."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369645794",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369645794",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369645794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY0NTc5NA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T16:21:41Z",
    "updated_at": "2018-03-01T16:21:41Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369649182",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369649182",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369649182,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY0OTE4Mg==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T16:31:24Z",
    "updated_at": "2018-03-01T16:31:24Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369662970",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369662970",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369662970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY2Mjk3MA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T17:13:20Z",
    "updated_at": "2018-03-01T17:13:20Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369682650",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369682650",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369682650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY4MjY1MA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T18:19:51Z",
    "updated_at": "2018-03-01T18:19:51Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369685134",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369685134",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369685134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY4NTEzNA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T18:28:24Z",
    "updated_at": "2018-03-01T18:28:24Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369694465",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369694465",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369694465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY5NDQ2NQ==",
    "user": {
      "login": "yashykt",
      "id": 4181124,
      "node_id": "MDQ6VXNlcjQxODExMjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4181124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashykt",
      "html_url": "https://github.com/yashykt",
      "followers_url": "https://api.github.com/users/yashykt/followers",
      "following_url": "https://api.github.com/users/yashykt/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashykt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashykt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashykt/subscriptions",
      "organizations_url": "https://api.github.com/users/yashykt/orgs",
      "repos_url": "https://api.github.com/users/yashykt/repos",
      "events_url": "https://api.github.com/users/yashykt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashykt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T18:59:50Z",
    "updated_at": "2018-03-01T18:59:50Z",
    "author_association": "MEMBER",
    "body": "Though this doesn't seem like a proper fix, it seems it will definitely reduce the likeliness of the flake. I would have preferred a solution that changed the proxy code to handle this scenario instead."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369698013",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369698013",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369698013,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY5ODAxMw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T19:11:57Z",
    "updated_at": "2018-03-01T19:11:57Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369723887",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369723887",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369723887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTcyMzg4Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T20:41:27Z",
    "updated_at": "2018-03-01T20:41:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yashykt, I'm happy to follow recommendations how to modify the proxy code to avoid the problem - it seems to me that the problem is somewhat inherent if the only thing you want is a dummy proxy that doesn't understand the content that it is forwarding (which is should not IMHO). \r\nAlso, I was somewhat surprised by the odd behavior of windows sockets (as described in #14471 - a bad write shouldn't really affect a pending read)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369736409",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369736409",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369736409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTczNjQwOQ==",
    "user": {
      "login": "yashykt",
      "id": 4181124,
      "node_id": "MDQ6VXNlcjQxODExMjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4181124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashykt",
      "html_url": "https://github.com/yashykt",
      "followers_url": "https://api.github.com/users/yashykt/followers",
      "following_url": "https://api.github.com/users/yashykt/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashykt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashykt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashykt/subscriptions",
      "organizations_url": "https://api.github.com/users/yashykt/orgs",
      "repos_url": "https://api.github.com/users/yashykt/repos",
      "events_url": "https://api.github.com/users/yashykt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashykt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T21:26:47Z",
    "updated_at": "2018-03-01T21:26:47Z",
    "author_association": "MEMBER",
    "body": "I think that this issue is related to when the proxy shuts down its connections. If I understand the problem correctly, it's happening because the proxy is not correctly handling server shutdown. The writes from the server are not being propagated to the client during shutdown, which makes me think that there is an if condition missing somewhere."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369851815",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-369851815",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 369851815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTg1MTgxNQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-02T08:12:51Z",
    "updated_at": "2018-03-02T08:12:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "On Thu, Mar 1, 2018 at 10:27 PM, Yash Tibrewal <notifications@github.com>\nwrote:\n\n> I think that this issue is related to when the proxy shuts down its\n> connections. If I understand the problem correctly, it's happening because\n> the proxy is not correctly handling server shutdown. The writes from the\n> server are not being propagated to the client during shutdown, which makes\n> me think that there is an if condition missing somewhere.\n>\nHow exactly? If my analysis in  #14471\n<https://github.com/grpc/grpc/issues/14471> is correct,  the proxy is doing\neverything alright -  it's actually the server that shuts down the\nconnection (it also writes GOAWAY and RST_STREAM correctly), and the proxy\ncorrectly attempts to read the data from the server. The proxy would\nforward them to the client if the read finished successfully, but the read\nfails instead (with WSAECONNABORT), and I think the reason why winsock\naborts the connections is that the proxy tries to send a ping from client\nto the server concurrently with the socket being shutdown by the server.\nIMHO the proxy cannot do much here, because until the read failure, it\nactually cannot know anything about the server shutting down (and once it\nfinds out and the socket read fails, the GOAWAY and RST_STREAM frames are\nlost on its way from server to proxy).\n\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/pull/14560#issuecomment-369736409>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AJeq5EDtuU6Uh6fQ3yDpdcZGoWwCLF76ks5taGeqgaJpZM4SYk9z>\n> .\n>\n\n\n\n-- \n\nJan\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370009840",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-370009840",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 370009840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDAwOTg0MA==",
    "user": {
      "login": "yashykt",
      "id": 4181124,
      "node_id": "MDQ6VXNlcjQxODExMjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4181124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashykt",
      "html_url": "https://github.com/yashykt",
      "followers_url": "https://api.github.com/users/yashykt/followers",
      "following_url": "https://api.github.com/users/yashykt/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashykt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashykt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashykt/subscriptions",
      "organizations_url": "https://api.github.com/users/yashykt/orgs",
      "repos_url": "https://api.github.com/users/yashykt/repos",
      "events_url": "https://api.github.com/users/yashykt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashykt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-02T18:27:14Z",
    "updated_at": "2018-03-02T18:27:14Z",
    "author_association": "MEMBER",
    "body": "Right, so we could add some logic in proxy that would try to flush everything it's received before reporting a connection error to the client and vice versa. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370423851",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-370423851",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 370423851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDQyMzg1MQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T13:47:34Z",
    "updated_at": "2018-03-05T13:47:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yashykt  I think you are still misunderstanding me.  The problem is not that the proxy fails to forward something that it received (which would be fixable by what you're suggesting), but the proxy itself actually fails to receive the RST_STREAM and GOAWAY from the server (because there's a ping being forwarded to the server at roughly the same time, which causes the read of RST_STREAM and GOAWAY to fail - and the data is lost, it cannot be \"flushed\").\r\nIf you still believe you have a way to change the proxy to prevent this problem, please describe it in more detail (because right now I have trouble believing that such solution exists, unless we somehow fix the winsock shutdown semantics)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370503917",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-370503917",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 370503917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDUwMzkxNw==",
    "user": {
      "login": "yashykt",
      "id": 4181124,
      "node_id": "MDQ6VXNlcjQxODExMjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4181124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashykt",
      "html_url": "https://github.com/yashykt",
      "followers_url": "https://api.github.com/users/yashykt/followers",
      "following_url": "https://api.github.com/users/yashykt/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashykt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashykt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashykt/subscriptions",
      "organizations_url": "https://api.github.com/users/yashykt/orgs",
      "repos_url": "https://api.github.com/users/yashykt/repos",
      "events_url": "https://api.github.com/users/yashykt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashykt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T17:49:56Z",
    "updated_at": "2018-03-05T17:49:56Z",
    "author_association": "MEMBER",
    "body": "@Jan I thought that the write from the client was failing after which the proxy does not try to read and forward data that might have been already been received (without which the server should not complete shutdown). This might be impossible to fix and as you suggest it might be a property of windows sockets themselves. For the time being, I am fine with the fix you have suggested.\r\n\r\nI'll take a look later and see if this can be fixed with changes to the proxy code instead."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370504539",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-370504539",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 370504539,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDUwNDUzOQ==",
    "user": {
      "login": "yashykt",
      "id": 4181124,
      "node_id": "MDQ6VXNlcjQxODExMjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4181124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashykt",
      "html_url": "https://github.com/yashykt",
      "followers_url": "https://api.github.com/users/yashykt/followers",
      "following_url": "https://api.github.com/users/yashykt/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashykt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashykt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashykt/subscriptions",
      "organizations_url": "https://api.github.com/users/yashykt/orgs",
      "repos_url": "https://api.github.com/users/yashykt/repos",
      "events_url": "https://api.github.com/users/yashykt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashykt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T17:52:06Z",
    "updated_at": "2018-03-05T17:52:06Z",
    "author_association": "MEMBER",
    "body": "Adding Vijay as component owner"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370524064",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-370524064",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 370524064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDUyNDA2NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T18:55:02Z",
    "updated_at": "2018-03-05T18:55:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yashykt    I discussed with @nicolasnoble  offline and it seemed that the same problem we are seeing might happen on linux and mac too.  We are not seeing any flakiness on linux and mac, so it can be either:\r\n1. It might be that the timing is different on linux so we are just \"lucky\" but the problem is there too (linux sockets might not be immune to the same issue as on windows)\r\n2. the linux shutdown procedure might actually be preventing the problems we are seeing on windows. We might need to revisit the shutdown logic on windows to prevent this from happening."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370524968",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-370524968",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 370524968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDUyNDk2OA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T18:57:57Z",
    "updated_at": "2018-03-05T18:57:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "we might want to experiment with halfshutdown (close socket for sending) vs full shutdown (tip from @nicolasnoble)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/370526675",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-370526675",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 370526675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDUyNjY3NQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T19:03:03Z",
    "updated_at": "2018-03-05T19:03:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yashykt  @vjpai   I would be ok with merging this workaround (after adding a TODO) if someone is willing to take on the action item to further look into this (otherwise there's a danger this will never get fixed properly)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/371551999",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-371551999",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 371551999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTU1MTk5OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-08T17:01:31Z",
    "updated_at": "2018-03-08T17:01:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, this change has now been stuck for a while (and the test has been flaking in the meantime). Here's my suggestion\r\n- let's merge the workaround as is to get rid of the flake and to get a better signal on from our tests\r\n- I filed https://github.com/grpc/grpc/issues/14643 as a reminder to revisit the problem we discussed here.\r\n\r\n@yashykt  @vjpai  does this sound reasonable? If yes, please approve and I'll merge."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/371671635",
    "html_url": "https://github.com/grpc/grpc/pull/14560#issuecomment-371671635",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14560",
    "id": 371671635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTY3MTYzNQ==",
    "user": {
      "login": "yashykt",
      "id": 4181124,
      "node_id": "MDQ6VXNlcjQxODExMjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4181124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashykt",
      "html_url": "https://github.com/yashykt",
      "followers_url": "https://api.github.com/users/yashykt/followers",
      "following_url": "https://api.github.com/users/yashykt/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashykt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashykt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashykt/subscriptions",
      "organizations_url": "https://api.github.com/users/yashykt/orgs",
      "repos_url": "https://api.github.com/users/yashykt/repos",
      "events_url": "https://api.github.com/users/yashykt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashykt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T00:24:15Z",
    "updated_at": "2018-03-09T00:24:15Z",
    "author_association": "MEMBER",
    "body": "Sorry for the late reply. Yeah, I can take a look at this. "
  }
]
