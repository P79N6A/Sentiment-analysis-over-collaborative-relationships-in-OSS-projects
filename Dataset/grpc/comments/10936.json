[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/298462426",
    "html_url": "https://github.com/grpc/grpc/issues/10936#issuecomment-298462426",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10936",
    "id": 298462426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ2MjQyNg==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-01T23:49:25Z",
    "updated_at": "2017-05-01T23:49:25Z",
    "author_association": "MEMBER",
    "body": "Does must_succeed lock the pollset before kicking it?\n\nOn Mon, May 1, 2017, 4:28 PM David G. Quintas <notifications@github.com>\nwrote:\n\n>\n> https://grpc-testing.appspot.com/job/gRPC_pull_requests_tsan_c/4346/testReport/junit/(root)/c_linux_tsan_native/bins_tsan_resolve_address_test_GRPC_POLL_STRATEGY_epoll/\n>\n> Other data races become apparent running ./tools/run_tests/run_tests.py\n> -l c -c tsan -r resolve_address_test -a 10 -n inf -S\n>\n> Eg:\n>\n> WARNING: ThreadSanitizer: data race (pid=96957)\n>   Write of size 1 at 0x7d180000eff0 by main thread:\n>     #0 pollset_kick /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_epoll_linux.c:1196:35 (resolve_address_test+0x0000004cc2e1)\n>     #1 pollset_shutdown /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_epoll_linux.c:1319:3 (resolve_address_test+0x0000004cb80e)\n>     #2 grpc_pollset_shutdown /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_posix.c:197:3 (resolve_address_test+0x0000004ae941)\n>     #3 args_finish /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:76:3 (resolve_address_test+0x0000004a7c84)\n>     #4 test_localhost /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:144:3 (resolve_address_test+0x0000004a7f56)\n>     #5 main /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:268:3 (resolve_address_test+0x0000004a7dec)\n>\n>   Previous write of size 1 at 0x7d180000eff0 by thread T1 (mutexes: write M79):\n>     #0 pollset_kick /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_epoll_linux.c:1220:33 (resolve_address_test+0x0000004cc52b)\n>     #1 grpc_pollset_kick /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_posix.c:212:10 (resolve_address_test+0x0000004aeb11)\n>     #2 must_succeed /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:121:3 (resolve_address_test+0x0000004a8983)\n>     #3 closure_wrapper /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/closure.c:115:3 (resolve_address_test+0x0000004a960e)\n>     #4 grpc_exec_ctx_flush /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/exec_ctx.c:79:9 (resolve_address_test+0x0000004af867)\n>     #5 closure_exec_thread_func /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/executor.c:93:7 (resolve_address_test+0x0000004b02df)\n>     #6 thread_body /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/thd_posix.c:57:3 (resolve_address_test+0x0000004e924d)\n>\n>   Location is heap block of size 96 at 0x7d180000efa0 allocated by main thread:\n>     #0 calloc /home/development/llvm/3.8.0/final/llvm.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:612:5 (resolve_address_test+0x00000041f32c)\n>     #1 zalloc_with_calloc /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/alloc.c:42:53 (resolve_address_test+0x0000004e4baf)\n>     #2 gpr_zalloc /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/alloc.c:83:7 (resolve_address_test+0x0000004e4911)\n>     #3 args_init /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:60:19 (resolve_address_test+0x0000004a7994)\n>     #4 test_localhost /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:137:3 (resolve_address_test+0x0000004a7e9e)\n>     #5 main /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:268:3 (resolve_address_test+0x0000004a7dec)\n>\n>   Mutex M79 (0x7d180000efa0) created at:\n>     #0 pthread_mutex_init /home/development/llvm/3.8.0/final/llvm.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169:3 (resolve_address_test+0x000000423650)\n>     #1 gpr_mu_init /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/sync_posix.c:51:32 (resolve_address_test+0x0000004e86ac)\n>     #2 pollset_init /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_epoll_linux.c:1234:3 (resolve_address_test+0x0000004cb5f4)\n>     #3 grpc_pollset_init /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_posix.c:192:3 (resolve_address_test+0x0000004ae8b1)\n>     #4 args_init /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:61:3 (resolve_address_test+0x0000004a79e7)\n>     #5 test_localhost /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:137:3 (resolve_address_test+0x0000004a7e9e)\n>     #6 main /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:268:3 (resolve_address_test+0x0000004a7dec)\n>\n>   Thread T1 (tid=96976, finished) created by main thread at:\n>     #0 pthread_create /home/development/llvm/3.8.0/final/llvm.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954:3 (resolve_address_test+0x000000421ff1)\n>     #1 gpr_thd_new /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/thd_posix.c:81:21 (resolve_address_test+0x0000004e9133)\n>     #2 maybe_spawn_locked /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/executor.c:121:3 (resolve_address_test+0x0000004affe8)\n>     #3 executor_push /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/executor.c:131:5 (resolve_address_test+0x0000004afe7d)\n>     #4 grpc_closure_sched /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/closure.c:148:5 (resolve_address_test+0x0000004a988f)\n>     #5 resolve_address_impl /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/resolve_address_posix.c:199:3 (resolve_address_test+0x0000004b1aa0)\n>     #6 test_localhost /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:138:3 (resolve_address_test+0x0000004a7f31)\n>     #7 main /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:268:3 (resolve_address_test+0x0000004a7dec)\n>\n> SUMMARY: ThreadSanitizer: data race /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/ev_epoll_linux.c:1196:35 in pollset_kick\n>\n> and\n>\n> ==================\n> WARNING: ThreadSanitizer: data race (pid=101283)\n>   Write of size 8 at 0x7d180000efa0 by main thread:\n>     #0 free /home/development/llvm/3.8.0/final/llvm.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638:3 (resolve_address_test+0x00000041f5fb)\n>     #1 gpr_free /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/alloc.c:93:3 (resolve_address_test+0x0000004e4994)\n>     #2 args_finish /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:80:3 (resolve_address_test+0x0000004a7cea)\n>     #3 test_unparseable_hostports /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:259:5 (resolve_address_test+0x0000004a879f)\n>     #4 main /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:275:3 (resolve_address_test+0x0000004a7e0f)\n>\n>   Previous atomic read of size 1 at 0x7d180000efa0 by thread T6:\n>     #0 pthread_mutex_lock /home/development/llvm/3.8.0/final/llvm.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:3319:3 (resolve_address_test+0x000000441f80)\n>     #1 gpr_mu_lock /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/sync_posix.c:60:3 (resolve_address_test+0x0000004e87a2)\n>     #2 must_fail /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:129:3 (resolve_address_test+0x0000004a8e0f)\n>     #3 closure_wrapper /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/closure.c:115:3 (resolve_address_test+0x0000004a960e)\n>     #4 grpc_exec_ctx_flush /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/exec_ctx.c:79:9 (resolve_address_test+0x0000004af867)\n>     #5 closure_exec_thread_func /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/executor.c:93:7 (resolve_address_test+0x0000004b02df)\n>     #6 thread_body /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/thd_posix.c:57:3 (resolve_address_test+0x0000004e924d)\n>\n>   Thread T6 (tid=101392, finished) created by main thread at:\n>     #0 pthread_create /home/development/llvm/3.8.0/final/llvm.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954:3 (resolve_address_test+0x000000421ff1)\n>     #1 gpr_thd_new /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/thd_posix.c:81:21 (resolve_address_test+0x0000004e9133)\n>     #2 maybe_spawn_locked /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/executor.c:121:3 (resolve_address_test+0x0000004affe8)\n>     #3 executor_push /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/executor.c:131:5 (resolve_address_test+0x0000004afe7d)\n>     #4 grpc_closure_sched /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/closure.c:148:5 (resolve_address_test+0x0000004a988f)\n>     #5 resolve_address_impl /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/iomgr/resolve_address_posix.c:199:3 (resolve_address_test+0x0000004b1aa0)\n>     #6 test_unparseable_hostports /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:253:5 (resolve_address_test+0x0000004a877a)\n>     #7 main /usr/local/google/home/dgq/grpc/forks/tmp/grpc/test/core/iomgr/resolve_address_test.c:275:3 (resolve_address_test+0x0000004a7e0f)\n>\n> SUMMARY: ThreadSanitizer: data race /usr/local/google/home/dgq/grpc/forks/tmp/grpc/src/core/lib/support/alloc.c:93:3 in gpr_free\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/10936>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AJpudR_OqTpMWsIGVnhP9o7YgjdeXLK2ks5r1mqMgaJpZM4NNjMA>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/301935660",
    "html_url": "https://github.com/grpc/grpc/issues/10936#issuecomment-301935660",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10936",
    "id": 301935660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTkzNTY2MA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-16T22:39:55Z",
    "updated_at": "2017-05-16T22:39:55Z",
    "author_association": "MEMBER",
    "body": "Seen again: https://grpc-testing.appspot.com/job/gRPC_master_tsanitizer_c/1548/testReport/junit/(root)/c_linux_tsan_native/bins_tsan_resolve_address_test_GRPC_POLL_STRATEGY_epollsig/"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/305831929",
    "html_url": "https://github.com/grpc/grpc/issues/10936#issuecomment-305831929",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10936",
    "id": 305831929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTgzMTkyOQ==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-02T16:01:31Z",
    "updated_at": "2017-06-02T16:01:31Z",
    "author_association": "MEMBER",
    "body": "Seen in gRPC_master_tsanitizer_c [#1699](https://grpc-testing.appspot.com/job/gRPC_master_tsanitizer_c/1699/) and [#1692](https://grpc-testing.appspot.com/job/gRPC_master_tsanitizer_c/1692/)."
  }
]
