[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/406880279",
    "html_url": "https://github.com/grpc/grpc/issues/16090#issuecomment-406880279",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16090",
    "id": 406880279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjg4MDI3OQ==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-22T16:40:56Z",
    "updated_at": "2018-07-22T16:40:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "This sounds more like a Bazel bug than a gRPC one..."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/406883145",
    "html_url": "https://github.com/grpc/grpc/issues/16090#issuecomment-406883145",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16090",
    "id": 406883145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjg4MzE0NQ==",
    "user": {
      "login": "hesingh",
      "id": 32817427,
      "node_id": "MDQ6VXNlcjMyODE3NDI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/32817427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesingh",
      "html_url": "https://github.com/hesingh",
      "followers_url": "https://api.github.com/users/hesingh/followers",
      "following_url": "https://api.github.com/users/hesingh/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesingh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesingh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesingh/subscriptions",
      "organizations_url": "https://api.github.com/users/hesingh/orgs",
      "repos_url": "https://api.github.com/users/hesingh/repos",
      "events_url": "https://api.github.com/users/hesingh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesingh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-22T17:25:52Z",
    "updated_at": "2018-07-22T17:25:52Z",
    "author_association": "NONE",
    "body": "Thanks for the note over a weekend.  I didn't know how to clean Bazel build, so I removed the grpc directory and cloned again.   Then I tried \"sudo make\" and even that fails with 'undefined references'.  See log below.\r\n\r\n$git clone --recursive -b $(curl -L https://grpc.io/release) https://github.com/grpc/grpc\r\n$ cd grpc\r\ngrpc$ sudo make\r\n\r\n[HOSTLD]  Linking /home/hemant/Downloads/grpc/bins/opt/grpc_php_plugin\r\n/home/hemant/Downloads/grpc/libs/opt/libgrpc_plugin_support.a(php_generator.o): In function `PrintMethod':\r\n/home/hemant/Downloads/grpc/src/compiler/php_generator.cc:74: undefined reference to `google::protobuf::compiler::php::GeneratedClassName[abi:cxx11](google::protobuf::Descriptor const*)'\r\n/home/hemant/Downloads/grpc/src/compiler/php_generator.cc:76: undefined reference to `google::protobuf::compiler::php::GeneratedClassName[abi:cxx11](google::protobuf::Descriptor const*)'\r\ncollect2: error: ld returned 1 exit status\r\nMakefile:17576: recipe for target '/home/hemant/Downloads/grpc/bins/opt/grpc_php_plugin' failed\r\nmake: *** [/home/hemant/Downloads/grpc/bins/opt/grpc_php_plugin] Error 1\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/406887724",
    "html_url": "https://github.com/grpc/grpc/issues/16090#issuecomment-406887724",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16090",
    "id": 406887724,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjg4NzcyNA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-22T18:42:36Z",
    "updated_at": "2018-07-22T18:42:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like a protobuf version mismatch. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/406899519",
    "html_url": "https://github.com/grpc/grpc/issues/16090#issuecomment-406899519",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16090",
    "id": 406899519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjg5OTUxOQ==",
    "user": {
      "login": "hesingh",
      "id": 32817427,
      "node_id": "MDQ6VXNlcjMyODE3NDI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/32817427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesingh",
      "html_url": "https://github.com/hesingh",
      "followers_url": "https://api.github.com/users/hesingh/followers",
      "following_url": "https://api.github.com/users/hesingh/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesingh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesingh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesingh/subscriptions",
      "organizations_url": "https://api.github.com/users/hesingh/orgs",
      "repos_url": "https://api.github.com/users/hesingh/repos",
      "events_url": "https://api.github.com/users/hesingh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesingh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-22T21:49:33Z",
    "updated_at": "2018-07-22T21:49:33Z",
    "author_association": "NONE",
    "body": "I removed any old protobuf includes and libs from my machine.  Then I changed directory to grpc/third_party/protobuf and issued the following commands to build protobuf.  All commands passed for functionality.\r\n\r\n    $ ./autogen.sh\r\n    $ ./configure\r\n    $ make\r\n    $ make check\r\n    $ sudo make install\r\n    $ sudo ldconfig # refresh shared library cache.\r\n\r\nThen I changed directory to grpc root and invoked \"sudo make\".  Now I see even more undefined references.  I wonder, if I am using protobuf that came with grpc, why such undefined references happen?\r\n\r\n[HOSTCXX] Compiling src/compiler/cpp_plugin.cc\r\n[HOSTLD]  Linking /home/hemant/Downloads/grpc/bins/opt/grpc_cpp_plugin\r\n/home/hemant/Downloads/grpc/objs/opt/src/compiler/cpp_plugin.o: In function `ProtoBufPrinter::ProtoBufPrinter(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*)':\r\n/home/hemant/Downloads/grpc/./src/compiler/protobuf_plugin.h:136: undefined reference to `google::protobuf::io::StringOutputStream::StringOutputStream(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*)'\r\n/home/hemant/Downloads/grpc/objs/opt/src/compiler/cpp_plugin.o: In function `ProtoBufPrinter::Print(std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&, char const*)':\r\n/home/hemant/Downloads/grpc/./src/compiler/protobuf_plugin.h:140: undefined reference to `google::protobuf::io::Printer::Print(std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&, char const*)'\r\n/home/hemant/Downloads/grpc/objs/opt/src/compiler/cpp_plugin.o: In function `void grpc_generator::GetComment<google::protobuf::FileDescriptor>(google::protobuf::FileDescriptor const*, grpc_generator::CommentType, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >*)':\r\n/home/hemant/Downloads/grpc/./src/compiler/generator_helpers.h:221: undefined reference to `google::protobuf::FileDescriptor::GetSourceLocation(std::vector<int, std::allocator<int> > const&, google::protobuf::SourceLocation*) const'\r\n/home/hemant/Downloads/grpc/./src/compiler/generator_helpers.h:221: undefined reference to `google::protobuf::FileDescriptor::GetSourceLocation(std::vector<int, std::allocator<int> > const&, google::protobuf::SourceLocation*) const'\r\n/home/hemant/Downloads/grpc/./src/compiler/generator_helpers.h:221: undefined reference to `google::protobuf::FileDescriptor::GetSourceLocation(std::vector<int, std::allocator<int> > const&, google::protobuf::SourceLocation*) const'\r\n/home/hemant/Downloads/grpc/./src/compiler/generator_helpers.h:221: undefined reference to `google::protobuf::FileDescriptor::GetSourceLocation(std::vector<int, std::allocator<int> > const&, google::protobuf::SourceLocation*) const'\r\n/home/hemant/Downloads/grpc/objs/opt/src/compiler/cpp_plugin.o:(.data.rel.ro._ZTV16CppGrpcGenerator[_ZTV16CppGrpcGenerator]+0x28): undefined reference to `google::protobuf::compiler::CodeGenerator::GenerateAll(std::vector<google::protobuf::FileDescriptor const*, std::allocator<google::protobuf::FileDescriptor const*> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, google::protobuf::compiler::GeneratorContext*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) const'\r\ncollect2: error: ld returned 1 exit status\r\nMakefile:17452: recipe for target '/home/hemant/Downloads/grpc/bins/opt/grpc_cpp_plugin' failed\r\nmake: *** [/home/hemant/Downloads/grpc/bins/opt/grpc_cpp_plugin] Error 1\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/406901709",
    "html_url": "https://github.com/grpc/grpc/issues/16090#issuecomment-406901709",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16090",
    "id": 406901709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjkwMTcwOQ==",
    "user": {
      "login": "hesingh",
      "id": 32817427,
      "node_id": "MDQ6VXNlcjMyODE3NDI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/32817427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesingh",
      "html_url": "https://github.com/hesingh",
      "followers_url": "https://api.github.com/users/hesingh/followers",
      "following_url": "https://api.github.com/users/hesingh/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesingh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesingh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesingh/subscriptions",
      "organizations_url": "https://api.github.com/users/hesingh/orgs",
      "repos_url": "https://api.github.com/users/hesingh/repos",
      "events_url": "https://api.github.com/users/hesingh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesingh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-22T22:22:24Z",
    "updated_at": "2018-07-22T22:22:24Z",
    "author_association": "NONE",
    "body": "$ protoc --version\r\nlibprotoc 3.5.1\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/406912584",
    "html_url": "https://github.com/grpc/grpc/issues/16090#issuecomment-406912584",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16090",
    "id": 406912584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjkxMjU4NA==",
    "user": {
      "login": "hesingh",
      "id": 32817427,
      "node_id": "MDQ6VXNlcjMyODE3NDI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/32817427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesingh",
      "html_url": "https://github.com/hesingh",
      "followers_url": "https://api.github.com/users/hesingh/followers",
      "following_url": "https://api.github.com/users/hesingh/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesingh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesingh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesingh/subscriptions",
      "organizations_url": "https://api.github.com/users/hesingh/orgs",
      "repos_url": "https://api.github.com/users/hesingh/repos",
      "events_url": "https://api.github.com/users/hesingh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesingh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-23T01:11:53Z",
    "updated_at": "2018-07-23T01:11:53Z",
    "author_association": "NONE",
    "body": "After a fresh git clone, I built grpc/third_party/protobuf again but did not invoke the last step which was \"sudo ldconfig\".   Then grpc build completed and examples/cpp/helloworld testing passed.  "
  }
]
