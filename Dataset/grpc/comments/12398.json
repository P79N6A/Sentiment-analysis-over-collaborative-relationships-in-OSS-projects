[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/327965272",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-327965272",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 327965272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzk2NTI3Mg==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-08T00:20:10Z",
    "updated_at": "2017-09-08T00:20:10Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/327967443",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-327967443",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 327967443,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzk2NzQ0Mw==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-08T00:37:48Z",
    "updated_at": "2017-09-08T00:37:48Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] Performance differences noted:\nBenchmark              cpu_time    real_time\n---------------------  ----------  -----------\nBM_ErrorGetMissingInt  -9%         -8%\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328191056",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-328191056",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 328191056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODE5MTA1Ng==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-08T19:17:21Z",
    "updated_at": "2017-09-08T19:17:21Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328196861",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-328196861",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 328196861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODE5Njg2MQ==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-08T19:45:44Z",
    "updated_at": "2017-09-08T19:45:44Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] Performance differences noted:\nBenchmark                              cpu_time    real_time\n-------------------------------------  ----------  -----------\nBM_ErrorGetMissingInt                  +8%         +8%\nBM_ErrorHttpError<SimpleError>         +4%         +5%\nBM_HasClearGrpcStatus<ErrorCancelled>  +6%         +8%\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328628402",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-328628402",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 328628402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODYyODQwMg==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T19:07:41Z",
    "updated_at": "2017-09-11T19:07:41Z",
    "author_association": "MEMBER",
    "body": "This is ready for review"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328646595",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-328646595",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 328646595,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODY0NjU5NQ==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T20:19:08Z",
    "updated_at": "2017-09-11T20:19:08Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328646843",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-328646843",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 328646843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODY0Njg0Mw==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T20:20:04Z",
    "updated_at": "2017-09-11T20:20:04Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] Performance differences noted:\nBenchmark                                         cpu_time    real_time\n------------------------------------------------  ----------  -----------\nBM_ErrorGetMissingInt                             +4%         +4%\nBM_HasClearGrpcStatus<ErrorWithNestedGrpcStatus>  +5%         +4%\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328710003",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-328710003",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 328710003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODcxMDAwMw==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T02:05:28Z",
    "updated_at": "2017-09-12T02:05:28Z",
    "author_association": "MEMBER",
    "body": "These are both code generated... they're parameters that fit a search space\nto cover a maximal set of buckets with an O(1) search.\n\nOn Mon, Sep 11, 2017 at 3:38 PM Vijay Pai <notifications@github.com> wrote:\n\n> *@vjpai* approved this pull request.\n>\n> LGTM with a nit to please add 2 comments.\n> ------------------------------\n>\n> In src/core/lib/debug/stats_data.c\n> <https://github.com/grpc/grpc/pull/12398#discussion_r138210448>:\n>\n> > -const int grpc_stats_histo_start[10] = {0,   64,  128, 192, 256,\n> -                                        320, 384, 448, 512, 576};\n> -const int *const grpc_stats_histo_bucket_boundaries[10] = {\n> +void grpc_stats_inc_server_cqs_checked(grpc_exec_ctx *exec_ctx, int value) {\n> +  value = GPR_CLAMP(value, 0, 64);\n> +  if (value < 3) {\n> +    GRPC_STATS_INC_HISTOGRAM((exec_ctx),\n> +                             GRPC_STATS_HISTOGRAM_SERVER_CQS_CHECKED, value);\n> +    return;\n> +  }\n> +  union {\n> +    double dbl;\n> +    uint64_t uint;\n> +  } _val, _bkt;\n> +  _val.dbl = value;\n> +  if (_val.uint < 4625196817309499392ull) {\n>\n> I'm not familiar with this particular magic number; what is it? Can you\n> add a comment about it?\n> ------------------------------\n>\n> In src/core/lib/debug/stats_data.c\n> <https://github.com/grpc/grpc/pull/12398#discussion_r138210584>:\n>\n> > -const int *const grpc_stats_histo_bucket_boundaries[10] = {\n> +void grpc_stats_inc_server_cqs_checked(grpc_exec_ctx *exec_ctx, int value) {\n> +  value = GPR_CLAMP(value, 0, 64);\n> +  if (value < 3) {\n> +    GRPC_STATS_INC_HISTOGRAM((exec_ctx),\n> +                             GRPC_STATS_HISTOGRAM_SERVER_CQS_CHECKED, value);\n> +    return;\n> +  }\n> +  union {\n> +    double dbl;\n> +    uint64_t uint;\n> +  } _val, _bkt;\n> +  _val.dbl = value;\n> +  if (_val.uint < 4625196817309499392ull) {\n> +    int bucket =\n> +        grpc_stats_table_5[((_val.uint - 4613937818241073152ull) >> 51)] + 3;\n>\n> Likewise, I assume that this has something to do with double-precision FPs\n> because of 51, but I don't know this magic number. Can we get a comment?\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/pull/12398#pullrequestreview-61976210>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AJpudepboEzD_oYTzSYWO6uZYAYZNWYPks5shbZLgaJpZM4PNcq3>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328710104",
    "html_url": "https://github.com/grpc/grpc/pull/12398#issuecomment-328710104",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12398",
    "id": 328710104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODcxMDEwNA==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T02:06:01Z",
    "updated_at": "2017-09-12T02:06:01Z",
    "author_association": "MEMBER",
    "body": "https://github.com/grpc/grpc/pull/12398/files#diff-60eee1b4d3427aec960ae4bf0b57aadfL17"
  }
]
