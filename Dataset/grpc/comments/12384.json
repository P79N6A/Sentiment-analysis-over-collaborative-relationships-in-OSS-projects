[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/327747842",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-327747842",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 327747842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzc0Nzg0Mg==",
    "user": {
      "login": "mdyring",
      "id": 18033781,
      "node_id": "MDQ6VXNlcjE4MDMzNzgx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18033781?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdyring",
      "html_url": "https://github.com/mdyring",
      "followers_url": "https://api.github.com/users/mdyring/followers",
      "following_url": "https://api.github.com/users/mdyring/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdyring/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdyring/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdyring/subscriptions",
      "organizations_url": "https://api.github.com/users/mdyring/orgs",
      "repos_url": "https://api.github.com/users/mdyring/repos",
      "events_url": "https://api.github.com/users/mdyring/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdyring/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-07T09:36:47Z",
    "updated_at": "2017-09-07T09:36:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "As a side note, it doesn't appear that grpc++ is built for the install target either"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328837878",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-328837878",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 328837878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODgzNzg3OA==",
    "user": {
      "login": "mdyring",
      "id": 18033781,
      "node_id": "MDQ6VXNlcjE4MDMzNzgx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18033781?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdyring",
      "html_url": "https://github.com/mdyring",
      "followers_url": "https://api.github.com/users/mdyring/followers",
      "following_url": "https://api.github.com/users/mdyring/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdyring/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdyring/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdyring/subscriptions",
      "organizations_url": "https://api.github.com/users/mdyring/orgs",
      "repos_url": "https://api.github.com/users/mdyring/repos",
      "events_url": "https://api.github.com/users/mdyring/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdyring/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T12:30:21Z",
    "updated_at": "2017-09-12T12:30:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Side note #2: crypto.lib and ssl.lib from boringssl are not installed either.\r\n\r\nI receive the warning below, perhaps this is related.. But AFAICT I am following the guidelines for Windows builds.\r\n\r\nCMake Warning at CMakeLists.txt:120 (message):\r\n  gRPC_INSTALL will be forced to FALSE because gRPC_ZLIB_PROVIDER is \"module\""
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328884745",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-328884745",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 328884745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODg4NDc0NQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T15:15:54Z",
    "updated_at": "2017-09-12T15:15:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Installing using cmake is currently work-in-progress, but one things you need to do it to use\r\ngRPC_ZLIB_PROVIDER, gRPC_SSL_PROVIDER and gRPC_CARES_PROVIDER to =package (after installing them separately to you prefix path) - that's something you've been warned about by the message: `gRPC_INSTALL will be forced to FALSE because gRPC_ZLIB_PROVIDER is \"module\"`\r\n\r\ngRPC should not install the third_party libraries for you as part of \"grpc install\" (and it actually cannot do that, because cmake prevents installing targets from subdirectories). We will update the documentation once the necessary steps on windows are tested (we just added similar test for linux: see https://github.com/grpc/grpc/blob/master/test/distrib/cpp/run_distrib_test_cmake.sh for the steps to install on linux - windows is going to be similar)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/329087150",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-329087150",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 329087150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTA4NzE1MA==",
    "user": {
      "login": "mdyring",
      "id": 18033781,
      "node_id": "MDQ6VXNlcjE4MDMzNzgx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18033781?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdyring",
      "html_url": "https://github.com/mdyring",
      "followers_url": "https://api.github.com/users/mdyring/followers",
      "following_url": "https://api.github.com/users/mdyring/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdyring/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdyring/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdyring/subscriptions",
      "organizations_url": "https://api.github.com/users/mdyring/orgs",
      "repos_url": "https://api.github.com/users/mdyring/repos",
      "events_url": "https://api.github.com/users/mdyring/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdyring/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-13T07:48:39Z",
    "updated_at": "2017-09-13T07:48:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Since they are included as submodules and built alongside gRPC, personally I'd expect to see a working build (including third party dependencies) in the install directory.\r\n\r\nBut if that is not possible with cmake, I thank you for the hint and will try to build/install the third_party libs separately. :-)\r\n\r\nShould I open a new issue re. \"it doesn't appear that grpc++ is built for the install target either\"?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/329103364",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-329103364",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 329103364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTEwMzM2NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-13T08:56:26Z",
    "updated_at": "2017-09-13T08:56:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mdyring  I think we are aware of the problem with cmake install. The best thing we can do is to come up with a test that tries to do cmake install and builds helloworld subsequently. That's the only way to ensure that cmake will continue working as expected without someone constantly needed to check it.\r\n\r\nAdding such test is in my work queue, but I have some higher priority things right now, so there's no ETA unfortunately."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330948031",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-330948031",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 330948031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDk0ODAzMQ==",
    "user": {
      "login": "aajtodd",
      "id": 5158304,
      "node_id": "MDQ6VXNlcjUxNTgzMDQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5158304?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aajtodd",
      "html_url": "https://github.com/aajtodd",
      "followers_url": "https://api.github.com/users/aajtodd/followers",
      "following_url": "https://api.github.com/users/aajtodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/aajtodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aajtodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aajtodd/subscriptions",
      "organizations_url": "https://api.github.com/users/aajtodd/orgs",
      "repos_url": "https://api.github.com/users/aajtodd/repos",
      "events_url": "https://api.github.com/users/aajtodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aajtodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-20T18:57:02Z",
    "updated_at": "2017-09-20T18:57:02Z",
    "author_association": "NONE",
    "body": "So I hit this issue as well. I tried mirroring the script for Linux to build all the third party dependencies first then build gRPC. However then I hit #11616 and/or #12230. (I was building 1.6.0 so the fix for 12230 was not available). \r\n\r\nI started with visual studio 15 generator then switched to Ninja to see if it got any further (it did not although it seems to install the grpc headers at least).\r\n\r\nStarter script is below if it helps anyone. Boringssl is commented out because as far as I can tell it has no install target. \r\n\r\n\r\n```bat\r\n@echo on\r\n\r\nsetlocal\r\n\r\nif \"%1\" == \"\" goto usage\r\n\r\n:check_platform\r\nif /i %1 == x86       goto x86\r\nif /i %1 == amd64     goto amd64\r\nif /i %1 == x64       goto amd64\r\ngoto usage\r\n\r\n:x86\r\nset PREFIX=\"C:\\opt (x86)\\grpc\"\r\nREM set GENERATOR=\"Visual Studio 14 2015\"\r\nREM set INSTALLTARGET=INSTALL\r\nREM set EXTRA_BUILDARGS=\"-- /maxcpucount\"\r\nset GENERATOR=\"Ninja\"\r\nset INSTALLTARGET=install\r\nset EXTRA_BUILDARGS=\r\n\r\n\r\ngoto build_third_party\r\n\r\n:amd64\r\nset PREFIX=\"C:\\opt\\grpc\"\r\nREM set GENERATOR=\"Visual Studio 14 2015 Win64\"\r\nREM set INSTALLTARGET=\"INSTALL\"\r\nREM set EXTRA_BUILDARGS=\"-- /maxcpucount\"\r\nset GENERATOR=\"Ninja\"\r\nset INSTALLTARGET=install\r\nset EXTRA_BUILDARGS=\r\n\r\n\r\ngoto build_third_party\r\n\r\n:build_third_party\r\nset BUILDDIR=\"build-%1\"\r\n\r\nREM Install c-ares\r\ncd third_party/cares/cares\r\ngit fetch origin\r\ngit checkout cares-1_13_0\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\nmkdir -p %BUILDDIR%\r\ncd %BUILDDIR%\r\ncmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=%PREFIX% -G%GENERATOR% ..\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --config Release %EXTRA_BUILDARGS%\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --target %INSTALLTARGET% --config Release\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncd ../../../..\r\nREM wipe out to prevent influencing the grpc build\r\nrm -rf third_party/cares/cares\r\n\r\n:build_zlib\r\nREM Install zlib\r\ncd third_party\\zlib\r\nmkdir -p %BUILDDIR%\r\ncd %BUILDDIR%\r\ncmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=%PREFIX% -G%GENERATOR% ..\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --config Release %EXTRA_BUILDARGS%\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --target %INSTALLTARGET% --config Release\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncd ../../..\r\nREM wipe out to prevent influencing the grpc build\r\nrm -rf third_party/zlib\r\n\r\n:build_protobuf\r\nREM Install protobuf\r\ncd third_party\\protobuf\r\nmkdir -p %BUILDDIR%\r\ncd %BUILDDIR%\r\ncmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=%PREFIX% -Dprotobuf_BUILD_TESTS=OFF -G%GENERATOR% ..\\cmake\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --config Release %EXTRA_BUILDARGS%\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --target %INSTALLTARGET% --config Release\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncd ../../..\r\nREM wipe out to prevent influencing the grpc build\r\nrm -rf third_party/protobuf\r\n\r\nREM :build_boringssl\r\nREM cd third_party\\boringssl\r\nREM mkdir -p %BUILDDIR%\r\nREM cd %BUILDDIR%\r\nREM cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=%PREFIX% -G%GENERATOR% ..\r\nREM if %errorlevel% neq 0 exit /b %errorlevel%\r\nREM cmake --build . --config Release %EXTRA_BUILDARGS%\r\nREM if %errorlevel% neq 0 exit /b %errorlevel%\r\nREM cmake --build . --target %INSTALLTARGET% --config Release\r\nREM if %errorlevel% neq 0 exit /b %errorlevel%\r\nREM cd ../../..\r\nREM REM wipe out to prevent influencing the grpc build\r\nREM rm -rf third_party/boringssl\r\nREM goto :eof\r\n\r\n:build_grpc\r\nREM Install gRPC\r\nmkdir -p %BUILDDIR%\r\ncd %BUILDDIR%\r\ncmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=%PREFIX% -DCMAKE_INSTALL_PREFIX=%PREFIX% -DgRPC_INSTALL=ON -DgRPC_PROTOBUF_PROVIDER=package -DgRPC_ZLIB_PROVIDER=package -DgRPC_CARES_PROVIDER=package -DgRPC_SSL_PROVIDER=package ..\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --config Release %EXTRA_BUILDARGS%\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\ncmake --build . --target INSTALL --config Release\r\nif %errorlevel% neq 0 exit /b %errorlevel%\r\n\r\ngoto :eof\r\n\r\n:usage\r\necho Error in script usage. The correct usage is:\r\necho     %0 [option]\r\necho\r\necho where [option] is: x86 ^| amd64\r\necho \r\necho For example:\r\necho     %0 x86\r\necho     %0 x64\r\ngoto :eof\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/355511579",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-355511579",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 355511579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTUxMTU3OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T09:36:19Z",
    "updated_at": "2018-01-05T09:36:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "As explained in #13841, the problems you are seeing are due to an incorrect use of cmake (gRPC_*_PROVIDER needs to be set to \"package\").\r\n\r\n@aajtodd 's script seems correct (thanks!), here's the version of a script we are using ourselves to testing installation gRPC using cmake on windows: https://github.com/grpc/grpc/blob/2b0ab320c12cb807cf05b3295b7017d0ccbf66f5/test/distrib/cpp/run_distrib_test_cmake.bat#L57"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/376859606",
    "html_url": "https://github.com/grpc/grpc/issues/12384#issuecomment-376859606",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12384",
    "id": 376859606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Njg1OTYwNg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T11:53:29Z",
    "updated_at": "2018-03-28T11:53:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've verified that all the files you are mentioning are being installed correctly  once the cmake file is used correctly (see comments above). So I'll close this issue (but we will continue trying to make the cmake install process more intuitive)."
  }
]
