[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280417384",
    "html_url": "https://github.com/grpc/grpc/issues/9728#issuecomment-280417384",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9728",
    "id": 280417384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQxNzM4NA==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T18:33:02Z",
    "updated_at": "2017-02-16T18:33:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @targetnull , \r\nThere are two ways you can scale your server\r\n\r\n1. Add more completion queues (created by calling `builder.AddCompletionQueue()` as it is shown in the example) and have different `HandleRpc` type loops for each completion queue (Note that all HandleRpc is doing is calling `CompletionQueue::Next()` method and processing the event)\r\n2. Have more than one thread call `CompletionQueue::Next()` at the same time. CompletionQueue::Next()` is thread safe and can have multiple threads call this (and in case of an event on the queue, we guarantee that only one thread returns from that function)\r\n\r\nHope this helps\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280417766",
    "html_url": "https://github.com/grpc/grpc/issues/9728#issuecomment-280417766",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9728",
    "id": 280417766,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQxNzc2Ng==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T18:34:27Z",
    "updated_at": "2017-02-16T18:34:27Z",
    "author_association": "NONE",
    "body": "To complete @sreecha's answer, [here](https://github.com/grpc/grpc/blob/master/include/grpc++/impl/codegen/completion_queue.h#L40) is where the Completion Queue's thread-safe guarantee is given.\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280417980",
    "html_url": "https://github.com/grpc/grpc/issues/9728#issuecomment-280417980",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9728",
    "id": 280417980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQxNzk4MA==",
    "user": {
      "login": "feverzsj",
      "id": 8588396,
      "node_id": "MDQ6VXNlcjg1ODgzOTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8588396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feverzsj",
      "html_url": "https://github.com/feverzsj",
      "followers_url": "https://api.github.com/users/feverzsj/followers",
      "following_url": "https://api.github.com/users/feverzsj/following{/other_user}",
      "gists_url": "https://api.github.com/users/feverzsj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feverzsj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feverzsj/subscriptions",
      "organizations_url": "https://api.github.com/users/feverzsj/orgs",
      "repos_url": "https://api.github.com/users/feverzsj/repos",
      "events_url": "https://api.github.com/users/feverzsj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feverzsj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T18:35:11Z",
    "updated_at": "2017-02-16T18:37:22Z",
    "author_association": "NONE",
    "body": "I think the greeter_server.cc already did what you want. Although it is called \"sync\", which is kinda confusing, it actually dispatches rpcs from the CompletionQueue to a thread pool."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280422562",
    "html_url": "https://github.com/grpc/grpc/issues/9728#issuecomment-280422562",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9728",
    "id": 280422562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQyMjU2Mg==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T18:50:43Z",
    "updated_at": "2017-02-16T18:51:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@feverzsj , If you are talking about the greeter_server.cc [here](https://github.com/grpc/grpc/blob/master/examples/cpp/helloworld/greeter_server.cc), then it is infact a *sync* server. As a sync server api user, you don't ~~have to~~ write a threadpool to handle the RPCs\r\n(gRPC _internally_ creates a threadpool to handle RPCs if you use the sync API and perhaps this is what you were referring to)\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280615423",
    "html_url": "https://github.com/grpc/grpc/issues/9728#issuecomment-280615423",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9728",
    "id": 280615423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDYxNTQyMw==",
    "user": {
      "login": "targetnull",
      "id": 7612103,
      "node_id": "MDQ6VXNlcjc2MTIxMDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7612103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/targetnull",
      "html_url": "https://github.com/targetnull",
      "followers_url": "https://api.github.com/users/targetnull/followers",
      "following_url": "https://api.github.com/users/targetnull/following{/other_user}",
      "gists_url": "https://api.github.com/users/targetnull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/targetnull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/targetnull/subscriptions",
      "organizations_url": "https://api.github.com/users/targetnull/orgs",
      "repos_url": "https://api.github.com/users/targetnull/repos",
      "events_url": "https://api.github.com/users/targetnull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/targetnull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T10:35:38Z",
    "updated_at": "2017-02-17T10:35:38Z",
    "author_association": "NONE",
    "body": "Thanks to you all! You've been very helpful"
  }
]
