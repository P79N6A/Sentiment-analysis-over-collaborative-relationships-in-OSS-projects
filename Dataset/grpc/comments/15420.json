[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389715086",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389715086",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389715086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTcxNTA4Ng==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T01:24:15Z",
    "updated_at": "2018-05-17T01:24:15Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                        FILE SIZE\n ++++++++++++++ GROWING                                                                          ++++++++++++++\n  +0.0%     +88 [None]                                                                              +928  +0.0%\n  +3.6%     +96 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posi     +96  +3.6%\n      [NEW]    +275 grpc_ares_fd_node_unref                                                             +275  [NEW]\n      [NEW]    +162 fd_node_shutdown                                                                    +162  [NEW]\n       +22%     +64 grpc_ares_ev_driver_create                                                           +64   +22%\n      [NEW]     +60 grpc_ares_fd_node_ref                                                                +60  [NEW]\n       +19%     +16 [Unmapped]                                                                           +16   +19%\n\n  +0.0%    +184 TOTAL                                                                              +1024  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389716172",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389716172",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389716172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTcxNjE3Mg==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T01:31:20Z",
    "updated_at": "2018-05-17T01:31:20Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389718672",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389718672",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389718672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTcxODY3Mg==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T01:48:04Z",
    "updated_at": "2018-05-17T01:48:04Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                        FILE SIZE\n ++++++++++++++ GROWING                                                                          ++++++++++++++\n  +0.0%     +88 [None]                                                                              +928  +0.0%\n  +3.6%     +96 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posi     +96  +3.6%\n      [NEW]    +275 grpc_ares_fd_node_unref                                                             +275  [NEW]\n      [NEW]    +162 fd_node_shutdown                                                                    +162  [NEW]\n       +22%     +64 grpc_ares_ev_driver_create                                                           +64   +22%\n      [NEW]     +60 grpc_ares_fd_node_ref                                                                +60  [NEW]\n       +19%     +16 [Unmapped]                                                                           +16   +19%\n\n  +0.0%    +184 TOTAL                                                                              +1024  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389719705",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389719705",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389719705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTcxOTcwNQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T01:55:10Z",
    "updated_at": "2018-05-17T01:55:10Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389722800",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389722800",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389722800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTcyMjgwMA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T02:16:15Z",
    "updated_at": "2018-05-17T02:16:15Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389726387",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389726387",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389726387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTcyNjM4Nw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T02:39:58Z",
    "updated_at": "2018-05-17T02:39:58Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389733924",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389733924",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389733924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTczMzkyNA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T03:32:52Z",
    "updated_at": "2018-05-17T03:32:52Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                        FILE SIZE\n ++++++++++++++ GROWING                                                                          ++++++++++++++\n  +0.0%     +88 [None]                                                                              +928  +0.0%\n  +3.6%     +96 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posi     +96  +3.6%\n      [NEW]    +275 grpc_ares_fd_node_unref                                                             +275  [NEW]\n      [NEW]    +162 fd_node_shutdown                                                                    +162  [NEW]\n       +22%     +64 grpc_ares_ev_driver_create                                                           +64   +22%\n      [NEW]     +60 grpc_ares_fd_node_ref                                                                +60  [NEW]\n       +19%     +16 [Unmapped]                                                                           +16   +19%\n\n  +0.0%    +184 TOTAL                                                                              +1024  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389734871",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389734871",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389734871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTczNDg3MQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T03:40:00Z",
    "updated_at": "2018-05-17T03:40:00Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389737886",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389737886",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389737886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTczNzg4Ng==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T04:03:43Z",
    "updated_at": "2018-05-17T04:03:43Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                        FILE SIZE\n ++++++++++++++ GROWING                                                                          ++++++++++++++\n  +0.0%     +88 [None]                                                                              +928  +0.0%\n  +3.6%     +96 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posi     +96  +3.6%\n      [NEW]    +275 grpc_ares_fd_node_unref                                                             +275  [NEW]\n      [NEW]    +162 fd_node_shutdown                                                                    +162  [NEW]\n       +22%     +64 grpc_ares_ev_driver_create                                                           +64   +22%\n      [NEW]     +60 grpc_ares_fd_node_ref                                                                +60  [NEW]\n       +19%     +16 [Unmapped]                                                                           +16   +19%\n\n  +0.0%    +184 TOTAL                                                                              +1024  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389738868",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389738868",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389738868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTczODg2OA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T04:11:36Z",
    "updated_at": "2018-05-17T04:11:36Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389740460",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389740460",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389740460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTc0MDQ2MA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T04:24:36Z",
    "updated_at": "2018-05-17T04:24:36Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389742661",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389742661",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389742661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTc0MjY2MQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T04:42:14Z",
    "updated_at": "2018-05-17T04:42:14Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                        FILE SIZE\n ++++++++++++++ GROWING                                                                          ++++++++++++++\n  +0.0%     +88 [None]                                                                              +928  +0.0%\n  +3.6%     +96 src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posi     +96  +3.6%\n      [NEW]    +275 grpc_ares_fd_node_unref                                                             +275  [NEW]\n      [NEW]    +162 fd_node_shutdown                                                                    +162  [NEW]\n       +22%     +64 grpc_ares_ev_driver_create                                                           +64   +22%\n      [NEW]     +60 grpc_ares_fd_node_ref                                                                +60  [NEW]\n       +19%     +16 [Unmapped]                                                                           +16   +19%\n\n  +0.0%    +184 TOTAL                                                                              +1024  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389743587",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389743587",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389743587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTc0MzU4Nw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T04:49:04Z",
    "updated_at": "2018-05-17T04:49:04Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389744448",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389744448",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389744448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTc0NDQ0OA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T04:56:07Z",
    "updated_at": "2018-05-17T04:56:07Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389749694",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389749694",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389749694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTc0OTY5NA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T05:33:46Z",
    "updated_at": "2018-05-17T05:33:46Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389915280",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389915280",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389915280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTkxNTI4MA==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T15:50:45Z",
    "updated_at": "2018-05-17T15:50:45Z",
    "author_association": "MEMBER",
    "body": "It's not clear to me that this PR moves us in the right direction.  The PR description says that this will make it easier to convert this code to C++, but I don't see how that's actually true, and it seems like it actually makes us behave more sloppily about cleaning up unused resources.  Let's chat in person about what you're trying to do here.\n\n---\n\nReviewed 6 of 7 files at r1, 2 of 2 files at r2.\nReview status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 61 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCilrHFDc3Ghdswc9_K:-LCilrHFDc3Ghdswc9_L:b-i8ya3l) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L61)):*\n> ```cpp\n>   /** has this fd node been shutdown yet */\n>   bool already_shutdown;\n>   /** refcount of the fd node*/\n> ```\n\nWhy is it useful to refcount the fd node?  It looks like we are always holding the EV driver lock when we manipulate the fd nodes, so why is refcounting beneficial?\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 139 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCijWXS63LzdHdnxRVc:-LCijWXS63LzdHdnxRVd:bkewuc7) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L139)):*\n> ```cpp\n>   ares_options opts;\n>   memset(&opts, 0, sizeof(opts));\n>   // Pass ARES_FLAGS_STAYOPEN: defer closing of fd's that were\n> ```\n\nThis seems messy.  Why is this necessary?  Shouldn't this be handled by the call to `grpc_fd_orphan()` on line 100 above?\n\nActually, reading further, it seems like this is actually part of the main change in this PR, which is to defer cleanly shutting down the fd node until all requests are done.  But it's not clear to me why we want to do this.  What's the value in this change?  Why would we not want to clean up the fds as soon as we know that they're no longer needed?\n\n---\n\n*[test/cpp/naming/cancel_ares_query_test.cc, line 86 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCim8J4ER1sbQK3FaKB:-LCim8J4ER1sbQK3FaKC:b-oy72dp) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/test/cpp/naming/cancel_ares_query_test.cc#L86)):*\n> ```cpp\n>   }\n>   ~FakeNonResponsiveDNSServer() { close(socket_); }\n>   int socket_;\n> ```\n\nData members should be private.\n\n---\n\n*[test/cpp/naming/cancel_ares_query_test.cc, line 89 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCimXrH-0VWQP_ZRZna:-LCimXrH-0VWQP_ZRZnb:b-hbki1f) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/test/cpp/naming/cancel_ares_query_test.cc#L89)):*\n> ```cpp\n> };\n> \n> class CallWithNonResponsiveDNSServer {\n> ```\n\nIt's not clear to me that this needs to be a class; it could just be a simple test function.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15420#-:-LCimgwiD1RUlbxviCUb:bvat52c)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389957203",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-389957203",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 389957203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTk1NzIwMw==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T18:05:20Z",
    "updated_at": "2018-05-17T18:05:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 61 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCilrHFDc3Ghdswc9_K:-LCj9qg68vXOalhPD6oC:blbpf66) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L61)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nWhy is it useful to refcount the fd node?  It looks like we are always holding the EV driver lock when we manipulate the fd nodes, so why is refcounting beneficial?\n</blockquote></details>\n\nI felt this simplified the code by making it easier to reason about exactly when an fd node will be destroyed: the driver holds a list of FD's, and that FD is destroyed once its removed from that list for lack of c-ares interest and after all of its pending callbacks are done. Also when converted to C++, we can then remove a few lines by having the driver just hold a list of `RefCountedPtr<FdNode>`'s that c-ares it interested in, and pass `Ref()`'s of those to the readable/writeable callback signups.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 139 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCijWXS63LzdHdnxRVc:-LCjCI_B3GPUJJZWIqMN:b-ozspy5) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L139)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nThis seems messy.  Why is this necessary?  Shouldn't this be handled by the call to `grpc_fd_orphan()` on line 100 above?\n\nActually, reading further, it seems like this is actually part of the main change in this PR, which is to defer cleanly shutting down the fd node until all requests are done.  But it's not clear to me why we want to do this.  What's the value in this change?  Why would we not want to clean up the fds as soon as we know that they're no longer needed?\n</blockquote></details>\n\nBiggest reason for this was I thought this simplified things by allowing us to unconditionally call `grcp_fd_shutdown` for each fd node before destroying it (and to guarantee that happens).\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15420)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390115474",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390115474",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390115474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDExNTQ3NA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T07:06:27Z",
    "updated_at": "2018-05-18T07:06:27Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE              FILE SIZE\n ++++++++++++++ GROWIN ++++++++++++++\n  [ = ]       0 [None]     +32  +0.0%\n\n  [ = ]       0 TOTAL      +32  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390115997",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390115997",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390115997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDExNTk5Nw==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T07:08:52Z",
    "updated_at": "2018-05-18T07:08:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: 6 of 8 files reviewed at latest revision, 4 unresolved discussions.\n\n---\n\n*[test/cpp/naming/cancel_ares_query_test.cc, line 86 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCim8J4ER1sbQK3FaKB:-LCm3z9iBSEDD1fHi5MF:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/test/cpp/naming/cancel_ares_query_test.cc#L86)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nData members should be private.\n</blockquote></details>\n\nDone.\n\n---\n\n*[test/cpp/naming/cancel_ares_query_test.cc, line 89 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCimXrH-0VWQP_ZRZna:-LCm3zUz8qxirU815h7Q:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/test/cpp/naming/cancel_ares_query_test.cc#L89)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nIt's not clear to me that this needs to be a class; it could just be a simple test function.\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15420)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390116719",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390116719",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390116719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDExNjcxOQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T07:12:27Z",
    "updated_at": "2018-05-18T07:12:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: 6 of 8 files reviewed at latest revision, 4 unresolved discussions.\n\n---\n\n*[a discussion](https://reviewable.io/reviews/grpc/grpc/15420#-LCm4AefE5KMMeq8ua_n:-LCm4Aeg8o6uebzV7NZ5:bijhazn) (no related file):*\nI've reverted the refcounting changes to the driver code and just renamed the fd node `shutting_down` variable, which does what I was trying to do.\n\nI could carry on with this PR as is now, or another option is to add it to a later PR that does more of the actual driver C++-izing and Windows porting.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15420)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390116829",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390116829",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390116829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDExNjgyOQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T07:12:57Z",
    "updated_at": "2018-05-18T07:12:57Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390127181",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390127181",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390127181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDEyNzE4MQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T07:58:11Z",
    "updated_at": "2018-05-18T07:58:11Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390231248",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390231248",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390231248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDIzMTI0OA==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T14:48:42Z",
    "updated_at": "2018-05-18T14:48:42Z",
    "author_association": "MEMBER",
    "body": "\n\n\n\nReviewed 2 of 2 files at r3.\nReview status: all files reviewed at latest revision, 3 unresolved discussions, some commit checks failed.\n\n---\n\n*[a discussion](https://reviewable.io/reviews/grpc/grpc/15420#-LCm4AefE5KMMeq8ua_n:-LCni8Gr41ZqYPWsOmRT:b-4dzsnf) (no related file):*\n<details><summary><i>Previously, apolcyn wrote…</i></summary><blockquote>\n\nI've reverted the refcounting changes to the driver code and just renamed the fd node `shutting_down` variable, which does what I was trying to do.\n\nI could carry on with this PR as is now, or another option is to add it to a later PR that does more of the actual driver C++-izing and Windows porting.\n</blockquote></details>\n\nI think this PR is fine as a stand-alone, or in combination with #15435.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 61 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCilrHFDc3Ghdswc9_K:-LCnf2zXAvFkgHIj3Vn6:b-5qf0wb) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L61)):*\n<details><summary><i>Previously, apolcyn wrote…</i></summary><blockquote>\n\nI felt this simplified the code by making it easier to reason about exactly when an fd node will be destroyed: the driver holds a list of FD's, and that FD is destroyed once its removed from that list for lack of c-ares interest and after all of its pending callbacks are done. Also when converted to C++, we can then remove a few lines by having the driver just hold a list of `RefCountedPtr<FdNode>`'s that c-ares it interested in, and pass `Ref()`'s of those to the readable/writeable callback signups.\n</blockquote></details>\n\nThanks for reverting this.  In general, the Google style guide says to avoid refcounting objects whenever possible.  There are some cases where it's appropriate, and we happen to have quite a few of those use-cases in gRPC (much more than in most Google projects), but we should always try to use single ownership instead of refcounting whenever feasible.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 139 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCijWXS63LzdHdnxRVc:-LCnfkOSBhqmIsrXTFO7:b-gw80dd) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L139)):*\n<details><summary><i>Previously, apolcyn wrote…</i></summary><blockquote>\n\nBiggest reason for this was I thought this simplified things by allowing us to unconditionally call `grcp_fd_shutdown` for each fd node before destroying it (and to guarantee that happens).\n</blockquote></details>\n\nIn light of the fact that we need to make this change anyway (as per #15435), I spent a while this morning reading through this code, and I now have a much clearer understanding of how this works than I did when we talked yesterday.  In retrospect, I think your original approach here was actually better.  Let's go back to doing it that way, minus the refcounting of the fd_node objects.  (Instead, I think you can have `grpc_ares_notify_on_event_locked()` free the node if it's not registered for either reads or writes.)\n\nSorry for steering you wrong on this!\n\n---\n\n*[test/cpp/naming/cancel_ares_query_test.cc, line 180 at r3](https://reviewable.io/reviews/grpc/grpc/15420#-LCnhqO_AVgw5GGGOfuR:-LCnhqO_AVgw5GGGOfuS:b1pktp2) ([raw file](https://github.com/grpc/grpc/blob/d03e4a71cfc1fcab6387e99fcd9dfc5e824a61ab/test/cpp/naming/cancel_ares_query_test.cc#L180)):*\n> ```cpp\n>   // including the teardown time (the teardown\n>   // part of the test involves cancelling the DNS query,\n>   // which is the main point of interest for this test).\n> ```\n\nHmm...  This seems a bit of a roundabout way of testing this.  Would it make more sense to just manually instantiate the c-ares resolver and test its behavior directly?\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15420)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390300875",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390300875",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390300875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDMwMDg3NQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T18:56:21Z",
    "updated_at": "2018-05-18T18:56:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.\n\n---\n\n*[a discussion](https://reviewable.io/reviews/grpc/grpc/15420#-LCm4AefE5KMMeq8ua_n:-LCo_BeR-b5cnCg6kIfV:b-8l3i9f) (no related file):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nI think this PR is fine as a stand-alone, or in combination with #15435.\n</blockquote></details>\n\nWhen responding to comments, I'm finding that this is PR is very overlapped with #15435, so I'll add these changes into that one and closing out this one.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 61 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCilrHFDc3Ghdswc9_K:-LCo_Ufy0lq7Xa4ZDBVG:b-yn0rqf) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L61)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nThanks for reverting this.  In general, the Google style guide says to avoid refcounting objects whenever possible.  There are some cases where it's appropriate, and we happen to have quite a few of those use-cases in gRPC (much more than in most Google projects), but we should always try to use single ownership instead of refcounting whenever feasible.\n</blockquote></details>\n\n\nThanks for explanation, sounds good.\n\n---\n\n*[src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc, line 139 at r2](https://reviewable.io/reviews/grpc/grpc/15420#-LCijWXS63LzdHdnxRVc:-LCo_bEm3JERIxPc4jBp:b-896fix) ([raw file](https://github.com/grpc/grpc/blob/07e9a74ec9567cab9d6eeaf43963c8f7cd2eae89/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc#L139)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nIn light of the fact that we need to make this change anyway (as per #15435), I spent a while this morning reading through this code, and I now have a much clearer understanding of how this works than I did when we talked yesterday.  In retrospect, I think your original approach here was actually better.  Let's go back to doing it that way, minus the refcounting of the fd_node objects.  (Instead, I think you can have `grpc_ares_notify_on_event_locked()` free the node if it's not registered for either reads or writes.)\n\nSorry for steering you wrong on this!\n</blockquote></details>\n\nDone.\n\n---\n\n*[test/cpp/naming/cancel_ares_query_test.cc, line 180 at r3](https://reviewable.io/reviews/grpc/grpc/15420#-LCnhqO_AVgw5GGGOfuR:-LCo_cF50INsnqT3u-cl:boe37zf) ([raw file](https://github.com/grpc/grpc/blob/d03e4a71cfc1fcab6387e99fcd9dfc5e824a61ab/test/cpp/naming/cancel_ares_query_test.cc#L180)):*\n<details><summary><i>Previously, markdroth (Mark D. Roth) wrote…</i></summary><blockquote>\n\nHmm...  This seems a bit of a roundabout way of testing this.  Would it make more sense to just manually instantiate the c-ares resolver and test its behavior directly?\n</blockquote></details>\n\nI could perhaps put this into something along the lines of the existing `resolver_component_test.cc`, but my main hesitation is I think the test code will probably be a little more complicated, and I think the current one is a way to be sure to cover the realistic resolver cancellation code path (i.e., it seems like a good sanity check that we don't hang, crash, or leak in this sort of scenario).\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15420)*\n<!-- Sent from Reviewable.io -->\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390311015",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390311015",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390311015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDMxMTAxNQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T19:36:51Z",
    "updated_at": "2018-05-18T19:36:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Since there's turning out to be a lot of overlap between this and https://github.com/grpc/grpc/pull/15435, I've merged the changes in this PR into https://github.com/grpc/grpc/pull/15435, and I'll close this one."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/390733835",
    "html_url": "https://github.com/grpc/grpc/pull/15420#issuecomment-390733835",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15420",
    "id": 390733835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDczMzgzNQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T18:02:01Z",
    "updated_at": "2018-05-21T18:02:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "\n\n\n\nReview status: all files reviewed at latest revision, 2 unresolved discussions, some commit checks failed.\n\n---\n\n*[test/cpp/naming/cancel_ares_query_test.cc, line 180 at r3](https://reviewable.io/reviews/grpc/grpc/15420#-LCnhqO_AVgw5GGGOfuR:-LD2qlN7Ad5j2kREi0hW:b-bh5q86) ([raw file](https://github.com/grpc/grpc/blob/d03e4a71cfc1fcab6387e99fcd9dfc5e824a61ab/test/cpp/naming/cancel_ares_query_test.cc#L180)):*\n<details><summary><i>Previously, apolcyn wrote…</i></summary><blockquote>\n\nI could perhaps put this into something along the lines of the existing `resolver_component_test.cc`, but my main hesitation is I think the test code will probably be a little more complicated, and I think the current one is a way to be sure to cover the realistic resolver cancellation code path (i.e., it seems like a good sanity check that we don't hang, crash, or leak in this sort of scenario).\n</blockquote></details>\n\nI've updated https://github.com/grpc/grpc/pull/15435 to use a more focused version of this test that does involve instantiating a resolver directly.\nThe test now has both the \"client to server\" end2end and this more focused one. I'm not really sure if we want to choose one over the other, open to ideas.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io/reviews/grpc/grpc/15420)*\n<!-- Sent from Reviewable.io -->\n"
  }
]
