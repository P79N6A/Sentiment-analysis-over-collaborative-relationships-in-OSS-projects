[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302803807",
    "html_url": "https://github.com/grpc/grpc/issues/11232#issuecomment-302803807",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11232",
    "id": 302803807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjgwMzgwNw==",
    "user": {
      "login": "stanley-cheung",
      "id": 11674202,
      "node_id": "MDQ6VXNlcjExNjc0MjAy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11674202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stanley-cheung",
      "html_url": "https://github.com/stanley-cheung",
      "followers_url": "https://api.github.com/users/stanley-cheung/followers",
      "following_url": "https://api.github.com/users/stanley-cheung/following{/other_user}",
      "gists_url": "https://api.github.com/users/stanley-cheung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stanley-cheung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stanley-cheung/subscriptions",
      "organizations_url": "https://api.github.com/users/stanley-cheung/orgs",
      "repos_url": "https://api.github.com/users/stanley-cheung/repos",
      "events_url": "https://api.github.com/users/stanley-cheung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stanley-cheung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-19T20:29:33Z",
    "updated_at": "2017-05-19T20:29:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can you run these two commands please?\r\n\r\n```\r\nldd $(which php) | grep pthread\r\ndpkg -l | grep pthread\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302825678",
    "html_url": "https://github.com/grpc/grpc/issues/11232#issuecomment-302825678",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11232",
    "id": 302825678,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjgyNTY3OA==",
    "user": {
      "login": "stanley-cheung",
      "id": 11674202,
      "node_id": "MDQ6VXNlcjExNjc0MjAy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11674202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stanley-cheung",
      "html_url": "https://github.com/stanley-cheung",
      "followers_url": "https://api.github.com/users/stanley-cheung/followers",
      "following_url": "https://api.github.com/users/stanley-cheung/following{/other_user}",
      "gists_url": "https://api.github.com/users/stanley-cheung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stanley-cheung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stanley-cheung/subscriptions",
      "organizations_url": "https://api.github.com/users/stanley-cheung/orgs",
      "repos_url": "https://api.github.com/users/stanley-cheung/repos",
      "events_url": "https://api.github.com/users/stanley-cheung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stanley-cheung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-19T22:30:33Z",
    "updated_at": "2017-05-19T22:30:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Progress:\r\n- The user's `ldd $(which php) | grep pthread` command returns nothing. That led me to think that somehow the 5.6.30 compiled PHP executable is not properly linked to `libpthread.so`\r\n- I cannot reproduce the issue even if I used the exact same `.configure` command to compile 5.6.30 PHP myself. My `ldd` command returns this\r\n```\r\n$ ldd $(which php) | grep pthread\r\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f73d1c5e000)\r\n```\r\n\r\n- I noticed a bit of discrepancy in the bug description. You have `--prefix=/usr/local/php` in your `.configure` command, but you mentioned that you ran `/usr/local/bin/pecl`. I found that with that `--prefix` clause, I have to run the `pecl` binary from `/usr/local/php/bin/php`. And that also installs the `grpc.so` extension to `/usr/local/php/lib/php/extensions/no-debug-non-zts-20131226/grpc.so`, instead of `/usr/local/lib/php/extensions/no-debug-non-zts-20131226/grpc.so` listed above. Not sure if they matter. Can you make sure you use the matching `pecl` binary to compile the `grpc` extension?\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302826703",
    "html_url": "https://github.com/grpc/grpc/issues/11232#issuecomment-302826703",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11232",
    "id": 302826703,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjgyNjcwMw==",
    "user": {
      "login": "SurferJeffAtGoogle",
      "id": 11778530,
      "node_id": "MDQ6VXNlcjExNzc4NTMw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11778530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SurferJeffAtGoogle",
      "html_url": "https://github.com/SurferJeffAtGoogle",
      "followers_url": "https://api.github.com/users/SurferJeffAtGoogle/followers",
      "following_url": "https://api.github.com/users/SurferJeffAtGoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/SurferJeffAtGoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SurferJeffAtGoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SurferJeffAtGoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/SurferJeffAtGoogle/orgs",
      "repos_url": "https://api.github.com/users/SurferJeffAtGoogle/repos",
      "events_url": "https://api.github.com/users/SurferJeffAtGoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SurferJeffAtGoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-19T22:38:22Z",
    "updated_at": "2017-05-19T22:38:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "How do I confirm it's the matching pecl?  There's no pecl in ls\n/usr/local/php/bin\nphar  phar.phar  php  php-cgi  php-config  phpdbg  phpize\n\nOn Fri, May 19, 2017 at 3:30 PM, Stanley Cheung <notifications@github.com>\nwrote:\n\n> Progress:\n>\n>    - The ldd $(which php) | grep pthread command returns nothing. That\n>    led me to think that somehow the 5.6.30 compiled PHP executable is not\n>    properly linked to libpthread.so\n>    - I cannot reproduce the issue even if I used the exact same .configure\n>    command to compile 5.6.30 PHP myself. My ldd command returns this\n>\n> $ ldd $(which php) | grep pthread\n> \tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f73d1c5e000)\n>\n>\n>    - I noticed a bit of discrepancy in the bug description. You have\n>    --prefix=/usr/local/php in your .configure command, but you mentioned\n>    that you ran /usr/local/bin/pecl. I found that with that --prefix\n>    clause, I have to run the pecl binary from /usr/local/php/bin/php. And\n>    that also installs the grpc.so extension to /usr/local/php/lib/php/\n>    extensions/no-debug-non-zts-20131226/grpc.so, instead of\n>    /usr/local/lib/php/extensions/no-debug-non-zts-20131226/grpc.so listed\n>    above. Not sure if they matter. Can you make sure you use the matching\n>    pecl binary to compile the grpc extension?\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/11232#issuecomment-302825678>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ALO54tZDYy8ZE0DkWvMiujrIi8hNJ64wks5r7hgUgaJpZM4Nf8ro>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/303242465",
    "html_url": "https://github.com/grpc/grpc/issues/11232#issuecomment-303242465",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11232",
    "id": 303242465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzI0MjQ2NQ==",
    "user": {
      "login": "stanley-cheung",
      "id": 11674202,
      "node_id": "MDQ6VXNlcjExNjc0MjAy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11674202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stanley-cheung",
      "html_url": "https://github.com/stanley-cheung",
      "followers_url": "https://api.github.com/users/stanley-cheung/followers",
      "following_url": "https://api.github.com/users/stanley-cheung/following{/other_user}",
      "gists_url": "https://api.github.com/users/stanley-cheung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stanley-cheung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stanley-cheung/subscriptions",
      "organizations_url": "https://api.github.com/users/stanley-cheung/orgs",
      "repos_url": "https://api.github.com/users/stanley-cheung/repos",
      "events_url": "https://api.github.com/users/stanley-cheung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stanley-cheung/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T22:58:01Z",
    "updated_at": "2017-05-22T22:58:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "User has resolved the issue. After re-compiling PHP, the `php` binary is now properly linked with `libpthread.so.0` so now the grpc extension is loaded without issue"
  }
]
