[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/377643723",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-377643723",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 377643723,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY0MzcyMw==",
    "user": {
      "login": "beamcodeup",
      "id": 547397,
      "node_id": "MDQ6VXNlcjU0NzM5Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/547397?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beamcodeup",
      "html_url": "https://github.com/beamcodeup",
      "followers_url": "https://api.github.com/users/beamcodeup/followers",
      "following_url": "https://api.github.com/users/beamcodeup/following{/other_user}",
      "gists_url": "https://api.github.com/users/beamcodeup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beamcodeup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beamcodeup/subscriptions",
      "organizations_url": "https://api.github.com/users/beamcodeup/orgs",
      "repos_url": "https://api.github.com/users/beamcodeup/repos",
      "events_url": "https://api.github.com/users/beamcodeup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beamcodeup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T23:14:47Z",
    "updated_at": "2018-03-30T23:14:47Z",
    "author_association": "NONE",
    "body": "/cc @aarontp"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/377655189",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-377655189",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 377655189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY1NTE4OQ==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-31T01:12:48Z",
    "updated_at": "2018-03-31T01:12:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "gRPC doesn't support fork as such. Can you give more details about how the worker is forking? Does it have an ongoing pubsub stream when it forks?\r\nCan you dump c when it segfaults at c->scheduler->vtable->sched(c, error) ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379079577",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379079577",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379079577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTA3OTU3Nw==",
    "user": {
      "login": "beamcodeup",
      "id": 547397,
      "node_id": "MDQ6VXNlcjU0NzM5Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/547397?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beamcodeup",
      "html_url": "https://github.com/beamcodeup",
      "followers_url": "https://api.github.com/users/beamcodeup/followers",
      "following_url": "https://api.github.com/users/beamcodeup/following{/other_user}",
      "gists_url": "https://api.github.com/users/beamcodeup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beamcodeup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beamcodeup/subscriptions",
      "organizations_url": "https://api.github.com/users/beamcodeup/orgs",
      "repos_url": "https://api.github.com/users/beamcodeup/repos",
      "events_url": "https://api.github.com/users/beamcodeup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beamcodeup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T21:16:55Z",
    "updated_at": "2018-04-05T22:07:27Z",
    "author_association": "NONE",
    "body": "Forking is done by using this function psq.MultiprocessWorker(queue=task).\r\n\r\nThe queue (task) object has a wrapper for PubSub Connection. So, when it's passed to MultiprocessWorker, a number of workers are spawned and they all share this queue (hence sharing the same pubsub connection).\r\n\r\nTask:\r\nhttps://github.com/GoogleCloudPlatform/psq/blob/d010c14b0b45756d5b6d0841942a6faac14ec9d1/psq/task.py\r\n\r\nQueue (contains PubSub wrapper - ContextLocalPubsubConnection) \r\nhttps://github.com/GoogleCloudPlatform/psq/blob/d010c14b0b45756d5b6d0841942a6faac14ec9d1/psq/queue.py\r\n\r\nContextLocalPubsubConnection:\r\nhttps://github.com/GoogleCloudPlatform/psq/blob/d010c14b0b45756d5b6d0841942a6faac14ec9d1/psq/context_local_pubsub_connection.py\r\n\r\n$ ps auxf\r\nturbinia 30197  4.3  2.8 162932 108132 pts/3   S    20:52   0:01  |                   \\_ gdb turbinia-dev2/bin/python2.7\r\nturbinia 30211  5.4  1.7 577744 64504 pts/3    Sl+  20:52   0:00  |                       \\_ /home/turbinia/turbinia-dev2/bin/python2.7 /home/turbinia/turbinia/turbiniactl -L /var/tmp/turbinia-psqworker.log -o /var/tmp/ psqworker\r\nturbinia 30227  0.0  1.3 348216 49812 pts/3    Sl+  20:53   0:00  |                           \\_ /home/turbinia/turbinia-dev2/bin/python2.7 /home/turbinia/turbinia/turbiniactl -L /var/tmp/turbinia-psqworker.log -o /var/tmp/ psqworker\r\n\r\nThread 1 \"python2.7\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff335001a in grpc_closure_sched (error=0x0, c=0x7fffec21e580) at ./src/core/lib/iomgr/closure.h:297\r\n297\t./src/core/lib/iomgr/closure.h: No such file or directory.\r\n1: c = (grpc_closure *) 0x7fffec21e580\r\n(gdb) \r\n(gdb) \r\n(gdb) \r\n(gdb) print c\r\n$14 = (grpc_closure *) 0x7fffec21e580\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379114241",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379114241",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379114241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTExNDI0MQ==",
    "user": {
      "login": "beamcodeup",
      "id": 547397,
      "node_id": "MDQ6VXNlcjU0NzM5Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/547397?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beamcodeup",
      "html_url": "https://github.com/beamcodeup",
      "followers_url": "https://api.github.com/users/beamcodeup/followers",
      "following_url": "https://api.github.com/users/beamcodeup/following{/other_user}",
      "gists_url": "https://api.github.com/users/beamcodeup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beamcodeup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beamcodeup/subscriptions",
      "organizations_url": "https://api.github.com/users/beamcodeup/orgs",
      "repos_url": "https://api.github.com/users/beamcodeup/repos",
      "events_url": "https://api.github.com/users/beamcodeup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beamcodeup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-06T00:21:59Z",
    "updated_at": "2018-04-06T00:22:16Z",
    "author_association": "NONE",
    "body": "What's the appropriate way to dump c? Since `print c` returned the memory address."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379114403",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379114403",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379114403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTExNDQwMw==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-06T00:23:05Z",
    "updated_at": "2018-04-06T00:23:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "*c should work."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379116919",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379116919",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379116919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTExNjkxOQ==",
    "user": {
      "login": "beamcodeup",
      "id": 547397,
      "node_id": "MDQ6VXNlcjU0NzM5Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/547397?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beamcodeup",
      "html_url": "https://github.com/beamcodeup",
      "followers_url": "https://api.github.com/users/beamcodeup/followers",
      "following_url": "https://api.github.com/users/beamcodeup/following{/other_user}",
      "gists_url": "https://api.github.com/users/beamcodeup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beamcodeup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beamcodeup/subscriptions",
      "organizations_url": "https://api.github.com/users/beamcodeup/orgs",
      "repos_url": "https://api.github.com/users/beamcodeup/repos",
      "events_url": "https://api.github.com/users/beamcodeup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beamcodeup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-06T00:42:07Z",
    "updated_at": "2018-04-06T00:42:07Z",
    "author_association": "NONE",
    "body": "Thread 1 \"python2.7\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff335001a in grpc_closure_sched (error=0x0, c=0x7fffec3daf10) at ./src/core/lib/iomgr/closure.h:297\r\n297     ./src/core/lib/iomgr/closure.h: No such file or directory.\r\n(gdb)\r\n(gdb)\r\n(gdb)\r\n(gdb)\r\n(gdb)\r\n(gdb) print *c\r\n$1 = {next_data = {next = 0x0, atm_next = {next = 0}, scratch = 0}, cb = 0x45, cb_arg = 0x7fffec3dc710, scheduler = 0x0, \r\n  error_data = {error = 0x0, scratch = 0}}"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379117886",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379117886",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379117886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTExNzg4Ng==",
    "user": {
      "login": "beamcodeup",
      "id": 547397,
      "node_id": "MDQ6VXNlcjU0NzM5Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/547397?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beamcodeup",
      "html_url": "https://github.com/beamcodeup",
      "followers_url": "https://api.github.com/users/beamcodeup/followers",
      "following_url": "https://api.github.com/users/beamcodeup/following{/other_user}",
      "gists_url": "https://api.github.com/users/beamcodeup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beamcodeup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beamcodeup/subscriptions",
      "organizations_url": "https://api.github.com/users/beamcodeup/orgs",
      "repos_url": "https://api.github.com/users/beamcodeup/repos",
      "events_url": "https://api.github.com/users/beamcodeup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beamcodeup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-06T00:49:07Z",
    "updated_at": "2018-04-06T00:49:07Z",
    "author_association": "NONE",
    "body": "I re-ran and got a different result:\r\n\r\nThread 1 \"python2.7\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff335001d in grpc_closure_sched (error=0x0, c=0x7fffec000188) at ./src/core/lib/iomgr/closure.h:297\r\n297     ./src/core/lib/iomgr/closure.h: No such file or directory.\r\n(gdb) print *c\r\n$1 = {next_data = {next = 0x7fffec000178, atm_next = {next = 140737152811384}, scratch = 140737152811384}, cb = 0x7fffec000178, \r\n  cb_arg = 0x7fffec225da0, scheduler = 0x7fffec225da0, error_data = {error = 0x7fffec000198, scratch = 140737152811416}}"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379120764",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379120764",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379120764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTEyMDc2NA==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-06T01:10:47Z",
    "updated_at": "2018-04-06T01:10:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "In the first segfault, c->scheduler was null. Can you please also print *(c->scheduler) and *(c->scheduler->vtable). The conclusion is going to be same. Since fork() is not supported, the gRPC runtime is in weird state in the forked process. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379129191",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379129191",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379129191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTEyOTE5MQ==",
    "user": {
      "login": "beamcodeup",
      "id": 547397,
      "node_id": "MDQ6VXNlcjU0NzM5Nw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/547397?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beamcodeup",
      "html_url": "https://github.com/beamcodeup",
      "followers_url": "https://api.github.com/users/beamcodeup/followers",
      "following_url": "https://api.github.com/users/beamcodeup/following{/other_user}",
      "gists_url": "https://api.github.com/users/beamcodeup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beamcodeup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beamcodeup/subscriptions",
      "organizations_url": "https://api.github.com/users/beamcodeup/orgs",
      "repos_url": "https://api.github.com/users/beamcodeup/repos",
      "events_url": "https://api.github.com/users/beamcodeup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beamcodeup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-06T02:13:15Z",
    "updated_at": "2018-04-06T02:13:15Z",
    "author_association": "NONE",
    "body": "Thread 1 \"python2.7\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff335001d in grpc_closure_sched (error=0x0, c=0x7fffec16e710) at ./src/core/lib/iomgr/closure.h:297\r\n297     ./src/core/lib/iomgr/closure.h: No such file or directory.\r\n(gdb) print *c\r\n$1 = {next_data = {next = 0x0, atm_next = {next = 0}, scratch = 0}, cb = 0x121, cb_arg = 0x7fffec225da0, \r\n  scheduler = 0x7fffec18d650, error_data = {error = 0x0, scratch = 0}}\r\n(gdb) print *(c->scheduler)\r\n$2 = {vtable = 0x0}\r\n(gdb) print *(c->scheduler->vtable)\r\nCannot access memory at address 0x0"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379855511",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379855511",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379855511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTg1NTUxMQ==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T18:50:29Z",
    "updated_at": "2018-04-09T18:50:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have come to know that the newer version of PSQ is not using multiprocessing. You could upgrade or you could use --single-threaded option to get around this crash."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/379920958",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-379920958",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 379920958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTkyMDk1OA==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-09T23:06:11Z",
    "updated_at": "2018-04-09T23:06:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Keeping this issue open as there are plans to support client-side fork in future. Timeline is not yet clear. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/388161037",
    "html_url": "https://github.com/grpc/grpc/issues/14892#issuecomment-388161037",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14892",
    "id": 388161037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODE2MTAzNw==",
    "user": {
      "login": "ericgribkoff",
      "id": 5067076,
      "node_id": "MDQ6VXNlcjUwNjcwNzY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5067076?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericgribkoff",
      "html_url": "https://github.com/ericgribkoff",
      "followers_url": "https://api.github.com/users/ericgribkoff/followers",
      "following_url": "https://api.github.com/users/ericgribkoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericgribkoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericgribkoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericgribkoff/subscriptions",
      "organizations_url": "https://api.github.com/users/ericgribkoff/orgs",
      "repos_url": "https://api.github.com/users/ericgribkoff/repos",
      "events_url": "https://api.github.com/users/ericgribkoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericgribkoff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-10T19:34:12Z",
    "updated_at": "2018-05-10T19:34:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm going to mark this issue closed, as #15334 now tracks our plans for client-side fork.\r\n\r\nBut just to add a bit more detail on this particular failure case: I was able to reproduce this failure. The child process (the PSQ worker) was itself creating a gRPC channel to communicate with Datastore. This was triggering a segfault due to a bug since fixed by https://github.com/grpc/grpc/pull/14448 - the Python backup poller thread no longer existed in the child, and attempting to add it as a watcher for a newly created channel led to an inconsistent library state.\r\n\r\nThis particular use case may have worked just fine with fork() after the fix in #14448, but there are still other sources of shared state across fork() that may cause additional problems: more robust support for fork() is now tracked in #15334."
  }
]
