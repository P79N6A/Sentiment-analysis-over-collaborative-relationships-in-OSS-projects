[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/291569892",
    "html_url": "https://github.com/grpc/grpc/issues/10458#issuecomment-291569892",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10458",
    "id": 291569892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU2OTg5Mg==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T17:17:38Z",
    "updated_at": "2017-04-04T17:17:38Z",
    "author_association": "MEMBER",
    "body": "Are you sure that when you installed gRPC, you got the electron precompiled binaries? Did you set the environment variables specified in [the electron documentation](https://electron.atom.io/docs/tutorial/using-native-node-modules/)? If you do that, you should omit the `build_from_source` argument, to make sure that it downloads the precompiled binary."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/291577393",
    "html_url": "https://github.com/grpc/grpc/issues/10458#issuecomment-291577393",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10458",
    "id": 291577393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU3NzM5Mw==",
    "user": {
      "login": "andresiraola",
      "id": 11182419,
      "node_id": "MDQ6VXNlcjExMTgyNDE5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11182419?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andresiraola",
      "html_url": "https://github.com/andresiraola",
      "followers_url": "https://api.github.com/users/andresiraola/followers",
      "following_url": "https://api.github.com/users/andresiraola/following{/other_user}",
      "gists_url": "https://api.github.com/users/andresiraola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andresiraola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andresiraola/subscriptions",
      "organizations_url": "https://api.github.com/users/andresiraola/orgs",
      "repos_url": "https://api.github.com/users/andresiraola/repos",
      "events_url": "https://api.github.com/users/andresiraola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andresiraola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T17:43:39Z",
    "updated_at": "2017-04-04T17:43:39Z",
    "author_association": "NONE",
    "body": "Yes, I'm sure. \r\n\r\nI set the env variables as described in that link with no luck. Then I ran node-pre-gyp manually in node_modules\\grpc like this:\r\n\r\n> node-pre-gyp install --target=1.4.15 --runtime=electron --update-binary\r\n\r\nThe output I get is:\r\n\r\n> node-pre-gyp info it worked if it ends with ok\r\n> node-pre-gyp info using node-pre-gyp@0.6.34\r\n> node-pre-gyp info using node@6.10.1 | win32 | x64\r\n> node-pre-gyp http GET https://storage.googleapis.com/grpc-precompiled-binaries/node/grpc/v1.1.0/electron-v1.4-win32-x64.tar.gz\r\n> node-pre-gyp http 200 https://storage.googleapis.com/grpc-precompiled-binaries/node/grpc/v1.1.0/electron-v1.4-win32-x64.tar.gz\r\n> node-pre-gyp info install unpacking grpc_node.node\r\n> node-pre-gyp info tarball done parsing tarball\r\n> node-pre-gyp info validate Running test command: 'C:\\Program Files\\nodejs\\node.exe --eval 'require(\\'D:/test_app/node_modules/grpc/src/node/extension_binary/grpc_node.node\\')''\r\n> [grpc] Success: \"D:\\test_app\\node_modules\\grpc\\src\\node\\extension_binary\\grpc_node.node\" is installed via remote\r\n\r\nI wonder what version of electron is that grpc binary compiled for.\r\n\r\nIf I had ran \"npm install\" without the right env variables, npm would have installed the pure node version of the precompiled binary and electron wouldn't have even loaded the module (require('grpc')) in the first place. \r\n\r\nEither setting the env variables or running node-pre-gyp manually, it seems I do get a binary for electron but not the right one because require('grpc') works but it crashes after calling a function of my service. And as I said previsouly, the message gets successfully to my c++ grpc server but the response seems to break electron somehow."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/291668593",
    "html_url": "https://github.com/grpc/grpc/issues/10458#issuecomment-291668593",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10458",
    "id": 291668593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTY2ODU5Mw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-04T23:17:36Z",
    "updated_at": "2017-04-04T23:17:36Z",
    "author_association": "MEMBER",
    "body": "The binary is built against electron 1.4.0. But I wouldn't expect that to be a problem; I'd be surprised if electron has binary incompatibility within a single minor version.\r\n\r\nDo you have any more details about the crash?\r\n\r\nIt might be worth trying gRPC 1.2. There was at least one electron-related fix that I made since 1.1.0."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/291694230",
    "html_url": "https://github.com/grpc/grpc/issues/10458#issuecomment-291694230",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10458",
    "id": 291694230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTY5NDIzMA==",
    "user": {
      "login": "andresiraola",
      "id": 11182419,
      "node_id": "MDQ6VXNlcjExMTgyNDE5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11182419?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andresiraola",
      "html_url": "https://github.com/andresiraola",
      "followers_url": "https://api.github.com/users/andresiraola/followers",
      "following_url": "https://api.github.com/users/andresiraola/following{/other_user}",
      "gists_url": "https://api.github.com/users/andresiraola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andresiraola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andresiraola/subscriptions",
      "organizations_url": "https://api.github.com/users/andresiraola/orgs",
      "repos_url": "https://api.github.com/users/andresiraola/repos",
      "events_url": "https://api.github.com/users/andresiraola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andresiraola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-05T00:55:19Z",
    "updated_at": "2017-04-05T00:59:14Z",
    "author_association": "NONE",
    "body": "I ran more tests:\r\n\r\n1) I downgraded my project's electron to 1.4.0 and tried with the precompiled binary.\r\n\r\nSame issue: the module can be loaded using require but it seems to crash when it receives the response. When I say crash I mean that the electron's renderer process dies and the devtools window shows the regular \"DevTools was disconnected from the page\"\r\n\r\n2) I built grpc 1.1.0 for electron 1.4.0 using electron-rebuild (and the fix of my first post) and worked as expected.\r\n\r\n3) I attached the VS debugger to electron while using my grpc build and could debug the function call and response. No issues here.\r\n\r\n4) I tried to debug the precompiled grpc module and wasn't able to attach to it. Well you know what I mean, I could attach to the process but my breakpoints weren't hit because clearly my symbols don't match the precompile binary. This somehow proves that the binary you can build from the grpc module is not the same as the precompiled one.\r\n\r\n5) Finally I upgraded grpc to 1.2.0 and good news! The precompiled binary works! This tells me that my code is ok and there is something going on with the grpc 1.1.0' precompiled binary for electron 1.4.x\r\n\r\nI will update my project to use grpc 1.2.0 and go on working but anyway I think the build issue (gyp adding quotes to the echo warning) should be addressed."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389347404",
    "html_url": "https://github.com/grpc/grpc/issues/10458#issuecomment-389347404",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10458",
    "id": 389347404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTM0NzQwNA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-15T23:34:40Z",
    "updated_at": "2018-05-15T23:34:40Z",
    "author_association": "MEMBER",
    "body": "This does not seem to have recurred in over a year."
  }
]
