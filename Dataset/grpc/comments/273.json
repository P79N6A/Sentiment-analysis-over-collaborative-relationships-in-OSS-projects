[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/71960835",
    "html_url": "https://github.com/grpc/grpc/pull/273#issuecomment-71960835",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/273",
    "id": 71960835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTYwODM1",
    "user": {
      "login": "jboeuf",
      "id": 6262765,
      "node_id": "MDQ6VXNlcjYyNjI3NjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6262765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jboeuf",
      "html_url": "https://github.com/jboeuf",
      "followers_url": "https://api.github.com/users/jboeuf/followers",
      "following_url": "https://api.github.com/users/jboeuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jboeuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jboeuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jboeuf/subscriptions",
      "organizations_url": "https://api.github.com/users/jboeuf/orgs",
      "repos_url": "https://api.github.com/users/jboeuf/repos",
      "events_url": "https://api.github.com/users/jboeuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jboeuf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-29T02:58:04Z",
    "updated_at": "2015-01-29T02:58:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't have an issue with the change but why is that more correct?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/71961529",
    "html_url": "https://github.com/grpc/grpc/pull/273#issuecomment-71961529",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/273",
    "id": 71961529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTYxNTI5",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-29T03:05:34Z",
    "updated_at": "2015-01-29T03:05:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, several things. But long story short, for all intend and purposes, what the code was doing is effectively a memcpy.\n\n-) strncpy is used to copy a string with a max string limit - aka, you don't know in advance how many bytes you want to copy, but you know you don't want more than 'n' bytes to be copied. This isn't your case here: you know already how many bytes you have.\n-) you've already done the strlen before - you know the input length, and strncpy is only going to re-test for the string '\\0' at every char for quite no good reason.\n-) you're at the max size of the string anyway, so you're in fact hitting the \"bad behavior\" of strncpy:\n\n$ man strncpy\n[...]\n_Warning_: If there is no null byte among the first n bytes of src, the string placed in dest will not be null-terminated.\n\nSome security-checker tools might start yelling at that, as doing a strncpy at its max, and not immediately adding a zero behind it is considered an obvious memory exploit.\n\n-) for that bad behavior reason, strncmp is considered harmful, and shouldn't be used, unless you really know what you're doing. It's in fact flagged as depreciated under win32's libraries.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/71962373",
    "html_url": "https://github.com/grpc/grpc/pull/273#issuecomment-71962373",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/273",
    "id": 71962373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTYyMzcz",
    "user": {
      "login": "jboeuf",
      "id": 6262765,
      "node_id": "MDQ6VXNlcjYyNjI3NjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6262765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jboeuf",
      "html_url": "https://github.com/jboeuf",
      "followers_url": "https://api.github.com/users/jboeuf/followers",
      "following_url": "https://api.github.com/users/jboeuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jboeuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jboeuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jboeuf/subscriptions",
      "organizations_url": "https://api.github.com/users/jboeuf/orgs",
      "repos_url": "https://api.github.com/users/jboeuf/repos",
      "events_url": "https://api.github.com/users/jboeuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jboeuf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-01-29T03:16:28Z",
    "updated_at": "2015-01-29T03:16:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "And I'm the security guy. hehe :). LGTM.\n\nOn Wed, Jan 28, 2015 at 7:05 PM, Nicolas Noble notifications@github.com\nwrote:\n\n> So, several things. But long story short, for all intend and purposes,\n> what the code was doing is effectively a memcpy.\n> \n> -) strncpy is used to copy a string with a max string limit - aka, you\n> don't know in advance how many bytes you want to copy, but you know you\n> don't want more than 'n' bytes to be copied. This isn't your case here: you\n> know already how many bytes you have.\n> -) you've already done the strlen before - you know the input length, and\n> strncpy is only going to re-test for the string '\\0' at every char for\n> quite no good reason.\n> -) you're at the max size of the string anyway, so you're in fact hitting\n> the \"bad behavior\" of strncpy:\n> \n> $ man strncpy\n> [...]\n> _Warning_: If there is no null byte among the first n bytes of src, the\n> string placed in dest will not be null-terminated.\n> \n> Some security-checker tools might start yelling at that, as doing a\n> strncpy at its max, and not immediately adding a zero behind it is\n> considered an obvious memory exploit.\n> \n> -) for that bad behavior reason, strncmp is considered harmful, and\n> shouldn't be used, unless you really know what you're doing. It's in fact\n> flagged as depreciated under win32's libraries.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/google/grpc/pull/273#issuecomment-71961529.\n"
  }
]
