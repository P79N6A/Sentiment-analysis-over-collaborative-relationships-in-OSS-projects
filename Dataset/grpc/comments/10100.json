[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/286967414",
    "html_url": "https://github.com/grpc/grpc/pull/10100#issuecomment-286967414",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10100",
    "id": 286967414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njk2NzQxNA==",
    "user": {
      "login": "ericgribkoff",
      "id": 5067076,
      "node_id": "MDQ6VXNlcjUwNjcwNzY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5067076?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericgribkoff",
      "html_url": "https://github.com/ericgribkoff",
      "followers_url": "https://api.github.com/users/ericgribkoff/followers",
      "following_url": "https://api.github.com/users/ericgribkoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericgribkoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericgribkoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericgribkoff/subscriptions",
      "organizations_url": "https://api.github.com/users/ericgribkoff/orgs",
      "repos_url": "https://api.github.com/users/ericgribkoff/repos",
      "events_url": "https://api.github.com/users/ericgribkoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericgribkoff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-16T06:15:05Z",
    "updated_at": "2017-03-16T06:15:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ncteisen I added a health check that waits and verifies that the http2 interop server is ready before continuing on with the interop tests. If the health check does not succeed after 15 seconds, an exception is thrown and the script exits. I think this is reasonable behavior, as it's the same approach taken in [`dockerjob.py#docker_mapped_port`](https://github.com/grpc/grpc/blob/master/tools/run_tests/python_utils/dockerjob.py#L58) when docker fails to return a port for the regular interop servers.\r\n\r\nThe health check is implemented using docker's health check mechanism. The documentation is at https://docs.docker.com/engine/reference/run/#healthcheck. Some of the command-line flags seemed counter-intuitive to me. `--health-retries` is the number of failures necessary to report the status as 'unhealthy', not the total number of retries that will be attempted. The value I chose was arbitrary, as the only thing that matters should be the timeout in `dockerjob.py`.\r\n\r\nI also snuck in a small change that causes the `http2_badserver_interop` tests to still obey the `-l` languages flag. Previously it was impossible to run anything except all of the languages when running the http2 badserver tests. This should be an improvement for manual testing."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/287228749",
    "html_url": "https://github.com/grpc/grpc/pull/10100#issuecomment-287228749",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10100",
    "id": 287228749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzIyODc0OQ==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-17T00:01:43Z",
    "updated_at": "2017-03-17T00:01:43Z",
    "author_association": "MEMBER",
    "body": "Is there an ETA on getting this in?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/287230397",
    "html_url": "https://github.com/grpc/grpc/pull/10100#issuecomment-287230397",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10100",
    "id": 287230397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzIzMDM5Nw==",
    "user": {
      "login": "ericgribkoff",
      "id": 5067076,
      "node_id": "MDQ6VXNlcjUwNjcwNzY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5067076?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericgribkoff",
      "html_url": "https://github.com/ericgribkoff",
      "followers_url": "https://api.github.com/users/ericgribkoff/followers",
      "following_url": "https://api.github.com/users/ericgribkoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericgribkoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericgribkoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericgribkoff/subscriptions",
      "organizations_url": "https://api.github.com/users/ericgribkoff/orgs",
      "repos_url": "https://api.github.com/users/ericgribkoff/repos",
      "events_url": "https://api.github.com/users/ericgribkoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericgribkoff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-17T00:12:09Z",
    "updated_at": "2017-03-17T00:12:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's ready, but the change requires at least docker 1.12, and one of the Jenkins workers for interop tests only has docker version 1.11. @matt-kwong is going to upgrade the docker version later tonight, then it should be good to go."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/287279181",
    "html_url": "https://github.com/grpc/grpc/pull/10100#issuecomment-287279181",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10100",
    "id": 287279181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzI3OTE4MQ==",
    "user": {
      "login": "matt-kwong",
      "id": 22083734,
      "node_id": "MDQ6VXNlcjIyMDgzNzM0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22083734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matt-kwong",
      "html_url": "https://github.com/matt-kwong",
      "followers_url": "https://api.github.com/users/matt-kwong/followers",
      "following_url": "https://api.github.com/users/matt-kwong/following{/other_user}",
      "gists_url": "https://api.github.com/users/matt-kwong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matt-kwong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matt-kwong/subscriptions",
      "organizations_url": "https://api.github.com/users/matt-kwong/orgs",
      "repos_url": "https://api.github.com/users/matt-kwong/repos",
      "events_url": "https://api.github.com/users/matt-kwong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matt-kwong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-17T06:41:13Z",
    "updated_at": "2017-03-17T06:41:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just rebuilt the interop test on this PR here: https://grpc-testing.appspot.com/job/gRPC_interop_pull_requests/12336/. Docker version is 12.6; ping me if there is still an issue."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/287288474",
    "html_url": "https://github.com/grpc/grpc/pull/10100#issuecomment-287288474",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10100",
    "id": 287288474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzI4ODQ3NA==",
    "user": {
      "login": "ericgribkoff",
      "id": 5067076,
      "node_id": "MDQ6VXNlcjUwNjcwNzY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/5067076?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericgribkoff",
      "html_url": "https://github.com/ericgribkoff",
      "followers_url": "https://api.github.com/users/ericgribkoff/followers",
      "following_url": "https://api.github.com/users/ericgribkoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericgribkoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericgribkoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericgribkoff/subscriptions",
      "organizations_url": "https://api.github.com/users/ericgribkoff/orgs",
      "repos_url": "https://api.github.com/users/ericgribkoff/repos",
      "events_url": "https://api.github.com/users/ericgribkoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericgribkoff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-17T07:45:43Z",
    "updated_at": "2017-03-17T07:45:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@matt-kwong Thanks for upgrading docker!\r\n\r\nKnown flakes:\r\nhttps://github.com/grpc/grpc/issues/9562\r\nhttps://github.com/grpc/grpc/issues/9975\r\nhttps://github.com/grpc/grpc/issues/9994"
  }
]
