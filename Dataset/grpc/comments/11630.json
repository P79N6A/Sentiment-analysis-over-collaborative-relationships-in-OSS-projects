[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/311835080",
    "html_url": "https://github.com/grpc/grpc/issues/11630#issuecomment-311835080",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11630",
    "id": 311835080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTgzNTA4MA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-29T01:16:06Z",
    "updated_at": "2017-06-29T02:06:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's nonsense. The WORKSPACE file is ignored by Blaze on subprojects.\r\n\r\nIf you have a WORKSPACE file in your project, which references grpc, our WORKSPACE file will be superseded by yours.\r\n\r\nIf anything, our WORKSPACE file should be used as a reference for the list of externals you need to bind in yours, since you need to match the names we are using. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/311864002",
    "html_url": "https://github.com/grpc/grpc/issues/11630#issuecomment-311864002",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11630",
    "id": 311864002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTg2NDAwMg==",
    "user": {
      "login": "bobobo1618",
      "id": 707839,
      "node_id": "MDQ6VXNlcjcwNzgzOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/707839?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bobobo1618",
      "html_url": "https://github.com/bobobo1618",
      "followers_url": "https://api.github.com/users/bobobo1618/followers",
      "following_url": "https://api.github.com/users/bobobo1618/following{/other_user}",
      "gists_url": "https://api.github.com/users/bobobo1618/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bobobo1618/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bobobo1618/subscriptions",
      "organizations_url": "https://api.github.com/users/bobobo1618/orgs",
      "repos_url": "https://api.github.com/users/bobobo1618/repos",
      "events_url": "https://api.github.com/users/bobobo1618/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bobobo1618/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-29T05:10:38Z",
    "updated_at": "2017-06-29T05:10:38Z",
    "author_association": "NONE",
    "body": "I wasn't trying to say that it caused a conflict, the problem I'm trying to point out is that gRPC requires a lot of work to integrate as all its dependencies have to be pulled out and put in the parent project.\r\n\r\nThis could be avoided by (for example) cloning the dependency repositories, adding a BUILD file to them and depending on them using `//third_party/project:target` as if they were any other component of the project.\r\n\r\nThis does raise the problem that any other project embedding gRPC may have issues if it tries to link a binary with its own version of the library but that should be resolvable by simply using the one already embedded in gRPC and would be worth (to me at least) the simplicity of just adding a single gRPC repository and being done.\r\n\r\nPerhaps the title I should have used is \"gRPC is difficult to embed in Bazel projects\"."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/312089562",
    "html_url": "https://github.com/grpc/grpc/issues/11630#issuecomment-312089562",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11630",
    "id": 312089562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjA4OTU2Mg==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-29T20:08:00Z",
    "updated_at": "2017-06-29T20:16:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, that's the problem with any Bazel project that uses complex subprojects. If you look at TensorFlow for example, their own WORKSPACE file is split into a myriad of sub-scripts that do a lot of work:\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/master/WORKSPACE\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/workspace.bzl\r\n\r\nThat's... what you get if you want to use Bazel properly :-)\r\n\r\nOne of the things that Bazel enforces in fact, is a singular version of a library for the whole project. Let's say you have TensorFlow, currently depending on gRPC 1.3. If you want to create a binary using Bazel, that depends on TensorFlow, you WON'T get to use TensorFlow's WORKSPACE file. But you'll have to provide the same names for everything. So while TensorFlow depends on gRPC 1.3 currently through its WORKSPACE, you can override this to point at gRPC 1.4 in your own WORKSPACE that overrides the one from TensorFlow. Yes, this is complex, but this also guarantees that you don't have more than one copy of the code at a given time in a single project."
  }
]
