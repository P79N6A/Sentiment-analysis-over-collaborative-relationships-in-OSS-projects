[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/218795191",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-218795191",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 218795191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODc5NTE5MQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-12T15:34:11Z",
    "updated_at": "2016-05-12T15:34:11Z",
    "author_association": "MEMBER",
    "body": "One thing that changed in 0.14.1 was how arguments are passed to method calls. Optional arguments now come before the callback, and instead of passing `null` for an argument you don't need to provide, just omit it.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/218959860",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-218959860",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 218959860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODk1OTg2MA==",
    "user": {
      "login": "marshauf",
      "id": 8711791,
      "node_id": "MDQ6VXNlcjg3MTE3OTE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8711791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marshauf",
      "html_url": "https://github.com/marshauf",
      "followers_url": "https://api.github.com/users/marshauf/followers",
      "following_url": "https://api.github.com/users/marshauf/following{/other_user}",
      "gists_url": "https://api.github.com/users/marshauf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marshauf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marshauf/subscriptions",
      "organizations_url": "https://api.github.com/users/marshauf/orgs",
      "repos_url": "https://api.github.com/users/marshauf/repos",
      "events_url": "https://api.github.com/users/marshauf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marshauf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-13T06:09:28Z",
    "updated_at": "2016-05-13T06:09:28Z",
    "author_association": "NONE",
    "body": "Yes, that is it. Thank you.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282141108",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-282141108",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 282141108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE0MTEwOA==",
    "user": {
      "login": "tbranyen",
      "id": 181635,
      "node_id": "MDQ6VXNlcjE4MTYzNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/181635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbranyen",
      "html_url": "https://github.com/tbranyen",
      "followers_url": "https://api.github.com/users/tbranyen/followers",
      "following_url": "https://api.github.com/users/tbranyen/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbranyen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbranyen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbranyen/subscriptions",
      "organizations_url": "https://api.github.com/users/tbranyen/orgs",
      "repos_url": "https://api.github.com/users/tbranyen/repos",
      "events_url": "https://api.github.com/users/tbranyen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbranyen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T22:22:45Z",
    "updated_at": "2017-02-23T22:23:31Z",
    "author_association": "NONE",
    "body": "I'm hitting this problem on the latest gRPC (1.1.2).\r\n\r\nMy code:\r\n\r\n``` js\r\nconst grpc = require('grpc');\r\nconst grpcproxy = require('./grpcproxy_grpc_pb');\r\nconst protobuf = require('google-protobuf');\r\n\r\nconst client = new grpcproxy.GrpcProxyServiceClient(\r\n  '<private_url>:<port>',\r\n  grpc.credentials.createInsecure()\r\n);\r\n\r\nclient.sayHello({}, function() {\r\n  console.log('Did it work?');\r\n});\r\n```\r\n\r\nIf  I use any kind of object or null or remove the first argument completely, I get errors. I cannot seem to satisfy the arguejs code path. It complains about missing google.protobuf.Empty, it complains about missing name from null, getting a lot of complaints from the lib and nothing useful to action on :-/\r\n\r\n\r\nWhen passing `{}`, I get:\r\n\r\n```\r\n/home/tbranyen/Desktop/grpc/node-generated/node_modules/arguejs/argue.js:117\r\n          plainSignature.push( signature[key].name );\r\n                                             ^\r\nTypeError: Cannot read property 'name' of null\r\n```\r\n\r\nWhen removing the first argument completely, I get:\r\n\r\n```\r\n/home/tbranyen/Desktop/grpc/node-generated/grpcproxy_grpc_pb.js:21\r\n    throw new Error('Expected argument of type google.protobuf.Empty');\r\n    ^\r\n\r\nError: Expected argument of type google.protobuf.Empty\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282146638",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-282146638",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 282146638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE0NjYzOA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T22:45:35Z",
    "updated_at": "2017-02-23T22:45:35Z",
    "author_association": "MEMBER",
    "body": "I'm not sure what's going on with the argueJS errors, but have you tried passing an argument of type `google.protobuf.Empty`, like the last error suggests? That error seems to imply that that is the argument type of GrpcProxyServiceClient.sayHello. For convenience, `GrpcProxyServiceClient.sayHello.requestType` should be a reference to the `google.protobuf.Empty` constructor."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282148614",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-282148614",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 282148614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE0ODYxNA==",
    "user": {
      "login": "tbranyen",
      "id": 181635,
      "node_id": "MDQ6VXNlcjE4MTYzNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/181635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbranyen",
      "html_url": "https://github.com/tbranyen",
      "followers_url": "https://api.github.com/users/tbranyen/followers",
      "following_url": "https://api.github.com/users/tbranyen/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbranyen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbranyen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbranyen/subscriptions",
      "organizations_url": "https://api.github.com/users/tbranyen/orgs",
      "repos_url": "https://api.github.com/users/tbranyen/repos",
      "events_url": "https://api.github.com/users/tbranyen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbranyen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T22:54:36Z",
    "updated_at": "2017-02-23T22:54:36Z",
    "author_association": "NONE",
    "body": "Where would I find `google.protobuf.Empty`? I required `google-protobuf` package, but that doesn't have `Empty`. Is there a different package that would contain this?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282151286",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-282151286",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 282151286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE1MTI4Ng==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T23:07:04Z",
    "updated_at": "2017-02-23T23:07:04Z",
    "author_association": "MEMBER",
    "body": "You should be able to get it with `require('google-protobuf/google/protobuf/empty_pb')`. I don't know if there's a better way to access it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282153379",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-282153379",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 282153379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE1MzM3OQ==",
    "user": {
      "login": "tbranyen",
      "id": 181635,
      "node_id": "MDQ6VXNlcjE4MTYzNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/181635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbranyen",
      "html_url": "https://github.com/tbranyen",
      "followers_url": "https://api.github.com/users/tbranyen/followers",
      "following_url": "https://api.github.com/users/tbranyen/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbranyen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbranyen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbranyen/subscriptions",
      "organizations_url": "https://api.github.com/users/tbranyen/orgs",
      "repos_url": "https://api.github.com/users/tbranyen/repos",
      "events_url": "https://api.github.com/users/tbranyen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbranyen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T23:17:15Z",
    "updated_at": "2017-02-23T23:18:13Z",
    "author_association": "NONE",
    "body": "This got me so much further, thank you!\r\n\r\n``` js\r\nconst { Empty } = require('google-protobuf/google/protobuf/empty_pb');\r\nclient.sayHello(new Empty());\r\n```\r\n\r\nThis spits some output to stdout like:\r\n\r\n``` sh\r\n{ wrappers_: null,\r\n  messageId_: undefined,\r\n  arrayIndexOffset_: -1,\r\n  array: [],\r\n  pivot_: 1.7976931348623157e+308,\r\n  convertedFloatingPointFields_: {} }\r\n```\r\n\r\nI switched to using the event emitter approach:\r\n\r\n``` js\r\nclient.sayHello(new Empty()).on('end', () => {\r\n  console.log('end');\r\n}).on('error', (ex) => {\r\n  console.log('Error', ex);\r\n});\r\n```\r\n\r\nThis prints out the initial stdout, but is never completed or rejected. This is probably a separate issue, but not sure..."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282157638",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-282157638",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 282157638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE1NzYzOA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T23:39:17Z",
    "updated_at": "2017-02-23T23:39:17Z",
    "author_association": "MEMBER",
    "body": "If `sayHello` is a streaming call, that is very relevant. Unary and streaming calls have different APIs.\r\n\r\nIf it expects a stream of request messages, you should omit the argument, and the function returns a Writable stream, on which you can call `write` to send messages and `finish` to stop sending.\r\n\r\nIf you expect a stream of response messages, you should omit the callback, and the function returns a Readable stream, on which you should listen for the `data` event to get responses. Note that response streams will stall until you read the response messages."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282158653",
    "html_url": "https://github.com/grpc/grpc/issues/6557#issuecomment-282158653",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6557",
    "id": 282158653,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE1ODY1Mw==",
    "user": {
      "login": "tbranyen",
      "id": 181635,
      "node_id": "MDQ6VXNlcjE4MTYzNQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/181635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbranyen",
      "html_url": "https://github.com/tbranyen",
      "followers_url": "https://api.github.com/users/tbranyen/followers",
      "following_url": "https://api.github.com/users/tbranyen/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbranyen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbranyen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbranyen/subscriptions",
      "organizations_url": "https://api.github.com/users/tbranyen/orgs",
      "repos_url": "https://api.github.com/users/tbranyen/repos",
      "events_url": "https://api.github.com/users/tbranyen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbranyen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-23T23:44:44Z",
    "updated_at": "2017-02-23T23:44:44Z",
    "author_association": "NONE",
    "body": "@murgatroid99 perfect, thought so! This all makes sense, thank you for the help. Hopefully this conversation helps others stumbling on these errors in the future."
  }
]
