[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404055731",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404055731",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404055731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDA1NTczMQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T06:08:16Z",
    "updated_at": "2018-07-11T06:08:16Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                            FILE SIZE\n ++++++++++++++ GROWING                                                                              ++++++++++++++\n   +13%    +160 src/core/lib/channel/channelz.cc                                                        +160   +13%\n       +64%    +161 grpc_core::channelz::ChannelNode::ChannelNode                                           +161   +64%\n      [NEW]      +2 grpc_core::channelz::ChannelNode::PopulateConnectivityState(grpc_json*) [clone .loca      +2  [NEW]\n   +33%    +114 src/core/lib/channel/channelz_registry.cc                                               +114   +33%\n      +200%    +114 grpc_core::ChannelzRegistry::InternalUnregister                                         +114  +200%\n      +113%     +44 grpc_core::ChannelzRegistry::ChannelzRegistry                                            +44  +113%\n      +132%     +37 grpc_core::ChannelzRegistry::~ChannelzRegistry                                           +37  +132%\n       +14%      +5 grpc_core::ChannelzRegistry::Init                                                         +5   +14%\n\n -+-+-+-+-+-+-+ MIXED                                                                                +-+-+-+-+-+-+-\n  -0.0%    -218 [None]                                                                               +4.76Ki  +0.1%\n      [DEL]     -40 grpc_core::(anonymous namespace)::avl_vtable                                             -40  [DEL]\n\n  +0.0%     +56 TOTAL                                                                                +5.03Ki  +0.1%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404057233",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404057233",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404057233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDA1NzIzMw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T06:16:33Z",
    "updated_at": "2018-07-11T06:16:33Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404065801",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404065801",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404065801,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDA2NTgwMQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T06:59:54Z",
    "updated_at": "2018-07-11T06:59:54Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404197280",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404197280",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404197280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDE5NzI4MA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T14:48:56Z",
    "updated_at": "2018-07-11T14:48:56Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                            FILE SIZE\n ++++++++++++++ GROWING                                                                              ++++++++++++++\n   +13%    +160 src/core/lib/channel/channelz.cc                                                        +160   +13%\n       +64%    +161 grpc_core::channelz::ChannelNode::ChannelNode                                           +161   +64%\n      [NEW]      +2 grpc_core::channelz::ChannelNode::PopulateConnectivityState(grpc_json*) [clone .loca      +2  [NEW]\n   +33%    +114 src/core/lib/channel/channelz_registry.cc                                               +114   +33%\n      +200%    +114 grpc_core::ChannelzRegistry::InternalUnregister                                         +114  +200%\n      +113%     +44 grpc_core::ChannelzRegistry::ChannelzRegistry                                            +44  +113%\n      +132%     +37 grpc_core::ChannelzRegistry::~ChannelzRegistry                                           +37  +132%\n       +14%      +5 grpc_core::ChannelzRegistry::Init                                                         +5   +14%\n\n -+-+-+-+-+-+-+ MIXED                                                                                +-+-+-+-+-+-+-\n  -0.0%    -218 [None]                                                                               +4.76Ki  +0.1%\n      [DEL]     -40 grpc_core::(anonymous namespace)::avl_vtable                                             -40  [DEL]\n\n  +0.0%     +56 TOTAL                                                                                +5.03Ki  +0.1%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404200189",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404200189",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404200189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIwMDE4OQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T14:56:45Z",
    "updated_at": "2018-07-11T14:56:45Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404205274",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404205274",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404205274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIwNTI3NA==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:10:57Z",
    "updated_at": "2018-07-11T15:10:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "There are two concerns with the AVL. One is performance. The overhead of insertion into the AVL is log(n) with respect to the number of entities it contains. This was not a problem with channels, but the registry will be storing subchannels soon to implement subchannel uuids and lookup. That overhead seems too high to take for subchannel creation.\r\n\r\nThe second reason is for the implementation of GetTopChannels, which needs to iterated over the global list of entities, and return rendered JSON for all top level channels (with pagination, maybe). This is not possible with AVL, which is why I thought to switch to vector or dequeue.\r\n\r\nYour point about memory is true, but I think it is less of a concern than the above two points. Plus there are ways to be more clever here and get around it. For example we could store a growing InlinedVector of chunks. At some points we could GC and deallocate the memory for all chunks in which all entities contained have been nulled out."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404206976",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404206976",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404206976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIwNjk3Ng==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:15:41Z",
    "updated_at": "2018-07-11T15:15:41Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                            FILE SIZE\n ++++++++++++++ GROWING                                                                              ++++++++++++++\n   +13%    +160 src/core/lib/channel/channelz.cc                                                        +160   +13%\n       +64%    +161 grpc_core::channelz::ChannelNode::ChannelNode                                           +161   +64%\n      [NEW]      +2 grpc_core::channelz::ChannelNode::PopulateConnectivityState(grpc_json*) [clone .loca      +2  [NEW]\n  +5.2%     +18 src/core/lib/channel/channelz_registry.cc                                                +18  +5.2%\n      +200%    +114 grpc_core::ChannelzRegistry::InternalUnregister                                         +114  +200%\n       +14%      +5 grpc_core::ChannelzRegistry::Init                                                         +5   +14%\n\n -+-+-+-+-+-+-+ MIXED                                                                                +-+-+-+-+-+-+-\n  -0.0%    -226 [None]                                                                               +4.16Ki  +0.0%\n      [DEL]     -40 grpc_core::(anonymous namespace)::avl_vtable                                             -40  [DEL]\n\n  -0.0%     -48 TOTAL                                                                                +4.34Ki  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404209849",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404209849",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404209849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIwOTg0OQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:23:33Z",
    "updated_at": "2018-07-11T15:23:33Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404210091",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404210091",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404210091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIxMDA5MQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:24:15Z",
    "updated_at": "2018-07-11T15:24:15Z",
    "author_association": "MEMBER",
    "body": "Good point about not being able to iterate over an AVL.  I agree that we need to find another solution here.\r\n\r\nI'm not that concerned about insertion performance on subchannel creation; subchannel creation will involve network I/O anyway, and that will overshadow any overhead of the local data structure.  So I think this can be less of a consideration when deciding what to use here.\r\n\r\nHowever, I am really not comfortable with the memory usage growing without bound.  I am almost certain that will cause problems, so I would really prefer to find a solution that does not have that property.\r\n\r\nIf you want to go with this approach as a temporary thing to allow you to make progress on other parts of the implementation, I'm okay with that.  But in that case, please add a TODO [here](https://github.com/grpc/grpc/blob/master/src/core/lib/surface/channel.cc#L151) indicating that this needs to be fixed before we can enable channelz by default."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404215825",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404215825",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404215825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIxNTgyNQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:40:20Z",
    "updated_at": "2018-07-11T15:40:20Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] Performance differences noted:\nBenchmark                                                             cpu_time    real_time\n--------------------------------------------------------------------  ----------  -----------\nBM_HasClearGrpcStatus<ErrorWithGrpcStatus>                            -7%         -7%\nBM_StreamingPingPong<MinInProcess, NoOpMutator, NoOpMutator>/32768/2  +5%         +5%\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404217482",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404217482",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404217482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIxNzQ4Mg==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:44:59Z",
    "updated_at": "2018-07-11T15:44:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Added the note. I also started an issue to track these things, since we already some performance concerns blocking channels on-by-default.\r\n\r\nI will continue to think of the right data structure to globally track the channelz entities. Maybe it is time to do a generalization/c++-ization of the stream_map object..."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404217753",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404217753",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404217753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIxNzc1Mw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:45:45Z",
    "updated_at": "2018-07-11T15:45:45Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                            FILE SIZE\n ++++++++++++++ GROWING                                                                              ++++++++++++++\n   +13%    +160 src/core/lib/channel/channelz.cc                                                        +160   +13%\n       +64%    +161 grpc_core::channelz::ChannelNode::ChannelNode                                           +161   +64%\n      [NEW]      +2 grpc_core::channelz::ChannelNode::PopulateConnectivityState(grpc_json*) [clone .loca      +2  [NEW]\n  +5.2%     +18 src/core/lib/channel/channelz_registry.cc                                                +18  +5.2%\n      +200%    +114 grpc_core::ChannelzRegistry::InternalUnregister                                         +114  +200%\n       +14%      +5 grpc_core::ChannelzRegistry::Init                                                         +5   +14%\n\n -+-+-+-+-+-+-+ MIXED                                                                                +-+-+-+-+-+-+-\n  -0.0%    -226 [None]                                                                               +4.16Ki  +0.0%\n      [DEL]     -40 grpc_core::(anonymous namespace)::avl_vtable                                             -40  [DEL]\n\n  -0.0%     -48 TOTAL                                                                                +4.34Ki  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404220698",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404220698",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404220698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIyMDY5OA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T15:54:09Z",
    "updated_at": "2018-07-11T15:54:09Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404224090",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404224090",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404224090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIyNDA5MA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T16:03:57Z",
    "updated_at": "2018-07-11T16:03:57Z",
    "author_association": "NONE",
    "body": "```\n****************************************************************\n\nlibgrpc.so\n\n     VM SIZE                                                                                            FILE SIZE\n ++++++++++++++ GROWING                                                                              ++++++++++++++\n   +13%    +160 src/core/lib/channel/channelz.cc                                                        +160   +13%\n       +64%    +161 grpc_core::channelz::ChannelNode::ChannelNode                                           +161   +64%\n      [NEW]      +2 grpc_core::channelz::ChannelNode::PopulateConnectivityState(grpc_json*) [clone .loca      +2  [NEW]\n  +5.2%     +18 src/core/lib/channel/channelz_registry.cc                                                +18  +5.2%\n      +200%    +114 grpc_core::ChannelzRegistry::InternalUnregister                                         +114  +200%\n       +14%      +5 grpc_core::ChannelzRegistry::Init                                                         +5   +14%\n\n -+-+-+-+-+-+-+ MIXED                                                                                +-+-+-+-+-+-+-\n  -0.0%    -226 [None]                                                                               +4.16Ki  +0.0%\n      [DEL]     -40 grpc_core::(anonymous namespace)::avl_vtable                                             -40  [DEL]\n\n  -0.0%     -48 TOTAL                                                                                +4.34Ki  +0.0%\n\n\n****************************************************************\n\nlibgrpc++.so\n\n     VM SIZE        FILE SIZE\n ++++++++++++++  ++++++++++++++\n\n  [ = ]       0        0  [ = ]\n\n\n\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404224931",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404224931",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404224931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIyNDkzMQ==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T16:06:45Z",
    "updated_at": "2018-07-11T16:06:45Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] Performance differences noted:\nBenchmark                                                                                cpu_time    real_time\n---------------------------------------------------------------------------------------  ----------  -----------\nBM_ErrorGetMissingInt                                                                    -16%        -16%\nBM_HasClearGrpcStatus<ErrorWithGrpcStatus>                                               -22%        -22%\nBM_MetadataRefUnrefExternal                                                              -10%        -10%\nBM_StreamingPingPong<InProcess, NoOpMutator, NoOpMutator>/262144/2                       +5%         +5%\nBM_StreamingPingPongMsgs<MinInProcessCHTTP2, NoOpMutator, NoOpMutator>/32768             +6%         +6%\nBM_StreamingPingPongWithCoalescingApi<MinInProcess, NoOpMutator, NoOpMutator>/32768/1/1  +4%         +4%\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404226724",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404226724",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404226724,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIyNjcyNA==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T16:12:45Z",
    "updated_at": "2018-07-11T16:12:45Z",
    "author_association": "NONE",
    "body": "```\n[trickle] No significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404234083",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404234083",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404234083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIzNDA4Mw==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T16:37:01Z",
    "updated_at": "2018-07-11T16:37:01Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] Performance differences noted:\nBenchmark                                                                              cpu_time    real_time\n-------------------------------------------------------------------------------------  ----------  -----------\nBM_ErrorGetMissingInt                                                                  -4%         -4%\nBM_StreamingPingPongMsgs<MinInProcessCHTTP2, NoOpMutator, NoOpMutator>/32768           +7%         +7%\nBM_StreamingPingPongWithCoalescingApi<InProcess, NoOpMutator, NoOpMutator>/262144/2/0  +5%         +5%\nBM_StreamingPingPongWithCoalescingApi<InProcess, NoOpMutator, NoOpMutator>/262144/2/1  +4%         +4%\nBM_UnaryPingPong<InProcess, NoOpMutator, NoOpMutator>/0/2097152                        +5%         +5%\nBM_UnaryPingPong<InProcess, NoOpMutator, NoOpMutator>/0/262144                         +4%         +4%\nBM_UnaryPingPong<InProcess, NoOpMutator, NoOpMutator>/262144/262144                    +4%         +4%\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404239456",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404239456",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404239456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIzOTQ1Ng==",
    "user": {
      "login": "grpc-testing",
      "id": 28024233,
      "node_id": "MDQ6VXNlcjI4MDI0MjMz",
      "avatar_url": "https://avatars1.githubusercontent.com/u/28024233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-testing",
      "html_url": "https://github.com/grpc-testing",
      "followers_url": "https://api.github.com/users/grpc-testing/followers",
      "following_url": "https://api.github.com/users/grpc-testing/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-testing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-testing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-testing/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-testing/orgs",
      "repos_url": "https://api.github.com/users/grpc-testing/repos",
      "events_url": "https://api.github.com/users/grpc-testing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-testing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T16:55:10Z",
    "updated_at": "2018-07-11T16:55:10Z",
    "author_association": "NONE",
    "body": "```\n[microbenchmarks] Performance differences noted:\nBenchmark                                                                                 cpu_time    real_time\n----------------------------------------------------------------------------------------  ----------  -----------\nBM_ErrorGetMissingInt                                                                     -4%         -4%\nBM_HasClearGrpcStatus<ErrorWithGrpcStatus>                                                -22%        -22%\nBM_HasClearGrpcStatus<ErrorWithHttpError>                                                 -4%         -4%\nBM_StreamingPingPongMsgs<MinInProcess, NoOpMutator, NoOpMutator>/32768                    +6%         +6%\nBM_StreamingPingPongWithCoalescingApi<InProcess, NoOpMutator, NoOpMutator>/32768/1/0      +5%         +5%\nBM_StreamingPingPongWithCoalescingApi<MinInProcess, NoOpMutator, NoOpMutator>/262144/1/0  +7%         +7%\nBM_UnaryPingPong<MinInProcess, NoOpMutator, NoOpMutator>/0/262144                         +10%        +10%\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/404267618",
    "html_url": "https://github.com/grpc/grpc/pull/15982#issuecomment-404267618",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15982",
    "id": 404267618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDI2NzYxOA==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-11T18:31:14Z",
    "updated_at": "2018-07-11T18:31:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "#14673 \r\n#14724 "
  }
]
