[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/276730701",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-276730701",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 276730701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjczMDcwMQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T17:56:50Z",
    "updated_at": "2017-02-01T17:56:50Z",
    "author_association": "MEMBER",
    "body": "FYI, these tests on Windows have been useful in the past for detecting real bugs, even despite their flakiness.  Disabling them would take away that signal.  It might be better to live with the flakiness until someone has time to fix them."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/276731141",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-276731141",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 276731141,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjczMTE0MQ==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T17:58:30Z",
    "updated_at": "2017-02-01T17:58:30Z",
    "author_association": "NONE",
    "body": "Fair enough. @nicolasnoble would you be able to give a timeline for a fix?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/288543128",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-288543128",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 288543128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODU0MzEyOA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-22T21:19:25Z",
    "updated_at": "2017-03-22T21:19:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "seen again in pr: #9986 against v1.2.x\r\n\r\nlog in https://grpc-testing.appspot.com/job/gRPC_pr_win/3733/testReport/junit/(root)/c_windows_opt_native/vsprojects_Release_h2_http_proxy_nosec_test_exe_keepalive_timeout/"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/299239029",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-299239029",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 299239029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTIzOTAyOQ==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T16:31:16Z",
    "updated_at": "2017-05-04T16:31:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Seen Again:\r\nhttps://grpc-testing.appspot.com/job/gRPC_portability_master_windows/2405/#showFailuresLink"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/299398213",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-299398213",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 299398213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTM5ODIxMw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T07:15:12Z",
    "updated_at": "2017-05-05T07:15:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nicolasnoble   we can't have an issue marked as P0  stay around for a month. I've made this a P1. If you don't have cycles, please reassign."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/300905476",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-300905476",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 300905476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDkwNTQ3Ng==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-11T20:18:57Z",
    "updated_at": "2017-05-11T20:18:57Z",
    "author_association": "MEMBER",
    "body": "Seen yet again:\r\n\r\nhttps://grpc-testing.appspot.com/job/gRPC_master_windows/2500/testReport/junit/(root)/c_windows_dbg_native/vsprojects_Debug_h2_http_proxy_test_exe_connectivity/\r\n\r\nhttps://grpc-testing.appspot.com/job/gRPC_master_windows/2500/testReport/junit/(root)/c_windows_opt_native/vsprojects_Release_h2_http_proxy_test_exe_connectivity/\r\n\r\nhttps://grpc-testing.appspot.com/job/gRPC_master_windows/2500/testReport/junit/(root)/c_windows_opt_native/vsprojects_Release_h2_http_proxy_nosec_test_exe_connectivity/\r\n\r\nhttps://grpc-testing.appspot.com/job/gRPC_master_windows/2500/testReport/junit/(root)/c_windows_dbg_native/vsprojects_Debug_h2_http_proxy_nosec_test_exe_connectivity/\r\n\r\nCraig's #10802 was supposed to have fixed this.  Anecdotally, I've noticed that since that PR was merged, the \"connectivity\" test has been failing fairly reliably, but the other tests seem much less flaky now."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/300907206",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-300907206",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 300907206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDkwNzIwNg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-11T20:26:04Z",
    "updated_at": "2017-05-11T20:26:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am looking into this currently, it's a bit tricky because it's hard to reproduce locally. It seems timing sensitive (adding more GRPC_TRACE logs prevents this from happening). Ideas are welcome."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302236722",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-302236722",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 302236722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjIzNjcyMg==",
    "user": {
      "login": "makdharma",
      "id": 17325098,
      "node_id": "MDQ6VXNlcjE3MzI1MDk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17325098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makdharma",
      "html_url": "https://github.com/makdharma",
      "followers_url": "https://api.github.com/users/makdharma/followers",
      "following_url": "https://api.github.com/users/makdharma/following{/other_user}",
      "gists_url": "https://api.github.com/users/makdharma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makdharma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makdharma/subscriptions",
      "organizations_url": "https://api.github.com/users/makdharma/orgs",
      "repos_url": "https://api.github.com/users/makdharma/repos",
      "events_url": "https://api.github.com/users/makdharma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makdharma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-17T21:27:43Z",
    "updated_at": "2017-05-17T21:27:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've been debugging this also. I had to modify the windows logging code to collect logs in RAM so it does not affect the timing. The bug is between the proxy and server connection (I think). So far I've seen following steps -\r\n1. Client connects to proxy\r\n2. proxy connects to server - The async ConnectEx from Proxy call succeeds, but the server has not called AcceptEx on its listening socket yet.\r\n3. Client sends data to proxy. Proxy receives successfully.\r\n4. proxy sends this data to server. The synchronous WSASend call succeeds\r\n5. grpc_server_shutdown_and_notify is called on main thread\r\n5. Server AcceptEx the connection from proxy.\r\n7. all server sockets are DisconnectEx and closed.\r\n8. Proxy has no indication of server sockets closed and times out waiting for response..\r\n\r\nIn the passing case (with a 10 ms sleep after step 2 in proxy), the server sends a GOAWAY that eventually reaches the proxy. The shutdown happens after AcceptEx.\r\n\r\nStill debugging.."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302250572",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-302250572",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 302250572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjI1MDU3Mg==",
    "user": {
      "login": "makdharma",
      "id": 17325098,
      "node_id": "MDQ6VXNlcjE3MzI1MDk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17325098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makdharma",
      "html_url": "https://github.com/makdharma",
      "followers_url": "https://api.github.com/users/makdharma/followers",
      "following_url": "https://api.github.com/users/makdharma/following{/other_user}",
      "gists_url": "https://api.github.com/users/makdharma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makdharma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makdharma/subscriptions",
      "organizations_url": "https://api.github.com/users/makdharma/orgs",
      "repos_url": "https://api.github.com/users/makdharma/repos",
      "events_url": "https://api.github.com/users/makdharma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makdharma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-17T22:35:49Z",
    "updated_at": "2017-05-17T22:35:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Slight correction -  in step 7 above, all sockets are not closed. Only the listening sockets are closed as part of tpc_server_destroy. The socket that Accepted the call stayed open, hence the proxy had no knowledge of server shutdown."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302482956",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-302482956",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 302482956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjQ4Mjk1Ng==",
    "user": {
      "login": "makdharma",
      "id": 17325098,
      "node_id": "MDQ6VXNlcjE3MzI1MDk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17325098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makdharma",
      "html_url": "https://github.com/makdharma",
      "followers_url": "https://api.github.com/users/makdharma/followers",
      "following_url": "https://api.github.com/users/makdharma/following{/other_user}",
      "gists_url": "https://api.github.com/users/makdharma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makdharma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makdharma/subscriptions",
      "organizations_url": "https://api.github.com/users/makdharma/orgs",
      "repos_url": "https://api.github.com/users/makdharma/repos",
      "events_url": "https://api.github.com/users/makdharma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makdharma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-18T17:25:53Z",
    "updated_at": "2017-05-18T17:25:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here's the problem in chttp2_server.c. The on_accept function, when in shutdown state, destroys the endpoint. The grpc_endpoint_destroy code does not shut down the socket. Adding grpc_endpoint_shutdown just before grpc_endpoint_destroy in chttp2_server.c fixes this issue."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302482991",
    "html_url": "https://github.com/grpc/grpc/issues/9542#issuecomment-302482991",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9542",
    "id": 302482991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjQ4Mjk5MQ==",
    "user": {
      "login": "makdharma",
      "id": 17325098,
      "node_id": "MDQ6VXNlcjE3MzI1MDk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17325098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makdharma",
      "html_url": "https://github.com/makdharma",
      "followers_url": "https://api.github.com/users/makdharma/followers",
      "following_url": "https://api.github.com/users/makdharma/following{/other_user}",
      "gists_url": "https://api.github.com/users/makdharma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makdharma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makdharma/subscriptions",
      "organizations_url": "https://api.github.com/users/makdharma/orgs",
      "repos_url": "https://api.github.com/users/makdharma/repos",
      "events_url": "https://api.github.com/users/makdharma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makdharma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-18T17:26:02Z",
    "updated_at": "2017-05-18T17:26:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "PR in the works."
  }
]
