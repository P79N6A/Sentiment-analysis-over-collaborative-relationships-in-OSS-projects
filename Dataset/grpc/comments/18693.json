[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/481040526",
    "html_url": "https://github.com/grpc/grpc/issues/18693#issuecomment-481040526",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18693",
    "id": 481040526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTA0MDUyNg==",
    "user": {
      "login": "JunTaoLuo",
      "id": 2030323,
      "node_id": "MDQ6VXNlcjIwMzAzMjM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2030323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JunTaoLuo",
      "html_url": "https://github.com/JunTaoLuo",
      "followers_url": "https://api.github.com/users/JunTaoLuo/followers",
      "following_url": "https://api.github.com/users/JunTaoLuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/JunTaoLuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JunTaoLuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JunTaoLuo/subscriptions",
      "organizations_url": "https://api.github.com/users/JunTaoLuo/orgs",
      "repos_url": "https://api.github.com/users/JunTaoLuo/repos",
      "events_url": "https://api.github.com/users/JunTaoLuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JunTaoLuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-08T23:10:39Z",
    "updated_at": "2019-04-08T23:10:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@antonioortizpola can you clarify what you mean by new nugets? Also, the proto files should be compiled by default when you build your project now so you shouldn't need to write your own script for invoking protoc: see https://grpc.io/blog/grpc-dotnet-build"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/481052357",
    "html_url": "https://github.com/grpc/grpc/issues/18693#issuecomment-481052357",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18693",
    "id": 481052357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTA1MjM1Nw==",
    "user": {
      "login": "antonioortizpola",
      "id": 11655127,
      "node_id": "MDQ6VXNlcjExNjU1MTI3",
      "avatar_url": "https://avatars0.githubusercontent.com/u/11655127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/antonioortizpola",
      "html_url": "https://github.com/antonioortizpola",
      "followers_url": "https://api.github.com/users/antonioortizpola/followers",
      "following_url": "https://api.github.com/users/antonioortizpola/following{/other_user}",
      "gists_url": "https://api.github.com/users/antonioortizpola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/antonioortizpola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/antonioortizpola/subscriptions",
      "organizations_url": "https://api.github.com/users/antonioortizpola/orgs",
      "repos_url": "https://api.github.com/users/antonioortizpola/repos",
      "events_url": "https://api.github.com/users/antonioortizpola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/antonioortizpola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-09T00:09:23Z",
    "updated_at": "2019-04-09T00:09:23Z",
    "author_association": "NONE",
    "body": "@JunTaoLuo sorry, I will try to explain myself.\r\n\r\nOur project has Grpc and NetCore 2.2, we were using the script to generate our classes from the protos and they were working fine, the dependencies that we are using are\r\n```\r\n        <PackageReference Include=\"Google.Protobuf\" Version=\"3.7.0\" />\r\n        <PackageReference Include=\"Google.Protobuf.Tools\" Version=\"3.7.0\" />\r\n        <PackageReference Include=\"Grpc\" Version=\"1.19.0\" />\r\n        <PackageReference Include=\"Grpc.Tools\" Version=\"1.19.0\" />\r\n```\r\n\r\nBut we need to update to Core 3 to test a [bug in core 2,2](https://github.com/dotnet/core/issues/2253), while migrating and checking the new stuff in Core 3, we noted the new Grpc Template (sorry if it is not that new, we simply did not know about it) so we decide to try it.\r\n\r\nBut sadly all the docs and examples has the proto files in the same root folder, so when I add my protos, they are not picked up with this rule in the csproj:\r\n\r\n```\r\n    <ItemGroup>\r\n        <Protobuf Include=\"..\\Protos\\*.proto\" GrpcServices=\"Client\"/>\r\n        <Content Include=\"@(Protobuf)\" LinkBase=\"\"/>\r\n    </ItemGroup>\r\n```\r\n\r\nSo I tried changing the rule for this one\r\n\r\n```\r\n    <ItemGroup>\r\n        <Protobuf Include=\"..\\Protos\\**\\*.proto\" GrpcServices=\"Client\"/>\r\n        <Content Include=\"@(Protobuf)\" LinkBase=\"\"/>\r\n    </ItemGroup>\r\n```\r\n\r\nNow the files shows up in the project, but when I try to compile it, I can see the plugin tries to compile the files:\r\n\r\n```\r\n>  Skipping target \"GenerateTargetFrameworkMonikerAttribute\" because all output files are up-to-date with respect to the input files.\r\n>        _Protobuf_CoreCompile:\r\n>          \"C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\tools\\windows_x64\\protoc.exe\" --csharp_out=obj\\Debug\\netcoreapp3.0 --plugin=\"protoc-gen-grpc=C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\tools\\windows_x64\\grpc_csharp_plugin.exe\" --grpc_out=obj\\Debug\\netcoreapp3.0 --grpc_opt=no_client --proto_path=\"C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\build\\native\\include\" --proto_path=..\\Protos\\Common --dependency_out=obj\\Debug\\netcoreapp3.0\\caeace40305a407b_common.protodep ..\\Protos\\Common\\common.proto\r\n>          \"C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\tools\\windows_x64\\protoc.exe\" --csharp_out=obj\\Debug\\netcoreapp3.0 --plugin=\"protoc-gen-grpc=C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\tools\\windows_x64\\grpc_csharp_plugin.exe\" --grpc_out=obj\\Debug\\netcoreapp3.0 --grpc_opt=no_client --proto_path=\"C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\build\\native\\include\" --proto_path=..\\Protos --dependency_out=obj\\Debug\\netcoreapp3.0\\8da761a0032bfa46_greet.protodep ..\\Protos\\greet.proto\r\n>          \"C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\tools\\windows_x64\\protoc.exe\" --csharp_out=obj\\Debug\\netcoreapp3.0 --plugin=\"protoc-gen-grpc=C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\tools\\windows_x64\\grpc_csharp_plugin.exe\" --grpc_out=obj\\Debug\\netcoreapp3.0 --grpc_opt=no_client --proto_path=\"C:\\Users\\Antonio Ortiz\\.nuget\\packages\\grpc.tools\\1.19.0-pre1\\build\\native\\include\" --proto_path=..\\Protos\\Spr\\GetProfile --dependency_out=obj\\Debug\\netcoreapp3.0\\c69d32040c1c6cb2_getProfile.protodep ..\\Protos\\Spr\\GetProfile\\getProfile.proto\r\n```\r\n\r\nBut when a file has dependencies on other files, this error shows up\r\n\r\n>          Common/common.proto: File not found.\r\n>          getProfile.proto: Import \"Common/common.proto\" was not found or had errors.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/481067671",
    "html_url": "https://github.com/grpc/grpc/issues/18693#issuecomment-481067671",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18693",
    "id": 481067671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTA2NzY3MQ==",
    "user": {
      "login": "JunTaoLuo",
      "id": 2030323,
      "node_id": "MDQ6VXNlcjIwMzAzMjM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2030323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JunTaoLuo",
      "html_url": "https://github.com/JunTaoLuo",
      "followers_url": "https://api.github.com/users/JunTaoLuo/followers",
      "following_url": "https://api.github.com/users/JunTaoLuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/JunTaoLuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JunTaoLuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JunTaoLuo/subscriptions",
      "organizations_url": "https://api.github.com/users/JunTaoLuo/orgs",
      "repos_url": "https://api.github.com/users/JunTaoLuo/repos",
      "events_url": "https://api.github.com/users/JunTaoLuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JunTaoLuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-09T01:36:01Z",
    "updated_at": "2019-04-09T01:36:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "We are still iterating on the templates for the preview releases and they'll change significantly. In fact, we are moving away from the glob pattern that was used in the Preview 3 templates and moving to including each protofile individually. In terms of import files not being found, you might want to try to add the `AdditionalImportDirs` attribute:\r\n```XML\r\n        <Protobuf Include=\"..\\Protos\\Spr\\GetProfile\\getProfile.proto\" AdditionalImportDirs=\"..\\Protos\\\"/>\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/481103256",
    "html_url": "https://github.com/grpc/grpc/issues/18693#issuecomment-481103256",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18693",
    "id": 481103256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTEwMzI1Ng==",
    "user": {
      "login": "antonioortizpola",
      "id": 11655127,
      "node_id": "MDQ6VXNlcjExNjU1MTI3",
      "avatar_url": "https://avatars0.githubusercontent.com/u/11655127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/antonioortizpola",
      "html_url": "https://github.com/antonioortizpola",
      "followers_url": "https://api.github.com/users/antonioortizpola/followers",
      "following_url": "https://api.github.com/users/antonioortizpola/following{/other_user}",
      "gists_url": "https://api.github.com/users/antonioortizpola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/antonioortizpola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/antonioortizpola/subscriptions",
      "organizations_url": "https://api.github.com/users/antonioortizpola/orgs",
      "repos_url": "https://api.github.com/users/antonioortizpola/repos",
      "events_url": "https://api.github.com/users/antonioortizpola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/antonioortizpola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-09T05:04:22Z",
    "updated_at": "2019-04-09T05:04:22Z",
    "author_association": "NONE",
    "body": "@JunTaoLuo thank you so much,  it is compiling now, I just added `AdditionalImportDirs`\r\n\r\n`<Protobuf Include=\"..\\Protos\\**\\*.proto\" GrpcServices=\"Server\" AdditionalImportDirs=\"..\\Protos\\\"/>`\r\n\r\n> We are still iterating on the templates for the preview releases and they'll change significantly\r\n\r\nIs there any place where I can check for updates for this matter?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/481465317",
    "html_url": "https://github.com/grpc/grpc/issues/18693#issuecomment-481465317",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18693",
    "id": 481465317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTQ2NTMxNw==",
    "user": {
      "login": "JunTaoLuo",
      "id": 2030323,
      "node_id": "MDQ6VXNlcjIwMzAzMjM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2030323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JunTaoLuo",
      "html_url": "https://github.com/JunTaoLuo",
      "followers_url": "https://api.github.com/users/JunTaoLuo/followers",
      "following_url": "https://api.github.com/users/JunTaoLuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/JunTaoLuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JunTaoLuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JunTaoLuo/subscriptions",
      "organizations_url": "https://api.github.com/users/JunTaoLuo/orgs",
      "repos_url": "https://api.github.com/users/JunTaoLuo/repos",
      "events_url": "https://api.github.com/users/JunTaoLuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JunTaoLuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-09T22:34:45Z",
    "updated_at": "2019-04-09T22:34:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "We file the issues and track them at https://github.com/grpc/grpc-dotnet/issues but the changes go to https://github.com/aspnet/AspNetCore since that's where the template code lives: https://github.com/aspnet/AspNetCore/tree/master/src/ProjectTemplates/Web.ProjectTemplates/content/GrpcService-CSharp.\r\n\r\nI'll close this issue now since it seems like the concern is addressed. Feel free to follow up if there are additional issues."
  }
]
