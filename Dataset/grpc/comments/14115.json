[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359448807",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359448807",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359448807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTQ0ODgwNw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T15:00:40Z",
    "updated_at": "2018-01-22T15:00:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "The root cause is likely in one of these candidates:\r\n#14070 (more likely)   @markdroth\r\n#14081  @yang-g \r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359450191",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359450191",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359450191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTQ1MDE5MQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T15:04:46Z",
    "updated_at": "2018-01-22T15:04:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mehrdada   FYI I think #14070  is also in v1.9.x branch so depending on how this turns out, we might need to fix this in v1.9.x too."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359485507",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359485507",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359485507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTQ4NTUwNw==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T16:40:04Z",
    "updated_at": "2018-01-22T16:40:04Z",
    "author_association": "MEMBER",
    "body": "Jan, what evidence do you have that #14070 is the culprit?  Is it just that it was merged around the time this test started failing, or is there something else?  For example, did you actually run with and without that PR and see if it makes a difference?\r\n\r\nI'd prefer not to revert #14070 if possible.  Note that that PR changed the DNS code to use the right back-off intervals, which it was not doing before.  So if we actually have evidence that that PR was the trigger of this problem, then I suspect that the right fix will be to change the test to accommodate the correct back-off delays."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359490586",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359490586",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359490586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTQ5MDU4Ng==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T16:55:17Z",
    "updated_at": "2018-01-22T16:55:17Z",
    "author_association": "MEMBER",
    "body": "Can someone with a MacOS laptop show me the log for a failure of this test with `GRPC_TRACE=client_channel,pick_first`?  Thanks."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359491454",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359491454",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359491454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTQ5MTQ1NA==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T16:57:54Z",
    "updated_at": "2018-01-22T16:57:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nLAPTOP ~/Desktop/grpc [master] (0) $ bins/opt/goaway_server_test\r\nD0122 08:56:10.956325000 140736994190272 test_config.cc:388]           test slowdown factor: sanitizer=1, fixture=1, poller=1, total=1\r\nD0122 08:56:10.957205000 140736994190272 ev_posix.cc:128]              Using polling engine: poll\r\nD0122 08:56:10.957250000 140736994190272 dns_resolver.cc:294]          Using native dns resolver\r\nD0122 08:56:10.962223000 140736994190272 client_channel.cc:1403]       chand=0x7fe5427006d0 calld=0x7fe5440036f8: entering client_channel combiner\r\nD0122 08:56:10.962244000 140736994190272 client_channel.cc:298]        chand=0x7fe5427006d0: starting name resolution\r\nD0122 08:56:10.962251000 140736994190272 client_channel.cc:1264]       chand=0x7fe5427006d0 calld=0x7fe5440036f8: deferring pick pending resolver result\r\nI0122 08:56:10.962264000 140736994190272 dns_resolver.cc:166]          dns resolution failed (will retry): {\"created\":\"@1516640170.962250000\",\"description\":\"Forced Failure\",\"file\":\"test/core/end2end/goaway_server_test.cc\",\"file_line\":73,\"target_address\":\"test\"}\r\nD0122 08:56:10.962269000 140736994190272 dns_resolver.cc:172]          retrying in 1000 milliseconds\r\nD0122 08:56:10.962273000 140736994190272 client_channel.cc:389]        chand=0x7fe5427006d0: got resolver result: error=\"No Error\"\r\nD0122 08:56:10.962278000 140736994190272 client_channel.cc:510]        chand=0x7fe5427006d0: resolver result: lb_policy_name=\"(null)\", service_config=\"(null)\"\r\nD0122 08:56:10.962292000 140736994190272 client_channel.cc:257]        chand=0x7fe5427006d0: setting connectivity state to TRANSIENT_FAILURE\r\nD0122 08:56:11.962776000 123145338990592 client_channel.cc:389]        chand=0x7fe5427006d0: got resolver result: error=\"No Error\"\r\nD0122 08:56:11.962814000 123145338990592 pick_first.cc:552]            Pick First 0x7fe542403430 created.\r\nI0122 08:56:11.962830000 123145338990592 pick_first.cc:254]            Pick First 0x7fe542403430 received update with 1 addresses\r\nD0122 08:56:11.962835000 123145338990592 subchannel_list.cc:94]        [pick_first 0x7fe542403430] Creating subchannel list 0x7fe5424036e0 for 1 subchannels\r\nD0122 08:56:11.962883000 123145338990592 subchannel_list.cc:140]       [pick_first 0x7fe542403430] subchannel list 0x7fe5424036e0 index 0: Created subchannel 0x7fe542403c50 for address uri ipv4:127.0.0.1:6278\r\nD0122 08:56:11.962893000 123145338990592 client_channel.cc:510]        chand=0x7fe5427006d0: resolver result: lb_policy_name=\"pick_first\" (changed), service_config=\"(null)\"\r\nD0122 08:56:11.962897000 123145338990592 client_channel.cc:591]        chand=0x7fe5427006d0: initializing new LB policy\r\nD0122 08:56:11.962902000 123145338990592 client_channel.cc:257]        chand=0x7fe5427006d0: setting connectivity state to IDLE\r\nD0122 08:56:11.962907000 123145338990592 client_channel.cc:1222]       chand=0x7fe5427006d0 calld=0x7fe5440036f8: resolver returned, doing pick\r\nD0122 08:56:11.962911000 123145338990592 client_channel.cc:1107]       chand=0x7fe5427006d0 calld=0x7fe5440036f8: starting pick on lb_policy=0x7fe542403430\r\nD0122 08:56:11.962916000 123145338990592 client_channel.cc:974]        chand=0x7fe5427006d0 calld=0x7fe5440036f8: applying service config to call\r\nD0122 08:56:11.962928000 123145338990592 subchannel_list.cc:189]       [pick_first 0x7fe542403430] subchannel_list 0x7fe5424036e0 REF 1->2 (connectivity_watch+start_picking)\r\nD0122 08:56:11.962933000 123145338990592 subchannel_list.cc:57]        [pick_first 0x7fe542403430] subchannel list 0x7fe5424036e0 index 0 of 1 (subchannel 0x7fe542403c50): requesting connectivity change notification\r\nD0122 08:56:11.963078000 123145338990592 pick_first.cc:353]            Pick First 0x7fe542403430 connectivity changed for subchannel 0x7fe542403c50 (0 of 1), subchannel_list 0x7fe5424036e0: state=CONNECTING p->shutdown=0 sd->subchannel_list->shutting_down=0 error=\"No Error\"\r\nD0122 08:56:11.963087000 123145338990592 subchannel_list.cc:57]        [pick_first 0x7fe542403430] subchannel list 0x7fe5424036e0 index 0 of 1 (subchannel 0x7fe542403c50): requesting connectivity change notification\r\nD0122 08:56:11.963092000 123145338990592 client_channel.cc:268]        chand=0x7fe5427006d0: lb_policy=0x7fe542403430 state changed to CONNECTING\r\nD0122 08:56:11.963096000 123145338990592 client_channel.cc:257]        chand=0x7fe5427006d0: setting connectivity state to CONNECTING\r\nI0122 08:56:11.963339000 140736994190272 subchannel.cc:603]            New connected subchannel at 0x7fe542600ec0 for subchannel 0x7fe542403c50\r\nD0122 08:56:11.963396000 140736994190272 pick_first.cc:353]            Pick First 0x7fe542403430 connectivity changed for subchannel 0x7fe542403c50 (0 of 1), subchannel_list 0x7fe5424036e0: state=READY p->shutdown=0 sd->subchannel_list->shutting_down=0 error=\"No Error\"\r\nI0122 08:56:11.963406000 140736994190272 pick_first.cc:463]            Pick First 0x7fe542403430 selected subchannel 0x7fe542403c50\r\nI0122 08:56:11.963413000 140736994190272 pick_first.cc:474]            Servicing pending pick with selected subchannel 0x7fe5424038f0\r\nD0122 08:56:11.963421000 140736994190272 subchannel_list.cc:57]        [pick_first 0x7fe542403430] subchannel list 0x7fe5424036e0 index 0 of 1 (subchannel 0x7fe542403c50): requesting connectivity change notification\r\nD0122 08:56:11.963430000 140736994190272 client_channel.cc:268]        chand=0x7fe5427006d0: lb_policy=0x7fe542403430 state changed to READY\r\nD0122 08:56:11.963435000 140736994190272 client_channel.cc:257]        chand=0x7fe5427006d0: setting connectivity state to READY\r\nD0122 08:56:11.963439000 140736994190272 client_channel.cc:1094]       chand=0x7fe5427006d0 calld=0x7fe5440036f8: pick completed asynchronously\r\nD0122 08:56:11.963456000 140736994190272 client_channel.cc:1018]       chand=0x7fe5427006d0 calld=0x7fe5440036f8: create subchannel_call=0x7fe543809228: error=\"No Error\"\r\nD0122 08:56:11.963461000 140736994190272 client_channel.cc:949]        chand=0x7fe5427006d0 calld=0x7fe5440036f8: sending 0 pending batches to subchannel_call=0x7fe543809228\r\nD0122 08:56:11.963469000 140736994190272 client_channel.cc:1389]       chand=0x7fe5427006d0 calld=0x7fe5440036f8: sending batch to subchannel_call=0x7fe543809228\r\nD0122 08:56:11.963800000 140736994190272 pick_first.cc:353]            Pick First 0x7fe542403430 connectivity changed for subchannel 0x7fe542403c50 (0 of 1), subchannel_list 0x7fe5424036e0: state=TRANSIENT_FAILURE p->shutdown=0 sd->subchannel_list->shutting_down=0 error={\"created\":\"@1516640171.963785000\",\"description\":\"GOAWAY received\",\"file\":\"src/core/ext/transport/chttp2/transport/chttp2_transport.cc\",\"file_line\":1095,\"http2_error\":0,\"raw_bytes\":\"Server shutdown\"}\r\nD0122 08:56:11.963812000 140736994190272 lb_policy.cc:131]             pick_first 0x7fe542403430: scheduling re-resolution closure with error=\"No Error\".\r\nD0122 08:56:11.963817000 140736994190272 subchannel_list.cc:75]        [pick_first 0x7fe542403430] subchannel list 0x7fe5424036e0 index 0 of 1 (subchannel 0x7fe542403c50): stopping connectivity watch\r\nD0122 08:56:11.963822000 140736994190272 subchannel_list.cc:201]       [pick_first 0x7fe542403430] subchannel_list 0x7fe5424036e0 UNREF 2->1 (pf_selected_shutdown)\r\nD0122 08:56:11.963827000 140736994190272 subchannel_list.cc:35]        [pick_first 0x7fe542403430] subchannel list 0x7fe5424036e0 index 0 of 1 (subchannel 0x7fe542403c50): unreffing subchannel\r\nD0122 08:56:11.963838000 140736994190272 client_channel.cc:268]        chand=0x7fe5427006d0: lb_policy=0x7fe542403430 state changed to IDLE\r\nD0122 08:56:11.963842000 140736994190272 client_channel.cc:257]        chand=0x7fe5427006d0: setting connectivity state to IDLE\r\nD0122 08:56:11.963846000 140736994190272 client_channel.cc:379]        chand=0x7fe5427006d0: started name re-resolving\r\nI0122 08:56:11.963859000 140736994190272 dns_resolver.cc:166]          dns resolution failed (will retry): {\"created\":\"@1516640171.963849000\",\"description\":\"Forced Failure\",\"file\":\"test/core/end2end/goaway_server_test.cc\",\"file_line\":73,\"target_address\":\"test\"}\r\nD0122 08:56:11.963864000 140736994190272 dns_resolver.cc:172]          retrying in 1000 milliseconds\r\nD0122 08:56:11.963871000 140736994190272 client_channel.cc:389]        chand=0x7fe5427006d0: got resolver result: error=\"No Error\"\r\nD0122 08:56:11.963875000 140736994190272 client_channel.cc:510]        chand=0x7fe5427006d0: resolver result: lb_policy_name=\"(null)\", service_config=\"(null)\"\r\nD0122 08:56:11.963880000 140736994190272 client_channel.cc:257]        chand=0x7fe5427006d0: setting connectivity state to TRANSIENT_FAILURE\r\nI0122 08:56:12.965759000 123145339527168 dns_resolver.cc:166]          dns resolution failed (will retry): {\"created\":\"@1516640172.965736000\",\"description\":\"Forced Failure\",\"file\":\"test/core/end2end/goaway_server_test.cc\",\"file_line\":73,\"target_address\":\"test\"}\r\nD0122 08:56:12.965780000 140736994190272 client_channel.cc:1403]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: entering client_channel combiner\r\nD0122 08:56:12.965804000 123145339527168 dns_resolver.cc:172]          retrying in 1906 milliseconds\r\nD0122 08:56:12.965842000 123145339527168 client_channel.cc:1107]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: starting pick on lb_policy=0x7fe542403430\r\nD0122 08:56:12.965850000 123145339527168 client_channel.cc:974]        chand=0x7fe5427006d0 calld=0x7fe5440058f8: applying service config to call\r\nD0122 08:56:12.965857000 123145339527168 client_channel.cc:389]        chand=0x7fe5427006d0: got resolver result: error=\"No Error\"\r\nD0122 08:56:12.965864000 123145339527168 client_channel.cc:510]        chand=0x7fe5427006d0: resolver result: lb_policy_name=\"(null)\", service_config=\"(null)\"\r\nD0122 08:56:12.965875000 123145339527168 client_channel.cc:257]        chand=0x7fe5427006d0: setting connectivity state to TRANSIENT_FAILURE\r\nD0122 08:56:12.965885000 123145339527168 client_channel.cc:1094]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: pick completed asynchronously\r\nD0122 08:56:12.965951000 123145339527168 client_channel.cc:1043]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: failed to create subchannel: error={\"created\":\"@1516640172.965894000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1041,\"referenced_errors\":[{\"created\":\"@1516640172.965873000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":140,\"referenced_errors\":[{\"created\":\"@1516640172.965872000\",\"description\":\"No load balancing policy\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":588}]}]}\r\nD0122 08:56:12.965966000 123145339527168 client_channel.cc:909]        chand=0x7fe5427006d0 calld=0x7fe5440058f8: failing 0 pending batches: {\"created\":\"@1516640172.965894000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1041,\"referenced_errors\":[{\"created\":\"@1516640172.965873000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":140,\"referenced_errors\":[{\"created\":\"@1516640172.965872000\",\"description\":\"No load balancing policy\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":588}]}]}\r\nD0122 08:56:12.966082000 123145339527168 client_channel.cc:1345]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: failing batch with error: {\"created\":\"@1516640172.965894000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1041,\"referenced_errors\":[{\"created\":\"@1516640172.965873000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":140,\"referenced_errors\":[{\"created\":\"@1516640172.965872000\",\"description\":\"No load balancing policy\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":588}]}]}\r\nD0122 08:56:12.966111000 123145339527168 client_channel.cc:1345]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: failing batch with error: {\"created\":\"@1516640172.965894000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1041,\"referenced_errors\":[{\"created\":\"@1516640172.965873000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":140,\"referenced_errors\":[{\"created\":\"@1516640172.965872000\",\"description\":\"No load balancing policy\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":588}]}]}\r\nD0122 08:56:12.966127000 123145339527168 client_channel.cc:1345]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: failing batch with error: {\"created\":\"@1516640172.965894000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":1041,\"referenced_errors\":[{\"created\":\"@1516640172.965873000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":140,\"referenced_errors\":[{\"created\":\"@1516640172.965872000\",\"description\":\"No load balancing policy\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":588}]}]}\r\nE0122 08:56:12.966134000 140736994190272 cq_verifier.cc:235]           actual success does not match expected: tag(513) GRPC_OP_COMPLETE success=1 test/core/end2end/goaway_server_test.cc:302\r\nD0122 08:56:12.966179000 123145339527168 client_channel.cc:1078]       chand=0x7fe5427006d0 calld=0x7fe5440058f8: cancelling pick from LB policy 0x7fe542403430\r\n\r\n\r\n\r\n*******************************\r\nCaught signal SIGABRT\r\n  no backtrace\r\nAbort trap: 6\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359498744",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359498744",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359498744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTQ5ODc0NA==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T17:21:33Z",
    "updated_at": "2018-01-22T17:21:33Z",
    "author_association": "NONE",
    "body": "@ncteisen could you perform a bisect? We can do it together if you prefer. It should be fairly quick given that this issue is recent. I'd do it myself, but no mac."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359506047",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359506047",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359506047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTUwNjA0Nw==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T17:45:57Z",
    "updated_at": "2018-01-22T17:45:57Z",
    "author_association": "MEMBER",
    "body": "Thanks, Noah, that's helpful.  Can you also provide the same log for a run in which the test succeeds?  I'd like to see the difference between the two.\r\n\r\nI suspect that this test is depending on resolver retry timing, in which case it should probably be fixed to not do that."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359506901",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359506901",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359506901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTUwNjkwMQ==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T17:48:39Z",
    "updated_at": "2018-01-22T17:48:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually I did not even need to do a bisect. \r\n\r\nI used the repro: `tools/run_tests/run_tests.py -l c -c opt -r goaway_server_test -n inf -S`\r\n\r\nAt commit 47fe8507a1905c20a86df09f97c3f972d643dda5, the tests pass for several minutes\r\nAt the next commit, 44fe6e282c848d876d516fe6cd79a008d8104604, the tests fail within 5 seconds\r\n\r\nThis confirms that #14070 is the culprit"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359508923",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359508923",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359508923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTUwODkyMw==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T17:55:10Z",
    "updated_at": "2018-01-22T17:55:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sure! Here is a successful log:\r\n\r\n```\r\nLAPTOP ~/Desktop/grpc [(HEAD detached at 47fe8507a1)] (0) $ bins/opt/goaway_server_test\r\nD0122 09:54:30.236235000 140736994190272 test_config.cc:388]           test slowdown factor: sanitizer=1, fixture=1, poller=1, total=1\r\nD0122 09:54:30.237025000 140736994190272 ev_posix.cc:128]              Using polling engine: poll\r\nD0122 09:54:30.237077000 140736994190272 dns_resolver.cc:294]          Using native dns resolver\r\nD0122 09:54:30.243385000 140736994190272 client_channel.cc:1403]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: entering client_channel combiner\r\nD0122 09:54:30.243404000 140736994190272 client_channel.cc:298]        chand=0x7ff49bf00790: starting name resolution\r\nD0122 09:54:30.243410000 140736994190272 client_channel.cc:1264]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: deferring pick pending resolver result\r\nI0122 09:54:30.243424000 140736994190272 dns_resolver.cc:166]          dns resolution failed (will retry): {\"created\":\"@1516643670.243410000\",\"description\":\"Forced Failure\",\"file\":\"test/core/end2end/goaway_server_test.cc\",\"file_line\":73,\"target_address\":\"test\"}\r\nD0122 09:54:30.243430000 140736994190272 dns_resolver.cc:172]          retrying in 1780 milliseconds\r\nD0122 09:54:30.243436000 140736994190272 client_channel.cc:389]        chand=0x7ff49bf00790: got resolver result: error=\"No Error\"\r\nD0122 09:54:30.243441000 140736994190272 client_channel.cc:510]        chand=0x7ff49bf00790: resolver result: lb_policy_name=\"(null)\", service_config=\"(null)\"\r\nD0122 09:54:30.243445000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to TRANSIENT_FAILURE\r\nD0122 09:54:32.023369000 123145571086336 client_channel.cc:389]        chand=0x7ff49bf00790: got resolver result: error=\"No Error\"\r\nD0122 09:54:32.023395000 123145571086336 pick_first.cc:589]            Pick First 0x7ff49bc054c0 created.\r\nI0122 09:54:32.023400000 123145571086336 pick_first.cc:256]            Pick First 0x7ff49bc054c0 received update with 1 addresses\r\nD0122 09:54:32.023405000 123145571086336 subchannel_list.cc:97]        [pick_first 0x7ff49bc054c0] Creating subchannel list 0x7ff49bc043c0 for 1 subchannels\r\nD0122 09:54:32.023448000 123145571086336 subchannel_list.cc:143]       [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49bc043c0 index 0: Created subchannel 0x7ff49bc04090 for address uri ipv4:127.0.0.1:25519\r\nD0122 09:54:32.023456000 123145571086336 client_channel.cc:510]        chand=0x7ff49bf00790: resolver result: lb_policy_name=\"pick_first\" (changed), service_config=\"(null)\"\r\nD0122 09:54:32.023460000 123145571086336 client_channel.cc:591]        chand=0x7ff49bf00790: initializing new LB policy\r\nD0122 09:54:32.023465000 123145571086336 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to IDLE\r\nD0122 09:54:32.023469000 123145571086336 client_channel.cc:1222]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: resolver returned, doing pick\r\nD0122 09:54:32.023474000 123145571086336 client_channel.cc:1107]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: starting pick on lb_policy=0x7ff49bc054c0\r\nD0122 09:54:32.023478000 123145571086336 client_channel.cc:974]        chand=0x7ff49bf00790 calld=0x7ff49e8028f8: applying service config to call\r\nD0122 09:54:32.023483000 123145571086336 subchannel_list.cc:192]       [pick_first 0x7ff49bc054c0] subchannel_list 0x7ff49bc043c0 REF 1->2 (connectivity_watch+start_picking)\r\nD0122 09:54:32.023488000 123145571086336 subchannel_list.cc:60]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49bc043c0 index 0 of 1 (subchannel 0x7ff49bc04090): requesting connectivity change notification\r\nD0122 09:54:32.023632000 123145571086336 pick_first.cc:356]            Pick First 0x7ff49bc054c0 connectivity changed for subchannel 0x7ff49bc04090 (0 of 1), subchannel_list 0x7ff49bc043c0: state=CONNECTING p->shutdown=0 sd->subchannel_list->shutting_down=0 error=\"No Error\"\r\nD0122 09:54:32.023641000 123145571086336 subchannel_list.cc:60]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49bc043c0 index 0 of 1 (subchannel 0x7ff49bc04090): requesting connectivity change notification\r\nD0122 09:54:32.023646000 123145571086336 client_channel.cc:268]        chand=0x7ff49bf00790: lb_policy=0x7ff49bc054c0 state changed to CONNECTING\r\nD0122 09:54:32.023650000 123145571086336 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to CONNECTING\r\nD0122 09:54:32.024001000 140736994190272 pick_first.cc:356]            Pick First 0x7ff49bc054c0 connectivity changed for subchannel 0x7ff49bc04090 (0 of 1), subchannel_list 0x7ff49bc043c0: state=READY p->shutdown=0 sd->subchannel_list->shutting_down=0 error=\"No Error\"\r\nI0122 09:54:32.024015000 140736994190272 pick_first.cc:468]            Pick First 0x7ff49bc054c0 selected subchannel 0x7ff49bc04090\r\nI0122 09:54:32.024019000 140736994190272 pick_first.cc:480]            Servicing pending pick with selected subchannel 0x7ff49bc04d30\r\nD0122 09:54:32.024024000 140736994190272 subchannel_list.cc:60]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49bc043c0 index 0 of 1 (subchannel 0x7ff49bc04090): requesting connectivity change notification\r\nD0122 09:54:32.024029000 140736994190272 client_channel.cc:268]        chand=0x7ff49bf00790: lb_policy=0x7ff49bc054c0 state changed to READY\r\nD0122 09:54:32.024033000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to READY\r\nD0122 09:54:32.024058000 140736994190272 client_channel.cc:1094]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: pick completed asynchronously\r\nD0122 09:54:32.024076000 140736994190272 client_channel.cc:1018]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: create subchannel_call=0x7ff49e80ca28: error=\"No Error\"\r\nD0122 09:54:32.024082000 140736994190272 client_channel.cc:949]        chand=0x7ff49bf00790 calld=0x7ff49e8028f8: sending 0 pending batches to subchannel_call=0x7ff49e80ca28\r\nD0122 09:54:32.024089000 140736994190272 client_channel.cc:1389]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: sending batch to subchannel_call=0x7ff49e80ca28\r\nD0122 09:54:32.024367000 140736994190272 pick_first.cc:356]            Pick First 0x7ff49bc054c0 connectivity changed for subchannel 0x7ff49bc04090 (0 of 1), subchannel_list 0x7ff49bc043c0: state=SHUTDOWN p->shutdown=0 sd->subchannel_list->shutting_down=0 error={\"created\":\"@1516643672.024350000\",\"description\":\"GOAWAY received\",\"file\":\"src/core/ext/transport/chttp2/transport/chttp2_transport.cc\",\"file_line\":1095,\"http2_error\":0,\"raw_bytes\":\"Server shutdown\"}\r\nD0122 09:54:32.024382000 140736994190272 lb_policy.cc:131]             pick_first 0x7ff49bc054c0: scheduling re-resolution closure with error=\"No Error\".\r\nD0122 09:54:32.024388000 140736994190272 subchannel_list.cc:78]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49bc043c0 index 0 of 1 (subchannel 0x7ff49bc04090): stopping connectivity watch\r\nD0122 09:54:32.024393000 140736994190272 subchannel_list.cc:204]       [pick_first 0x7ff49bc054c0] subchannel_list 0x7ff49bc043c0 UNREF 2->1 (pf_selected_shutdown)\r\nD0122 09:54:32.024398000 140736994190272 subchannel_list.cc:35]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49bc043c0 index 0 of 1 (subchannel 0x7ff49bc04090): unreffing subchannel\r\nD0122 09:54:32.024430000 140736994190272 client_channel.cc:268]        chand=0x7ff49bf00790: lb_policy=0x7ff49bc054c0 state changed to IDLE\r\nD0122 09:54:32.024436000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to IDLE\r\nD0122 09:54:32.024440000 140736994190272 client_channel.cc:379]        chand=0x7ff49bf00790: started name re-resolving\r\nI0122 09:54:32.024454000 140736994190272 dns_resolver.cc:166]          dns resolution failed (will retry): {\"created\":\"@1516643672.024444000\",\"description\":\"Forced Failure\",\"file\":\"test/core/end2end/goaway_server_test.cc\",\"file_line\":73,\"target_address\":\"test\"}\r\nD0122 09:54:32.024459000 140736994190272 dns_resolver.cc:172]          retrying in 1683 milliseconds\r\nD0122 09:54:32.024465000 140736994190272 client_channel.cc:389]        chand=0x7ff49bf00790: got resolver result: error=\"No Error\"\r\nD0122 09:54:32.024469000 140736994190272 client_channel.cc:510]        chand=0x7ff49bf00790: resolver result: lb_policy_name=\"(null)\", service_config=\"(null)\"\r\nD0122 09:54:32.024474000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to TRANSIENT_FAILURE\r\nD0122 09:54:33.029179000 140736994190272 client_channel.cc:1403]       chand=0x7ff49bf00790 calld=0x7ff49c8062f8: entering client_channel combiner\r\nD0122 09:54:33.029199000 140736994190272 client_channel.cc:1107]       chand=0x7ff49bf00790 calld=0x7ff49c8062f8: starting pick on lb_policy=0x7ff49bc054c0\r\nD0122 09:54:33.029207000 140736994190272 client_channel.cc:974]        chand=0x7ff49bf00790 calld=0x7ff49c8062f8: applying service config to call\r\nD0122 09:54:33.709157000 123145571622912 client_channel.cc:389]        chand=0x7ff49bf00790: got resolver result: error=\"No Error\"\r\nI0122 09:54:33.709185000 123145571622912 pick_first.cc:256]            Pick First 0x7ff49bc054c0 received update with 1 addresses\r\nD0122 09:54:33.709191000 123145571622912 subchannel_list.cc:97]        [pick_first 0x7ff49bc054c0] Creating subchannel list 0x7ff49be012f0 for 1 subchannels\r\nD0122 09:54:33.709221000 123145571622912 subchannel_list.cc:143]       [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49be012f0 index 0: Created subchannel 0x7ff49be01ad0 for address uri ipv4:127.0.0.1:13173\r\nD0122 09:54:33.709227000 123145571622912 subchannel_list.cc:244]       [pick_first 0x7ff49bc054c0] Shutting down subchannel_list 0x7ff49bc043c0 (pf_update_before_selected)\r\nD0122 09:54:33.709232000 123145571622912 subchannel_list.cc:204]       [pick_first 0x7ff49bc054c0] subchannel_list 0x7ff49bc043c0 UNREF 1->0 (pf_update_before_selected)\r\nD0122 09:54:33.709236000 123145571622912 subchannel_list.cc:175]       [pick_first 0x7ff49bc054c0] Destroying subchannel_list 0x7ff49bc043c0\r\nD0122 09:54:33.709241000 123145571622912 subchannel_list.cc:192]       [pick_first 0x7ff49bc054c0] subchannel_list 0x7ff49be012f0 REF 1->2 (connectivity_watch+update)\r\nD0122 09:54:33.709246000 123145571622912 subchannel_list.cc:60]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49be012f0 index 0 of 1 (subchannel 0x7ff49be01ad0): requesting connectivity change notification\r\nD0122 09:54:33.709434000 123145571622912 client_channel.cc:510]        chand=0x7ff49bf00790: resolver result: lb_policy_name=\"pick_first\", service_config=\"(null)\"\r\nD0122 09:54:33.709452000 123145571622912 pick_first.cc:356]            Pick First 0x7ff49bc054c0 connectivity changed for subchannel 0x7ff49be01ad0 (0 of 1), subchannel_list 0x7ff49be012f0: state=CONNECTING p->shutdown=0 sd->subchannel_list->shutting_down=0 error=\"No Error\"\r\nD0122 09:54:33.709461000 123145571622912 subchannel_list.cc:60]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49be012f0 index 0 of 1 (subchannel 0x7ff49be01ad0): requesting connectivity change notification\r\nD0122 09:54:33.709470000 123145571622912 client_channel.cc:268]        chand=0x7ff49bf00790: lb_policy=0x7ff49bc054c0 state changed to CONNECTING\r\nD0122 09:54:33.709476000 123145571622912 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to CONNECTING\r\nD0122 09:54:33.709666000 140736994190272 pick_first.cc:356]            Pick First 0x7ff49bc054c0 connectivity changed for subchannel 0x7ff49be01ad0 (0 of 1), subchannel_list 0x7ff49be012f0: state=READY p->shutdown=0 sd->subchannel_list->shutting_down=0 error=\"No Error\"\r\nI0122 09:54:33.709677000 140736994190272 pick_first.cc:468]            Pick First 0x7ff49bc054c0 selected subchannel 0x7ff49be01ad0\r\nI0122 09:54:33.709681000 140736994190272 pick_first.cc:480]            Servicing pending pick with selected subchannel 0x7ff49be01730\r\nD0122 09:54:33.709685000 140736994190272 subchannel_list.cc:60]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49be012f0 index 0 of 1 (subchannel 0x7ff49be01ad0): requesting connectivity change notification\r\nD0122 09:54:33.709690000 140736994190272 client_channel.cc:268]        chand=0x7ff49bf00790: lb_policy=0x7ff49bc054c0 state changed to READY\r\nD0122 09:54:33.709694000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to READY\r\nD0122 09:54:33.709699000 140736994190272 client_channel.cc:1094]       chand=0x7ff49bf00790 calld=0x7ff49c8062f8: pick completed asynchronously\r\nD0122 09:54:33.709714000 140736994190272 client_channel.cc:1018]       chand=0x7ff49bf00790 calld=0x7ff49c8062f8: create subchannel_call=0x7ff49f006828: error=\"No Error\"\r\nD0122 09:54:33.709719000 140736994190272 client_channel.cc:949]        chand=0x7ff49bf00790 calld=0x7ff49c8062f8: sending 0 pending batches to subchannel_call=0x7ff49f006828\r\nD0122 09:54:33.709726000 140736994190272 client_channel.cc:1389]       chand=0x7ff49bf00790 calld=0x7ff49c8062f8: sending batch to subchannel_call=0x7ff49f006828\r\nD0122 09:54:33.709999000 140736994190272 pick_first.cc:356]            Pick First 0x7ff49bc054c0 connectivity changed for subchannel 0x7ff49be01ad0 (0 of 1), subchannel_list 0x7ff49be012f0: state=SHUTDOWN p->shutdown=0 sd->subchannel_list->shutting_down=0 error={\"created\":\"@1516643673.709985000\",\"description\":\"GOAWAY received\",\"file\":\"src/core/ext/transport/chttp2/transport/chttp2_transport.cc\",\"file_line\":1095,\"http2_error\":0,\"raw_bytes\":\"Server shutdown\"}\r\nD0122 09:54:33.710010000 140736994190272 lb_policy.cc:131]             pick_first 0x7ff49bc054c0: scheduling re-resolution closure with error=\"No Error\".\r\nD0122 09:54:33.710015000 140736994190272 subchannel_list.cc:78]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49be012f0 index 0 of 1 (subchannel 0x7ff49be01ad0): stopping connectivity watch\r\nD0122 09:54:33.710019000 140736994190272 subchannel_list.cc:204]       [pick_first 0x7ff49bc054c0] subchannel_list 0x7ff49be012f0 UNREF 2->1 (pf_selected_shutdown)\r\nD0122 09:54:33.710024000 140736994190272 subchannel_list.cc:35]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49be012f0 index 0 of 1 (subchannel 0x7ff49be01ad0): unreffing subchannel\r\nD0122 09:54:33.710076000 140736994190272 client_channel.cc:268]        chand=0x7ff49bf00790: lb_policy=0x7ff49bc054c0 state changed to IDLE\r\nD0122 09:54:33.710086000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to IDLE\r\nD0122 09:54:33.710090000 140736994190272 client_channel.cc:379]        chand=0x7ff49bf00790: started name re-resolving\r\nD0122 09:54:33.710102000 140736994190272 client_channel.cc:389]        chand=0x7ff49bf00790: got resolver result: error=\"No Error\"\r\nI0122 09:54:33.710107000 140736994190272 pick_first.cc:256]            Pick First 0x7ff49bc054c0 received update with 1 addresses\r\nD0122 09:54:33.710112000 140736994190272 subchannel_list.cc:97]        [pick_first 0x7ff49bc054c0] Creating subchannel list 0x7ff49d001a70 for 1 subchannels\r\nD0122 09:54:33.710133000 140736994190272 subchannel_list.cc:143]       [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49d001a70 index 0: Created subchannel 0x7ff49d0026f0 for address uri ipv4:127.0.0.1:13173\r\nD0122 09:54:33.710139000 140736994190272 subchannel_list.cc:244]       [pick_first 0x7ff49bc054c0] Shutting down subchannel_list 0x7ff49be012f0 (pf_update_before_selected)\r\nD0122 09:54:33.710144000 140736994190272 subchannel_list.cc:204]       [pick_first 0x7ff49bc054c0] subchannel_list 0x7ff49be012f0 UNREF 1->0 (pf_update_before_selected)\r\nD0122 09:54:33.710148000 140736994190272 subchannel_list.cc:175]       [pick_first 0x7ff49bc054c0] Destroying subchannel_list 0x7ff49be012f0\r\nD0122 09:54:33.710155000 140736994190272 client_channel.cc:510]        chand=0x7ff49bf00790: resolver result: lb_policy_name=\"pick_first\", service_config=\"(null)\"\r\nD0122 09:54:34.714647000 140736994190272 client_channel.cc:1361]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: recording cancel_error=\"Cancelled\"\r\nD0122 09:54:34.714669000 140736994190272 client_channel.cc:1078]       chand=0x7ff49bf00790 calld=0x7ff49e8028f8: cancelling pick from LB policy 0x7ff49bc054c0\r\nD0122 09:54:34.714724000 140736994190272 client_channel.cc:1361]       chand=0x7ff49bf00790 calld=0x7ff49c8062f8: recording cancel_error=\"Cancelled\"\r\nD0122 09:54:34.714735000 140736994190272 client_channel.cc:1078]       chand=0x7ff49bf00790 calld=0x7ff49c8062f8: cancelling pick from LB policy 0x7ff49bc054c0\r\nD0122 09:54:34.715034000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to SHUTDOWN\r\nD0122 09:54:34.715060000 140736994190272 pick_first.cc:71]             Pick First 0x7ff49bc054c0 Shutting down\r\nD0122 09:54:34.715077000 140736994190272 subchannel_list.cc:244]       [pick_first 0x7ff49bc054c0] Shutting down subchannel_list 0x7ff49d001a70 (pf_shutdown)\r\nD0122 09:54:34.715082000 140736994190272 subchannel_list.cc:35]        [pick_first 0x7ff49bc054c0] subchannel list 0x7ff49d001a70 index 0 of 1 (subchannel 0x7ff49d0026f0): unreffing subchannel\r\nD0122 09:54:34.715091000 140736994190272 subchannel_list.cc:204]       [pick_first 0x7ff49bc054c0] subchannel_list 0x7ff49d001a70 UNREF 1->0 (pf_shutdown)\r\nD0122 09:54:34.715095000 140736994190272 subchannel_list.cc:175]       [pick_first 0x7ff49bc054c0] Destroying subchannel_list 0x7ff49d001a70\r\nD0122 09:54:34.715100000 140736994190272 lb_policy.cc:131]             pick_first 0x7ff49bc054c0: scheduling re-resolution closure with error=\"Cancelled\".\r\nD0122 09:54:34.715105000 140736994190272 pick_first.cc:62]             Pick First 0x7ff49bc054c0 destroyed.\r\nD0122 09:54:34.715120000 140736994190272 client_channel.cc:389]        chand=0x7ff49bf00790: got resolver result: error={\"created\":\"@1516643674.715055000\",\"description\":\"Resolver Shutdown\",\"file\":\"src/core/ext/filters/client_channel/resolver/dns/native/dns_resolver.cc\",\"file_line\":101}\r\nD0122 09:54:34.715125000 140736994190272 client_channel.cc:510]        chand=0x7ff49bf00790: resolver result: lb_policy_name=\"(null)\", service_config=\"(null)\"\r\nD0122 09:54:34.715128000 140736994190272 client_channel.cc:565]        chand=0x7ff49bf00790: shutting down\r\nD0122 09:54:34.715132000 140736994190272 client_channel.cc:257]        chand=0x7ff49bf00790: setting connectivity state to SHUTDOWN\r\nD0122 09:54:34.715449000 140736994190272 ev_posix.cc:128]              Using polling engine: poll\r\nD0122 09:54:34.715465000 140736994190272 dns_resolver.cc:294]          Using native dns resolver\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359511211",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359511211",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359511211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTUxMTIxMQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T18:02:43Z",
    "updated_at": "2018-01-22T18:02:43Z",
    "author_association": "MEMBER",
    "body": "Thanks, Noah.  It definitely looks like a timing issue to me.  I'm going to change the test to explicitly check when DNS reresolution has occurred."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359555755",
    "html_url": "https://github.com/grpc/grpc/issues/14115#issuecomment-359555755",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14115",
    "id": 359555755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTU1NTc1NQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-22T20:33:46Z",
    "updated_at": "2018-01-22T20:33:46Z",
    "author_association": "MEMBER",
    "body": "Changing the test to fix the timing doesn't look feasible due to the need to continue polling while the DNS retry is in flight.  Instead, I've attempted to fix it by changing the RPCs to wait_for_ready."
  }
]
