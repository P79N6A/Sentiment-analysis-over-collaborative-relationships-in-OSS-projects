[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/473471018",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-473471018",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 473471018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzQ3MTAxOA==",
    "user": {
      "login": "billfeng327",
      "id": 41599993,
      "node_id": "MDQ6VXNlcjQxNTk5OTkz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/41599993?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/billfeng327",
      "html_url": "https://github.com/billfeng327",
      "followers_url": "https://api.github.com/users/billfeng327/followers",
      "following_url": "https://api.github.com/users/billfeng327/following{/other_user}",
      "gists_url": "https://api.github.com/users/billfeng327/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/billfeng327/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/billfeng327/subscriptions",
      "organizations_url": "https://api.github.com/users/billfeng327/orgs",
      "repos_url": "https://api.github.com/users/billfeng327/repos",
      "events_url": "https://api.github.com/users/billfeng327/events{/privacy}",
      "received_events_url": "https://api.github.com/users/billfeng327/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T23:22:30Z",
    "updated_at": "2019-03-15T23:22:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "> It seems that this is a partial revert of [cf6a311](https://github.com/grpc/grpc/commit/cf6a31176137984d3335ad72273333491dc25153).\r\n> \r\n> I don't have much context on the need to un-revert specifically the gflags and google benchmark changes though - can we provide a link to an issue that this PR is fixing, or a description of the issue in the PR?\r\n\r\nthis is a specific suggestion from @jtattermusch, who wanted to separate dependency bump from other changes"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/473793997",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-473793997",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 473793997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3Mzc5Mzk5Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-18T07:08:23Z",
    "updated_at": "2019-03-18T07:08:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not sure why, but there is a ton of build failures.\r\n\r\ne.g.\r\n```\r\n/var/local/git/grpc/libs/dbg/libbenchmark.a(benchmark.o): In function `RunBenchmark':\r\n/var/local/git/grpc/third_party/benchmark/src/benchmark.cc:277: undefined reference to `benchmark::ComputeStats(std::vector<benchmark::BenchmarkReporter::Run, std::allocator<benchmark::BenchmarkReporter::Run> > const&)'\r\n/var/local/git/grpc/libs/dbg/libbenchmark.a(benchmark_register.o): In function `benchmark::internal::Benchmark::Benchmark(char const*)':\r\n/var/local/git/grpc/third_party/benchmark/src/benchmark_register.cc:249: undefined reference to `benchmark::StatisticsMean(std::vector<double, std::allocator<double> > const&)'\r\n/var/local/git/grpc/third_party/benchmark/src/benchmark_register.cc:250: undefined reference to `benchmark::StatisticsMedian(std::vector<double, std::allocator<double> > const&)'\r\n/var/local/git/grpc/third_party/benchmark/src/benchmark_register.cc:251: undefined reference to `benchmark::StatisticsStdDev(std::vector<double, std::allocator<double> > const&)'\r\ncollect2: error: ld returned 1 exit status\r\nMakefile:19549: recipe for target '/var/local/git/grpc/bins/dbg/noop-benchmark' failed\r\nmake: *** [/var/local/git/grpc/bins/dbg/noop-benchmark] Error 1\r\nmake: *** Waiting for unfinished jobs....\r\n```\r\n\r\nalso, `check_submodules.sh` check needs to be updated when bumping submodules to prevent sanity check from failing."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/474841552",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-474841552",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 474841552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDg0MTU1Mg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T13:59:56Z",
    "updated_at": "2019-03-20T14:00:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@billfeng327  I am able to reproduce the portability build problem locally:\r\n\r\n`tools/run_tests/run_tests.py -l c++ --compiler cmake -c dbg  --build_only`\r\n\r\ngives me \r\n```\r\nlibgrpc++_test_config.a(test_config_cc.cc.o): In function `grpc::testing::InitTest(int*, char***, bool)':\r\n/usr/local/google/home/jtattermusch/github/grpc/test/cpp/util/test_config_cc.cc:33: undefined reference to `google::ParseCommandLineFlags(int*, char***, bool)'\r\ncollect2: error: ld returned 1 exit status\r\nCMakeFiles/thread_manager_test.dir/build.make:155: recipe for target 'thread_manager_test' failed\r\nmake[3]: *** [thread_manager_test] Error 1\r\nCMakeFiles/Makefile2:3219: recipe for target 'CMakeFiles/thread_manager_test.dir/all' failed\r\nmake[2]: *** [CMakeFiles/thread_manager_test.dir/all] Error 2\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/474848424",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-474848424",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 474848424,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDg0ODQyNA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T14:15:21Z",
    "updated_at": "2019-03-20T14:15:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can also reproduce locally inside a docker container:\r\n`tools/run_tests/run_tests.py -l c++ --compiler cmake -c dbg  --build_only --use_docker`\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/474854478",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-474854478",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 474854478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDg1NDQ3OA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T14:27:37Z",
    "updated_at": "2019-03-20T14:27:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "The windows build has similar problem:\r\n```\r\nT:\\src\\github\\grpc\\workspace_c++_windows_dbg_native_x64_cmake_vs2017_buildonly\\test\\cpp\\util\\test_config_cc.cc(19): fatal error C1083: Cannot open include file: 'gflags/gflags.h': No such file or directory [T:\\src\\github\\grpc\\workspace_c++_windows_dbg_native_x64_cmake_vs2017_buildonly\\cmake\\build\\grpc++_test_config.vcxproj]\r\n``` \r\nIt seems that something is wrong with the include paths?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/474856919",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-474856919",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 474856919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDg1NjkxOQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T14:32:37Z",
    "updated_at": "2019-03-20T14:32:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@billfeng327  It seems that updating the benchmark submodule is not problematic at all, so we could update the submodule in a separate PR (which I assume is going to be nice and easy) and focus only on upgrading gflags in this PR (without being distracted by other changes). That also makes sense because if upgrading gflags is troublesome, unexpected issues might come up and we might need to revert (and we don't want to revert the benchmark submodule along with it if that happens)."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/474862188",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-474862188",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 474862188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDg2MjE4OA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T14:43:40Z",
    "updated_at": "2019-03-20T14:46:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "@billfeng327 \r\n\r\nAd gflags problem:\r\nI was looking at the diff between old and new version of the gflags module (here: https://github.com/gflags/gflags/compare/30dbc81fb5ffdc98ea9b14b1918bfe4e8779b26e...28f50e0fed19872e0fd50dd23ce2ee8cd759338e) and saw this:\r\n\r\nhttps://github.com/gflags/gflags/compare/30dbc81fb5ffdc98ea9b14b1918bfe4e8779b26e...28f50e0fed19872e0fd50dd23ce2ee8cd759338e#diff-af3b638bc2a3e6c650974192a53c7291\r\nwhich seems to indicate that the names of gflags targets have changed from `gflags` to `gflags::gflags` (and similar for other targets).\r\nSo the culprit is likely that the `gflags_static` target doesn't exist anymore (it's now gflags::gflags_static ? we need to experiment a little bit)\r\nhttps://github.com/grpc/grpc/blob/ba7da20f1d51a49b8d8063bdb163a8c33bf924e5/cmake/gflags.cmake#L21\r\n\r\nUpdating the gflags and benchmark submodules in 2 separate PRs still makes sense - let's split this PR."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/475058422",
    "html_url": "https://github.com/grpc/grpc/pull/18397#issuecomment-475058422",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18397",
    "id": 475058422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTA1ODQyMg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T22:47:17Z",
    "updated_at": "2019-03-20T22:47:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Btw, you reverted some of the changes by regenerating and forgot to include build.yaml changes?"
  }
]
