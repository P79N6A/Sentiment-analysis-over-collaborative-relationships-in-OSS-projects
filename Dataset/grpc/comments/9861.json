[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282178416",
    "html_url": "https://github.com/grpc/grpc/issues/9861#issuecomment-282178416",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9861",
    "id": 282178416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3ODQxNg==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T01:40:23Z",
    "updated_at": "2017-02-24T01:40:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ideally when the grpc gem is installed the binary should come with it pre-compiled - I'm not sure exactly what's preventing that in this case. What's the `RUBY_PLATFORM` here? Also do both `gem install grpc` and `bundle install grpc` try to compile from source?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282190939",
    "html_url": "https://github.com/grpc/grpc/issues/9861#issuecomment-282190939",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9861",
    "id": 282190939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE5MDkzOQ==",
    "user": {
      "login": "Op3n4M3",
      "id": 25988224,
      "node_id": "MDQ6VXNlcjI1OTg4MjI0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/25988224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Op3n4M3",
      "html_url": "https://github.com/Op3n4M3",
      "followers_url": "https://api.github.com/users/Op3n4M3/followers",
      "following_url": "https://api.github.com/users/Op3n4M3/following{/other_user}",
      "gists_url": "https://api.github.com/users/Op3n4M3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Op3n4M3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Op3n4M3/subscriptions",
      "organizations_url": "https://api.github.com/users/Op3n4M3/orgs",
      "repos_url": "https://api.github.com/users/Op3n4M3/repos",
      "events_url": "https://api.github.com/users/Op3n4M3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Op3n4M3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T03:02:06Z",
    "updated_at": "2017-02-24T03:02:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have performed both, the target is a raspberry pi on arm architecture and does not include a pre-compiled binary.  When make is called by the gem installer for native compilation it exhausts all resources.  As offered in the PR setting reasonable job counts can make the gem more portable.\r\n\r\nNote, I have been able to manually execute the compile inside the gem cache with some configuration work, however due to the method used to execute the make in this package I have been unable control the job count to get the gem to fully installed.  I am looking to use the grpc gem as a dependency for another gem I would like to be capable of installing on embedded platforms."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282202020",
    "html_url": "https://github.com/grpc/grpc/issues/9861#issuecomment-282202020",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9861",
    "id": 282202020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjIwMjAyMA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T04:35:06Z",
    "updated_at": "2017-02-24T04:35:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Overall I'm good with the fix but it would be nice to check that this isn't a problem with the grpc gem itself. Mainly interested in the `RUBY_VERSION` and `RUBY_PLATFORM` that this is happening on. \r\nFTR there was a previous issue where `gem install grpc` on OS X incorrectly tried to compile from source on install, which was fixed with an upgraded `rubygems` (https://github.com/grpc/grpc/issues/7727)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/282217587",
    "html_url": "https://github.com/grpc/grpc/issues/9861#issuecomment-282217587",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9861",
    "id": 282217587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjIxNzU4Nw==",
    "user": {
      "login": "Op3n4M3",
      "id": 25988224,
      "node_id": "MDQ6VXNlcjI1OTg4MjI0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/25988224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Op3n4M3",
      "html_url": "https://github.com/Op3n4M3",
      "followers_url": "https://api.github.com/users/Op3n4M3/followers",
      "following_url": "https://api.github.com/users/Op3n4M3/following{/other_user}",
      "gists_url": "https://api.github.com/users/Op3n4M3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Op3n4M3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Op3n4M3/subscriptions",
      "organizations_url": "https://api.github.com/users/Op3n4M3/orgs",
      "repos_url": "https://api.github.com/users/Op3n4M3/repos",
      "events_url": "https://api.github.com/users/Op3n4M3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Op3n4M3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T06:46:01Z",
    "updated_at": "2017-02-24T06:46:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Understood, here are the details from the install I am trying to complete.  Can provide additional info if need.  As far as I can tell arm architecture is not part of the current gem cross compile list.\r\n\r\nSee Rakefile\r\n```\r\n  ext.cross_platform = [\r\n    'x86-mingw32', 'x64-mingw32',\r\n    'x86_64-linux', 'x86-linux',\r\n    'universal-darwin'\r\n  ]\r\n```\r\n\r\nEnvironment details:\r\n\r\n```\r\n$ uname -a\r\nLinux ubuntu 3.18.0-20-rpi2 #21-Ubuntu SMP PREEMPT Sun Apr 5 01:56:02 UTC 2015 armv7l armv7l armv7l GNU/Linux\r\n\r\n$ irb\r\n2.3.3 :001 > RUBY_VERSION\r\n => \"2.3.3\" \r\n2.3.3 :002 > RUBY_PLATFORM\r\n => \"armv7l-linux-eabihf\" \r\n\r\n$ gem --version\r\n2.5.2\r\n```\r\nAlso attempted to update rubygems and called the installs again:\r\n```\r\n$ gem update --system\r\nUpdating rubygems-update\r\nSuccessfully installed rubygems-update-2.6.10\r\nParsing documentation for rubygems-update-2.6.10\r\nInstalling darkfish documentation for rubygems-update-2.6.10\r\nDone installing documentation for rubygems-update after 586 seconds\r\nParsing documentation for rubygems-update-2.6.10\r\nDone installing documentation for rubygems-update after 0 seconds\r\nInstalling RubyGems 2.6.10\r\nRubyGems 2.6.10 installed\r\nParsing documentation for rubygems-2.6.10\r\n...\r\n\r\n$ gem --version\r\n2.6.10\r\nubuntu@ubuntu:~/metasploit-aggregator/ruby$ gem install grpc\r\nBuilding native extensions.  This could take a while...\r\n\r\n$ bundle install\r\nFetching gem metadata from https://rubygems.org/........\r\nFetching version metadata from https://rubygems.org/.\r\nResolving dependencies.....\r\nUsing rake 10.5.0\r\nUsing public_suffix 2.0.5\r\nUsing bundler 1.14.2\r\nUsing coderay 1.1.1\r\nUsing diff-lcs 1.3\r\nUsing multipart-post 2.0.0\r\nUsing google-protobuf 3.2.0\r\nUsing jwt 1.5.6\r\nUsing little-plugger 1.1.4\r\nUsing multi_json 1.12.1\r\nUsing memoist 0.15.0\r\nUsing os 0.9.6\r\nUsing grpc-tools 1.1.2\r\nUsing method_source 0.8.2\r\nUsing slop 3.6.0\r\nUsing rspec-support 3.5.0\r\nUsing addressable 2.5.0\r\nUsing faraday 0.11.0\r\nUsing logging 2.1.0\r\nUsing pry 0.10.4\r\nUsing rspec-core 3.5.4\r\nUsing rspec-expectations 3.5.0\r\nUsing rspec-mocks 3.5.0\r\nUsing signet 0.7.3\r\nUsing rspec 3.5.0\r\nUsing googleauth 0.5.1\r\nInstalling grpc 1.1.2 with native extensions\r\nKilled\r\n$\r\n```\r\n\r\nResults from ```top``` while bundler is running (free memory is quickly consumed):\r\n\r\n```\r\ntop - 06:33:52 up 2 days, 12:45,  2 users,  load average: 38.85, 46.05, 21.29\r\nTasks: 299 total,  93 running, 205 sleeping,   0 stopped,   1 zombie\r\n%Cpu(s): 87.8 us, 12.2 sy,  0.0 ni,  0.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\r\nKiB Mem:    946112 total,   530088 used,   416024 free,    11204 buffers\r\nKiB Swap:        0 total,        0 used,        0 free.    63136 cached Mem\r\n\r\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                            \r\n29446 ubuntu    20   0   23488  17152   9600 R  35.2  1.8   0:01.78 cc1                                \r\n29415 ubuntu    20   0       0      0      0 R  24.5  0.0   0:01.30 cc1                                \r\n29418 ubuntu    20   0   20148  14972   9780 R  24.5  1.6   0:01.28 cc1                                \r\n29438 ubuntu    20   0   20516  15400   9548 R  23.2  1.6   0:01.25 cc1                                \r\n29412 ubuntu    20   0   22400  15780   9604 R  22.2  1.7   0:01.29 cc1                                \r\n29429 ubuntu    20   0   20140  14456   9416 R  21.9  1.5   0:01.20 cc1                                \r\n29455 ubuntu    20   0   22336  15692   9748 R  20.9  1.7   0:01.13 cc1                                \r\n28928 ubuntu    20   0    7572   5332   1284 D   3.6  0.6   0:06.16 make                               \r\n29694 ubuntu    20   0   17464   9148   6908 R   2.3  1.0   0:00.07 cc1                                \r\n29765 ubuntu    20   0   17332   8088   6332 R   2.0  0.9   0:00.06 cc1                                \r\n29780 ubuntu    20   0   17332   8136   6376 R   2.0  0.9   0:00.06 cc1                                \r\n29793 ubuntu    20   0   17332   8060   6308 R   2.0  0.9   0:00.06 cc1                                \r\n29890 ubuntu    20   0   17332   8360   6316 R   2.0  0.9   0:00.06 cc1                                \r\n29892 ubuntu    20   0   17332   8240   6460 R   2.0  0.9   0:00.06 cc1                                \r\n29907 ubuntu    20   0   17332   8336   6292 R   2.0  0.9   0:00.06 cc1                                \r\n29911 ubuntu    20   0   17332   8384   6340 R   2.0  0.9   0:00.06 cc1                                \r\n29914 ubuntu    20   0   17332   8132   6372 R   2.0  0.9   0:00.06 cc1                                \r\n29932 ubuntu    20   0   17332   8396   6384 R   2.0  0.9   0:00.06 cc1                                \r\n26211 ubuntu    20   0    4832   1352    780 R   1.6  0.1   0:06.30 top                                \r\n29575 ubuntu    20   0   17332   7824   6320 R   1.6  0.8   0:00.05 cc1                                \r\n29602 ubuntu    20   0   17332   8180   6400 R   1.6  0.9   0:00.06 cc1                                \r\n29617 ubuntu    20   0   17332   8028   6280 R   1.6  0.8   0:00.05 cc1                                \r\n29629 ubuntu    20   0   17332   8144   6368 R   1.6  0.9   0:00.05 cc1                                \r\n29654 ubuntu    20   0   17464   8144   6380 R   1.6  0.9   0:00.05 cc1                                \r\n29660 ubuntu    20   0   17332   8072   6308 R   1.6  0.9   0:00.05 cc1                                \r\n29663 ubuntu    20   0   17332   8080   6312 R   1.6  0.9   0:00.05 cc1                                \r\n29671 ubuntu    20   0   17332   8284   6504 R   1.6  0.9   0:00.05 cc1                                \r\n29681 ubuntu    20   0   17332   8112   6332 R   1.6  0.9   0:00.05 cc1                                \r\n29685 ubuntu    20   0   17332   8196   6424 R   1.6  0.9   0:00.05 cc1                                \r\n29707 ubuntu    20   0   17332   7980   6232 R   1.6  0.8   0:00.05 cc1                                \r\n29710 ubuntu    20   0   17332   8116   6364 R   1.6  0.9   0:00.05 cc1         \r\n```\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/288194417",
    "html_url": "https://github.com/grpc/grpc/issues/9861#issuecomment-288194417",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9861",
    "id": 288194417,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODE5NDQxNw==",
    "user": {
      "login": "Op3n4M3",
      "id": 25988224,
      "node_id": "MDQ6VXNlcjI1OTg4MjI0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/25988224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Op3n4M3",
      "html_url": "https://github.com/Op3n4M3",
      "followers_url": "https://api.github.com/users/Op3n4M3/followers",
      "following_url": "https://api.github.com/users/Op3n4M3/following{/other_user}",
      "gists_url": "https://api.github.com/users/Op3n4M3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Op3n4M3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Op3n4M3/subscriptions",
      "organizations_url": "https://api.github.com/users/Op3n4M3/orgs",
      "repos_url": "https://api.github.com/users/Op3n4M3/repos",
      "events_url": "https://api.github.com/users/Op3n4M3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Op3n4M3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-21T19:38:04Z",
    "updated_at": "2017-03-21T19:38:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Resource limitation released in v1.2.0."
  }
]
