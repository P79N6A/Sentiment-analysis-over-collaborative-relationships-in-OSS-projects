[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/299747506",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-299747506",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 299747506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTc0NzUwNg==",
    "user": {
      "login": "dzbarsky",
      "id": 1565842,
      "node_id": "MDQ6VXNlcjE1NjU4NDI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1565842?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dzbarsky",
      "html_url": "https://github.com/dzbarsky",
      "followers_url": "https://api.github.com/users/dzbarsky/followers",
      "following_url": "https://api.github.com/users/dzbarsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/dzbarsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dzbarsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dzbarsky/subscriptions",
      "organizations_url": "https://api.github.com/users/dzbarsky/orgs",
      "repos_url": "https://api.github.com/users/dzbarsky/repos",
      "events_url": "https://api.github.com/users/dzbarsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dzbarsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-08T00:38:16Z",
    "updated_at": "2017-05-08T00:38:16Z",
    "author_association": "NONE",
    "body": "@jboeuf Do you have a sense for when this may be fixed? This makes certificate rotation a pain to implement"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/299771085",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-299771085",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 299771085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTc3MTA4NQ==",
    "user": {
      "login": "jboeuf",
      "id": 6262765,
      "node_id": "MDQ6VXNlcjYyNjI3NjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6262765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jboeuf",
      "html_url": "https://github.com/jboeuf",
      "followers_url": "https://api.github.com/users/jboeuf/followers",
      "following_url": "https://api.github.com/users/jboeuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jboeuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jboeuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jboeuf/subscriptions",
      "organizations_url": "https://api.github.com/users/jboeuf/orgs",
      "repos_url": "https://api.github.com/users/jboeuf/repos",
      "events_url": "https://api.github.com/users/jboeuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jboeuf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-08T04:37:43Z",
    "updated_at": "2017-05-08T04:37:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "David, thanks for your interest. I'm shooting for the 1st week of June. I'm\nvery much aware of the current pain regarding rotation :(.\n\nOn Sun, May 7, 2017 at 5:38 PM, David Zbarsky <notifications@github.com>\nwrote:\n\n> @jboeuf <https://github.com/jboeuf> Do you have a sense for when this may\n> be fixed? This makes certificate rotation a pain to implement\n>\n> 窶能n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/10528#issuecomment-299747506>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AF-P7Ud6exeASoYnM6Ty_xglOkStSb9rks5r3mQAgaJpZM4M3hQq>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/314155038",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-314155038",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 314155038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDE1NTAzOA==",
    "user": {
      "login": "dzbarsky",
      "id": 1565842,
      "node_id": "MDQ6VXNlcjE1NjU4NDI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1565842?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dzbarsky",
      "html_url": "https://github.com/dzbarsky",
      "followers_url": "https://api.github.com/users/dzbarsky/followers",
      "following_url": "https://api.github.com/users/dzbarsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/dzbarsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dzbarsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dzbarsky/subscriptions",
      "organizations_url": "https://api.github.com/users/dzbarsky/orgs",
      "repos_url": "https://api.github.com/users/dzbarsky/repos",
      "events_url": "https://api.github.com/users/dzbarsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dzbarsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-10T16:11:38Z",
    "updated_at": "2017-07-10T16:11:38Z",
    "author_association": "NONE",
    "body": "@jboeuf Any update on this one?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/314166065",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-314166065",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 314166065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDE2NjA2NQ==",
    "user": {
      "login": "jboeuf",
      "id": 6262765,
      "node_id": "MDQ6VXNlcjYyNjI3NjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6262765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jboeuf",
      "html_url": "https://github.com/jboeuf",
      "followers_url": "https://api.github.com/users/jboeuf/followers",
      "following_url": "https://api.github.com/users/jboeuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jboeuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jboeuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jboeuf/subscriptions",
      "organizations_url": "https://api.github.com/users/jboeuf/orgs",
      "repos_url": "https://api.github.com/users/jboeuf/repos",
      "events_url": "https://api.github.com/users/jboeuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jboeuf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-10T16:49:45Z",
    "updated_at": "2017-07-10T16:49:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry, I got too busy with other things. Someone from my team will take\nthat on this quarter. I'll update the issue when we have a concrete time\nline. Thanks for your patience!\n\nOn Mon, Jul 10, 2017 at 9:11 AM, David Zbarsky <notifications@github.com>\nwrote:\n\n> @jboeuf <https://github.com/jboeuf> Any update on this one?\n>\n> 窶能n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/10528#issuecomment-314155038>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AF-P7aZAX0ml4a9vsuqJzSxQpdU-T7aCks5sMk1JgaJpZM4M3hQq>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/316548774",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-316548774",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 316548774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjU0ODc3NA==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-19T23:22:12Z",
    "updated_at": "2017-07-19T23:31:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @jboeuf I have some rough ideas that hopefully can be quick to implement:\r\n\r\n---\r\nThe core C library, e.g., `grpc_ssl_pem_key_cert_pair`, is currently expecting `private_key` and `cert_chain` to contain PEM data.\r\n\r\nWhat if we add the ability to alternatively take file paths, e.g., `private_key_file_path` and `cert_chain_file_path`?\r\n\r\nThen every time a server SSL context is populated e.g., `populate_ssl_context()`, the `mtime`s of the two files are recorded. Then, somewhere in the library (I have not figured out the exact details, but I assume it's not too hard), on every new TCP connection from a client, the server checks the `mtime` of either file, and if either is newer than the corresponding recorded value, the server reconfigures the SSL context.\r\n\r\nThis way, the user simply updates the files on disk, and subsequent connections will use the new credentials.\r\n\r\n(There is system clock change issue, but that might be an acceptable caveat.)\r\n\r\n---\r\nAnother, perhaps more reasonable (?), approach is to add an API to the library that user applications can call to reconfigure/update the server's SSL context?\r\n\r\n\r\nI can help with implementation of either solution or other solutions you prefer. Thoughts?\r\n\r\nThanks!\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/316566736",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-316566736",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 316566736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjU2NjczNg==",
    "user": {
      "login": "jboeuf",
      "id": 6262765,
      "node_id": "MDQ6VXNlcjYyNjI3NjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6262765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jboeuf",
      "html_url": "https://github.com/jboeuf",
      "followers_url": "https://api.github.com/users/jboeuf/followers",
      "following_url": "https://api.github.com/users/jboeuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jboeuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jboeuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jboeuf/subscriptions",
      "organizations_url": "https://api.github.com/users/jboeuf/orgs",
      "repos_url": "https://api.github.com/users/jboeuf/repos",
      "events_url": "https://api.github.com/users/jboeuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jboeuf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-20T01:06:16Z",
    "updated_at": "2017-07-20T01:06:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cauthu thanks for your input. \r\n\r\nI was thinking about a more general approach with the caller being able to pass a credentials store object from which the SSL implementation can get keys/certs/roots each time a new handshaker is created. That way, we avoid depending on the file system (some keys on some servers are in-memory only for example). \r\n\r\nThis is similar to your second approach but I would also like to avoid dependencies on OpenSSL internal objects since the TSI SSL interface could be implemented in terms of other underlying TLS libraries.\r\n\r\n@justinburke from my team is going to take on this issue as I unfortunately have very little cycles to spend on this. Should we add you as a reviewer?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/316581629",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-316581629",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 316581629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjU4MTYyOQ==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-20T02:53:23Z",
    "updated_at": "2017-07-20T02:53:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jboeuf @justinburke I have 1 week allocated in this quarter for working on this, including testing, etc. So, if you sketch the final design/approach with a little more details, I don't mind taking care of all/the bulk of the work :)\r\nI do hope to have this all wrapped up before the end of August, though, so, depending on how far we get here, I might just have to fork and implement my hacky quick fix, but of course this is an undesired outcome :)\r\nLooking forward to working with you on this!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/320127198",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-320127198",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 320127198,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDEyNzE5OA==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T00:49:10Z",
    "updated_at": "2017-08-04T00:49:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @jboeuf @justinburke,\r\n\r\nSo this is what I've gathered:\r\n\r\n---\r\nDuring server initialization\r\n\r\n- a `grpc_server_security_connector` is created once\r\n  - it contains a `tsi_ssl_server_handshaker_factory` (created by `tsi_create_ssl_server_handshaker_factory_ex()`)\r\n    - which contains the `SSL_CTX` populated from the PEM key/cert, cipher suites, etc. the user passed in (via a `grpc_ssl_server_config`)\r\n- the `grpc_server_security_connector` is added to the channel args that are part of the `server_state` of the server \"socket\"\r\n\r\n---\r\nOn each new accepted TCP connection\r\n\r\n- the \"server connection\" is given a new `grpc_handshake_manager`\r\n- `grpc_handshakers_add()` to add \"server\" handshakers to the newly created handshake manager\r\n  - this eventually leads to a `ssl_server_add_handshakers()` call with the `grpc_server_security_connector`\r\n    - down to `tsi_ssl_server_handshaker_factory_create_handshaker()` call with the `tsi_ssl_server_handshaker_factory`\r\n      - and `create_tsi_ssl_handshaker()`, which creates `SSL` from `SSL_CTX`\r\n- then the handshake manager performs handshakes\r\n\r\nA key piece of code in `ssl_channel_add_handshakers()` (slightly modified):\r\n\r\n```\r\nvoid ssl_channel_add_handshakers(\r\n  ...,\r\n  grpc_channel_security_connector *sc,\r\n  ...)\r\n{\r\n  tsi_handshaker *tsi_hs = NULL;\r\n  tsi_ssl_client_handshaker_factory_create_handshaker(\r\n      sc->handshaker_factory, ..., &tsi_hs);\r\n```\r\n\r\nSo, to achieve the following:\r\n> a more general approach with the caller being able to pass a credentials store object from which the SSL implementation can get keys/certs/roots each time a new handshaker is created.\r\n\r\nis it reasonable to to do something like this---if the user chooses at server construction time, e.g., via certain flags/combination of values in server credentials object:\r\n\r\n* `sc->handshaker_factory` will never be filled at all\r\n* and then in `ssl_channel_add_handshakers()`, we do:\r\n\r\n```\r\n  tsi_handshaker *tsi_hs = NULL;\r\n  if (sc->handshaker_factory) {\r\n    tsi_ssl_client_handshaker_factory_create_handshaker(\r\n      sc->handshaker_factory, ..., &tsi_hs);\r\n  } else {\r\n    // ask user for server credentials, create and use tmp handshaker factory\r\n    grpc_ssl_server_config config = {0};\r\n    tsi_ssl_server_handshaker_factory* tmp_handshaker_factory = NULL;\r\n\r\n    int err = sc->get_server_credentials_callback(&config);\r\n    // error checking\r\n\r\n    tsi_ssl_client_handshaker_factory_create_handshaker(\r\n      tmp_handshaker_factory, ..., &tsi_hs);\r\n\r\n    /* free tmp_handshaker_factory. I do not know yet whether the\r\n    handshaker factory has to stay around until the entire handshake\r\n    is done, in which case, a modified approach is needed. */\r\n  }\r\n\r\n```\r\n\r\nRegarding\r\n> This is similar to your second approach but I would also like to avoid dependencies on OpenSSL internal objects since the TSI SSL interface could be implemented in terms of other underlying TLS libraries.\r\n\r\nIt seems the above approach would not violate this requirement?\r\n\r\nAny feedback greatly appreciated! I'd be able to take a shot at implementing this if overall it seems ok to you!\r\n\r\nThanks!\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/320141609",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-320141609",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 320141609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDE0MTYwOQ==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T02:42:52Z",
    "updated_at": "2017-08-04T02:42:52Z",
    "author_association": "CONTRIBUTOR",
    "body": ">    /* free tmp_handshaker_factory. I do not know yet whether the\r\n>    handshaker factory has to stay around until the entire handshake\r\n>    is done, in which case, a modified approach is needed. */\r\n\r\nhmm looks like the handshaker factory needs to stick around at least in case server SNI is used"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/320293365",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-320293365",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 320293365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDI5MzM2NQ==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T16:29:08Z",
    "updated_at": "2017-08-04T16:29:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "or I don't need the factory at all, and just have another function that creates a new handshaker directly (saving the `SSL_CTX` into a new member of the `tsi_ssl_handshaker`)?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330986454",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-330986454",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 330986454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDk4NjQ1NA==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-20T21:28:42Z",
    "updated_at": "2017-09-20T21:28:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "some of the ssl/security tests are failing/flaky :(\r\n```\r\ngrpc/tools/run_tests$ time ./run_tests.py -l c -r handshake_server \r\nUnexpected error getting flaky tests: <type 'exceptions.ImportError'>\r\nPASSED: make [time=1.7sec; retries=0:0]2017-09-20 14:21:57,642 detected port server running version 20\r\n2017-09-20 14:21:57,687 my port server is version 20\r\nSTART: bins/opt/handshake_server GRPC_POLL_STRATEGY=epoll1*** Error in `bins/opt/handshake_server': double free or corruption (!prev): 0x00000000024fab40 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7f67d3f7b7e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7f67d3f8437a]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x83350)[0x7f67d3f87350]\r\nSTART: bins/opt/handshake_server GRPC_POLL_STRATEGY=poll-cv/lib/x86_64-linux-gnu/libcrypto.so.1.0.0(CRYPTO_realloc+0x50)[0x7f67d4330f70]\r\n/lib/x86_64-linux-gnu/libcrypto.so.1.0.0(lh_insert+0x11c)[0x7f67d43e85fc]\r\n.\r\n.\r\n.\r\ngrpc/tools/run_tests$\r\ngrpc/tools/run_tests$ time ./run_tests.py -l c -r handshake_server \r\nUnexpected error getting flaky tests: <type 'exceptions.ImportError'>\r\nPASSED: make [time=1.8sec; retries=0:0]2017-09-20 14:24:12,239 detected port server running version 20\r\n2017-09-20 14:24:12,290 my port server is version 20\r\n\r\nI0920 14:24:12.990657457   18689 ev_epoll1_linux.c:93]       grpc epoll fd: 3\r\nD0920 14:24:12.990729492   18689 ev_posix.c:107]             Using polling engine: epoll1\r\nD0920 14:24:12.990768454   18689 dns_resolver.c:301]         Using native dns resolver\r\nUnable to connect: Connection refused\r\nI0920 14:24:13.994090473   18689 server_ssl.c:199]           Connected to server on port 18494\r\nD0920 14:24:13.996276920   18694 security_handshaker.c:112]  Security handshake failed: {\"created\":\"@1505942653.996261912\",\"description\":\"Cannot check peer: missing selected ALPN property.\",\"file\":\"src/core/lib/security/transport/security_connector.c\",\"file_line\":598}\r\nD0920 14:24:13.996306511   18694 chttp2_server.c:69]         Handshaking failed: {\"created\":\"@1505942653.996261912\",\"description\":\"Cannot check peer: missing selected ALPN property.\",\"file\":\"src/core/lib/security/transport/security_connector.c\",\"file_line\":598}\r\nI0920 14:24:13.996408270   18689 server_ssl.c:210]           Handshake successful.\r\n.\r\n.\r\n.\r\n```\r\n(as of latest master branch, i.e., \r\n```\r\ncommit cc198e56f0fa7ece846f554b1dc23f1de6600fff\r\nMerge: 31aea7e 87c0952\r\nAuthor: Stanley Cheung <stanley.cheung@gmail.com>\r\nDate:   Wed Sep 20 12:56:25 2017 -0700\r\n```\r\n)\r\n\r\nmaking it hard to find a simple working test to build off for this feature."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330997420",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-330997420",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 330997420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDk5NzQyMA==",
    "user": {
      "login": "justinburke",
      "id": 1069502,
      "node_id": "MDQ6VXNlcjEwNjk1MDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1069502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/justinburke",
      "html_url": "https://github.com/justinburke",
      "followers_url": "https://api.github.com/users/justinburke/followers",
      "following_url": "https://api.github.com/users/justinburke/following{/other_user}",
      "gists_url": "https://api.github.com/users/justinburke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/justinburke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/justinburke/subscriptions",
      "organizations_url": "https://api.github.com/users/justinburke/orgs",
      "repos_url": "https://api.github.com/users/justinburke/repos",
      "events_url": "https://api.github.com/users/justinburke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/justinburke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-20T22:21:11Z",
    "updated_at": "2017-09-20T22:21:11Z",
    "author_association": "MEMBER",
    "body": "Thanks, I'll look into it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/331002630",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-331002630",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 331002630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTAwMjYzMA==",
    "user": {
      "login": "justinburke",
      "id": 1069502,
      "node_id": "MDQ6VXNlcjEwNjk1MDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1069502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/justinburke",
      "html_url": "https://github.com/justinburke",
      "followers_url": "https://api.github.com/users/justinburke/followers",
      "following_url": "https://api.github.com/users/justinburke/following{/other_user}",
      "gists_url": "https://api.github.com/users/justinburke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/justinburke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/justinburke/subscriptions",
      "organizations_url": "https://api.github.com/users/justinburke/orgs",
      "repos_url": "https://api.github.com/users/justinburke/repos",
      "events_url": "https://api.github.com/users/justinburke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/justinburke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-20T22:49:34Z",
    "updated_at": "2017-09-20T22:49:34Z",
    "author_association": "MEMBER",
    "body": "So far haven't been able to reproduce any errors using:\r\n`tools/run_tests/run_tests.py -l c --use_docker -r handshake_server`"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/331005121",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-331005121",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 331005121,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTAwNTEyMQ==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-20T23:04:21Z",
    "updated_at": "2017-09-20T23:04:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah I'm guessing docker is the magic ingredient then\n\n(sent from phone)\n\nOn Sep 20, 2017 3:50 PM, \"Justin Burke\" <notifications@github.com> wrote:\n\n> So far haven't been able to reproduce any errors using:\n> tools/run_tests/run_tests.py -l c --use_docker -r handshake_server\n>\n> 窶能n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/10528#issuecomment-331002630>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHdpO7OGTapGi9MJrtoWOap48c5snwhks5skZaWgaJpZM4M3hQq>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/345877590",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-345877590",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 345877590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTg3NzU5MA==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-21T00:35:05Z",
    "updated_at": "2017-11-21T00:35:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "python support has been merged (PR https://github.com/grpc/grpc/pull/13188); thanks a ton, @nathanielmanistaatgoogle !"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/398878339",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-398878339",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 398878339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODg3ODMzOQ==",
    "user": {
      "login": "vamshi-k",
      "id": 28404090,
      "node_id": "MDQ6VXNlcjI4NDA0MDkw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/28404090?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vamshi-k",
      "html_url": "https://github.com/vamshi-k",
      "followers_url": "https://api.github.com/users/vamshi-k/followers",
      "following_url": "https://api.github.com/users/vamshi-k/following{/other_user}",
      "gists_url": "https://api.github.com/users/vamshi-k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vamshi-k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vamshi-k/subscriptions",
      "organizations_url": "https://api.github.com/users/vamshi-k/orgs",
      "repos_url": "https://api.github.com/users/vamshi-k/repos",
      "events_url": "https://api.github.com/users/vamshi-k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vamshi-k/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T20:02:57Z",
    "updated_at": "2018-06-20T20:02:57Z",
    "author_association": "NONE",
    "body": "Does golang version of grpc support cert rotations ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/398891234",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-398891234",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 398891234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODg5MTIzNA==",
    "user": {
      "login": "cauthu",
      "id": 1170852,
      "node_id": "MDQ6VXNlcjExNzA4NTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1170852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cauthu",
      "html_url": "https://github.com/cauthu",
      "followers_url": "https://api.github.com/users/cauthu/followers",
      "following_url": "https://api.github.com/users/cauthu/following{/other_user}",
      "gists_url": "https://api.github.com/users/cauthu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cauthu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cauthu/subscriptions",
      "organizations_url": "https://api.github.com/users/cauthu/orgs",
      "repos_url": "https://api.github.com/users/cauthu/repos",
      "events_url": "https://api.github.com/users/cauthu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cauthu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T20:47:26Z",
    "updated_at": "2018-06-20T20:47:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "It is probably best to ask grpc-go folks at\nhttps://github.com/grpc/grpc-go but I think the answer is no.\n\n(sent from phone)\n\nOn Wed, Jun 20, 2018, 1:03 PM Vamshi <notifications@github.com> wrote:\n\n> Does golang version of grpc support cert rotations ?\n>\n> 窶能n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/10528#issuecomment-398878339>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHdpISgZ6OKNevZ3BlcqIiORK3U7it3ks5t-qqXgaJpZM4M3hQq>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/403102673",
    "html_url": "https://github.com/grpc/grpc/issues/10528#issuecomment-403102673",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10528",
    "id": 403102673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzEwMjY3Mw==",
    "user": {
      "login": "jboeuf",
      "id": 6262765,
      "node_id": "MDQ6VXNlcjYyNjI3NjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6262765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jboeuf",
      "html_url": "https://github.com/jboeuf",
      "followers_url": "https://api.github.com/users/jboeuf/followers",
      "following_url": "https://api.github.com/users/jboeuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jboeuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jboeuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jboeuf/subscriptions",
      "organizations_url": "https://api.github.com/users/jboeuf/orgs",
      "repos_url": "https://api.github.com/users/jboeuf/repos",
      "events_url": "https://api.github.com/users/jboeuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jboeuf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-06T17:46:01Z",
    "updated_at": "2018-07-06T17:46:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jiangtaoli2016 FYI\r\n\r\nIt is supported. You can create a TLS transport with a tls.Config object:\r\nhttps://github.com/grpc/grpc-go/blob/master/credentials/credentials.go#L192\r\nand set the GetCertificate callback in the config, which allows you to do the rotation:\r\nhttps://godoc.org/crypto/tls#Config\r\n\r\nWhat is not supported, AFAIK, is the ability to rotate the roots (no callback supplied).\r\n"
  }
]
