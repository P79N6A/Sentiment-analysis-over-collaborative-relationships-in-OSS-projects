[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/296252231",
    "html_url": "https://github.com/grpc/grpc/pull/10795#issuecomment-296252231",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10795",
    "id": 296252231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjI1MjIzMQ==",
    "user": {
      "login": "dvyukov",
      "id": 1095328,
      "node_id": "MDQ6VXNlcjEwOTUzMjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1095328?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvyukov",
      "html_url": "https://github.com/dvyukov",
      "followers_url": "https://api.github.com/users/dvyukov/followers",
      "following_url": "https://api.github.com/users/dvyukov/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvyukov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvyukov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvyukov/subscriptions",
      "organizations_url": "https://api.github.com/users/dvyukov/orgs",
      "repos_url": "https://api.github.com/users/dvyukov/repos",
      "events_url": "https://api.github.com/users/dvyukov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvyukov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-21T17:23:24Z",
    "updated_at": "2017-04-21T17:23:24Z",
    "author_association": "NONE",
    "body": "Do you have any performance numbers? Is it better than what's currently used in grpc?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/296267981",
    "html_url": "https://github.com/grpc/grpc/pull/10795#issuecomment-296267981",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10795",
    "id": 296267981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjI2Nzk4MQ==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-21T18:29:21Z",
    "updated_at": "2017-04-21T23:04:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @dvyukov, \r\nI am planning to use it in our completion queue (which currently uses a list). I have a [micro-benchmark](https://github.com/grpc/grpc/blob/master/test/cpp/microbenchmarks/bm_cq_multiple_threads.cc)\r\n that measures the performance of enqueues/dequeues in a completion-queue\r\n\r\nI have a work-in-progress [PR](https://github.com/grpc/grpc/pull/10797) that incorporates this and the benchmarks clearly performs better for multiple threads:\r\n\r\n```\r\nBenchmark                                      Time           CPU Iterations\r\n----------------------------------------------------------------------------\r\nBM_Cq_Throughput/real_time/threads:1         211 ns        211 ns    3350523   4.51009M items/s\r\nBM_Cq_Throughput/real_time/threads:2         403 ns        752 ns    1524668   2.36519M items/s\r\nBM_Cq_Throughput/real_time/threads:4         519 ns       1808 ns    1428596   1.83922M items/s\r\nBM_Cq_Throughput/real_time/threads:8         477 ns       2545 ns    1428888    1.9975M items/s\r\nBM_Cq_Throughput/real_time/threads:16        534 ns       3173 ns    1746240   1.78466M items/s\r\n```\r\n\r\nSame benchmark in master:\r\n```\r\nBenchmark                                      Time           CPU Iterations\r\n----------------------------------------------------------------------------\r\nBM_Cq_Throughput/real_time/threads:1         193 ns        192 ns    3353144   4.94442M items/s\r\nBM_Cq_Throughput/real_time/threads:2         560 ns       1046 ns    1555606   1.70405M items/s\r\nBM_Cq_Throughput/real_time/threads:4         609 ns       1813 ns     978468    1.5655M items/s\r\nBM_Cq_Throughput/real_time/threads:8         908 ns       4426 ns     836248   1075.41k items/s\r\nBM_Cq_Throughput/real_time/threads:16        896 ns       5720 ns    1095936   1089.53k items/s\r\n```\r\n\r\n@ctiller has other uses for this as well.. \r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/296338318",
    "html_url": "https://github.com/grpc/grpc/pull/10795#issuecomment-296338318",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10795",
    "id": 296338318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjMzODMxOA==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-22T01:36:00Z",
    "updated_at": "2017-04-22T01:36:00Z",
    "author_association": "NONE",
    "body": "```\nNo significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/296349609",
    "html_url": "https://github.com/grpc/grpc/pull/10795#issuecomment-296349609",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10795",
    "id": 296349609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjM0OTYwOQ==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-22T05:36:45Z",
    "updated_at": "2017-04-22T05:36:45Z",
    "author_association": "NONE",
    "body": "```\nNo significant performance differences\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/327550716",
    "html_url": "https://github.com/grpc/grpc/pull/10795#issuecomment-327550716",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10795",
    "id": 327550716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzU1MDcxNg==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-06T17:08:52Z",
    "updated_at": "2017-09-06T17:08:52Z",
    "author_association": "MEMBER",
    "body": "Stale?"
  }
]
