[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/445349576",
    "html_url": "https://github.com/grpc/grpc/issues/17445#issuecomment-445349576",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17445",
    "id": 445349576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTM0OTU3Ng==",
    "user": {
      "login": "moriarty",
      "id": 55676,
      "node_id": "MDQ6VXNlcjU1Njc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/55676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moriarty",
      "html_url": "https://github.com/moriarty",
      "followers_url": "https://api.github.com/users/moriarty/followers",
      "following_url": "https://api.github.com/users/moriarty/following{/other_user}",
      "gists_url": "https://api.github.com/users/moriarty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moriarty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moriarty/subscriptions",
      "organizations_url": "https://api.github.com/users/moriarty/orgs",
      "repos_url": "https://api.github.com/users/moriarty/repos",
      "events_url": "https://api.github.com/users/moriarty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moriarty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-07T20:03:59Z",
    "updated_at": "2018-12-07T20:04:27Z",
    "author_association": "NONE",
    "body": "f8696b5 is a merge commit so I didn't cherry-pick that commit.\r\n\r\nI don't know now **gRPC** is with rebasing other commits, I considered rebasing the original **fix-bazel-0.20** branch but then I decided for two cherry-picks.\r\n\r\ngit cherry-pick f0fbee59326402e6c1f0a7c6a1f8899fd2b0025a\r\ngit cherry-pick 237cc52ffd58c6f46a68d5662fd69cac05b52ec2\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/445383069",
    "html_url": "https://github.com/grpc/grpc/issues/17445#issuecomment-445383069",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17445",
    "id": 445383069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTM4MzA2OQ==",
    "user": {
      "login": "moriarty",
      "id": 55676,
      "node_id": "MDQ6VXNlcjU1Njc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/55676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moriarty",
      "html_url": "https://github.com/moriarty",
      "followers_url": "https://api.github.com/users/moriarty/followers",
      "following_url": "https://api.github.com/users/moriarty/following{/other_user}",
      "gists_url": "https://api.github.com/users/moriarty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moriarty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moriarty/subscriptions",
      "organizations_url": "https://api.github.com/users/moriarty/orgs",
      "repos_url": "https://api.github.com/users/moriarty/repos",
      "events_url": "https://api.github.com/users/moriarty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moriarty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-07T22:17:51Z",
    "updated_at": "2018-12-07T22:17:51Z",
    "author_association": "NONE",
    "body": "Looks like we're not the only ones using a specific commit from grpc:\r\n\r\nhttps://github.com/stackb/rules_proto/pull/2 they're also pointing to f0fbee59326402e6c1f0a7c6a1f8899fd2b0025a\r\n\r\n```diff -157,8 +157,8 @@ def com_google_protobuf(**kwargs):\r\n def com_github_grpc_grpc(**kwargs):\r\n     name = \"com_github_grpc_grpc\"\r\n-    ref = get_ref(name, \"5f84445781ef29e50435c2eea661ca435a19b6bc\", kwargs) # v1.15.0\r\n-    sha256 = get_sha256(name, \"8c09d35806c857dcb3a383c81052cc7ba1c5855e827d0792a83bd57251821e29\", kwargs)\r\n+    ref = get_ref(name, \"f0fbee59326402e6c1f0a7c6a1f8899fd2b0025a\", kwargs) # Bazel 0.20.0 workspace fixes.\r\n+    sha256 = get_sha256(name, \"6cea8d3dbe289872343aafe67736539b0a28ecd062d3ff4965f157f5d9d77d1d\", kwargs)\r\n     github_archive(name, \"grpc\", \"grpc\", ref, sha256)\r\n\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/446699658",
    "html_url": "https://github.com/grpc/grpc/issues/17445#issuecomment-446699658",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17445",
    "id": 446699658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjY5OTY1OA==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-12T18:49:28Z",
    "updated_at": "2018-12-12T18:49:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moriarty, release branch cut happens 2 weeks before the release so a commit has to be in the master branch at the time of branch cut. See [release schedule](https://github.com/grpc/grpc/blob/master/doc/grpc_release_schedule.md)\r\n\r\nUnfortunately, this commit cannot be cherrypicked into 1.17.1 patch as 1.17.1 RC was released a week ago which is promoted to final version without any more changes. The patch is scheduled to go out today and we cannot make any more changes.\r\n\r\n@nicolasnoble, I will let you decided if you want to backport to v1.17.x branch in case we do another patch from this branch later."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/446813280",
    "html_url": "https://github.com/grpc/grpc/issues/17445#issuecomment-446813280",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17445",
    "id": 446813280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjgxMzI4MA==",
    "user": {
      "login": "moriarty",
      "id": 55676,
      "node_id": "MDQ6VXNlcjU1Njc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/55676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moriarty",
      "html_url": "https://github.com/moriarty",
      "followers_url": "https://api.github.com/users/moriarty/followers",
      "following_url": "https://api.github.com/users/moriarty/following{/other_user}",
      "gists_url": "https://api.github.com/users/moriarty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moriarty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moriarty/subscriptions",
      "organizations_url": "https://api.github.com/users/moriarty/orgs",
      "repos_url": "https://api.github.com/users/moriarty/repos",
      "events_url": "https://api.github.com/users/moriarty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moriarty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-13T01:54:25Z",
    "updated_at": "2018-12-13T01:54:25Z",
    "author_association": "NONE",
    "body": "@srini100 thanks for the update. I appreciate the link to the release schedule, but does a broken build not have anyway of getting a hot-fix or patch made? I guess working with the latest release of bazel isn't a release criteria?\r\n\r\n@nicolasnoble \r\nIf it could be back-ported to any released branch or tag that would be greatly appreciated.\r\n\r\nTo provide more information why this would be useful\r\n-----\r\nObviously this might be a one off case, there may be not that many users who want to use a combination of the latest version of **Bazel** without specifying additional flags, and still use a _tagged release_ of **gRPC**\r\n\r\nI'd like to maintain consistent versions of gRPC across a system. Before this was working by pointing all of the components to a released tag of gRPC.\r\n\r\nBut now now the components of the system using **bazel 0.20** need a specific commit. Options were to roll back freeze the version of bazel, or to move forward and use **bazel 0.20**.\r\nAs seen in the diff above from stackb/rules_proto@72a9e46e741d1e6f4f871222b67b663ce2fa9ccc pointing to a specific commit in a bazel project isn't much of a problem.\r\n\r\nBut with non-bazel components of the system, if we want to continue to sync or version of bazel this involved actually modifying a Dockerfile. Instead of just passing an argument to a Dockerfile, because it can't be specified during the git clone command. For example: https://github.com/grpc/grpc-docker-library/blob/master/1.12.0/cxx/Dockerfile. \r\n\r\nA more specific example **Dockerfile**\r\n```diff\r\n- ARG GRPC_RELEASE_TAG=v1.14.2\r\n+ ARG GRPC_RELEASE_TAG=f0fbee59326402e6c1f0a7c6a1f8899fd2b0025a\r\n\r\n- RUN git clone --recursive --branch ${GRPC_RELEASE_TAG} --single-branch --depth=1 \\\r\n-       https://github.com/grpc/grpc /var/local/git/grpc && \\\r\n+ RUN git clone https://github.com/grpc/grpc /var/local/git/grpc && \\\r\n+     cd /var/local/git/grpc && \\\r\n+     git checkout ${GRPC_RELEASE_TAG} && \\\r\n+     git submodule update --init && \\\r\n      cd /var/local/git/grpc/third_party/protobuf && \\\r\n      ./autogen.sh && \\\r\n      ./configure --enable-shared && \\\r\n      make -j$(nproc) && \\\r\n      make -j$(nproc) check && \\\r\n      make install && \\\r\n      make clean && \\\r\n      ldconfig && \\\r\n      cd /var/local/git/grpc && \\\r\n      make -j$(nproc) && \\\r\n      make install && \\\r\n      make clean && \\\r\n      ldconfig && \\\r\n      cd / && \\\r\n      rm -rf /var/local/git/grpc\r\n```\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/446818968",
    "html_url": "https://github.com/grpc/grpc/issues/17445#issuecomment-446818968",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17445",
    "id": 446818968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjgxODk2OA==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-13T02:24:06Z",
    "updated_at": "2018-12-13T02:24:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moriarty, we can certainly backport critical fixes to the next patch but it can't be added to 1.17.1 at the last minute. The changes in the cherrypicks are certainly not trivial. We can do another patch later."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/447519542",
    "html_url": "https://github.com/grpc/grpc/issues/17445#issuecomment-447519542",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17445",
    "id": 447519542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzUxOTU0Mg==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-15T00:40:06Z",
    "updated_at": "2018-12-15T00:40:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@moriarty, v1.17.2 is tagged with this fix. Hope this helps."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/447543859",
    "html_url": "https://github.com/grpc/grpc/issues/17445#issuecomment-447543859",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/17445",
    "id": 447543859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzU0Mzg1OQ==",
    "user": {
      "login": "moriarty",
      "id": 55676,
      "node_id": "MDQ6VXNlcjU1Njc2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/55676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moriarty",
      "html_url": "https://github.com/moriarty",
      "followers_url": "https://api.github.com/users/moriarty/followers",
      "following_url": "https://api.github.com/users/moriarty/following{/other_user}",
      "gists_url": "https://api.github.com/users/moriarty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moriarty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moriarty/subscriptions",
      "organizations_url": "https://api.github.com/users/moriarty/orgs",
      "repos_url": "https://api.github.com/users/moriarty/repos",
      "events_url": "https://api.github.com/users/moriarty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moriarty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-15T07:07:23Z",
    "updated_at": "2018-12-15T07:07:23Z",
    "author_association": "NONE",
    "body": "Perfect thanks!"
  }
]
