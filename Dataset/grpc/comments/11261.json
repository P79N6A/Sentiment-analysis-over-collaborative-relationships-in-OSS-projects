[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/387810021",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-387810021",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 387810021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzgxMDAyMQ==",
    "user": {
      "login": "coryan",
      "id": 6241635,
      "node_id": "MDQ6VXNlcjYyNDE2MzU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/6241635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coryan",
      "html_url": "https://github.com/coryan",
      "followers_url": "https://api.github.com/users/coryan/followers",
      "following_url": "https://api.github.com/users/coryan/following{/other_user}",
      "gists_url": "https://api.github.com/users/coryan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coryan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coryan/subscriptions",
      "organizations_url": "https://api.github.com/users/coryan/orgs",
      "repos_url": "https://api.github.com/users/coryan/repos",
      "events_url": "https://api.github.com/users/coryan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coryan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-09T17:12:52Z",
    "updated_at": "2018-05-09T17:12:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey, any thoughts on when this would be fixed?  We would like to support DLL on Windows for the Google Cloud C++ Client Libraries (https://github.com/GoogleCloudPlatform/google-cloup-cpp)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/387818033",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-387818033",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 387818033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzgxODAzMw==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-09T17:40:54Z",
    "updated_at": "2018-05-09T17:40:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would heavily recommend against using gRPC as a DLL itself, since its API changes fairly often (see #15274 as an example), and DLL users are expecting a stable API.\r\n\r\nNonetheless, I'm surprised this is something still active, because it'd mean our ruby artifact build should be broken. I'm fairly certain we fixed duplicate issues. Are you sure this is still broken ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/387831737",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-387831737",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 387831737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzgzMTczNw==",
    "user": {
      "login": "jozefizso",
      "id": 287778,
      "node_id": "MDQ6VXNlcjI4Nzc3OA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/287778?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jozefizso",
      "html_url": "https://github.com/jozefizso",
      "followers_url": "https://api.github.com/users/jozefizso/followers",
      "following_url": "https://api.github.com/users/jozefizso/following{/other_user}",
      "gists_url": "https://api.github.com/users/jozefizso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jozefizso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jozefizso/subscriptions",
      "organizations_url": "https://api.github.com/users/jozefizso/orgs",
      "repos_url": "https://api.github.com/users/jozefizso/repos",
      "events_url": "https://api.github.com/users/jozefizso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jozefizso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-09T18:25:31Z",
    "updated_at": "2018-05-09T18:25:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Did you try to use the grpc lib from the [vcpkg](https://github.com/Microsoft/vcpkg)?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/387839340",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-387839340",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 387839340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzgzOTM0MA==",
    "user": {
      "login": "coryan",
      "id": 6241635,
      "node_id": "MDQ6VXNlcjYyNDE2MzU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/6241635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coryan",
      "html_url": "https://github.com/coryan",
      "followers_url": "https://api.github.com/users/coryan/followers",
      "following_url": "https://api.github.com/users/coryan/following{/other_user}",
      "gists_url": "https://api.github.com/users/coryan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coryan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coryan/subscriptions",
      "organizations_url": "https://api.github.com/users/coryan/orgs",
      "repos_url": "https://api.github.com/users/coryan/repos",
      "events_url": "https://api.github.com/users/coryan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coryan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-09T18:51:24Z",
    "updated_at": "2018-05-09T18:51:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jozefizso vcpkg explicitly disables dynamic linking:\r\n\r\nhttps://github.com/Microsoft/vcpkg/blob/14708a09a9ade27dce3329ee8453a8a2724f94b6/ports/grpc/portfile.cmake#L2\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/387911740",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-387911740",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 387911740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzkxMTc0MA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-10T00:08:41Z",
    "updated_at": "2018-05-10T00:08:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "With good reasons IMHO."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/388084558",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-388084558",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 388084558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODA4NDU1OA==",
    "user": {
      "login": "coryan",
      "id": 6241635,
      "node_id": "MDQ6VXNlcjYyNDE2MzU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/6241635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coryan",
      "html_url": "https://github.com/coryan",
      "followers_url": "https://api.github.com/users/coryan/followers",
      "following_url": "https://api.github.com/users/coryan/following{/other_user}",
      "gists_url": "https://api.github.com/users/coryan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coryan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coryan/subscriptions",
      "organizations_url": "https://api.github.com/users/coryan/orgs",
      "repos_url": "https://api.github.com/users/coryan/repos",
      "events_url": "https://api.github.com/users/coryan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coryan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-10T15:14:34Z",
    "updated_at": "2018-05-10T15:14:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nicolasnoble I am confused.  You say that the API changes fairly often, yet the blog post announcing 1.0 says you will use semantic versioning:\r\n\r\n> Languages moving to 1.0 include C++, Java, .... they will follow semantic versioning from here.\"\r\n\r\nhttps://grpc.io/blog/gablogpost\r\n\r\nWhich one is it?\r\n\r\nCan you point me to the build that creates your ruby artifacts?  Maybe I am configuring things incorrectly because the steps I followed did not work.  It is also possible I missed the document describing how to build with shared libraries on Windows.\r\n\r\nFor what is worth, I did this:\r\n\r\n```console\r\ngit clone -b v1.11.x https://github.com/grpc/grpc.git\r\ncd grpc\r\ngit submodule update --init --recursive\r\ncmake -H. -B.build -DBUILD_SHARED_LIBS=ON\r\ncmake --build .build -- /m\r\n```\r\n\r\nThat produces many errors, e.g.:\r\n\r\n```console\r\n       \"C:\\Users\\coryan\\source\\grpc\\.build\\ALL_BUILD.vcxproj\" (default target) (1) ->\r\n       \"C:\\Users\\coryan\\source\\grpc\\.build\\grpc++_error_details.vcxproj\" (default target) (95) ->\r\n       \"C:\\Users\\coryan\\source\\grpc\\.build\\grpc_cpp_plugin.vcxproj\" (default target) (96) ->\r\n       \"C:\\Users\\coryan\\source\\grpc\\.build\\grpc_plugin_support.vcxproj\" (default target) (97) ->\r\n         php_generator.obj : error LNK2019: unresolved external symbol \"class std::basic_string<char,struct std::char_t\r\n       raits<char>,class std::allocator<char> > __cdecl google::protobuf::compiler::php::GeneratedClassName(class googl\r\n       e::protobuf::Descriptor const *)\" (?GeneratedClassName@php@compiler@protobuf@google@@YA?AV?$basic_string@DU?$cha\r\n       r_traits@D@std@@V?$allocator@D@2@@std@@PBVDescriptor@34@@Z) referenced in function \"void __cdecl grpc_php_genera\r\n       tor::`anonymous namespace'::PrintMethod(class google::protobuf::MethodDescriptor const *,class google::protobuf:\r\n       :io::Printer *)\" (?PrintMethod@?A0x883a4f3b@grpc_php_generator@@YAXPBVMethodDescriptor@protobuf@google@@PAVPrint\r\n       er@io@45@@Z) [C:\\Users\\coryan\\source\\grpc\\.build\\grpc_plugin_support.vcxproj]\r\n         C:\\Users\\coryan\\source\\grpc\\.build\\Debug\\grpc_plugin_support.dll : fatal error LNK1120: 1 unresolved externals\r\n        [C:\\Users\\coryan\\source\\grpc\\.build\\grpc_plugin_support.vcxproj]\r\n\r\n    814 Warning(s)\r\n    22 Error(s)\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/388090358",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-388090358",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 388090358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODA5MDM1OA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-10T15:32:43Z",
    "updated_at": "2018-05-10T15:32:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "So, several things to say here. gRPC has two layers. The surface API which is in C++/Ruby/Python/NodeJS etc follows semantic versioning, and is still at version 1.0 If you are using C++, this code is in the library named \"grpc++\". And the internal or core layer is the layer that's being used by all these surface APIs. This one isn't meant to be used directly by the end user, and its API which is basically the glue between the core and all of the surface APIs changes frequently. This core library is called \"grpc\".\r\n\r\nIf you build \"grpc.dll\" you only get this core internal API, which isn't meant to be used directly by the end user. Additionally, C++'s lack of ABI means that using \"grpc++.dll\" safely is impossible.\r\n\r\nThe Ruby extension DLL is built from here: https://github.com/grpc/grpc/blob/master/Rakefile#L129 and bounces here: https://github.com/grpc/grpc/blob/master/Rakefile#L84\r\n\r\nThe point of this build is Ruby's build system is fairly out of whack, so our only option is to load the core API as a DLL inside of the Ruby extension. Otherwise we would link it statically, like we do with all the other languages. Nonetheless, it means the core DLL builds properly.\r\n\r\n\r\nNow, more interestingly, the original bug was about the core grpc.dll not able to link properly - which as I said, is called \"grpc.dll\" and has been fixed a while back.\r\n\r\nThe small error snippet you pasted has nothing to do with \"grpc.dll\" - which still builds properly evidently due to the Ruby artifacts building. Since you haven't sent the whole list of errors, I can't say without reasonable doubt that issue is now a completely different one than the original issue being discussed here, but I highly suspect it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/388113919",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-388113919",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 388113919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODExMzkxOQ==",
    "user": {
      "login": "coryan",
      "id": 6241635,
      "node_id": "MDQ6VXNlcjYyNDE2MzU=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/6241635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coryan",
      "html_url": "https://github.com/coryan",
      "followers_url": "https://api.github.com/users/coryan/followers",
      "following_url": "https://api.github.com/users/coryan/following{/other_user}",
      "gists_url": "https://api.github.com/users/coryan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coryan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coryan/subscriptions",
      "organizations_url": "https://api.github.com/users/coryan/orgs",
      "repos_url": "https://api.github.com/users/coryan/repos",
      "events_url": "https://api.github.com/users/coryan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coryan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-10T16:51:48Z",
    "updated_at": "2018-05-10T16:51:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks. I have created #15333 to discuss the specific issue of building with shared libraries for C++ on Windows.\r\n\r\n> Additionally, C++'s lack of ABI means that using \"grpc++.dll\" safely is impossible\r\n\r\nI am not sure what you mean by that.  Do you mean that gRPC does not have a stable ABI for C++?  Again, that would contradict your promises to use semantic versioning.  Or you mean this as the fact that C++ the language does not define an ABI?\r\n\r\n> Nonetheless, it means the core DLL builds properly.\r\n\r\nIf that is the case please consider closing this bug.\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/388114518",
    "html_url": "https://github.com/grpc/grpc/issues/11261#issuecomment-388114518",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11261",
    "id": 388114518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODExNDUxOA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-10T16:53:51Z",
    "updated_at": "2018-05-10T16:53:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "I mean that exposing C++ in a DLL is highly unadvisable. That's not just with gRPC, but with any project in general. Yes, this is tied to the language.\r\n\r\nLet's continue this discussion in #15333."
  }
]
