[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/270826347",
    "html_url": "https://github.com/grpc/grpc/pull/9246#issuecomment-270826347",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9246",
    "id": 270826347,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDgyNjM0Nw==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-06T04:01:52Z",
    "updated_at": "2017-01-06T04:01:52Z",
    "author_association": "MEMBER",
    "body": "I'd lean towards (3) here.\n\nOn Thu, Jan 5, 2017, 7:41 PM Muxi Yan <notifications@github.com> wrote:\n\n> *@muxi* commented on this pull request.\n> ------------------------------\n>\n> In test/core/end2end/tests/packet_coalescing.c\n> <https://github.com/grpc/grpc/pull/9246>:\n>\n> > +  grpc_channel_destroy(f->client);\n> +  f->client = NULL;\n> +}\n> +\n> +static void end_test(grpc_end2end_test_fixture *f) {\n> +  shutdown_server(f);\n> +  shutdown_client(f);\n> +\n> +  grpc_completion_queue_shutdown(f->cq);\n> +  drain_cq(f->cq);\n> +  grpc_completion_queue_destroy(f->cq);\n> +}\n> +\n> +static bool coalesced_message_and_eos;\n> +\n> +static void log_processor(gpr_log_func_args *args) {\n>\n> A problem is that the test will be used (actually mainly be used) for\n> Cronet, and the endpoint of Cronet is inside the Cronet library which\n> cannot be overriden.\n>\n> FWIW, following your suggestion I am thinking of either of the following\n> ways:\n>\n>    1. Create a server like what e2e test does and override the reading\n>    endpoint of the server\n>    2. Override entire Cronet layer (requires making two different test\n>    case drivers for Cronet and chttp2)\n>    3. Make the test for Cronet only. chttp2 and Cronet behavior will be\n>    potentially different.\n>    Do you think any of them reasonable?\n>\n> —\n> You are receiving this because you were mentioned.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/pull/9246>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AJpudbE3XSKsej1EAuRCreV7v0Zccw_aks5rPbfbgaJpZM4LbUoo>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/271050276",
    "html_url": "https://github.com/grpc/grpc/pull/9246#issuecomment-271050276",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9246",
    "id": 271050276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA1MDI3Ng==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-07T01:08:11Z",
    "updated_at": "2017-01-07T01:08:11Z",
    "author_association": "MEMBER",
    "body": "Or to write an independent server that verifies the properties you want?\nSomething akin to the http2 server Makarand has been putting together?\n\nOn Fri, Jan 6, 2017, 4:58 PM Muxi Yan <notifications@github.com> wrote:\n\n> *@muxi* commented on this pull request.\n> ------------------------------\n>\n> In test/core/end2end/tests/packet_coalescing.c\n> <https://github.com/grpc/grpc/pull/9246>:\n>\n> > +  grpc_channel_destroy(f->client);\n> +  f->client = NULL;\n> +}\n> +\n> +static void end_test(grpc_end2end_test_fixture *f) {\n> +  shutdown_server(f);\n> +  shutdown_client(f);\n> +\n> +  grpc_completion_queue_shutdown(f->cq);\n> +  drain_cq(f->cq);\n> +  grpc_completion_queue_destroy(f->cq);\n> +}\n> +\n> +static bool coalesced_message_and_eos;\n> +\n> +static void log_processor(gpr_log_func_args *args) {\n>\n> Maybe another option is to add some testing code and counter in the core\n> and export them for testing?\n>\n> —\n> You are receiving this because you were mentioned.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/pull/9246>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AJpudX6jolKOG0uQOkcifX01B8qWvVm_ks5rPuNOgaJpZM4LbUoo>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/279475104",
    "html_url": "https://github.com/grpc/grpc/pull/9246#issuecomment-279475104",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9246",
    "id": 279475104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTQ3NTEwNA==",
    "user": {
      "login": "muxi",
      "id": 1054404,
      "node_id": "MDQ6VXNlcjEwNTQ0MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1054404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muxi",
      "html_url": "https://github.com/muxi",
      "followers_url": "https://api.github.com/users/muxi/followers",
      "following_url": "https://api.github.com/users/muxi/following{/other_user}",
      "gists_url": "https://api.github.com/users/muxi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muxi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muxi/subscriptions",
      "organizations_url": "https://api.github.com/users/muxi/orgs",
      "repos_url": "https://api.github.com/users/muxi/repos",
      "events_url": "https://api.github.com/users/muxi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muxi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-13T18:16:01Z",
    "updated_at": "2017-02-13T18:16:01Z",
    "author_association": "MEMBER",
    "body": "Ping @ctiller for changes in 0a2fae9 where \r\n1. Creation of cronet transport is moved to `cronet_transport.c` as we talked about, and\r\n2. enabling/disabling of packet coalescing feature is done by channel args"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/279501471",
    "html_url": "https://github.com/grpc/grpc/pull/9246#issuecomment-279501471",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9246",
    "id": 279501471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTUwMTQ3MQ==",
    "user": {
      "login": "muxi",
      "id": 1054404,
      "node_id": "MDQ6VXNlcjEwNTQ0MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1054404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muxi",
      "html_url": "https://github.com/muxi",
      "followers_url": "https://api.github.com/users/muxi/followers",
      "following_url": "https://api.github.com/users/muxi/following{/other_user}",
      "gists_url": "https://api.github.com/users/muxi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muxi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muxi/subscriptions",
      "organizations_url": "https://api.github.com/users/muxi/orgs",
      "repos_url": "https://api.github.com/users/muxi/repos",
      "events_url": "https://api.github.com/users/muxi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muxi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-13T19:47:30Z",
    "updated_at": "2017-02-13T19:47:30Z",
    "author_association": "MEMBER",
    "body": "Test this please"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/279918721",
    "html_url": "https://github.com/grpc/grpc/pull/9246#issuecomment-279918721",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9246",
    "id": 279918721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTkxODcyMQ==",
    "user": {
      "login": "muxi",
      "id": 1054404,
      "node_id": "MDQ6VXNlcjEwNTQ0MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1054404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muxi",
      "html_url": "https://github.com/muxi",
      "followers_url": "https://api.github.com/users/muxi/followers",
      "following_url": "https://api.github.com/users/muxi/following{/other_user}",
      "gists_url": "https://api.github.com/users/muxi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muxi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muxi/subscriptions",
      "organizations_url": "https://api.github.com/users/muxi/orgs",
      "repos_url": "https://api.github.com/users/muxi/repos",
      "events_url": "https://api.github.com/users/muxi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muxi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-15T05:11:19Z",
    "updated_at": "2017-02-15T05:11:19Z",
    "author_association": "MEMBER",
    "body": "Failed tests:\r\ngRPC_performance_pull_requests - #9668 "
  }
]
