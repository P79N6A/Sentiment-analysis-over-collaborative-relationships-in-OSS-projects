[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/272838572",
    "html_url": "https://github.com/grpc/grpc/issues/9223#issuecomment-272838572",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9223",
    "id": 272838572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjgzODU3Mg==",
    "user": {
      "login": "hir3npatel",
      "id": 2115257,
      "node_id": "MDQ6VXNlcjIxMTUyNTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2115257?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hir3npatel",
      "html_url": "https://github.com/hir3npatel",
      "followers_url": "https://api.github.com/users/hir3npatel/followers",
      "following_url": "https://api.github.com/users/hir3npatel/following{/other_user}",
      "gists_url": "https://api.github.com/users/hir3npatel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hir3npatel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hir3npatel/subscriptions",
      "organizations_url": "https://api.github.com/users/hir3npatel/orgs",
      "repos_url": "https://api.github.com/users/hir3npatel/repos",
      "events_url": "https://api.github.com/users/hir3npatel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hir3npatel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-16T11:35:45Z",
    "updated_at": "2017-01-16T11:35:45Z",
    "author_association": "NONE",
    "body": "This WSGI config for apache seems to get around the issue:\r\n\r\nWSGIApplicationGroup %{GLOBAL}\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/273297186",
    "html_url": "https://github.com/grpc/grpc/issues/9223#issuecomment-273297186",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9223",
    "id": 273297186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzI5NzE4Ng==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-17T20:57:35Z",
    "updated_at": "2017-01-17T20:57:35Z",
    "author_association": "MEMBER",
    "body": "Are you able to share with us sample code that reproduces the issue?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280211867",
    "html_url": "https://github.com/grpc/grpc/issues/9223#issuecomment-280211867",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9223",
    "id": 280211867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDIxMTg2Nw==",
    "user": {
      "login": "speedplane",
      "id": 671052,
      "node_id": "MDQ6VXNlcjY3MTA1Mg==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/671052?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/speedplane",
      "html_url": "https://github.com/speedplane",
      "followers_url": "https://api.github.com/users/speedplane/followers",
      "following_url": "https://api.github.com/users/speedplane/following{/other_user}",
      "gists_url": "https://api.github.com/users/speedplane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/speedplane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/speedplane/subscriptions",
      "organizations_url": "https://api.github.com/users/speedplane/orgs",
      "repos_url": "https://api.github.com/users/speedplane/repos",
      "events_url": "https://api.github.com/users/speedplane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/speedplane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T02:31:19Z",
    "updated_at": "2017-02-16T02:31:19Z",
    "author_association": "NONE",
    "body": "I'm using the same setup (apache2, mod_wsgi, django, pip install google-cloud, datastore library). Got the same error:\r\n\r\n```\r\n>tail -f /var/log/apache2/error.log\r\n[Thu Feb 16 02:27:00.951292 2017] [core:notice] [pid 2045:tid 140530328823680] AH00052: child pid 2048 exit signal Aborted (6)\r\n[Thu Feb 16 02:27:00.951349 2017] [core:notice] [pid 2045:tid 140530328823680] AH00052: child pid 2049 exit signal Aborted (6)\r\n[Wed Feb 15 20:27:02.359045 2017] [:error] [pid 2106:tid 140530200073984] Exception IOError: 'file() constructor not accessible in restricted mode' in 'grpc._cython.cygrpc.ssl_roots_override_callback' ignored\r\nE0215 20:27:02.359092916    2112 security_connector.c:621]   assertion failed: pem_root_certs != NULL\r\n[Thu Feb 16 02:27:02.957575 2017] [core:notice] [pid 2045:tid 140530328823680] AH00052: child pid 2106 exit signal Aborted (6)\r\n[Wed Feb 15 20:27:07.786208 2017] [:error] [pid 2143:tid 140530113570560] Exception IOError: 'file() constructor not accessible in restricted mode' in 'grpc._cython.cygrpc.ssl_roots_override_callback' ignored\r\nE0215 20:27:07.786246016    2178 security_connector.c:621]   assertion failed: pem_root_certs != NULL\r\n[Thu Feb 16 02:27:07.965492 2017] [core:notice] [pid 2045:tid 140530328823680] AH00052: child pid 2143 exit signal Aborted (6)\r\n[Wed Feb 15 20:27:08.164238 2017] [:error] [pid 2142:tid 140530200073984] Exception IOError: 'file() constructor not accessible in restricted mode' in 'grpc._cython.cygrpc.ssl_roots_override_callback' ignored\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280247052",
    "html_url": "https://github.com/grpc/grpc/issues/9223#issuecomment-280247052",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9223",
    "id": 280247052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDI0NzA1Mg==",
    "user": {
      "login": "hir3npatel",
      "id": 2115257,
      "node_id": "MDQ6VXNlcjIxMTUyNTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2115257?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hir3npatel",
      "html_url": "https://github.com/hir3npatel",
      "followers_url": "https://api.github.com/users/hir3npatel/followers",
      "following_url": "https://api.github.com/users/hir3npatel/following{/other_user}",
      "gists_url": "https://api.github.com/users/hir3npatel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hir3npatel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hir3npatel/subscriptions",
      "organizations_url": "https://api.github.com/users/hir3npatel/orgs",
      "repos_url": "https://api.github.com/users/hir3npatel/repos",
      "events_url": "https://api.github.com/users/hir3npatel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hir3npatel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T06:53:08Z",
    "updated_at": "2017-02-16T06:53:08Z",
    "author_association": "NONE",
    "body": "Hi @nathanielmanistaatgoogle I don't think code samples matter, it isn't stack tracing at any specific line in the app code, it looks like it fails on library init, somewhere in the library that tries to do auto auth of system creds on GCP. Locally when I use the datastore emulator with no auth, I have no such issues, the library init's fine locally. As per my first post, the error seems to be that the auth code of the library is using file() constructor which isn't allowed in python restricted mode, which mod_wsgi seems to default to. Using the setting in my second post seems to disable python restricted mode, and then the library init works again."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/283550704",
    "html_url": "https://github.com/grpc/grpc/issues/9223#issuecomment-283550704",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9223",
    "id": 283550704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzU1MDcwNA==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-02T04:07:48Z",
    "updated_at": "2017-03-02T04:07:48Z",
    "author_association": "MEMBER",
    "body": "I'm not sure that there's anything we can do here - we don't use `file` in our code (we use `pkg_resources`, which may use `file` or may use something else that may use `file` or...).\r\n\r\nDoes restricted mode have a supported story for how Python code is supposed to load data assets from its own package?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/283575032",
    "html_url": "https://github.com/grpc/grpc/issues/9223#issuecomment-283575032",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9223",
    "id": 283575032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzU3NTAzMg==",
    "user": {
      "login": "hir3npatel",
      "id": 2115257,
      "node_id": "MDQ6VXNlcjIxMTUyNTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2115257?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hir3npatel",
      "html_url": "https://github.com/hir3npatel",
      "followers_url": "https://api.github.com/users/hir3npatel/followers",
      "following_url": "https://api.github.com/users/hir3npatel/following{/other_user}",
      "gists_url": "https://api.github.com/users/hir3npatel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hir3npatel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hir3npatel/subscriptions",
      "organizations_url": "https://api.github.com/users/hir3npatel/orgs",
      "repos_url": "https://api.github.com/users/hir3npatel/repos",
      "events_url": "https://api.github.com/users/hir3npatel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hir3npatel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-02T07:11:52Z",
    "updated_at": "2017-03-02T07:11:52Z",
    "author_association": "NONE",
    "body": "Yeah I agree, file is deprecated in python 3, it's just an issue with python 2. Given that the workaround works, you could perhaps just document it and close this issue. I guess this won't be relevant with python 3 going forward anyway. googling suggests that file should be replaced with open, but if it's not in your code I don't expect you to go hunt it down and fix it. Thanks though!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/412054216",
    "html_url": "https://github.com/grpc/grpc/issues/9223#issuecomment-412054216",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9223",
    "id": 412054216,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjA1NDIxNg==",
    "user": {
      "login": "nsiebor",
      "id": 20162739,
      "node_id": "MDQ6VXNlcjIwMTYyNzM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/20162739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nsiebor",
      "html_url": "https://github.com/nsiebor",
      "followers_url": "https://api.github.com/users/nsiebor/followers",
      "following_url": "https://api.github.com/users/nsiebor/following{/other_user}",
      "gists_url": "https://api.github.com/users/nsiebor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nsiebor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nsiebor/subscriptions",
      "organizations_url": "https://api.github.com/users/nsiebor/orgs",
      "repos_url": "https://api.github.com/users/nsiebor/repos",
      "events_url": "https://api.github.com/users/nsiebor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nsiebor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T11:20:26Z",
    "updated_at": "2018-08-10T11:20:26Z",
    "author_association": "NONE",
    "body": "I found the reason of this issue - it's missing grpc certificate. After I copied file grpc/_cython/_credentials/roots.pem to root  where I'm running app (with the same relative path) it started working."
  }
]
