[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/321003616",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-321003616",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 321003616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTAwMzYxNg==",
    "user": {
      "login": "damleak",
      "id": 4611844,
      "node_id": "MDQ6VXNlcjQ2MTE4NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4611844?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/damleak",
      "html_url": "https://github.com/damleak",
      "followers_url": "https://api.github.com/users/damleak/followers",
      "following_url": "https://api.github.com/users/damleak/following{/other_user}",
      "gists_url": "https://api.github.com/users/damleak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/damleak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/damleak/subscriptions",
      "organizations_url": "https://api.github.com/users/damleak/orgs",
      "repos_url": "https://api.github.com/users/damleak/repos",
      "events_url": "https://api.github.com/users/damleak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/damleak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-08T16:07:42Z",
    "updated_at": "2017-08-08T16:07:42Z",
    "author_association": "NONE",
    "body": "Is anybody able to reproduce this case? The authentication is failing randomly because of this issue. I wrote the reproducible case to help developers of gRPC and hoping to get faster response. It is actually happening in a real world product under development. Without any help from the developer community for such issues it is difficult for me trust quality of gRPC library.\r\n\r\nThought I can help myself and tried to debug it. But, found out that it is not that easy to attach debugger and dive into core or generated code of the library."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350844448",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-350844448",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 350844448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDg0NDQ0OA==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T20:14:30Z",
    "updated_at": "2017-12-11T20:14:30Z",
    "author_association": "NONE",
    "body": "Hey @damleak I'm afraid this issue slipped through the cracks. Is it still happening?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350897327",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-350897327",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 350897327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDg5NzMyNw==",
    "user": {
      "login": "damleak",
      "id": 4611844,
      "node_id": "MDQ6VXNlcjQ2MTE4NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4611844?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/damleak",
      "html_url": "https://github.com/damleak",
      "followers_url": "https://api.github.com/users/damleak/followers",
      "following_url": "https://api.github.com/users/damleak/following{/other_user}",
      "gists_url": "https://api.github.com/users/damleak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/damleak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/damleak/subscriptions",
      "organizations_url": "https://api.github.com/users/damleak/orgs",
      "repos_url": "https://api.github.com/users/damleak/repos",
      "events_url": "https://api.github.com/users/damleak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/damleak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T23:51:39Z",
    "updated_at": "2017-12-11T23:51:39Z",
    "author_association": "NONE",
    "body": "Yes it does happen."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350897692",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-350897692",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 350897692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDg5NzY5Mg==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T23:53:28Z",
    "updated_at": "2017-12-11T23:53:28Z",
    "author_association": "NONE",
    "body": "@damleak sorry, I should have qualified my previous question... is it happening in a recent (eg, 1.7.x) version?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350900597",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-350900597",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 350900597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDkwMDU5Nw==",
    "user": {
      "login": "damleak",
      "id": 4611844,
      "node_id": "MDQ6VXNlcjQ2MTE4NDQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4611844?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/damleak",
      "html_url": "https://github.com/damleak",
      "followers_url": "https://api.github.com/users/damleak/followers",
      "following_url": "https://api.github.com/users/damleak/following{/other_user}",
      "gists_url": "https://api.github.com/users/damleak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/damleak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/damleak/subscriptions",
      "organizations_url": "https://api.github.com/users/damleak/orgs",
      "repos_url": "https://api.github.com/users/damleak/repos",
      "events_url": "https://api.github.com/users/damleak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/damleak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-12T00:09:10Z",
    "updated_at": "2017-12-12T00:09:10Z",
    "author_association": "NONE",
    "body": "I had tested it on versions 1.0 to 1.4 at that time. Not in the recent version. I will try it with new version but, may not be able to do it soon. I think it has something to do with conversion of `grpc::string_ref` prsent in `grpc::AuthMetadataProcessor::InputMetadata` to `grpc::string`."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/354922363",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-354922363",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 354922363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDkyMjM2Mw==",
    "user": {
      "login": "larsonmpdx",
      "id": 12436438,
      "node_id": "MDQ6VXNlcjEyNDM2NDM4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/12436438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larsonmpdx",
      "html_url": "https://github.com/larsonmpdx",
      "followers_url": "https://api.github.com/users/larsonmpdx/followers",
      "following_url": "https://api.github.com/users/larsonmpdx/following{/other_user}",
      "gists_url": "https://api.github.com/users/larsonmpdx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larsonmpdx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larsonmpdx/subscriptions",
      "organizations_url": "https://api.github.com/users/larsonmpdx/orgs",
      "repos_url": "https://api.github.com/users/larsonmpdx/repos",
      "events_url": "https://api.github.com/users/larsonmpdx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larsonmpdx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-03T01:53:59Z",
    "updated_at": "2018-01-03T01:53:59Z",
    "author_association": "NONE",
    "body": "I had this happen when upgrading from 1.1.x to 1.8.x\r\n\r\nsame problem, my string_ref looks good but the converted string has the same extra stuff"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/356044547",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-356044547",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 356044547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjA0NDU0Nw==",
    "user": {
      "login": "larsonmpdx",
      "id": 12436438,
      "node_id": "MDQ6VXNlcjEyNDM2NDM4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/12436438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larsonmpdx",
      "html_url": "https://github.com/larsonmpdx",
      "followers_url": "https://api.github.com/users/larsonmpdx/followers",
      "following_url": "https://api.github.com/users/larsonmpdx/following{/other_user}",
      "gists_url": "https://api.github.com/users/larsonmpdx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larsonmpdx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larsonmpdx/subscriptions",
      "organizations_url": "https://api.github.com/users/larsonmpdx/orgs",
      "repos_url": "https://api.github.com/users/larsonmpdx/repos",
      "events_url": "https://api.github.com/users/larsonmpdx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larsonmpdx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T18:02:02Z",
    "updated_at": "2018-01-08T18:02:02Z",
    "author_association": "NONE",
    "body": "changing from getting a string by calling string_ref.data() to constructing it like string(string_ref.begin(), string_ref.end()) is a workaround.  a data() call returns const char* and then the string constructor will run to the next null char, something must have changed to make it run too long\r\n\r\nsee https://github.com/grpc/grpc/blob/master/include/grpc++/impl/codegen/string_ref.h"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/356070558",
    "html_url": "https://github.com/grpc/grpc/issues/12045#issuecomment-356070558",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12045",
    "id": 356070558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjA3MDU1OA==",
    "user": {
      "login": "yang-g",
      "id": 10122250,
      "node_id": "MDQ6VXNlcjEwMTIyMjUw",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10122250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yang-g",
      "html_url": "https://github.com/yang-g",
      "followers_url": "https://api.github.com/users/yang-g/followers",
      "following_url": "https://api.github.com/users/yang-g/following{/other_user}",
      "gists_url": "https://api.github.com/users/yang-g/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yang-g/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yang-g/subscriptions",
      "organizations_url": "https://api.github.com/users/yang-g/orgs",
      "repos_url": "https://api.github.com/users/yang-g/repos",
      "events_url": "https://api.github.com/users/yang-g/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yang-g/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-08T19:29:45Z",
    "updated_at": "2018-01-08T19:29:45Z",
    "author_association": "MEMBER",
    "body": "I think this is working as intended.\r\n\r\nA string_ref does not own the string and may not be null terminated. What @larsonmpdx said is correct. In your example code, you will need to change the server side code line 71, 80, 82 to fix that.\r\n\r\nI think it worked for some time with very old grpc versions as back then the metadata were null-terminated by default."
  }
]
