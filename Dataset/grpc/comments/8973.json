[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/265316617",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-265316617",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 265316617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTMxNjYxNw==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-07T00:20:21Z",
    "updated_at": "2016-12-07T00:20:21Z",
    "author_association": "MEMBER",
    "body": "I'm curious too. Are you able to share what code you have that reproduces this problem?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/265328310",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-265328310",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 265328310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTMyODMxMA==",
    "user": {
      "login": "sc-syf",
      "id": 7570566,
      "node_id": "MDQ6VXNlcjc1NzA1NjY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7570566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sc-syf",
      "html_url": "https://github.com/sc-syf",
      "followers_url": "https://api.github.com/users/sc-syf/followers",
      "following_url": "https://api.github.com/users/sc-syf/following{/other_user}",
      "gists_url": "https://api.github.com/users/sc-syf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sc-syf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sc-syf/subscriptions",
      "organizations_url": "https://api.github.com/users/sc-syf/orgs",
      "repos_url": "https://api.github.com/users/sc-syf/repos",
      "events_url": "https://api.github.com/users/sc-syf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sc-syf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-07T01:28:47Z",
    "updated_at": "2016-12-07T01:29:28Z",
    "author_association": "NONE",
    "body": "It's just some normal code.\r\n\r\nthe client snippet:\r\nclient.py\r\n```\r\nclass EventClient:                                                               \r\n    def __init__(self, host=''10.10.10.5', port=6000):                   \r\n        \"\"\"                                                                      \r\n        init connection.                                                                     \r\n        \"\"\"                                                                      \r\n        conn_str = '{}:{}'.format(host, port)                                    \r\n        self.channel = grpc.insecure_channel(conn_str)                           \r\n        self.stub = event_pb2.EventHandlerStub(self.channel)                     \r\n                                                                                 \r\n    def get_event(self, event_id):                                        \r\n        event_resp = self.stub.get_event(event_pb2.EventRequest(event_id=event_id))\r\n        return event_resp\r\n\r\n```\r\n\r\n\r\nthe server side snippet:\r\nserver.py\r\n```\r\nfrom .imp_event import Event\r\nfrom tornado.options import define, options\r\n                                                                                                                                                    \r\ndefine(type=int, default=30404, name=\"port\")\r\n\r\nclass EventHandler(event_pb2.EventHandlerServicer):                              \r\n    __metaclass__ = DecoMeta                                                                                  \r\n                                                                                 \r\n    def get_event(self, request, context):                                    \r\n        '''                                                                      \r\n        format all of event info.\r\n        '''                                                                      \r\n        self.imp_handler = Event()                                                   \r\n        return self.imp_handler.get_event(request.event_id)\r\n\r\ndef serve():                                                                  \r\n    server = grpc.server(futures.ThreadPoolExecutor(max_workers=10))          \r\n                                                                              \r\n    event_pb2.add_EventHandlerServicer_to_server(EventHandler(), server) \r\n                                                                              \r\n    options.parse_command_line()                                              \r\n    server.add_insecure_port('[::]:{}'.format(options.port))                  \r\n    server.start()                                                            \r\n    try:                                                                      \r\n      while True:                                                             \r\n        time.sleep(186400)                                                    \r\n    except KeyboardInterrupt:                                                 \r\n      server.stop(0)                                                          \r\n                                                                              \r\nserve()\r\n```\r\n\r\nimplement class: imp_event.py:\r\n```\r\nclass Event:\r\n    def __init__(self):\r\n        pass\r\n\r\n    def get_event(event_id):\r\n    '''\r\n    implement details, get event info.\r\n    '''\r\n        response = event_pb2.EventResponse()\r\n        # do something right here.\r\n        return response\r\n```\r\n\r\n\r\nput the client.py and event_pb2.py to client side.\r\n\r\nthe client side invoke snippet is:\r\nviews.py\r\n```\r\nfrom .client import EventClient\r\n\r\nec = EventClient()\r\n\r\n\r\ndef detail(request):\r\n     # Here is the very invocation. while invoke this method twice, it will cause that exception.\r\n     ec.get_event(requet.GET.get('event_id', 1))\r\n```\r\n\r\nsome code is not posted cause it is not important.\r\n\r\n@nathanielmanistaatgoogle  thanks.\r\n\r\n\r\n\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/265342449",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-265342449",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 265342449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTM0MjQ0OQ==",
    "user": {
      "login": "tatsuhiro-t",
      "id": 404610,
      "node_id": "MDQ6VXNlcjQwNDYxMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/404610?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tatsuhiro-t",
      "html_url": "https://github.com/tatsuhiro-t",
      "followers_url": "https://api.github.com/users/tatsuhiro-t/followers",
      "following_url": "https://api.github.com/users/tatsuhiro-t/following{/other_user}",
      "gists_url": "https://api.github.com/users/tatsuhiro-t/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tatsuhiro-t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tatsuhiro-t/subscriptions",
      "organizations_url": "https://api.github.com/users/tatsuhiro-t/orgs",
      "repos_url": "https://api.github.com/users/tatsuhiro-t/repos",
      "events_url": "https://api.github.com/users/tatsuhiro-t/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tatsuhiro-t/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-07T03:03:34Z",
    "updated_at": "2016-12-07T03:03:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "As far as I know, \"http2-proxy=yes\" should not be used if nghttpx is used as a reverse proxy."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/265528194",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-265528194",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 265528194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTUyODE5NA==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-07T18:21:44Z",
    "updated_at": "2016-12-07T18:21:44Z",
    "author_association": "MEMBER",
    "body": "Is that as reduced as you are able to make the reproduction?\r\n\r\nAre you able to reproduce the problem without the proxy in the middle?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/265690861",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-265690861",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 265690861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTY5MDg2MQ==",
    "user": {
      "login": "sc-syf",
      "id": 7570566,
      "node_id": "MDQ6VXNlcjc1NzA1NjY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7570566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sc-syf",
      "html_url": "https://github.com/sc-syf",
      "followers_url": "https://api.github.com/users/sc-syf/followers",
      "following_url": "https://api.github.com/users/sc-syf/following{/other_user}",
      "gists_url": "https://api.github.com/users/sc-syf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sc-syf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sc-syf/subscriptions",
      "organizations_url": "https://api.github.com/users/sc-syf/orgs",
      "repos_url": "https://api.github.com/users/sc-syf/repos",
      "events_url": "https://api.github.com/users/sc-syf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sc-syf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-08T09:13:17Z",
    "updated_at": "2016-12-08T09:13:17Z",
    "author_association": "NONE",
    "body": "@tatsuhiro-t  oh , you are right, \"http2-proxy=yes\" should only be used while backend is HTTP proxy server.  just as [nghttpx docs](https://www.nghttp2.org/documentation/nghttpx-howto.html?highlight=proxy#http-2-proxy-mode) said.\r\n\r\n Howerver, after I removed that line from config file of nghttpx and tested it again, the problem still exsits."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/265693471",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-265693471",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 265693471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTY5MzQ3MQ==",
    "user": {
      "login": "sc-syf",
      "id": 7570566,
      "node_id": "MDQ6VXNlcjc1NzA1NjY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7570566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sc-syf",
      "html_url": "https://github.com/sc-syf",
      "followers_url": "https://api.github.com/users/sc-syf/followers",
      "following_url": "https://api.github.com/users/sc-syf/following{/other_user}",
      "gists_url": "https://api.github.com/users/sc-syf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sc-syf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sc-syf/subscriptions",
      "organizations_url": "https://api.github.com/users/sc-syf/orgs",
      "repos_url": "https://api.github.com/users/sc-syf/repos",
      "events_url": "https://api.github.com/users/sc-syf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sc-syf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-08T09:25:49Z",
    "updated_at": "2016-12-08T09:25:49Z",
    "author_association": "NONE",
    "body": "@nathanielmanistaatgoogle That is the point! It won't print any exception if I connect the service without the proxy.\r\n\r\nI'm curious about the reason why the nghttpx proxy will cause that exception.\r\n\r\nIs it a bug? or, I didn't  use the nghttpx as a grpc proxy correctly?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/265702752",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-265702752",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 265702752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTcwMjc1Mg==",
    "user": {
      "login": "tatsuhiro-t",
      "id": 404610,
      "node_id": "MDQ6VXNlcjQwNDYxMA==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/404610?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tatsuhiro-t",
      "html_url": "https://github.com/tatsuhiro-t",
      "followers_url": "https://api.github.com/users/tatsuhiro-t/followers",
      "following_url": "https://api.github.com/users/tatsuhiro-t/following{/other_user}",
      "gists_url": "https://api.github.com/users/tatsuhiro-t/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tatsuhiro-t/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tatsuhiro-t/subscriptions",
      "organizations_url": "https://api.github.com/users/tatsuhiro-t/orgs",
      "repos_url": "https://api.github.com/users/tatsuhiro-t/repos",
      "events_url": "https://api.github.com/users/tatsuhiro-t/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tatsuhiro-t/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-08T10:09:06Z",
    "updated_at": "2016-12-08T10:09:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sc-syf Could you provide us INFO level log of nghttpx  (-LINFO option will do) and its version?\r\nAnd if this is purely nghttpx issue, it might be better to discuss it at https://github.com/nghttp2/nghttp2/issues\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/266191283",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-266191283",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 266191283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjE5MTI4Mw==",
    "user": {
      "login": "sc-syf",
      "id": 7570566,
      "node_id": "MDQ6VXNlcjc1NzA1NjY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7570566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sc-syf",
      "html_url": "https://github.com/sc-syf",
      "followers_url": "https://api.github.com/users/sc-syf/followers",
      "following_url": "https://api.github.com/users/sc-syf/following{/other_user}",
      "gists_url": "https://api.github.com/users/sc-syf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sc-syf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sc-syf/subscriptions",
      "organizations_url": "https://api.github.com/users/sc-syf/orgs",
      "repos_url": "https://api.github.com/users/sc-syf/repos",
      "events_url": "https://api.github.com/users/sc-syf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sc-syf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-10T09:07:25Z",
    "updated_at": "2016-12-10T09:07:25Z",
    "author_association": "NONE",
    "body": "@tatsuhiro-t   I didn't see any info while use INFO level of nghttpx. \r\nthe nghttpx version is nghttp2/1.17.0.\r\nand I asked it again at https://github.com/nghttp2/nghttp2/issues/739\r\nthanks."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/266423671",
    "html_url": "https://github.com/grpc/grpc/issues/8973#issuecomment-266423671",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8973",
    "id": 266423671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjQyMzY3MQ==",
    "user": {
      "login": "sc-syf",
      "id": 7570566,
      "node_id": "MDQ6VXNlcjc1NzA1NjY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7570566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sc-syf",
      "html_url": "https://github.com/sc-syf",
      "followers_url": "https://api.github.com/users/sc-syf/followers",
      "following_url": "https://api.github.com/users/sc-syf/following{/other_user}",
      "gists_url": "https://api.github.com/users/sc-syf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sc-syf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sc-syf/subscriptions",
      "organizations_url": "https://api.github.com/users/sc-syf/orgs",
      "repos_url": "https://api.github.com/users/sc-syf/repos",
      "events_url": "https://api.github.com/users/sc-syf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sc-syf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-12T12:51:10Z",
    "updated_at": "2016-12-12T12:51:10Z",
    "author_association": "NONE",
    "body": "as the discussion at https://github.com/nghttp2/nghttp2/issues/739 , there is no problem between nhgttpx and gRPC. I should not use a global gRPC connection which may cause problem after few minutes."
  }
]
