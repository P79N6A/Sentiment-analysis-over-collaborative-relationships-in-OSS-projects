[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280416234",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-280416234",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 280416234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQxNjIzNA==",
    "user": {
      "login": "vjpai",
      "id": 8864912,
      "node_id": "MDQ6VXNlcjg4NjQ5MTI=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/8864912?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vjpai",
      "html_url": "https://github.com/vjpai",
      "followers_url": "https://api.github.com/users/vjpai/followers",
      "following_url": "https://api.github.com/users/vjpai/following{/other_user}",
      "gists_url": "https://api.github.com/users/vjpai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vjpai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vjpai/subscriptions",
      "organizations_url": "https://api.github.com/users/vjpai/orgs",
      "repos_url": "https://api.github.com/users/vjpai/repos",
      "events_url": "https://api.github.com/users/vjpai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vjpai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T18:28:53Z",
    "updated_at": "2017-02-16T18:29:37Z",
    "author_association": "MEMBER",
    "body": "So the reason for this is that fixed-size thread pool without any rejection can deadlock (I documented a related problem in ruby in #8603 ). The thread count does indeed increase with load, though it will decrease again when load is relieved. Version 1.1 does things a little differently, though it also is not a fixed-size thread pool."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280563839",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-280563839",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 280563839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDU2MzgzOQ==",
    "user": {
      "login": "0x1997",
      "id": 380586,
      "node_id": "MDQ6VXNlcjM4MDU4Ng==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/380586?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x1997",
      "html_url": "https://github.com/0x1997",
      "followers_url": "https://api.github.com/users/0x1997/followers",
      "following_url": "https://api.github.com/users/0x1997/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x1997/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x1997/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x1997/subscriptions",
      "organizations_url": "https://api.github.com/users/0x1997/orgs",
      "repos_url": "https://api.github.com/users/0x1997/repos",
      "events_url": "https://api.github.com/users/0x1997/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x1997/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T06:17:08Z",
    "updated_at": "2017-02-17T06:17:08Z",
    "author_association": "NONE",
    "body": "@vjpai I see, thanks. I think some simple way to apply backpressure downstream instead of creating more threads would be nice to have if users can make sure there are no cyclic dependencies between services. For example, a `max_threads` option can be added to [ThreadManager](https://github.com/grpc/grpc/blob/master/src/cpp/thread_manager/thread_manager.h) so it can stop creating new poller threads when `num_threads_` exceeds the limit? Will the completion queues continue to grow without bound?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/280566651",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-280566651",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 280566651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDU2NjY1MQ==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T06:35:03Z",
    "updated_at": "2017-02-17T06:35:03Z",
    "author_association": "MEMBER",
    "body": "The correct place for such an API going forward is in ResourceQuota. I've\nhad vague ideas around tracking thread stack size against the memory\nlimits: it opens up some interesting implementation options, especially for\nphased workloads.\n\nOn Thu, Feb 16, 2017, 10:17 PM Zhe Wang <notifications@github.com> wrote:\n\n> @vjpai <https://github.com/vjpai> I see, thanks. I think some simple way\n> to apply backpressure downstream instead of creating more threads would be\n> nice to have if users can make sure there are no cyclic dependencies\n> between services. For example, a max_threads option can be added to\n> ThreadManager\n> <https://github.com/grpc/grpc/blob/master/src/cpp/thread_manager/thread_manager.h>\n> so it can stop creating new poller threads when num_threads_ exceeds the\n> limit? Will the completion queues continue to grow without bound?\n>\n> â€”\n> You are receiving this because you were assigned.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/9716#issuecomment-280563839>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AJpudYcZBR8DBQIqw0tPBZyVrdShO-3Dks5rdTttgaJpZM4MBWEx>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/325656383",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-325656383",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 325656383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTY1NjM4Mw==",
    "user": {
      "login": "tjb1216",
      "id": 6902833,
      "node_id": "MDQ6VXNlcjY5MDI4MzM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6902833?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjb1216",
      "html_url": "https://github.com/tjb1216",
      "followers_url": "https://api.github.com/users/tjb1216/followers",
      "following_url": "https://api.github.com/users/tjb1216/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjb1216/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjb1216/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjb1216/subscriptions",
      "organizations_url": "https://api.github.com/users/tjb1216/orgs",
      "repos_url": "https://api.github.com/users/tjb1216/repos",
      "events_url": "https://api.github.com/users/tjb1216/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjb1216/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-29T13:01:47Z",
    "updated_at": "2017-08-29T13:01:47Z",
    "author_association": "NONE",
    "body": "I have tested on sync server, the number of threads rose sharply, could be more than 4000, it's horrible for a online server when each thread hold some instance."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/326024426",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-326024426",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 326024426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjAyNDQyNg==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-30T15:19:36Z",
    "updated_at": "2017-08-30T15:19:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "There was a bug in sync server that we recently fixed https://github.com/grpc/grpc/pull/12139 . With that fix, you shouldn't have seen 4000 threads. Can you please double check with the latest head ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/326166908",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-326166908",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 326166908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjE2NjkwOA==",
    "user": {
      "login": "tjb1216",
      "id": 6902833,
      "node_id": "MDQ6VXNlcjY5MDI4MzM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6902833?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjb1216",
      "html_url": "https://github.com/tjb1216",
      "followers_url": "https://api.github.com/users/tjb1216/followers",
      "following_url": "https://api.github.com/users/tjb1216/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjb1216/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjb1216/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjb1216/subscriptions",
      "organizations_url": "https://api.github.com/users/tjb1216/orgs",
      "repos_url": "https://api.github.com/users/tjb1216/repos",
      "events_url": "https://api.github.com/users/tjb1216/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjb1216/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-31T01:54:02Z",
    "updated_at": "2017-08-31T01:54:02Z",
    "author_association": "NONE",
    "body": "Yes, it's does, will it release at 1.6?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/326167254",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-326167254",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 326167254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjE2NzI1NA==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-31T01:56:28Z",
    "updated_at": "2017-08-31T01:56:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yep, the fix is in 1.6 release"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/326846264",
    "html_url": "https://github.com/grpc/grpc/issues/9716#issuecomment-326846264",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9716",
    "id": 326846264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjg0NjI2NA==",
    "user": {
      "login": "tjb1216",
      "id": 6902833,
      "node_id": "MDQ6VXNlcjY5MDI4MzM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/6902833?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjb1216",
      "html_url": "https://github.com/tjb1216",
      "followers_url": "https://api.github.com/users/tjb1216/followers",
      "following_url": "https://api.github.com/users/tjb1216/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjb1216/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjb1216/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjb1216/subscriptions",
      "organizations_url": "https://api.github.com/users/tjb1216/orgs",
      "repos_url": "https://api.github.com/users/tjb1216/repos",
      "events_url": "https://api.github.com/users/tjb1216/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjb1216/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-04T01:23:14Z",
    "updated_at": "2017-09-04T01:23:14Z",
    "author_association": "NONE",
    "body": "OK, Thanks!"
  }
]
