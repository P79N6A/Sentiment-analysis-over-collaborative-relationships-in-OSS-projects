[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/469508247",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-469508247",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 469508247,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTUwODI0Nw==",
    "user": {
      "login": "soheilhy",
      "id": 394885,
      "node_id": "MDQ6VXNlcjM5NDg4NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/394885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soheilhy",
      "html_url": "https://github.com/soheilhy",
      "followers_url": "https://api.github.com/users/soheilhy/followers",
      "following_url": "https://api.github.com/users/soheilhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/soheilhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soheilhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soheilhy/subscriptions",
      "organizations_url": "https://api.github.com/users/soheilhy/orgs",
      "repos_url": "https://api.github.com/users/soheilhy/repos",
      "events_url": "https://api.github.com/users/soheilhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soheilhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-05T02:19:32Z",
    "updated_at": "2019-03-05T02:19:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "All test failures are because of Node Issue #18245"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470203632",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470203632",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470203632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDIwMzYzMg==",
    "user": {
      "login": "yashykt",
      "id": 4181124,
      "node_id": "MDQ6VXNlcjQxODExMjQ=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4181124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yashykt",
      "html_url": "https://github.com/yashykt",
      "followers_url": "https://api.github.com/users/yashykt/followers",
      "following_url": "https://api.github.com/users/yashykt/following{/other_user}",
      "gists_url": "https://api.github.com/users/yashykt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yashykt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yashykt/subscriptions",
      "organizations_url": "https://api.github.com/users/yashykt/orgs",
      "repos_url": "https://api.github.com/users/yashykt/repos",
      "events_url": "https://api.github.com/users/yashykt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yashykt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T17:40:20Z",
    "updated_at": "2019-03-06T17:42:41Z",
    "author_association": "MEMBER",
    "body": "are the reasons for the improvement two fold -\r\n1) we weren't providing big enough buffers for reading in some cases. By using TCP_INQ when we come back again to read we avoid having to get POLLIN.\r\n2) we were getting a lot of partial reads for some reason, and with TCP_INQ we know for sure when we are getting those, so that we can avoid the path of getting POLLIN notification again to complete the read?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470205339",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470205339",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470205339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDIwNTMzOQ==",
    "user": {
      "login": "soheilhy",
      "id": 394885,
      "node_id": "MDQ6VXNlcjM5NDg4NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/394885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soheilhy",
      "html_url": "https://github.com/soheilhy",
      "followers_url": "https://api.github.com/users/soheilhy/followers",
      "following_url": "https://api.github.com/users/soheilhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/soheilhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soheilhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soheilhy/subscriptions",
      "organizations_url": "https://api.github.com/users/soheilhy/orgs",
      "repos_url": "https://api.github.com/users/soheilhy/repos",
      "events_url": "https://api.github.com/users/soheilhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soheilhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T17:45:05Z",
    "updated_at": "2019-03-06T17:45:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "The improvements are because of two main changes in behavior:\r\n1) With INQ, we delay read when `tcp->inq ==0`  is 0 in `tcp_continue_read`, so we save one spurious syscall, saving us a lot of cycles.\r\n2) If the user has provided a big enough buffer (say 1MB), but the previous `recvmsg()` have only partially fill that (say 256KB) we try to read more data up to 1MB if `tcp->inq > 0`. When we have non 0 inq on read, the data is almost always in cache and just processed in TCP backlog processing. So, reading it right away has a lot of benefits."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470209953",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470209953",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470209953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDIwOTk1Mw==",
    "user": {
      "login": "soheilhy",
      "id": 394885,
      "node_id": "MDQ6VXNlcjM5NDg4NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/394885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soheilhy",
      "html_url": "https://github.com/soheilhy",
      "followers_url": "https://api.github.com/users/soheilhy/followers",
      "following_url": "https://api.github.com/users/soheilhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/soheilhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soheilhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soheilhy/subscriptions",
      "organizations_url": "https://api.github.com/users/soheilhy/orgs",
      "repos_url": "https://api.github.com/users/soheilhy/repos",
      "events_url": "https://api.github.com/users/soheilhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soheilhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T17:57:41Z",
    "updated_at": "2019-03-06T17:57:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you @yashykt for the approval!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470375956",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470375956",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470375956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDM3NTk1Ng==",
    "user": {
      "login": "soheilhy",
      "id": 394885,
      "node_id": "MDQ6VXNlcjM5NDg4NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/394885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soheilhy",
      "html_url": "https://github.com/soheilhy",
      "followers_url": "https://api.github.com/users/soheilhy/followers",
      "following_url": "https://api.github.com/users/soheilhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/soheilhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soheilhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soheilhy/subscriptions",
      "organizations_url": "https://api.github.com/users/soheilhy/orgs",
      "repos_url": "https://api.github.com/users/soheilhy/repos",
      "events_url": "https://api.github.com/users/soheilhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soheilhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T04:00:38Z",
    "updated_at": "2019-03-07T04:00:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@markdroth, @AspirinSJL, @apolcyn sorry to bother you for this PR. For TCP_INQ, I introduced a new parameter in endpoint_read, and as a result I had to add minor modifications to files outside of TCP and H2. Please let me know if you have any concerns."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470579331",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470579331",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470579331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDU3OTMzMQ==",
    "user": {
      "login": "markdroth",
      "id": 18664614,
      "node_id": "MDQ6VXNlcjE4NjY0NjE0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18664614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markdroth",
      "html_url": "https://github.com/markdroth",
      "followers_url": "https://api.github.com/users/markdroth/followers",
      "following_url": "https://api.github.com/users/markdroth/following{/other_user}",
      "gists_url": "https://api.github.com/users/markdroth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markdroth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markdroth/subscriptions",
      "organizations_url": "https://api.github.com/users/markdroth/orgs",
      "repos_url": "https://api.github.com/users/markdroth/repos",
      "events_url": "https://api.github.com/users/markdroth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markdroth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T15:49:18Z",
    "updated_at": "2019-03-07T15:49:29Z",
    "author_association": "MEMBER",
    "body": "I would like input from @guantaol and @nicolasnoble with regard to the `grpc_endpoint_read()` API change.  In particular, I want to make sure that this is not going to cause problems for our plans to move to EventManager-based polling."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470587125",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470587125",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470587125,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDU4NzEyNQ==",
    "user": {
      "login": "soheilhy",
      "id": 394885,
      "node_id": "MDQ6VXNlcjM5NDg4NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/394885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soheilhy",
      "html_url": "https://github.com/soheilhy",
      "followers_url": "https://api.github.com/users/soheilhy/followers",
      "following_url": "https://api.github.com/users/soheilhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/soheilhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soheilhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soheilhy/subscriptions",
      "organizations_url": "https://api.github.com/users/soheilhy/orgs",
      "repos_url": "https://api.github.com/users/soheilhy/repos",
      "events_url": "https://api.github.com/users/soheilhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soheilhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T16:08:41Z",
    "updated_at": "2019-03-07T16:08:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sure, I will wait for @guantaol and @nicolasnoble. FWIW, I'm confident this works well with EM-based polling."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470733559",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470733559",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470733559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDczMzU1OQ==",
    "user": {
      "login": "soheilhy",
      "id": 394885,
      "node_id": "MDQ6VXNlcjM5NDg4NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/394885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soheilhy",
      "html_url": "https://github.com/soheilhy",
      "followers_url": "https://api.github.com/users/soheilhy/followers",
      "following_url": "https://api.github.com/users/soheilhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/soheilhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soheilhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soheilhy/subscriptions",
      "organizations_url": "https://api.github.com/users/soheilhy/orgs",
      "repos_url": "https://api.github.com/users/soheilhy/repos",
      "events_url": "https://api.github.com/users/soheilhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soheilhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-07T22:55:31Z",
    "updated_at": "2019-03-07T22:55:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you @guantaol  and @markdroth! I'll hold off merging because we need similar edits for internal stuff. I'll merge when that is also LGTMed so that I can cherry-pick this patch."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470800169",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470800169",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470800169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDgwMDE2OQ==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-08T04:23:21Z",
    "updated_at": "2019-03-08T04:23:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@markdroth you mean the introduction of the \"urgent\" parameter? That's not really a problem, no, as far as I see it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470802852",
    "html_url": "https://github.com/grpc/grpc/pull/18240#issuecomment-470802852",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18240",
    "id": 470802852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDgwMjg1Mg==",
    "user": {
      "login": "soheilhy",
      "id": 394885,
      "node_id": "MDQ6VXNlcjM5NDg4NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/394885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soheilhy",
      "html_url": "https://github.com/soheilhy",
      "followers_url": "https://api.github.com/users/soheilhy/followers",
      "following_url": "https://api.github.com/users/soheilhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/soheilhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soheilhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soheilhy/subscriptions",
      "organizations_url": "https://api.github.com/users/soheilhy/orgs",
      "repos_url": "https://api.github.com/users/soheilhy/repos",
      "events_url": "https://api.github.com/users/soheilhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soheilhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-08T04:41:51Z",
    "updated_at": "2019-03-08T04:41:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you @nicolasnoble for checking!"
  }
]
