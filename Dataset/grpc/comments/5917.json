[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/199965307",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-199965307",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 199965307,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5OTk2NTMwNw==",
    "user": {
      "login": "leifurhauks",
      "id": 5378335,
      "node_id": "MDQ6VXNlcjUzNzgzMzU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5378335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leifurhauks",
      "html_url": "https://github.com/leifurhauks",
      "followers_url": "https://api.github.com/users/leifurhauks/followers",
      "following_url": "https://api.github.com/users/leifurhauks/following{/other_user}",
      "gists_url": "https://api.github.com/users/leifurhauks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leifurhauks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leifurhauks/subscriptions",
      "organizations_url": "https://api.github.com/users/leifurhauks/orgs",
      "repos_url": "https://api.github.com/users/leifurhauks/repos",
      "events_url": "https://api.github.com/users/leifurhauks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leifurhauks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-22T19:03:44Z",
    "updated_at": "2016-03-22T19:03:44Z",
    "author_association": "NONE",
    "body": "re: #282\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/200066776",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-200066776",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 200066776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDA2Njc3Ng==",
    "user": {
      "login": "soltanmm",
      "id": 4889063,
      "node_id": "MDQ6VXNlcjQ4ODkwNjM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/4889063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm",
      "html_url": "https://github.com/soltanmm",
      "followers_url": "https://api.github.com/users/soltanmm/followers",
      "following_url": "https://api.github.com/users/soltanmm/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm/orgs",
      "repos_url": "https://api.github.com/users/soltanmm/repos",
      "events_url": "https://api.github.com/users/soltanmm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-22T22:47:22Z",
    "updated_at": "2016-03-22T22:47:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Anything that is a name needs to be ASCII or encoded as far as I'm aware, so that seems right.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/200079701",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-200079701",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 200079701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDA3OTcwMQ==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-22T23:35:49Z",
    "updated_at": "2016-03-22T23:35:49Z",
    "author_association": "MEMBER",
    "body": "You're right that method names need to be bytes when they are passed from Python to the C core and you're right that the C core passes method names as bytes to Python on the service side. However, the developer experience at the application level needs to be method names as \"native strings\" - so that means `bytes` in Python 2 and unicode (`str`) in Python 3. So at a point of our choosing between the two we need to be doing the detection and translation. I hope it's easy because I don't believe that we need to be accommodating - if an application passes us a `unicode` method name in Python 2 or a `bytes` method name in Python 3 then we can just raise a `TypeError`.\n\nHmm... _should_ we be at all accommodating? Would it be helpful of us if we were?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/200518867",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-200518867",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 200518867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDUxODg2Nw==",
    "user": {
      "login": "leifurhauks",
      "id": 5378335,
      "node_id": "MDQ6VXNlcjUzNzgzMzU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5378335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leifurhauks",
      "html_url": "https://github.com/leifurhauks",
      "followers_url": "https://api.github.com/users/leifurhauks/followers",
      "following_url": "https://api.github.com/users/leifurhauks/following{/other_user}",
      "gists_url": "https://api.github.com/users/leifurhauks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leifurhauks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leifurhauks/subscriptions",
      "organizations_url": "https://api.github.com/users/leifurhauks/orgs",
      "repos_url": "https://api.github.com/users/leifurhauks/repos",
      "events_url": "https://api.github.com/users/leifurhauks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leifurhauks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-23T19:57:46Z",
    "updated_at": "2016-03-23T19:57:46Z",
    "author_association": "NONE",
    "body": "I'm not sure I understand the question. I don't think the application developer would need to handle the method name strings directly, although they would be visible as the keys to `my_server_instance._implementations`, after getting a server instance from the generated server factory.\n\nIf I understand correctly, the only way an app developer would be able to pass the wrong type of string would be if they edited the generated pb2 file directly, changing the server factory.\n\nUsing the solution I experimented with, I was able to run the examples without modifying the concrete servicers (or any example code, beyond changing print statements to print functions).\n\nHowever I've just realized a problem with the way I did it -- the `_b` function in the pb2 file encodes python 3 strings as `latin1`, this is because it's used to wrap a string literal containing the binary serialized `.proto` file. But I think method names should be encoded as `utf8`, because method names in the `.proto` file should be protobuf strings: https://github.com/google/protobuf/blob/master/src/google/protobuf/descriptor.proto#L234\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/200579850",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-200579850",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 200579850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDU3OTg1MA==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-23T23:17:29Z",
    "updated_at": "2016-03-23T23:17:29Z",
    "author_association": "MEMBER",
    "body": "Everything you point out is correct. I think I got ahead of myself looking forward to a day in which stub objects support dynamic discovery of methods.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/200604491",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-200604491",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 200604491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDYwNDQ5MQ==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T01:13:35Z",
    "updated_at": "2016-03-24T01:13:35Z",
    "author_association": "MEMBER",
    "body": "Having thought about this some more: we have an explicit goal to keep the generated code as simple as possible, and doing string type conversion in generated code is something we explicitly want to avoid. So given that the surface of the generated code needs to work in terms of native strings, that means the surface of the non-generated code (`grpc.beta`, `grpc.framework`, and friends) needs to work in terms of native strings as well. Since the layers under the non-generated (static) runtime code need to work in terms of bytes, that means that the conversion should be done somewhere in the static runtime code.\n\nDoes that make sense?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/200848857",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-200848857",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 200848857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDg0ODg1Nw==",
    "user": {
      "login": "leifurhauks",
      "id": 5378335,
      "node_id": "MDQ6VXNlcjUzNzgzMzU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/5378335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leifurhauks",
      "html_url": "https://github.com/leifurhauks",
      "followers_url": "https://api.github.com/users/leifurhauks/followers",
      "following_url": "https://api.github.com/users/leifurhauks/following{/other_user}",
      "gists_url": "https://api.github.com/users/leifurhauks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leifurhauks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leifurhauks/subscriptions",
      "organizations_url": "https://api.github.com/users/leifurhauks/orgs",
      "repos_url": "https://api.github.com/users/leifurhauks/repos",
      "events_url": "https://api.github.com/users/leifurhauks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leifurhauks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T13:58:30Z",
    "updated_at": "2016-03-24T13:58:30Z",
    "author_association": "NONE",
    "body": "Yeah, I think that makes sense. Are you suggesting that the conversion should occur at the interface with the compiled extension, or somewhere in the layers above that?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/201013803",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-201013803",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 201013803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTAxMzgwMw==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-24T20:46:47Z",
    "updated_at": "2016-03-24T20:46:47Z",
    "author_association": "MEMBER",
    "body": "The conversion should occur probably just above the Cython layer.\n\nThe many, many layers above that were built with goals in mind that we've mostly abandoned and now serve more than anything else to slow the system down. They're going to be mostly excised as soon as can be managed.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/226523580",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-226523580",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 226523580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjUyMzU4MA==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-16T15:36:06Z",
    "updated_at": "2016-06-16T15:36:06Z",
    "author_association": "MEMBER",
    "body": "@kpayson64: please reassess in light of recent work?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/227210227",
    "html_url": "https://github.com/grpc/grpc/issues/5917#issuecomment-227210227",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5917",
    "id": 227210227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzIxMDIyNw==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-20T17:25:08Z",
    "updated_at": "2016-06-20T17:25:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "This was resolved by #6503.\n"
  }
]
