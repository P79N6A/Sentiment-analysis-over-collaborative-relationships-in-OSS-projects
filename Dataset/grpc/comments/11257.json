[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302898063",
    "html_url": "https://github.com/grpc/grpc/issues/11257#issuecomment-302898063",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11257",
    "id": 302898063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjg5ODA2Mw==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-20T20:51:33Z",
    "updated_at": "2017-05-20T20:51:33Z",
    "author_association": "MEMBER",
    "body": "What version of `grpcio` are you using? Please share with us your server code?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302901080",
    "html_url": "https://github.com/grpc/grpc/issues/11257#issuecomment-302901080",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11257",
    "id": 302901080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjkwMTA4MA==",
    "user": {
      "login": "Linerd",
      "id": 7685308,
      "node_id": "MDQ6VXNlcjc2ODUzMDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7685308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Linerd",
      "html_url": "https://github.com/Linerd",
      "followers_url": "https://api.github.com/users/Linerd/followers",
      "following_url": "https://api.github.com/users/Linerd/following{/other_user}",
      "gists_url": "https://api.github.com/users/Linerd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Linerd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Linerd/subscriptions",
      "organizations_url": "https://api.github.com/users/Linerd/orgs",
      "repos_url": "https://api.github.com/users/Linerd/repos",
      "events_url": "https://api.github.com/users/Linerd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Linerd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-20T21:55:01Z",
    "updated_at": "2017-05-20T21:55:01Z",
    "author_association": "NONE",
    "body": "1.3.0\r\n\r\nclass XXServicer(xx_service_pb2_grpc.xxServicer):\r\n\r\n    def __init__(self):\r\n        self.is_active = True\r\n\r\n    def GetCommand(self, request_iterator, context):\r\n        metadata = dict(context.invocation_metadata())\r\n        agentID = metadata['agentid']\r\n        print('agent %s connected' % agentID)\r\n        while self.is_active:\r\n            for resp in request_iterator:\r\n                print(resp)\r\n            [some code that send msgs to the client]\r\n            time.sleep(0.001)\r\n        print('GetCommand() is closing...')"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302973260",
    "html_url": "https://github.com/grpc/grpc/issues/11257#issuecomment-302973260",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11257",
    "id": 302973260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjk3MzI2MA==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T00:18:08Z",
    "updated_at": "2017-05-22T00:18:08Z",
    "author_association": "MEMBER",
    "body": "Where's the rest of your code? Where's the part that calls [`grpc.Server.start`](http://www.grpc.io/grpc/python/grpc.html#grpc.Server.start)?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302975917",
    "html_url": "https://github.com/grpc/grpc/issues/11257#issuecomment-302975917",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11257",
    "id": 302975917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjk3NTkxNw==",
    "user": {
      "login": "Linerd",
      "id": 7685308,
      "node_id": "MDQ6VXNlcjc2ODUzMDg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7685308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Linerd",
      "html_url": "https://github.com/Linerd",
      "followers_url": "https://api.github.com/users/Linerd/followers",
      "following_url": "https://api.github.com/users/Linerd/following{/other_user}",
      "gists_url": "https://api.github.com/users/Linerd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Linerd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Linerd/subscriptions",
      "organizations_url": "https://api.github.com/users/Linerd/orgs",
      "repos_url": "https://api.github.com/users/Linerd/repos",
      "events_url": "https://api.github.com/users/Linerd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Linerd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T00:59:33Z",
    "updated_at": "2017-05-22T00:59:33Z",
    "author_association": "NONE",
    "body": "server = grpc.server(futures.ThreadPoolExecutor(max_workers=10))\r\nxx_service_pb2_grpc.add_XXServicer_to_server(XXServicer(), server)\r\nserver.add_insecure_port('[::]:50050')\r\nserver.start()\r\nprint('Server started')\r\n\r\nIt's no different from the python example.\r\n\r\nI think it has something to do with this issue https://github.com/gevent/gevent/issues/786, because I was trying to start the server within a green thread. If I run the same code in a standalone python app, all work fine.\r\n\r\nI wonder if there is any workaround from GRPC side."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/302977349",
    "html_url": "https://github.com/grpc/grpc/issues/11257#issuecomment-302977349",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11257",
    "id": 302977349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjk3NzM0OQ==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T01:17:32Z",
    "updated_at": "2017-05-22T01:17:32Z",
    "author_association": "MEMBER",
    "body": "Closing as a duplicate of [issue 4629](https://github.com/grpc/grpc/issues/4629).\r\n\r\nYes, [gRPC Python is not yet compatible with `gevent`](https://github.com/gevent/gevent/issues/786#issuecomment-203988312). gRPC Python's current implementation uses [`threading.Thread`](https://docs.python.org/3/library/threading.html#threading.Thread)s to make calls that block for significant durations and will interfere with any other code that relies on threads not doing that."
  }
]
