[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/231648274",
    "html_url": "https://github.com/grpc/grpc/issues/7302#issuecomment-231648274",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/7302",
    "id": 231648274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTY0ODI3NA==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-11T05:57:32Z",
    "updated_at": "2016-07-11T05:57:32Z",
    "author_association": "MEMBER",
    "body": "It's a spurious message (my fault, fixed at head). Look deeper and the\nmessage tells you EOF: the connection was closed.\n\nOn Sun, Jul 10, 2016, 9:51 PM Jing notifications@github.com wrote:\n\n> Hi,\n> \n> I'm trying to connect a NodeJS client with a Python server under the\n> following Proto file and receiving errors with the NodeJS client and Python\n> server.\n> \n> The error message specifically is\n> E0711 02:41:19.813383112 14901 chttp2_transport.c:1810] close_transport:\n> {\"created\": \"@1468204879.813338761\", \"description\" : _\"Failed parsing\n> HTTP/2\"_ , \"file\" :\n> \"src/core/ext/transport/chttp2/transport/chttp2_transport.c\" ,\n> \"file_line\":1726, \"referenced_errors\":\n> [{\"created\":\"@1468204879.813336702\",\"description\":\"EOF\",\"file\":src/core/lib/iomgr/tcp_posix.c\",\"file_line\":233}]}\n> \n> The Python client and server work fine which lead me to think either the\n> grpc library for NodeJS isn't proto3 compliant or there's an error in my\n> .js code. Any help is really appreciated.\n> \n> syntax = 'proto3';\n> \n> package cnnclassify;\n> \n> message ImgClassRequest {\n>     string filename = 1;\n> }\n> \n> message ImgClassResponse {\n>     message ClassLikelihood {\n>         string class = 1;\n>         double prob = 2;\n>     }\n>     ClassLikelihood class_and_likelihood = 1;\n> }\n> \n> service ClassificationServer {\n>     rpc ClassifyImage (ImgClassRequest) returns (ImgClassResponse) {}\n> }\n> \n> The Python server\n> \n> import time\n> import sys\n> \n> sys.path.append('modules/python')\n> sys.path.append('modules/protobuf')\n> \n> import pyluawrapper\n> import cnn_class_pb2 as cnnclass\n> \n> _ONE_DAY_IN_SECONDS = 60 \\* 60 \\* 24\n> \n> class ClassServerHandler(cnnclass.BetaClassificationServerServicer):\n>     def **init**(self):\n>         self.model = pyluawrapper.LutorpyTorch()\n> \n> ```\n> def ClassifyImage(self, request, context):\n>     print(\"I received a request! %s\" % request.filename)\n> ```\n> \n> class ProtobufServer(object):\n>     def **init**(self, handler):\n>         self.server = cnnclass.beta_create_ClassificationServer_server(handler)\n>         self.server.add_insecure_port('[::]:8000')\n> \n> ```\n> def serve(self):\n>     self.server.start()\n>     try:\n>         while True:\n>             time.sleep(_ONE_DAY_IN_SECONDS)\n>     except KeyboardInterrupt:\n>         self.server.stop(0)\n> ```\n> \n> if **name** == \"**main**\":\n>     class_server = ProtobufServer(ClassServerHandler())\n>     class_server.serve()\n> \n> The NodeJS client\n> \n> 'use strict';\n> \n> const PROTO_PATH = __dirname + '/modules/protobuf/cnn_class.proto';\n> console.log(\"The PROTO_PATH is\", PROTO_PATH);\n> \n> var grpc = require('grpc');\n> var class_proto = grpc.load(PROTO_PATH).cnnclassify;\n> \n> function classify(filename) {\n> let client = new class_proto.ClassificationServer('SERVER_LOC:8000',\n> grpc.credentials.createInsecure());\n> let request_data = {\n> filename: filename\n> };\n> \n> client.classifyImage(request_data, function(err, response) {\n>     console.log(\"The server sent back\", response.class_and_likelihood);\n> });\n> \n> }\n> classify(\"Put an actual filename here\");\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/grpc/grpc/issues/7302, or mute the thread\n> https://github.com/notifications/unsubscribe/AJpudY1BIZOuimC_ngTZWjPMF0Py06p0ks5qUcvcgaJpZM4JJB51\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/231649293",
    "html_url": "https://github.com/grpc/grpc/issues/7302#issuecomment-231649293",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/7302",
    "id": 231649293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTY0OTI5Mw==",
    "user": {
      "login": "heliumsoule",
      "id": 4875671,
      "node_id": "MDQ6VXNlcjQ4NzU2NzE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/4875671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/heliumsoule",
      "html_url": "https://github.com/heliumsoule",
      "followers_url": "https://api.github.com/users/heliumsoule/followers",
      "following_url": "https://api.github.com/users/heliumsoule/following{/other_user}",
      "gists_url": "https://api.github.com/users/heliumsoule/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/heliumsoule/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/heliumsoule/subscriptions",
      "organizations_url": "https://api.github.com/users/heliumsoule/orgs",
      "repos_url": "https://api.github.com/users/heliumsoule/repos",
      "events_url": "https://api.github.com/users/heliumsoule/events{/privacy}",
      "received_events_url": "https://api.github.com/users/heliumsoule/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-11T06:06:18Z",
    "updated_at": "2016-07-11T06:06:18Z",
    "author_association": "NONE",
    "body": "Thanks for the quick response. Was it closed by the server on receiving the\nrequest? That would lead me to think the data serialization on the client\nwasn't done correctly. I suspect it may be that the node grpc module\ndoesn't handle proto3, but it should as the examples are written in it on\nthe grpc github repo.\n\nIf it was by the server on realizing that the return output of ClassiyImg\n(currently void) doesn't match the expected output, then that is fine. But\nI am unsure as to why the print statement didn't print.\n\nOn Monday, July 11, 2016, Craig Tiller notifications@github.com wrote:\n\n> It's a spurious message (my fault, fixed at head). Look deeper and the\n> message tells you EOF: the connection was closed.\n> \n> On Sun, Jul 10, 2016, 9:51 PM Jing <notifications@github.com\n> <javascript:_e(%7B%7D,'cvml','notifications@github.com');>> wrote:\n> \n> > Hi,\n> > \n> > I'm trying to connect a NodeJS client with a Python server under the\n> > following Proto file and receiving errors with the NodeJS client and\n> > Python\n> > server.\n> > \n> > The error message specifically is\n> > E0711 02:41:19.813383112 14901 chttp2_transport.c:1810] close_transport:\n> > {\"created\": \"@1468204879.813338761\", \"description\" : _\"Failed parsing\n> > HTTP/2\"_ , \"file\" :\n> > \"src/core/ext/transport/chttp2/transport/chttp2_transport.c\" ,\n> > \"file_line\":1726, \"referenced_errors\":\n> > \n> > [{\"created\":\"@1468204879.813336702\",\"description\":\"EOF\",\"file\":src/core/lib/iomgr/tcp_posix.c\",\"file_line\":233}]}\n> > \n> > The Python client and server work fine which lead me to think either the\n> > grpc library for NodeJS isn't proto3 compliant or there's an error in my\n> > .js code. Any help is really appreciated.\n> > \n> > syntax = 'proto3';\n> > \n> > package cnnclassify;\n> > \n> > message ImgClassRequest {\n> > string filename = 1;\n> > }\n> > \n> > message ImgClassResponse {\n> > message ClassLikelihood {\n> > string class = 1;\n> > double prob = 2;\n> > }\n> > ClassLikelihood class_and_likelihood = 1;\n> > }\n> > \n> > service ClassificationServer {\n> > rpc ClassifyImage (ImgClassRequest) returns (ImgClassResponse) {}\n> > }\n> > \n> > The Python server\n> > \n> > import time\n> > import sys\n> > \n> > sys.path.append('modules/python')\n> > sys.path.append('modules/protobuf')\n> > \n> > import pyluawrapper\n> > import cnn_class_pb2 as cnnclass\n> > \n> > _ONE_DAY_IN_SECONDS = 60 \\* 60 \\* 24\n> > \n> > class ClassServerHandler(cnnclass.BetaClassificationServerServicer):\n> > def **init**(self):\n> > self.model = pyluawrapper.LutorpyTorch()\n> > \n> > def ClassifyImage(self, request, context):\n> > print(\"I received a request! %s\" % request.filename)\n> > \n> > class ProtobufServer(object):\n> > def **init**(self, handler):\n> > self.server = cnnclass.beta_create_ClassificationServer_server(handler)\n> > self.server.add_insecure_port('[::]:8000')\n> > \n> > def serve(self):\n> > self.server.start()\n> > try:\n> > while True:\n> > time.sleep(_ONE_DAY_IN_SECONDS)\n> > except KeyboardInterrupt:\n> > self.server.stop(0)\n> > \n> > if **name** == \"**main**\":\n> > class_server = ProtobufServer(ClassServerHandler())\n> > class_server.serve()\n> > \n> > The NodeJS client\n> > \n> > 'use strict';\n> > \n> > const PROTO_PATH = __dirname + '/modules/protobuf/cnn_class.proto';\n> > console.log(\"The PROTO_PATH is\", PROTO_PATH);\n> > \n> > var grpc = require('grpc');\n> > var class_proto = grpc.load(PROTO_PATH).cnnclassify;\n> > \n> > function classify(filename) {\n> > let client = new class_proto.ClassificationServer('SERVER_LOC:8000',\n> > grpc.credentials.createInsecure());\n> > let request_data = {\n> > filename: filename\n> > };\n> > \n> > client.classifyImage(request_data, function(err, response) {\n> > console.log(\"The server sent back\", response.class_and_likelihood);\n> > });\n> > \n> > }\n> > classify(\"Put an actual filename here\");\n> > \n> > —\n> > You are receiving this because you are subscribed to this thread.\n> > Reply to this email directly, view it on GitHub\n> > https://github.com/grpc/grpc/issues/7302, or mute the thread\n> > <\n> > https://github.com/notifications/unsubscribe/AJpudY1BIZOuimC_ngTZWjPMF0Py06p0ks5qUcvcgaJpZM4JJB51\n> > \n> > .\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/grpc/grpc/issues/7302#issuecomment-231648274, or mute\n> the thread\n> https://github.com/notifications/unsubscribe/AEpll9di7y0YcPojLWVaEKVmzp5uNOd1ks5qUdtggaJpZM4JJB51\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/231889485",
    "html_url": "https://github.com/grpc/grpc/issues/7302#issuecomment-231889485",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/7302",
    "id": 231889485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTg4OTQ4NQ==",
    "user": {
      "login": "y-zeng",
      "id": 17460127,
      "node_id": "MDQ6VXNlcjE3NDYwMTI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/17460127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/y-zeng",
      "html_url": "https://github.com/y-zeng",
      "followers_url": "https://api.github.com/users/y-zeng/followers",
      "following_url": "https://api.github.com/users/y-zeng/following{/other_user}",
      "gists_url": "https://api.github.com/users/y-zeng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/y-zeng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/y-zeng/subscriptions",
      "organizations_url": "https://api.github.com/users/y-zeng/orgs",
      "repos_url": "https://api.github.com/users/y-zeng/repos",
      "events_url": "https://api.github.com/users/y-zeng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/y-zeng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-11T22:52:49Z",
    "updated_at": "2016-07-11T22:52:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "\"Failed parsing HTTP2\" was added to some error messages even when the error was not caused by the HTTP2 parsing failure. #7318 removes such unnecessary details.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/232494432",
    "html_url": "https://github.com/grpc/grpc/issues/7302#issuecomment-232494432",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/7302",
    "id": 232494432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjQ5NDQzMg==",
    "user": {
      "login": "y-zeng",
      "id": 17460127,
      "node_id": "MDQ6VXNlcjE3NDYwMTI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/17460127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/y-zeng",
      "html_url": "https://github.com/y-zeng",
      "followers_url": "https://api.github.com/users/y-zeng/followers",
      "following_url": "https://api.github.com/users/y-zeng/following{/other_user}",
      "gists_url": "https://api.github.com/users/y-zeng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/y-zeng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/y-zeng/subscriptions",
      "organizations_url": "https://api.github.com/users/y-zeng/orgs",
      "repos_url": "https://api.github.com/users/y-zeng/repos",
      "events_url": "https://api.github.com/users/y-zeng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/y-zeng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-13T21:37:09Z",
    "updated_at": "2016-07-13T21:37:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed in `v1.0.x` branch\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/234316951",
    "html_url": "https://github.com/grpc/grpc/issues/7302#issuecomment-234316951",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/7302",
    "id": 234316951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDMxNjk1MQ==",
    "user": {
      "login": "viccro",
      "id": 1922137,
      "node_id": "MDQ6VXNlcjE5MjIxMzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1922137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/viccro",
      "html_url": "https://github.com/viccro",
      "followers_url": "https://api.github.com/users/viccro/followers",
      "following_url": "https://api.github.com/users/viccro/following{/other_user}",
      "gists_url": "https://api.github.com/users/viccro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/viccro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/viccro/subscriptions",
      "organizations_url": "https://api.github.com/users/viccro/orgs",
      "repos_url": "https://api.github.com/users/viccro/repos",
      "events_url": "https://api.github.com/users/viccro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/viccro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-21T17:00:25Z",
    "updated_at": "2016-07-21T17:00:25Z",
    "author_association": "NONE",
    "body": "Hi guys,\n\nI'm trying to run the Hello World example on the grpc docs, and getting this same sort of error when I start the server (`python greeting_server.py`) run the client (`python greeting_client.py`):\n\n`E0721 12:03:37.914036000 123145306509312 chttp2_transport.c:1810] close_transport: {\"created\":\"@1469117017.913989000\",\"description\":\"Failed parsing HTTP/2\",\"file\":\"src/core/ext/transport/chttp2/transport/chttp2_transport.c\",\"file_line\":1726,\"referenced_errors\":[{\"created\":\"@1469117017.913981000\",\"description\":\"EOF\",\"file\":\"src/core/lib/iomgr/tcp_posix.c\",\"file_line\":233}]}`\n\non the server side, and on the client side:\n\n`Greeter client received: Hello, you!\nE0721 12:03:37.913974000 140735171469312 chttp2_transport.c:1810] close_transport: {\"created\":\"@1469117017.913944000\",\"description\":\"FD shutdown\",\"file\":\"src/core/lib/iomgr/ev_poll_posix.c\",\"file_line\":427}`\n\nI'm using the `v1.0.x` branch, and reran `make` and `make install`, but it still seems to be happening. Am I doing something dumb?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/234349584",
    "html_url": "https://github.com/grpc/grpc/issues/7302#issuecomment-234349584",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/7302",
    "id": 234349584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDM0OTU4NA==",
    "user": {
      "login": "y-zeng",
      "id": 17460127,
      "node_id": "MDQ6VXNlcjE3NDYwMTI3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/17460127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/y-zeng",
      "html_url": "https://github.com/y-zeng",
      "followers_url": "https://api.github.com/users/y-zeng/followers",
      "following_url": "https://api.github.com/users/y-zeng/following{/other_user}",
      "gists_url": "https://api.github.com/users/y-zeng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/y-zeng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/y-zeng/subscriptions",
      "organizations_url": "https://api.github.com/users/y-zeng/orgs",
      "repos_url": "https://api.github.com/users/y-zeng/repos",
      "events_url": "https://api.github.com/users/y-zeng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/y-zeng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-21T18:55:50Z",
    "updated_at": "2016-07-21T18:55:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @viccro, could you check if the branch you were using was at the head of `v1.0.x`?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/234362942",
    "html_url": "https://github.com/grpc/grpc/issues/7302#issuecomment-234362942",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/7302",
    "id": 234362942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDM2Mjk0Mg==",
    "user": {
      "login": "viccro",
      "id": 1922137,
      "node_id": "MDQ6VXNlcjE5MjIxMzc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1922137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/viccro",
      "html_url": "https://github.com/viccro",
      "followers_url": "https://api.github.com/users/viccro/followers",
      "following_url": "https://api.github.com/users/viccro/following{/other_user}",
      "gists_url": "https://api.github.com/users/viccro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/viccro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/viccro/subscriptions",
      "organizations_url": "https://api.github.com/users/viccro/orgs",
      "repos_url": "https://api.github.com/users/viccro/repos",
      "events_url": "https://api.github.com/users/viccro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/viccro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-21T19:47:10Z",
    "updated_at": "2016-07-21T19:47:10Z",
    "author_association": "NONE",
    "body": "Yes, I am.\n"
  }
]
