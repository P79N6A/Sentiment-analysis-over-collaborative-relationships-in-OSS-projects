[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/258431936",
    "html_url": "https://github.com/grpc/grpc/issues/8637#issuecomment-258431936",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8637",
    "id": 258431936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODQzMTkzNg==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-04T13:33:56Z",
    "updated_at": "2016-11-04T13:33:56Z",
    "author_association": "MEMBER",
    "body": "Do you have some example code that doesn't work?\n\nOn Fri, Nov 4, 2016, 6:18 AM Dustskyfield notifications@github.com wrote:\n\n> In grpc/impl/codegen/log.h, the struct gpr_log_func_args declaration like\n> below:\n> \n> typedef struct {\n>   const char *file;\n>   int line;\n>   gpr_log_severity severity;\n>   const char *message;\n> } gpr_log_func_args;\n> \n> typedef void (*gpr_log_func)(gpr_log_func_args *args);\n> \n> When users want to use a customized log function, they can't must include\n> file grpc/impl/codegen/log.h in theirs .h.\n> \n> The better way is using forward declaration in header file, and including\n> log.h in cpp file.\n> \n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/grpc/grpc/issues/8637, or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AJpudbVbsQ5ECDyLfIbQ_OLfplBYYbz-ks5q6zCngaJpZM4Kphps\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/258584543",
    "html_url": "https://github.com/grpc/grpc/issues/8637#issuecomment-258584543",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8637",
    "id": 258584543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODU4NDU0Mw==",
    "user": {
      "login": "Dustskyfield",
      "id": 23136431,
      "node_id": "MDQ6VXNlcjIzMTM2NDMx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/23136431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dustskyfield",
      "html_url": "https://github.com/Dustskyfield",
      "followers_url": "https://api.github.com/users/Dustskyfield/followers",
      "following_url": "https://api.github.com/users/Dustskyfield/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dustskyfield/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dustskyfield/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dustskyfield/subscriptions",
      "organizations_url": "https://api.github.com/users/Dustskyfield/orgs",
      "repos_url": "https://api.github.com/users/Dustskyfield/repos",
      "events_url": "https://api.github.com/users/Dustskyfield/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dustskyfield/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-05T02:08:19Z",
    "updated_at": "2016-11-05T02:08:19Z",
    "author_association": "NONE",
    "body": "for example, I have an implemented logger, I want logs of gRPC are printed into a some log file. \n\nso write codes as below:\nlogger.h\n\n```\n#include \"grpc/impl/codegen/log.h\"\nclass logger {\n    void logger_init();\n    void  WriteGRPCLog(gpr_log_func_args* args);\n}\n```\n\nlogger.cpp\n\n```\n#include \"logger.h\"\nvoid logger::logger_init()\n{\n    gpr_set_log_function(WriteGRPCLog);\n    gpr_set_log_verbosity(GPR_LOG_SEVERITY_DEBUG);\n    gpr_log_verbosity_init();\n}\n\nvoid  WriteGRPCLog(gpr_log_func_args* args)\n{\n    // write log into files...\n}\n```\n\nand then there another module wants to use logger too.\nbut when that module include logger.h, it include \"grpc/impl/codegen/log.h\" too.\nthis module doesn't use grpc, so this is unless.\nThe logger is so common to my application, so I have to change all moudle's makefile to include grpc's log.h\n\nI exactly want GRPC to do a little change in log.h as below:\nnow:\n\n```\ntypedef struct {\n  const char *file;\n  int line;\n  gpr_log_severity severity;\n  const char *message;\n} gpr_log_func_args;\n```\n\nwanted:\n\n```\nstruct gpr_log_func_args {\n  const char *file;\n  int line;\n  gpr_log_severity severity;\n  const char *message;\n};\n```\n\nthen I can take forward declaration instead of include in my logger.h:\nnew logger.h\n\n```\n// #include \"grpc/impl/codegen/log.h\"\nstruct gpr_log_func_args;\nclass logger {\n    void logger_init();\n    void  WriteGRPCLog(gpr_log_func_args* args);\n}\n```\n\nI think this little change will be really convenient for grpc users.\n"
  }
]
