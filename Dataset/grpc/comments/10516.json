[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/294150313",
    "html_url": "https://github.com/grpc/grpc/issues/10516#issuecomment-294150313",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10516",
    "id": 294150313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDE1MDMxMw==",
    "user": {
      "login": "zhimingxie",
      "id": 26536155,
      "node_id": "MDQ6VXNlcjI2NTM2MTU1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/26536155?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhimingxie",
      "html_url": "https://github.com/zhimingxie",
      "followers_url": "https://api.github.com/users/zhimingxie/followers",
      "following_url": "https://api.github.com/users/zhimingxie/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhimingxie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhimingxie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhimingxie/subscriptions",
      "organizations_url": "https://api.github.com/users/zhimingxie/orgs",
      "repos_url": "https://api.github.com/users/zhimingxie/repos",
      "events_url": "https://api.github.com/users/zhimingxie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhimingxie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-14T13:05:05Z",
    "updated_at": "2017-04-14T14:14:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can find the code path to reproduce this **abort** now.\r\n\r\nSuppose the following scenario.\r\n\r\nIn server side, after prepare the response , start to send initialmetadata/message.  \r\nIt will schedule` write_action_begin_locked` and change stream from writable to writing state in `grpc_chttp2_begin_write`.\r\n\r\nAt the time, the client send the rst stream to cancel the call then server  will `read_action_locked` to parse  the new coming data and handle it by `grpc_chttp2_mark_stream_closed` terminally. \r\nIf  `grpc_chttp2_mark_stream_closed` happens before ` write_action_end_locked`, the stream state won't change back to writing  again.  So you will meet the **abort** in the `destroy_stream_locked`.\r\n\r\nIn summary, I think it is  a bug   and we need pop/remove the stream from the transport list in `grpc_chttp2_mark_stream_closed`  or  `destroy_stream_locked` or somewhere else.\r\n\r\nPlease correct me if something incorrect.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350882180",
    "html_url": "https://github.com/grpc/grpc/issues/10516#issuecomment-350882180",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10516",
    "id": 350882180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDg4MjE4MA==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T22:39:41Z",
    "updated_at": "2017-12-11T22:39:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you provide a code snippet or a test that demonstrated this behavior? We have hit this abort before, and all times it has caught real bugs that needed to be fixed, so I am hesitant to remove this without a test that uses gRPC correctly and also triggers this abort"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/395149349",
    "html_url": "https://github.com/grpc/grpc/issues/10516#issuecomment-395149349",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10516",
    "id": 395149349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTE0OTM0OQ==",
    "user": {
      "login": "ncteisen",
      "id": 6148140,
      "node_id": "MDQ6VXNlcjYxNDgxNDA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6148140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncteisen",
      "html_url": "https://github.com/ncteisen",
      "followers_url": "https://api.github.com/users/ncteisen/followers",
      "following_url": "https://api.github.com/users/ncteisen/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncteisen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncteisen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncteisen/subscriptions",
      "organizations_url": "https://api.github.com/users/ncteisen/orgs",
      "repos_url": "https://api.github.com/users/ncteisen/repos",
      "events_url": "https://api.github.com/users/ncteisen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncteisen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-06T17:26:59Z",
    "updated_at": "2018-06-06T17:26:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing for now. Please reopen if you have a reproduction in which **valid** gRPC code triggers this abort"
  }
]
