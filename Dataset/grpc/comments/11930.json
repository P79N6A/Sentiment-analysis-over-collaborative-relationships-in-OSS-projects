[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/317729409",
    "html_url": "https://github.com/grpc/grpc/pull/11930#issuecomment-317729409",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11930",
    "id": 317729409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcyOTQwOQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-25T12:59:39Z",
    "updated_at": "2017-07-25T12:59:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "CC @jskeet and @benwulfe  as this should fix #11824.\r\n\r\nCC @chwarr I remember you mentioning the issue this is trying to address."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/317757336",
    "html_url": "https://github.com/grpc/grpc/pull/11930#issuecomment-317757336",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11930",
    "id": 317757336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzc1NzMzNg==",
    "user": {
      "login": "benwulfe",
      "id": 8314021,
      "node_id": "MDQ6VXNlcjgzMTQwMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8314021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benwulfe",
      "html_url": "https://github.com/benwulfe",
      "followers_url": "https://api.github.com/users/benwulfe/followers",
      "following_url": "https://api.github.com/users/benwulfe/following{/other_user}",
      "gists_url": "https://api.github.com/users/benwulfe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benwulfe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benwulfe/subscriptions",
      "organizations_url": "https://api.github.com/users/benwulfe/orgs",
      "repos_url": "https://api.github.com/users/benwulfe/repos",
      "events_url": "https://api.github.com/users/benwulfe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benwulfe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-25T14:34:25Z",
    "updated_at": "2017-07-25T14:34:25Z",
    "author_association": "NONE",
    "body": "If a request still needs to hit the grpc thread before being offloaded,\nthen it wouldn't fix it.\n\nOn Jul 25, 2017 6:00 AM, \"Jan Tattermusch\" <notifications@github.com> wrote:\n\n> CC @jskeet <https://github.com/jskeet> and @benwulfe\n> <https://github.com/benwulfe> as this should fix #11824\n> <https://github.com/grpc/grpc/issues/11824>.\n>\n> CC @chwarr <https://github.com/chwarr> I remember you mentioning the\n> issue this is trying to address.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/pull/11930#issuecomment-317729409>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AH7cpZRAPpTZ8A-EQzO0KCsbozE24Lbxks5sRebUgaJpZM4OihEt>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/317758165",
    "html_url": "https://github.com/grpc/grpc/pull/11930#issuecomment-317758165",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11930",
    "id": 317758165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzc1ODE2NQ==",
    "user": {
      "login": "benwulfe",
      "id": 8314021,
      "node_id": "MDQ6VXNlcjgzMTQwMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8314021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benwulfe",
      "html_url": "https://github.com/benwulfe",
      "followers_url": "https://api.github.com/users/benwulfe/followers",
      "following_url": "https://api.github.com/users/benwulfe/following{/other_user}",
      "gists_url": "https://api.github.com/users/benwulfe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benwulfe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benwulfe/subscriptions",
      "organizations_url": "https://api.github.com/users/benwulfe/orgs",
      "repos_url": "https://api.github.com/users/benwulfe/repos",
      "events_url": "https://api.github.com/users/benwulfe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benwulfe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-25T14:37:10Z",
    "updated_at": "2017-07-25T14:37:10Z",
    "author_association": "NONE",
    "body": "Oh this should hide grpc thread from the outside world another way. Lgtm\nthen and thanks for fixing!\n\nOn Jul 25, 2017 7:34 AM, \"Benjamin Wulfe\" <benwu@google.com> wrote:\n\n> If a request still needs to hit the grpc thread before being offloaded,\n> then it wouldn't fix it.\n>\n> On Jul 25, 2017 6:00 AM, \"Jan Tattermusch\" <notifications@github.com>\n> wrote:\n>\n>> CC @jskeet <https://github.com/jskeet> and @benwulfe\n>> <https://github.com/benwulfe> as this should fix #11824\n>> <https://github.com/grpc/grpc/issues/11824>.\n>>\n>> CC @chwarr <https://github.com/chwarr> I remember you mentioning the\n>> issue this is trying to address.\n>>\n>> —\n>> You are receiving this because you were mentioned.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/grpc/grpc/pull/11930#issuecomment-317729409>, or mute\n>> the thread\n>> <https://github.com/notifications/unsubscribe-auth/AH7cpZRAPpTZ8A-EQzO0KCsbozE24Lbxks5sRebUgaJpZM4OihEt>\n>> .\n>>\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/317808279",
    "html_url": "https://github.com/grpc/grpc/pull/11930#issuecomment-317808279",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11930",
    "id": 317808279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzgwODI3OQ==",
    "user": {
      "login": "benwulfe",
      "id": 8314021,
      "node_id": "MDQ6VXNlcjgzMTQwMjE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8314021?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benwulfe",
      "html_url": "https://github.com/benwulfe",
      "followers_url": "https://api.github.com/users/benwulfe/followers",
      "following_url": "https://api.github.com/users/benwulfe/following{/other_user}",
      "gists_url": "https://api.github.com/users/benwulfe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benwulfe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benwulfe/subscriptions",
      "organizations_url": "https://api.github.com/users/benwulfe/orgs",
      "repos_url": "https://api.github.com/users/benwulfe/repos",
      "events_url": "https://api.github.com/users/benwulfe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benwulfe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-25T17:21:40Z",
    "updated_at": "2017-07-25T17:21:40Z",
    "author_association": "NONE",
    "body": "Hey Jan, I know you had previously suggested using fewer completion queues to fix this.  Is there any advantage to having more than **one** completion queue?  It seems that with a single queue serviced by all threads, you achieve more fairness (and far lower deadlock chances).  With multiple queues, you could get an operation stuck indefinitely behind a fairly long operation while the other queues are happily processed, right?\r\n\r\nThis change lgtm -- but if this change has drawbacks, maybe the immediate fix would be to make the default value of  completionqueuecount = \"1\"?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/317967793",
    "html_url": "https://github.com/grpc/grpc/pull/11930#issuecomment-317967793",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11930",
    "id": 317967793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzk2Nzc5Mw==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-26T07:07:21Z",
    "updated_at": "2017-07-26T07:20:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "One comment:\r\n<s>It seems like issues with the current thread pool are not just for <i>sync unary RPC types</i>. But if getting rid of the deadlock issue for sync RPC types was enough, then could we use `grpc_completion_queue_pluck` for these call types and completely avoid the thread pool for them, in order to keep the current thread pool for it's performance?</s>\r\nscratched my comment for it's incorrectness (since sync unary call is already doing this)"
  }
]
