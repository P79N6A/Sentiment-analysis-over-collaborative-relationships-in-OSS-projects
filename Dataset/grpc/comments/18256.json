[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/469866386",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-469866386",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 469866386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTg2NjM4Ng==",
    "user": {
      "login": "mhaidrygoog",
      "id": 42048362,
      "node_id": "MDQ6VXNlcjQyMDQ4MzYy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/42048362?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mhaidrygoog",
      "html_url": "https://github.com/mhaidrygoog",
      "followers_url": "https://api.github.com/users/mhaidrygoog/followers",
      "following_url": "https://api.github.com/users/mhaidrygoog/following{/other_user}",
      "gists_url": "https://api.github.com/users/mhaidrygoog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mhaidrygoog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mhaidrygoog/subscriptions",
      "organizations_url": "https://api.github.com/users/mhaidrygoog/orgs",
      "repos_url": "https://api.github.com/users/mhaidrygoog/repos",
      "events_url": "https://api.github.com/users/mhaidrygoog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mhaidrygoog/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-05T21:34:24Z",
    "updated_at": "2019-03-05T21:34:24Z",
    "author_association": "MEMBER",
    "body": "The issue here is that the WORKSPACE file under /usr/local which is specified in this error message is expecting only a grpc_archive rule while bazel is supplying a http_archive rule as well as a grpc_archive rule. The workaround here is to remove the else condition that fails the build if it doesn't receive a grpc_archive rule.\r\nThis way WORKSPACE file would ignore the http_archive rule and proceed with compilation on receiving the grpc_archive rule\r\nBasically - \r\n ```\r\n for dep in rem:\r\n    rule = dep.pop(\"rule\")\r\n    if \"grpc_archive\" == rule:\r\n      grpc_archive(**dep)\r\n    else:\r\n       fail(\"Unknown loading rule %s for %s\" % (rule, dep))\r\n\r\n```\r\nTo\r\n\r\n ```\r\n for dep in rem:\r\n    rule = dep.pop(\"rule\")\r\n    if \"grpc_archive\" == rule:\r\n      grpc_archive(**dep)\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470003576",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-470003576",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 470003576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDAwMzU3Ng==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T07:47:09Z",
    "updated_at": "2019-03-06T07:47:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am experiencing the same issue."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470005124",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-470005124",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 470005124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDAwNTEyNA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T07:53:00Z",
    "updated_at": "2019-03-06T07:53:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "FYI @billfeng327 "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470009232",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-470009232",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 470009232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDAwOTIzMg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T08:08:24Z",
    "updated_at": "2019-03-06T08:08:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "A quick and dirty workaround to get C++ build working locally is to comment out this line https://github.com/grpc/grpc/blob/4982d915ccebd17492402b09e91435412ff9df29/WORKSPACE#L62"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/470798425",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-470798425",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 470798425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDc5ODQyNQ==",
    "user": {
      "login": "jdwestbro",
      "id": 48342620,
      "node_id": "MDQ6VXNlcjQ4MzQyNjIw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/48342620?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdwestbro",
      "html_url": "https://github.com/jdwestbro",
      "followers_url": "https://api.github.com/users/jdwestbro/followers",
      "following_url": "https://api.github.com/users/jdwestbro/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdwestbro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdwestbro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdwestbro/subscriptions",
      "organizations_url": "https://api.github.com/users/jdwestbro/orgs",
      "repos_url": "https://api.github.com/users/jdwestbro/repos",
      "events_url": "https://api.github.com/users/jdwestbro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdwestbro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-08T04:10:50Z",
    "updated_at": "2019-03-08T04:10:50Z",
    "author_association": "NONE",
    "body": "I have a patch in the works that migrates the Bazel build to use https://github.com/stackb/rules_proto"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/471200624",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-471200624",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 471200624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTIwMDYyNA==",
    "user": {
      "login": "jdwestbro",
      "id": 48342620,
      "node_id": "MDQ6VXNlcjQ4MzQyNjIw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/48342620?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdwestbro",
      "html_url": "https://github.com/jdwestbro",
      "followers_url": "https://api.github.com/users/jdwestbro/followers",
      "following_url": "https://api.github.com/users/jdwestbro/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdwestbro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdwestbro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdwestbro/subscriptions",
      "organizations_url": "https://api.github.com/users/jdwestbro/orgs",
      "repos_url": "https://api.github.com/users/jdwestbro/repos",
      "events_url": "https://api.github.com/users/jdwestbro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdwestbro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-09T16:59:43Z",
    "updated_at": "2019-03-09T16:59:43Z",
    "author_association": "NONE",
    "body": "The fix for this is here:\r\n\r\nhttps://github.com/jdwestbro/grpc/commit/f1ab0cdd8161266511dce0965c2bcb701e178167\r\n\r\nand on Debian Rodete:\r\n\r\n$ env CC=/usr/bin/gcc bazel build ...\r\nINFO: Analysed 6673 targets (0 packages loaded, 0 targets configured).\r\nINFO: Found 6673 targets...\r\nINFO: Elapsed time: 11.366s, Critical Path: 0.00s\r\nINFO: 0 processes.\r\nINFO: Build completed successfully, 1 total action\r\n\r\nPR pending..."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/478807900",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-478807900",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 478807900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3ODgwNzkwMA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T01:29:03Z",
    "updated_at": "2019-04-02T01:29:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mhaidrygoog  can come up with a PR that fixes this problem? It seems that you have some good insight into what's causing this problem.\r\n\r\n@jdwestbro  is migrating over to stackb/rules_proto really necessary in order to fix the problem? (there might be good reasons to migrate over, but here we are mostly trying to fix the bazel build for bazel 0.23+)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/478809469",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-478809469",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 478809469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3ODgwOTQ2OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T01:37:19Z",
    "updated_at": "2019-04-02T01:37:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "FTR pasting a link to the problematic rule https://github.com/pubref/rules_protobuf/blob/99043441e3c473809f633f5ad049945606124b60/cpp/rules.bzl#L27"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/478810941",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-478810941",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 478810941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3ODgxMDk0MQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T01:44:50Z",
    "updated_at": "2019-04-02T01:44:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gnossen  it seems that this problem is because of the ways our python bazel build is setup (see `py_proto_repositories()` in our WORKSPACE - it might need some massaging). Can you help?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/479097158",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-479097158",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 479097158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTA5NzE1OA==",
    "user": {
      "login": "jdwestbro",
      "id": 48342620,
      "node_id": "MDQ6VXNlcjQ4MzQyNjIw",
      "avatar_url": "https://avatars1.githubusercontent.com/u/48342620?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdwestbro",
      "html_url": "https://github.com/jdwestbro",
      "followers_url": "https://api.github.com/users/jdwestbro/followers",
      "following_url": "https://api.github.com/users/jdwestbro/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdwestbro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdwestbro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdwestbro/subscriptions",
      "organizations_url": "https://api.github.com/users/jdwestbro/orgs",
      "repos_url": "https://api.github.com/users/jdwestbro/repos",
      "events_url": "https://api.github.com/users/jdwestbro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdwestbro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T17:04:58Z",
    "updated_at": "2019-04-02T17:04:58Z",
    "author_association": "NONE",
    "body": "Sure if there's a simpler fix let's go with that. I thought stackb/rules_proto would be a drop-in replacement but there are some issues to resolve with protobuf code generation."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/479177594",
    "html_url": "https://github.com/grpc/grpc/issues/18256#issuecomment-479177594",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18256",
    "id": 479177594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTE3NzU5NA==",
    "user": {
      "login": "gnossen",
      "id": 1644595,
      "node_id": "MDQ6VXNlcjE2NDQ1OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1644595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnossen",
      "html_url": "https://github.com/gnossen",
      "followers_url": "https://api.github.com/users/gnossen/followers",
      "following_url": "https://api.github.com/users/gnossen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnossen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnossen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnossen/subscriptions",
      "organizations_url": "https://api.github.com/users/gnossen/orgs",
      "repos_url": "https://api.github.com/users/gnossen/repos",
      "events_url": "https://api.github.com/users/gnossen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnossen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-02T20:08:02Z",
    "updated_at": "2019-04-02T20:08:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looking into it."
  }
]
