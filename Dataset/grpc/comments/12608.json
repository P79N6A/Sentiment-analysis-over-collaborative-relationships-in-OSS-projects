[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330366430",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-330366430",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 330366430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDM2NjQzMA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T21:49:31Z",
    "updated_at": "2017-09-18T21:49:31Z",
    "author_association": "MEMBER",
    "body": "Can you share a script that reproduces this? Also, what version of Node are you using?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330380493",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-330380493",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 330380493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDM4MDQ5Mw==",
    "user": {
      "login": "borisovg",
      "id": 3171327,
      "node_id": "MDQ6VXNlcjMxNzEzMjc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3171327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/borisovg",
      "html_url": "https://github.com/borisovg",
      "followers_url": "https://api.github.com/users/borisovg/followers",
      "following_url": "https://api.github.com/users/borisovg/following{/other_user}",
      "gists_url": "https://api.github.com/users/borisovg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/borisovg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/borisovg/subscriptions",
      "organizations_url": "https://api.github.com/users/borisovg/orgs",
      "repos_url": "https://api.github.com/users/borisovg/repos",
      "events_url": "https://api.github.com/users/borisovg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/borisovg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T23:03:07Z",
    "updated_at": "2017-09-18T23:03:07Z",
    "author_association": "NONE",
    "body": "Node is v6.11.3 - I'll have a go at making a small repro script tomorrow."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330382902",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-330382902",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 330382902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDM4MjkwMg==",
    "user": {
      "login": "borisovg",
      "id": 3171327,
      "node_id": "MDQ6VXNlcjMxNzEzMjc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3171327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/borisovg",
      "html_url": "https://github.com/borisovg",
      "followers_url": "https://api.github.com/users/borisovg/followers",
      "following_url": "https://api.github.com/users/borisovg/following{/other_user}",
      "gists_url": "https://api.github.com/users/borisovg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/borisovg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/borisovg/subscriptions",
      "organizations_url": "https://api.github.com/users/borisovg/orgs",
      "repos_url": "https://api.github.com/users/borisovg/repos",
      "events_url": "https://api.github.com/users/borisovg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/borisovg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T23:17:24Z",
    "updated_at": "2017-09-18T23:17:24Z",
    "author_association": "NONE",
    "body": "A better backtrace:\r\n\r\n```\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\nCore was generated by `node app.js'.\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0  grpc_closure_sched (exec_ctx=0x7fff961b9190, c=0x23ebc80, error=0x4) at ../src/core/lib/iomgr/closure.c:177\r\n177     ../src/core/lib/iomgr/closure.c: No such file or directory.\r\n[Current thread is 1 (Thread 0x7fa526584740 (LWP 4090))]\r\n(gdb) bt full\r\n#0  grpc_closure_sched (exec_ctx=0x7fff961b9190, c=0x23ebc80, error=0x4) at ../src/core/lib/iomgr/closure.c:177\r\nNo locals.\r\n#1  0x00007fa51dcaa3b0 in grpc_timer_cancel (exec_ctx=<optimized out>, timer=0x23ec430) at ../src/core/lib/iomgr/timer_uv.c:84\r\nNo locals.\r\n#2  0x00007fa51dcd8d55 in uv_tc_on_connect (req=<optimized out>, status=-125) at ../src/core/lib/iomgr/tcp_client_uv.c:85\r\n        connect = 0x23ec3d0\r\n        exec_ctx = {closure_list = {head = 0x0, tail = 0x0}, active_combiner = 0x0, last_combiner = 0x0, flags = 1, check_ready_to_finish_arg = 0x0, check_ready_to_finish = 0x0}\r\n        error = 0x0\r\n        done = <optimized out>\r\n        closure = 0x0\r\n#3  0x00007fa525f6435c in uv__stream_destroy (stream=stream@entry=0x2438880) at src/unix/stream.c:445\r\n        __PRETTY_FUNCTION__ = \"uv__stream_destroy\"\r\n#4  0x00007fa525f5aa36 in uv__finish_close (handle=0x2438880) at src/unix/core.c:256\r\nNo locals.\r\n#5  uv__run_closing_handles (loop=0x7fa526173900 <default_loop_struct>) at src/unix/core.c:286\r\n        p = 0x2438880\r\n        q = 0x238b410\r\n#6  uv_run (loop=0x7fa526173900 <default_loop_struct>, mode=mode@entry=UV_RUN_ONCE) at src/unix/core.c:356\r\n        timeout = <optimized out>\r\n        r = 1\r\n#7  0x0000000000d720c0 in node::StartNodeInstance (arg=<synthetic pointer>) at ../src/node.cc:4707\r\n        seal = {isolate_ = 0x234b470, prev_limit_ = 0x238b370, prev_sealed_level_ = 0}\r\n        more = <optimized out>\r\n        locker = {has_lock_ = true, top_level_ = true, isolate_ = 0x234b470}\r\n        context = {val_ = 0x2389380}\r\n        env = <optimized out>\r\n        handle_scope = {isolate_ = 0x234b470, prev_next_ = 0x0, prev_limit_ = 0x0}\r\n        exit_code = <optimized out>\r\n        params = {entry_hook = 0x0, code_event_handler = 0x0, constraints = {max_semi_space_size_ = 0, max_old_space_size_ = 0, max_executable_size_ = 0, stack_limit_ = 0x0, code_range_size_ = 0}, \r\n          snapshot_blob = 0x0, counter_lookup_callback = 0x0, create_histogram_callback = 0x0, add_histogram_sample_callback = 0x0, array_buffer_allocator = 0x234b450}\r\n        array_buffer_allocator = 0x234b450\r\n        isolate = 0x234b470\r\n        instance_data = <synthetic pointer>\r\n        args = {0xf3b029 \"../src/node.cc\", 0xf3b066 \"4659\", 0xf3b06b \"(node_isolate) == (nullptr)\", 0xf3cc80 <node::StartNodeInstance(void*)::__PRETTY_FUNCTION__> \"void node::StartNodeInstance(void*)\"}\r\n        args = {0xf3b029 \"../src/node.cc\", 0xf3b04a \"4745\", 0xf3b04f \"(isolate) != (nullptr)\", 0xf3cc80 <node::StartNodeInstance(void*)::__PRETTY_FUNCTION__> \"void node::StartNodeInstance(void*)\"}\r\n#8  node::Start (argc=<optimized out>, argv=<optimized out>) at ../src/node.cc:4793\r\n        instance_data = {node_instance_type_ = node::MAIN, exit_code_ = 1, event_loop_ = <optimized out>, argc_ = <optimized out>, argv_ = <optimized out>, exec_argc_ = <optimized out>, \r\n          exec_argv_ = <optimized out>, use_debug_agent_flag_ = <optimized out>}\r\n        exec_argc = 0\r\n        exec_argv = 0x2349c70\r\n        exit_code = 1\r\n#9  0x00007fa5221912e1 in __libc_start_main (main=0x6d9460 <main(int, char**)>, argc=2, argv=0x7fff961b95a8, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fff961b9598)\r\n    at ../csu/libc-start.c:291\r\n        result = <optimized out>\r\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, -3599453058325645345, 7187328, 140735711778208, 0, 0, 3599222158807431135, 3550641350141310943}, mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, \r\n              0x7fff961b95c0, 0x7fa5265b3170}, data = {prev = 0x0, cleanup = 0x0, canceltype = -1776577088}}}\r\n        not_first_call = <optimized out>\r\n#10 0x00000000006dabaa in _start ()\r\nNo symbol table info available.\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330544424",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-330544424",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 330544424,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDU0NDQyNA==",
    "user": {
      "login": "borisovg",
      "id": 3171327,
      "node_id": "MDQ6VXNlcjMxNzEzMjc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3171327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/borisovg",
      "html_url": "https://github.com/borisovg",
      "followers_url": "https://api.github.com/users/borisovg/followers",
      "following_url": "https://api.github.com/users/borisovg/following{/other_user}",
      "gists_url": "https://api.github.com/users/borisovg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/borisovg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/borisovg/subscriptions",
      "organizations_url": "https://api.github.com/users/borisovg/orgs",
      "repos_url": "https://api.github.com/users/borisovg/repos",
      "events_url": "https://api.github.com/users/borisovg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/borisovg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T13:47:33Z",
    "updated_at": "2017-09-19T13:47:59Z",
    "author_association": "NONE",
    "body": "This one works for me most of the time (but not always), hence the shell loop.\r\n\r\nSource of `foo.js`\r\n```\r\nvar grpc = require('grpc');\r\nvar proto = grpc.load('foo.proto');\r\n\r\nvar attempt = 0;\r\n\r\n(function loop () {\r\n    var client = new proto.foo.FooService('gir.me.uk:8888', grpc.credentials.createInsecure());\r\n\r\n    grpc.waitForClientReady(client, new Date(Date.now() + 5000), function (err) {\r\n        if (err) {\r\n            attempt += 1;\r\n\r\n            if (attempt < 2) {\r\n                setTimeout(loop, 15000);\r\n            }\r\n\r\n            console.error('Connection timeout', err);\r\n        }\r\n    });\r\n}());\r\n```\r\n\r\nSource of `foo.proto`:\r\n```\r\nsyntax = \"proto3\";\r\n\r\npackage foo;\r\n\r\nservice FooService {\r\n}\r\n```\r\n\r\nRun until it crashes:\r\n```\r\nwhile [ true ]; do node foo.js || break; done\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330612142",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-330612142",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 330612142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDYxMjE0Mg==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T17:26:01Z",
    "updated_at": "2017-09-19T17:26:01Z",
    "author_association": "MEMBER",
    "body": "So, \"gir.me.uk:8888\" is simply an arbitrary dns name + port that is expected to never exist; is that right?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330614906",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-330614906",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 330614906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDYxNDkwNg==",
    "user": {
      "login": "borisovg",
      "id": 3171327,
      "node_id": "MDQ6VXNlcjMxNzEzMjc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3171327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/borisovg",
      "html_url": "https://github.com/borisovg",
      "followers_url": "https://api.github.com/users/borisovg/followers",
      "following_url": "https://api.github.com/users/borisovg/following{/other_user}",
      "gists_url": "https://api.github.com/users/borisovg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/borisovg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/borisovg/subscriptions",
      "organizations_url": "https://api.github.com/users/borisovg/orgs",
      "repos_url": "https://api.github.com/users/borisovg/repos",
      "events_url": "https://api.github.com/users/borisovg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/borisovg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T17:36:06Z",
    "updated_at": "2017-09-19T17:36:06Z",
    "author_association": "NONE",
    "body": "It's a port on my website that I know will drop connections, as upposed to reset them which will trigger a different error in the client."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/332743173",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-332743173",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 332743173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjc0MzE3Mw==",
    "user": {
      "login": "vosst",
      "id": 13215244,
      "node_id": "MDQ6VXNlcjEzMjE1MjQ0",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13215244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vosst",
      "html_url": "https://github.com/vosst",
      "followers_url": "https://api.github.com/users/vosst/followers",
      "following_url": "https://api.github.com/users/vosst/following{/other_user}",
      "gists_url": "https://api.github.com/users/vosst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vosst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vosst/subscriptions",
      "organizations_url": "https://api.github.com/users/vosst/orgs",
      "repos_url": "https://api.github.com/users/vosst/repos",
      "events_url": "https://api.github.com/users/vosst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vosst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-28T06:45:50Z",
    "updated_at": "2017-09-28T06:45:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@borisovg hey, would you be able to give my PR a spin and provide feedback whether it fixes your crash?\r\n Probably a good idea to cross-check while we are waiting for @murgatroid99 to provide feedback."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/332793261",
    "html_url": "https://github.com/grpc/grpc/issues/12608#issuecomment-332793261",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12608",
    "id": 332793261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjc5MzI2MQ==",
    "user": {
      "login": "borisovg",
      "id": 3171327,
      "node_id": "MDQ6VXNlcjMxNzEzMjc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3171327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/borisovg",
      "html_url": "https://github.com/borisovg",
      "followers_url": "https://api.github.com/users/borisovg/followers",
      "following_url": "https://api.github.com/users/borisovg/following{/other_user}",
      "gists_url": "https://api.github.com/users/borisovg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/borisovg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/borisovg/subscriptions",
      "organizations_url": "https://api.github.com/users/borisovg/orgs",
      "repos_url": "https://api.github.com/users/borisovg/repos",
      "events_url": "https://api.github.com/users/borisovg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/borisovg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-28T10:17:42Z",
    "updated_at": "2017-09-28T10:17:42Z",
    "author_association": "NONE",
    "body": "@vosst Looks like it does indeed fix it. :)"
  }
]
