[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337677610",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-337677610",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 337677610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzY3NzYxMA==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T18:03:49Z",
    "updated_at": "2017-10-18T18:03:49Z",
    "author_association": "MEMBER",
    "body": "This seems like it might be a bug in electron. The `__dirname` variable is explicitly documented as referring to the full path of the directory containing the current module file.\r\n\r\nAre you actually running this in the node 8.4.0 runtime? Is python involved here at all? What version of electron are you using?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337831965",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-337831965",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 337831965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzgzMTk2NQ==",
    "user": {
      "login": "GuillaumeCisco",
      "id": 1155244,
      "node_id": "MDQ6VXNlcjExNTUyNDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1155244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeCisco",
      "html_url": "https://github.com/GuillaumeCisco",
      "followers_url": "https://api.github.com/users/GuillaumeCisco/followers",
      "following_url": "https://api.github.com/users/GuillaumeCisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeCisco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeCisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeCisco/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeCisco/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeCisco/repos",
      "events_url": "https://api.github.com/users/GuillaumeCisco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeCisco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T08:08:21Z",
    "updated_at": "2017-10-19T08:12:41Z",
    "author_association": "NONE",
    "body": "Yes I think it is a bug in electron or something in my webpack config.\r\nFor electron, I have a special webpack config where I see:\r\n```\r\n    node: {\r\n        __dirname: false,\r\n        __filename: false,\r\n    },\r\n```\r\nI have seen this issue: https://github.com/webpack/webpack/issues/1599.\r\nDo not really know if it's related.\r\nI copy/pasted the webpack config from a bootstrap config for running electron.\r\n\r\nAny thoughts?\r\n\r\nEDIT: python is not related, but it was in the issue template, so I put it in case.\r\nYes I run this with node 8.4.0 runtime with babel from a webpack config.\r\nUsing electron 1.7.9"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337844978",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-337844978",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 337844978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzg0NDk3OA==",
    "user": {
      "login": "GuillaumeCisco",
      "id": 1155244,
      "node_id": "MDQ6VXNlcjExNTUyNDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1155244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeCisco",
      "html_url": "https://github.com/GuillaumeCisco",
      "followers_url": "https://api.github.com/users/GuillaumeCisco/followers",
      "following_url": "https://api.github.com/users/GuillaumeCisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeCisco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeCisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeCisco/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeCisco/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeCisco/repos",
      "events_url": "https://api.github.com/users/GuillaumeCisco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeCisco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T08:59:54Z",
    "updated_at": "2017-10-19T16:08:19Z",
    "author_association": "NONE",
    "body": "Ok just found interesting things, I disabled the `dll` part of my webpack config, and the `__dirname` changed to where my webpack file is located.\r\nThe dll webpack config for the record:\r\n```javascript\r\nimport webpack from 'webpack';\r\nimport path from 'path';\r\nimport merge from 'webpack-merge';\r\nimport baseConfig from './base';\r\nimport {dependencies} from '../../package.json';\r\nimport rules from '../utils/rules';\r\nimport plugins from '../utils/plugins';\r\n\r\nconst dist = path.resolve(process.cwd(), 'dll');\r\n\r\n\r\nexport default merge.smart(baseConfig, {\r\n    context: process.cwd(),\r\n    devtool: 'eval',\r\n    target: 'electron-renderer',\r\n    externals: ['fsevents', 'crypto-browserify'],\r\n    module: {\r\n        rules: rules(),\r\n    },\r\n    resolve: {\r\n        modules: [\r\n            '../../src',\r\n        ],\r\n    },\r\n    entry: {\r\n        renderer: Object.keys(dependencies || {}).filter(o => !['babel-runtime'].includes(o)),\r\n    },\r\n    output: {\r\n        library: 'renderer',\r\n        path: dist,\r\n        filename: '[name].dev.dll.js',\r\n        libraryTarget: 'var',\r\n    },\r\n    plugins: [\r\n        ...plugins(),\r\n        new webpack.DllPlugin({\r\n            path: path.join(dist, '[name].json'),\r\n            name: '[name]',\r\n        }),\r\n        new webpack.LoaderOptionsPlugin({\r\n            debug: true,\r\n            options: {\r\n                context: path.resolve(process.cwd(), 'src'),\r\n                output: {\r\n                    path: path.resolve(process.cwd(), 'dll'),\r\n                },\r\n            },\r\n        }),\r\n    ],\r\n});\r\n```\r\n\r\nSo If I disable it and now set the \r\n```javascript\r\nnode: {\r\n        __dirname: true,\r\n        __filename: false,\r\n    },\r\n```\r\nFor the record here is my new webpack config:\r\n```javascript\r\nimport path from 'path';\r\nimport fs from 'fs';\r\nimport webpack from 'webpack';\r\nimport chalk from 'chalk';\r\nimport merge from 'webpack-merge';\r\nimport {spawn, execSync} from 'child_process';\r\nimport ExtractCssChunks from 'extract-css-chunks-webpack-plugin';\r\nimport HappyPack from 'happypack';\r\n\r\n\r\nimport baseConfig from './base';\r\nimport rules from '../utils/rules';\r\nimport definePlugin from '../utils/definePlugin';\r\n\r\nconst port = process.env.PORT || 1212;\r\nconst publicPath = `http://localhost:${port}/dist`;\r\nconst dll = path.resolve(process.cwd(), 'dll');\r\nconst manifest = path.resolve(dll, 'renderer.json');\r\n\r\nconst DEVELOPMENT = (['development', 'staging'].includes(process.env.NODE_ENV)),\r\n    PRODUCTION = (['production'].includes(process.env.NODE_ENV));\r\n\r\n/**\r\n * Warn if the DLL is not built\r\n */\r\n// if (!(fs.existsSync(dll) && fs.existsSync(manifest))) {\r\n//     console.log(chalk.black.bgYellow.bold(\r\n//         'The DLL files are missing. Sit back while we build them for you with \"npm run build-dll\"',\r\n//     ));\r\n//     execSync('npm run build-dll');\r\n// }\r\n\r\nexport default merge.smart(baseConfig, {\r\n    devtool: 'inline-source-map',\r\n\r\n    target: 'electron-renderer',\r\n    entry: [\r\n        'babel-polyfill',\r\n        'react-hot-loader/patch',\r\n        `webpack-dev-server/client?http://localhost:${port}/`,\r\n        'webpack/hot/only-dev-server',\r\n        path.join(__dirname, '../../src/client/js/index.js'),\r\n    ],\r\n\r\n    output: {\r\n        publicPath,\r\n    },\r\n\r\n    module: {\r\n        rules: rules('electron'),\r\n    },\r\n\r\n    plugins: [\r\n        definePlugin(),\r\n        new HappyPack({\r\n            id: 'babel',\r\n            loaders: [{\r\n                path: 'babel-loader', // Options to configure babel with\r\n                query: {\r\n                    plugins: [\r\n                        'universal-import',\r\n                        'emotion',\r\n                        'transform-runtime',\r\n                        'lodash',\r\n                        'date-fns',\r\n                        'transform-class-properties',\r\n                        'transform-es2015-classes',\r\n                        'react-hot-loader/babel',\r\n                    ],\r\n                    presets: [\r\n                        'es2015',\r\n                        'react',\r\n                        'stage-0',\r\n                    ],\r\n                },\r\n            }],\r\n            threads: 4,\r\n        }),\r\n        new ExtractCssChunks({\r\n            filename: '[name].css',\r\n            allChunks: false,\r\n        }),\r\n        // new webpack.DllReferencePlugin({\r\n        //     context: process.cwd(),\r\n        //     manifest: require(manifest),\r\n        //     sourceType: 'var',\r\n        // }),\r\n        new webpack.HotModuleReplacementPlugin(),\r\n        new webpack.NoEmitOnErrorsPlugin(),\r\n\r\n        new webpack.LoaderOptionsPlugin({\r\n            debug: true,\r\n        }),\r\n    ],\r\n\r\n    node: {\r\n        __dirname: true,\r\n        __filename: false,\r\n    },\r\n\r\n    devServer: {\r\n        port,\r\n        publicPath,\r\n        compress: true,\r\n        noInfo: true,\r\n        stats: 'errors-only',\r\n        inline: true,\r\n        lazy: false,\r\n        hot: true,\r\n        headers: {'Access-Control-Allow-Origin': '*'},\r\n        contentBase: path.join(__dirname, '../../dist'),\r\n        watchOptions: {\r\n            aggregateTimeout: 300,\r\n            ignored: /node_modules/,\r\n            poll: 100,\r\n        },\r\n        historyApiFallback: {\r\n            verbose: true,\r\n            disableDotRule: false,\r\n        },\r\n        setup() {\r\n            if (process.env.START_HOT) {\r\n                console.log('Staring Main Process...');\r\n                spawn(\r\n                    'npm',\r\n                    ['run', 'start-main-dev'],\r\n                    {shell: true, env: process.env, stdio: 'inherit'},\r\n                )\r\n                    .on('close', code => process.exit(code))\r\n                    .on('error', spawnError => console.error(spawnError));\r\n            }\r\n        },\r\n    },\r\n});\r\n```\r\n\r\nI get the correct `__dirname` => `node_modules/grpc/src/node/src`\r\n\r\nThen, I don't have the same error in the code from `node-pre-gyp/lib/pre-binding.js`:\r\n```javascript\r\nexports.find = function(package_json_path,opts) {\r\n   if (!existsSync(package_json_path)) {\r\n        throw new Error(\"package.json does not exist at \" + package_json_path);\r\n   }\r\n   var package_json = require(package_json_path);\r\n   versioning.validate_config(package_json);\r\n   opts = opts || {};\r\n   if (!opts.module_root) opts.module_root = path.dirname(package_json_path);\r\n   var meta = versioning.evaluate(package_json,opts);\r\n   return meta.module;\r\n};\r\n```\r\n\r\nBut now I have a new error, which is clearly weird.\r\nIt is on the require:\r\n`var package_json = require(package_json_path);`\r\n\r\nI get the error:\r\n```\r\nUncaught (in promise) Error: Cannot find module \".\"\r\n```\r\n\r\nBut if I set a breakpoint in the chrome devtools and execute it myself in the code, it works:\r\n`Object {_from: \"git+https://github.com/grpc/grpc.git#v1.6.x\", _id: \"grpc@1.6.6\", _inBundle: false, _integrity: \"sha1-kDDIjpxdCDKqV9W21yszpu+UVdo=\", _location: \"/grpc\"â€¦}`\r\n\r\nSo it looks now like a node/electron/grpc issue.\r\nDo not know where to start from here, and how to fix this error."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337973455",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-337973455",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 337973455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzk3MzQ1NQ==",
    "user": {
      "login": "GuillaumeCisco",
      "id": 1155244,
      "node_id": "MDQ6VXNlcjExNTUyNDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1155244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeCisco",
      "html_url": "https://github.com/GuillaumeCisco",
      "followers_url": "https://api.github.com/users/GuillaumeCisco/followers",
      "following_url": "https://api.github.com/users/GuillaumeCisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeCisco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeCisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeCisco/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeCisco/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeCisco/repos",
      "events_url": "https://api.github.com/users/GuillaumeCisco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeCisco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T17:06:09Z",
    "updated_at": "2017-10-20T08:26:36Z",
    "author_association": "NONE",
    "body": "Ok just figured out what is going on.\r\nIt's all about webpack and externals for backend node application.\r\nThis issue helped me a lot: https://github.com/chentsulin/electron-react-boilerplate/issues/1#issuecomment-107224692\r\n\r\nThe problem is that `grpc` dependency needed to be in my externals for webpack to work with, and __dirname being correct.\r\n\r\nGot back to \r\n```javascript\r\nexternals: ['grpc'],\r\nnode: {\r\n        __dirname: false,\r\n        __filename: false,\r\n    },\r\n```\r\nAnd it worked great!\r\n\r\nThe only problem now is here in `grpc_extension.js`:\r\n```javascript\r\nvar binary = require('node-pre-gyp/lib/pre-binding');\r\nvar path = require('path');\r\nconsole.log(__dirname);\r\nvar binding_path = binary.find(path.resolve(path.join(__dirname, '../../../package.json')));\r\nvar binding = require(binding_path);\r\n```\r\n\r\nOn the last line, the binding_path is:  `\"/home/{linux_user}/Projects/{my_project}/node_modules/grpc/src/node/extension_binary/electron-v1.7-linux-x64/grpc_node.node\"`\r\n\r\nThis path does not exist. The folder `electron-v1.7-linux-x64` does not exist, in fact I have a folder named `node-v57-linux-x64`\r\n\r\n\r\nAs this issue is now solved from its initial problem, could someone point me in the right direction for understanding what is going on now?\r\nThank you very much for your time, and sorry for all this displayed investigation. Hope it will help others."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337982686",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-337982686",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 337982686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzk4MjY4Ng==",
    "user": {
      "login": "GuillaumeCisco",
      "id": 1155244,
      "node_id": "MDQ6VXNlcjExNTUyNDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1155244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeCisco",
      "html_url": "https://github.com/GuillaumeCisco",
      "followers_url": "https://api.github.com/users/GuillaumeCisco/followers",
      "following_url": "https://api.github.com/users/GuillaumeCisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeCisco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeCisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeCisco/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeCisco/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeCisco/repos",
      "events_url": "https://api.github.com/users/GuillaumeCisco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeCisco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T17:40:37Z",
    "updated_at": "2017-10-19T17:41:52Z",
    "author_association": "NONE",
    "body": "Ok, as far as I understand, I need to build the binary myself as described here:\r\nhttps://github.com/grpc/grpc/issues/10458\r\nand here https://electron.atom.io/docs/tutorial/using-native-node-modules/\r\n\r\nSi I've setup:\r\n```\r\nexport npm_config_target=v1.7.9\r\nexport npm_config_runtime=electron\r\n```\r\n\r\nThis is what I get:\r\n```\r\n> grpc@1.6.7 install /home/{user}/Projects/{project}src/electron/node_modules/grpc\r\n> node-pre-gyp install --fallback-to-build --library=static_library\r\n\r\nnode-pre-gyp ERR! Tried to download(403): https://storage.googleapis.com/grpc-precompiled-binaries/node/grpc/v1.6.7/electron-v1.7-linux-x64.tar.gz \r\nnode-pre-gyp ERR! Pre-built binaries not found for grpc@1.6.7 and electron@1.7.9 (electron-v1.7 ABI) (falling back to source compile with node-gyp) \r\ngyp WARN install got an error, rolling back install\r\ngyp ERR! configure error \r\ngyp ERR! stack Error: 404 response downloading https://iojs.org/download/release/v1.7.9/iojs-v1.7.9.tar.gz\r\ngyp ERR! stack     at Request.<anonymous> (/home/{user}/Projects/{project}/node_modules/node-gyp/lib/install.js:210:14)\r\ngyp ERR! stack     at emitOne (events.js:120:20)\r\ngyp ERR! stack     at Request.emit (events.js:210:7)\r\ngyp ERR! stack     at Request.onRequestResponse (/home/{user}/Projects/{project}/node_modules/request/request.js:1068:10)\r\ngyp ERR! stack     at emitOne (events.js:115:13)\r\ngyp ERR! stack     at ClientRequest.emit (events.js:210:7)\r\ngyp ERR! stack     at HTTPParser.parserOnIncomingClient (_http_client.js:565:21)\r\ngyp ERR! stack     at HTTPParser.parserOnHeadersComplete (_http_common.js:116:23)\r\ngyp ERR! stack     at TLSSocket.socketOnData (_http_client.js:454:20)\r\ngyp ERR! stack     at emitOne (events.js:115:13)\r\ngyp ERR! System Linux 4.10.0-37-generic\r\ngyp ERR! command \"/usr/local/bin/node\" \"/home/guillaume/Projects/morpheo/morpheo-analytics/node_modules/node-gyp/bin/node-gyp.js\" \"configure\" \"--fallback-to-build\" \"--library=static_library\" \"--module=/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc/src/node/extension_binary/electron-v1.7-linux-x64/grpc_node.node\" \"--module_name=grpc_node\" \"--module_path=/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc/src/node/extension_binary/electron-v1.7-linux-x64\"\r\ngyp ERR! cwd /home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc\r\ngyp ERR! node -v v8.4.0\r\ngyp ERR! node-gyp -v v3.6.2\r\ngyp ERR! not ok \r\nnode-pre-gyp ERR! build error \r\nnode-pre-gyp ERR! stack Error: Failed to execute '/usr/local/bin/node /home/guillaume/Projects/morpheo/morpheo-analytics/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --library=static_library --module=/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc/src/node/extension_binary/electron-v1.7-linux-x64/grpc_node.node --module_name=grpc_node --module_path=/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc/src/node/extension_binary/electron-v1.7-linux-x64' (1)\r\nnode-pre-gyp ERR! stack     at ChildProcess.<anonymous> (/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/node-pre-gyp/lib/util/compile.js:83:29)\r\nnode-pre-gyp ERR! stack     at emitTwo (events.js:125:13)\r\nnode-pre-gyp ERR! stack     at ChildProcess.emit (events.js:213:7)\r\nnode-pre-gyp ERR! stack     at maybeClose (internal/child_process.js:927:16)\r\nnode-pre-gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:211:5)\r\nnode-pre-gyp ERR! System Linux 4.10.0-37-generic\r\nnode-pre-gyp ERR! command \"/usr/local/bin/node\" \"/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/.bin/node-pre-gyp\" \"install\" \"--fallback-to-build\" \"--library=static_library\"\r\nnode-pre-gyp ERR! cwd /home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc\r\nnode-pre-gyp ERR! node -v v8.4.0\r\nnode-pre-gyp ERR! node-pre-gyp -v v0.6.38\r\nnode-pre-gyp ERR! not ok \r\nFailed to execute '/usr/local/bin/node /home/guillaume/Projects/morpheo/morpheo-analytics/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --library=static_library --module=/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc/src/node/extension_binary/electron-v1.7-linux-x64/grpc_node.node --module_name=grpc_node --module_path=/home/guillaume/Projects/morpheo/morpheo-analytics/src/electron/node_modules/grpc/src/node/extension_binary/electron-v1.7-linux-x64' (1)\r\nnpm WARN Analytics@0.0.1 No repository field.\r\nnpm WARN Analytics@0.0.1 No license field.\r\n\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! grpc@1.6.7 install: `node-pre-gyp install --fallback-to-build --library=static_library`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the grpc@1.6.7 install script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/guillaume/.npm/_logs/2017-10-19T17_39_55_305Z-debug.log\r\n```\r\n\r\nLooks like now a grpc  issue again xD\r\nWhat am I missing?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337985825",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-337985825",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 337985825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzk4NTgyNQ==",
    "user": {
      "login": "GuillaumeCisco",
      "id": 1155244,
      "node_id": "MDQ6VXNlcjExNTUyNDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1155244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeCisco",
      "html_url": "https://github.com/GuillaumeCisco",
      "followers_url": "https://api.github.com/users/GuillaumeCisco/followers",
      "following_url": "https://api.github.com/users/GuillaumeCisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeCisco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeCisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeCisco/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeCisco/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeCisco/repos",
      "events_url": "https://api.github.com/users/GuillaumeCisco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeCisco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T17:51:46Z",
    "updated_at": "2017-10-19T17:51:53Z",
    "author_association": "NONE",
    "body": "Ok just succeeded to build the right binary in the right folder, just exported all the variables:\r\n```\r\n# Electron's version.\r\nexport npm_config_target=1.7.9\r\n# The architecture of Electron, can be ia32 or x64.\r\nexport npm_config_arch=x64\r\nexport npm_config_target_arch=x64\r\n# Download headers for Electron.\r\nexport npm_config_disturl=https://atom.io/download/electron\r\n# Tell node-pre-gyp that we are building for Electron.\r\nexport npm_config_runtime=electron\r\n# Tell node-pre-gyp to build module from source code.\r\nexport npm_config_build_from_source=true\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/338141893",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-338141893",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 338141893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODE0MTg5Mw==",
    "user": {
      "login": "GuillaumeCisco",
      "id": 1155244,
      "node_id": "MDQ6VXNlcjExNTUyNDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1155244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeCisco",
      "html_url": "https://github.com/GuillaumeCisco",
      "followers_url": "https://api.github.com/users/GuillaumeCisco/followers",
      "following_url": "https://api.github.com/users/GuillaumeCisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeCisco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeCisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeCisco/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeCisco/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeCisco/repos",
      "events_url": "https://api.github.com/users/GuillaumeCisco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeCisco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T08:29:17Z",
    "updated_at": "2017-10-20T13:04:29Z",
    "author_association": "NONE",
    "body": "Ok last and hope least. There is one last issue...\r\nWhen running my webpack config for launching the electron app, nothing is launched...\r\nEverything seems to work correctly, I have no errors, but the app is not launched...\r\nLike `grpc` is blocking the electron app.\r\nI have no trace, no error.\r\n\r\nAnybody have been in this case before?\r\nSorry for digressing a lot in this issue. But I think it will be helpful to describe each step for others."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/338216592",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-338216592",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 338216592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODIxNjU5Mg==",
    "user": {
      "login": "GuillaumeCisco",
      "id": 1155244,
      "node_id": "MDQ6VXNlcjExNTUyNDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1155244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeCisco",
      "html_url": "https://github.com/GuillaumeCisco",
      "followers_url": "https://api.github.com/users/GuillaumeCisco/followers",
      "following_url": "https://api.github.com/users/GuillaumeCisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeCisco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeCisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeCisco/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeCisco/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeCisco/repos",
      "events_url": "https://api.github.com/users/GuillaumeCisco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeCisco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T14:06:09Z",
    "updated_at": "2017-10-20T17:56:15Z",
    "author_association": "NONE",
    "body": "Ok just found out why.\r\nI launched my electron app like:\r\n```javascript\r\n    mainWindow = new BrowserWindow({\r\n        show: false,\r\n        width: 1024,\r\n        height: 728,\r\n    });\r\n\r\n    mainWindow.loadURL(`file://${__dirname}/app.html`);\r\n\r\n    // @TODO: Use 'ready-to-show' event\r\n    //        https://github.com/electron/electron/blob/master/docs/api/browser-window.md#using-ready-to-show-event\r\n    mainWindow.webContents.on('did-finish-load', () => {\r\n        if (!mainWindow) {\r\n            throw new Error('\"mainWindow\" is not defined');\r\n        }\r\n        mainWindow.show();\r\n        mainWindow.focus();\r\n    });\r\n```\r\n\r\nIf an error occurred before the `did-finish-load` event has complete, the window was never showed.\r\nSimply passing `show` parameter from `false` to `true` helped me see the app, and detect that I did not copy my `grpc_node.node` in another folder that was needed for the electron app to run.\r\n\r\nI succeeded all this debug thanks to webstorm and its awesome debug tools with breakpoints! For people interested:\r\n- https://blog.jetbrains.com/webstorm/2016/05/getting-started-with-electron-in-webstorm/\r\n- https://github.com/electron/electron/issues/10445\r\n\r\n\r\nIn a nutshell, solving this issue was to put `grpc` as an external for webpack, compile my own `grpc_node.node` and placing it at the right paths.\r\n\r\nI'll close that issue.\r\nThank you :)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/338276717",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-338276717",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 338276717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODI3NjcxNw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T17:47:56Z",
    "updated_at": "2017-10-20T17:47:56Z",
    "author_association": "MEMBER",
    "body": "I would like to note that with the variables you mentioned exporting, you can actually omit the last one (`export npm_config_build_from_source=true`). If you do, it will attempt to install the precompiled `grpc_node.node` that we distribute."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359182068",
    "html_url": "https://github.com/grpc/grpc/issues/13049#issuecomment-359182068",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13049",
    "id": 359182068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTE4MjA2OA==",
    "user": {
      "login": "Mark086",
      "id": 35619728,
      "node_id": "MDQ6VXNlcjM1NjE5NzI4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/35619728?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark086",
      "html_url": "https://github.com/Mark086",
      "followers_url": "https://api.github.com/users/Mark086/followers",
      "following_url": "https://api.github.com/users/Mark086/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark086/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark086/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark086/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark086/orgs",
      "repos_url": "https://api.github.com/users/Mark086/repos",
      "events_url": "https://api.github.com/users/Mark086/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark086/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-20T16:07:53Z",
    "updated_at": "2018-01-20T16:16:19Z",
    "author_association": "NONE",
    "body": "Issue https://github.com/nodejs/node/issues/18267 with the same problem"
  }
]
