[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397477061",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-397477061",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 397477061,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ3NzA2MQ==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T00:23:46Z",
    "updated_at": "2018-06-15T00:23:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "This change needs a formal gRFC."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397477116",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-397477116",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 397477116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ3NzExNg==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T00:24:05Z",
    "updated_at": "2018-06-15T00:24:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "/cc @hsaliak "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397481559",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-397481559",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 397481559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ4MTU1OQ==",
    "user": {
      "login": "hsaliak",
      "id": 150108,
      "node_id": "MDQ6VXNlcjE1MDEwOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/150108?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsaliak",
      "html_url": "https://github.com/hsaliak",
      "followers_url": "https://api.github.com/users/hsaliak/followers",
      "following_url": "https://api.github.com/users/hsaliak/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsaliak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsaliak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsaliak/subscriptions",
      "organizations_url": "https://api.github.com/users/hsaliak/orgs",
      "repos_url": "https://api.github.com/users/hsaliak/repos",
      "events_url": "https://api.github.com/users/hsaliak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsaliak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T00:52:56Z",
    "updated_at": "2018-06-15T00:52:56Z",
    "author_association": "MEMBER",
    "body": "@ZhouyihaiDing this is an API change, so we should consider it carefully. The process to change it is necessarily heavy weight. However, since the API is not in yet, this is pretty much the last chance to change it. \r\nSo let's consider this change here before we decide if we want to re-visit the RFC.\r\n\r\n1) Why will the response type change cause the deserializer change? Isnt the de-serializer fixed to how the response is encoded, rather than what the data is?\r\n2) Do you have some use cases where we have encountered this?\r\nNormally, interceptors contain cross cutting concerns rather than business logic, so they only mutate data rarely.. so how often do you see users get into a problem with the current API?\r\n3) How do other languages do this, do they provide a deserializer?\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397485997",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-397485997",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 397485997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzQ4NTk5Nw==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T01:24:42Z",
    "updated_at": "2018-06-15T01:52:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh I already created a PR to the grpc/proposal repo. I think we can close that if the change is no needed? \r\n\r\nIt's a thing better to have, because it won't do any harm to the interceptor. To my understand, interceptor can intercept everything related to the RPC except the channel.\r\nBut it is also unnecessary, because I can't image why the user want to the deserializer.\r\n\r\nThe reason I have this idea is when I implementing the gcp extension(kind of like a plugin to the gRPC),  which need to maintain it's own channel pool and do pre/post process for each RPC. This could be done by the interceptor, but since the Call and the Channel are bound too tight, I need 2 more API changes to do the similar thing. #15761 and #15749.\r\n\r\nThe purpose of this PR is decouple the RPC and Channel, kind of like [CallInvoker in C#](https://github.com/grpc/grpc/pull/5928/files#diff-d6e61e529d6670d7520038b6594d0472R43) does. If we give the `$deserialize` back to the RPC, then the interceptor will have everything needed for creating a Call object.  But this is kind of tricky because this is not the usual way to use the interceptor."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/397784592",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-397784592",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 397784592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzc4NDU5Mg==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-16T04:03:12Z",
    "updated_at": "2018-06-16T04:12:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "I finished the implementation which only uses the interceptor to hook the GCP extension support with the change of this PR: https://github.com/ZhouyihaiDing/grpc/pull/22. The [GCP interceptor](https://github.com/ZhouyihaiDing/grpc/pull/22/files#diff-15534b704a9fad4dda740380af7cc484R5) is implemented with self maintained channel and call, which is exactly what[ `CallInvoker` implementation ](https://github.com/ZhouyihaiDing/grpc/pull/21)is doing.\r\nI chatted with @mehrdada offline and we could merge this to 1.13.0 by state \"There is an experimental API and there is a proposal under the review\".\r\n\r\nCallInvoker implemetation needs to add 2 more APIs change as described above to de-couple the channel and the call object from the stub. However, it makes the GCP implementation be hooked in a more clear way.\r\n\r\nI am okay with adding `CallInvoker` and changing the `interceptor`, because `CallInvoker` will make the GCP extension looks more directly(and since the C# has it, maybe PHP can have it too), while the `Inteceptor` changes is doing the least changes to the grpc php code."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/398925600",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-398925600",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 398925600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODkyNTYwMA==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T23:09:14Z",
    "updated_at": "2018-06-20T23:09:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, @chingor13 @michaelbausor \r\nI am going to update the API for the interceptor to decouple the Call object and Channel object. Can you please give me some suggestions if there are some concerns relate to it? Thanks!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/398929849",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-398929849",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 398929849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODkyOTg0OQ==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T23:34:25Z",
    "updated_at": "2018-06-20T23:34:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry. I used the rebase in a wrong way and it was trying to commit tons of commits into the v1.13.x branch."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/398950324",
    "html_url": "https://github.com/grpc/grpc/pull/15779#issuecomment-398950324",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15779",
    "id": 398950324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODk1MDMyNA==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-21T01:47:01Z",
    "updated_at": "2018-06-21T01:47:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Known issues for the test:\r\nBazel Debug build for C/C++  - #15610\r\nBazel Opt build for C/C++ - #15610"
  }
]
