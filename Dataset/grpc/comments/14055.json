[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/363291212",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-363291212",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 363291212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzI5MTIxMg==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-06T02:36:01Z",
    "updated_at": "2018-02-06T02:36:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reassigning to @kpayson64 . \r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/372525197",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-372525197",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 372525197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjUyNTE5Nw==",
    "user": {
      "login": "zhanghaohit",
      "id": 7508922,
      "node_id": "MDQ6VXNlcjc1MDg5MjI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7508922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhanghaohit",
      "html_url": "https://github.com/zhanghaohit",
      "followers_url": "https://api.github.com/users/zhanghaohit/followers",
      "following_url": "https://api.github.com/users/zhanghaohit/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhanghaohit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhanghaohit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhanghaohit/subscriptions",
      "organizations_url": "https://api.github.com/users/zhanghaohit/orgs",
      "repos_url": "https://api.github.com/users/zhanghaohit/repos",
      "events_url": "https://api.github.com/users/zhanghaohit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhanghaohit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T02:25:11Z",
    "updated_at": "2018-03-13T02:25:11Z",
    "author_association": "NONE",
    "body": "I noticed a fork.h header. does it provide the support for fork?\r\n\r\nvoid grpc_prefork();\r\nvoid grpc_postfork_parent();\r\nvoid grpc_postfork_child();\r\n\r\nThanks."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/372551441",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-372551441",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 372551441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjU1MTQ0MQ==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T05:28:25Z",
    "updated_at": "2018-03-13T05:28:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "That is the intention but first [this bug](https://github.com/grpc/grpc/issues/14258) needs to be fixed to do fork/exec. \r\n\r\n@zhanghaohit what is your use case?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/372556798",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-372556798",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 372556798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjU1Njc5OA==",
    "user": {
      "login": "zhanghaohit",
      "id": 7508922,
      "node_id": "MDQ6VXNlcjc1MDg5MjI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7508922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhanghaohit",
      "html_url": "https://github.com/zhanghaohit",
      "followers_url": "https://api.github.com/users/zhanghaohit/followers",
      "following_url": "https://api.github.com/users/zhanghaohit/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhanghaohit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhanghaohit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhanghaohit/subscriptions",
      "organizations_url": "https://api.github.com/users/zhanghaohit/orgs",
      "repos_url": "https://api.github.com/users/zhanghaohit/repos",
      "events_url": "https://api.github.com/users/zhanghaohit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhanghaohit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T06:05:33Z",
    "updated_at": "2018-03-13T06:07:50Z",
    "author_association": "NONE",
    "body": "My use case is:\r\nI have to fork a new process, which will take over the job from the main process. It means, after the forking, the main process will not do anything with grpc.\r\n\r\nBut after the child process finished its job, it just exists. Then the main process will fork a new child process again.\r\n\r\nSo I have to fork multiple times from the main process.\r\n\r\n@srini100 Can I achieve this in the current grpc implementation?\r\n\r\nDo I have to destroy the Stub instance and re-create in the child process?\r\n\r\nThanks."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/372781422",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-372781422",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 372781422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjc4MTQyMg==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T19:01:11Z",
    "updated_at": "2018-03-13T19:01:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@zhanghaohit,  forking with an active stub will put you in a situation where parent and child will share the same connection. gRPC currently doesn't cleanup FDs in child process. IMO, recreating the stub in child process should work.  "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/372879712",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-372879712",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 372879712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjg3OTcxMg==",
    "user": {
      "login": "zhanghaohit",
      "id": 7508922,
      "node_id": "MDQ6VXNlcjc1MDg5MjI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7508922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhanghaohit",
      "html_url": "https://github.com/zhanghaohit",
      "followers_url": "https://api.github.com/users/zhanghaohit/followers",
      "following_url": "https://api.github.com/users/zhanghaohit/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhanghaohit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhanghaohit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhanghaohit/subscriptions",
      "organizations_url": "https://api.github.com/users/zhanghaohit/orgs",
      "repos_url": "https://api.github.com/users/zhanghaohit/repos",
      "events_url": "https://api.github.com/users/zhanghaohit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhanghaohit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-14T02:02:21Z",
    "updated_at": "2018-03-14T02:02:21Z",
    "author_association": "NONE",
    "body": "@srini100 Thanks for your reply. \r\n\r\nYes. I did recreate the stub in the child process. In my case, do I need to call grpc_prefork(), grpc_postfork_parent(), grpc_postfork_child() also?\r\n\r\nBut anyway, no matter I call grpc_*fork_* or not, it will hang there after second fork. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/372896573",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-372896573",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 372896573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjg5NjU3Mw==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-14T03:52:58Z",
    "updated_at": "2018-03-14T03:52:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "These functions are called internally by gRPC. You shouldn't call these."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/372937277",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-372937277",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 372937277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjkzNzI3Nw==",
    "user": {
      "login": "zhanghaohit",
      "id": 7508922,
      "node_id": "MDQ6VXNlcjc1MDg5MjI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7508922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhanghaohit",
      "html_url": "https://github.com/zhanghaohit",
      "followers_url": "https://api.github.com/users/zhanghaohit/followers",
      "following_url": "https://api.github.com/users/zhanghaohit/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhanghaohit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhanghaohit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhanghaohit/subscriptions",
      "organizations_url": "https://api.github.com/users/zhanghaohit/orgs",
      "repos_url": "https://api.github.com/users/zhanghaohit/repos",
      "events_url": "https://api.github.com/users/zhanghaohit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhanghaohit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-14T08:11:19Z",
    "updated_at": "2018-03-14T08:11:19Z",
    "author_association": "NONE",
    "body": "Oh. ic. but still cannot get it to work by recreating the stub in the child process. It will hang after the second fork."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389340381",
    "html_url": "https://github.com/grpc/grpc/issues/14055#issuecomment-389340381",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/14055",
    "id": 389340381,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTM0MDM4MQ==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-15T22:59:28Z",
    "updated_at": "2018-05-15T22:59:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closed via #14870"
  }
]
