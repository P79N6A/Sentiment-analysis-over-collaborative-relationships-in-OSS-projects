[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/432816951",
    "html_url": "https://github.com/grpc/grpc/issues/16920#issuecomment-432816951",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16920",
    "id": 432816951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjgxNjk1MQ==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-24T20:31:02Z",
    "updated_at": "2018-10-24T20:31:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@rosun82 gRPC Python unlike gRPC C++ binds to the endpoint on `add_[in]secure_port` and not on `start`. It does not throw an exception when it fails, rather it returns 0 instead of the correct port number, so you need to check the return value of that to ensure you have bound to the port correctly."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/432837463",
    "html_url": "https://github.com/grpc/grpc/issues/16920#issuecomment-432837463",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16920",
    "id": 432837463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjgzNzQ2Mw==",
    "user": {
      "login": "lidizheng",
      "id": 7394928,
      "node_id": "MDQ6VXNlcjczOTQ5Mjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/7394928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lidizheng",
      "html_url": "https://github.com/lidizheng",
      "followers_url": "https://api.github.com/users/lidizheng/followers",
      "following_url": "https://api.github.com/users/lidizheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/lidizheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lidizheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lidizheng/subscriptions",
      "organizations_url": "https://api.github.com/users/lidizheng/orgs",
      "repos_url": "https://api.github.com/users/lidizheng/repos",
      "events_url": "https://api.github.com/users/lidizheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lidizheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-24T21:38:22Z",
    "updated_at": "2018-10-24T21:38:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "By default, the underlying C layer of gRPC will bind the port with the option `SO_REUSEPORT`. It allows multiple servers (processes or threads) to bind to the same port if they all enabled this option. It provides potential scalability for gRPC servers. [Learn more](https://lwn.net/Articles/542629/)\r\n\r\nPlease mind that gRPC server default will bind with IPv6. So if your machine has another process using the same port but IPv4, the kernel will not throw an error hence you wouldn't get an exception.\r\n\r\nFor more actionable detail, you can add this option by \r\n```\r\nserver = grpc.server(thread_pool, options=(('grpc.so_reuseport', 0),))\r\n```\r\n There is an detailed example, please check [here](https://github.com/grpc/grpc/blob/618a3f561d4a93f263cca23abad086ed8f4d5e86/src/python/grpcio_tests/tests/unit/_channel_connectivity_test.py#L86).\r\n\r\nIf you have any more questions, please reopen this issue."
  }
]
