[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310730349",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-310730349",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 310730349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDczMDM0OQ==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-23T17:47:44Z",
    "updated_at": "2017-06-23T18:00:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Do you have a similar problem with a clean `git clone --recursive https://github.com/grpc/grpc -b v1.4.0`? \r\n\r\nI just tried both `cmake .; make -j12` and `make` on two clean clones and they work just fine. FYI, My system is a relatively clean macOS 10.12.5 with the following `brew` packages installed (out on which I suspect `libtool`, `shtool`, `autoconf`, `automake`, `pkg-config`, `gflags` may be relevant:\r\n\r\n```\r\n$ brew list\r\nautoconf\t\ticu4c\t\t\tnode\r\nautomake\t\tirssi\t\t\topenssl\r\nbazel\t\t\tlibevent\t\tpcre\r\ncmake\t\t\tlibffi\t\t\tpkg-config\r\ncoreutils\t\tlibpng\t\t\tpv\r\ndocker\t\t\tlibssh2\t\t\ts-lang\r\ngettext\t\t\tlibtool\t\t\tshtool\r\ngflags\t\t\tmakedepend\t\ttmux\r\nglib\t\t\tmidnight-commander\twget\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310733364",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-310733364",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 310733364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDczMzM2NA==",
    "user": {
      "login": "yang-g",
      "id": 10122250,
      "node_id": "MDQ6VXNlcjEwMTIyMjUw",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10122250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yang-g",
      "html_url": "https://github.com/yang-g",
      "followers_url": "https://api.github.com/users/yang-g/followers",
      "following_url": "https://api.github.com/users/yang-g/following{/other_user}",
      "gists_url": "https://api.github.com/users/yang-g/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yang-g/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yang-g/subscriptions",
      "organizations_url": "https://api.github.com/users/yang-g/orgs",
      "repos_url": "https://api.github.com/users/yang-g/repos",
      "events_url": "https://api.github.com/users/yang-g/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yang-g/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-23T18:00:35Z",
    "updated_at": "2017-06-23T18:00:35Z",
    "author_association": "MEMBER",
    "body": "Try make clean and then make."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/310776578",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-310776578",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 310776578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDc3NjU3OA==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-23T21:24:41Z",
    "updated_at": "2017-06-23T21:25:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm going to close this issue. Please feel free to re-open/let us know if you are experiencing build issues on a clean tree. Thanks!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/311055135",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-311055135",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 311055135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTA1NTEzNQ==",
    "user": {
      "login": "bsegault",
      "id": 8903454,
      "node_id": "MDQ6VXNlcjg5MDM0NTQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8903454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bsegault",
      "html_url": "https://github.com/bsegault",
      "followers_url": "https://api.github.com/users/bsegault/followers",
      "following_url": "https://api.github.com/users/bsegault/following{/other_user}",
      "gists_url": "https://api.github.com/users/bsegault/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bsegault/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bsegault/subscriptions",
      "organizations_url": "https://api.github.com/users/bsegault/orgs",
      "repos_url": "https://api.github.com/users/bsegault/repos",
      "events_url": "https://api.github.com/users/bsegault/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bsegault/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-26T13:12:19Z",
    "updated_at": "2017-06-26T13:12:19Z",
    "author_association": "NONE",
    "body": "That was it, I forgot to clean the build tree, silly me. Thanks for the answer and the details given ðŸ˜„ !"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/325128894",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-325128894",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 325128894,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTEyODg5NA==",
    "user": {
      "login": "tinganho",
      "id": 1324476,
      "node_id": "MDQ6VXNlcjEzMjQ0NzY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1324476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinganho",
      "html_url": "https://github.com/tinganho",
      "followers_url": "https://api.github.com/users/tinganho/followers",
      "following_url": "https://api.github.com/users/tinganho/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinganho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinganho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinganho/subscriptions",
      "organizations_url": "https://api.github.com/users/tinganho/orgs",
      "repos_url": "https://api.github.com/users/tinganho/repos",
      "events_url": "https://api.github.com/users/tinganho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinganho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-26T13:44:18Z",
    "updated_at": "2017-08-26T13:44:18Z",
    "author_association": "NONE",
    "body": "I'm still seeing this issue on my Mac. I tried with make clean and then make. But the error didn't dissapear. I use gRPC by cloning the repo under `third_party/` and then I add one line of `\r\nadd_subdirectory(third_party/grpc)` in my CMakeLists.txt file. \r\n\r\nThese are my commands:\r\n```\r\nmkdir debug\r\ncd debug\r\n\r\ncmake --version \r\ncmake version 3.9.1\r\n\r\ncmake -DCMAKE_BUILD_TYPE=Debug ..\r\n\r\nmake \r\n```\r\nAnd this is the error from `make`:\r\n\r\n```\r\nIn file included from /Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/protobuf/src/google/protobuf/io/gzip_stream.cc:38:\r\nIn file included from /Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/protobuf/src/google/protobuf/io/gzip_stream.h:48:\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1420:9: error: unknown type\r\n      name 'z_size_t'\r\nZEXTERN z_size_t ZEXPORT gzfread OF((voidp buf, z_size_t size, z_size_t nitems,\r\n        ^\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1420:49: error: unknown type\r\n      name 'z_size_t'\r\nZEXTERN z_size_t ZEXPORT gzfread OF((voidp buf, z_size_t size, z_size_t nitems,\r\n                                                ^\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1420:64: error: unknown type\r\n      name 'z_size_t'\r\nZEXTERN z_size_t ZEXPORT gzfread OF((voidp buf, z_size_t size, z_size_t nitems,\r\n                                                               ^\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1454:9: error: unknown type\r\n      name 'z_size_t'\r\nZEXTERN z_size_t ZEXPORT gzfwrite OF((voidpc buf, z_size_t size,\r\n        ^\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1454:51: error: unknown type\r\n      name 'z_size_t'\r\nZEXTERN z_size_t ZEXPORT gzfwrite OF((voidpc buf, z_size_t size,\r\n                                                  ^\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1455:39: error: unknown type\r\n      name 'z_size_t'\r\n                                      z_size_t nitems, gzFile file));\r\n                                      ^\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1708:37: error: unknown type\r\n      name 'z_size_t'\r\n                                    z_size_t len));\r\n                                    ^\r\n/Users/tinganho/Workspace/l10ns/third_party/grpc/third_party/zlib/zlib.h:1743:35: error: unknown type\r\n      name 'z_size_t'\r\n                                  z_size_t len));\r\n                                  ^\r\n8 errors generated.\r\nmake[2]: *** [third_party/grpc/third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/gzip_stream.cc.o] Error 1\r\nmake[1]: *** [third_party/grpc/third_party/protobuf/CMakeFiles/libprotobuf.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/325149542",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-325149542",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 325149542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTE0OTU0Mg==",
    "user": {
      "login": "tinganho",
      "id": 1324476,
      "node_id": "MDQ6VXNlcjEzMjQ0NzY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1324476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinganho",
      "html_url": "https://github.com/tinganho",
      "followers_url": "https://api.github.com/users/tinganho/followers",
      "following_url": "https://api.github.com/users/tinganho/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinganho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinganho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinganho/subscriptions",
      "organizations_url": "https://api.github.com/users/tinganho/orgs",
      "repos_url": "https://api.github.com/users/tinganho/repos",
      "events_url": "https://api.github.com/users/tinganho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinganho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-26T17:28:00Z",
    "updated_at": "2017-08-26T17:28:00Z",
    "author_association": "NONE",
    "body": "Related https://github.com/madler/zlib/issues/133.\r\n\r\nI fixed this issue by just renaming `third_party/grpc/third_party/zlib/zconf.h.include` to `third_party/grpc/third_party/zlib/zconf.h`."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328070710",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-328070710",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 328070710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODA3MDcxMA==",
    "user": {
      "login": "mtl1979",
      "id": 11916033,
      "node_id": "MDQ6VXNlcjExOTE2MDMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11916033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtl1979",
      "html_url": "https://github.com/mtl1979",
      "followers_url": "https://api.github.com/users/mtl1979/followers",
      "following_url": "https://api.github.com/users/mtl1979/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtl1979/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtl1979/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtl1979/subscriptions",
      "organizations_url": "https://api.github.com/users/mtl1979/orgs",
      "repos_url": "https://api.github.com/users/mtl1979/repos",
      "events_url": "https://api.github.com/users/mtl1979/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtl1979/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-08T10:41:59Z",
    "updated_at": "2017-09-08T10:41:59Z",
    "author_association": "NONE",
    "body": "@tinganho FYI add_subdirectory() should always have two parameters as cmake-generated files in subproject don't get added to include path otherwise. This is because of strict rules in relative paths. Renaming zconf.h.included to zconf.h will ignore any platform dependent fixes in zlib."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328071496",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-328071496",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 328071496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODA3MTQ5Ng==",
    "user": {
      "login": "tinganho",
      "id": 1324476,
      "node_id": "MDQ6VXNlcjEzMjQ0NzY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1324476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinganho",
      "html_url": "https://github.com/tinganho",
      "followers_url": "https://api.github.com/users/tinganho/followers",
      "following_url": "https://api.github.com/users/tinganho/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinganho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinganho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinganho/subscriptions",
      "organizations_url": "https://api.github.com/users/tinganho/orgs",
      "repos_url": "https://api.github.com/users/tinganho/repos",
      "events_url": "https://api.github.com/users/tinganho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinganho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-08T10:46:09Z",
    "updated_at": "2017-09-08T10:46:09Z",
    "author_association": "NONE",
    "body": "What should the second argument be?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/328076385",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-328076385",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 328076385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODA3NjM4NQ==",
    "user": {
      "login": "mtl1979",
      "id": 11916033,
      "node_id": "MDQ6VXNlcjExOTE2MDMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11916033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtl1979",
      "html_url": "https://github.com/mtl1979",
      "followers_url": "https://api.github.com/users/mtl1979/followers",
      "following_url": "https://api.github.com/users/mtl1979/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtl1979/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtl1979/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtl1979/subscriptions",
      "organizations_url": "https://api.github.com/users/mtl1979/orgs",
      "repos_url": "https://api.github.com/users/mtl1979/repos",
      "events_url": "https://api.github.com/users/mtl1979/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtl1979/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-08T11:13:52Z",
    "updated_at": "2017-09-08T11:13:52Z",
    "author_association": "NONE",
    "body": "@tinganho When you include zlib, it should be \"${CMAKE_CURRENT_BINARY_DIR}/zlib_build\", for any other subprojects, just replace \"zlib_build\" with project name + \"_build\". This makes sure binary directories of subprojects are subdirectories of binary directory of main project. Binary directory contains all generated files, not just libraries (static or dynamic) or executables."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330060177",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-330060177",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 330060177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDA2MDE3Nw==",
    "user": {
      "login": "tinganho",
      "id": 1324476,
      "node_id": "MDQ6VXNlcjEzMjQ0NzY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1324476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinganho",
      "html_url": "https://github.com/tinganho",
      "followers_url": "https://api.github.com/users/tinganho/followers",
      "following_url": "https://api.github.com/users/tinganho/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinganho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinganho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinganho/subscriptions",
      "organizations_url": "https://api.github.com/users/tinganho/orgs",
      "repos_url": "https://api.github.com/users/tinganho/repos",
      "events_url": "https://api.github.com/users/tinganho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinganho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-17T16:26:55Z",
    "updated_at": "2017-09-17T16:26:55Z",
    "author_association": "NONE",
    "body": "@mtl1979 I had time now to try your suggested solution. It doesn't seem to work. Even though, I added it to grpc project."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330060707",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-330060707",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 330060707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDA2MDcwNw==",
    "user": {
      "login": "mtl1979",
      "id": 11916033,
      "node_id": "MDQ6VXNlcjExOTE2MDMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11916033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtl1979",
      "html_url": "https://github.com/mtl1979",
      "followers_url": "https://api.github.com/users/mtl1979/followers",
      "following_url": "https://api.github.com/users/mtl1979/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtl1979/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtl1979/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtl1979/subscriptions",
      "organizations_url": "https://api.github.com/users/mtl1979/orgs",
      "repos_url": "https://api.github.com/users/mtl1979/repos",
      "events_url": "https://api.github.com/users/mtl1979/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtl1979/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-17T16:35:21Z",
    "updated_at": "2017-09-17T16:35:21Z",
    "author_association": "NONE",
    "body": "@tinganho I can't tell what goes wrong and why until I try it locally. I've done it once before with another project and it worked correctly."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330063119",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-330063119",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 330063119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDA2MzExOQ==",
    "user": {
      "login": "tinganho",
      "id": 1324476,
      "node_id": "MDQ6VXNlcjEzMjQ0NzY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1324476?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinganho",
      "html_url": "https://github.com/tinganho",
      "followers_url": "https://api.github.com/users/tinganho/followers",
      "following_url": "https://api.github.com/users/tinganho/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinganho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinganho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinganho/subscriptions",
      "organizations_url": "https://api.github.com/users/tinganho/orgs",
      "repos_url": "https://api.github.com/users/tinganho/repos",
      "events_url": "https://api.github.com/users/tinganho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinganho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-17T17:10:59Z",
    "updated_at": "2017-09-17T17:10:59Z",
    "author_association": "NONE",
    "body": "@mtl1979 Never mind, after having read the thread in madler/zlib#133 again, I now understand the 2nd argument. It gets a compiled `zconf.h` file in the binary dir. And anyone using grpc with `add_subdirectory()` needs to include the `zconf.h` manually. So one just need to include it manually by `include_directories(${CMAKE_CURRENT_BINARY_DIR}/third_party/grpc/third_party/zlib)`\r\n\r\nThanks for the help!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/330063733",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-330063733",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 330063733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDA2MzczMw==",
    "user": {
      "login": "mtl1979",
      "id": 11916033,
      "node_id": "MDQ6VXNlcjExOTE2MDMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11916033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtl1979",
      "html_url": "https://github.com/mtl1979",
      "followers_url": "https://api.github.com/users/mtl1979/followers",
      "following_url": "https://api.github.com/users/mtl1979/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtl1979/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtl1979/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtl1979/subscriptions",
      "organizations_url": "https://api.github.com/users/mtl1979/orgs",
      "repos_url": "https://api.github.com/users/mtl1979/repos",
      "events_url": "https://api.github.com/users/mtl1979/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtl1979/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-17T17:20:33Z",
    "updated_at": "2017-09-17T17:20:33Z",
    "author_association": "NONE",
    "body": "@tinganho The second parameter just automates adding the generated files to include and linker search paths ;) Like I said, it only works correctly if all subprojects recursively use it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343292071",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-343292071",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 343292071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzI5MjA3MQ==",
    "user": {
      "login": "l33ds",
      "id": 170725,
      "node_id": "MDQ6VXNlcjE3MDcyNQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/170725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l33ds",
      "html_url": "https://github.com/l33ds",
      "followers_url": "https://api.github.com/users/l33ds/followers",
      "following_url": "https://api.github.com/users/l33ds/following{/other_user}",
      "gists_url": "https://api.github.com/users/l33ds/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l33ds/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l33ds/subscriptions",
      "organizations_url": "https://api.github.com/users/l33ds/orgs",
      "repos_url": "https://api.github.com/users/l33ds/repos",
      "events_url": "https://api.github.com/users/l33ds/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l33ds/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T21:09:15Z",
    "updated_at": "2017-11-10T15:22:07Z",
    "author_association": "NONE",
    "body": "Hey guys, could you help me realize how and where was this resolved?\r\nI'm using GRPC 1.6.0 in my project and I get a similar error (attached).\r\nI can see that zconf.h is being changed into zconf.h.including in the build process.\r\nDo I need to update my GRPC? Why does it only happen to some people?\r\nCompiling under Ubuntu 16.04 using CMake\r\nThanks!\r\n\r\nFAILED: /usr/bin/c++   -DGOOGLE_PROTOBUF_CMAKE_BUILD -DHAVE_CONFIG_H=1 -DHAVE_PTHREAD -DHAVE_ZLIB -D_GNU_SOURCE=1 -isystem /mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/zlib -Isrc/common/third_party/grpc/third_party/protobuf -I/mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/protobuf/src -std=c++14 -g -D_DEBUG -fPIC -MMD -MT src/common/third_party/grpc/third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/gzip_stream.cc.o -MF src/common/third_party/grpc/third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/gzip_stream.cc.o.d -o src/common/third_party/grpc/third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/gzip_stream.cc.o -c /mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/protobuf/src/google/protobuf/io/gzip_stream.cc\r\nIn file included from /mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/protobuf/src/google/protobuf/io/gzip_stream.h:48:0,\r\n                 from /mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/protobuf/src/google/protobuf/io/gzip_stream.cc:38:\r\n/mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/zlib/zlib.h:1420:9: error: â€˜z_size_tâ€™ does not name a type\r\n ZEXTERN z_size_t ZEXPORT gzfread OF((voidp buf, z_size_t size, z_size_t nitems,\r\n         ^\r\n/mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/zlib/zlib.h:1454:9: error: â€˜z_size_tâ€™ does not name a type\r\n ZEXTERN z_size_t ZEXPORT gzfwrite OF((voidpc buf, z_size_t size,\r\n         ^\r\nIn file included from /mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/zlib/zlib.h:34:0,\r\n                 from /mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/protobuf/src/google/protobuf/io/gzip_stream.h:48,\r\n                 from /mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/protobuf/src/google/protobuf/io/gzip_stream.cc:38:\r\n/mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/zlib/zlib.h:1707:33: error: â€˜z_size_tâ€™ has not been declared\r\n ZEXTERN uLong ZEXPORT adler32_z OF((uLong adler, const Bytef *buf,\r\n                                 ^\r\n/mnt/hgfs/Code/Agent/src/common/third_party/grpc/third_party/zlib/zlib.h:1742:31: error: â€˜z_size_tâ€™ has not been declared\r\n ZEXTERN uLong ZEXPORT crc32_z OF((uLong adler, const Bytef *buf,"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343592751",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-343592751",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 343592751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzU5Mjc1MQ==",
    "user": {
      "login": "mtl1979",
      "id": 11916033,
      "node_id": "MDQ6VXNlcjExOTE2MDMz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/11916033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtl1979",
      "html_url": "https://github.com/mtl1979",
      "followers_url": "https://api.github.com/users/mtl1979/followers",
      "following_url": "https://api.github.com/users/mtl1979/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtl1979/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtl1979/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtl1979/subscriptions",
      "organizations_url": "https://api.github.com/users/mtl1979/orgs",
      "repos_url": "https://api.github.com/users/mtl1979/repos",
      "events_url": "https://api.github.com/users/mtl1979/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtl1979/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T21:31:45Z",
    "updated_at": "2017-11-10T21:31:45Z",
    "author_association": "NONE",
    "body": "@l33ds It should not happen to people who have installed zlib development package as that includes both zlib.h and zconf.h files. It might happen if those two files end up from two incompatible versions of zlib."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/356267921",
    "html_url": "https://github.com/grpc/grpc/issues/11581#issuecomment-356267921",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/11581",
    "id": 356267921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjI2NzkyMQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T12:15:46Z",
    "updated_at": "2018-01-09T12:16:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "A bit of reasoning to conclude:\r\nI think the problem with missing `zconf.h` header only happens if you are trying to use both cmake and make in the same working directory:\r\n\r\n1. the first time you build with cmake, this conditions gets triggered:\r\nhttps://github.com/madler/zlib/blob/cacf7f1d4e3d44d871b605da3b647f07d718623f/CMakeLists.txt#L69\r\nand zconf.h gets renamed for \"safety purposes\"\r\n\r\n2. third_party/zlib stays dirty (as it can be seen with `git status`):\r\n```\r\n~/github/grpc/third_party/zlib$ git status\r\nHEAD detached at cacf7f1\r\nChanges not staged for commit:\r\n\tdeleted:    zconf.h\r\nUntracked files:\r\n\tzconf.h.included\r\n``` \r\n\r\n3. when you later try to build using some other build system than cmake (e.g. just `make` from gRPC project root), the zconf.h will be missing and you will get the error messages about \"z_size_t\" not being declared (and others).\r\n\r\n**The remedy if you want to use multiple build systems (one of them being cmake) in the same working copy**\r\n- make sure to clean you third_party/zlib after you're done with cmake:\r\n`~/github/grpc/third_party/zlib$  mv zconf.h.included zconf.h`\r\n- after that `git status` should say `nothing to commit, working tree clean` \r\n\r\n\r\n\r\n  "
  }
]
