[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/431747064",
    "html_url": "https://github.com/grpc/grpc/issues/16923#issuecomment-431747064",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16923",
    "id": 431747064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTc0NzA2NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-22T06:04:32Z",
    "updated_at": "2018-10-22T06:04:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "What kind of project are you using? A \"Classic\" .csproj   or dotnet SDK projects?\r\n\r\nYou're right that this is because Grpc.Core.targets file (https://github.com/grpc/grpc/blob/340bffa55560f02944dd81413aa764081a60f329/src/csharp/Grpc.Core/build/net45/Grpc.Core.targets#L4), but this is working as intended. The idea is that when you build a legacy .csproj project, the resulting build should be portable and work on all platforms - Linux, Windows and Mac. They only way to achieve that is to copy all native libraries that gRPC C# depends on.\r\n\r\nIf you need a more file-grained control of target platforms and not so much of copying native libraries around, use a \"dotnet SDK\" project targeting netcoreapp2.x, as the native library support there is much better - the right version of native library will be copied and there's also \"dotnet publish\" command where you can build for a specific platform (and thus only copying the right native libraries to a target that's deployable).\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/432266673",
    "html_url": "https://github.com/grpc/grpc/issues/16923#issuecomment-432266673",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16923",
    "id": 432266673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjI2NjY3Mw==",
    "user": {
      "login": "wojciechrak",
      "id": 3034230,
      "node_id": "MDQ6VXNlcjMwMzQyMzA=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3034230?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wojciechrak",
      "html_url": "https://github.com/wojciechrak",
      "followers_url": "https://api.github.com/users/wojciechrak/followers",
      "following_url": "https://api.github.com/users/wojciechrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/wojciechrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wojciechrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wojciechrak/subscriptions",
      "organizations_url": "https://api.github.com/users/wojciechrak/orgs",
      "repos_url": "https://api.github.com/users/wojciechrak/repos",
      "events_url": "https://api.github.com/users/wojciechrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wojciechrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-23T14:20:12Z",
    "updated_at": "2018-10-23T17:45:10Z",
    "author_association": "NONE",
    "body": "We are using both \"classic\" and \"SDK\" .csprojs.\r\nGood to know this doesn't affect the latter, another reason to migrate faster.\r\nThanks for clarification.\r\n\r\n*Update*\r\nI made a workaround with PostBuildEvent in the csproj:\r\n\r\n```xml\r\n<PropertyGroup>\r\n    <PostBuildEvent>DEL $(TargetDir)libgrpc_*.so\r\nDEL $(TargetDir)libgrpc_*.dylib</PostBuildEvent>\r\n</PropertyGroup>\r\n```\r\n\r\n*Update 2*\r\nUnfortunately this works only for the project which directly references Grpc.Core nuget package.\r\nOther projects, that reference the first one, still have those files in their output folder."
  }
]
