[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/464146106",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-464146106",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 464146106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDE0NjEwNg==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T18:12:09Z",
    "updated_at": "2019-02-15T18:12:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for filing. Are you able to paste the logs here, including the exception?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/464169217",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-464169217",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 464169217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDE2OTIxNw==",
    "user": {
      "login": "Falco20019",
      "id": 940619,
      "node_id": "MDQ6VXNlcjk0MDYxOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/940619?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Falco20019",
      "html_url": "https://github.com/Falco20019",
      "followers_url": "https://api.github.com/users/Falco20019/followers",
      "following_url": "https://api.github.com/users/Falco20019/following{/other_user}",
      "gists_url": "https://api.github.com/users/Falco20019/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Falco20019/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Falco20019/subscriptions",
      "organizations_url": "https://api.github.com/users/Falco20019/orgs",
      "repos_url": "https://api.github.com/users/Falco20019/repos",
      "events_url": "https://api.github.com/users/Falco20019/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Falco20019/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T19:24:40Z",
    "updated_at": "2019-02-15T19:24:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "It‘s sadly not flushing the full log and since it’s in a pooled thread, I was not able to catch it and close the application gracefully."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/464181954",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-464181954",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 464181954,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDE4MTk1NA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T20:05:05Z",
    "updated_at": "2019-02-15T20:05:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "I haven't repro'd the access violation.\r\n\r\nHowever, I can repro a name resolution failure - in any case one thing that this bug makes apparent is that c-ares can't resolve `Environment.MachineName`."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/464188930",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-464188930",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 464188930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDE4ODkzMA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T20:30:50Z",
    "updated_at": "2019-02-15T20:31:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, I can repro an access violation, specifically when I'm:\r\na) running under `GRPC_TRACE=all`\r\nb) Configuring the grpc logger to log to a file, e.g.:\r\n\r\n```\r\nGrpcEnvironment.SetLogger(new TextWriterLogger(TextWriter.Synchronized(File.CreateText(\"test.txt\"))));\r\n``` "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/464193674",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-464193674",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 464193674,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDE5MzY3NA==",
    "user": {
      "login": "Falco20019",
      "id": 940619,
      "node_id": "MDQ6VXNlcjk0MDYxOQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/940619?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Falco20019",
      "html_url": "https://github.com/Falco20019",
      "followers_url": "https://api.github.com/users/Falco20019/followers",
      "following_url": "https://api.github.com/users/Falco20019/following{/other_user}",
      "gists_url": "https://api.github.com/users/Falco20019/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Falco20019/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Falco20019/subscriptions",
      "organizations_url": "https://api.github.com/users/Falco20019/orgs",
      "repos_url": "https://api.github.com/users/Falco20019/repos",
      "events_url": "https://api.github.com/users/Falco20019/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Falco20019/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T20:48:02Z",
    "updated_at": "2019-02-15T21:00:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Logging to another logger worked in one try. Haven’t tested it repeatedly. Even with this constellation, it’s not occurring every time. But pretty regularly. It seems to be a combination of TextWriterLogger and the ares resolver. Even when using GRPC_TRACE=all, this only happens with GRPC_DNS_RESOLVER=ares.\r\n\r\nc-ares was able to resolve the machine name in my case when I did not use logging to a text file. When logging to a file, it either timed out gracefully (1 out of 10 tries) or crashed (8 out of 10 tries). In 1 try it worked even with logging.\r\n\r\nI did a short try using a Logger using ILogger and I saw some entries saying something containing „LEAKED“. I sadly don’t have my notebook with me over the weekend with the log files and the Logger. But using ILogger, it didn’t crash. But I think it failed gracefully in that case. Did the test right before leaving, sorry. This could also just have been from not closing the channel in the snippet."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/464283814",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-464283814",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 464283814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDI4MzgxNA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-16T04:02:31Z",
    "updated_at": "2019-02-16T04:02:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, that \"DNS resolution failure\" that I thought I was encountering was actually just a subtle bug, described in https://github.com/grpc/grpc/pull/18084 - WIP fixing this."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/464657350",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-464657350",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 464657350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDY1NzM1MA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-18T09:36:32Z",
    "updated_at": "2019-02-18T09:36:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "FTR, regarding the \"access violation\": this too appears to be caused by same the fact that we make incorrectly error out of a DNS query because we a stale WSA socket error code comparison. When we do this, we initiate a WSA operation on a socket but [don't call grpc_socket_notify_on_read](https://github.com/grpc/grpc/blob/master/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_windows.cc#L131). So when we then [destroy](https://github.com/grpc/grpc/blob/master/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_windows.cc#L93) the socket, we'll [not realize ](https://github.com/grpc/grpc/blob/9963a1b87da3aae996d9a1d24bf95dc57349007e/src/core/lib/iomgr/socket_windows.cc#L101) that it has an ongoing I/O operation and so prematurely free it."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/465383619",
    "html_url": "https://github.com/grpc/grpc/issues/18074#issuecomment-465383619",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/18074",
    "id": 465383619,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTM4MzYxOQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-20T01:37:46Z",
    "updated_at": "2019-02-20T01:37:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "The fix for this was backported to 1.19.x in https://github.com/grpc/grpc/pull/18092, so it should be released in the 1.19.0 release soonish"
  }
]
