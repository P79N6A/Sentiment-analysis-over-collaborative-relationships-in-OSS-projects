[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/350643714",
    "html_url": "https://github.com/grpc/grpc/issues/13640#issuecomment-350643714",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13640",
    "id": 350643714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDY0MzcxNA==",
    "user": {
      "login": "bryantrobbins",
      "id": 1299268,
      "node_id": "MDQ6VXNlcjEyOTkyNjg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1299268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bryantrobbins",
      "html_url": "https://github.com/bryantrobbins",
      "followers_url": "https://api.github.com/users/bryantrobbins/followers",
      "following_url": "https://api.github.com/users/bryantrobbins/following{/other_user}",
      "gists_url": "https://api.github.com/users/bryantrobbins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bryantrobbins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bryantrobbins/subscriptions",
      "organizations_url": "https://api.github.com/users/bryantrobbins/orgs",
      "repos_url": "https://api.github.com/users/bryantrobbins/repos",
      "events_url": "https://api.github.com/users/bryantrobbins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bryantrobbins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-11T07:34:39Z",
    "updated_at": "2017-12-11T07:36:23Z",
    "author_association": "NONE",
    "body": "I have the same version of ubuntu (17.10) on a VM, and get the same result on 1.7.x.\r\n\r\nFrom some brief digging, this seems to be caused by gcc v 7+ (I have 7.2.0) enabling the reported -Wimplicit-fallthrough warning by default. When I add \"-Wno-implicit-fallthrough\" to the CPPFLAGS entry in the Makefile manually (line 330), I get past that error.\r\n\r\nI then ran into a different gcc 7+ error in the primary source (not zlib), which may be fixed by this PR but is not merged to the v1.7.x branch yet: https://github.com/grpc/grpc/pull/12653.\r\n\r\nIt looks like we may need to back down to gcc < 7 for a build at the moment (or further modify the Makefile). Can anyone confirm the expected level of support for gcc 7 and/or ETA for compatibility in the 1.7.x branch?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/355159547",
    "html_url": "https://github.com/grpc/grpc/issues/13640#issuecomment-355159547",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13640",
    "id": 355159547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTE1OTU0Nw==",
    "user": {
      "login": "isheff",
      "id": 452740,
      "node_id": "MDQ6VXNlcjQ1Mjc0MA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/452740?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isheff",
      "html_url": "https://github.com/isheff",
      "followers_url": "https://api.github.com/users/isheff/followers",
      "following_url": "https://api.github.com/users/isheff/following{/other_user}",
      "gists_url": "https://api.github.com/users/isheff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isheff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isheff/subscriptions",
      "organizations_url": "https://api.github.com/users/isheff/orgs",
      "repos_url": "https://api.github.com/users/isheff/repos",
      "events_url": "https://api.github.com/users/isheff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isheff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-03T23:43:58Z",
    "updated_at": "2018-01-04T00:26:02Z",
    "author_association": "NONE",
    "body": "I have been able to reproduce the same error on a clean Ubuntu 17.10 VM, with the complete history:\r\n```\r\nsudo apt-get install curl git build-essential autoconf libtool libgflags-dev libgtest-dev clang libc++-dev\r\ngit clone -b $(curl -L https://grpc.io/release) https://github.com/grpc/grpc\r\ncd grpc\r\ngit submodule update --init\r\nmake\r\n```\r\n\r\nThe `make` results in:\r\n\r\n```\r\n$ make\r\n[MAKE]    Generating /home/user/grpc/libs/opt/pkgconfig/grpc.pc\r\n[MAKE]    Generating /home/user/grpc/libs/opt/pkgconfig/grpc_unsecure.pc\r\n[MAKE]    Generating cache.mk\r\nmake: Circular /home/user/grpc/libs/opt/libares.a <- /home/user/grpc/libs/opt/libz.a dependency dropped.\r\n[C]       Compiling third_party/cares/cares/ares__close_sockets.c\r\n[C]       Compiling third_party/cares/cares/ares__get_hostent.c\r\n[C]       Compiling third_party/cares/cares/ares__read_line.c\r\n[C]       Compiling third_party/cares/cares/ares__timeval.c\r\n[C]       Compiling third_party/cares/cares/ares_cancel.c\r\n[C]       Compiling third_party/cares/cares/ares_create_query.c\r\n[C]       Compiling third_party/cares/cares/ares_data.c\r\n[C]       Compiling third_party/cares/cares/ares_destroy.c\r\n[C]       Compiling third_party/cares/cares/ares_expand_name.c\r\n[C]       Compiling third_party/cares/cares/ares_expand_string.c\r\n[C]       Compiling third_party/cares/cares/ares_fds.c\r\n[C]       Compiling third_party/cares/cares/ares_free_hostent.c\r\n[C]       Compiling third_party/cares/cares/ares_free_string.c\r\n[C]       Compiling third_party/cares/cares/ares_getenv.c\r\n[C]       Compiling third_party/cares/cares/ares_gethostbyaddr.c\r\n[C]       Compiling third_party/cares/cares/ares_gethostbyname.c\r\n[C]       Compiling third_party/cares/cares/ares_getnameinfo.c\r\n[C]       Compiling third_party/cares/cares/ares_getopt.c\r\n[C]       Compiling third_party/cares/cares/ares_getsock.c\r\n[C]       Compiling third_party/cares/cares/ares_init.c\r\n[C]       Compiling third_party/cares/cares/ares_library_init.c\r\n[C]       Compiling third_party/cares/cares/ares_llist.c\r\n[C]       Compiling third_party/cares/cares/ares_mkquery.c\r\n[C]       Compiling third_party/cares/cares/ares_nowarn.c\r\n[C]       Compiling third_party/cares/cares/ares_options.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_a_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_aaaa_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_mx_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_naptr_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_ns_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_ptr_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_soa_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_srv_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_txt_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_platform.c\r\n[C]       Compiling third_party/cares/cares/ares_process.c\r\n[C]       Compiling third_party/cares/cares/ares_query.c\r\n[C]       Compiling third_party/cares/cares/ares_search.c\r\n[C]       Compiling third_party/cares/cares/ares_send.c\r\n[C]       Compiling third_party/cares/cares/ares_strcasecmp.c\r\n[C]       Compiling third_party/cares/cares/ares_strdup.c\r\n[C]       Compiling third_party/cares/cares/ares_strerror.c\r\n[C]       Compiling third_party/cares/cares/ares_timeout.c\r\n[C]       Compiling third_party/cares/cares/ares_version.c\r\n[C]       Compiling third_party/cares/cares/ares_writev.c\r\n[C]       Compiling third_party/cares/cares/bitncmp.c\r\n[C]       Compiling third_party/cares/cares/inet_net_pton.c\r\n[C]       Compiling third_party/cares/cares/inet_ntop.c\r\n[C]       Compiling third_party/cares/cares/windows_port.c\r\n[AR]      Creating /home/user/grpc/libs/opt/libares.a\r\n[C]       Compiling third_party/zlib/adler32.c\r\n[C]       Compiling third_party/zlib/compress.c\r\n[C]       Compiling third_party/zlib/crc32.c\r\n[C]       Compiling third_party/zlib/deflate.c\r\n[C]       Compiling third_party/zlib/gzclose.c\r\n[C]       Compiling third_party/zlib/gzlib.c\r\n[C]       Compiling third_party/zlib/gzread.c\r\n[C]       Compiling third_party/zlib/gzwrite.c\r\n[C]       Compiling third_party/zlib/infback.c\r\nthird_party/zlib/infback.c: In function ‘inflateBack’:\r\nthird_party/zlib/infback.c:479:25: error: this statement may fall through [-Werror=implicit-fallthrough=]\r\n             state->mode = LEN;\r\n             ~~~~~~~~~~~~^~~~~\r\nthird_party/zlib/infback.c:481:9: note: here\r\n         case LEN:\r\n         ^~~~\r\ncc1: all warnings being treated as errors\r\nMakefile:2569: recipe for target '/home/user/grpc/objs/opt/third_party/zlib/infback.o' failed\r\nmake: *** [/home/user/grpc/objs/opt/third_party/zlib/infback.o] Error 1\r\n```\r\n  \r\nI was eventually able to compile with:\r\n```\r\nmake ; make CFLAGS='-Wno-implicit-fallthrough'\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/355161081",
    "html_url": "https://github.com/grpc/grpc/issues/13640#issuecomment-355161081",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13640",
    "id": 355161081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTE2MTA4MQ==",
    "user": {
      "login": "isheff",
      "id": 452740,
      "node_id": "MDQ6VXNlcjQ1Mjc0MA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/452740?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isheff",
      "html_url": "https://github.com/isheff",
      "followers_url": "https://api.github.com/users/isheff/followers",
      "following_url": "https://api.github.com/users/isheff/following{/other_user}",
      "gists_url": "https://api.github.com/users/isheff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isheff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isheff/subscriptions",
      "organizations_url": "https://api.github.com/users/isheff/orgs",
      "repos_url": "https://api.github.com/users/isheff/repos",
      "events_url": "https://api.github.com/users/isheff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isheff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-03T23:54:17Z",
    "updated_at": "2018-01-04T00:01:01Z",
    "author_association": "NONE",
    "body": "I tried `make CFLAGS='-Wno-implicit-fallthrough'` only to get a different error:\r\n\r\n```\r\n$ make CFLAGS='-Wno-implicit-fallthrough'\r\n[MAKE]    Generating /home/user/grpc/libs/opt/pkgconfig/grpc.pc\r\n[MAKE]    Generating /home/user/grpc/libs/opt/pkgconfig/grpc_unsecure.pc\r\n[MAKE]    Generating cache.mk\r\nmake: Circular /home/user/grpc/libs/opt/libares.a <- /home/user/grpc/libs/opt/libz.a dependency dropped.\r\n[C]       Compiling third_party/cares/cares/ares__close_sockets.c\r\n[C]       Compiling third_party/cares/cares/ares__get_hostent.c\r\n[C]       Compiling third_party/cares/cares/ares__read_line.c\r\n[C]       Compiling third_party/cares/cares/ares__timeval.c\r\n[C]       Compiling third_party/cares/cares/ares_cancel.c\r\n[C]       Compiling third_party/cares/cares/ares_create_query.c\r\n[C]       Compiling third_party/cares/cares/ares_data.c\r\n[C]       Compiling third_party/cares/cares/ares_destroy.c\r\n[C]       Compiling third_party/cares/cares/ares_expand_name.c\r\n[C]       Compiling third_party/cares/cares/ares_expand_string.c\r\n[C]       Compiling third_party/cares/cares/ares_fds.c\r\n[C]       Compiling third_party/cares/cares/ares_free_hostent.c\r\n[C]       Compiling third_party/cares/cares/ares_free_string.c\r\n[C]       Compiling third_party/cares/cares/ares_getenv.c\r\n[C]       Compiling third_party/cares/cares/ares_gethostbyaddr.c\r\n[C]       Compiling third_party/cares/cares/ares_gethostbyname.c\r\n[C]       Compiling third_party/cares/cares/ares_getnameinfo.c\r\n[C]       Compiling third_party/cares/cares/ares_getopt.c\r\n[C]       Compiling third_party/cares/cares/ares_getsock.c\r\n[C]       Compiling third_party/cares/cares/ares_init.c\r\n[C]       Compiling third_party/cares/cares/ares_library_init.c\r\n[C]       Compiling third_party/cares/cares/ares_llist.c\r\n[C]       Compiling third_party/cares/cares/ares_mkquery.c\r\n[C]       Compiling third_party/cares/cares/ares_nowarn.c\r\n[C]       Compiling third_party/cares/cares/ares_options.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_a_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_aaaa_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_mx_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_naptr_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_ns_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_ptr_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_soa_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_srv_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_parse_txt_reply.c\r\n[C]       Compiling third_party/cares/cares/ares_platform.c\r\n[C]       Compiling third_party/cares/cares/ares_process.c\r\n[C]       Compiling third_party/cares/cares/ares_query.c\r\n[C]       Compiling third_party/cares/cares/ares_search.c\r\n[C]       Compiling third_party/cares/cares/ares_send.c\r\n[C]       Compiling third_party/cares/cares/ares_strcasecmp.c\r\n[C]       Compiling third_party/cares/cares/ares_strdup.c\r\n[C]       Compiling third_party/cares/cares/ares_strerror.c\r\n[C]       Compiling third_party/cares/cares/ares_timeout.c\r\n[C]       Compiling third_party/cares/cares/ares_version.c\r\n[C]       Compiling third_party/cares/cares/ares_writev.c\r\n[C]       Compiling third_party/cares/cares/bitncmp.c\r\n[C]       Compiling third_party/cares/cares/inet_net_pton.c\r\n[C]       Compiling third_party/cares/cares/inet_ntop.c\r\n[C]       Compiling third_party/cares/cares/windows_port.c\r\n[AR]      Creating /home/user/grpc/libs/opt/libares.a\r\n[C]       Compiling third_party/zlib/adler32.c\r\n[C]       Compiling third_party/zlib/compress.c\r\n[C]       Compiling third_party/zlib/crc32.c\r\n[C]       Compiling third_party/zlib/deflate.c\r\n[C]       Compiling third_party/zlib/gzclose.c\r\n[C]       Compiling third_party/zlib/gzlib.c\r\nthird_party/zlib/gzlib.c: In function ‘gz_open’:\r\nthird_party/zlib/gzlib.c:14:17: error: implicit declaration of function ‘lseek’; did you mean ‘fseek’? [-Werror=implicit-function-declaration]\r\n #  define LSEEK lseek\r\n                 ^\r\nthird_party/zlib/gzlib.c:252:9: note: in expansion of macro ‘LSEEK’\r\n         LSEEK(state->fd, 0, SEEK_END);  /* so gzoffset() is correct */\r\n         ^~~~~\r\ncc1: all warnings being treated as errors\r\nMakefile:2569: recipe for target '/home/user/grpc/objs/opt/third_party/zlib/gzlib.o' failed\r\nmake: *** [/home/user/grpc/objs/opt/third_party/zlib/gzlib.o] Error 1\r\n\r\n```\r\n  \r\nThis was on a fresh install, with the complete history:\r\n\r\n```\r\nsudo apt-get install curl git build-essential autoconf libtool libgflags-dev libgtest-dev clang libc++-dev\r\ngit clone -b $(curl -L https://grpc.io/release) https://github.com/grpc/grpc\r\ncd grpc\r\ngit submodule update --init\r\nmake CFLAGS='-Wno-implicit-fallthrough'\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/355403285",
    "html_url": "https://github.com/grpc/grpc/issues/13640#issuecomment-355403285",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13640",
    "id": 355403285,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQwMzI4NQ==",
    "user": {
      "login": "isheff",
      "id": 452740,
      "node_id": "MDQ6VXNlcjQ1Mjc0MA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/452740?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isheff",
      "html_url": "https://github.com/isheff",
      "followers_url": "https://api.github.com/users/isheff/followers",
      "following_url": "https://api.github.com/users/isheff/following{/other_user}",
      "gists_url": "https://api.github.com/users/isheff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isheff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isheff/subscriptions",
      "organizations_url": "https://api.github.com/users/isheff/orgs",
      "repos_url": "https://api.github.com/users/isheff/repos",
      "events_url": "https://api.github.com/users/isheff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isheff/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-04T21:26:32Z",
    "updated_at": "2018-01-04T21:26:32Z",
    "author_association": "NONE",
    "body": "I have made an example Ubuntu 17.10 VirtualBox VM, in which everything has been set up, and `make` has failed, available at https://blacker.caltech.edu/~isheff/Generic_Ubuntu_2_grpc_does_not_compile.ova .\r\n\r\nUsername: user\r\nPassword: xyzzy\r\n\r\nThe complete history of this machine is as follows:\r\n```\r\nsudo apt-get install curl git build-essential autoconf libtool libgflags-dev libgtest-dev clang libc++-dev\r\ngit clone -b $(curl -L https://grpc.io/release) https://github.com/grpc/grpc\r\ncd grpc\r\ngit submodule update --init\r\nmake\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/359764815",
    "html_url": "https://github.com/grpc/grpc/issues/13640#issuecomment-359764815",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13640",
    "id": 359764815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTc2NDgxNQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-23T11:41:08Z",
    "updated_at": "2018-01-23T11:41:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is duplicate of https://github.com/grpc/grpc/issues/13854 (ubuntu 17.10 has gcc 7.2)"
  }
]
