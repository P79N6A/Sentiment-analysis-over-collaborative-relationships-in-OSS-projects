[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/393400762",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-393400762",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 393400762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzQwMDc2Mg==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-31T04:45:59Z",
    "updated_at": "2018-05-31T04:45:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Do you think you could provide a quick reproduction code in the form of an archive or a repository for us to clone ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/393423856",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-393423856",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 393423856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzQyMzg1Ng==",
    "user": {
      "login": "NivedhaSenthil",
      "id": 6358540,
      "node_id": "MDQ6VXNlcjYzNTg1NDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6358540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NivedhaSenthil",
      "html_url": "https://github.com/NivedhaSenthil",
      "followers_url": "https://api.github.com/users/NivedhaSenthil/followers",
      "following_url": "https://api.github.com/users/NivedhaSenthil/following{/other_user}",
      "gists_url": "https://api.github.com/users/NivedhaSenthil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NivedhaSenthil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NivedhaSenthil/subscriptions",
      "organizations_url": "https://api.github.com/users/NivedhaSenthil/orgs",
      "repos_url": "https://api.github.com/users/NivedhaSenthil/repos",
      "events_url": "https://api.github.com/users/NivedhaSenthil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NivedhaSenthil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-31T06:38:42Z",
    "updated_at": "2018-05-31T06:38:42Z",
    "author_association": "NONE",
    "body": "The issue can be reproduced by running [Gauge](https://gauge.org/) specs. \r\n\r\nSteps for when seg fault actually happend:\r\n\r\n- Install Gauge for Ubuntu - https://gauge.org/get-started.html\r\n- Install python plugin\r\n- Do `gauge init python` in empty directory\r\n- Open above created gauge project in VS-Code\r\n- Run `gauge run specs` from terminal\r\n\r\nThe segmentation fault gets logged into lsp.log in logs folder of gauge project. And I got the crash report from /var/crash, unpacked it to get core dump.\r\nSeems like connection to the client is getting lost and then grpc fails with seg fault.\r\n\r\nI am trying if I can replicate the same with some simple project. Will get back if I could do that."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394606732",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-394606732",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 394606732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDYwNjczMg==",
    "user": {
      "login": "NivedhaSenthil",
      "id": 6358540,
      "node_id": "MDQ6VXNlcjYzNTg1NDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6358540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NivedhaSenthil",
      "html_url": "https://github.com/NivedhaSenthil",
      "followers_url": "https://api.github.com/users/NivedhaSenthil/followers",
      "following_url": "https://api.github.com/users/NivedhaSenthil/following{/other_user}",
      "gists_url": "https://api.github.com/users/NivedhaSenthil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NivedhaSenthil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NivedhaSenthil/subscriptions",
      "organizations_url": "https://api.github.com/users/NivedhaSenthil/orgs",
      "repos_url": "https://api.github.com/users/NivedhaSenthil/repos",
      "events_url": "https://api.github.com/users/NivedhaSenthil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NivedhaSenthil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T07:17:05Z",
    "updated_at": "2018-06-05T07:18:03Z",
    "author_association": "NONE",
    "body": "Happens with Ubuntu versions 17 and 18, not replicable in 16. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394807513",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-394807513",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 394807513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDgwNzUxMw==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T18:10:55Z",
    "updated_at": "2018-06-05T18:10:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@NivedhaSenthil, is there any fork() involved in your application?\r\n@sreecha, have seen a similar crash before? Please see the stacktrace above."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394894118",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-394894118",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 394894118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDg5NDExOA==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T23:38:38Z",
    "updated_at": "2018-06-05T23:38:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have not seen this callstack before.  This is very strange since the segfault is happening in a thread when accessing a thread-local-value that was just set in one of the earlier functions in the callstack..\r\n\r\ni.e From the callstack, I see the following:\r\n- [`cq_next`](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/surface/completion_queue.cc#L838) called [`pollset_work`](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/surface/completion_queue.cc#L929)\r\n(**Note that `cq_next` creates a new `exec_ctx` [here](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/surface/completion_queue.cc#L868))**\r\n- `pollset_work` called [`do_epoll_wait`](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/iomgr/ev_epoll1_linux.cc#L970)\r\n- [`do_epoll_wait`](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/iomgr/ev_epoll1_linux.cc#L639)  called [`poll_deadline_to_millis_timeout`](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/iomgr/ev_epoll1_linux.cc#L576) which called [`grpc_core::ExecCtx::Get()->Now()`](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/iomgr/ev_epoll1_linux.cc#L578)\r\n- For some reason this is seg-faulting at [`ExecCtx::Get()`](https://github.com/grpc/grpc/blob/v1.12.0/src/core/lib/iomgr/exec_ctx.h#L180) - implying that `&exec_ctx_` is an invalid address (but we know that it was just set in `cq_next` above)\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/394942780",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-394942780",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 394942780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDk0Mjc4MA==",
    "user": {
      "login": "NivedhaSenthil",
      "id": 6358540,
      "node_id": "MDQ6VXNlcjYzNTg1NDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6358540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NivedhaSenthil",
      "html_url": "https://github.com/NivedhaSenthil",
      "followers_url": "https://api.github.com/users/NivedhaSenthil/followers",
      "following_url": "https://api.github.com/users/NivedhaSenthil/following{/other_user}",
      "gists_url": "https://api.github.com/users/NivedhaSenthil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NivedhaSenthil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NivedhaSenthil/subscriptions",
      "organizations_url": "https://api.github.com/users/NivedhaSenthil/orgs",
      "repos_url": "https://api.github.com/users/NivedhaSenthil/repos",
      "events_url": "https://api.github.com/users/NivedhaSenthil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NivedhaSenthil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-06T05:16:11Z",
    "updated_at": "2018-06-06T05:16:11Z",
    "author_association": "NONE",
    "body": "No there is no fork in the application. And one more observation is the segfault is happening because of a stackoverflow.\r\n<img width=\"710\" alt=\"screen shot 2018-06-06 at 9 58 13 am\" src=\"https://user-images.githubusercontent.com/6358540/41018319-c2eb69c8-6976-11e8-964a-884b36740cb6.png\">\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/395159496",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-395159496",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 395159496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTE1OTQ5Ng==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-06T17:59:14Z",
    "updated_at": "2018-06-06T17:59:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is there any way you can increase the maximum stack size in gauge?\r\n\r\nI'm unaware of any infinite-recursion issues in gRPC so the most likely culprit is just running in an environment with a stack size that is too small."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/395283426",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-395283426",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 395283426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTI4MzQyNg==",
    "user": {
      "login": "NivedhaSenthil",
      "id": 6358540,
      "node_id": "MDQ6VXNlcjYzNTg1NDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6358540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NivedhaSenthil",
      "html_url": "https://github.com/NivedhaSenthil",
      "followers_url": "https://api.github.com/users/NivedhaSenthil/followers",
      "following_url": "https://api.github.com/users/NivedhaSenthil/following{/other_user}",
      "gists_url": "https://api.github.com/users/NivedhaSenthil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NivedhaSenthil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NivedhaSenthil/subscriptions",
      "organizations_url": "https://api.github.com/users/NivedhaSenthil/orgs",
      "repos_url": "https://api.github.com/users/NivedhaSenthil/repos",
      "events_url": "https://api.github.com/users/NivedhaSenthil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NivedhaSenthil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T03:45:14Z",
    "updated_at": "2018-06-07T03:45:14Z",
    "author_association": "NONE",
    "body": "I can see the maximum stack size is 8194KB will try increasing the stack size and get back. And the issue is happening only and as soon as another process is started. Grpc server is started binding to port 0, thus it should be binding to any free port. That's surprising and not able to find any corelation between the two processes. \r\n\r\nThe issue does not happen when a debugger is attached to the running process, hence not able to get more traces."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/395512242",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-395512242",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 395512242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTUxMjI0Mg==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T18:03:57Z",
    "updated_at": "2018-06-07T18:03:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "How many threads are there when the crash happens?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/396117945",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-396117945",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 396117945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjExNzk0NQ==",
    "user": {
      "login": "NivedhaSenthil",
      "id": 6358540,
      "node_id": "MDQ6VXNlcjYzNTg1NDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6358540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NivedhaSenthil",
      "html_url": "https://github.com/NivedhaSenthil",
      "followers_url": "https://api.github.com/users/NivedhaSenthil/followers",
      "following_url": "https://api.github.com/users/NivedhaSenthil/following{/other_user}",
      "gists_url": "https://api.github.com/users/NivedhaSenthil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NivedhaSenthil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NivedhaSenthil/subscriptions",
      "organizations_url": "https://api.github.com/users/NivedhaSenthil/orgs",
      "repos_url": "https://api.github.com/users/NivedhaSenthil/repos",
      "events_url": "https://api.github.com/users/NivedhaSenthil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NivedhaSenthil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T04:15:08Z",
    "updated_at": "2018-06-11T04:15:08Z",
    "author_association": "NONE",
    "body": "There were 6 thread running."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/396566089",
    "html_url": "https://github.com/grpc/grpc/issues/15581#issuecomment-396566089",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15581",
    "id": 396566089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjU2NjA4OQ==",
    "user": {
      "login": "NivedhaSenthil",
      "id": 6358540,
      "node_id": "MDQ6VXNlcjYzNTg1NDA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/6358540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NivedhaSenthil",
      "html_url": "https://github.com/NivedhaSenthil",
      "followers_url": "https://api.github.com/users/NivedhaSenthil/followers",
      "following_url": "https://api.github.com/users/NivedhaSenthil/following{/other_user}",
      "gists_url": "https://api.github.com/users/NivedhaSenthil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NivedhaSenthil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NivedhaSenthil/subscriptions",
      "organizations_url": "https://api.github.com/users/NivedhaSenthil/orgs",
      "repos_url": "https://api.github.com/users/NivedhaSenthil/repos",
      "events_url": "https://api.github.com/users/NivedhaSenthil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NivedhaSenthil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T12:07:17Z",
    "updated_at": "2018-06-12T12:07:17Z",
    "author_association": "NONE",
    "body": "Doing a pip upgrade solved this issue. It seems to be happening because of an issue(https://github.com/pypa/setuptools/issues/951) in setuptools which is required by protobuf. The default pip installed when we do `apt install python-pip` is `9.0.1` which dint have the fix, thus after upgrading to `10.0.1` things  started working fine."
  }
]
