[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297548714",
    "html_url": "https://github.com/grpc/grpc/issues/10140#issuecomment-297548714",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10140",
    "id": 297548714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU0ODcxNA==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T21:37:35Z",
    "updated_at": "2017-04-26T21:37:35Z",
    "author_association": "MEMBER",
    "body": "Forking isn't yet supported in gRPC Python; [this message](https://github.com/grpc/grpc/issues/7951#issuecomment-260811550) on [this issue](https://github.com/grpc/grpc/issues/7951) gets into some of the reasons why.\r\n\r\nWe're not sure when fork support will happen, if ever. How much pain is this causing you? How unpleasant is working around the inability to fork?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297554603",
    "html_url": "https://github.com/grpc/grpc/issues/10140#issuecomment-297554603",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10140",
    "id": 297554603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU1NDYwMw==",
    "user": {
      "login": "kahuang",
      "id": 1594551,
      "node_id": "MDQ6VXNlcjE1OTQ1NTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1594551?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kahuang",
      "html_url": "https://github.com/kahuang",
      "followers_url": "https://api.github.com/users/kahuang/followers",
      "following_url": "https://api.github.com/users/kahuang/following{/other_user}",
      "gists_url": "https://api.github.com/users/kahuang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kahuang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kahuang/subscriptions",
      "organizations_url": "https://api.github.com/users/kahuang/orgs",
      "repos_url": "https://api.github.com/users/kahuang/repos",
      "events_url": "https://api.github.com/users/kahuang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kahuang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T22:03:21Z",
    "updated_at": "2017-04-26T22:03:21Z",
    "author_association": "NONE",
    "body": "To clarify, we don't instantiate any grpc stuff prefork, so post fork we're able to use grpc.\r\n\r\nThe issue is, after extended use with greenlets we'll get a memory corruption. We think it's some issue related to greenlets, and creating new threads in greenlets since we were able to reproduce without grpc.\r\n\r\nThat being said - the fork issue has been a problem for things that instantiate grpc connections prefork. We've worked around it for now by having a \"grpc proxy\" process that we talk to over http that does the grpc call for us, then returns the results. This is pretty messy, but works... Downsides include not being able to use streaming rpcs through the proxy since we're using http1 and serialization/deserialization overhead (which can add up to quite a bit).\r\n\r\nIdeally this could work post fork, since its a bit of a headache to get the proxy process set up correctly everywhere + the perf impacts of having a proxy layer.\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297816587",
    "html_url": "https://github.com/grpc/grpc/issues/10140#issuecomment-297816587",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10140",
    "id": 297816587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzgxNjU4Nw==",
    "user": {
      "login": "kahuang",
      "id": 1594551,
      "node_id": "MDQ6VXNlcjE1OTQ1NTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/1594551?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kahuang",
      "html_url": "https://github.com/kahuang",
      "followers_url": "https://api.github.com/users/kahuang/followers",
      "following_url": "https://api.github.com/users/kahuang/following{/other_user}",
      "gists_url": "https://api.github.com/users/kahuang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kahuang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kahuang/subscriptions",
      "organizations_url": "https://api.github.com/users/kahuang/orgs",
      "repos_url": "https://api.github.com/users/kahuang/repos",
      "events_url": "https://api.github.com/users/kahuang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kahuang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-27T19:33:56Z",
    "updated_at": "2017-04-27T19:34:28Z",
    "author_association": "NONE",
    "body": "It would be great if there were some function we could call to clear any \"shared\" state post fork so that the forked processes can use grpc independently. (Provided that it's difficult to make the underlying c-core fork safe... which is what it seems like from the issue)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/297818053",
    "html_url": "https://github.com/grpc/grpc/issues/10140#issuecomment-297818053",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10140",
    "id": 297818053,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzgxODA1Mw==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-27T19:40:07Z",
    "updated_at": "2017-04-27T19:40:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is definitely on the horizon\r\nhttps://github.com/grpc/grpc/pull/10155"
  }
]
