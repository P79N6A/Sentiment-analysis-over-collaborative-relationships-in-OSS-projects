[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/336638642",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-336638642",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 336638642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjYzODY0Mg==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-14T14:32:51Z",
    "updated_at": "2017-10-14T14:32:51Z",
    "author_association": "MEMBER",
    "body": "Wow. It's fascinating that that makes a difference. I wonder if we're structuring something wrong in our package or if it's a `pip` problem."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/336638910",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-336638910",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 336638910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjYzODkxMA==",
    "user": {
      "login": "jleni",
      "id": 13698520,
      "node_id": "MDQ6VXNlcjEzNjk4NTIw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13698520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jleni",
      "html_url": "https://github.com/jleni",
      "followers_url": "https://api.github.com/users/jleni/followers",
      "following_url": "https://api.github.com/users/jleni/following{/other_user}",
      "gists_url": "https://api.github.com/users/jleni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jleni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jleni/subscriptions",
      "organizations_url": "https://api.github.com/users/jleni/orgs",
      "repos_url": "https://api.github.com/users/jleni/repos",
      "events_url": "https://api.github.com/users/jleni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jleni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-14T14:37:12Z",
    "updated_at": "2017-10-14T14:37:12Z",
    "author_association": "NONE",
    "body": "Yes, I was very surprised. Sorry I didn't have time to go deeper. I am really curious about what is the underlying reason for this."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/336652727",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-336652727",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 336652727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjY1MjcyNw==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-14T18:03:07Z",
    "updated_at": "2017-10-14T18:04:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like the slow version tries to compile grpcio-tools from source for some reason. That's why it takes so long. I don't know why pip is doing that."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/336653821",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-336653821",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 336653821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjY1MzgyMQ==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-14T18:20:30Z",
    "updated_at": "2017-10-14T18:27:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Simply running `pip install grpcio-health-checking grpcio-tools` can reproduce the problem too. For some reason, when pip installs `grpcio-tools` alone, it works fine, but when it is accompanied by `grpcio-reflection` or `grpcio-health-checking`, it tries building from source and invoking C compilers in the process (this happens irrespective of whether `grpcio` package is preinstalled or not).\r\n\r\nFYI, I tried `pip install grpcio-tools tensorflow` and it works fine though."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337712099",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-337712099",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 337712099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzcxMjA5OQ==",
    "user": {
      "login": "jleni",
      "id": 13698520,
      "node_id": "MDQ6VXNlcjEzNjk4NTIw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13698520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jleni",
      "html_url": "https://github.com/jleni",
      "followers_url": "https://api.github.com/users/jleni/followers",
      "following_url": "https://api.github.com/users/jleni/following{/other_user}",
      "gists_url": "https://api.github.com/users/jleni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jleni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jleni/subscriptions",
      "organizations_url": "https://api.github.com/users/jleni/orgs",
      "repos_url": "https://api.github.com/users/jleni/repos",
      "events_url": "https://api.github.com/users/jleni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jleni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T20:06:22Z",
    "updated_at": "2017-10-18T20:06:22Z",
    "author_association": "NONE",
    "body": "@mehrdada kpayson64 Are you already working on this or a PR would be useful?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337716176",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-337716176",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 337716176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzcxNjE3Ng==",
    "user": {
      "login": "kpayson64",
      "id": 18316330,
      "node_id": "MDQ6VXNlcjE4MzE2MzMw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/18316330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kpayson64",
      "html_url": "https://github.com/kpayson64",
      "followers_url": "https://api.github.com/users/kpayson64/followers",
      "following_url": "https://api.github.com/users/kpayson64/following{/other_user}",
      "gists_url": "https://api.github.com/users/kpayson64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kpayson64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kpayson64/subscriptions",
      "organizations_url": "https://api.github.com/users/kpayson64/orgs",
      "repos_url": "https://api.github.com/users/kpayson64/repos",
      "events_url": "https://api.github.com/users/kpayson64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kpayson64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T20:22:05Z",
    "updated_at": "2017-10-18T20:22:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm not investigating this at the moment, but if you had a PR for a fix that would be great!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/337718301",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-337718301",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 337718301,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzcxODMwMQ==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T20:29:41Z",
    "updated_at": "2017-10-18T20:29:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jleni  I played with it a bit and it is not clear what, or if, we are doing something wrong, so I gave up, since it does not seem like a blocking issue for users (is it?). At the moment, the root cause might be an issue with `pip`. A PR would be appreciated for sure if you know the root cause (or a workaround in our packaging that makes the symptom go away). Meanwhile, you may want to file a bug with `pip` as well. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/341284563",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-341284563",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 341284563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTI4NDU2Mw==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-02T00:39:03Z",
    "updated_at": "2017-11-02T00:41:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think I have narrowed down it to:\r\n\r\n- `grpcio_reflection` package uses `grpcio-tools` to compile the `reflection.proto` file to `pb2` when the package is built from source (same for `grpcio_health_checking`). [I am not sure if this is how we build the package in our CI system, because we do package the generated `_pb2` in the `.tar.gz` already, but had we wanted to build it from source individually, it would have worked that way.]\r\n- `grpcio_reflection` package has a `setup.py` that declares `grpcio-tools` package in its `setup_requires`.\r\n- For some reason (my speculation is uploading the reflection package in `.tar.gz` format as opposed to binary wheel), `pip` tries to \"build\" `grpcio_reflection` from \"source\" and hands it to `setuptools`. Apparently `setuptools` is entirely out of `pip`'s control, so the moment that gets handed over, it tries to hand it over to `easy_install` (my understanding might be wrong, but it would be another python build system altogether) instead to fetch and install `grpcio-tools` (but unlike `pip` it is dumb and installs it from source), unless it finds `grpcio-tools` package in `PYTHONPATH` already."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/351294582",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-351294582",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 351294582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTI5NDU4Mg==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-13T06:18:35Z",
    "updated_at": "2017-12-13T06:18:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jleni This should be fixed now that 1.8.0 is on PyPI. Please verify and let us know if it is not."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391653008",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-391653008",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 391653008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTY1MzAwOA==",
    "user": {
      "login": "xvzf",
      "id": 2091216,
      "node_id": "MDQ6VXNlcjIwOTEyMTY=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2091216?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xvzf",
      "html_url": "https://github.com/xvzf",
      "followers_url": "https://api.github.com/users/xvzf/followers",
      "following_url": "https://api.github.com/users/xvzf/following{/other_user}",
      "gists_url": "https://api.github.com/users/xvzf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xvzf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xvzf/subscriptions",
      "organizations_url": "https://api.github.com/users/xvzf/orgs",
      "repos_url": "https://api.github.com/users/xvzf/repos",
      "events_url": "https://api.github.com/users/xvzf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xvzf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-24T09:38:12Z",
    "updated_at": "2018-05-24T09:38:12Z",
    "author_association": "NONE",
    "body": "@mehrdada \r\n\r\nIt seems like it is not fixed completely - when using `tox` and installing `grpcio` with a `requirements.txt` looking like this:\r\n```\r\ngrpcio>=1.11.0\r\ngrpcio-tools>=1.11.0\r\npytest>=3.5.0\r\n```\r\nit starts compiling it again!"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/391759190",
    "html_url": "https://github.com/grpc/grpc/issues/12992#issuecomment-391759190",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/12992",
    "id": 391759190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTc1OTE5MA==",
    "user": {
      "login": "mehrdada",
      "id": 900411,
      "node_id": "MDQ6VXNlcjkwMDQxMQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/900411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mehrdada",
      "html_url": "https://github.com/mehrdada",
      "followers_url": "https://api.github.com/users/mehrdada/followers",
      "following_url": "https://api.github.com/users/mehrdada/following{/other_user}",
      "gists_url": "https://api.github.com/users/mehrdada/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mehrdada/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mehrdada/subscriptions",
      "organizations_url": "https://api.github.com/users/mehrdada/orgs",
      "repos_url": "https://api.github.com/users/mehrdada/repos",
      "events_url": "https://api.github.com/users/mehrdada/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mehrdada/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-24T15:34:16Z",
    "updated_at": "2018-05-24T15:34:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@xvzf That might be a separate problem with some `tox` interaction, I'm not sure. Please file a separate issue with repro instructions. I'm pretty confident that unless this is a new regression, the specific issue in this bug is not reproducible. Also please let us know if you manage to repro this exact issue again."
  }
]
