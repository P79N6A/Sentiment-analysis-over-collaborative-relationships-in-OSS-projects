[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/125661405",
    "html_url": "https://github.com/grpc/grpc/pull/2686#issuecomment-125661405",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/2686",
    "id": 125661405,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTY2MTQwNQ==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T15:52:56Z",
    "updated_at": "2015-07-28T15:52:56Z",
    "author_association": "MEMBER",
    "body": "@ctiller, @ejona86: So I have a few options about what I tell users of my API:\n(1) \"if you use upper-case letters in your keys they will be converted to lower-case during transmission\",\n(2) \"if you use upper-case letters in your keys they may be converted to lower-case during transmission\", or\n(3) \"use of upper-case letters is in metadata keys is not supported; don't do it\".\n\nI think (3) is the simplest; is there any reason I should publish (1) or (2) as part of my API instead?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/125725677",
    "html_url": "https://github.com/grpc/grpc/pull/2686#issuecomment-125725677",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/2686",
    "id": 125725677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTcyNTY3Nw==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-28T19:20:07Z",
    "updated_at": "2015-07-28T19:20:07Z",
    "author_association": "MEMBER",
    "body": "(3) is probably simplest.\n(1) is the behavior folks have been implementing so far.\n\nThis is something we should probably come to agreement on and enforce cross-stack.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/125786976",
    "html_url": "https://github.com/grpc/grpc/pull/2686#issuecomment-125786976",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/2686",
    "id": 125786976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTc4Njk3Ng==",
    "user": {
      "login": "ejona86",
      "id": 2811396,
      "node_id": "MDQ6VXNlcjI4MTEzOTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2811396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ejona86",
      "html_url": "https://github.com/ejona86",
      "followers_url": "https://api.github.com/users/ejona86/followers",
      "following_url": "https://api.github.com/users/ejona86/following{/other_user}",
      "gists_url": "https://api.github.com/users/ejona86/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ejona86/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ejona86/subscriptions",
      "organizations_url": "https://api.github.com/users/ejona86/orgs",
      "repos_url": "https://api.github.com/users/ejona86/repos",
      "events_url": "https://api.github.com/users/ejona86/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ejona86/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-29T00:14:06Z",
    "updated_at": "2015-07-29T00:14:06Z",
    "author_association": "MEMBER",
    "body": "In Java, we do none of the above from a user-perspective, since we don't actually have an API to iterate the keys. Instead, we have a Metadata class that does case-insensitive lookups, and the key must always be provided. But it is true that we lower-case all the strings internally.\n\nDue to \"reasons\" like \"static typing\" we have our users create Keys with an associated type, which we expect them to just treat as constants. When we create a key, we [lowercase its name](https://github.com/grpc/grpc-java/blob/master/core/src/main/java/io/grpc/Metadata.java#L425).\n\nI will also note that HTTP in general provides no general guarantee of maintaining ordering of keys. The only guarantee it provides is that multi-valued keys will have their values in the same order. In Java, that is all we would guarantee, and we don't even have an API to iterate all keys/values.\n\n@ctiller, FYI, I got to thinking about binary keys. If an intermediary combines two binary values with a comma, that isn't base64. We'll need to split on comma as part of decoding, in order to not error.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/126092291",
    "html_url": "https://github.com/grpc/grpc/pull/2686#issuecomment-126092291",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/2686",
    "id": 126092291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjA5MjI5MQ==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-29T20:50:19Z",
    "updated_at": "2015-07-29T20:50:19Z",
    "author_association": "MEMBER",
    "body": "I think this is ready for re-review (but don't merge without @soltanmm's say-so; see below). I'm going to go with banning upper-case letters in keys in my public API and the behavior that is checked in the code is now \"gRPC is allowed to insert key-value pairs into the metadata values given by applications and to reorder key-value pairs with different keys but it is not allowed to alter existing key-value pairs or to reorder key-value pairs with the same key\".\n\n@soltanmm I am willing to wait for your code reorganization to be merged first; this will be trivially easy to patch up afterward and I think I'd be inconveniencing you if I merged this first.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/127381943",
    "html_url": "https://github.com/grpc/grpc/pull/2686#issuecomment-127381943",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/2686",
    "id": 127381943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzM4MTk0Mw==",
    "user": {
      "login": "nathanielmanistaatgoogle",
      "id": 10131044,
      "node_id": "MDQ6VXNlcjEwMTMxMDQ0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/10131044?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathanielmanistaatgoogle",
      "html_url": "https://github.com/nathanielmanistaatgoogle",
      "followers_url": "https://api.github.com/users/nathanielmanistaatgoogle/followers",
      "following_url": "https://api.github.com/users/nathanielmanistaatgoogle/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathanielmanistaatgoogle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathanielmanistaatgoogle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathanielmanistaatgoogle/subscriptions",
      "organizations_url": "https://api.github.com/users/nathanielmanistaatgoogle/orgs",
      "repos_url": "https://api.github.com/users/nathanielmanistaatgoogle/repos",
      "events_url": "https://api.github.com/users/nathanielmanistaatgoogle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathanielmanistaatgoogle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-03T19:35:50Z",
    "updated_at": "2015-08-03T19:35:50Z",
    "author_association": "MEMBER",
    "body": "@ctiller @soltanmm: this is green-for-Python on both Travis and Jenkins; please merge?\n"
  }
]
