[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164530042",
    "html_url": "https://github.com/grpc/grpc/pull/4450#issuecomment-164530042",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4450",
    "id": 164530042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUzMDA0Mg==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T19:13:59Z",
    "updated_at": "2015-12-14T19:13:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "/cc @yang-g \n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/164530059",
    "html_url": "https://github.com/grpc/grpc/pull/4450#issuecomment-164530059",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4450",
    "id": 164530059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDUzMDA1OQ==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-14T19:14:03Z",
    "updated_at": "2015-12-14T19:14:03Z",
    "author_association": "NONE",
    "body": "Can one of the admins verify this patch?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/165876361",
    "html_url": "https://github.com/grpc/grpc/pull/4450#issuecomment-165876361",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4450",
    "id": 165876361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTg3NjM2MQ==",
    "user": {
      "login": "grpc-kokoro",
      "id": 12722905,
      "node_id": "MDQ6VXNlcjEyNzIyOTA1",
      "avatar_url": "https://avatars3.githubusercontent.com/u/12722905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grpc-kokoro",
      "html_url": "https://github.com/grpc-kokoro",
      "followers_url": "https://api.github.com/users/grpc-kokoro/followers",
      "following_url": "https://api.github.com/users/grpc-kokoro/following{/other_user}",
      "gists_url": "https://api.github.com/users/grpc-kokoro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grpc-kokoro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grpc-kokoro/subscriptions",
      "organizations_url": "https://api.github.com/users/grpc-kokoro/orgs",
      "repos_url": "https://api.github.com/users/grpc-kokoro/repos",
      "events_url": "https://api.github.com/users/grpc-kokoro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grpc-kokoro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-18T19:25:06Z",
    "updated_at": "2015-12-18T19:25:06Z",
    "author_association": "NONE",
    "body": "Can one of the admins verify this patch?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/169520111",
    "html_url": "https://github.com/grpc/grpc/pull/4450#issuecomment-169520111",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4450",
    "id": 169520111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTUyMDExMQ==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T01:46:01Z",
    "updated_at": "2016-01-07T01:46:01Z",
    "author_association": "MEMBER",
    "body": "Can you check and see if the C++ part of this is still needed?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/169536548",
    "html_url": "https://github.com/grpc/grpc/pull/4450#issuecomment-169536548",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4450",
    "id": 169536548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTUzNjU0OA==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T03:10:43Z",
    "updated_at": "2016-01-07T03:10:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right now your fix (i.e https://github.com/grpc/grpc/pull/4453/) works without the need for the C++ part. \nHowever, I think this is by accident :) and we still need the C++ part.. here is why:\n\nIn the change (https://github.com/grpc/grpc/pull/4453/files#diff-b0e0a5183c8545d5b061588dd6c4060fR977), in `receiving_slice_ready()` function, if `success` is `false`, we do not set `bctl->success` to `false` before calling `post_batch_completion()`. \n\nAs a result, `publish_registered_or_batch()` is called with `success == true` which then calls `grpc_cq_end_op` with `success == true` and eventually the c++ code at (https://github.com/grpc/grpc/blob/master/src/cpp/server/server.cc#L559) thinks the op succeeded - i.e `ok == true`.  \n\nHad we set `bctl->success` to `false`  in `receiving_slice_ready`,  this would have caused `ok` to be `false` which then meant that `mrd->SetupRequest()` at \nhttps://github.com/grpc/grpc/blob/master/src/cpp/server/server.cc#L562 would not have been called and we would have a stall again! \n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/169537030",
    "html_url": "https://github.com/grpc/grpc/pull/4450#issuecomment-169537030",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/4450",
    "id": 169537030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTUzNzAzMA==",
    "user": {
      "login": "sreecha",
      "id": 2754995,
      "node_id": "MDQ6VXNlcjI3NTQ5OTU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2754995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sreecha",
      "html_url": "https://github.com/sreecha",
      "followers_url": "https://api.github.com/users/sreecha/followers",
      "following_url": "https://api.github.com/users/sreecha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sreecha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sreecha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sreecha/subscriptions",
      "organizations_url": "https://api.github.com/users/sreecha/orgs",
      "repos_url": "https://api.github.com/users/sreecha/repos",
      "events_url": "https://api.github.com/users/sreecha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sreecha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T03:13:39Z",
    "updated_at": "2016-01-07T03:13:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, my previous statement is based on the assumption that we should set `bctl->success` to `false` in `receiving_slice_ready()` function in case of failures :). Let me know if this is a correct assumption. If so, I can make the change (and the corresponding C++ code changes)\n"
  }
]
