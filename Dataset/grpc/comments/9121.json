[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/270757187",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-270757187",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 270757187,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDc1NzE4Nw==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-05T21:04:42Z",
    "updated_at": "2017-01-05T21:04:42Z",
    "author_association": "MEMBER",
    "body": "Currently there's going to be one write syscall per send, and that's going end up being the bottleneck (though there may be others above the transport layer - especially in the node/c interface).\r\n\r\nWe do have a buffering option in C (GRPC_WRITE_BUFFER_HINT): I'm not sure if it's exposed from Node."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/283832516",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-283832516",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 283832516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzgzMjUxNg==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-03T00:57:51Z",
    "updated_at": "2017-03-03T00:58:07Z",
    "author_association": "MEMBER",
    "body": "Sorry it took so long to respond to this. You can set the write buffer hint on a streaming write by passing `grpc.writeFlags.BUFFER_HINT` as the second argument to the `write` method."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/283854895",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-283854895",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 283854895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzg1NDg5NQ==",
    "user": {
      "login": "tbillington",
      "id": 2771466,
      "node_id": "MDQ6VXNlcjI3NzE0NjY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2771466?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbillington",
      "html_url": "https://github.com/tbillington",
      "followers_url": "https://api.github.com/users/tbillington/followers",
      "following_url": "https://api.github.com/users/tbillington/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbillington/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbillington/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbillington/subscriptions",
      "organizations_url": "https://api.github.com/users/tbillington/orgs",
      "repos_url": "https://api.github.com/users/tbillington/repos",
      "events_url": "https://api.github.com/users/tbillington/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbillington/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-03T03:23:52Z",
    "updated_at": "2017-03-03T03:23:52Z",
    "author_association": "NONE",
    "body": "Why don't you make it the messages able to batch.. ? You could still ask for a single thing at a time, but when you can ask for more, do it all at once. That will cut down a lot of per message overhead."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/284020415",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-284020415",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 284020415,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDAyMDQxNQ==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-03T17:41:52Z",
    "updated_at": "2017-03-03T17:41:52Z",
    "author_association": "MEMBER",
    "body": "I do see a useful possibility here: Node writable streams allow for a `_writev` method to handle multiple writes that have backed up in the stream buffer. We could use that to apply the write buffer hint to all messages but the last whenever multiple messages build up in the stream buffer.\r\n\r\nAnother possibly parallel improvement could be to do a quick poll on `completion_queue_next` every time we start a batch to more quickly handle batches that complete immediately and require no network interaction."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/367314441",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-367314441",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 367314441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzMxNDQ0MQ==",
    "user": {
      "login": "slumbi",
      "id": 757874,
      "node_id": "MDQ6VXNlcjc1Nzg3NA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/757874?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slumbi",
      "html_url": "https://github.com/slumbi",
      "followers_url": "https://api.github.com/users/slumbi/followers",
      "following_url": "https://api.github.com/users/slumbi/following{/other_user}",
      "gists_url": "https://api.github.com/users/slumbi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slumbi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slumbi/subscriptions",
      "organizations_url": "https://api.github.com/users/slumbi/orgs",
      "repos_url": "https://api.github.com/users/slumbi/repos",
      "events_url": "https://api.github.com/users/slumbi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slumbi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-21T12:45:04Z",
    "updated_at": "2018-02-21T12:45:04Z",
    "author_association": "NONE",
    "body": "@murgatroid99  I have tried setting BUFFER_HINT for `write `method, but now messages are never sent. \r\nDo I need sg else apart from call.end() ?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/367417943",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-367417943",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 367417943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzQxNzk0Mw==",
    "user": {
      "login": "murgatroid99",
      "id": 961599,
      "node_id": "MDQ6VXNlcjk2MTU5OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/961599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murgatroid99",
      "html_url": "https://github.com/murgatroid99",
      "followers_url": "https://api.github.com/users/murgatroid99/followers",
      "following_url": "https://api.github.com/users/murgatroid99/following{/other_user}",
      "gists_url": "https://api.github.com/users/murgatroid99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murgatroid99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murgatroid99/subscriptions",
      "organizations_url": "https://api.github.com/users/murgatroid99/orgs",
      "repos_url": "https://api.github.com/users/murgatroid99/repos",
      "events_url": "https://api.github.com/users/murgatroid99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murgatroid99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-21T18:10:21Z",
    "updated_at": "2018-02-21T18:10:21Z",
    "author_association": "MEMBER",
    "body": "The BUFFER_HINT flag means that the message shouldn't be sent yet. If you want the message to be sent, you have to either end the call or write a message without the BUFFER_HINT flag."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/367422319",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-367422319",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 367422319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzQyMjMxOQ==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-21T18:24:41Z",
    "updated_at": "2018-02-21T18:24:41Z",
    "author_association": "MEMBER",
    "body": "(Note: BUFFER_HINT will *eventually* send once buffers are sufficiently\nlarge... I think this defaults to 64kb)\n\nOn Wed, Feb 21, 2018 at 10:10 AM Michael Lumish <notifications@github.com>\nwrote:\n\n> The BUFFER_HINT flag means that the message shouldn't be sent yet. If you\n> want the message to be sent, you have to either end the call or write a\n> message without the BUFFER_HINT flag.\n>\n> —\n> You are receiving this because you commented.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/grpc/grpc/issues/9121#issuecomment-367417943>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AJpudTBLRxktAGVFgSYViKvl4f7untiRks5tXFwmgaJpZM4LNpWp>\n> .\n>\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/367430570",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-367430570",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 367430570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzQzMDU3MA==",
    "user": {
      "login": "slumbi",
      "id": 757874,
      "node_id": "MDQ6VXNlcjc1Nzg3NA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/757874?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slumbi",
      "html_url": "https://github.com/slumbi",
      "followers_url": "https://api.github.com/users/slumbi/followers",
      "following_url": "https://api.github.com/users/slumbi/following{/other_user}",
      "gists_url": "https://api.github.com/users/slumbi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slumbi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slumbi/subscriptions",
      "organizations_url": "https://api.github.com/users/slumbi/orgs",
      "repos_url": "https://api.github.com/users/slumbi/repos",
      "events_url": "https://api.github.com/users/slumbi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slumbi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-21T18:50:53Z",
    "updated_at": "2018-02-21T18:50:53Z",
    "author_association": "NONE",
    "body": "Hmm, weird. My client receives everything nicely without the BUFFER_HINT  flag, but when the flag is set, no messages arrive to the client . Even after calling `end()` on the server. I am sending several dozen megabytes in ~20k messages.."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/369661801",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-369661801",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 369661801,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTY2MTgwMQ==",
    "user": {
      "login": "slumbi",
      "id": 757874,
      "node_id": "MDQ6VXNlcjc1Nzg3NA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/757874?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slumbi",
      "html_url": "https://github.com/slumbi",
      "followers_url": "https://api.github.com/users/slumbi/followers",
      "following_url": "https://api.github.com/users/slumbi/following{/other_user}",
      "gists_url": "https://api.github.com/users/slumbi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slumbi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slumbi/subscriptions",
      "organizations_url": "https://api.github.com/users/slumbi/orgs",
      "repos_url": "https://api.github.com/users/slumbi/repos",
      "events_url": "https://api.github.com/users/slumbi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slumbi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T17:09:27Z",
    "updated_at": "2018-03-01T17:09:27Z",
    "author_association": "NONE",
    "body": "It seems I have hit this  https://github.com/grpc/grpc/issues/12975"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/403090627",
    "html_url": "https://github.com/grpc/grpc/issues/9121#issuecomment-403090627",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/9121",
    "id": 403090627,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzA5MDYyNw==",
    "user": {
      "login": "devinrsmith",
      "id": 6764691,
      "node_id": "MDQ6VXNlcjY3NjQ2OTE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/6764691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/devinrsmith",
      "html_url": "https://github.com/devinrsmith",
      "followers_url": "https://api.github.com/users/devinrsmith/followers",
      "following_url": "https://api.github.com/users/devinrsmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/devinrsmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/devinrsmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/devinrsmith/subscriptions",
      "organizations_url": "https://api.github.com/users/devinrsmith/orgs",
      "repos_url": "https://api.github.com/users/devinrsmith/repos",
      "events_url": "https://api.github.com/users/devinrsmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/devinrsmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-06T16:57:42Z",
    "updated_at": "2018-07-06T16:57:42Z",
    "author_association": "NONE",
    "body": "It would be nice to know which implementations support buffered writing. I'm specifically interested in having the java server side calls to onNext be buffered in some fashion."
  }
]
