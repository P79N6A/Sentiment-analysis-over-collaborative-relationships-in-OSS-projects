[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/414507939",
    "html_url": "https://github.com/grpc/grpc/issues/16392#issuecomment-414507939",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16392",
    "id": 414507939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDUwNzkzOQ==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-21T00:28:12Z",
    "updated_at": "2018-08-21T00:28:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "There should be 2 causes:\r\n1. In php test side, a test only method `clearPersistentList` hasn't finished clean the persistent list while the new test starts running, which cause the flaky.\r\n2. Is there some changes related to the `getConnectivityState` recently?\r\nBased on the BigQuery result, there are tons of  flaky tests happens starting on Aug 17th while there is no change in the PHP side."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/414554241",
    "html_url": "https://github.com/grpc/grpc/issues/16392#issuecomment-414554241",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16392",
    "id": 414554241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDU1NDI0MQ==",
    "user": {
      "login": "AspirinSJL",
      "id": 3314176,
      "node_id": "MDQ6VXNlcjMzMTQxNzY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3314176?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AspirinSJL",
      "html_url": "https://github.com/AspirinSJL",
      "followers_url": "https://api.github.com/users/AspirinSJL/followers",
      "following_url": "https://api.github.com/users/AspirinSJL/following{/other_user}",
      "gists_url": "https://api.github.com/users/AspirinSJL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AspirinSJL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AspirinSJL/subscriptions",
      "organizations_url": "https://api.github.com/users/AspirinSJL/orgs",
      "repos_url": "https://api.github.com/users/AspirinSJL/repos",
      "events_url": "https://api.github.com/users/AspirinSJL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AspirinSJL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-21T05:29:16Z",
    "updated_at": "2018-08-21T05:29:16Z",
    "author_association": "MEMBER",
    "body": "Do you mean `grpc_channel_check_connectivity_state()`? From the history, it's not changed since May.\r\n\r\nWell, we do have some changes related to connectivity though. Let's chat offline."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/415094750",
    "html_url": "https://github.com/grpc/grpc/issues/16392#issuecomment-415094750",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16392",
    "id": 415094750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTA5NDc1MA==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-22T16:30:01Z",
    "updated_at": "2018-08-22T16:30:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Based on the BigQuery results within last 3 days, it seems (1. ) is solved by manually changing the port to be different for each test.\r\n(2) is still happening. The flaky happens in the function:\r\n```\r\npublic function waitUntilNotIdle($channel) {\r\n      channel->getConnectivityState($try_to_connect = true);\r\n      for ($i = 0; $i < 10; $i++) {\r\n          $now = Grpc\\Timeval::now();\r\n          $deadline = $now->add(new Grpc\\Timeval(1000));\r\n          if ($channel->watchConnectivityState(GRPC\\CHANNEL_IDLE,\r\n              $deadline)) {\r\n              return true;\r\n          }\r\n      }\r\n      $this->assertTrue(false);  // <== Test fails here\r\n  }\r\n```\r\nWhen `try_to_connect = true`, either `READY` or `TRANSIENT_FAILURE` can break the loop. But now it remains IDLE sometimes. It can be 10 loops is too short? I will look into this later."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/416269468",
    "html_url": "https://github.com/grpc/grpc/issues/16392#issuecomment-416269468",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16392",
    "id": 416269468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjI2OTQ2OA==",
    "user": {
      "login": "ZhouyihaiDing",
      "id": 28968539,
      "node_id": "MDQ6VXNlcjI4OTY4NTM5",
      "avatar_url": "https://avatars3.githubusercontent.com/u/28968539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZhouyihaiDing",
      "html_url": "https://github.com/ZhouyihaiDing",
      "followers_url": "https://api.github.com/users/ZhouyihaiDing/followers",
      "following_url": "https://api.github.com/users/ZhouyihaiDing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZhouyihaiDing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZhouyihaiDing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZhouyihaiDing/subscriptions",
      "organizations_url": "https://api.github.com/users/ZhouyihaiDing/orgs",
      "repos_url": "https://api.github.com/users/ZhouyihaiDing/repos",
      "events_url": "https://api.github.com/users/ZhouyihaiDing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZhouyihaiDing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-27T15:40:28Z",
    "updated_at": "2018-08-27T15:40:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "According to the bigtable result, this error doesn't happen for 5 days."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/473287514",
    "html_url": "https://github.com/grpc/grpc/issues/16392#issuecomment-473287514",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/16392",
    "id": 473287514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzI4NzUxNA==",
    "user": {
      "login": "yihuazhang",
      "id": 26934891,
      "node_id": "MDQ6VXNlcjI2OTM0ODkx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/26934891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yihuazhang",
      "html_url": "https://github.com/yihuazhang",
      "followers_url": "https://api.github.com/users/yihuazhang/followers",
      "following_url": "https://api.github.com/users/yihuazhang/following{/other_user}",
      "gists_url": "https://api.github.com/users/yihuazhang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yihuazhang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yihuazhang/subscriptions",
      "organizations_url": "https://api.github.com/users/yihuazhang/orgs",
      "repos_url": "https://api.github.com/users/yihuazhang/repos",
      "events_url": "https://api.github.com/users/yihuazhang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yihuazhang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T13:34:15Z",
    "updated_at": "2019-03-15T13:34:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://source.cloud.google.com/results/invocations/e12f8c74-386b-41de-877c-5cfb8505ecf1/targets/github%2Fgrpc%2Fphp_macos_dbg_native/log\r\n\r\n```\r\n`Starting test 'PersistentListTest::testInitHelper'.\r\n.\r\nStarting test 'PersistentListTest::testChannelNotPersist'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelCreateOneChannel'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelCreateMultipleChannels'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelStatusChange'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelCloseChannel'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelSameTarget'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelDifferentTarget'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelSharedChannelClose'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelTargetDefaultUpperBound'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelTargetUpperBoundZero'.\r\n.[Warning] The number of channel for the target localhost:10002 is maxed out bounded.\r\n[Warning] Target upper bound: 0. Current size: 0.\r\n[Warning] Target localhost:10002 will not be persisted.\r\nStarting test 'PersistentListTest::testPersistentChannelTargetUpperBoundNotZero'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelDefaultOutBound1'.\r\n.[Warning] The number of channel for the target localhost:10004 is maxed out bounded.\r\n[Warning] Target upper bound: 1. Current size: 1.\r\n[Warning] Target localhost:10004 will not be persisted.\r\nStarting test 'PersistentListTest::testPersistentChannelDefaultOutBound2'.\r\n.[Warning] The number of channel for the target localhost:10005 is maxed out bounded.\r\n[Warning] Target upper bound: 1. Current size: 1.\r\n[Warning] Target localhost:10005 will not be persisted.\r\nStarting test 'PersistentListTest::testPersistentChannelDefaultOutBound3'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelTwoUpperBound'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelTwoUpperBoundOutBound1'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelTwoUpperBoundOutBound2'.\r\n.\r\nStarting test 'PersistentListTest::testPersistentChannelTwoUpperBoundOutBound3'.\r\nE0314 22:15:55.206738000 140736125797248 ssl_utils.cc:464]             load_file: {\"created\":\"@1552626955.206705000\",\"description\":\"Failed to load file\",\"file\":\"src/core/lib/iomgr/load_file.cc\",\"file_line\":71,\"filename\":\"/usr/local/share/grpc/roots.pem\",\"referenced_errors\":[{\"created\":\"@1552626955.206702000\",\"description\":\"No such file or directory\",\"errno\":2,\"file\":\"src/core/lib/iomgr/load_file.cc\",\"file_line\":45,\"os_error\":\"No such file or directory\",\"syscall\":\"fopen\"}]}\r\nE0314 22:15:55.206795000 140736125797248 ssl_utils.cc:304]             Could not get default pem root certs.\r\nsrc/php/bin/run_tests.sh: line 29:  5193 Segmentation fault: 11  php $extension_dir -d max_execution_time=300 $(which phpunit) -v --debug ../tests/unit_tests/PersistentChannelTests\r\n2019-03-14 22:15:55,209 FAILED: src/php/bin/run_tests.sh [ret=139, pid=5174, time=1.1sec]\r\n2019-03-14 22:15:55,209 FAILED: src/php/bin/run_tests.sh\r\n2019-03-14 22:15:55,222 START: tools/run_tests/helper_scripts/post_tests_php.sh\r\n2019-03-14 22:15:55,231 PASSED: tools/run_tests/helper_scripts/post_tests_php.sh [time=0.0sec, retries=0:0]\r\n2019-03-14 22:15:55,232 FAILED: Some tests failed`\r\n```"
  }
]
