[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/339677594",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-339677594",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 339677594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTY3NzU5NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-26T14:07:06Z",
    "updated_at": "2017-10-26T14:07:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "CC @dgquintas "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/339681473",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-339681473",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 339681473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTY4MTQ3Mw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-26T14:19:28Z",
    "updated_at": "2017-10-26T14:19:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "stats_test also takes ~10mins on dbg & opt."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/340421465",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-340421465",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 340421465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDQyMTQ2NQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-30T11:49:50Z",
    "updated_at": "2017-10-30T11:49:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "We'd need to address this to have some progress with https://github.com/grpc/grpc/issues/11690."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343570404",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-343570404",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 343570404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzU3MDQwNA==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T19:55:11Z",
    "updated_at": "2017-11-10T19:55:11Z",
    "author_association": "NONE",
    "body": "In fact, they timeout: https://sponge.corp.google.com/target?id=15cc1ab7-bc2c-46be-a909-e874af69638f&target=github/grpc/c%2B%2B_macos_dbg_native&searchFor=&show=FAILED&sortBy=STATUS"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343905656",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-343905656",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 343905656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkwNTY1Ng==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T12:33:52Z",
    "updated_at": "2017-11-13T12:33:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, here's a summary of problems:\r\n1. some instances on ASAN take way too long ~1500sec.\r\n2. some instances on dbg/opt on linux take too long   (~700sec for dbg and ~200sec for opt).\r\n3. some instances can timeout on mac, but based on historical data it's not very common.\r\n\r\nThe query:\r\n```\r\nselect * from jenkins_test_results.aggregate_results where test_name like '%/stats_test%' and job_name like 'grpc/ubuntu/%asan%' and timestamp > '2017-10-25 00:00'   order by build_id desc limit 10000  \r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343910276",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-343910276",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 343910276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkxMDI3Ng==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T12:54:12Z",
    "updated_at": "2017-11-13T12:54:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "More insights:\r\nThings are slow for some shards only (HistogramTest.IncHistogram/2 HistogramTest.IncHistogram/4 HistogramTest.IncHistogram/5 and HistogramTest.IncHistogram/7),\r\nwhich corresponds to these stats:\r\nGRPC_STATS_HISTOGRAM_TCP_WRITE_SIZE,\r\nGRPC_STATS_HISTOGRAM_TCP_READ_SIZE,\r\nGRPC_STATS_HISTOGRAM_TCP_READ_OFFER\r\nGRPC_STATS_HISTOGRAM_HTTP2_SEND_MESSAGE_SIZE"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343918554",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-343918554",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 343918554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkxODU1NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T13:27:57Z",
    "updated_at": "2017-11-13T13:27:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think I know what's going on: for some params, the nvalues is way too high:\r\n\r\nFor IncHistogram/1 (which is quick enough), the max nvalues is 1000.\r\n```\r\nGRPC_VERBOSITY=debug bins/dbg/stats_test --gtest_filter=HistogramTestCases/HistogramTest.IncHistogram/1\r\nI1113 14:23:21.966288927   48851 ev_epoll1_linux.cc:95]      grpc epoll fd: 3\r\nD1113 14:23:21.966368951   48851 ev_posix.cc:135]            Using polling engine: epoll1\r\nD1113 14:23:21.966410988   48851 dns_resolver.cc:307]        Using native dns resolver\r\nNote: Google Test filter = HistogramTestCases/HistogramTest.IncHistogram/1\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from HistogramTestCases/HistogramTest\r\n[ RUN      ] HistogramTestCases/HistogramTest.IncHistogram/1\r\nD1113 14:23:21.969645979   48854 stats_test.cc:92]           expected_bucket:0 nvalues=1001\r\nD1113 14:23:21.969768088   48855 stats_test.cc:92]           expected_bucket:1 nvalues=1\r\nD1113 14:23:21.969856448   48857 stats_test.cc:92]           expected_bucket:3 nvalues=1\r\nD1113 14:23:21.969857796   48856 stats_test.cc:92]           expected_bucket:2 nvalues=1\r\nD1113 14:23:21.969950829   48858 stats_test.cc:92]           expected_bucket:4 nvalues=1\r\nD1113 14:23:21.970163868   48860 stats_test.cc:92]           expected_bucket:6 nvalues=1\r\nD1113 14:23:21.970241110   48859 stats_test.cc:92]           expected_bucket:5 nvalues=1\r\nD1113 14:23:21.970342779   48867 stats_test.cc:92]           expected_bucket:13 nvalues=1\r\nD1113 14:23:21.970397269   48866 stats_test.cc:92]           expected_bucket:12 nvalues=1\r\nD1113 14:23:21.970479827   48861 stats_test.cc:92]           expected_bucket:7 nvalues=1\r\nD1113 14:23:21.970592605   48870 stats_test.cc:92]           expected_bucket:16 nvalues=1\r\nD1113 14:23:21.970655602   48862 stats_test.cc:92]           expected_bucket:8 nvalues=1\r\nD1113 14:23:21.970675501   48871 stats_test.cc:92]           expected_bucket:17 nvalues=1\r\nD1113 14:23:21.970747660   48863 stats_test.cc:92]           expected_bucket:9 nvalues=1\r\nD1113 14:23:21.970868743   48864 stats_test.cc:92]           expected_bucket:10 nvalues=1\r\nD1113 14:23:21.970941405   48868 stats_test.cc:92]           expected_bucket:14 nvalues=1\r\nD1113 14:23:21.971138363   48865 stats_test.cc:92]           expected_bucket:11 nvalues=1\r\nD1113 14:23:21.971136995   48869 stats_test.cc:92]           expected_bucket:15 nvalues=1\r\nD1113 14:23:21.971241449   48872 stats_test.cc:92]           expected_bucket:18 nvalues=1\r\nD1113 14:23:21.971560673   48873 stats_test.cc:92]           expected_bucket:19 nvalues=1\r\nD1113 14:23:21.971904633   48874 stats_test.cc:92]           expected_bucket:20 nvalues=1\r\nD1113 14:23:21.971952084   48875 stats_test.cc:92]           expected_bucket:21 nvalues=1\r\nD1113 14:23:21.973548411   48876 stats_test.cc:92]           expected_bucket:22 nvalues=1\r\nD1113 14:23:21.975054959   48877 stats_test.cc:92]           expected_bucket:23 nvalues=1\r\nD1113 14:23:21.975089478   48878 stats_test.cc:92]           expected_bucket:24 nvalues=1\r\nD1113 14:23:21.975127711   48880 stats_test.cc:92]           expected_bucket:26 nvalues=1\r\nD1113 14:23:21.975188804   48881 stats_test.cc:92]           expected_bucket:27 nvalues=1\r\nD1113 14:23:21.975209396   48882 stats_test.cc:92]           expected_bucket:28 nvalues=2\r\nD1113 14:23:21.975276858   48884 stats_test.cc:92]           expected_bucket:30 nvalues=2\r\nD1113 14:23:21.975097095   48879 stats_test.cc:92]           expected_bucket:25 nvalues=1\r\nD1113 14:23:21.975429795   48886 stats_test.cc:92]           expected_bucket:32 nvalues=2\r\nD1113 14:23:21.975542493   48889 stats_test.cc:92]           expected_bucket:35 nvalues=2\r\nD1113 14:23:21.975587019   48890 stats_test.cc:92]           expected_bucket:36 nvalues=2\r\nD1113 14:23:21.975634940   48888 stats_test.cc:92]           expected_bucket:34 nvalues=2\r\nD1113 14:23:21.975678306   48885 stats_test.cc:92]           expected_bucket:31 nvalues=2\r\nD1113 14:23:21.975897710   48892 stats_test.cc:92]           expected_bucket:38 nvalues=2\r\nD1113 14:23:21.975934111   48883 stats_test.cc:92]           expected_bucket:29 nvalues=2\r\nD1113 14:23:21.976004808   48891 stats_test.cc:92]           expected_bucket:37 nvalues=2\r\nD1113 14:23:21.976283653   48887 stats_test.cc:92]           expected_bucket:33 nvalues=2\r\nD1113 14:23:21.976688378   48893 stats_test.cc:92]           expected_bucket:39 nvalues=2\r\nD1113 14:23:21.976728234   48894 stats_test.cc:92]           expected_bucket:40 nvalues=2\r\nD1113 14:23:21.976916938   48898 stats_test.cc:92]           expected_bucket:44 nvalues=3\r\nD1113 14:23:21.976970609   48899 stats_test.cc:92]           expected_bucket:45 nvalues=3\r\nD1113 14:23:21.976990921   48896 stats_test.cc:92]           expected_bucket:42 nvalues=2\r\nD1113 14:23:21.977282120   48897 stats_test.cc:92]           expected_bucket:43 nvalues=2\r\nD1113 14:23:21.976971144   48895 stats_test.cc:92]           expected_bucket:41 nvalues=2\r\nD1113 14:23:21.979747328   48900 stats_test.cc:92]           expected_bucket:46 nvalues=3\r\nD1113 14:23:21.979765762   48901 stats_test.cc:92]           expected_bucket:47 nvalues=3\r\nD1113 14:23:21.979799833   48902 stats_test.cc:92]           expected_bucket:48 nvalues=3\r\nD1113 14:23:21.979846667   48904 stats_test.cc:92]           expected_bucket:50 nvalues=3\r\nD1113 14:23:21.979854715   48903 stats_test.cc:92]           expected_bucket:49 nvalues=3\r\nD1113 14:23:21.980385128   48923 stats_test.cc:92]           expected_bucket:69 nvalues=6\r\nD1113 14:23:21.980467013   48925 stats_test.cc:92]           expected_bucket:71 nvalues=6\r\nD1113 14:23:21.980433758   48905 stats_test.cc:92]           expected_bucket:51 nvalues=3\r\nD1113 14:23:21.980474340   48924 stats_test.cc:92]           expected_bucket:70 nvalues=6\r\nD1113 14:23:21.980538475   48906 stats_test.cc:92]           expected_bucket:52 nvalues=3\r\nD1113 14:23:21.980551590   48911 stats_test.cc:92]           expected_bucket:57 nvalues=4\r\nD1113 14:23:21.980648917   48908 stats_test.cc:92]           expected_bucket:54 nvalues=4\r\nD1113 14:23:21.980642731   48907 stats_test.cc:92]           expected_bucket:53 nvalues=3\r\nD1113 14:23:21.981570530   48922 stats_test.cc:92]           expected_bucket:68 nvalues=5\r\nD1113 14:23:21.981633847   48912 stats_test.cc:92]           expected_bucket:58 nvalues=4\r\nD1113 14:23:21.984531775   48915 stats_test.cc:92]           expected_bucket:61 nvalues=4\r\nD1113 14:23:21.981687182   48914 stats_test.cc:92]           expected_bucket:60 nvalues=4\r\nD1113 14:23:21.981734504   48919 stats_test.cc:92]           expected_bucket:65 nvalues=5\r\nD1113 14:23:21.984602925   48913 stats_test.cc:92]           expected_bucket:59 nvalues=4\r\nD1113 14:23:21.981752217   48921 stats_test.cc:92]           expected_bucket:67 nvalues=5\r\nD1113 14:23:21.981704339   48916 stats_test.cc:92]           expected_bucket:62 nvalues=4\r\nD1113 14:23:21.981705870   48927 stats_test.cc:92]           expected_bucket:73 nvalues=6\r\nD1113 14:23:21.981743530   48920 stats_test.cc:92]           expected_bucket:66 nvalues=5\r\nD1113 14:23:21.985698804   48910 stats_test.cc:92]           expected_bucket:56 nvalues=4\r\nD1113 14:23:21.981716498   48917 stats_test.cc:92]           expected_bucket:63 nvalues=5\r\nD1113 14:23:21.981725779   48918 stats_test.cc:92]           expected_bucket:64 nvalues=5\r\nD1113 14:23:21.986526096   48909 stats_test.cc:92]           expected_bucket:55 nvalues=4\r\nD1113 14:23:21.984481324   48926 stats_test.cc:92]           expected_bucket:72 nvalues=6\r\nD1113 14:23:21.987386839   48928 stats_test.cc:92]           expected_bucket:74 nvalues=6\r\nD1113 14:23:21.987467259   48929 stats_test.cc:92]           expected_bucket:75 nvalues=7\r\nD1113 14:23:21.987514865   48930 stats_test.cc:92]           expected_bucket:76 nvalues=7\r\nD1113 14:23:21.990993089   48938 stats_test.cc:92]           expected_bucket:84 nvalues=9\r\nD1113 14:23:21.991048042   48939 stats_test.cc:92]           expected_bucket:85 nvalues=9\r\nD1113 14:23:21.991084703   48940 stats_test.cc:92]           expected_bucket:86 nvalues=9\r\nD1113 14:23:21.994665476   48946 stats_test.cc:92]           expected_bucket:92 nvalues=11\r\nD1113 14:23:22.001831114   48935 stats_test.cc:92]           expected_bucket:81 nvalues=8\r\nD1113 14:23:22.001871942   48932 stats_test.cc:92]           expected_bucket:78 nvalues=7\r\nD1113 14:23:22.003218769   48933 stats_test.cc:92]           expected_bucket:79 nvalues=8\r\nD1113 14:23:22.003318331   48931 stats_test.cc:92]           expected_bucket:77 nvalues=7\r\nD1113 14:23:22.003345923   48934 stats_test.cc:92]           expected_bucket:80 nvalues=8\r\nD1113 14:23:22.001780888   48945 stats_test.cc:92]           expected_bucket:91 nvalues=11\r\nD1113 14:23:22.007442656   48941 stats_test.cc:92]           expected_bucket:87 nvalues=10\r\nD1113 14:23:22.007433511   48937 stats_test.cc:92]           expected_bucket:83 nvalues=8\r\nD1113 14:23:22.007417847   48936 stats_test.cc:92]           expected_bucket:82 nvalues=8\r\nD1113 14:23:22.007405472   48942 stats_test.cc:92]           expected_bucket:88 nvalues=10\r\nD1113 14:23:22.004984555   48944 stats_test.cc:92]           expected_bucket:90 nvalues=10\r\nD1113 14:23:22.007567701   48947 stats_test.cc:92]           expected_bucket:93 nvalues=11\r\nD1113 14:23:22.010744738   48943 stats_test.cc:92]           expected_bucket:89 nvalues=10\r\nD1113 14:23:22.015586428   48949 stats_test.cc:92]           expected_bucket:95 nvalues=12\r\nD1113 14:23:22.028660245   48948 stats_test.cc:92]           expected_bucket:94 nvalues=12\r\nD1113 14:23:22.043711872   48950 stats_test.cc:92]           expected_bucket:96 nvalues=12\r\nD1113 14:23:22.043748522   48951 stats_test.cc:92]           expected_bucket:97 nvalues=13\r\nD1113 14:23:22.046289553   48952 stats_test.cc:92]           expected_bucket:98 nvalues=13\r\nD1113 14:23:22.046315732   48953 stats_test.cc:92]           expected_bucket:99 nvalues=14\r\nD1113 14:23:22.046336834   48954 stats_test.cc:92]           expected_bucket:100 nvalues=14\r\nD1113 14:23:22.046371827   48955 stats_test.cc:92]           expected_bucket:101 nvalues=14\r\nD1113 14:23:22.046428523   48956 stats_test.cc:92]           expected_bucket:102 nvalues=15\r\nD1113 14:23:22.046477401   48957 stats_test.cc:92]           expected_bucket:103 nvalues=15\r\nD1113 14:23:22.046536981   48958 stats_test.cc:92]           expected_bucket:104 nvalues=16\r\nD1113 14:23:22.047503521   48959 stats_test.cc:92]           expected_bucket:105 nvalues=16\r\nD1113 14:23:22.047886385   48961 stats_test.cc:92]           expected_bucket:107 nvalues=17\r\nD1113 14:23:22.047945849   48962 stats_test.cc:92]           expected_bucket:108 nvalues=18\r\nD1113 14:23:22.050493419   48960 stats_test.cc:92]           expected_bucket:106 nvalues=17\r\nD1113 14:23:22.050495863   48963 stats_test.cc:92]           expected_bucket:109 nvalues=18\r\nD1113 14:23:22.050532937   48964 stats_test.cc:92]           expected_bucket:110 nvalues=19\r\nD1113 14:23:22.050631520   48965 stats_test.cc:92]           expected_bucket:111 nvalues=19\r\nD1113 14:23:22.050703114   48966 stats_test.cc:92]           expected_bucket:112 nvalues=20\r\nD1113 14:23:22.050735293   48967 stats_test.cc:92]           expected_bucket:113 nvalues=20\r\nD1113 14:23:22.050764493   48968 stats_test.cc:92]           expected_bucket:114 nvalues=21\r\nD1113 14:23:22.050823083   48969 stats_test.cc:92]           expected_bucket:115 nvalues=22\r\nD1113 14:23:22.053348646   48970 stats_test.cc:92]           expected_bucket:116 nvalues=22\r\nD1113 14:23:22.054122405   48973 stats_test.cc:92]           expected_bucket:119 nvalues=24\r\nD1113 14:23:22.054167034   48974 stats_test.cc:92]           expected_bucket:120 nvalues=25\r\nD1113 14:23:22.054173847   48975 stats_test.cc:92]           expected_bucket:121 nvalues=25\r\nD1113 14:23:22.054191177   48976 stats_test.cc:92]           expected_bucket:122 nvalues=26\r\nD1113 14:23:22.054243641   48977 stats_test.cc:92]           expected_bucket:123 nvalues=27\r\nD1113 14:23:22.054299797   48978 stats_test.cc:92]           expected_bucket:124 nvalues=27\r\nD1113 14:23:22.054338535   48979 stats_test.cc:92]           expected_bucket:125 nvalues=28\r\nD1113 14:23:22.055998876   48971 stats_test.cc:92]           expected_bucket:117 nvalues=23\r\nD1113 14:23:22.058088983   48980 stats_test.cc:92]           expected_bucket:126 nvalues=29\r\nD1113 14:23:22.058098020   48851 stats_test.cc:92]           expected_bucket:127 nvalues=1000\r\nD1113 14:23:22.058121169   48972 stats_test.cc:92]           expected_bucket:118 nvalues=23\r\n```\r\n\r\nMeanwhile, for IncHistogram/2 (which is very slow), the nvalue is much much higher for some threads (>1million).\r\n\r\n```\r\njtattermusch@jtattermusch0:~/github/grpc$ GRPC_VERBOSITY=debug bins/dbg/stats_test --gtest_filter=HistogramTestCases/HistogramTest.IncHistogram/2\r\nI1113 14:25:25.507052136   49069 ev_epoll1_linux.cc:95]      grpc epoll fd: 3\r\nD1113 14:25:25.507214036   49069 ev_posix.cc:135]            Using polling engine: epoll1\r\nD1113 14:25:25.507287308   49069 dns_resolver.cc:307]        Using native dns resolver\r\nNote: Google Test filter = HistogramTestCases/HistogramTest.IncHistogram/2\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from HistogramTestCases/HistogramTest\r\n[ RUN      ] HistogramTestCases/HistogramTest.IncHistogram/2\r\nD1113 14:25:25.507809744   49072 stats_test.cc:92]           expected_bucket:0 nvalues=1001\r\nD1113 14:25:25.507908446   49073 stats_test.cc:92]           expected_bucket:1 nvalues=1\r\nD1113 14:25:25.507948400   49074 stats_test.cc:92]           expected_bucket:2 nvalues=1\r\nD1113 14:25:25.508096512   49075 stats_test.cc:92]           expected_bucket:3 nvalues=1\r\nD1113 14:25:25.508130280   49076 stats_test.cc:92]           expected_bucket:4 nvalues=2\r\nD1113 14:25:25.508191291   49077 stats_test.cc:92]           expected_bucket:5 nvalues=2\r\nD1113 14:25:25.508274983   49078 stats_test.cc:92]           expected_bucket:6 nvalues=3\r\nD1113 14:25:25.508381342   49079 stats_test.cc:92]           expected_bucket:7 nvalues=4\r\nD1113 14:25:25.508439955   49081 stats_test.cc:92]           expected_bucket:9 nvalues=6\r\nD1113 14:25:25.508518565   49082 stats_test.cc:92]           expected_bucket:10 nvalues=8\r\nD1113 14:25:25.508646769   49083 stats_test.cc:92]           expected_bucket:11 nvalues=10\r\nD1113 14:25:25.508738812   49086 stats_test.cc:92]           expected_bucket:14 nvalues=21\r\nD1113 14:25:25.508791302   49080 stats_test.cc:92]           expected_bucket:8 nvalues=5\r\nD1113 14:25:25.508847874   49088 stats_test.cc:92]           expected_bucket:16 nvalues=34\r\nD1113 14:25:25.509807850   49084 stats_test.cc:92]           expected_bucket:12 nvalues=13\r\nD1113 14:25:25.510191751   49102 stats_test.cc:92]           expected_bucket:30 nvalues=1082\r\nD1113 14:25:25.510358828   49085 stats_test.cc:92]           expected_bucket:13 nvalues=16\r\nD1113 14:25:25.510827841   49104 stats_test.cc:92]           expected_bucket:32 nvalues=1770\r\nD1113 14:25:25.511860273   49106 stats_test.cc:92]           expected_bucket:34 nvalues=2897\r\nD1113 14:25:25.512560449   49107 stats_test.cc:92]           expected_bucket:35 nvalues=3706\r\nD1113 14:25:25.513734552   49091 stats_test.cc:92]           expected_bucket:19 nvalues=72\r\nD1113 14:25:25.513705625   49103 stats_test.cc:92]           expected_bucket:31 nvalues=1384\r\nD1113 14:25:25.519100398   49108 stats_test.cc:92]           expected_bucket:36 nvalues=4741\r\nD1113 14:25:25.519278468   49087 stats_test.cc:92]           expected_bucket:15 nvalues=27\r\nD1113 14:25:25.520873435   49105 stats_test.cc:92]           expected_bucket:33 nvalues=2265\r\nD1113 14:25:25.523429670   49090 stats_test.cc:92]           expected_bucket:18 nvalues=56\r\nD1113 14:25:25.520728556   49089 stats_test.cc:92]           expected_bucket:17 nvalues=44\r\nD1113 14:25:25.527386320   49093 stats_test.cc:92]           expected_bucket:21 nvalues=118\r\nD1113 14:25:25.527427096   49101 stats_test.cc:92]           expected_bucket:29 nvalues=846\r\nD1113 14:25:25.527571124   49094 stats_test.cc:92]           expected_bucket:22 nvalues=151\r\nD1113 14:25:25.531417379   49097 stats_test.cc:92]           expected_bucket:25 nvalues=316\r\nD1113 14:25:25.531409684   49096 stats_test.cc:92]           expected_bucket:24 nvalues=247\r\nD1113 14:25:25.531874153   49098 stats_test.cc:92]           expected_bucket:26 nvalues=404\r\nD1113 14:25:25.531671272   49099 stats_test.cc:92]           expected_bucket:27 nvalues=517\r\nD1113 14:25:25.531688033   49095 stats_test.cc:92]           expected_bucket:23 nvalues=193\r\nD1113 14:25:25.531699469   49092 stats_test.cc:92]           expected_bucket:20 nvalues=92\r\nD1113 14:25:25.531709721   49109 stats_test.cc:92]           expected_bucket:37 nvalues=6065\r\nD1113 14:25:25.577711623   49100 stats_test.cc:92]           expected_bucket:28 nvalues=661\r\nD1113 14:25:25.622381255   49110 stats_test.cc:92]           expected_bucket:38 nvalues=7759\r\nD1113 14:25:25.623425754   49111 stats_test.cc:92]           expected_bucket:39 nvalues=9926\r\nD1113 14:25:25.647464949   49112 stats_test.cc:92]           expected_bucket:40 nvalues=12698\r\nD1113 14:25:25.658597958   49114 stats_test.cc:92]           expected_bucket:42 nvalues=20780\r\nD1113 14:25:25.666835893   49113 stats_test.cc:92]           expected_bucket:41 nvalues=16244\r\nD1113 14:25:25.667410401   49115 stats_test.cc:92]           expected_bucket:43 nvalues=26583\r\nD1113 14:25:25.675409992   49116 stats_test.cc:92]           expected_bucket:44 nvalues=34006\r\nD1113 14:25:25.683427851   49117 stats_test.cc:92]           expected_bucket:45 nvalues=43503\r\nD1113 14:25:25.687478662   49118 stats_test.cc:92]           expected_bucket:46 nvalues=55652\r\nD1113 14:25:25.699426974   49119 stats_test.cc:92]           expected_bucket:47 nvalues=71193\r\nD1113 14:25:25.720012105   49121 stats_test.cc:92]           expected_bucket:49 nvalues=116507\r\nD1113 14:25:25.723407361   49120 stats_test.cc:92]           expected_bucket:48 nvalues=91074\r\nD1113 14:25:25.743412368   49122 stats_test.cc:92]           expected_bucket:50 nvalues=149043\r\nD1113 14:25:25.783422348   49123 stats_test.cc:92]           expected_bucket:51 nvalues=190664\r\nD1113 14:25:25.827409189   49124 stats_test.cc:92]           expected_bucket:52 nvalues=243909\r\nD1113 14:25:25.891519730   49125 stats_test.cc:92]           expected_bucket:53 nvalues=312022\r\nD1113 14:25:26.031408553   49131 stats_test.cc:92]           expected_bucket:54 nvalues=399157\r\nD1113 14:25:26.175417869   49132 stats_test.cc:92]           expected_bucket:55 nvalues=510625\r\nD1113 14:25:26.427417916   49133 stats_test.cc:92]           expected_bucket:56 nvalues=653221\r\nD1113 14:25:26.579409277   49134 stats_test.cc:92]           expected_bucket:57 nvalues=835639\r\nD1113 14:25:26.931425940   49135 stats_test.cc:92]           expected_bucket:58 nvalues=1068998\r\nD1113 14:25:27.391417850   49136 stats_test.cc:92]           expected_bucket:59 nvalues=1367524\r\nD1113 14:25:27.975411764   49137 stats_test.cc:92]           expected_bucket:60 nvalues=1749416\r\nD1113 14:25:28.603409943   49138 stats_test.cc:92]           expected_bucket:61 nvalues=2237955\r\nD1113 14:25:29.367947662   49069 stats_test.cc:92]           expected_bucket:63 nvalues=1000\r\nD1113 14:25:29.375415428   49139 stats_test.cc:92]           expected_bucket:62 nvalues=2862921\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343920304",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-343920304",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 343920304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkyMDMwNA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T13:35:09Z",
    "updated_at": "2017-11-13T13:35:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "To be honest, I don't understand the logic behind  `cur_bucket`, `expected_bucket` and how things get assigned to testing threads (and there's no comments explaining the idea of what we want to test), but I have a feeling that the code does something odd.\r\nhttps://github.com/grpc/grpc/blob/54e8f37e537794c2d814c1604c1282125f64f093/test/core/debug/stats_test.cc#L113\r\n\r\n@ctiller, you're the original author, can you help?\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343925949",
    "html_url": "https://github.com/grpc/grpc/issues/13155#issuecomment-343925949",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13155",
    "id": 343925949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkyNTk0OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T13:56:40Z",
    "updated_at": "2017-11-13T13:56:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, looks like all stats that are using \"grpc_stats_table_4\" (for sizes) https://github.com/grpc/grpc/blob/54e8f37e537794c2d814c1604c1282125f64f093/src/core/lib/debug/stats_data.cc#L314  end up with too many testing values thanks to https://github.com/grpc/grpc/blob/54e8f37e537794c2d814c1604c1282125f64f093/test/core/debug/stats_test.cc#L113."
  }
]
