[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/135470736",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-135470736",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 135470736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTQ3MDczNg==",
    "user": {
      "login": "juxingzhutou",
      "id": 7297350,
      "node_id": "MDQ6VXNlcjcyOTczNTA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7297350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/juxingzhutou",
      "html_url": "https://github.com/juxingzhutou",
      "followers_url": "https://api.github.com/users/juxingzhutou/followers",
      "following_url": "https://api.github.com/users/juxingzhutou/following{/other_user}",
      "gists_url": "https://api.github.com/users/juxingzhutou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/juxingzhutou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/juxingzhutou/subscriptions",
      "organizations_url": "https://api.github.com/users/juxingzhutou/orgs",
      "repos_url": "https://api.github.com/users/juxingzhutou/repos",
      "events_url": "https://api.github.com/users/juxingzhutou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/juxingzhutou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-27T15:33:56Z",
    "updated_at": "2015-08-27T15:33:56Z",
    "author_association": "NONE",
    "body": "I fix this issue by clean cached channels when app will enter foreground. But I think this maybe a bug about channel management when app enter background and need be fixed.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/136589915",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-136589915",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 136589915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjU4OTkxNQ==",
    "user": {
      "login": "sipdar",
      "id": 1386469,
      "node_id": "MDQ6VXNlcjEzODY0Njk=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1386469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipdar",
      "html_url": "https://github.com/sipdar",
      "followers_url": "https://api.github.com/users/sipdar/followers",
      "following_url": "https://api.github.com/users/sipdar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipdar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipdar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipdar/subscriptions",
      "organizations_url": "https://api.github.com/users/sipdar/orgs",
      "repos_url": "https://api.github.com/users/sipdar/repos",
      "events_url": "https://api.github.com/users/sipdar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipdar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-01T05:21:09Z",
    "updated_at": "2015-09-01T05:21:09Z",
    "author_association": "NONE",
    "body": "i have  same problem  How to clean cached channels when app will enter foreground.?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/136636581",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-136636581",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 136636581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjYzNjU4MQ==",
    "user": {
      "login": "juxingzhutou",
      "id": 7297350,
      "node_id": "MDQ6VXNlcjcyOTczNTA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7297350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/juxingzhutou",
      "html_url": "https://github.com/juxingzhutou",
      "followers_url": "https://api.github.com/users/juxingzhutou/followers",
      "following_url": "https://api.github.com/users/juxingzhutou/following{/other_user}",
      "gists_url": "https://api.github.com/users/juxingzhutou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/juxingzhutou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/juxingzhutou/subscriptions",
      "organizations_url": "https://api.github.com/users/juxingzhutou/orgs",
      "repos_url": "https://api.github.com/users/juxingzhutou/repos",
      "events_url": "https://api.github.com/users/juxingzhutou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/juxingzhutou/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-01T08:36:43Z",
    "updated_at": "2015-09-01T08:36:43Z",
    "author_association": "NONE",
    "body": "First, add a method to Class `GRPCChannel` to clean the cached channels\n\nIn file 'GRPCChannel.m'\n\n```\nstatic NSMutableDictionary *channelCache;\n\n@implementation GRPCChannel\n\n+ (void)cleanupChannels {\n    channelCache = [NSMutableDictionary dictionary];\n}\n\n+ (instancetype)channelToHost:(NSString *)host {\n  // TODO(mlumish): Investigate whether a cache with strong links is a good idea\n  static dispatch_once_t cacheInitialization;\n  dispatch_once(&cacheInitialization, ^{\n    channelCache = [NSMutableDictionary dictionary];\n  });\n  GRPCChannel *channel = channelCache[host];\n  if (!channel) {\n    channel = [[self alloc] initWithHost:host];\n    channelCache[host] = channel;\n  }\n  return channel;\n}\n```\n\nThen call this method in appdelegate\n\n```\n- (void)applicationWillEnterForeground:(UIApplication *)application {\n    [GRPCChannel cleanupChannels];\n}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/154523829",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-154523829",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 154523829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDUyMzgyOQ==",
    "user": {
      "login": "jcanizales",
      "id": 5120183,
      "node_id": "MDQ6VXNlcjUxMjAxODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5120183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcanizales",
      "html_url": "https://github.com/jcanizales",
      "followers_url": "https://api.github.com/users/jcanizales/followers",
      "following_url": "https://api.github.com/users/jcanizales/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcanizales/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcanizales/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcanizales/subscriptions",
      "organizations_url": "https://api.github.com/users/jcanizales/orgs",
      "repos_url": "https://api.github.com/users/jcanizales/repos",
      "events_url": "https://api.github.com/users/jcanizales/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcanizales/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-06T20:30:48Z",
    "updated_at": "2015-11-06T20:30:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @juxingzhutou and @sipdar, sorry that this issue fell through the cracks for so long.\n\nBased on your detailed report and the workaround you found, I think I know how to fix this issue automatically, so that one doesn't have to remember and clean up the cached channels in the App Delegate.\n\nCheers,\nJorge\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/192204596",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-192204596",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 192204596,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjIwNDU5Ng==",
    "user": {
      "login": "xinqianli",
      "id": 11553621,
      "node_id": "MDQ6VXNlcjExNTUzNjIx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11553621?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xinqianli",
      "html_url": "https://github.com/xinqianli",
      "followers_url": "https://api.github.com/users/xinqianli/followers",
      "following_url": "https://api.github.com/users/xinqianli/following{/other_user}",
      "gists_url": "https://api.github.com/users/xinqianli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xinqianli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xinqianli/subscriptions",
      "organizations_url": "https://api.github.com/users/xinqianli/orgs",
      "repos_url": "https://api.github.com/users/xinqianli/repos",
      "events_url": "https://api.github.com/users/xinqianli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xinqianli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-04T09:29:42Z",
    "updated_at": "2016-03-04T09:29:42Z",
    "author_association": "NONE",
    "body": "@jcanizales any update? Is it fixed now? We have the same problem.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/195544922",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-195544922",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 195544922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTU0NDkyMg==",
    "user": {
      "login": "jcanizales",
      "id": 5120183,
      "node_id": "MDQ6VXNlcjUxMjAxODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5120183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcanizales",
      "html_url": "https://github.com/jcanizales",
      "followers_url": "https://api.github.com/users/jcanizales/followers",
      "following_url": "https://api.github.com/users/jcanizales/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcanizales/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcanizales/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcanizales/subscriptions",
      "organizations_url": "https://api.github.com/users/jcanizales/orgs",
      "repos_url": "https://api.github.com/users/jcanizales/repos",
      "events_url": "https://api.github.com/users/jcanizales/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcanizales/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-11T20:48:26Z",
    "updated_at": "2016-03-11T20:48:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi guys, sorry for the late response. https://github.com/grpc/grpc/pull/5720 will make this easier to solve, which is one of the reasons I did it first. After that and other two PRs are done, this is next on my plate.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/216747656",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-216747656",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 216747656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjc0NzY1Ng==",
    "user": {
      "login": "jcanizales",
      "id": 5120183,
      "node_id": "MDQ6VXNlcjUxMjAxODM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/5120183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcanizales",
      "html_url": "https://github.com/jcanizales",
      "followers_url": "https://api.github.com/users/jcanizales/followers",
      "following_url": "https://api.github.com/users/jcanizales/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcanizales/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcanizales/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcanizales/subscriptions",
      "organizations_url": "https://api.github.com/users/jcanizales/orgs",
      "repos_url": "https://api.github.com/users/jcanizales/repos",
      "events_url": "https://api.github.com/users/jcanizales/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcanizales/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-04T05:19:50Z",
    "updated_at": "2016-05-04T05:19:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here's how we can detect that the app is going to the background or coming back to the foreground: http://stackoverflow.com/a/9012734/3642676\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/226550581",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-226550581",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 226550581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjU1MDU4MQ==",
    "user": {
      "login": "makdharma",
      "id": 17325098,
      "node_id": "MDQ6VXNlcjE3MzI1MDk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17325098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makdharma",
      "html_url": "https://github.com/makdharma",
      "followers_url": "https://api.github.com/users/makdharma/followers",
      "following_url": "https://api.github.com/users/makdharma/following{/other_user}",
      "gists_url": "https://api.github.com/users/makdharma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makdharma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makdharma/subscriptions",
      "organizations_url": "https://api.github.com/users/makdharma/orgs",
      "repos_url": "https://api.github.com/users/makdharma/repos",
      "events_url": "https://api.github.com/users/makdharma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makdharma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-16T17:10:28Z",
    "updated_at": "2016-06-16T17:10:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am not able to reproduce this bug. I modified the route_guide app (PR #6934) to show the log on the screen as a preliminary step. Then I switched back and forth between airplay mode, and switching on/off the wifi. The app does not crash. The bug may have been fixed with @jcanizales PR #5720, along with numerous fixes that went into C core in this area.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/226550743",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-226550743",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 226550743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjU1MDc0Mw==",
    "user": {
      "login": "makdharma",
      "id": 17325098,
      "node_id": "MDQ6VXNlcjE3MzI1MDk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17325098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makdharma",
      "html_url": "https://github.com/makdharma",
      "followers_url": "https://api.github.com/users/makdharma/followers",
      "following_url": "https://api.github.com/users/makdharma/following{/other_user}",
      "gists_url": "https://api.github.com/users/makdharma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makdharma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makdharma/subscriptions",
      "organizations_url": "https://api.github.com/users/makdharma/orgs",
      "repos_url": "https://api.github.com/users/makdharma/repos",
      "events_url": "https://api.github.com/users/makdharma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makdharma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-16T17:11:07Z",
    "updated_at": "2016-06-16T17:11:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@xinqianli - Please confirm if you still see this problem after 0.14 release.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/228370867",
    "html_url": "https://github.com/grpc/grpc/issues/3076#issuecomment-228370867",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/3076",
    "id": 228370867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODM3MDg2Nw==",
    "user": {
      "login": "xinqianli",
      "id": 11553621,
      "node_id": "MDQ6VXNlcjExNTUzNjIx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/11553621?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xinqianli",
      "html_url": "https://github.com/xinqianli",
      "followers_url": "https://api.github.com/users/xinqianli/followers",
      "following_url": "https://api.github.com/users/xinqianli/following{/other_user}",
      "gists_url": "https://api.github.com/users/xinqianli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xinqianli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xinqianli/subscriptions",
      "organizations_url": "https://api.github.com/users/xinqianli/orgs",
      "repos_url": "https://api.github.com/users/xinqianli/repos",
      "events_url": "https://api.github.com/users/xinqianli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xinqianli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-24T15:04:51Z",
    "updated_at": "2016-06-24T15:04:51Z",
    "author_association": "NONE",
    "body": "@makdharma We do not reproduce the problem after upgrading to 0.14 release. Thanks;-)\n"
  }
]
