[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/393823896",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-393823896",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 393823896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzgyMzg5Ng==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-01T09:19:55Z",
    "updated_at": "2018-06-01T09:19:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "CC @matt-kwong  @dgquintas @nicolasnoble "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/393824749",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-393824749",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 393824749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzgyNDc0OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-01T09:23:21Z",
    "updated_at": "2018-06-01T09:23:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "to get the data yourself\r\n```\r\nselect * from jenkins_test_results.aggregate_results where\r\n  job_name like 'grpc/core/master/macos%'  # you can filter job name here\r\n  and language like 'c'  # or c++\r\n  and config like 'dbg' # or opt\r\n  and test_name like '%%'  # choose a test name you are interested in\r\n  and timestamp > '2018-05-20 00:00'\r\n  and result != 'PASSED'\r\norder by timestamp desc\r\nlimit 1000\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/393834844",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-393834844",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 393834844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzgzNDg0NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-01T10:01:50Z",
    "updated_at": "2018-06-01T10:01:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looking at the failure history, I've found the approximate time when these sort of failures started (it's only approximate because tests are flaky)\r\n\r\nfor dbg C builds:\r\nhttps://source.cloud.google.com/results/invocations/f91b9e5a-c9ad-460f-a231-0b50498162c8 at   2018-04-13 01:21:23.000 UTC  (git commit 6d3e7f7cd4ea286ab6b22c9f3da44839fa4357e3)\r\n\r\nfor opt C builds:\r\nhttps://source.cloud.google.com/results/invocations/https://source.cloud.google.com/results/invocations/0f632cef-32af-4514-b340-b2d85e4c4f3f at 2018-04-16 22:39:15.000 UTC (git commit a377773ae928043e1969d6c7c360f93f68fd9ca8)\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/393849467",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-393849467",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 393849467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mzg0OTQ2Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-01T11:11:07Z",
    "updated_at": "2018-06-01T11:11:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "I will try to see if there are any changes that could have caused this in (breakage introduced - 14days): \r\n https://github.com/grpc/grpc/compare/3fd682961a24c9b92c68a058f1949592cc5aacb9...6d3e7f7cd4ea286ab6b22c9f3da44839fa4357e3.\r\n\r\nAlso, we can try to see if there were are any kokoro-related macos changes in that period of time."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/396375893",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-396375893",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 396375893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjM3NTg5Mw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T20:28:16Z",
    "updated_at": "2018-06-11T20:28:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I looked at the historical data again and it really seems like the problem started when we switched to kokoro distributed master (which involved switching to workers to macos sierra). There's very few macos failures before the switch and failures similar to the ones we are seeing right now start after the switch."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/396411206",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-396411206",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 396411206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjQxMTIwNg==",
    "user": {
      "login": "dgquintas",
      "id": 120217,
      "node_id": "MDQ6VXNlcjEyMDIxNw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/120217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgquintas",
      "html_url": "https://github.com/dgquintas",
      "followers_url": "https://api.github.com/users/dgquintas/followers",
      "following_url": "https://api.github.com/users/dgquintas/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgquintas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgquintas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgquintas/subscriptions",
      "organizations_url": "https://api.github.com/users/dgquintas/orgs",
      "repos_url": "https://api.github.com/users/dgquintas/repos",
      "events_url": "https://api.github.com/users/dgquintas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgquintas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T22:49:36Z",
    "updated_at": "2018-06-11T22:49:36Z",
    "author_association": "NONE",
    "body": "Out of curiosity, on which macos version are you guys trying to repro this locally?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/396503105",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-396503105",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 396503105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjUwMzEwNQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T08:05:51Z",
    "updated_at": "2018-06-12T08:05:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dgquintas  my machine is macos high sierra 10.13.2 , what's more interesting is that this is not possible to reproduce even on kokoro worker if we only run a single specific test and `-n` is set to a large number (at least I haven't been able to reproduce sucessfully that way).\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/396520454",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-396520454",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 396520454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjUyMDQ1NA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T09:07:36Z",
    "updated_at": "2018-06-12T09:07:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Update: with our older image experiment (workers using macos elcapitan), we now got 17 dbg C runs and 14 opt runs without any of the failures mentioned above - we'd still need more data to be sure, but 31 fully green runs seem unusual enough to think there really is a significant difference between sierra and elcap images."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/402112368",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-402112368",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 402112368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjExMjM2OA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T11:06:55Z",
    "updated_at": "2018-07-03T11:08:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I started running an experimental job that only runs C core tests with extra logging. (see https://github.com/grpc/grpc/compare/master...jtattermusch:macos_flake_experiment)\r\n\r\nso far it seems that the name resolution finishes successfully (I added an extra log message):\r\n```\r\nI0703 02:57:51.588550000 140736276460480 retry_recv_initial_metadata.cc:47] Running test: retry_recv_initial_metadata/chttp2/fullstack+census\r\nI0703 02:57:51.588567000 140736276460480 init.cc:153]                  grpc_init(void)\r\nI0703 02:57:51.592881000 140736276460480 init.cc:158]                  grpc_shutdown(void)\r\nI0703 02:57:51.593520000 140736276460480 completion_queue.cc:431]      grpc_completion_queue_create_internal(completion_type=0, polling_type=0)\r\nI0703 02:57:51.593548000 140736276460480 completion_queue.cc:431]      grpc_completion_queue_create_internal(completion_type=1, polling_type=0)\r\nI0703 02:57:51.593564000 140736276460480 server.cc:944]                grpc_server_create(0x7ff71a900000, 0x0)\r\nI0703 02:57:51.593578000 140736276460480 server.cc:930]                grpc_server_register_completion_queue(server=0x7ff71a900520, cq=0x7ff71a900190, reserved=0x0)\r\nI0703 02:57:51.593590000 140736276460480 server_chttp2.cc:34]          grpc_server_add_insecure_http2_port(server=0x7ff71a900520, addr=localhost:9015)\r\nI0703 02:57:51.594359000 140736276460480 server.cc:1024]               grpc_server_start(server=0x7ff71a900520)\r\nI0703 02:57:51.594384000 140736276460480 channel_create.cc:93]         grpc_insecure_channel_create(target=localhost:9015, args=0x7ff71aa001a0, reserved=0x0)\r\nI0703 02:57:51.594488000 140736276460480 channel.cc:255]               grpc_channel_get_target(channel=0x7ff71aa01310)\r\nD0703 02:57:51.594498000 140736276460480 retry_recv_initial_metadata.cc:155] client_peer_before_call=localhost:9015\r\nI0703 02:57:51.594505000 140736276460480 metadata_array.cc:29]         grpc_metadata_array_init(array=0x7fff5efed8c0)\r\nI0703 02:57:51.594511000 140736276460480 metadata_array.cc:29]         grpc_metadata_array_init(array=0x7fff5efed8a8)\r\nI0703 02:57:51.594517000 140736276460480 metadata_array.cc:29]         grpc_metadata_array_init(array=0x7fff5efed890)\r\nI0703 02:57:51.594523000 140736276460480 call_details.cc:31]           grpc_call_details_init(cd=0x7fff5efed9f0)\r\nI0703 02:57:51.594531000 140736276460480 call.cc:1983]                 grpc_call_start_batch(call=0x7ff71b000030, ops=0x7fff5efeda50, nops=6, tag=0x1, reserved=0x0)\r\nI0703 02:57:51.594541000 140736276460480 call.cc:1593]                 ops[0]: SEND_INITIAL_METADATA(nil)\r\nI0703 02:57:51.594549000 140736276460480 call.cc:1593]                 ops[1]: SEND_MESSAGE ptr=0x7ff719403ba0\r\nI0703 02:57:51.594555000 140736276460480 call.cc:1593]                 ops[2]: RECV_MESSAGE ptr=0x7fff5efed870\r\nI0703 02:57:51.594562000 140736276460480 call.cc:1593]                 ops[3]: SEND_CLOSE_FROM_CLIENT\r\nI0703 02:57:51.594568000 140736276460480 call.cc:1593]                 ops[4]: RECV_INITIAL_METADATA ptr=0x7fff5efed8c0\r\nI0703 02:57:51.594576000 140736276460480 call.cc:1593]                 ops[5]: RECV_STATUS_ON_CLIENT metadata=0x7fff5efed8a8 status=0x7fff5efed86c details=0x7fff5efed990\r\nD0703 02:57:51.594612000 140736276460480 dns_resolver.cc:281]          Start resolving.\r\nI0703 02:57:51.594644000 140736276460480 server.cc:1352]               grpc_server_request_call(server=0x7ff71a900520, call=0x7fff5efed8e0, details=0x7fff5efed9f0, initial_metadata=0x7fff5efed890, cq_bound_to_call=0x7ff71a900190, cq_for_notification=0x7ff71a900190, tag=0x65)\r\nI0703 02:57:51.594662000 140736276460480 completion_queue.cc:851]      grpc_completion_queue_next(cq=0x7ff71a900190, deadline=gpr_timespec { tv_sec: 10, tv_nsec: 6716501, clock_type: 0 }, reserved=0x0)\r\nD0703 02:57:51.595189000 123145527361536 dns_resolver.cc:192]          Resolution successful (OnResolvedLocked r->addresses_ != nullptr)\r\nI0703 02:57:56.599098000 123145527898112 completion_queue.cc:630]      cq_end_op_for_next(cq=0x7ff71a900190, tag=0x1, error=\"No Error\", done=0x100ccbdc0, done_arg=0x7ff71b0010a0, storage=0x7ff71b0010a8)\r\nI0703 02:57:56.964738000 140736276460480 completion_queue.cc:951]      RETURN_EVENT[0x7ff71a900190]: OP_COMPLETE: tag:0x1 OK\r\nE0703 02:57:56.964760000 140736276460480 cq_verifier.cc:273]           cq returned unexpected event: OP_COMPLETE: tag:0x1 OK\r\nE0703 02:57:56.964776000 140736276460480 cq_verifier.cc:280]           expected tags:\r\ntag(101) GRPC_OP_COMPLETE success=1 test/core/end2end/tests/retry_recv_initial_metadata.cc:192\r\n```\r\nhttps://source.cloud.google.com/results/invocations/dffb74fd-3cb8-4fdf-87ef-5bfd42726b61/targets/github%2Fgrpc%2Fc_macos_dbg_native/tests\r\n\r\n I will try to add some extra logging to see where things are getting stuck.\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/402155992",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-402155992",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 402155992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjE1NTk5Mg==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T13:24:34Z",
    "updated_at": "2018-07-03T13:28:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "I added some extra logging and it seems that the subchannel never connects successfully:\r\n\r\n```\r\nD0703 05:16:04.274869000 140735947985856 dns_resolver.cc:281]          Start resolving.\r\nI0703 05:16:04.274893000 140735947985856 client_channel.cc:2813]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: deferring pick pending resolver result\r\nI0703 05:16:04.274912000 140735947985856 server.cc:1352]               grpc_server_request_call(server=0x7fbb94e02440, call=0x7fff5e825730, details=0x7fff5e825800, initial_metadata=0x7fff5e8256d8, cq_bound_to_call=0x7fbb94e02750, cq_for_notification=0x7fbb94e02750, tag=0x65)\r\nI0703 05:16:04.274927000 140735947985856 completion_queue.cc:851]      grpc_completion_queue_next(cq=0x7fbb94e02750, deadline=gpr_timespec { tv_sec: 10, tv_nsec: 37337418, clock_type: 0 }, reserved=0x0)\r\nD0703 05:16:04.275534000 123145434492928 dns_resolver.cc:192]          Resolution successful (OnResolvedLocked r->addresses_ != nullptr)\r\nI0703 05:16:04.275561000 123145434492928 client_channel.cc:314]        chand=0x7fbb94d03bc8: got resolver result: resolver_result=0x7fbb96900250 error=\"No Error\"\r\nI0703 05:16:04.275692000 123145434492928 client_channel.cc:434]        chand=0x7fbb94d03bc8: resolver result: lb_policy_name=\"pick_first\" (changed), service_config=\"(null)\"\r\nI0703 05:16:04.275709000 123145434492928 client_channel.cc:509]        chand=0x7fbb94d03bc8: initializing new LB policy\r\nI0703 05:16:04.275722000 123145434492928 connectivity_state.cc:92]     CONWATCH: 0x7fbb969003b0 pick_first: get IDLE\r\nI0703 05:16:04.275737000 123145434492928 connectivity_state.cc:116]    CONWATCH: 0x7fbb969003b0 pick_first: from IDLE [cur=IDLE] notify=0x7fbb96900ea8\r\nI0703 05:16:04.275749000 123145434492928 client_channel.cc:177]        chand=0x7fbb94d03bc8: setting connectivity state to IDLE\r\nI0703 05:16:04.275760000 123145434492928 connectivity_state.cc:164]    SET: 0x7fbb94d03c78 client_channel: IDLE --> IDLE [new_lb+resolver] error=0x0 \"No Error\"\r\nI0703 05:16:04.275775000 123145434492928 client_channel.cc:2902]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: resolver returned, doing LB pick\r\nI0703 05:16:04.275790000 123145434492928 client_channel.cc:2741]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: applying service config to call\r\nI0703 05:16:04.275804000 123145434492928 client_channel.cc:2650]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: starting pick on lb_policy=0x7fbb96900350\r\nI0703 05:16:04.275819000 123145434492928 connectivity_state.cc:116]    CONWATCH: 0x7fbb96900ce8 subchannel: from IDLE [cur=IDLE] notify=0x7fbb96900268\r\nI0703 05:16:04.275834000 123145434492928 connectivity_state.cc:164]    SET: 0x7fbb96900ce8 subchannel: IDLE --> CONNECTING [state_change] error=0x0 \"No Error\"\r\nI0703 05:16:04.275846000 123145434492928 connectivity_state.cc:190]    NOTIFY: 0x7fbb96900ce8 subchannel: 0x7fbb96900268\r\nI0703 05:16:04.275957000 123145434492928 connectivity_state.cc:164]    SET: 0x7fbb969003b0 pick_first: IDLE --> CONNECTING [connecting_changed] error=0x0 \"No Error\"\r\nI0703 05:16:04.275974000 123145434492928 connectivity_state.cc:190]    NOTIFY: 0x7fbb969003b0 pick_first: 0x7fbb96900ea8\r\nI0703 05:16:04.275989000 123145434492928 connectivity_state.cc:116]    CONWATCH: 0x7fbb96900ce8 subchannel: from CONNECTING [cur=CONNECTING] notify=0x7fbb96900268\r\nI0703 05:16:04.276003000 123145434492928 client_channel.cc:189]        chand=0x7fbb94d03bc8: lb_policy=0x7fbb96900350 state changed to CONNECTING\r\nI0703 05:16:04.276015000 123145434492928 client_channel.cc:177]        chand=0x7fbb94d03bc8: setting connectivity state to CONNECTING\r\nI0703 05:16:04.276043000 123145434492928 connectivity_state.cc:164]    SET: 0x7fbb94d03c78 client_channel: IDLE --> CONNECTING [lb_changed] error=0x0 \"No Error\"\r\nI0703 05:16:04.276059000 123145434492928 connectivity_state.cc:116]    CONWATCH: 0x7fbb969003b0 pick_first: from CONNECTING [cur=CONNECTING] notify=0x7fbb96901c88\r\nI0703 05:16:09.276868000 123145435029504 client_channel.cc:2723]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: cancelling pick from LB policy 0x7fbb96900350\r\nI0703 05:16:09.276931000 123145435029504 client_channel.cc:2705]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: pick completed asynchronously\r\nI0703 05:16:09.277121000 123145435029504 client_channel.cc:2595]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: failed to create subchannel: error={\"created\":\"@1530620169.276977000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":2593,\"referenced_errors\":[{\"created\":\"@1530620169.276920000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":189,\"referenced_errors\":[{\"created\":\"@1530620169.276850000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nI0703 05:16:09.277164000 123145435029504 client_channel.cc:1192]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: failing 1 pending batches: {\"created\":\"@1530620169.276977000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":2593,\"referenced_errors\":[{\"created\":\"@1530620169.276920000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":189,\"referenced_errors\":[{\"created\":\"@1530620169.276850000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nI0703 05:16:09.277219000 123145435029504 client_channel.cc:3011]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: recording cancel_error={\"created\":\"@1530620169.276850000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}\r\nI0703 05:16:09.277256000 123145435029504 client_channel.cc:1192]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: failing 0 pending batches: {\"created\":\"@1530620169.276850000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}\r\nI0703 05:16:09.277321000 123145435029504 completion_queue.cc:630]      cq_end_op_for_next(cq=0x7fbb94e02750, tag=0x1, error=\"No Error\", done=0x101493bb0, done_arg=0x7fbb97802ea0, storage=0x7fbb97802ea8)\r\nI0703 05:16:09.277420000 123145435029504 call.cc:638]                  OP[client-channel:0x7fbb978028d0]:  CANCEL:{\"created\":\"@1530620169.276977000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":2593,\"referenced_errors\":[{\"created\":\"@1530620169.276920000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":189,\"referenced_errors\":[{\"created\":\"@1530620169.276850000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nI0703 05:16:09.277462000 123145435029504 client_channel.cc:2992]       chand=0x7fbb94d03bc8 calld=0x7fbb978028f0: failing batch with error: {\"created\":\"@1530620169.276850000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}\r\nI0703 05:16:09.277478000 140735947985856 completion_queue.cc:951]      RETURN_EVENT[0x7fbb94e02750]: OP_COMPLETE: tag:0x1 OK\r\nE0703 05:16:09.277530000 140735947985856 cq_verifier.cc:273]           cq returned unexpected event: OP_COMPLETE: tag:0x1 OK\r\nE0703 05:16:09.277576000 140735947985856 cq_verifier.cc:280]           expected tags:\r\ntag(101) GRPC_OP_COMPLETE success=1 test/core/end2end/tests/idempotent_request.cc:153\r\n```\r\nhttps://source.cloud.google.com/results/invocations/c630d0e4-cc68-4bda-aa73-33ff2488380e/targets/github%2Fgrpc%2Fc_macos_dbg_native/tests\r\n\r\nanother example:\r\n\r\n```\r\nD0703 05:42:56.933487000 140736555492288 dns_resolver.cc:281]          Start resolving.\r\nI0703 05:42:56.933534000 140736555492288 client_channel.cc:2813]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: deferring pick pending resolver result\r\nI0703 05:42:56.933553000 140736555492288 server.cc:1352]               grpc_server_request_call(server=0x7fda9af021f0, call=0x7fff5cf80910, details=0x7fff5cf809e0, initial_metadata=0x7fff5cf808c0, cq_bound_to_call=0x7fda9af01af0, cq_for_notification=0x7fda9af01af0, tag=0x65)\r\nI0703 05:42:56.933568000 140736555492288 completion_queue.cc:851]      grpc_completion_queue_next(cq=0x7fda9af01af0, deadline=gpr_timespec { tv_sec: 10, tv_nsec: 5863468, clock_type: 0 }, reserved=0x0)\r\nD0703 05:42:56.934212000 123145377992704 dns_resolver.cc:192]          Resolution successful (OnResolvedLocked r->addresses_ != nullptr)\r\nI0703 05:42:56.934243000 123145377992704 client_channel.cc:314]        chand=0x7fda9af036c8: got resolver result: resolver_result=0x7fda9ae00260 error=\"No Error\"\r\nI0703 05:42:56.934469000 123145377992704 client_channel.cc:434]        chand=0x7fda9af036c8: resolver result: lb_policy_name=\"pick_first\" (changed), service_config=\"{\r\n  \"methodConfig\": [ {\r\n    \"name\": [\r\n      { \"service\": \"service\", \"method\": \"method\" }\r\n    ],\r\n    \"retryPolicy\": {\r\n      \"maxAttempts\": 3,\r\n      \"initialBackoff\": \"1s\",\r\n      \"maxBackoff\": \"120s\",\r\n      \"backoffMultiplier\": 1.6,\r\n      \"retryableStatusCodes\": [ \"ABORTED\" ]\r\n    },\r\n    \"timeout\": \"5s\"\r\n  } ]\r\n}\"\r\nI0703 05:42:56.934485000 123145377992704 client_channel.cc:509]        chand=0x7fda9af036c8: initializing new LB policy\r\nI0703 05:42:56.934495000 123145377992704 connectivity_state.cc:92]     CONWATCH: 0x7fda9ae004d0 pick_first: get IDLE\r\nI0703 05:42:56.934511000 123145377992704 connectivity_state.cc:116]    CONWATCH: 0x7fda9ae004d0 pick_first: from IDLE [cur=IDLE] notify=0x7fda9ae01198\r\nI0703 05:42:56.934522000 123145377992704 client_channel.cc:177]        chand=0x7fda9af036c8: setting connectivity state to IDLE\r\nI0703 05:42:56.934533000 123145377992704 connectivity_state.cc:164]    SET: 0x7fda9af03778 client_channel: IDLE --> IDLE [new_lb+resolver] error=0x0 \"No Error\"\r\nI0703 05:42:56.934547000 123145377992704 client_channel.cc:2902]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: resolver returned, doing LB pick\r\nI0703 05:42:56.934558000 123145377992704 client_channel.cc:2741]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: applying service config to call\r\nI0703 05:42:56.934572000 123145377992704 client_channel.cc:2650]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: starting pick on lb_policy=0x7fda9ae00470\r\nI0703 05:42:56.934586000 123145377992704 connectivity_state.cc:116]    CONWATCH: 0x7fda9ae01a28 subchannel: from IDLE [cur=IDLE] notify=0x7fda9ae00dd8\r\nI0703 05:42:56.934599000 123145377992704 connectivity_state.cc:164]    SET: 0x7fda9ae01a28 subchannel: IDLE --> CONNECTING [state_change] error=0x0 \"No Error\"\r\nI0703 05:42:56.934608000 123145377992704 connectivity_state.cc:190]    NOTIFY: 0x7fda9ae01a28 subchannel: 0x7fda9ae00dd8\r\nI0703 05:42:56.934722000 123145377992704 connectivity_state.cc:164]    SET: 0x7fda9ae004d0 pick_first: IDLE --> CONNECTING [connecting_changed] error=0x0 \"No Error\"\r\nI0703 05:42:56.934738000 123145377992704 connectivity_state.cc:190]    NOTIFY: 0x7fda9ae004d0 pick_first: 0x7fda9ae01198\r\nI0703 05:42:56.934749000 123145377992704 connectivity_state.cc:116]    CONWATCH: 0x7fda9ae01a28 subchannel: from CONNECTING [cur=CONNECTING] notify=0x7fda9ae00dd8\r\nI0703 05:42:56.934758000 123145377992704 client_channel.cc:189]        chand=0x7fda9af036c8: lb_policy=0x7fda9ae00470 state changed to CONNECTING\r\nI0703 05:42:56.934764000 123145377992704 client_channel.cc:177]        chand=0x7fda9af036c8: setting connectivity state to CONNECTING\r\nI0703 05:42:56.934772000 123145377992704 connectivity_state.cc:164]    SET: 0x7fda9af03778 client_channel: IDLE --> CONNECTING [lb_changed] error=0x0 \"No Error\"\r\nI0703 05:42:56.934780000 123145377992704 connectivity_state.cc:116]    CONWATCH: 0x7fda9ae004d0 pick_first: from CONNECTING [cur=CONNECTING] notify=0x7fda9ae00918\r\nI0703 05:43:01.937320000 123145378529280 client_channel.cc:2723]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: cancelling pick from LB policy 0x7fda9ae00470\r\nI0703 05:43:01.937360000 123145378529280 client_channel.cc:2705]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: pick completed asynchronously\r\nI0703 05:43:01.937377000 123145378529280 client_channel.cc:1423]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: status DEADLINE_EXCEEDED not configured as retryable\r\nI0703 05:43:01.937449000 123145378529280 client_channel.cc:2595]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: failed to create subchannel: error={\"created\":\"@1530621781.937388000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":2593,\"referenced_errors\":[{\"created\":\"@1530621781.937356000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":189,\"referenced_errors\":[{\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nI0703 05:43:01.937466000 123145378529280 client_channel.cc:1192]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: failing 1 pending batches: {\"created\":\"@1530621781.937388000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":2593,\"referenced_errors\":[{\"created\":\"@1530621781.937356000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":189,\"referenced_errors\":[{\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nI0703 05:43:01.937490000 123145378529280 client_channel.cc:3011]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: recording cancel_error={\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}\r\nI0703 05:43:01.937505000 123145378529280 client_channel.cc:1192]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: failing 0 pending batches: {\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}\r\nI0703 05:43:01.937532000 123145378529280 completion_queue.cc:630]      cq_end_op_for_next(cq=0x7fda9af01af0, tag=0x1, error=\"No Error\", done=0x102d36970, done_arg=0x7fda9c011ca0, storage=0x7fda9c011ca8)\r\nI0703 05:43:01.937566000 123145378529280 call.cc:638]                  OP[client-channel:0x7fda9c0116d0]:  CANCEL:{\"created\":\"@1530621781.937388000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":2593,\"referenced_errors\":[{\"created\":\"@1530621781.937356000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":189,\"referenced_errors\":[{\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nI0703 05:43:01.937582000 140736555492288 completion_queue.cc:951]      RETURN_EVENT[0x7fda9af01af0]: OP_COMPLETE: tag:0x1 OK\r\nI0703 05:43:01.937581000 123145378529280 client_channel.cc:2992]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: failing batch with error: {\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}\r\nE0703 05:43:01.937604000 140736555492288 cq_verifier.cc:273]           cq returned unexpected event: OP_COMPLETE: tag:0x1 OK\r\nI0703 05:43:01.937633000 123145378529280 call.cc:638]                  OP[client-channel:0x7fda9c0116d0]:  CANCEL:{\"created\":\"@1530621781.937388000\",\"description\":\"Failed to create subchannel\",\"file\":\"src/core/ext/filters/client_channel/client_channel.cc\",\"file_line\":2593,\"referenced_errors\":[{\"created\":\"@1530621781.937356000\",\"description\":\"Pick Cancelled\",\"file\":\"src/core/ext/filters/client_channel/lb_policy/pick_first/pick_first.cc\",\"file_line\":189,\"referenced_errors\":[{\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}]}]}\r\nE0703 05:43:01.937639000 140736555492288 cq_verifier.cc:280]           expected tags:\r\ntag(101) GRPC_OP_COMPLETE success=1 test/core/end2end/tests/retry_cancellation.cc:195\r\nI0703 05:43:01.937668000 123145378529280 client_channel.cc:2992]       chand=0x7fda9af036c8 calld=0x7fda9c0116f0: failing batch with error: {\"created\":\"@1530621781.937314000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/ext/filters/deadline/deadline_filter.cc\",\"file_line\":68,\"grpc_status\":4}\r\n```\r\nhttps://source.cloud.google.com/results/invocations/6c985298-3720-4f8b-a1a0-925825c4e0c7/targets/github%2Fgrpc%2Fc_macos_dbg_native/tests"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/402783430",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-402783430",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 402783430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjc4MzQzMA==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-05T16:42:23Z",
    "updated_at": "2018-07-05T16:45:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, so from the logs I'm getting is quite obvious that:\r\n1. the address gets resolved alright\r\n2. we create an fd and start connecting asynchronously `CLIENT_CONNECT: ipv6:[::1]:7072: asynchronously connecting fd 0x7fd65a901040`\r\n3. we don't seem to ever the reach on_writable event  (https://github.com/grpc/grpc/blob/f0375f86e94f9970283e80996e1326b4416ed4da/src/core/lib/iomgr/tcp_client_posix.cc#L131) which seems to be the first callback to be called in the async connect scenario (registered here: https://github.com/grpc/grpc/blob/f0375f86e94f9970283e80996e1326b4416ed4da/src/core/lib/iomgr/tcp_client_posix.cc#L322)\r\n\r\nThat basically means that there's either a polling problem (we never get a notification that the socket has connected)  or that the connection at the OS level takes very long (the call timeout is 5secs).\r\n\r\n@ncteisen  @sreecha   @dgquintas  any ideas what else to try and what could be going wrong are welcome.\r\n\r\nbtw, adding more logging (like the GRPC_TRACE=tcp trace) seems to influence the flakiness rate so this might well be a race in the polling engine."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/407933075",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-407933075",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 407933075,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzkzMzA3NQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-25T23:57:35Z",
    "updated_at": "2018-07-25T23:57:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "`recv_initial_metadata` test failure from described in https://github.com/grpc/grpc/issues/15599#issuecomment-402112368 also failed in bazel dbg test in the same way: https://source.cloud.google.com/results/invocations/16cddef1-e572-4c04-838f-d711be270aaa/targets/%2F%2Ftest%2Fcore%2Fend2end:h2_full%2Bworkarounds_test@retry_recv_initial_metadata@poller%3Depollex/log"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/450726857",
    "html_url": "https://github.com/grpc/grpc/issues/15599#issuecomment-450726857",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/15599",
    "id": 450726857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDcyNjg1Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-01T12:47:26Z",
    "updated_at": "2019-01-01T12:47:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "The kokoro workers have been switched to Macos High Sierra images and the problem seems to have gone away (based on analysis of test results of the last 10 days of test runs on master).\r\nThere are a few test cases that occasionally fail on macos, but that set is much more well-defined than the pattern of various C tests randomly failing we used to see before. I'll close this issue as resolved."
  }
]
