[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/213528438",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-213528438",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 213528438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzUyODQzOA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-22T17:51:24Z",
    "updated_at": "2016-04-22T17:51:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Pending #6183, the proper way to use the Makefile under msys2 depends on the compiler you're using. If you use msys2's compiler, you want to do:\n\n```\nCPPFLAGS=\"-mwin32 -D_WIN32_WINNT=0x600\" make static_c\n```\n\nIf you use mingw64's, you want to do:\n\n```\nCPPFLAGS=\"-D_WIN32_WINNT=0x600\" make static_c\n```\n\nWe let the _WIN32_WINNT choice to the user on purpose so they can select the API level they want to use.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/213534386",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-213534386",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 213534386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzUzNDM4Ng==",
    "user": {
      "login": "emmenlau",
      "id": 1098087,
      "node_id": "MDQ6VXNlcjEwOTgwODc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1098087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emmenlau",
      "html_url": "https://github.com/emmenlau",
      "followers_url": "https://api.github.com/users/emmenlau/followers",
      "following_url": "https://api.github.com/users/emmenlau/following{/other_user}",
      "gists_url": "https://api.github.com/users/emmenlau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emmenlau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emmenlau/subscriptions",
      "organizations_url": "https://api.github.com/users/emmenlau/orgs",
      "repos_url": "https://api.github.com/users/emmenlau/repos",
      "events_url": "https://api.github.com/users/emmenlau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emmenlau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-22T18:06:56Z",
    "updated_at": "2016-04-22T18:06:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "I understand that this makes certain sense. But MSYS2 defaults to _WIN32_WINNT=0x502 which is too old to compile grpc. The compile works successfully with _WIN32_WINNT=0x600 as you suggest. Would it make sense to default to _WIN32_WINNT=0x600 on MSYS2, so the compile works for the majority of users out of the box? At least from the error its not intuitive how to fix it...\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/232306385",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-232306385",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 232306385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjMwNjM4NQ==",
    "user": {
      "login": "mgiaco",
      "id": 4886904,
      "node_id": "MDQ6VXNlcjQ4ODY5MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4886904?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mgiaco",
      "html_url": "https://github.com/mgiaco",
      "followers_url": "https://api.github.com/users/mgiaco/followers",
      "following_url": "https://api.github.com/users/mgiaco/following{/other_user}",
      "gists_url": "https://api.github.com/users/mgiaco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mgiaco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mgiaco/subscriptions",
      "organizations_url": "https://api.github.com/users/mgiaco/orgs",
      "repos_url": "https://api.github.com/users/mgiaco/repos",
      "events_url": "https://api.github.com/users/mgiaco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mgiaco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-13T09:37:15Z",
    "updated_at": "2016-07-13T09:37:15Z",
    "author_association": "NONE",
    "body": "I followed this instructions but I get this error with the current master.\n\n``` shell\nlwngim1@LWNNB77070 MINGW64 /e/github/grpc\n$ export CPPFLAGS=\"-D_WIN32_WINNT=0x600\" make static_c\n\nlwngim1@LWNNB77070 MINGW64 /e/github/grpc\n$ make\n[MAKE]    Generating cache.mk\n[C]       Compiling src/core/lib/profiling/basic_timers.c\n[C]       Compiling src/core/lib/profiling/stap_timers.c\n[C]       Compiling src/core/lib/support/alloc.c\n[C]       Compiling src/core/lib/support/avl.c\n[C]       Compiling src/core/lib/support/backoff.c\n[C]       Compiling src/core/lib/support/cmdline.c\n[C]       Compiling src/core/lib/support/cpu_iphone.c\n[C]       Compiling src/core/lib/support/cpu_linux.c\n[C]       Compiling src/core/lib/support/cpu_posix.c\n[C]       Compiling src/core/lib/support/cpu_windows.c\n[C]       Compiling src/core/lib/support/env_linux.c\n[C]       Compiling src/core/lib/support/env_posix.c\n[C]       Compiling src/core/lib/support/env_windows.c\n[C]       Compiling src/core/lib/support/histogram.c\n[C]       Compiling src/core/lib/support/host_port.c\n[C]       Compiling src/core/lib/support/log.c\n[C]       Compiling src/core/lib/support/log_android.c\n[C]       Compiling src/core/lib/support/log_linux.c\n[C]       Compiling src/core/lib/support/log_posix.c\n[C]       Compiling src/core/lib/support/log_windows.c\n[C]       Compiling src/core/lib/support/murmur_hash.c\n[C]       Compiling src/core/lib/support/slice.c\n[C]       Compiling src/core/lib/support/slice_buffer.c\n[C]       Compiling src/core/lib/support/stack_lockfree.c\n[C]       Compiling src/core/lib/support/string.c\n[C]       Compiling src/core/lib/support/string_posix.c\n[C]       Compiling src/core/lib/support/string_util_windows.c\n[C]       Compiling src/core/lib/support/string_windows.c\n[C]       Compiling src/core/lib/support/subprocess_posix.c\n[C]       Compiling src/core/lib/support/subprocess_windows.c\n[C]       Compiling src/core/lib/support/sync.c\n[C]       Compiling src/core/lib/support/sync_posix.c\n[C]       Compiling src/core/lib/support/sync_windows.c\n[C]       Compiling src/core/lib/support/thd.c\n[C]       Compiling src/core/lib/support/thd_posix.c\n[C]       Compiling src/core/lib/support/thd_windows.c\n[C]       Compiling src/core/lib/support/time.c\n[C]       Compiling src/core/lib/support/time_posix.c\n[C]       Compiling src/core/lib/support/time_precise.c\n[C]       Compiling src/core/lib/support/time_windows.c\n[C]       Compiling src/core/lib/support/tls_pthread.c\n[C]       Compiling src/core/lib/support/tmpfile_msys.c\n[C]       Compiling src/core/lib/support/tmpfile_posix.c\n[C]       Compiling src/core/lib/support/tmpfile_windows.c\n[C]       Compiling src/core/lib/support/wrap_memcpy.c\n[AR]      Creating /e/github/grpc/libs/opt/libgpr.a\n[C]       Compiling src/core/lib/surface/init.c\n[C]       Compiling src/core/lib/channel/channel_args.c\n[C]       Compiling src/core/lib/channel/channel_stack.c\n[C]       Compiling src/core/lib/channel/channel_stack_builder.c\n[C]       Compiling src/core/lib/channel/compress_filter.c\n[C]       Compiling src/core/lib/channel/connected_channel.c\n[C]       Compiling src/core/lib/channel/http_client_filter.c\n[C]       Compiling src/core/lib/channel/http_server_filter.c\n[C]       Compiling src/core/lib/compression/compression.c\n[C]       Compiling src/core/lib/compression/message_compress.c\n[C]       Compiling src/core/lib/debug/trace.c\n[C]       Compiling src/core/lib/http/format_request.c\n[C]       Compiling src/core/lib/http/httpcli.c\n[C]       Compiling src/core/lib/http/parser.c\n[C]       Compiling src/core/lib/iomgr/closure.c\n[C]       Compiling src/core/lib/iomgr/endpoint.c\n[C]       Compiling src/core/lib/iomgr/endpoint_pair_posix.c\n[C]       Compiling src/core/lib/iomgr/endpoint_pair_windows.c\n[C]       Compiling src/core/lib/iomgr/error.c\n[C]       Compiling src/core/lib/iomgr/ev_epoll_linux.c\n[C]       Compiling src/core/lib/iomgr/ev_poll_and_epoll_posix.c\n[C]       Compiling src/core/lib/iomgr/ev_poll_posix.c\n[C]       Compiling src/core/lib/iomgr/ev_posix.c\n[C]       Compiling src/core/lib/iomgr/exec_ctx.c\n[C]       Compiling src/core/lib/iomgr/executor.c\n[C]       Compiling src/core/lib/iomgr/iocp_windows.c\nsrc/core/lib/iomgr/iocp_windows.c: In function 'grpc_iocp_work':\nsrc/core/lib/iomgr/iocp_windows.c:83:17: error: unused variable 'closure' [-Werror=unused-variable]\n   grpc_closure *closure = NULL;\n                 ^\ncc1.exe: all warnings being treated as errors\nmake: *** [Makefile:2092: /e/github/grpc/objs/opt/src/core/lib/iomgr/iocp_windows.o] Fehler 1\n\n```\n\nthx\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/232697010",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-232697010",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 232697010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjY5NzAxMA==",
    "user": {
      "login": "mgiaco",
      "id": 4886904,
      "node_id": "MDQ6VXNlcjQ4ODY5MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4886904?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mgiaco",
      "html_url": "https://github.com/mgiaco",
      "followers_url": "https://api.github.com/users/mgiaco/followers",
      "following_url": "https://api.github.com/users/mgiaco/following{/other_user}",
      "gists_url": "https://api.github.com/users/mgiaco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mgiaco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mgiaco/subscriptions",
      "organizations_url": "https://api.github.com/users/mgiaco/orgs",
      "repos_url": "https://api.github.com/users/mgiaco/repos",
      "events_url": "https://api.github.com/users/mgiaco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mgiaco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-14T15:19:47Z",
    "updated_at": "2016-07-14T15:19:47Z",
    "author_association": "NONE",
    "body": "So now I can build under msys2 mingw32. But I needed some modifications in the makefile.  @emmenlau Can you share your changes? \n\nDoes someone get the helloworld to build with msys2 and migw32? Is there an equivalent for -ldl ?\nI removed the -ldl and tried a build but then I get this error.\n\n``` shell\nlwngim1@LWNNB77070 MINGW32 /e/github/grpc/examples/cpp/helloworld\n$ CPPFLAGS=\"-mwin32 -D_WIN32_WINNT=0x600\" make\nwhich: no grpc_cpp_plugin.exe in (/mingw32/bin:/usr/local/bin:/usr/bin:/bin:/c/Windows/System32:/c/Windows:/c/Windows/System32/Wbem:/c/Windows/System32/WindowsPowerShell/v1.0/:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl)\nwhich: no grpc_cpp_plugin.exe in (/mingw32/bin:/usr/local/bin:/usr/bin:/bin:/c/Windows/System32:/c/Windows:/c/Windows/System32/Wbem:/c/Windows/System32/WindowsPowerShell/v1.0/:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl)\nprotoc -I ../../protos --cpp_out=. ../../protos/helloworld.proto\ng++ -std=c++11 -mwin32 -D_WIN32_WINNT=0x600 -I/usr/local/include -pthread  -c -o helloworld.pb.o helloworld.pb.cc\nprotoc -I ../../protos --grpc_out=. --plugin=protoc-gen-grpc=grpc_cpp_plugin.exe ../../protos/helloworld.proto\ng++ -std=c++11 -mwin32 -D_WIN32_WINNT=0x600 -I/usr/local/include -pthread  -c -o helloworld.grpc.pb.o helloworld.grpc.pb.cc\ng++ -std=c++11 -mwin32 -D_WIN32_WINNT=0x600 -I/usr/local/include -pthread  -c -o greeter_client.o greeter_client.cc\ng++ helloworld.pb.o helloworld.grpc.pb.o greeter_client.o -L/usr/local/lib -lgrpc++ -lgrpc -lprotobuf -lpthread -o greeter_client\nC:/msys64/usr/local/lib/libgrpc++.a: error adding symbols: Archive has no index; run ranlib to add one\ncollect2.exe: error: ld returned 1 exit status\nmake: *** [Makefile:47: greeter_client] Fehler 1\n```\n\nIs it really possible to build and use it in msys2?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/232936937",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-232936937",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 232936937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjkzNjkzNw==",
    "user": {
      "login": "emmenlau",
      "id": 1098087,
      "node_id": "MDQ6VXNlcjEwOTgwODc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1098087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emmenlau",
      "html_url": "https://github.com/emmenlau",
      "followers_url": "https://api.github.com/users/emmenlau/followers",
      "following_url": "https://api.github.com/users/emmenlau/following{/other_user}",
      "gists_url": "https://api.github.com/users/emmenlau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emmenlau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emmenlau/subscriptions",
      "organizations_url": "https://api.github.com/users/emmenlau/orgs",
      "repos_url": "https://api.github.com/users/emmenlau/repos",
      "events_url": "https://api.github.com/users/emmenlau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emmenlau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-15T12:17:37Z",
    "updated_at": "2016-07-15T12:17:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mgiaco Its not too simple, sorry for that. First I could only get a working protobuf 3.0.0-beta3 when using an older version of msys2. There was something in an update around 02/2016 that breaks protobuf for me. It might be fixed by now, I did not test within a long time. Then to compile grpc and all dependent packages I changed _WIN32_WINNT in the msys2 official headers. Its probably unclean do do so, but for me it was the easiest to define it to _WIN32_WINNT_VISTA which is 0x0600, as I don't need XP support anymore.\nI can not say what exactly broke protobuf 3.0.0-beta3 in msys2.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/233231435",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-233231435",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 233231435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzIzMTQzNQ==",
    "user": {
      "login": "mgiaco",
      "id": 4886904,
      "node_id": "MDQ6VXNlcjQ4ODY5MDQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4886904?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mgiaco",
      "html_url": "https://github.com/mgiaco",
      "followers_url": "https://api.github.com/users/mgiaco/followers",
      "following_url": "https://api.github.com/users/mgiaco/following{/other_user}",
      "gists_url": "https://api.github.com/users/mgiaco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mgiaco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mgiaco/subscriptions",
      "organizations_url": "https://api.github.com/users/mgiaco/orgs",
      "repos_url": "https://api.github.com/users/mgiaco/repos",
      "events_url": "https://api.github.com/users/mgiaco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mgiaco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-18T05:35:53Z",
    "updated_at": "2016-07-18T05:35:53Z",
    "author_association": "NONE",
    "body": "@emmenlau  So I was able to build with msys2. So my problem was how to build the helloworld. Have you tried that with msys2 too? What lib are you using instead of ldl? Is this https://github.com/dlfcn-win32/dlfcn-win32 a possible replacement?\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/233237886",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-233237886",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 233237886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzIzNzg4Ng==",
    "user": {
      "login": "emmenlau",
      "id": 1098087,
      "node_id": "MDQ6VXNlcjEwOTgwODc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/1098087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emmenlau",
      "html_url": "https://github.com/emmenlau",
      "followers_url": "https://api.github.com/users/emmenlau/followers",
      "following_url": "https://api.github.com/users/emmenlau/following{/other_user}",
      "gists_url": "https://api.github.com/users/emmenlau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emmenlau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emmenlau/subscriptions",
      "organizations_url": "https://api.github.com/users/emmenlau/orgs",
      "repos_url": "https://api.github.com/users/emmenlau/repos",
      "events_url": "https://api.github.com/users/emmenlau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emmenlau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-18T06:08:40Z",
    "updated_at": "2016-07-18T06:08:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mgiaco I can not only build a helloworld, I've actually managed to build a quite extensive server-client-app and it mostly works. But its really fragile in the sense that I mentioned above: I can currently only get it to work with an older version of msys2, using grpc-0.13.x and protobuf 3.0.0-beta3, after changing _WIN32_WINNT to _WIN32_WINNT_VISTA, and with a crude mix of static and dynamic libs.\nWhen I'm back at work I can try to dig out the pieces or try to get it to work with newer msys2, but it wont be soon.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/260818335",
    "html_url": "https://github.com/grpc/grpc/issues/5998#issuecomment-260818335",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/5998",
    "id": 260818335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDgxODMzNQ==",
    "user": {
      "login": "soltanmm-google",
      "id": 21180148,
      "node_id": "MDQ6VXNlcjIxMTgwMTQ4",
      "avatar_url": "https://avatars2.githubusercontent.com/u/21180148?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm-google",
      "html_url": "https://github.com/soltanmm-google",
      "followers_url": "https://api.github.com/users/soltanmm-google/followers",
      "following_url": "https://api.github.com/users/soltanmm-google/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm-google/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm-google/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm-google/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm-google/orgs",
      "repos_url": "https://api.github.com/users/soltanmm-google/repos",
      "events_url": "https://api.github.com/users/soltanmm-google/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm-google/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-16T00:46:03Z",
    "updated_at": "2016-11-16T00:46:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Bunch of things have changed since `0.13.x`.\n"
  }
]
