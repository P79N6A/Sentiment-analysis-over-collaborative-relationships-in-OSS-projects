[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/292805752",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-292805752",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 292805752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MjgwNTc1Mg==",
    "user": {
      "login": "davissp14",
      "id": 423038,
      "node_id": "MDQ6VXNlcjQyMzAzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/423038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davissp14",
      "html_url": "https://github.com/davissp14",
      "followers_url": "https://api.github.com/users/davissp14/followers",
      "following_url": "https://api.github.com/users/davissp14/following{/other_user}",
      "gists_url": "https://api.github.com/users/davissp14/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davissp14/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davissp14/subscriptions",
      "organizations_url": "https://api.github.com/users/davissp14/orgs",
      "repos_url": "https://api.github.com/users/davissp14/repos",
      "events_url": "https://api.github.com/users/davissp14/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davissp14/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-09T19:07:59Z",
    "updated_at": "2017-04-09T19:10:25Z",
    "author_association": "NONE",
    "body": "The example that's listed here isn't very helpful. \r\nhttps://github.com/grpc/grpc.github.io/blob/master/docs/tutorials/basic/ruby.md\r\n\r\n\r\n> def route_chat(notes)\r\n>   q = EnumeratorQueue.new(self)\r\n>   t = Thread.new do\r\n>     begin\r\n>       notes.each do |n|\r\n>       \t...\r\n>     end\r\n>       end\r\n>   q = EnumeratorQueue.new(self)\r\n> ...\r\n>   return q.each_item\r\n> end"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293736930",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293736930",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293736930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzczNjkzMA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-12T23:39:07Z",
    "updated_at": "2017-04-12T23:39:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Probably the most basic thing to know about the streaming call API is just that the parameter is a ruby `Enumerable` of the request proto object (`WatchRequest` in your example) , and that the response is also a ruby `Enumerable` (of the response proto object, `WatchResponse` in your example).\r\n\r\nSo e.g., the most basic bidi stream (without interleaved messages), might send an array of the input request object types, and expect an enumerable of them in return (this working would depend on the service method implementation of course).\r\n\r\nWith more custom enumerable types, as in the route guide example, one could do interleaved messages in whatever way is needed, if that makes sense.\r\n\r\nAs for `GRPC::Core::CallError: grpc_call_start_batch failed with outstanding read or write present (code=8)`, this looks like a sort of internal error and seems strange, it might be interesting of there's a code snippet that causes this."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293756186",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293756186",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293756186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc1NjE4Ng==",
    "user": {
      "login": "davissp14",
      "id": 423038,
      "node_id": "MDQ6VXNlcjQyMzAzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/423038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davissp14",
      "html_url": "https://github.com/davissp14",
      "followers_url": "https://api.github.com/users/davissp14/followers",
      "following_url": "https://api.github.com/users/davissp14/following{/other_user}",
      "gists_url": "https://api.github.com/users/davissp14/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davissp14/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davissp14/subscriptions",
      "organizations_url": "https://api.github.com/users/davissp14/orgs",
      "repos_url": "https://api.github.com/users/davissp14/repos",
      "events_url": "https://api.github.com/users/davissp14/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davissp14/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T02:02:22Z",
    "updated_at": "2017-04-13T02:05:09Z",
    "author_association": "NONE",
    "body": "Here is the code I am working with...\r\n\r\nUsing the etcdv3 gem.\r\n```\r\nrequire 'etcdv3`\r\n```\r\n\r\nStubs Watch Command\r\n```\r\nstub = Etcdserverpb::Watch::Stub.new('localhost:2379', :this_channel_is_insecure, timeout: 10)\r\n```\r\nDefines key we are going to listen on.\r\n```\r\ncreate_req = Etcdserverpb::WatchCreateRequest.new(key: 'key', progress_notify: true)\r\nwatch_req = Etcdserverpb::WatchRequest.new(create_request: create_req)\r\n```\r\nThis generates an enumerable.\r\n```\r\nenum = stub.watch(watch_req)\r\n<Enumerator: #<GRPC::BidiCall:0x007fc47a13a9e8 @call=#<GRPC::Core::Call:0x007fc47a13acb8>, @marshal=#<Proc:0x007fc479bb3128@/Users/shaun/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/grpc-1.2.0-universal-darwin/src/ruby/lib/grpc/generic/rpc_desc.rb:50>, @op_notifier=nil, @unmarshal=#<Proc:0x007fc479bb3010@/Users/shaun/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/grpc-1.2.0-universal-darwin/src/ruby/lib/grpc/generic/rpc_desc.rb:62>, @metadata_received=false, @reads_complete=false, @writes_complete=true, @complete=false, @done_mutex=#<Mutex:0x007fc47a13a998>, @req_view=nil, @enq_th=#<Thread:0x007fc47a13a970@/Users/shaun/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/grpc-1.2.0-universal-darwin/src/ruby/lib/grpc/generic/bidi_call.rb:84 dead>>:read_loop({:is_client=>true})>\r\n```\r\n\r\nThe enum exposes commands like `each` `each_with_object` etc.  and when I run the following command it will block until the timeout is hit.\r\n`enum.each{|e| puts  e.inspect }`\r\n\r\nEither I am not properly generating events, or I am misunderstanding how I am supposed to capture streamed responses.  \r\n\r\nRandom note:  If I try and rerun `enum.each{|e| puts e.inspect }` I get.\r\n\r\n`GRPC::Core::CallError: grpc_call_start_batch failed with outstanding read or write present (code=8)` \r\n\r\nAny thoughts?\r\n\r\nGrpc logs during the blocked event. \r\n\r\n```\r\nI0412 20:49:02.696067000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89a68)\r\nI0412 20:49:02.696083000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89a80)\r\nI0412 20:49:02.696088000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89aa0)\r\nI0412 20:49:02.696091000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89ab8)\r\nI0412 20:49:02.696097000 140735148736512 call.c:1726]                  grpc_call_start_batch(call=0x7f9803a94800, ops=0x7fff59d897e0, nops=2, tag=0x7fff59d897e0, reserved=0x0)\r\nI0412 20:49:02.696103000 140735148736512 call.c:1374]                  ops[0]: RECV_MESSAGE ptr=0x7fff59d89a98\r\nI0412 20:49:02.696108000 140735148736512 call.c:1374]                  ops[1]: RECV_INITIAL_METADATA ptr=0x7fff59d89aa0\r\nI0412 20:49:02.696116000 140735148736512 client_channel.c:1033]        OP[client-channel:0x7f9803a95580]: [COVERED] RECV_INITIAL_METADATA RECV_MESSAGE\r\nI0412 20:49:02.696178000 140735148736512 http_client_filter.c:369]     OP[http-client:0x7f98058e8058]: [COVERED] RECV_INITIAL_METADATA RECV_MESSAGE\r\nI0412 20:49:02.696198000 140735148736512 connected_channel.c:70]       OP[connected:0x7f98058e8088]: [COVERED] RECV_INITIAL_METADATA RECV_MESSAGE\r\nD0412 20:49:02.696210000 140735148736512 chttp2_transport.c:1349]      perform_stream_op[s=0x7f98058e84c0/3]: [COVERED] RECV_INITIAL_METADATA RECV_MESSAGE\r\nD0412 20:49:02.696220000 140735148736512 combiner.c:216]               C:0x7f9803782cc0 grpc_combiner_execute c=0x7f9803a94d78 cov=1 last=1\r\nD0412 20:49:02.696229000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=1)->1 exec_ctx_ready_to_finish=1 time_to_execute_final_list=0\r\nD0412 20:49:02.696236000 140735148736512 combiner.c:306]               C:0x7f9803782cc0 maybe_finish_one n=0x7f9803a94d78\r\nD0412 20:49:02.696246000 140735148736512 chttp2_transport.c:1133]      perform_stream_op_locked: [COVERED] RECV_INITIAL_METADATA RECV_MESSAGE; on_complete = 0x7f9803a94c90\r\nD0412 20:49:02.696262000 140735148736512 chttp2_transport.c:2224]      FLOW       op: client CREDIT                                  STREAM[3]:incoming_window_delta        0 by                                               add_max_recv_bytes        5 giving 5\r\nD0412 20:49:02.696276000 140735148736512 chttp2_transport.c:2226]      FLOW       op: client CREDIT                                        STREAM[3]:announce_window        0 by                                               add_max_recv_bytes        5 giving 5\r\nD0412 20:49:02.696299000 140735148736512 chttp2_transport.c:996]       complete_closure_step: 0x7f9803a94c90 refs=0 flags=0x0000 desc=op->on_complete err=\"No Error\"\r\nD0412 20:49:02.696309000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=3\r\nI0412 20:49:02.696322000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 716318000, clock_type: 1 }, reserved=0x0)\r\nD0412 20:49:02.696404000 140735148736512 resource_quota.c:775]         RQ anonymous_pool_7f9803745490 ipv4:127.0.0.1:2379: alloc 8192; free_pool -> -8192\r\nD0412 20:49:02.696415000 140735148736512 combiner.c:216]               C:0x7f98037bbcd0 grpc_combiner_execute c=0x7f980377c6d8 cov=0 last=1\r\nD0412 20:49:02.696424000 140735148736512 combiner.c:280]               C:0x7f98037bbcd0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=0 time_to_execute_final_list=0\r\nD0412 20:49:02.696430000 140735148736512 combiner.c:306]               C:0x7f98037bbcd0 maybe_finish_one n=0x7f980377c6d8\r\nD0412 20:49:02.696437000 140735148736512 combiner.c:398]               C:0x7f98037bbcd0 grpc_combiner_execute_finally c=0x7f98037454c0; ac=0x7f98037bbcd0; cov=1\r\nD0412 20:49:02.696443000 140735148736512 combiner.c:351]               C:0x7f98037bbcd0 finish old_state=5\r\nD0412 20:49:02.696450000 140735148736512 combiner.c:280]               C:0x7f98037bbcd0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=1 elems=0)->1 exec_ctx_ready_to_finish=0 time_to_execute_final_list=1\r\nD0412 20:49:02.696483000 140735148736512 combiner.c:335]               C:0x7f98037bbcd0 execute_final[0] c=0x7f98037454c0\r\nD0412 20:49:02.696500000 140735148736512 resource_quota.c:303]         RQ anonymous_pool_7f9803745490 ipv4:127.0.0.1:2379: grant alloc 8192 bytes; rq_free_pool -> 9223372036854767615\r\nD0412 20:49:02.696509000 140735148736512 combiner.c:351]               C:0x7f98037bbcd0 finish old_state=3\r\nD0412 20:49:02.696536000 140735148736512 tcp_posix.c:184]              read: error=\"No Error\"\r\nD0412 20:49:02.696551000 140735148736512 tcp_posix.c:189]              READ 0x7f980373b5a0 (peer=ipv4:127.0.0.1:2379): 00 00 00 04 00 00 00 00 00 00 00 04 08 00 00 00 00 00 00 0e ff f1 00 00 00 04 01 00 00 00 00 00 00 38 01 05 00 00 00 01 88 5f 8b 1d 75 d0 62 0d 26 3d 4c 4d 65 64 40 88 9a ca c8 b2 12 34 da 8f 01 34 40 89 9a ca c8 b5 25 42 07 31 7f 92 21 ea 49 7c a5 49 0a 39 28 35 45 50 be 48 52 c8 59 3f '....................��...........8......._..u�b.&=LMed@..�Ȳ.4�..4@..�ȵ%B.1..!�I|�I.9(5EP�HR�Y?'\r\nD0412 20:49:02.696562000 140735148736512 combiner.c:216]               C:0x7f9803782cc0 grpc_combiner_execute c=0x7f980580c120 cov=0 last=1\r\nD0412 20:49:02.696571000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=0 time_to_execute_final_list=0\r\nD0412 20:49:02.696575000 140735148736512 combiner.c:306]               C:0x7f9803782cc0 maybe_finish_one n=0x7f980580c120\r\nD0412 20:49:02.696614000 140735148736512 frame_window_update.c:124]    FLOW    parse: client CREDIT                                        TRANSPORT:outgoing_window    65535 by                                                  received_update   983025 giving 1048560\r\nD0412 20:49:02.696671000 140735148736512 bdp_estimator.c:71]           bdp[ipv4:127.0.0.1:2379]:sched acc=96 est=65536\r\nD0412 20:49:02.696681000 140735148736512 chttp2_transport.c:726]       W:0x7f980580c000 CLIENT state IDLE -> WRITING [send_ping]\r\nD0412 20:49:02.696692000 140735148736512 combiner.c:398]               C:0x7f9803782cc0 grpc_combiner_execute_finally c=0x7f980580c0a8; ac=0x7f9803782cc0; cov=0\r\nD0412 20:49:02.696701000 140735148736512 chttp2_transport.c:1900]      ipv4:127.0.0.1:2379: update initial window size to 89080\r\nD0412 20:49:02.696711000 140735148736512 chttp2_transport.c:726]       W:0x7f980580c000 CLIENT state WRITING -> WRITING+MORE [push_setting]\r\nD0412 20:49:02.696719000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=5\r\nD0412 20:49:02.696733000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=0 time_to_execute_final_list=1\r\nD0412 20:49:02.696741000 140735148736512 combiner.c:335]               C:0x7f9803782cc0 execute_final[0] c=0x7f980580c0a8\r\nD0412 20:49:02.696750000 140735148736512 writing.c:208]                W:0x7f980580c000 CLIENT[3] im-(sent,send)=(1,0) announce=5\r\nD0412 20:49:02.696764000 140735148736512 writing.c:233]                FLOW    write: client DEBIT                                         STREAM[3]:announce_window        5 by                                                         announce        5 giving 0\r\nD0412 20:49:02.696775000 140735148736512 chttp2_transport.c:726]       W:0x7f980580c000 CLIENT state WRITING+MORE -> WRITING [begin writing]\r\nD0412 20:49:02.696784000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=3\r\nD0412 20:49:02.696794000 140735148736512 tcp_posix.c:457]              WRITE 0x7f980373b5a0 (peer=ipv4:127.0.0.1:2379): 00 00 06 04 00 00 00 00 00 00 04 00 01 5b f8 '.............[�'\r\nD0412 20:49:02.696804000 140735148736512 tcp_posix.c:457]              WRITE 0x7f980373b5a0 (peer=ipv4:127.0.0.1:2379): 00 00 00 04 01 00 00 00 00 00 00 04 08 00 00 '...............'\r\nD0412 20:49:02.696812000 140735148736512 tcp_posix.c:457]              WRITE 0x7f980373b5a0 (peer=ipv4:127.0.0.1:2379): 00 00 03 00 00 00 05 '.......'\r\nD0412 20:49:02.696862000 140735148736512 tcp_posix.c:487]              write: \"No Error\"\r\nD0412 20:49:02.696874000 140735148736512 combiner.c:216]               C:0x7f9803782cc0 grpc_combiner_execute c=0x7f980580c0f8 cov=0 last=1\r\nD0412 20:49:02.696883000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=0 time_to_execute_final_list=0\r\nD0412 20:49:02.696890000 140735148736512 combiner.c:306]               C:0x7f9803782cc0 maybe_finish_one n=0x7f980580c0f8\r\nD0412 20:49:02.696897000 140735148736512 chttp2_transport.c:726]       W:0x7f980580c000 CLIENT state WRITING -> IDLE [finish writing]\r\nD0412 20:49:02.696905000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=3\r\nD0412 20:49:02.696975000 140735148736512 tcp_posix.c:184]              read: error=\"No Error\"\r\nD0412 20:49:02.696990000 140735148736512 tcp_posix.c:189]              READ 0x7f980373b5a0 (peer=ipv4:127.0.0.1:2379): 00 00 00 04 01 00 00 00 00 '.........'\r\nD0412 20:49:02.696999000 140735148736512 combiner.c:216]               C:0x7f9803782cc0 grpc_combiner_execute c=0x7f980580c120 cov=0 last=1\r\nD0412 20:49:02.697007000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=0 time_to_execute_final_list=0\r\nD0412 20:49:02.697013000 140735148736512 combiner.c:306]               C:0x7f9803782cc0 maybe_finish_one n=0x7f980580c120\r\nD0412 20:49:02.697020000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=3\r\nI0412 20:49:02.719756000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.719785000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 739779000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.743665000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.743700000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 763695000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.768211000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.768245000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 788241000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.792771000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.792809000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 812805000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.813925000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.813957000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 833953000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.836548000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.836654000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 856649000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.856887000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.856915000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 876912000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.879567000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.879591000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 899588000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.899762000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.899788000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 919786000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.923153000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.923188000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 943184000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.945357000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.945384000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 965382000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:02.965706000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: QUEUE_TIMEOUT\r\nI0412 20:49:02.965735000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048142, tv_nsec: 985731000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:10.637959000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048150, tv_nsec: 657946000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:10.642283000 140735148736512 client_channel.c:1033]        OP[client-channel:0x7f9803a95580]: [UNCOVERED] CANCEL:{\"created\":\"@1492048150.642227000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/lib/channel/deadline_filter.c\",\"file_line\":58,\"grpc_status\":4}\r\nI0412 20:49:10.642397000 140735148736512 http_client_filter.c:369]     OP[http-client:0x7f98058e8058]: [UNCOVERED] CANCEL:{\"created\":\"@1492048150.642227000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/lib/channel/deadline_filter.c\",\"file_line\":58,\"grpc_status\":4}\r\nI0412 20:49:10.642487000 140735148736512 connected_channel.c:70]       OP[connected:0x7f98058e8088]: [UNCOVERED] CANCEL:{\"created\":\"@1492048150.642227000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/lib/channel/deadline_filter.c\",\"file_line\":58,\"grpc_status\":4}\r\nD0412 20:49:10.642503000 140735148736512 chttp2_transport.c:1349]      perform_stream_op[s=0x7f98058e84c0/3]: [UNCOVERED] CANCEL:{\"created\":\"@1492048150.642227000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/lib/channel/deadline_filter.c\",\"file_line\":58,\"grpc_status\":4}\r\nD0412 20:49:10.642515000 140735148736512 combiner.c:216]               C:0x7f9803782cc0 grpc_combiner_execute c=0x7f9806155df0 cov=0 last=1\r\nD0412 20:49:10.642525000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=0 time_to_execute_final_list=0\r\nD0412 20:49:10.642809000 140735148736512 combiner.c:306]               C:0x7f9803782cc0 maybe_finish_one n=0x7f9806155df0\r\nD0412 20:49:10.642854000 140735148736512 chttp2_transport.c:1133]      perform_stream_op_locked: [UNCOVERED] CANCEL:{\"created\":\"@1492048150.642227000\",\"description\":\"Deadline Exceeded\",\"file\":\"src/core/lib/channel/deadline_filter.c\",\"file_line\":58,\"grpc_status\":4}; on_complete = 0x7f9806155d40\r\nD0412 20:49:10.642879000 140735148736512 chttp2_transport.c:726]       W:0x7f980580c000 CLIENT state IDLE -> WRITING [rst_stream]\r\nD0412 20:49:10.642891000 140735148736512 combiner.c:398]               C:0x7f9803782cc0 grpc_combiner_execute_finally c=0x7f980580c0a8; ac=0x7f9803782cc0; cov=0\r\nD0412 20:49:10.642960000 140735148736512 chttp2_transport.c:996]       complete_closure_step: 0x7f9806155d40 refs=0 flags=0x0000 desc=op->on_complete err=\"No Error\"\r\nD0412 20:49:10.643206000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=5\r\nI0412 20:49:10.643241000 140735148736512 completion_queue.c:224]       grpc_cq_end_op(exec_ctx=0x7fff59d895a0, cc=0x7f98035dfd40, tag=0x7fff59d897e0, error=\"No Error\", done=0x106460140, done_arg=0x7f9803a94c68, storage=0x7f9803a94c70)\r\nD0412 20:49:10.643263000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=1 time_to_execute_final_list=1\r\nD0412 20:49:10.643278000 140735148736512 combiner.c:335]               C:0x7f9803782cc0 execute_final[0] c=0x7f980580c0a8\r\nD0412 20:49:10.643293000 140735148736512 chttp2_transport.c:726]       W:0x7f980580c000 CLIENT state WRITING -> WRITING [begin writing]\r\nD0412 20:49:10.643306000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=3\r\nD0412 20:49:10.643323000 140735148736512 tcp_posix.c:457]              WRITE 0x7f980373b5a0 (peer=ipv4:127.0.0.1:2379): 00 00 04 03 00 00 00 00 03 00 00 00 08 '.............'\r\nD0412 20:49:10.643394000 140735148736512 tcp_posix.c:487]              write: \"No Error\"\r\nD0412 20:49:10.643410000 140735148736512 combiner.c:216]               C:0x7f9803782cc0 grpc_combiner_execute c=0x7f980580c0f8 cov=0 last=1\r\nD0412 20:49:10.643425000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=0)->0 exec_ctx_ready_to_finish=1 time_to_execute_final_list=0\r\nD0412 20:49:10.643438000 140735148736512 combiner.c:306]               C:0x7f9803782cc0 maybe_finish_one n=0x7f980580c0f8\r\nD0412 20:49:10.643449000 140735148736512 chttp2_transport.c:726]       W:0x7f980580c000 CLIENT state WRITING -> IDLE [finish writing]\r\nD0412 20:49:10.643462000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=3\r\nI0412 20:49:10.643479000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: OP_COMPLETE: tag:0x7fff59d897e0 OK\r\nI0412 20:49:10.643508000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89a68)\r\nI0412 20:49:10.643521000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89a80)\r\nI0412 20:49:10.643532000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89aa0)\r\nI0412 20:49:10.643543000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89ab8)\r\nI0412 20:49:10.643613000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89a68)\r\nI0412 20:49:10.643628000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89a80)\r\nI0412 20:49:10.643638000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89aa0)\r\nI0412 20:49:10.643648000 140735148736512 metadata_array.c:42]          grpc_metadata_array_init(array=0x7fff59d89ab8)\r\nI0412 20:49:10.643663000 140735148736512 call.c:1726]                  grpc_call_start_batch(call=0x7f9803a94800, ops=0x7fff59d897e0, nops=1, tag=0x7fff59d897e0, reserved=0x0)\r\nI0412 20:49:10.643680000 140735148736512 call.c:1374]                  ops[0]: RECV_STATUS_ON_CLIENT metadata=0x7fff59d89ab8 status=0x7fff59d89ad4 details=0x7fff59d89ad8\r\nI0412 20:49:10.643701000 140735148736512 client_channel.c:1033]        OP[client-channel:0x7f9803a95580]: [COVERED] RECV_TRAILING_METADATA\r\nI0412 20:49:10.643718000 140735148736512 http_client_filter.c:369]     OP[http-client:0x7f98058e8058]: [COVERED] RECV_TRAILING_METADATA\r\nI0412 20:49:10.643736000 140735148736512 connected_channel.c:70]       OP[connected:0x7f98058e8088]: [COVERED] RECV_TRAILING_METADATA\r\nD0412 20:49:10.643753000 140735148736512 chttp2_transport.c:1349]      perform_stream_op[s=0x7f98058e84c0/3]: [COVERED] RECV_TRAILING_METADATA\r\nD0412 20:49:10.643768000 140735148736512 combiner.c:216]               C:0x7f9803782cc0 grpc_combiner_execute c=0x7f9803a95008 cov=1 last=1\r\nD0412 20:49:10.643782000 140735148736512 combiner.c:280]               C:0x7f9803782cc0 grpc_combiner_continue_exec_ctx workqueue=0x0 is_covered_by_poller=(final=0 elems=1)->1 exec_ctx_ready_to_finish=1 time_to_execute_final_list=0\r\nD0412 20:49:10.643794000 140735148736512 combiner.c:306]               C:0x7f9803782cc0 maybe_finish_one n=0x7f9803a95008\r\nD0412 20:49:10.643812000 140735148736512 chttp2_transport.c:1133]      perform_stream_op_locked: [COVERED] RECV_TRAILING_METADATA; on_complete = 0x7f98058e83d8\r\nD0412 20:49:10.643864000 140735148736512 chttp2_transport.c:996]       complete_closure_step: 0x7f98058e83d8 refs=1 flags=0x0001 desc=recv_trailing_metadata_finished err=\"No Error\"\r\nD0412 20:49:10.643889000 140735148736512 chttp2_transport.c:996]       complete_closure_step: 0x7f98058e83d8 refs=0 flags=0x0001 desc=op->on_complete err=\"No Error\"\r\nD0412 20:49:10.643916000 140735148736512 call.c:655]                   get_final_status CLI\r\nD0412 20:49:10.643950000 140735148736512 call.c:658]                     1: {\"created\":\"@1492048150.643909000\",\"description\":\"Error received from peer\",\"file\":\"src/core/lib/surface/call.c\",\"file_line\":909,\"grpc_message\":\"Deadline Exceeded\",\"grpc_status\":4}\r\nI0412 20:49:10.643976000 140735148736512 completion_queue.c:224]       grpc_cq_end_op(exec_ctx=0x7fff59d89710, cc=0x7f98035dfd40, tag=0x7fff59d897e0, error=\"No Error\", done=0x106460140, done_arg=0x7f9803a94ef8, storage=0x7f9803a94f00)\r\nD0412 20:49:10.643993000 140735148736512 combiner.c:351]               C:0x7f9803782cc0 finish old_state=3\r\nI0412 20:49:10.644014000 140735148736512 completion_queue.c:528]       grpc_completion_queue_pluck(cc=0x7f98035dfd40, tag=0x7fff59d897e0, deadline=gpr_timespec { tv_sec: 1492048150, tv_nsec: 664009000, clock_type: 1 }, reserved=0x0)\r\nI0412 20:49:10.644036000 140735148736512 completion_queue.c:633]       RETURN_EVENT[0x7f98035dfd40]: OP_COMPLETE: tag:0x7fff59d897e0 OK\r\nI0412 20:49:10.644061000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89a68)\r\nI0412 20:49:10.644085000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89a80)\r\nI0412 20:49:10.644092000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89aa0)\r\nI0412 20:49:10.644098000 140735148736512 metadata_array.c:47]          grpc_metadata_array_destroy(array=0x7fff59d89ab8)\r\nGRPC::DeadlineExceeded: 4:Deadline Exceeded\r\n```"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293764861",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293764861",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293764861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc2NDg2MQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T02:59:19Z",
    "updated_at": "2017-04-13T03:05:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "off the bat it looks like the deadline of 10 (in seconds) is happening.\r\n\r\nBut IIC the undesired behavior here is the \r\n`GRPC::Core::CallError: grpc_call_start_batch failed with outstanding read or write present (code=8)`?\r\n\r\nIf instead of \r\n```\r\nenum = stub.watch(watch_req)\r\nenum.each { |e| puts e.inspect }\r\n```\r\n\r\nyou do:\r\n```\r\nstub.watch(watch_req) { |e| puts e.inspect }\r\n```\r\n\r\ndoes the problem go away?\r\n<s> - if so, I think this might be hitting a bug in client-side streaming repsonse exception (probably should see a `GRPC::DeadlineExceeded` exception)</s>\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293766475",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293766475",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293766475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc2NjQ3NQ==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T03:09:45Z",
    "updated_at": "2017-04-13T03:09:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "scratched my above comment as I can't say that's the cause right now, though still the `GRPC::DeadlineExceeded` I think should be showing up here. "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293769832",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293769832",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293769832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc2OTgzMg==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T03:32:37Z",
    "updated_at": "2017-04-13T03:34:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "To repro attempt I started an etcd server (latest release) locally as per https://github.com/coreos/etcd/releases/.\r\n\r\nI tried to repro with:\r\n\r\n```\r\nrequire 'etcdv3'\r\n\r\ndef main\r\n  stub = Etcdserverpb::Watch::Stub.new('localhost:2379', :this_channel_is_insecure, timeout: 10)\r\n\r\n  create_req = Etcdserverpb::WatchCreateRequest.new(key: 'key', progress_notify: true)\r\n  watch_req = Etcdserverpb::WatchRequest.new(create_request: create_req)\r\n\r\n  enum = stub.watch(watch_req)\r\n  enum.each { |e| puts e.inspect }\r\nend\r\n\r\nmain\r\n```\r\n\r\nand got a `(GRPC::DeadlineExceeded)` exception as expected.\r\n\r\nIf the enumerable response stream is attempted to be reused though, like:\r\n\r\n```\r\nrequire 'etcdv3'\r\n\r\ndef main\r\n  stub = Etcdserverpb::Watch::Stub.new('localhost:2379', :this_channel_is_insecure, timeout: 10)\r\n\r\n  create_req = Etcdserverpb::WatchCreateRequest.new(key: 'key', progress_notify: true)\r\n  watch_req = Etcdserverpb::WatchRequest.new(create_request: create_req)\r\n\r\n  enum = stub.watch(watch_req)\r\n  enum.each { |e| puts e.inspect }\r\nrescue\r\n  enum.each { |e| puts e.inspect }\r\nend\r\n\r\nmain\r\n```\r\n\r\nthe error thrown is `GRPC::Core::CallError: grpc_call_start_batch failed with outstanding read or write present (code=8)`, as mentioned here.\r\n\r\nBut I'm not completely sure what the problem posted here is about, is it the raising of `CallError`?\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293896360",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293896360",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293896360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzg5NjM2MA==",
    "user": {
      "login": "davissp14",
      "id": 423038,
      "node_id": "MDQ6VXNlcjQyMzAzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/423038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davissp14",
      "html_url": "https://github.com/davissp14",
      "followers_url": "https://api.github.com/users/davissp14/followers",
      "following_url": "https://api.github.com/users/davissp14/following{/other_user}",
      "gists_url": "https://api.github.com/users/davissp14/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davissp14/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davissp14/subscriptions",
      "organizations_url": "https://api.github.com/users/davissp14/orgs",
      "repos_url": "https://api.github.com/users/davissp14/repos",
      "events_url": "https://api.github.com/users/davissp14/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davissp14/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T13:32:54Z",
    "updated_at": "2017-04-13T13:39:33Z",
    "author_association": "NONE",
    "body": "@apolcyn  The end goal is to figure out how capture and act on response events.  The CallErrors with the exception of `GRPC::DeadlineExceeded` are just adding additional confusion on my adventure to figuring out how to make sense of this.\r\n\r\nResponse events should be generated whenever there's a change on the `key` namespace (which is defined in the WatchCreateRequest), however no matter what I do here, I can't seem to capture or output the response events. \r\n\r\nFor reference:  A change on the `key` namespace could be done by.\r\n```\r\nconn = Etcdv3.new(url: 'http://localhost:2379')\r\nconn.put('key', 'somevalue')\r\n```\r\n\r\nI appreciate your help here!  \r\n  "
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293957072",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293957072",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293957072,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzk1NzA3Mg==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T16:46:10Z",
    "updated_at": "2017-04-13T16:46:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "It looks like there is a simple fix to the code here:\r\nWe should just change \r\n\r\n```\r\nenum = stub.watch(watch_req)\r\n```\r\n\r\nto \r\n\r\n```\r\nenum = stub.watch([watch_req])\r\n```\r\n\r\n(since it's a bidi call, the input parameter needs to be an enumerable, representing the \"stream\", of the request type).\r\n\r\nBut this looks like a grpc-ruby problem in that the exception  for this bad type isn't surfacing. For bidi calls in grpc-ruby, currently there is a separate \"write loop\" thread that iterates through the request enumerable and sends them. That write loop thread is failing when the input type is bad, but the exception doesn't raise in an obvious way."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/293959056",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-293959056",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 293959056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzk1OTA1Ng==",
    "user": {
      "login": "davissp14",
      "id": 423038,
      "node_id": "MDQ6VXNlcjQyMzAzOA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/423038?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davissp14",
      "html_url": "https://github.com/davissp14",
      "followers_url": "https://api.github.com/users/davissp14/followers",
      "following_url": "https://api.github.com/users/davissp14/following{/other_user}",
      "gists_url": "https://api.github.com/users/davissp14/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davissp14/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davissp14/subscriptions",
      "organizations_url": "https://api.github.com/users/davissp14/orgs",
      "repos_url": "https://api.github.com/users/davissp14/repos",
      "events_url": "https://api.github.com/users/davissp14/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davissp14/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T16:53:51Z",
    "updated_at": "2017-04-13T16:56:58Z",
    "author_association": "NONE",
    "body": "Omg ... Thank you ... \r\n\r\nI am very happy and slightly frustrated that it was that simple of a fix. 😆 \r\n\r\nI appreciate your help :)  I can now finish up the etcd v3 binding now. :)"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/294065290",
    "html_url": "https://github.com/grpc/grpc/issues/10526#issuecomment-294065290",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/10526",
    "id": 294065290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDA2NTI5MA==",
    "user": {
      "login": "apolcyn",
      "id": 9566254,
      "node_id": "MDQ6VXNlcjk1NjYyNTQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9566254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apolcyn",
      "html_url": "https://github.com/apolcyn",
      "followers_url": "https://api.github.com/users/apolcyn/followers",
      "following_url": "https://api.github.com/users/apolcyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/apolcyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apolcyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apolcyn/subscriptions",
      "organizations_url": "https://api.github.com/users/apolcyn/orgs",
      "repos_url": "https://api.github.com/users/apolcyn/repos",
      "events_url": "https://api.github.com/users/apolcyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apolcyn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-14T01:47:59Z",
    "updated_at": "2017-04-14T01:47:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for posting as this brings up the lacking exception issue, leaving this open with https://github.com/grpc/grpc/pull/10636 to fix"
  }
]
