[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/342537443",
    "html_url": "https://github.com/grpc/grpc/issues/13227#issuecomment-342537443",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13227",
    "id": 342537443,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjUzNzQ0Mw==",
    "user": {
      "login": "soiferj",
      "id": 3534847,
      "node_id": "MDQ6VXNlcjM1MzQ4NDc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3534847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soiferj",
      "html_url": "https://github.com/soiferj",
      "followers_url": "https://api.github.com/users/soiferj/followers",
      "following_url": "https://api.github.com/users/soiferj/following{/other_user}",
      "gists_url": "https://api.github.com/users/soiferj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soiferj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soiferj/subscriptions",
      "organizations_url": "https://api.github.com/users/soiferj/orgs",
      "repos_url": "https://api.github.com/users/soiferj/repos",
      "events_url": "https://api.github.com/users/soiferj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soiferj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-07T16:24:04Z",
    "updated_at": "2017-11-07T16:24:04Z",
    "author_association": "NONE",
    "body": "Has anyone else experienced this issue?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/342548185",
    "html_url": "https://github.com/grpc/grpc/issues/13227#issuecomment-342548185",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13227",
    "id": 342548185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjU0ODE4NQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-07T16:55:40Z",
    "updated_at": "2017-11-07T16:55:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "The line you are mentioning should throw 1 exception per second per channel.\r\nhttps://github.com/grpc/grpc/blob/4cd04b3cd0833e97fc6a65ede8653961a0cf52a3/src/csharp/Grpc.Core/Channel.cs#L312\r\n\r\nThat doesn't really sound something that should result in a significant performance penalty.\r\n\r\nBtw, the RunConnectivityWatcherAsync() method is mean as a temporary workaround for  https://github.com/GoogleCloudPlatform/google-cloud-dotnet/issues/822 and it should eventually go away."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/342582400",
    "html_url": "https://github.com/grpc/grpc/issues/13227#issuecomment-342582400",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13227",
    "id": 342582400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjU4MjQwMA==",
    "user": {
      "login": "soiferj",
      "id": 3534847,
      "node_id": "MDQ6VXNlcjM1MzQ4NDc=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3534847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soiferj",
      "html_url": "https://github.com/soiferj",
      "followers_url": "https://api.github.com/users/soiferj/followers",
      "following_url": "https://api.github.com/users/soiferj/following{/other_user}",
      "gists_url": "https://api.github.com/users/soiferj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soiferj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soiferj/subscriptions",
      "organizations_url": "https://api.github.com/users/soiferj/orgs",
      "repos_url": "https://api.github.com/users/soiferj/repos",
      "events_url": "https://api.github.com/users/soiferj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soiferj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-07T18:47:43Z",
    "updated_at": "2017-11-07T18:47:43Z",
    "author_association": "NONE",
    "body": "In our case, this means ~1000 exceptions / second per server. In addition to everything else going on, it seems like that can cause a pretty significant hit.\r\n\r\nIs there an ETA for removing RunConnectivityWatcherAsync?"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/343406177",
    "html_url": "https://github.com/grpc/grpc/issues/13227#issuecomment-343406177",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13227",
    "id": 343406177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzQwNjE3Nw==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T08:19:49Z",
    "updated_at": "2017-11-10T08:19:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Currently there's no clear ETA for removing RunConnectivityWatcherAsync. While I agree this is less than ideal, I still don't think 1000exceptions/s that need to be garbage collected represent a significant overhead.\r\nWhat I think would help: can you try disabling RunConnectivityWatcherAsync for channels and see if you see significant perf. improvements in your setup? (I suspect you won't).\r\n\r\nI currently know about several places in gRPC C#  where we could save on allocations in a more significant way than this issue would (a good example would be https://github.com/grpc/grpc/issues/13236) - so unless we establish a clear link between RunConnectivytWatcherAsync and the performance penalty you are seeing, I think it makes more sense to focus our energy there."
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/357004231",
    "html_url": "https://github.com/grpc/grpc/issues/13227#issuecomment-357004231",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13227",
    "id": 357004231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzAwNDIzMQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-11T17:40:15Z",
    "updated_at": "2018-01-11T17:40:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed by #13957"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/361138524",
    "html_url": "https://github.com/grpc/grpc/issues/13227#issuecomment-361138524",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13227",
    "id": 361138524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTEzODUyNA==",
    "user": {
      "login": "manigandham",
      "id": 457226,
      "node_id": "MDQ6VXNlcjQ1NzIyNg==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/457226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/manigandham",
      "html_url": "https://github.com/manigandham",
      "followers_url": "https://api.github.com/users/manigandham/followers",
      "following_url": "https://api.github.com/users/manigandham/following{/other_user}",
      "gists_url": "https://api.github.com/users/manigandham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/manigandham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/manigandham/subscriptions",
      "organizations_url": "https://api.github.com/users/manigandham/orgs",
      "repos_url": "https://api.github.com/users/manigandham/repos",
      "events_url": "https://api.github.com/users/manigandham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/manigandham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-29T04:38:14Z",
    "updated_at": "2018-01-29T05:06:33Z",
    "author_association": "NONE",
    "body": "Just to confirm, we're seeing this too. It's both the number of exceptions and the fact that they cause an entire stack trace to be dumped which is expensive. If it was just garbage collection then it wouldn't really be an issue, especially with empty catch blocks. \r\n\r\nOne of our apps is showing about 400 exceptions/sec while only using the datastore API (which is only used once on startup):\r\n\r\n![image](https://user-images.githubusercontent.com/457226/35493814-0ddab360-046b-11e8-8fd3-34e1d9ed9aab.png)\r\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/361172769",
    "html_url": "https://github.com/grpc/grpc/issues/13227#issuecomment-361172769",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/13227",
    "id": 361172769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTE3Mjc2OQ==",
    "user": {
      "login": "jtattermusch",
      "id": 9939684,
      "node_id": "MDQ6VXNlcjk5Mzk2ODQ=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/9939684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtattermusch",
      "html_url": "https://github.com/jtattermusch",
      "followers_url": "https://api.github.com/users/jtattermusch/followers",
      "following_url": "https://api.github.com/users/jtattermusch/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtattermusch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtattermusch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtattermusch/subscriptions",
      "organizations_url": "https://api.github.com/users/jtattermusch/orgs",
      "repos_url": "https://api.github.com/users/jtattermusch/repos",
      "events_url": "https://api.github.com/users/jtattermusch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtattermusch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-29T08:29:21Z",
    "updated_at": "2018-01-29T08:29:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@manigandham   this has been fixed and there are 1.9.0-pre2 prerelease nugets that contain the fix. Would you mind verifying that the problems you were seeing are gone?"
  }
]
