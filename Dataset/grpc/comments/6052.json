[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/204273924",
    "html_url": "https://github.com/grpc/grpc/issues/6052#issuecomment-204273924",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6052",
    "id": 204273924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDI3MzkyNA==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-01T06:47:25Z",
    "updated_at": "2016-04-01T06:47:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry to be blunt, but, my answer would be, \"so ?\"\n\nYou did stop the server using CTRL-C, meaning no shutdown path took place, and the example clearly states that there's no shutdown implemented in it anyway. I fail to understand the point you're trying to make here. There's no bug here, aside from the fact the example doesn't demonstrate how to initiate a shutdown.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/204278685",
    "html_url": "https://github.com/grpc/grpc/issues/6052#issuecomment-204278685",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6052",
    "id": 204278685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDI3ODY4NQ==",
    "user": {
      "login": "ochowie",
      "id": 4466413,
      "node_id": "MDQ6VXNlcjQ0NjY0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4466413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ochowie",
      "html_url": "https://github.com/ochowie",
      "followers_url": "https://api.github.com/users/ochowie/followers",
      "following_url": "https://api.github.com/users/ochowie/following{/other_user}",
      "gists_url": "https://api.github.com/users/ochowie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ochowie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ochowie/subscriptions",
      "organizations_url": "https://api.github.com/users/ochowie/orgs",
      "repos_url": "https://api.github.com/users/ochowie/repos",
      "events_url": "https://api.github.com/users/ochowie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ochowie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-01T07:09:51Z",
    "updated_at": "2016-04-01T07:12:35Z",
    "author_association": "NONE",
    "body": "Fair point. However, I did move the wait into a different thread and used the main thread to shutdown the server after receiving input from cin and it's still reporting that leak. Here is the code I used, it's possible there is an issue with my code and I'm still not shutting the server down correctly but it is similar to an SO thread on shutting a server down (and I haven't found any other examples).\n\n```\n  auto waitFn = [&]() {\n    server->Wait();\n    };\n\n    std::thread serverThread (waitFn);\n\n    int test;\n\n    std::cin >> test;\n    server->Shutdown();\n```\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/204290052",
    "html_url": "https://github.com/grpc/grpc/issues/6052#issuecomment-204290052",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6052",
    "id": 204290052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDI5MDA1Mg==",
    "user": {
      "login": "nicolasnoble",
      "id": 7281574,
      "node_id": "MDQ6VXNlcjcyODE1NzQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nicolasnoble",
      "html_url": "https://github.com/nicolasnoble",
      "followers_url": "https://api.github.com/users/nicolasnoble/followers",
      "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}",
      "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions",
      "organizations_url": "https://api.github.com/users/nicolasnoble/orgs",
      "repos_url": "https://api.github.com/users/nicolasnoble/repos",
      "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nicolasnoble/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-01T07:29:05Z",
    "updated_at": "2016-04-01T07:29:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right, okay. So as you do this, you're in fact not waiting on the server to actually shut down. You're initiating the shutdown, and it's probably starting to take place into the other thread, but as `Shutdown()` is a non-blocking call, you go at the end of `main()` without all of the shutdown sequence to actually happen, which exits the process without waiting for the threads to finish cleanly.\n\nThere's several things you can do at that point to make it right:\n\n-) Wait on a semaphore or something after calling `server->Shutdown()`, and trigger that semaphore after `server->Wait()`.\n-) Invert your logic and do the console reading + shutdown from another thread, while doing the wait in main.\n-) Initiate the shutdown in the SayHello callback. The server will only reply to one hello then exit.\n-) Add another message to shutdown the server.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/204471524",
    "html_url": "https://github.com/grpc/grpc/issues/6052#issuecomment-204471524",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/6052",
    "id": 204471524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDQ3MTUyNA==",
    "user": {
      "login": "ochowie",
      "id": 4466413,
      "node_id": "MDQ6VXNlcjQ0NjY0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4466413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ochowie",
      "html_url": "https://github.com/ochowie",
      "followers_url": "https://api.github.com/users/ochowie/followers",
      "following_url": "https://api.github.com/users/ochowie/following{/other_user}",
      "gists_url": "https://api.github.com/users/ochowie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ochowie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ochowie/subscriptions",
      "organizations_url": "https://api.github.com/users/ochowie/orgs",
      "repos_url": "https://api.github.com/users/ochowie/repos",
      "events_url": "https://api.github.com/users/ochowie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ochowie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-01T17:00:51Z",
    "updated_at": "2016-04-01T17:00:51Z",
    "author_association": "NONE",
    "body": "Thanks for the help. Closing this down.\n"
  }
]
