[
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/249041446",
    "html_url": "https://github.com/grpc/grpc/issues/8175#issuecomment-249041446",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8175",
    "id": 249041446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0OTA0MTQ0Ng==",
    "user": {
      "login": "ctiller",
      "id": 10120821,
      "node_id": "MDQ6VXNlcjEwMTIwODIx",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10120821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ctiller",
      "html_url": "https://github.com/ctiller",
      "followers_url": "https://api.github.com/users/ctiller/followers",
      "following_url": "https://api.github.com/users/ctiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ctiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctiller/subscriptions",
      "organizations_url": "https://api.github.com/users/ctiller/orgs",
      "repos_url": "https://api.github.com/users/ctiller/repos",
      "events_url": "https://api.github.com/users/ctiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ctiller/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-22T22:02:49Z",
    "updated_at": "2016-09-22T22:02:49Z",
    "author_association": "MEMBER",
    "body": "I'm not sure what this bug means.\n\ngRPC C already doesn't care if grpc-status is contained in headers or\ntrailers.\n\nWhat change is requested?\n\nOn Thu, Sep 22, 2016 at 2:57 PM makdharma notifications@github.com wrote:\n\n> Assigned #8175 https://github.com/grpc/grpc/issues/8175 to @ctiller\n> https://github.com/ctiller.\n> \n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/grpc/grpc/issues/8175#event-799565263, or mute the\n> thread\n> https://github.com/notifications/unsubscribe-auth/AJpuddhIIYVIXwXPtmlT3Noqu4r613JSks5qsvm-gaJpZM4KEaBC\n> .\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/249042680",
    "html_url": "https://github.com/grpc/grpc/issues/8175#issuecomment-249042680",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8175",
    "id": 249042680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0OTA0MjY4MA==",
    "user": {
      "login": "ejona86",
      "id": 2811396,
      "node_id": "MDQ6VXNlcjI4MTEzOTY=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/2811396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ejona86",
      "html_url": "https://github.com/ejona86",
      "followers_url": "https://api.github.com/users/ejona86/followers",
      "following_url": "https://api.github.com/users/ejona86/following{/other_user}",
      "gists_url": "https://api.github.com/users/ejona86/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ejona86/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ejona86/subscriptions",
      "organizations_url": "https://api.github.com/users/ejona86/orgs",
      "repos_url": "https://api.github.com/users/ejona86/repos",
      "events_url": "https://api.github.com/users/ejona86/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ejona86/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-22T22:09:12Z",
    "updated_at": "2016-09-22T22:09:12Z",
    "author_association": "MEMBER",
    "body": "I don't think I agree with the direction of that argument and don't think it provides quite enough background, but propose an alternative one:\n\nThe problem trying to be addressed is to avoid poisoning caches.\n\nIf the service is aware of the failure before sending any messages, then such a failure can be sent in the headers and be processed in normal HTTP-style. However, if the failure arrives in the trailers, after a body, there is no HTTP mechanism to avoid the cache, except by cutting the connection (which is RST_STREAM in HTTP/2, and a premature close in HTTP/1 when using Content-Length or chunking).\n\nAn option is to hoist the trailers into headers ourselves, which does require buffering, so that we can inform the cache what it's behavior should be.\n\nI think the main alternative is for the service author to make sure the chances of failing after sending a message is very low. For instance, by already having the response ready when sending headers. This could also work for streaming responses (say, search results), as long as the server already had the results ready and just used streaming to allow the client to read results as they were received (vs as they were computed). This may require us to enable strong (RST_STREAM) cancellation of RPCs on the server-side, if there are pathological cases. In that case, the client will just know there was a cancellation, but not know why.\n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/249056636",
    "html_url": "https://github.com/grpc/grpc/issues/8175#issuecomment-249056636",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8175",
    "id": 249056636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0OTA1NjYzNg==",
    "user": {
      "login": "makdharma",
      "id": 17325098,
      "node_id": "MDQ6VXNlcjE3MzI1MDk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/17325098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makdharma",
      "html_url": "https://github.com/makdharma",
      "followers_url": "https://api.github.com/users/makdharma/followers",
      "following_url": "https://api.github.com/users/makdharma/following{/other_user}",
      "gists_url": "https://api.github.com/users/makdharma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makdharma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makdharma/subscriptions",
      "organizations_url": "https://api.github.com/users/makdharma/orgs",
      "repos_url": "https://api.github.com/users/makdharma/repos",
      "events_url": "https://api.github.com/users/makdharma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makdharma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-22T23:24:16Z",
    "updated_at": "2016-09-22T23:24:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ctiller I was not aware of that. Java client does not do that per @ejona86 so needs work there.\n\nOn server side, @ejona86 said is correctly. We need the ability to buffer the response and merge trailers into headers. \n"
  },
  {
    "url": "https://api.github.com/repos/grpc/grpc/issues/comments/389345490",
    "html_url": "https://github.com/grpc/grpc/issues/8175#issuecomment-389345490",
    "issue_url": "https://api.github.com/repos/grpc/grpc/issues/8175",
    "id": 389345490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTM0NTQ5MA==",
    "user": {
      "login": "srini100",
      "id": 35056280,
      "node_id": "MDQ6VXNlcjM1MDU2Mjgw",
      "avatar_url": "https://avatars2.githubusercontent.com/u/35056280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srini100",
      "html_url": "https://github.com/srini100",
      "followers_url": "https://api.github.com/users/srini100/followers",
      "following_url": "https://api.github.com/users/srini100/following{/other_user}",
      "gists_url": "https://api.github.com/users/srini100/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srini100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srini100/subscriptions",
      "organizations_url": "https://api.github.com/users/srini100/orgs",
      "repos_url": "https://api.github.com/users/srini100/repos",
      "events_url": "https://api.github.com/users/srini100/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srini100/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-15T23:23:32Z",
    "updated_at": "2018-05-15T23:23:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing. Reopen in java repo if it java client side needs work."
  }
]
